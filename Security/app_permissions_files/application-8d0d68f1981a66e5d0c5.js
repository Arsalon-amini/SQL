!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/pks/",n(n.s=665)}([function(e,t,n){"use strict";e.exports=n(355)},function(e,t,n){"use strict";(function(e){var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0}),t.upperCaseFirst=t.isBlank=t.eachDataTransferFile=t.default=void 0;var o="function"==typeof Symbol&&"symbol"===r(Symbol.iterator)?function(e){return void 0===e?"undefined":r(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":void 0===e?"undefined":r(e)},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(354)),s=c(n(72)),l=c(n(2));function c(e){return e&&e.__esModule?e:{default:e}}var u=function(){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t)}return i(t,null,[{key:"toClassStr",value:function(e){return e.join(" ").replace(/\s+/g," ").trim()}},{key:"toKebobCase",value:function(e){return e.split(" ").join("-").toLowerCase()}},{key:"getLocationParts",value:function(e){return{href:e.href,host:e.host,hostname:e.hostname,port:e.port,pathname:e.pathname,protocol:e.protocol,hash:e.hash,search:e.search}}},{key:"getLocationPartsFromString",value:function(e){var t=document.createElement("a");return t.href=e,this.getLocationParts(t)}},{key:"getMeta",value:function(e){for(var t=document.getElementsByTagName("meta"),n=0;n<t.length;n++)if(t[n].getAttribute("name")===e)return t[n].getAttribute("content");return""}},{key:"getQueryValue",value:function(e,t){for(var n,r=new RegExp("(?:\\?|&)"+t+"=(.*?)(?=&|$)","gi"),o=[],i=this.getLocationPartsFromString(e);null!==(n=r.exec(i.search));)o.push(n[1]);return o}},{key:"getQueryParam",value:function(e,t){t=t.replace(/[*+?^$.\[\]{}()|\\\/]/g,"\\$&");var n=e.match(new RegExp("[?&]"+t+"=([^&]+)(&|$)"));return n&&decodeURIComponent(n[1].replace(/\+/g," "))}},{key:"getHostName",value:function(e){return e.split("/")[2]}},{key:"isValidUrl",value:function(e){return/(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?/.test(e)}},{key:"parseYouTubeUrl",value:function(e){if(!this.isValidUrl(e))return{isValidUrl:!1};var t=this.getLocationPartsFromString(e),n=t.hostname;if(-1==n.indexOf("youtube.com")&&-1==n.indexOf("youtu.be"))return{isValidUrl:!1};if(-1!=e.indexOf("/playlist?")){var r=this.getQueryValue(e,"list");if(r)return{isValidUrl:!0,url:"https://www.youtube.com/embed/videoseries?list="+r,type:"embed"}}if(-1!=e.indexOf("/embed/videoseries?")){var o=this.getQueryValue(e,"list");if(o)return{isValidUrl:!0,url:"https://www.youtube.com/embed/videoseries?list="+o,type:"embed"}}var i=e.indexOf("/embed/");if(-1!=i)return{isValidUrl:!0,url:"https://www.youtube.com/embed/"+e.substr(i+7),type:"embed"};if(-1!=t.pathname.indexOf("watch")){var a=this.getQueryValue(e,"v");if(a)return{isValidUrl:!0,url:"https://www.youtube.com/embed/"+a,type:"embed"}}return{isValidUrl:!0,url:e,type:"link"}}},{key:"navigate",value:function(e,t){l.default.emitEvent("page-loading-overlay:open",{message:t||""}),location.href=e}},{key:"openInNewTab",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"_blank";window.open(e,t)}},{key:"handleError",value:function(e){console.log("Something went wrong with "+e.operation+". errorMessage, errorObj:",e.errorMessage,e.errorObj);var t="Operation: "+(e.operation||"")+", Message: "+e.errorMessage||"";s.default.publish("error:msg",{msg:t},!0),e.notifyUser&&l.default.emitEvent("error-modal:open",{errorMessage:e.errorMessage||"There was an error"})}},{key:"openPageLoadingOverlay",value:function(e){l.default.emitEvent("page-loading-overlay:open",{message:e||""})}},{key:"closePageLoadingOverlay",value:function(){l.default.emitEvent("page-loading-overlay:close",{})}},{key:"isValidEmail",value:function(e){return/\S+@\S+\.\S+/.test(e)}},{key:"isBlank",value:function(e){return!e||""==e.trim()}},{key:"isAlphanumeric",value:function(e){return/^[0-9a-zA-Z]+$/.test(e)}},{key:"isWhitespace",value:function(e){return!(e&&e.trim())}},{key:"appendQueryParam",value:function(e,t,n){return e+(e.split("?")[1]?"&":"?")+t+"="+n}},{key:"getMasteryLevel",value:function(e){return 0==e?0:Math.floor(e/25)+1}},{key:"isInternetExplorer",value:function(){return"Microsoft Internet Explorer"==navigator.appName||!(!navigator.userAgent.match(/Trident/)&&!navigator.userAgent.match(/rv:11/))||void 0!==e.browser&&1==e.browser.msie}},{key:"trackModalPageview",value:function(e,t){var n=location.pathname;n+=location.search?location.search+"&":"?",n+=e+"="+t,ga("set","page",n),ga("send","pageview")}},{key:"trackPaywallWarning",value:function(e){t.trackModalPageview("paywall_warning",e),s.default.publish("web:paywall:warning",{name:e},!0)}},{key:"trackStudyProgress",value:function(e){t.trackModalPageview("study_progress",e),s.default.publish("web:study:progress",{name:e},!0)}},{key:"trackDashboardProgress",value:function(e){t.trackModalPageview("dashboard_progress",e),s.default.publish("web:dashboard:progress",{name:e},!0)}},{key:"setGaDimension",value:function(e,t){BSC.gaDimensions.push({dimension:e,dimension_value:t})}},{key:"fireGaEvent",value:function(){var e=arguments[0],n=arguments[1],r={hitType:"event",eventCategory:e,eventAction:n};void 0!==arguments[2]&&(r.eventLabel=arguments[2]),void 0!==arguments[3]&&(r.eventValue=arguments[3]),void 0!==arguments[4]&&(r.nonInteraction=arguments[4]),t.isVisitor()&&(r.anonymizeIp=!0);try{window.ga("send",r),console.log("In Util.fireGaEvent. Fired event:",{category:e,action:n})}catch(e){console.log("Error firing GA event.")}}},{key:"fireGaEventNi",value:function(){var e=arguments[0],n=arguments[1],r={hitType:"event",eventCategory:e,eventAction:n,nonInteraction:!0};void 0!==arguments[2]&&(r.eventLabel=arguments[2]),void 0!==arguments[3]&&(r.eventValue=arguments[3]),void 0!==arguments[4]&&(r.nonInteraction=arguments[4]),t.isVisitor()&&(r.anonymizeIp=!0);try{window.ga("send",r),console.log("In Util.fireGaEventNi. Fired event:",{category:e,action:n})}catch(e){console.log("Error firing GA event.")}}},{key:"getGaPageParams",value:function(){var e;if(BSC.gaDimensions.length)if(window.ga&&ga.loaded)for(t.anonymizeVisitorTraffic(),e=0;e<BSC.gaDimensions.length;e++)ga("set",BSC.gaDimensions[e].dimension,BSC.gaDimensions[e].dimension_value);else console.log("ga not loaded");if(void 0!==BSC.gaPageUrl&&(window.ga&&ga.loaded?(t.anonymizeVisitorTraffic(),ga("set","page",BSC.gaPageUrl)):console.log("ga not loaded")),window.ga&&ga.loaded){var n={};t.isVisitor()&&(n.anonymizeIp=!0),ga("require","displayfeatures"),ga("send","pageview",n)}else console.log("ga not loaded")}},{key:"isVisitor",value:function(){return void 0===window.data||void 0===window.data.user_id}},{key:"anonymizeVisitorTraffic",value:function(){var e=t.isVisitor();return window.ga("set","anonymizeIp",e)}},{key:"followUrlDelayed",value:function(e){setTimeout(function(){document.location.href=e},100)}},{key:"debounce",value:function(e,t,n){var r;return function(){var o=this,i=arguments,a=n&&!r;clearTimeout(r),r=setTimeout(function(){r=null,n||e.apply(o,i)},t),a&&e.apply(o,i)}}},{key:"onLinger",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:500,r=void 0;e.addEventListener("mouseenter",function(o){r=setTimeout(function(){t(o),clearTimeout(r)},n),e.addEventListener("mouseleave",function(e){clearTimeout(r)})})}},{key:"adjustViewportHeight",value:function(){var e=.01*window.innerHeight;document.documentElement.style.setProperty("--vh",e+"px")}},{key:"detectIfMobileSize",value:function(){var e=Math.max(document.documentElement.clientWidth,window.innerWidth||0),t=Math.max(document.documentElement.clientHeight,window.innerHeight||0),n=!1;return e<=1024&&t>e&&(n=!0),e<=942&&(n=!0),n}},{key:"simpleFormat",value:function(t){return t=t.replace(/\r\n?/,"\n"),(t=e.trim(t)).length>0&&(t="<p>"+(t=(t=t.replace(/\n\n+/g,"</p><p>")).replace(/\n/g,"<br />"))+"</p>"),t}},{key:"msToClockTime",value:function(e){var t=(e/1e3).toFixed(0),n=Math.floor(t/60),r="";return n>59&&(n=(n-=60*(r=(r=Math.floor(n/60))>=10?r:"0"+r))>=10?n:"0"+n),t=(t=Math.floor(t%60))>=10?t:"0"+t,""!=r?r+":"+n+":"+t:n+":"+t}},{key:"msToNarrativeTime",value:function(e){var t,n=(e/1e3).toFixed(0),r=Math.floor(n/60);return n<=59?n+(1==n?" second":" seconds"):r<=59?r+(1==r?" minute":" minutes"):0==(r-=60*(t=Math.floor(r/60)))?t+(1==t&&0==r?" hour":" hours"):(t+r/60).toFixed(1)+" hours"}},{key:"percentageStr",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return((e*Math.pow(10,2+t)).toString().split(".",1)[0]/Math.pow(10,t)).toFixed(t)}},{key:"sign",value:function(e){return e>0?1:e<0?-1:0}},{key:"displayNumber",value:function(e){return Math.abs(e)<1e3?e:Math.abs(e)<5e3?e.toLocaleString():Math.abs(e)<1e6?t.sign(e)*(Math.abs(e)/1e3).toFixed(1)+"k":t.sign(e)*(Math.abs(e)/1e6).toFixed(1)+"m"}},{key:"getCookie",value:function(e){return a.get(e)}},{key:"setCookie",value:function(e,t,n,r){var o={};n&&(o.expires=n),r&&(o.path=r),a.set(e,t,o)}},{key:"removeCookie",value:function(e,t){var n={};t&&(n.path=t),a.remove(e,n)}},{key:"initSmartBanner",value:function(){e(function(){e.smartbanner({title:"Brainscape",author:"Brainscape",price:"FREE",inGooglePlay:"In Google Play",button:"VIEW",daysHidden:0,daysReminder:90,hideOnInstall:!0,layer:!0})})}},{key:"generatePackDeckList",value:function(e,t){return t.reduce(function(t,n){return t.push(e+"-"+n),t},[]).toString()}},{key:"isObject",value:function(e){return"object"===(void 0===e?"undefined":o(e))&&!Array.isArray(e)&&null!==e}}]),t}();t.default=u,t.eachDataTransferFile=function(e,t){if(e.dataTransfer.items)for(var n=e.dataTransfer.items,r=0;r<n.length;r++){var o=n[r];"file"!==o.kind&&next,t(o.getAsFile())}else for(var i=e.dataTransfer.files,a=0;a<i.length;a++)t(i[a])},t.isBlank=function(e){return!e||void 0!==e.trim&&""===e.trim()},t.upperCaseFirst=function(e){var t=function(e){return Array.isArray(e)?e:Array.from(e)}(e),n=t[0],r=t.slice(1),o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:navigator.language;return[n.toLocaleUpperCase(o)].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(r)).join("")}}).call(t,n(9))},function(e,t,n){window,e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";n.r(t);var r=null;try{r=n(!function(){var e=new Error("Cannot find module 'react-native'");throw e.code="MODULE_NOT_FOUND",e}()).InteractionManager.runAfterInteractions}catch(e){}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}r||(r=function(e){return setTimeout(e,0)}),n.d(t,"default",function(){return l});var a=new Map,s=new Map,l=function(){var e,t;function n(){var e=this;!function(e,t){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this),i(this,"disable",function(){e.enabled=!1,e.removeListenerFromAll(),e.timers.forEach(clearTimeout),e.timers.clear(),e.intervals.forEach(clearInterval),e.intervals.clear()}),i(this,"ifEnabled",function(t){e.enabled&&t()}),i(this,"addListener",function(t,n){var r=a.get(t);r||(r=[],a.set(t,r)),r.push({manager:e,key:t,callback:n});var o=s.get(e);o||(o=[],s.set(e,o)),o.push(t)}),i(this,"addListeners",function(t){t.forEach(function(t){var n=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),2!==n.length);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}(t),r=n[0],o=n[1];return e.addListener(r,o)})}),i(this,"removeListener",function(t){var n=a.get(t);n&&a.set(t,n.filter(function(t){return t.manager!=e}));var r=s.get(e);r&&s.set(e,r.filter(function(e){return e!=t}))}),i(this,"removeListenerFromAll",function(){var t=s.get(e);s.delete(e),t&&t.length>0&&t.forEach(function(t){return e.removeListener(t)})}),i(this,"afterInteractions",function(t){r(function(){return e.ifEnabled(t)})}),i(this,"onTimeout",function(t,n,r){if(e.clearTimeout(t),!r)return null;var o=setTimeout(e.ifEnabled,n,r);return e.timers.set(t,o),o}),i(this,"clearTimeout",function(t){var n=e.timers;n.has(t)&&(clearTimeout(n.get(t)),n.delete(t))}),i(this,"onInterval",function(t,n,r){if(e.clearInterval(t),!r)return null;var o=setInterval(e.ifEnabled,n,r);return e.intervals.set(t,o),o}),i(this,"clearInterval",function(t){var n=e.intervals;n.has(t)&&(clearInterval(n.get(t)),n.delete(t))}),this.enabled=!0,this.timers=new Map,this.intervals=new Map}return e=n,(t=[{key:"emitEvent",value:function(e,t){var n=a.get(e);!n||n.length<1||n.forEach(function(n){var r=n.manager,o=n.callback;try{r.ifEnabled(function(){return o(t,e)})}catch(e){console.log("-- error: ",e)}})}}])&&o(e,t),n}()}])},function(e,t,n){e.exports=n(360)()},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0}),t.LargeCtaButton=t.default=void 0;var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=c(n(3)),a=c(n(0)),s=c(n(12)),l=c(n(1));function c(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":r(t))&&"function"!=typeof t?e:t}function p(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var f={addClasses:i.default.string,id:i.default.node,isDisabled:i.default.bool,isProcessing:i.default.bool,label:i.default.string,onBlur:i.default.func,onClick:i.default.func,onFocus:i.default.func,onKeyDown:i.default.func,tabIndex:i.default.node,title:i.default.string,type:i.default.string},h=function(e){function t(e){u(this,t);var n=d(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return Object.defineProperty(n,"handleClick",{enumerable:!0,writable:!0,value:function(e){e.stopPropagation(),n.props.onClick&&!n.props.isDisabled&&n.props.onClick()}}),Object.defineProperty(n,"handleBlur",{enumerable:!0,writable:!0,value:function(e){n.setState({hasFocus:!1}),n.props.onBlur&&n.props.onBlur(e)}}),Object.defineProperty(n,"handleFocus",{enumerable:!0,writable:!0,value:function(e){n.setState({hasFocus:!0}),n.props.onFocus&&n.props.onFocus(e)}}),Object.defineProperty(n,"handleKeyDown",{enumerable:!0,writable:!0,value:function(e){n.props.onKeyDown&&n.props.onKeyDown(e)}}),Object.defineProperty(n,"focus",{enumerable:!0,writable:!0,value:function(){n.pillButton&&n.pillButton.focus()}}),n.state={hasFocus:!1},n.pillButton=null,n}return p(t,a.default.Component),o(t,[{key:"render",value:function(){var e=this,t=this.props.isProcessing?"is-processing":"",n=this.props.isDisabled?"is-disabled":"",r=this.state.hasFocus?"has-focus":"",o=l.default.toClassStr(["pill-button",this.props.type,t,n,r,this.props.addClasses]);return a.default.createElement("div",{className:o,id:this.props.id,label:this.props.label,onBlur:this.handleBlur,onClick:this.handleClick,onFocus:this.handleFocus,onKeyDown:this.handleKeyDown,ref:function(t){e.pillButton=t},tabIndex:this.props.tabIndex,title:this.props.title},a.default.createElement("span",{className:"label"},this.props.label),this.renderSpinner())}},{key:"renderSpinner",value:function(){return this.props.isProcessing?a.default.createElement(s.default,null):null}}]),t}(),m=function(e){function t(){return u(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return p(t,a.default.Component),o(t,[{key:"render",value:function(){var e=this,t=l.default.toClassStr(["large-cta-button",this.props.addClasses]);return a.default.createElement(h,{addClasses:t,isProcessing:this.props.isProcessing,label:this.props.label,onClick:function(){return e.props.onClick()},title:this.props.title,type:this.props.type})}}]),t}();h.propTypes=f,t.default=h,t.LargeCtaButton=m},function(e,t,n){(function(r){var o,i;o=[n(55),n(14),n(315),n(68),n(234),n(235),n(99),n(67),n(236),n(98),n(237),n(316),n(36),n(11),n(56),n(238),n(41)],void 0===(i=function(e,t,n,r,o,i,a,s,l,c,u,d,p,f,h,m,g){"use strict";var b=function(e,t){return new b.fn.init(e,t)},v=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;function y(e){var t=!!e&&"length"in e&&e.length,n=g(e);return!f(e)&&!h(e)&&("array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e)}return b.fn=b.prototype={jquery:"3.4.1",constructor:b,length:0,toArray:function(){return r.call(this)},get:function(e){return null==e?r.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=b.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return b.each(this,e)},map:function(e){return this.pushStack(b.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(r.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:i,sort:e.sort,splice:e.splice},b.extend=b.fn.extend=function(){var e,t,n,r,o,i,a=arguments[0]||{},s=1,l=arguments.length,c=!1;for("boolean"==typeof a&&(c=a,a=arguments[s]||{},s++),"object"==typeof a||f(a)||(a={}),s===l&&(a=this,s--);s<l;s++)if(null!=(e=arguments[s]))for(t in e)r=e[t],"__proto__"!==t&&a!==r&&(c&&r&&(b.isPlainObject(r)||(o=Array.isArray(r)))?(n=a[t],i=o&&!Array.isArray(n)?[]:o||b.isPlainObject(n)?n:{},o=!1,a[t]=b.extend(c,i,r)):void 0!==r&&(a[t]=r));return a},b.extend({expando:"jQuery"+("3.4.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,r;return!(!e||"[object Object]"!==l.call(e))&&(!(t=n(e))||"function"==typeof(r=c.call(t,"constructor")&&t.constructor)&&u.call(r)===d)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e,t){m(e,{nonce:t&&t.nonce})},each:function(e,t){var n,r=0;if(y(e))for(n=e.length;r<n&&!1!==t.call(e[r],r,e[r]);r++);else for(r in e)if(!1===t.call(e[r],r,e[r]))break;return e},trim:function(e){return null==e?"":(e+"").replace(v,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(y(Object(e))?b.merge(n,"string"==typeof e?[e]:e):i.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:a.call(t,e,n)},merge:function(e,t){for(var n=+t.length,r=0,o=e.length;r<n;r++)e[o++]=t[r];return e.length=o,e},grep:function(e,t,n){for(var r=[],o=0,i=e.length,a=!n;o<i;o++)!t(e[o],o)!==a&&r.push(e[o]);return r},map:function(e,t,n){var r,i,a=0,s=[];if(y(e))for(r=e.length;a<r;a++)null!=(i=t(e[a],a,n))&&s.push(i);else for(a in e)null!=(i=t(e[a],a,n))&&s.push(i);return o.apply([],s)},guid:1,support:p}),"function"==typeof Symbol&&(b.fn[Symbol.iterator]=e[Symbol.iterator]),b.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){s["[object "+t+"]"]=t.toLowerCase()}),b}.apply(t,o))||(e.exports=i)}).call(t,n(9))},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0}),t.modalCount=t.default=void 0;var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=d(n(2)),a=d(n(3)),s=d(n(0)),l=d(n(46)),c=d(n(1)),u=n(7);function d(e){return e&&e.__esModule?e:{default:e}}var p={addClasses:a.default.string,isOpen:a.default.bool.isRequired,isUndismissable:a.default.bool,onClosed:a.default.func,onCloseRequest:a.default.func,size:a.default.string,shouldIgnoreOverlayClick:a.default.bool},f=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":r(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return Object.defineProperty(n,"handleCloseButtonClick",{enumerable:!0,writable:!0,value:function(){return n.handleCloseRequest()}}),Object.defineProperty(n,"handleCloseRequest",{enumerable:!0,writable:!0,value:function(){if(n.props.isUndismissable)return!1;n.props.onCloseRequest()}}),Object.defineProperty(n,"handleKeyDown",{enumerable:!0,writable:!0,value:function(e){if(27===e.keyCode)return n.events.ifEnabled(n.handleCloseRequest),!0}}),Object.defineProperty(n,"handleModalBodyClick",{enumerable:!0,writable:!0,value:function(e){e&&e.stopPropagation()}}),Object.defineProperty(n,"handleOverlayClick",{enumerable:!0,writable:!0,value:function(e){if(e.stopPropagation(),n.props.shouldIgnoreOverlayClick)return!1;n.handleCloseRequest()}}),Object.defineProperty(n,"handleTransitionedOut",{enumerable:!0,writable:!0,value:function(){var e=n.props.onClosed?n.props.onClosed:null;n.setState({shouldRender:!1},e)}}),Object.defineProperty(n,"adjustViewportHeight",{enumerable:!0,writable:!0,value:function(){var e=.01*window.innerHeight;document.documentElement.style.setProperty("--vh",e+"px")}}),n.state={shouldRender:n.props.isOpen},n.events=new i.default,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.default.Component),o(t,[{key:"componentDidMount",value:function(){c.default.adjustViewportHeight(),this.props.isOpen&&(h+=1),document.addEventListener("keydown",this.handleKeyDown,!1)}},{key:"componentDidUpdate",value:function(e){!e.isOpen&&this.props.isOpen&&this.setState({shouldRender:!0}),e.isOpen!=this.props.isOpen&&(h+=this.props.isOpen?1:-1)}},{key:"componentWillUnmount",value:function(){this.events.disable(),this.props.isOpen&&(h-=1),document.removeEventListener("keydown",this.handleKeyDown,!1)}},{key:"render",value:function(){var e=this;if(!this.state.shouldRender)return null;var t=c.default.toClassStr(["new-modal",this.props.size,this.props.addClasses]);return s.default.createElement(l.default,{addClasses:"new-modal-transition-wrapper",onTransitionedOut:function(){return e.handleTransitionedOut()},shouldTransitionIn:this.props.isOpen,shouldTransitionOut:!this.props.isOpen,transitionInDelay:100,transitionInDuration:500,transitionOutDuration:500},s.default.createElement("div",{className:t},s.default.createElement("div",{className:"new-modal-overlay",onClick:function(t){return e.handleOverlayClick(t)}}),s.default.createElement("div",{className:"new-modal-body",onClick:function(t){return e.handleModalBodyClick(t)}},s.default.createElement("div",{className:"mobile-branding"},"Brainscape"),this.renderCloseButton(),s.default.createElement("div",{className:"new-modal-content"},this.props.children))))}},{key:"renderCloseButton",value:function(){var e=this;return this.props.isUndismissable?null:s.default.createElement(u.CloseButton,{addClasses:"close-modal-button",onClick:function(){return e.handleCloseButtonClick()}})}}]),t}();f.propTypes=p;var h=0;t.default=f,t.modalCount=function(){return h}},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0}),t.UnlockButton=t.SuggestionButton=t.StudyButton=t.ShowButton=t.ShareButton=t.SearchButton=t.RevealButtom=t.ReorderButton=t.PlayButton=t.PauseButton=t.MoneyButton=t.MenuButton=t.MailButton=t.LockButton=t.InfoButton=t.ImportButton=t.HideButton=t.ExportButton=t.ExpandButton=t.EditButton=t.DismissButton=t.ContractButton=t.CollapseDownButton=t.CollapseButton=t.CloseButton=t.ClearButton=t.BrowseButton=t.BackButton=t.AddButton=t.default=void 0;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=c(n(0)),s=c(n(12)),l=c(n(1));function c(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":r(t))&&"function"!=typeof t?e:t}function p(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var f=function(e){function t(){var e,n,r;u(this,t);for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];return n=r=d(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),Object.defineProperty(r,"handleButtonClick",{enumerable:!0,writable:!0,value:function(e){e&&!r.props.shouldAllowClickPropagation&&e.stopPropagation(),r.props.onClick&&!r.props.isDisabled&&r.props.onClick(e)}}),d(r,n)}return p(t,a.default.Component),i(t,[{key:"render",value:function(){var e=l.default.toClassStr(["icon-button",this.props.buttonClass,this.props.addClasses,this.props.isProcessing?"is-processing":"",this.props.isDisabled?"is-disabled":""]);return a.default.createElement("div",{className:e,onClick:this.handleButtonClick,title:this.props.title},a.default.createElement("i",{className:this.props.iconClass}),this.renderSpinner())}},{key:"renderSpinner",value:function(){return this.props.isProcessing?a.default.createElement(s.default,null):null}}]),t}(),h=function(e){function t(){return u(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return p(t,a.default.Component),i(t,[{key:"render",value:function(){return a.default.createElement(f,o({},this.props,{buttonClass:"add-button",iconClass:"ion-ios-plus-empty"}))}}]),t}(),m=function(e){function t(){return u(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return p(t,a.default.Component),i(t,[{key:"render",value:function(){return a.default.createElement(f,o({},this.props,{buttonClass:"back-button",iconClass:"ion-ios-arrow-left"}))}}]),t}(),g=function(e){function t(){return u(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return p(t,a.default.Component),i(t,[{key:"render",value:function(){return a.default.createElement(f,o({},this.props,{buttonClass:"browse-button",iconClass:"ion-ios-glasses-outline"}))}}]),t}(),b=function(e){function t(){return u(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return p(t,a.default.Component),i(t,[{key:"render",value:function(){return a.default.createElement(f,o({},this.props,{buttonClass:"clear-button",iconClass:"ion-ios-close"}))}}]),t}(),v=function(e){function t(){return u(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return p(t,a.default.Component),i(t,[{key:"render",value:function(){return a.default.createElement(f,o({},this.props,{buttonClass:"close-button",iconClass:"ion-ios-close-empty"}))}}]),t}(),y=function(e){function t(){return u(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return p(t,a.default.Component),i(t,[{key:"render",value:function(){return a.default.createElement(f,o({},this.props,{buttonClass:"collapse-button",iconClass:"ion-ios-arrow-up"}))}}]),t}(),k=function(e){function t(){return u(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return p(t,a.default.Component),i(t,[{key:"render",value:function(){return a.default.createElement(f,o({},this.props,{buttonClass:"collapse-button",iconClass:"ion-ios-arrow-down"}))}}]),t}(),_=function(e){function t(){return u(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return p(t,a.default.Component),i(t,[{key:"render",value:function(){return a.default.createElement(f,o({},this.props,{buttonClass:"contract-button",iconClass:"ion-android-contract"}))}}]),t}(),w=function(e){function t(){return u(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return p(t,a.default.Component),i(t,[{key:"render",value:function(){return a.default.createElement(f,o({},this.props,{buttonClass:"dismiss-button",iconClass:"ion-ios-close-empty"}))}}]),t}(),C=function(e){function t(){return u(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return p(t,a.default.Component),i(t,[{key:"render",value:function(){return a.default.createElement(f,o({},this.props,{buttonClass:"edit-button",iconClass:"ion-edit"}))}}]),t}(),S=function(e){function t(){return u(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return p(t,a.default.Component),i(t,[{key:"render",value:function(){return a.default.createElement(f,o({},this.props,{buttonClass:"expand-button",iconClass:"ion-android-expand"}))}}]),t}(),P=function(e){function t(){return u(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return p(t,a.default.Component),i(t,[{key:"render",value:function(){return a.default.createElement(f,o({},this.props,{buttonClass:"export-button",iconClass:"ion-ios-upload-outline"}))}}]),t}(),E=(function(e){function t(){return u(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}p(t,a.default.Component),i(t,[{key:"render",value:function(){return a.default.createElement(f,o({},this.props,{buttonClass:"forward-button",iconClass:"ion-ios-arrow-right"}))}}])}(),function(e){function t(){return u(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return p(t,a.default.Component),i(t,[{key:"render",value:function(){return a.default.createElement(f,o({},this.props,{buttonClass:"hide-button",iconClass:"ion-eye-disabled"}))}}]),t}()),x=function(e){function t(){return u(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return p(t,a.default.Component),i(t,[{key:"render",value:function(){return a.default.createElement(f,o({},this.props,{buttonClass:"import-button",iconClass:"ion-ios-download-outline"}))}}]),t}(),O=function(e){function t(){return u(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return p(t,a.default.Component),i(t,[{key:"render",value:function(){return a.default.createElement(f,o({},this.props,{buttonClass:"info-button",iconClass:"ion-ios-information-outline"}))}}]),t}(),T=function(e){function t(){return u(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return p(t,a.default.Component),i(t,[{key:"render",value:function(){return a.default.createElement(f,o({},this.props,{buttonClass:"lock-button",iconClass:"ion-ios-locked-outline"}))}}]),t}(),M=function(e){function t(){return u(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return p(t,a.default.Component),i(t,[{key:"render",value:function(){return a.default.createElement(f,o({},this.props,{buttonClass:"mail-button",iconClass:"ion-ios-email"}))}}]),t}(),A=function(e){function t(){return u(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return p(t,a.default.Component),i(t,[{key:"render",value:function(){return a.default.createElement(f,o({},this.props,{buttonClass:"menu-button",iconClass:"ion-arrow-down-b"}))}}]),t}(),j=function(e){function t(){return u(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return p(t,a.default.Component),i(t,[{key:"render",value:function(){return a.default.createElement(f,o({},this.props,{buttonClass:"money-button",iconClass:"ion-social-usd"}))}}]),t}(),I=function(e){function t(){return u(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return p(t,a.default.Component),i(t,[{key:"render",value:function(){return a.default.createElement(f,o({},this.props,{buttonClass:"pause-button",iconClass:"ion-ios-pause"}))}}]),t}(),N=function(e){function t(){return u(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return p(t,a.default.Component),i(t,[{key:"render",value:function(){return a.default.createElement(f,o({},this.props,{buttonClass:"play-button",iconClass:"ion-ios-play"}))}}]),t}(),R=function(e){function t(){return u(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return p(t,a.default.Component),i(t,[{key:"render",value:function(){return a.default.createElement(f,o({},this.props,{buttonClass:"reorder-button",iconClass:"ion-ios-shuffle"}))}}]),t}(),D=function(e){function t(){return u(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return p(t,a.default.Component),i(t,[{key:"render",value:function(){return a.default.createElement(f,o({},this.props,{buttonClass:"collapse-button",iconClass:"ion-ios-arrow-down"}))}}]),t}(),L=function(e){function t(){return u(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return p(t,a.default.Component),i(t,[{key:"render",value:function(){return a.default.createElement(f,o({},this.props,{buttonClass:"search-button",iconClass:"ion-ios-search"}))}}]),t}(),B=function(e){function t(){return u(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return p(t,a.default.Component),i(t,[{key:"render",value:function(){return a.default.createElement(f,o({},this.props,{buttonClass:"share-button",iconClass:"ion-android-share-alt"}))}}]),t}(),F=function(e){function t(){return u(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return p(t,a.default.Component),i(t,[{key:"render",value:function(){return a.default.createElement(f,o({},this.props,{buttonClass:"show-button",iconClass:"ion-eye"}))}}]),t}(),U=function(e){function t(){return u(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return p(t,a.default.Component),i(t,[{key:"render",value:function(){return a.default.createElement(f,o({},this.props,{buttonClass:"study-button",iconClass:"ion-ios-play"}))}}]),t}(),q=function(e){function t(){return u(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return p(t,a.default.Component),i(t,[{key:"render",value:function(){return a.default.createElement(f,o({},this.props,{buttonClass:"suggestion-button",iconClass:"ion-ios-medical"}))}}]),t}(),z=function(e){function t(){return u(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return p(t,a.default.Component),i(t,[{key:"render",value:function(){return a.default.createElement(f,o({},this.props,{buttonClass:"unlock-button",iconClass:"ion-ios-unlocked-outline"}))}}]),t}();t.default=f,t.AddButton=h,t.BackButton=m,t.BrowseButton=g,t.ClearButton=b,t.CloseButton=v,t.CollapseButton=y,t.CollapseDownButton=k,t.ContractButton=_,t.DismissButton=w,t.EditButton=C,t.ExpandButton=S,t.ExportButton=P,t.HideButton=E,t.ImportButton=x,t.InfoButton=O,t.LockButton=T,t.MailButton=M,t.MenuButton=A,t.MoneyButton=j,t.PauseButton=I,t.PlayButton=N,t.ReorderButton=R,t.RevealButtom=D,t.SearchButton=L,t.ShareButton=B,t.ShowButton=F,t.StudyButton=U,t.SuggestionButton=q,t.UnlockButton=z},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=l(n(0)),a=l(n(12)),s=l(n(1));function l(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":r(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={},n._isMounted=!1,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default.Component),o(t,[{key:"componentDidMount",value:function(){this._isMounted=!0}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"render",value:function(){var e=this,t=this.props.isDisabled?"is-disabled":"",n=this.props.isProcessing?"is-processing":"",r=s.default.toClassStr(["simple-text-button",this.props.addClasses,t,n]);return i.default.createElement("div",{className:r,onClick:function(t){return e.handleButtonClick(t)},title:this.props.title},i.default.createElement("span",{className:"button-label"},this.props.label),this.renderSpinner())}},{key:"renderSpinner",value:function(){return this.props.isProcessing?i.default.createElement(a.default,{color:this.props.spinnerColor}):null}},{key:"handleButtonClick",value:function(e){e.stopPropagation(),this.props.onClick&&this.props.onClick(e)}},{key:"handleButtonClick",value:function(e){if(e&&e.stopPropagation(),this.props.isDisabled||this.props.isProcessing)return!1;this.props.onClick&&this.props.onClick()}}]),t}();t.default=c,e.exports=t.default},function(e,t,n){var r,o;r=[n(5),n(16),n(43),n(104),n(42),n(323),n(248),n(324),n(106),n(325),n(329),n(44),n(333),n(71),n(335),n(338),n(54),n(339),n(261),n(45),n(340),n(341),n(342),n(343),n(346),n(107),n(347),n(348),n(349),n(350),n(352),n(353)],void 0===(o=function(e){"use strict";return e}.apply(t,r))||(e.exports=o)},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=l(n(3)),a=l(n(0)),s=l(n(1));function l(e){return e&&e.__esModule?e:{default:e}}var c={addClasses:i.default.string,buttons:i.default.node,caption:i.default.string,charLimit:i.default.number,descriptor:i.default.string,hasInitialFocus:i.default.bool,hasInitialSelection:i.default.bool,id:i.default.node,isInvalid:i.default.bool,isReadOnly:i.default.bool,label:i.default.string,name:i.default.string,onBlur:i.default.func,onChange:i.default.func,onOverCharLimitChange:i.default.func,onFocus:i.default.func,onKeyDown:i.default.func,placeholder:i.default.string,type:i.default.string,value:i.default.string},u=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":r(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return Object.defineProperty(n,"handleBlur",{enumerable:!0,writable:!0,value:function(e){n.setState({hasFocus:!1}),n.props.onBlur&&n.props.onBlur(e)}}),Object.defineProperty(n,"handleChange",{enumerable:!0,writable:!0,value:function(e){if(n.props.charLimit){var t=e.target.value?e.target.value.length:0,r=t>n.props.charLimit;r!=n.state.isOverCharLimit&&n.props.onOverCharLimitChange&&n.props.onOverCharLimitChange(r),n.setState({charCount:t,isOverCharLimit:r})}n.props.onChange&&n.props.onChange(e)}}),Object.defineProperty(n,"handleFocus",{enumerable:!0,writable:!0,value:function(e){n.setState({hasFocus:!0}),n.props.onFocus&&n.props.onFocus(e)}}),Object.defineProperty(n,"focus",{enumerable:!0,writable:!0,value:function(){n.input&&n.input.focus()}}),Object.defineProperty(n,"focusAndSelect",{enumerable:!0,writable:!0,value:function(){n.input&&(n.input.focus(),n.input.select())}}),n.input=null,n.state={charCount:n.props.value?n.props.value.length:0,hasFocus:!1,isOverCharLimit:!1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default.Component),o(t,[{key:"componentDidMount",value:function(){this.props.hasInitialFocus&&this.focus(),this.props.hasInitialSelection&&this.focusAndSelect()}},{key:"render",value:function(){var e=this.props.isInvalid?"is-invalid":"",t=this.props.charLimit&&this.props.charLimit-this.state.charCount<0?"is-over-char-limit":"",n=this.props.value?"has-content":"",r=this.state.hasFocus?"has-focus":"",o=s.default.toClassStr(["text-field",e,t,n,r,this.props.addClasses]);return a.default.createElement("div",{className:o},this.renderFieldLabel(),a.default.createElement("div",{className:"input-and-buttons"},this.renderInputOrTextareaField(),this.renderFieldDescriptor(),this.renderFieldButtons()),this.renderFieldCaption())}},{key:"renderFieldLabel",value:function(){return this.props.label?a.default.createElement("div",{className:"field-label"},this.props.label):null}},{key:"renderInputOrTextareaField",value:function(){return"textarea"==this.props.type?this.renderTextareaField():this.renderInputField()}},{key:"renderTextareaField",value:function(){var e=this;return a.default.createElement("textarea",{className:"textarea-input",name:this.props.name,id:this.props.id,placeholder:this.props.placeholder,readOnly:this.props.isReadOnly,ref:function(t){e.input=t},value:this.props.value,onBlur:this.handleBlur,onChange:this.handleChange,onFocus:this.handleFocus,onKeyDown:this.props.onKeyDown})}},{key:"renderInputField",value:function(){var e=this,t=this.props.type||"text",n="password"==t?"off":"";return a.default.createElement("input",{autoComplete:n,className:"text-input",name:this.props.name,id:this.props.id,placeholder:this.props.placeholder,readOnly:this.props.isReadOnly,ref:function(t){e.input=t},type:t,value:this.props.value,onBlur:this.handleBlur,onChange:this.handleChange,onFocus:this.handleFocus,onKeyDown:this.props.onKeyDown})}},{key:"renderFieldDescriptor",value:function(){return this.props.descriptor?a.default.createElement("div",{className:"field-descriptor"},this.props.descriptor):null}},{key:"renderFieldButtons",value:function(){return this.props.buttons?this.props.buttons:null}},{key:"renderFieldCaption",value:function(){return this.props.caption||this.props.charLimit?a.default.createElement("div",{className:"field-caption"},this.renderCaptionText(),this.renderLimitText()):null}},{key:"renderCaptionText",value:function(){return this.props.caption?a.default.createElement("span",{className:"caption-text"},this.props.caption):null}},{key:"renderLimitText",value:function(){if(!this.props.charLimit)return null;var e="("+this.state.charCount+" of "+this.props.charLimit+" char)";return a.default.createElement("span",{className:"limit-text"},e)}}]),t}();u.propTypes=c,t.default=u,e.exports=t.default},function(e,t,n){var r;void 0===(r=function(){"use strict";return function(e){return"function"==typeof e&&"number"!=typeof e.nodeType}}.call(t,n,t,e))||(e.exports=r)},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=s(n(0)),a=s(n(1));function s(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":r(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default.Component),o(t,[{key:"render",value:function(){var e=a.default.toClassStr(["spinner",this.props.color,this.props.addClasses]);return i.default.createElement("div",{className:e},i.default.createElement("div",{className:"spinner-wheel"}))}}]),t}();t.default=l,e.exports=t.default},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=l(n(0)),a=l(n(18)),s=l(n(1));function l(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":r(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={},n._isMounted=!1,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default.Component),o(t,[{key:"componentDidMount",value:function(){this._isMounted=!0}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"render",value:function(){var e=this.props.place||"bottom",t=this.props.label||"info-button-tooltip",n=s.default.toClassStr(["info-button-tooltip-wrapper",this.props.addClasses]);return i.default.createElement(a.default,{addClasses:n,label:t,place:e,tooltipContent:this.props.children},i.default.createElement("i",{className:"info-button-icon"}))}}]),t}();t.default=c,e.exports=t.default},function(e,t,n){var r;void 0===(r=function(){"use strict";return window.document}.call(t,n,t,e))||(e.exports=r)},function(e,t,n){"use strict";(function(r){var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0},s=n(21),l=u(n(25)),c=u(n(20));function u(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":o(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return Object.defineProperty(n,"learners",{enumerable:!0,writable:!0,value:function(e,t){return e?(0,s.apiGet)("packs/"+e+"/learners2",t).then(function(t){return n.library.syncPackLearners(e,t.learners),t}):Promise.reject("no pack ID specified")}}),Object.defineProperty(n,"leaderboard",{enumerable:!0,writable:!0,value:function(e,t){return e?(0,s.apiGet)("packs/"+e+"/leaderboard",t).then(function(t){return t.learners=t.users,t.learners.forEach(function(e){return e.medium=e.discoveryMedium}),n.library.syncPackLearners(e,t.learners),t}):Promise.reject("no pack ID specified")}}),Object.defineProperty(n,"fetchStatus",{enumerable:!0,writable:!0,value:function(e){return e.json().then(function(t){return e.ok?t:Promise.reject(t)})}}),Object.defineProperty(n,"poll",{enumerable:!0,writable:!0,value:function(e,t,n,r,o){var i=0;return new Promise(function a(s,l){e().then(function(e){return i++,t(e)?s(e):n(e)?l(new Error(e)):o&&i===o?l(new Error("Exceeded max attempts")):void setTimeout(a,r(i),s,l)})})}}),Object.defineProperty(n,"iconUploadJobStatus",{enumerable:!0,writable:!0,value:function(e){if(!e)return Promise.resolve("");var t="/api/jobs.json?id="+e,r={method:"GET"},o=[0,1,1,2,3,5,8,13,21,34,55,89,144,233,377];return n.poll(function(){return fetch(t,r).then(n.fetchStatus)},function(t){return"fulfilled"==t[e]},function(t){return"rejected"==t[e]},function(e){return 1e3*(o[e]||o[o.length-1])},10)}}),Object.defineProperty(n,"uploadIcon",{enumerable:!0,writable:!0,value:function(e,t){var r="/api/packs/"+e+"/icon",o=new FormData;return o.append("icon",t),fetch(r,{method:"POST",body:o}).then(n.fetchStatus).then(function(e){return{}==e?new Promise(function(e){return e("")}):n.iconUploadJobStatus(e.jobId)})}}),n.memberName="Pack",a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"generateNomenclature",n).call(n),n.schema={name:{key:"name",serverKey:"name",type:"text",label:"Name",caption:"(will display in your menu of classes)",tag:"name",isRequired:!0},fullName:{key:"fullName",serverKey:"full_name",type:"text",label:"Full Name",caption:"(will display in title bar when class is selected)",tag:"full-name"},desc:{key:"desc",serverKey:"desc",type:"textarea",label:"Description",tag:"desc"},isPrivate:{key:"isPrivate",serverKey:"is_private",type:"text",label:"Is Private",tag:"is-private",onlyPro:!0},mixType:{key:"mixType",serverKey:"mix_type",type:"radio",label:"Mix Type",tag:"mix-type",options:[{label:"Random",value:"random"},{label:"Progressive",value:"progressive"},{label:"None",value:"none"}]},categoryIds:{key:"categoryIds",serverKey:"categoryIds",type:"text",label:"Category ID",tag:"category-ids",onlyAdmin:!0}},n.nameKey="name",n.library=new l.default,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":o(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,c.default),i(t,[{key:"index",value:function(e){var t=this.buildUrl(this.getResourceUrlBase(),e.params);return r.ajax({type:"GET",url:t}).done(function(t,n){e.done(t)}).fail(function(t,n){e.fail(n,t.responseJSON||{})})}},{key:"show",value:function(e){var t=this,n=this.buildUrl(this.getResourceUrlBase()+"/"+e.id+"/user_packs",e.params);return r.ajax({type:"GET",url:n}).done(function(n,r){e.done(n.userPack),e.params&&e.params.page||t.library.syncPackDecks(n.userPack)}).fail(function(t,n){e.fail(n,t.responseJSON||{})})}},{key:"create",value:function(e){var t=this,n=this.buildUrl(this.getResourceUrlBase(),e.params);return r.ajax({type:"POST",url:n,data:JSON.stringify(e.reqData),contentType:"application/json"}).done(function(n,r){e.done&&"function"==typeof e.done&&(e.done(n,r),t.library.addPack(n))}).fail(function(t,n){e.fail&&"function"==typeof e.fail&&e.fail(t,n)})}},{key:"share",value:function(e){var t=this.buildUrl("/api/shares/create",e.params);return r.ajax({type:"POST",url:t,data:JSON.stringify(e.reqData),contentType:"application/json"}).done(function(t,n){e.done&&"function"==typeof e.done&&e.done(t,n)}).fail(function(t,n){e.fail&&"function"==typeof e.fail&&e.fail(t,n)})}},{key:"duplicate",value:function(e){var t=this.buildUrl(this.getResourceUrlBase()+"/"+e.id+"/duplicate",e.params);return r.ajax({type:"POST",url:t}).done(function(t,n){e.done(t)}).fail(function(t,n){e.fail(n,t.responseJSON||{})})}},{key:"remove",value:function(e){var t=this.buildUrl(this.getResourceUrlBase()+"/"+e.id+"/remove.json",e.params);return r.ajax({type:"DELETE",url:t}).done(function(t,n){e.done(t)}).fail(function(t,n){e.fail(n,t.responseJSON||{})})}},{key:"delete",value:function(e){var t=this.buildUrl(this.getResourceUrlBase()+"/"+e.id,e.params);return r.ajax({type:"DELETE",url:t}).done(function(t,n){e.done&&"function"==typeof e.done&&e.done(t,n)}).fail(function(t,n){e.fail&&"function"==typeof e.fail&&e.fail(t,n)})}},{key:"getStats",value:function(e){var t=this.buildUrl("/api/study/cbr",e.params),n=Util.generatePackDeckList(e.packId,e.deckIds);r.ajax({method:"PUT",url:t,dataType:"json",data:{classes:n},cache:!1}).done(function(t,n){e.done&&"function"==typeof e.done&&e.done(t,n)}).fail(function(e,t){console.log("Something went wrong in Pack.getStats. jqXHR, status:",e,t)})}},{key:"resetStats",value:function(e){var t="/packs/"+e.id+"/reset";return r.ajax({type:"GET",url:t}).done(function(t,n){e.done(t)}).fail(function(t,n){e.fail(n,t.responseJSON||{})})}},{key:"refreshStats",value:function(e){var t=this.buildUrl(this.getResourceUrlBase()+"/"+e.id+"/refresh_stats",e.params);return r.ajax({type:"PATCH",url:t}).done(function(t,n){e.done(t)}).fail(function(t,n){e.fail(n,t.responseJSON||{})})}},{key:"getEditables",value:function(e){var t=this.buildUrl(this.getResourceUrlBase()+"/get_editables",e.params);return r.ajax({type:"GET",url:t}).done(function(t,n){e.done(t)}).fail(function(t,n){e.fail(n,t.responseJSON||{})})}},{key:"reorderDecks",value:function(e){var t=this.buildUrl(this.getResourceUrlBase()+"/"+e.id+"/decks/"+e.deckId+"/position",e.params);return r.ajax({type:"POST",url:t}).done(function(t,n){e.done(t)}).fail(function(t,n){e.fail(n,t.responseJSON||{})})}},{key:"trendingIndex",value:function(e){var t=this.buildUrl("/market/random",e.params);return r.ajax({type:"GET",url:t}).done(function(t,n){var r=t.data.map(function(e,t){return{name:e.name,browsePath:"/learn/"+e.url,iconUrl:e.thumb,id:e.id,marketHeadline:e.market_headline}});e.done(r)}).fail(function(t,n){e.fail(n,t.responseJSON||{})})}},{key:"sendMessage",value:function(e){var t=this.buildUrl("/packs/"+e.id+"/suggest.json",e.params);return r.ajax({type:"POST",data:JSON.stringify(e.reqData),contentType:"application/json",url:t}).done(function(t,n){e.done(t)}).fail(function(t,n){e.fail(n,t.responseJSON||{})})}},{key:"getMetadata",value:function(e){var t=this.buildUrl("/api/packs/"+e.id+"/meta",e.params);return r.ajax({type:"GET",url:t}).done(function(t,n){var r=t;r.global=t.__global__,r.purposes=t.__meta_purpose__,delete r.__global__,delete r.__meta_purpose__,e.done(r)}).fail(function(t,n){e.fail(n,t.responseJSON||{})})}},{key:"setMetadata",value:function(e){var t=this.buildUrl("/api/packs/"+e.id+"/meta");return r.ajax({type:"PATCH",url:t,data:JSON.stringify(e.reqData),contentType:"application/json"}).done(function(t,n){e.done(t)}).fail(function(t,n){e.fail(n,t.responseJSON||{})})}},{key:"dummyData",value:function(e){var t=this.buildUrl("/api/packs/"+e.id+"/dummy_data",e.params);return r.ajax({type:"GET",url:t}).done(function(t,n){e.done(t)}).fail(function(t,n){e.fail(n,t.responseJSON||{})})}}]),t}();t.default=d,e.exports=t.default}).call(t,n(9))},function(e,t,n){var r,o;r=[n(317)],void 0===(o=function(){"use strict"}.apply(t,r))||(e.exports=o)},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=l(n(3)),a=l(n(0)),s=l(n(1));function l(e){return e&&e.__esModule?e:{default:e}}var c={addClasses:i.default.string,isThreeState:i.default.bool,isChecked:i.default.oneOfType([i.default.node,i.default.bool]),isDisabled:i.default.bool,state:i.default.string,name:i.default.string,onBlur:i.default.func,onClick:i.default.func,onFocus:i.default.func,onKeyDown:i.default.func,prompt:i.default.string,tabIndex:i.default.node,value:i.default.oneOfType([i.default.node,i.default.bool])},u=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":r(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return Object.defineProperty(n,"handleBlur",{enumerable:!0,writable:!0,value:function(e){n.setState({hasFocus:!1}),n.props.onBlur&&n.props.onBlur(e)}}),Object.defineProperty(n,"handleClick",{enumerable:!0,writable:!0,value:function(e){e.stopPropagation(),n.props.isDisabled||n.props.onClick(e)}}),Object.defineProperty(n,"handleFocus",{enumerable:!0,writable:!0,value:function(e){n.setState({hasFocus:!0}),n.props.onFocus&&n.props.onFocus(e)}}),Object.defineProperty(n,"handleKeyDown",{enumerable:!0,writable:!0,value:function(e){n.props.onKeyDown&&n.props.onKeyDown(e)}}),Object.defineProperty(n,"focus",{enumerable:!0,writable:!0,value:function(){n.roundCheckbox&&n.roundCheckbox.focus()}}),n.state={hasFocus:!1},n.roundCheckbox=null,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default.Component),o(t,[{key:"render",value:function(){var e,t=this,n=this.props.isDisabled?"is-disabled":"",r=this.state.hasFocus?"has-focus":"";e=this.props.isThreeState?this.getThreeStateCheckedClass():this.props.isChecked?"is-checked":"is-not-checked";var o=s.default.toClassStr(["round-checkbox",e,n,r,this.props.addClasses]);return a.default.createElement("div",{className:o,onBlur:this.handleBlur,onClick:this.handleClick,onFocus:this.handleFocus,onKeyDown:this.handleKeyDown,tabIndex:this.props.tabIndex,ref:function(e){t.roundCheckbox=e}},a.default.createElement("div",{className:"checkbox-control"}),this.renderPrompt(),this.renderInputField())}},{key:"renderPrompt",value:function(){return this.props.prompt?a.default.createElement("div",{className:"checkbox-prompt"},this.props.prompt):null}},{key:"renderInputField",value:function(){return this.props.name||this.props.value?a.default.createElement("input",{className:"checkbox-value",id:this.props.name,name:this.props.name,type:"hidden",value:this.props.value}):null}},{key:"getThreeStateCheckedClass",value:function(){return"all"==this.props.state?"is-checked":"none"==this.props.state?"is-not-checked":"is-mixed"}}]),t}();u.propTypes=c,t.default=u,e.exports=t.default},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=l(n(0)),a=l(n(264)),s=l(n(1));function l(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":r(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={isMobileViewportSize:!1,isShowingByClick:!1,hasMousedOut:!1,shouldShowTooltip:!1},n.tooltipWrapper=null,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default.Component),o(t,[{key:"componentDidMount",value:function(){this.checkViewportSize()}},{key:"render",value:function(){return this.props.tooltipContent?this.props.isClickDriven||this.state.isMobileViewportSize?this.renderClickDrivenToolipWrapper():this.props.isReentryDriven?this.renderReentryDrivenTooltipWrapper():this.renderHoverDrivenTooltipWrapper():this.props.children}},{key:"renderClickDrivenToolipWrapper",value:function(){var e=this,t=this.state.isShowingByClick?"":"is-disabled",n=s.default.toClassStr(["tooltip-wrapper",t,this.props.addClasses]);return i.default.createElement("div",{className:n,"data-for":this.props.label,"data-tip":"React-tooltip",onClick:function(){return e.handleTooltipClick()},ref:function(t){return e.tooltipWrapper=t}},this.props.children,this.renderTooltip())}},{key:"renderReentryDrivenTooltipWrapper",value:function(){var e=this,t=this.state.shouldShowTooltip?"":"is-disabled",n=s.default.toClassStr(["tooltip-wrapper",t,this.props.addClasses]);return i.default.createElement("div",{className:n,"data-for":this.props.label,"data-tip":"React-tooltip",onMouseOut:function(){return e.handleTooltipMouseOut()},onMouseOver:function(){return e.handleTooltipMouseOver()},ref:function(t){return e.tooltipWrapper=t}},this.props.children,this.renderTooltip())}},{key:"renderHoverDrivenTooltipWrapper",value:function(){var e=s.default.toClassStr(["tooltip-wrapper",this.props.addClasses]);return i.default.createElement("div",{className:e,"data-for":this.props.label,"data-tip":"React-tooltip"},this.props.children,this.renderTooltip())}},{key:"renderTooltip",value:function(){return i.default.createElement(a.default,{className:"tooltip",delayHide:this.props.delayHide||400,delayShow:400,effect:"solid",id:this.props.label,place:this.props.place||"bottom",type:"light"},this.props.tooltipContent)}},{key:"handleTooltipClick",value:function(){this.state.isShowingByClick?a.default.hide(this.tooltipWrapper):a.default.show(this.tooltipWrapper),this.setState({isShowingByClick:!this.state.isShowingByClick})}},{key:"handleTooltipMouseOut",value:function(){a.default.hide(this.tooltipWrapper),this.setState({hasMousedOut:!0,shouldShowTooltip:!1})}},{key:"handleTooltipMouseOver",value:function(){var e=this.state.hasMousedOut,t=!1;this.state.hasMousedOut&&(e=!1,t=!0),this.setState({hasMousedOut:e,shouldShowTooltip:t})}},{key:"checkViewportSize",value:function(){var e=s.default.detectIfMobileSize();this.setState({isMobileViewportSize:e})}}]),t}();t.default=c,e.exports=t.default},function(e,t,n){var r,o;r=[n(5),n(14),n(11),n(245),n(246)],void 0===(o=function(e,t,n,r){"use strict";var o,i=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,a=e.fn.init=function(a,s,l){var c,u;if(!a)return this;if(l=l||o,"string"==typeof a){if(!(c="<"===a[0]&&">"===a[a.length-1]&&a.length>=3?[null,a,null]:i.exec(a))||!c[1]&&s)return!s||s.jquery?(s||l).find(a):this.constructor(s).find(a);if(c[1]){if(s=s instanceof e?s[0]:s,e.merge(this,e.parseHTML(c[1],s&&s.nodeType?s.ownerDocument||s:t,!0)),r.test(c[1])&&e.isPlainObject(s))for(c in s)n(this[c])?this[c](s[c]):this.attr(c,s[c]);return this}return(u=t.getElementById(c[2]))&&(this[0]=u,this.length=1),this}return a.nodeType?(this[0]=a,this.length=1,this):n(a)?void 0!==l.ready?l.ready(a):a(e):e.makeArray(a,this)};return a.prototype=e.fn,o=e(t),a}.apply(t,r))||(e.exports=o)},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"===r(Symbol.iterator)?function(e){return void 0===e?"undefined":r(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":void 0===e?"undefined":r(e)},i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0},l=function(e){return e&&e.__esModule?e:{default:e}}(n(21)),c=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":r(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.modelName,e.memberName,e.memberTag,e.memberKey,e.collectionName,e.collectionTag,e.collectionKey,e.resourcePath,e.resourceRoute,e.schema,e.nameKey,e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.default),a(t,[{key:"generateNomenclature",value:function(){this.modelName=this.pascalize(this.memberName),this.memberTag=this.memberName.split(" ").join("-").toLowerCase(),this.memberKey=this.camelize(this.memberName),this.collectionName=this.memberName+"s",this.collectionTag=this.collectionName.split(" ").join("-").toLowerCase(),this.collectionKey=this.camelize(this.collectionName),this.resourcePath="/"+this.collectionTag,this.resourceRoute="/api"+this.resourcePath}},{key:"camelize",value:function(e){return e.replace(/(?:^\w|[A-Z]|\b\w)/g,function(e,t){return 0==t?e.toLowerCase():e.toUpperCase()}).replace(/\s+/g,"")}},{key:"pascalize",value:function(e){var t=this.camelize(e);return t.charAt(0).toUpperCase()+t.slice(1)}},{key:"getConfig",value:function(){return{modelName:this.modelName,memberName:this.memberName,memberTag:this.memberTag,memberKey:this.memberKey,collectionName:this.collectionName,collectionTag:this.collectionTag,collectionKey:this.collectionKey,resourcePath:this.resourcePath,resourceRoute:this.resourceRoute,nameKey:this.nameKey}}},{key:"getSchema",value:function(e){var t=i({},this.schema),n={};switch(e){case"admin":return t;case"onlyAdmin":return Object.keys(t).forEach(function(e,r){t[e].onlyAdmin&&(n[e]=t[e])}),n;default:return Object.keys(t).forEach(function(e,r){t[e].onlyAdmin||(n[e]=t[e])}),n}}},{key:"getResourceRoute",value:function(){return this.resourceRoute}},{key:"getNameKey",value:function(){return this.nameKey}},{key:"create",value:function(e){var n={};n[this.memberKey]=this.translateToServerKeys(e.reqData),e.reqData=n,s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"create",this).call(this,e)}},{key:"update",value:function(e){var n={};n[this.memberKey]=this.translateToServerKeys(e.reqData),e.reqData=n,s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"update",this).call(this,e)}},{key:"translateToServerKeys",value:function(e){var t=this,n={};return Object.keys(e).forEach(function(r,o){var i=t.schema[r],a=i?i.serverKey:null;a&&(n[a]=e[r])}),n}},{key:"getOptions",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"id",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.nameKey;this.index({done:function(r){var o=r.map(function(e,r){return{value:e[t],label:e[n]}});e.done(o)},fail:function(t,n){e.fail(t,n)}})}},{key:"validate",value:function(e){var t=this;if(Object.keys(this.schema).length<1)return{isValid:!0,invalidFields:[],message:"valid "+this.memberName+" input data",validData:e};var n=this.schema,r=!0,o=[],i="";return Object.keys(n).forEach(function(a){!n[a].isRequired||e[a]&&""!==e[a]||(r=!1,o.push(a),i+="A value for "+t.schema[a].label+" is required. ")}),{isValid:r,invalidFields:o,message:r?"valid "+this.memberName+" input data":i,validData:r?e:null}}},{key:"tryParseJSON",value:function(e){try{var t=JSON.parse(e.replace(/\n/g,""));if(t&&"object"===(void 0===t?"undefined":o(t)))return t}catch(e){}return!1}}]),t}();t.default=c,e.exports=t.default},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.checkJsonResponse=t.apiPut=t.apiPost=t.apiGet=t.apiFetch=t.apiDelete=t.default=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();n(30);var o=function(){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.resourceRoute}return r(t,[{key:"getResourceRoute",value:function(){return this.resourceRoute}},{key:"getResourceUrlBase",value:function(){return this.resourceRoute}},{key:"buildUrl",value:function(e,t){var n=e,r="";return t?(Object.keys(t).forEach(function(e,n){r+=(0==n?"?":"&")+e+"="+t[e]}),n+r):n}},{key:"index",value:function(t){var n=this.buildUrl(this.getResourceUrlBase(),t.params);return e.ajax({type:"GET",url:n}).done(function(e,n){t.done&&"function"==typeof t.done&&t.done(e,n)}).fail(function(e,n){t.fail&&"function"==typeof t.fail&&t.fail(e,n)})}},{key:"show",value:function(t){var n=this.buildUrl(this.getResourceUrlBase()+"/"+t.id,t.params);return e.ajax({type:"GET",url:n}).done(function(e,n){t.done&&"function"==typeof t.done&&t.done(e,n)}).fail(function(e,n){t.fail&&"function"==typeof t.fail&&t.fail(e,n)})}},{key:"create",value:function(t){var n=this.buildUrl(this.getResourceUrlBase(),t.params);return e.ajax({type:"POST",url:n,data:JSON.stringify(t.reqData),contentType:"application/json"}).done(function(e,n){t.done&&"function"==typeof t.done&&t.done(e,n)}).fail(function(e,n){t.fail&&"function"==typeof t.fail&&t.fail(e,n)})}},{key:"update",value:function(t){var n=this.buildUrl(this.getResourceUrlBase()+"/"+t.id,t.params);return e.ajax({type:"PUT",url:n,data:JSON.stringify(t.reqData),contentType:"application/json"}).done(function(e,n){t.done&&"function"==typeof t.done&&t.done(e,n)}).fail(function(e,n){t.fail&&"function"==typeof t.fail&&t.fail(e,n)})}},{key:"delete",value:function(t){var n=this.buildUrl(this.getResourceUrlBase()+"/"+t.id,t.params);return e.ajax({type:"DELETE",url:n}).done(function(e,n){t.done&&"function"==typeof t.done&&t.done(e,n)}).fail(function(e,n){t.fail&&"function"==typeof t.fail&&t.fail(e,n)})}}]),t}(),i=function(e,t,n){var r="/api/"+e,o={method:t,headers:{"Content-Type":"application/json"}};if(n)if("DELETE"==t||"GET"==t||"HEAD"==t){var i=new URLSearchParams;Object.keys(n).forEach(function(e){return i.append(e,n[e])}),r+="?"+i.toString()}else o.body=JSON.stringify(n);return fetch(r,o).then(a)},a=function(e){if(!e.ok){var t=e.headers.get("content-type");if(t.indexOf("json")>=0)return e.json().then(function(e){throw new Error(e.error)});if(t.indexOf("html")>=0)throw new Error("Unknown Error (Code: 740)");return e.text().then(function(e){throw new Error(e)})}return e.json()};t.default=o,t.apiDelete=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return i(e,"DELETE",t)},t.apiFetch=function(e,t){return fetch("/api/"+e,t).then(a)},t.apiGet=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return i(e,"GET",t)},t.apiPost=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return i(e,"POST",t)},t.apiPut=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return i(e,"PUT",t)},t.checkJsonResponse=a}).call(t,n(9))},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=c(n(87)),a=c(n(0)),s=c(n(12)),l=c(n(1));function c(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":r(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={isListeningToOutsideClicks:!1,isOpen:n.props.initialOpenState||!1,isTransitionedIn:!1,isTransitionedOut:!1},n.transitionInDelay=null,n.transitionOutDuration=null,n.TRANSITION_IN_DELAY=100,n.TRANSITION_OUT_DURATION=800,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default.Component),o(t,[{key:"componentDidMount",value:function(){this._isMounted=!0}},{key:"componentDidUpdate",value:function(){var e=this;this.state.isOpen&&!this.state.isListeningToOutsideClicks&&(document.addEventListener("click",function(t){return e.handleOutsideClick(t)}),this._isMounted&&this.setState({isListeningToOutsideClicks:!0}))}},{key:"componentWillUnmount",value:function(){var e=this;this._isMounted=!1,this.clearTimeoutsAndIntervals(),document.removeEventListener("click",function(t){return e.handleOutsideClick(t)})}},{key:"render",value:function(){var e=this,t=this.props.isDisabled?"is-disabled":"",n="bottomLeft"==this.props.openPosition?"bottom-left":"bottom-right",r=l.default.toClassStr(["options-menu-button",t,n,this.state.isOpen?"is-open":"",this.props.isProcessing?"is-processing":"",this.props.addClasses]);return a.default.createElement("div",{className:r,ref:function(t){e.elem=t}},a.default.createElement(i.default,{iconImageUrl:this.props.iconImageUrl,iconType:this.props.iconType,isMenuClosing:this.state.isTransitionedOut,isMenuOpening:this.state.isOpen,isProcessing:this.props.isProcessing,onClick:function(){return e.handleOptionsButtonClick()},shouldButtonTurn:this.props.shouldButtonTurn,title:this.props.title}),this.renderOptionsMenu())}},{key:"renderGlyphIcon",value:function(){return this.props.hasLegacyStyles?a.default.createElement("span",{className:"glyphicon glyphicon-cog"}):null}},{key:"renderSpinner",value:function(){return this.props.isProcessing?a.default.createElement(s.default,null):null}},{key:"renderOptionsMenu",value:function(){var e=this;if(!this.state.isOpen||this.props.isDisabled)return null;var t=this.state.isTransitioningIn?"is-transitioning-in":"",n=this.state.isTransitioningOut?"is-transitioning-out":"",r=this.state.isTransitionedIn?"is-transitioned-in":"",o=this.state.isTransitionedOut?"is-transitioned-out":"",i=l.default.toClassStr(["options-menu",t,n,r,o,this.props.addMenuClasses]),s=this.props.menuOptions.map(function(t,n){return e.renderMenuOption(t,n)});return a.default.createElement("ul",{className:i},s)}},{key:"renderMenuOption",value:function(e,t){var n=this,r=l.default.toClassStr(["menu-option",e.tag,!this.props.isUserPro&&e.onlyPro?"pro-required":""]),o=!!e.persistOnClick&&e.persistOnClick;return e.label?a.default.createElement("li",{key:t,className:r,id:e.id,onClick:function(t){return n.handleMenuOptionClick(t,e.id,o)}},e.label):a.default.createElement("li",{key:t,style:{borderBottom:"1px solid rgba(0, 0, 0, 0.15)"}})}},{key:"handleOptionsButtonClick",value:function(){if(this.props.isDisabled)return!1;this.state.isOpen?this.closeMenu():this.openMenu()}},{key:"handleOutsideClick",value:function(e){return e.stopPropagation(),!this.props.isDisabled&&(!this.elem||!this.elem.contains(e.target))&&void this.closeMenu()}},{key:"handleMenuOptionClick",value:function(e,t,n){e.stopPropagation(),this.props.onOptionClick(t),n||this.closeMenu()}},{key:"openMenu",value:function(){var e=this;this._isMounted&&this.setState({isOpen:!0,isTransitionedIn:!1,isTransitionedOut:!1},function(){e.invokeTransitionIn()})}},{key:"closeMenu",value:function(){var e=this;this._isMounted&&this.setState({isTransitionedIn:!1,isTransitionedOut:!0},function(){e.completeTransitionOut()})}},{key:"invokeTransitionIn",value:function(){var e=this;clearTimeout(this.transitionInDelay),this.transitionInDelay=setTimeout(function(){e.setState({isTransitionedIn:!0,isTransitionedOut:!1})},this.TRANSITION_IN_DELAY)}},{key:"completeTransitionOut",value:function(){var e=this;clearTimeout(this.transitionOutDuration),this.transitionOutDuration=setTimeout(function(){e.setState({isOpen:!1})},this.TRANSITION_OUT_DURATION)}},{key:"clearTimeoutsAndIntervals",value:function(){clearTimeout(this.transitionInDelay),clearTimeout(this.transitionOutDuration)}}]),t}();t.default=u,e.exports=t.default},function(e,t,n){"use strict";var r=n(29);function o(e){e.catch(function(e){console.error(e)})}function i(e,t,n){return r.b(this,void 0,void 0,function(){var o;return r.d(this,function(r){switch(r.label){case 0:return[4,Promise.all(e.map(t,n))];case 1:return o=r.sent(),[2,e.filter(function(e,t){return o[t]})]}})})}var a=function(e){function t(t){var n=this.constructor,r=e.call(this,t)||this;return r.message=t,r.name=n.prototype.constructor.name,Object.setPrototypeOf(r,n.prototype),r}return r.c(t,e),t}(Error),s=n(312),l=n(314),c=Object(l.e)(),u="Sentry Logger ",d=function(){function e(){this._enabled=!1}return e.prototype.disable=function(){this._enabled=!1},e.prototype.enable=function(){this._enabled=!0},e.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._enabled&&Object(l.b)(function(){c.console.log(u+"[Log]: "+e.join(" "))})},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._enabled&&Object(l.b)(function(){c.console.warn(u+"[Warn]: "+e.join(" "))})},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._enabled&&Object(l.b)(function(){c.console.error(u+"[Error]: "+e.join(" "))})},e}();c.__SENTRY__=c.__SENTRY__||{};var p=c.__SENTRY__.logger||(c.__SENTRY__.logger=new d),f=n(660),h=n(670);function m(e,t){for(var n=0,r=e.length-1;r>=0;r--){var o=e[r];"."===o?e.splice(r,1):".."===o?(e.splice(r,1),n++):n&&(e.splice(r,1),n--)}if(t)for(;n--;n)e.unshift("..");return e}var g=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/;function b(e){var t=g.exec(e);return t?t.slice(1):[]}function v(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n="",r=!1,o=e.length-1;o>=-1&&!r;o--){var i=o>=0?e[o]:"/";i&&(n=i+"/"+n,r="/"===i.charAt(0))}return n=m(n.split("/").filter(function(e){return!!e}),!r).join("/"),(r?"/":"")+n||"."}function y(e){for(var t=0;t<e.length&&""===e[t];t++);for(var n=e.length-1;n>=0&&""===e[n];n--);return t>n?[]:e.slice(t,n-t+1)}function k(e,t){e=v(e).substr(1),t=v(t).substr(1);for(var n=y(e.split("/")),r=y(t.split("/")),o=Math.min(n.length,r.length),i=o,a=0;a<o;a++)if(n[a]!==r[a]){i=a;break}var s=[];for(a=i;a<n.length;a++)s.push("..");return(s=s.concat(r.slice(i))).join("/")}function _(e){var t=w(e),n="/"===e.substr(-1),r=m(e.split("/").filter(function(e){return!!e}),!t).join("/");return r||t||(r="."),r&&n&&(r+="/"),(t?"/":"")+r}function w(e){return"/"===e.charAt(0)}function C(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return _(e.join("/"))}function S(e){var t=b(e),n=t[0],r=t[1];return n||r?(r&&(r=r.substr(0,r.length-1)),n+r):"."}function P(e,t){var n=b(e)[2];return t&&n.substr(-1*t.length)===t&&(n=n.substr(0,n.length-t.length)),n}var E,x=function(){function e(e){this._limit=e,this._buffer=[]}return e.prototype.isReady=function(){return void 0===this._limit||this.length()<this._limit},e.prototype.add=function(e){var t=this;return this.isReady()?(-1===this._buffer.indexOf(e)&&this._buffer.push(e),e.then(function(){return t.remove(e)}).catch(function(){return t.remove(e).catch(function(){})}),e):Promise.reject(new a("Not adding Promise due to buffer limit reached."))},e.prototype.remove=function(e){return this._buffer.splice(this._buffer.indexOf(e),1)[0]},e.prototype.length=function(){return this._buffer.length},e.prototype.drain=function(e){var t=this;return new Promise(function(n){var r=setTimeout(function(){e&&e>0&&n(!1)},e);Promise.all(t._buffer).then(function(){clearTimeout(r),n(!0)}).catch(function(){n(!0)})})},e}();function O(e,t){return void 0===t&&(t=0),"string"!=typeof e||0===t?e:e.length<=t?e:e.substr(0,t)+"..."}function T(e,t){var n=e,r=n.length;if(r<=150)return n;t>r&&(t=r);var o=Math.max(t-60,0);o<5&&(o=0);var i=Math.min(o+140,r);return i>r-5&&(i=r),i===r&&(o=Math.max(i-140,0)),n=n.slice(o,i),o>0&&(n="'{snip} "+n),i<r&&(n+=" {snip}"),n}function M(e,t){if(!Array.isArray(e))return"";for(var n=[],r=0;r<e.length;r++){var o=e[r];try{n.push(String(o))}catch(e){n.push("[value cannot be serialized]")}}return n.join(t)}function A(e,t){if(void 0===t&&(t=40),!e.length)return"[object has no keys]";if(e[0].length>=t)return O(e[0],t);for(var n=e.length;n>0;n--){var r=e.slice(0,n).join(", ");if(!(r.length>t))return n===e.length?r:O(r,t)}return""}function j(e,t){return Object(s.g)(t)?t.test(e):"string"==typeof t&&e.includes(t)}function I(){try{return new ErrorEvent(""),!0}catch(e){return!1}}function N(){try{return new DOMError(""),!0}catch(e){return!1}}function R(){try{return new DOMException(""),!0}catch(e){return!1}}function D(){if(!("fetch"in Object(l.e)()))return!1;try{return new Headers,new Request(""),new Response,!0}catch(e){return!1}}function L(){return!!D()&&-1!==Object(l.e)().fetch.toString().indexOf("native")}function B(){return"ReportingObserver"in Object(l.e)()}function F(){if(!D())return!1;try{return new Request("_",{referrerPolicy:"origin"}),!0}catch(e){return!1}}function U(){var e=Object(l.e)(),t=e.chrome,n=t&&t.app&&t.app.runtime,r="history"in e&&!!e.history.pushState&&!!e.history.replaceState;return!n&&r}!function(e){e.PENDING="PENDING",e.RESOLVED="RESOLVED",e.REJECTED="REJECTED"}(E||(E={}));var q=function(){function e(e){var t=this;this._state=E.PENDING,this._handlers=[],this._resolve=function(e){t._setResult(e,E.RESOLVED)},this._reject=function(e){t._setResult(e,E.REJECTED)},this._setResult=function(e,n){t._state===E.PENDING&&(Object(s.j)(e)?e.then(t._resolve,t._reject):(t._value=e,t._state=n,t._executeHandlers()))},this._executeHandlers=function(){t._state!==E.PENDING&&(t._state===E.REJECTED?t._handlers.forEach(function(e){return e.onFail&&e.onFail(t._value)}):t._handlers.forEach(function(e){return e.onSuccess&&e.onSuccess(t._value)}),t._handlers=[])},this._attachHandler=function(e){t._handlers=t._handlers.concat(e),t._executeHandlers()};try{e(this._resolve,this._reject)}catch(e){this._reject(e)}}return e.prototype.then=function(t,n){var r=this;return new e(function(e,o){r._attachHandler({onFail:function(t){if(n)try{return void e(n(t))}catch(e){return void o(e)}else o(t)},onSuccess:function(n){if(t)try{return void e(t(n))}catch(e){return void o(e)}else e(n)}})})},e.prototype.catch=function(e){return this.then(function(e){return e},e)},e.prototype.toString=function(){return"[object SyncPromise]"},e.resolve=function(t){return new e(function(e){e(t)})},e.reject=function(t){return new e(function(e,n){n(t)})},e}();n.d(t,!1,function(){return o}),n.d(t,!1,function(){return i}),n.d(t,"b",function(){return a}),n.d(t,"l",function(){return s.c}),n.d(t,"m",function(){return s.d}),n.d(t,"j",function(){return s.a}),n.d(t,"k",function(){return s.b}),n.d(t,"q",function(){return s.h}),n.d(t,"p",function(){return s.f}),n.d(t,"o",function(){return s.e}),n.d(t,!1,function(){return s.g}),n.d(t,"r",function(){return s.j}),n.d(t,!1,function(){return s.i}),n.d(t,"t",function(){return p}),n.d(t,!1,function(){return f.a}),n.d(t,"f",function(){return l.c}),n.d(t,!1,function(){}),n.d(t,"i",function(){return l.e}),n.d(t,"E",function(){return l.g}),n.d(t,"w",function(){return l.f}),n.d(t,"h",function(){return l.d}),n.d(t,"e",function(){return l.b}),n.d(t,"d",function(){return l.a}),n.d(t,"g",function(){return h.a}),n.d(t,"D",function(){return h.d}),n.d(t,"v",function(){return h.c}),n.d(t,!1,function(){}),n.d(t,"u",function(){return h.b}),n.d(t,!1,function(){return v}),n.d(t,!1,function(){return k}),n.d(t,!1,function(){return _}),n.d(t,!1,function(){return w}),n.d(t,!1,function(){return C}),n.d(t,!1,function(){return S}),n.d(t,!1,function(){return P}),n.d(t,"a",function(){return x}),n.d(t,"C",function(){return O}),n.d(t,!1,function(){return T}),n.d(t,"x",function(){return M}),n.d(t,"s",function(){return A}),n.d(t,"n",function(){return j}),n.d(t,!1,function(){return I}),n.d(t,!1,function(){return N}),n.d(t,!1,function(){return R}),n.d(t,"y",function(){return D}),n.d(t,"A",function(){return L}),n.d(t,!1,function(){return B}),n.d(t,"B",function(){return F}),n.d(t,"z",function(){return U}),n.d(t,"c",function(){return q})},function(e,t,n){var r,o;r=[n(249)],void 0===(o=function(e){"use strict";return new e}.apply(t,r))||(e.exports=o)},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=(s(n(58)),s(n(263)),s(n(20))),a=s(n(1));function s(e){return e&&e.__esModule?e:{default:e}}n(30);var l=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":r(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return Object.defineProperty(n,"getSelectedDeckIdsForPack",{enumerable:!0,writable:!0,value:function(e,t,r){var o=n.getPackDeckSelections(e,t),i=[];return r&&r.forEach(function(e){o[e]&&i.push(e)}),i}}),n.cbrManager,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default),o(t,[{key:"resetAllUserLibraries",value:function(){localStorage.clear()}},{key:"getLocalStorageItem",value:function(e){var t=null;try{t=JSON.parse(localStorage.getItem(e))}catch(e){console.log("Something went wrong reading from local storage. err:",e)}return t}},{key:"setLocalStorageItem",value:function(e,t){try{localStorage.setItem(e,JSON.stringify(t))}catch(e){return console.log("Something went wrong writing to local storage. err:",e),!1}return!0}},{key:"getOrCreateUserLibrary",value:function(e){var t=void 0,n="userLibrary-"+e;return t=this.getLocalStorageItem(n),a.default.isObject(t)?this.ensureLibraryDefaults(t,n):this.createNewLibrary(n)}},{key:"ensureLibraryDefaults",value:function(e,t){return e.packDeckSelections=a.default.isObject(e.packDeckSelections)?e.packDeckSelections:{},e.packLearnerSelections=a.default.isObject(e.packLearnerSelections)?e.packLearnerSelections:{},e.packStudyConfigs=a.default.isObject(e.packStudyConfigs)?e.packStudyConfigs:{},e.localPrefs=a.default.isObject(e.localPrefs)?e.localPrefs:{},this.setLocalStorageItem(t,e),e}},{key:"createNewLibrary",value:function(e){var t={packDeckSelections:{},packLearnerSelections:{},packStudyConfigs:{},localPrefs:{}};return this.setLocalStorageItem(e,t),t}},{key:"updateUserLibraryPackData",value:function(e,t,n,r){var o=this.getOrCreateUserLibrary(e),i="userLibrary-"+e;o[n][t]=r,this.setLocalStorageItem(i,o)}},{key:"updateUserLocalPrefs",value:function(e,t,n){var r=this.getOrCreateUserLibrary(e),o="userLibrary-"+e;r.localPrefs=r.localPrefs||{},r.localPrefs[t]=n,this.setLocalStorageItem(o,r)}},{key:"getUserLocalPrefs",value:function(e){var t=this.getOrCreateUserLibrary(e).localPrefs;return a.default.isObject(t)?t:{}}},{key:"getUserLocalPref",value:function(e,t){return this.getUserLocalPrefs(e)[t]||null}},{key:"getPackDeckSelections",value:function(e,t){var n=this.getOrCreateUserLibrary(e).packDeckSelections[t];return a.default.isObject(n)?n:{}}},{key:"getPackLearnerSelections",value:function(e,t){var n=this.getOrCreateUserLibrary(e).packLearnerSelections[t];return a.default.isObject(n)?n:{}}},{key:"getPackStudyConfigs",value:function(e,t){var n=this.getOrCreateUserLibrary(e).packStudyConfigs[t];return a.default.isObject(n)?n:{}}},{key:"getSelectedPackDeckIds",value:function(e,t){var n=this.getPackDeckSelections(e,t);return Object.keys(n)}},{key:"getSelectedPackLearners",value:function(e,t){var n=this.getPackLearnerSelections(e,t);return Object.keys(n)}},{key:"selectPackDecks",value:function(e,t,n){var r=this.getPackDeckSelections(e,t);n.forEach(function(e){r[e]=!0}),this.updateUserLibraryPackData(e,t,"packDeckSelections",r),this.markPackMixAsSet(e,t)}},{key:"selectPackLearners",value:function(e,t,n){var r=this.getPackLearnerSelections(e,t);n.forEach(function(e){r[e]=!0}),this.updateUserLibraryPackData(e,t,"packLearnerSelections",r)}},{key:"unselectPackDecks",value:function(e,t,n){var r=this.getPackDeckSelections(e,t);n.forEach(function(e){delete r[e]}),this.updateUserLibraryPackData(e,t,"packDeckSelections",r),this.markPackMixAsSet(e,t)}},{key:"unselectPackLearners",value:function(e,t,n){var r=this.getPackLearnerSelections(e,t);n.forEach(function(e){delete r[e]}),this.updateUserLibraryPackData(e,t,"packLearnerSelections",r)}},{key:"calculateCardSetStats",value:function(e,t){var n=0,r=0,o=0;return t.length<1?{mastery:o,cardsStudied:r}:(t.forEach(function(t,o){var i=e[t].level;n+=i,r+=i>0?1:0}),o=n/(5*t.length),{cardsStudied:r,mastery:o})}},{key:"getPackStudyMixType",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(n||(n=t.deckIds),n&&1==n.length)return"progressive";var r=this.getPackStudyConfigs(e,t.packId);return r.mixType&&""!=r.mixType?r.mixType:t.mixType&&""!=t.mixType?t.mixType:"progressive"}},{key:"setPackStudyMixType",value:function(e,t,n){var r=this.getPackStudyConfigs(e,t);r.mixType=n,this.updateUserLibraryPackData(e,t,"packStudyConfigs",r)}},{key:"isPackMixSet",value:function(e,t){return this.getPackStudyConfigs(e,t).isMixSet||!1}},{key:"markPackMixAsSet",value:function(e,t){var n=this.getPackStudyConfigs(e,t);n.isMixSet=!0,this.updateUserLibraryPackData(e,t,"packStudyConfigs",n)}},{key:"markPackLearnersAsSelected",value:function(e,t){var n=this.getPackStudyConfigs(e,t);n.isMixSet=!0,this.updateUserLibraryPackData(e,t,"packStudyConfigs",n)}},{key:"getPackStudyMixUrl",value:function(e,t,n){var r=new URLSearchParams,o=this.getSelectedDeckIdsForPack(e,t.packId,n);return o.length<1||o.length==n.length?r.append("classes",t.packId):r.append("classes",o.map(function(e){return t.packId+"-"+e}).join(",")),r.append("type",this.getPackStudyMixType(e,t,o)),"/l/study?"+r.toString()}},{key:"getPackDeckStudyMixUrl",value:function(e,t,n){var r=this.getPackStudyMixType(e,t,[n]);return"/l/study?classes="+t.packId+"-"+n+"&type="+r}},{key:"generatePackDeckList",value:function(e,t){return t.reduce(function(t,n){return t.push(e+"-"+n),t},[]).toString()}},{key:"addPack",value:function(e){console.log("in LibraryModel.addPack. adding pack:",e)}},{key:"removePack",value:function(e,t){var n=this.getOrCreateUserLibrary(e),r="userLibrary-"+e;n.packDeckSelections[t]&&delete n.packDeckSelections[t],n.packLearnerSelections[t]&&delete n.packLearnerSelections[t],n.packStudyConfigs[t]&&delete n.packStudyConfigs[t],this.setLocalStorageItem(r,n)}},{key:"syncPackDecks",value:function(e){var t=e.userId,n=e.packId,r=this.getSelectedPackDeckIds(t,n)||{},o={};if(e.deckIds&&e.deckIds.length>0){for(var i=0;i<r.length;i++)-1!=e.deckIds.indexOf(r[i])&&(o[r[i]]=!0);this.updateUserLibraryPackData(t,n,"packDeckSelections",o)}else this.updateUserLibraryPackData(t,n,"packDeckSelections",{})}},{key:"syncPackLearners",value:function(e,t){var n=BSC.userId,r=t.map(function(e,t){return e.userId}),o=this.getSelectedPackLearners(n,e)||{},i={};if(t.length>0){for(var a=0;a<o.length;a++)-1!=r.indexOf(o[a])&&(i[o[a]]=!0);this.updateUserLibraryPackData(n,e,"packLearnerSelections",i)}else this.updateUserLibraryPackData(n,e,"packLearnerSelections",{})}}]),t}();t.default=l,e.exports=t.default},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=l(n(0)),a=l(n(1)),s=l(n(12));function l(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":r(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return Object.defineProperty(n,"handleOutsideClick",{enumerable:!0,writable:!0,value:function(e){if(e.stopPropagation(),n.elem&&n.elem.contains(e.target))return!1;n.stopOutsideClickMonitor(),n.props.onOutsideClick()}}),Object.defineProperty(n,"handleButtonClick",{enumerable:!0,writable:!0,value:function(e){e.stopPropagation(),n.stopOutsideClickMonitor(),n.props.onButtonClick()}}),Object.defineProperty(n,"handleOptionClick",{enumerable:!0,writable:!0,value:function(e){e.stopPropagation(),n.stopOutsideClickMonitor(),n.props.onOptionClick(e.target.id)}}),Object.defineProperty(n,"startOutsideClickMonitor",{enumerable:!0,writable:!0,value:function(){document.addEventListener("click",n.handleOutsideClick),n._isMounted&&n.setState({isListeningToOutsideClicks:!0})}}),Object.defineProperty(n,"stopOutsideClickMonitor",{enumerable:!0,writable:!0,value:function(){document.removeEventListener("click",n.handleOutsideClick),n.setState({isListeningToOutsideClicks:!1})}}),n.state={isListeningToOutsideClicks:!1},n._isMounted=!1,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default.Component),o(t,[{key:"componentDidMount",value:function(){this._isMounted=!0,this.props.isOpen&&this.props.onOutsideClick&&!this.state.isListeningToOutsideClicks&&this.startOutsideClickMonitor()}},{key:"componentDidUpdate",value:function(e){!e.isOpen&&this.props.isOpen&&this.props.onOutsideClick&&!this.state.isListeningToOutsideClicks&&(this.stopOutsideClickMonitor(),this.startOutsideClickMonitor())}},{key:"componentWillUnmount",value:function(){this._isMounted=!1,this.stopOutsideClickMonitor()}},{key:"render",value:function(){var e=this,t=this.props.isOpen?"is-open":"is-closed",n=this.props.isProcessing?"is-processing":"",r=a.default.toClassStr(["pulldown",this.props.fieldName,t,n,this.props.addClasses]);return i.default.createElement("div",{className:r,ref:function(t){e.elem=t}},i.default.createElement("div",{className:"pulldown-button",onClick:function(t){return e.handleButtonClick(t)}},this.renderDisplayedValue(),this.renderSpinner()),i.default.createElement("ul",{className:"pulldown-list "+this.props.fieldName+"-list"},this.renderOptions()),i.default.createElement("input",{className:"pulldown-value",type:"hidden",name:this.props.fieldName,value:this.props.selectedValue||""}),this.renderValidationMessage())}},{key:"renderDisplayedValue",value:function(){if(-1==this.props.selectedValue)return i.default.createElement("p",{className:"pulldown-placeholder"},this.props.placeholderText||"Choose one");var e=this.getOptionLabel(this.props.selectedValue);return i.default.createElement("p",{className:"pulldown-selected-option"},e)}},{key:"renderSpinner",value:function(){return this.props.isProcessing?i.default.createElement(s.default,{addClasses:"blue"}):null}},{key:"renderOptions",value:function(){var e=this;return this.props.options.map(function(t,n){return e.renderOption(t,n)})}},{key:"renderOption",value:function(e,t){if(this.props.shouldSuppressNullOption&&(e.isNullOption||"-1"==e.id))return null;if(e.isNullOption||"-1"==e.id){var n=this.props.placeholderText||"Choose One...";return i.default.createElement("li",{className:"option null-option",id:"-1",key:t,onClick:this.handleOptionClick,style:this.props.optionStyle},n)}return e.id==this.props.selectedValue?i.default.createElement("li",{className:"option option-"+e.id,"data-label":e.label,id:e.id,key:t,onClick:this.handleOptionClick,selected:"selected",style:this.props.optionStyle},e.label):i.default.createElement("li",{className:"option option-"+e.id,"data-label":e.label,id:e.id,key:t,onClick:this.handleOptionClick,style:this.props.optionStyle},e.label)}},{key:"renderValidationMessage",value:function(){return this.props.validationMessage?i.default.createElement("p",{className:"validation-message"},this.props.validationMessage):null}},{key:"getOptionLabel",value:function(e){if(!e&&0!==e||-1==e)return null;for(var t=0;t<this.props.options.length;t++){var n=this.props.options[t];if(n.id==e)return n.label}return null}}]),t}();t.default=c,e.exports=t.default},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(7),a=l(n(0)),s=l(n(1));function l(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":r(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={isContracting:!1,isExpanding:!1},n.expansionTimeout=null,n.contractionTimeout=null,n.contractAndCloseTimeout=null,n.INITIAL_TRANSITION_DELAY=100,n.DEFAULT_CONTRACTION_DELAY=3e4,n.IMMEDIATE_CONTRACTION_DELAY=500,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default.Component),o(t,[{key:"componentDidMount",value:function(){clearTimeout(this.transitionTimeout),this.props.shouldExpand&&this.invokeExpansion(),this.props.shouldAutoContract&&this.invokeContraction()}},{key:"componentDidUpdate",value:function(e){this.props.shouldClose&&!e.shouldClose&&this.closeBubble()}},{key:"componentWillUnmount",value:function(){this.clearTimeouts()}},{key:"render",value:function(){var e=this,t=this.props.shouldExpand||this.props.shouldContract?"":"is-static",n="size-"+this.props.size,r=this.props.shouldExpand?"size-seed":n,o=this.props.shouldContract?"size-seed":n,l=r;this.state.isExpanding&&(l=n),this.state.isContracting&&(l=o);var c=s.default.toClassStr(["bubble",t,l,this.getCornerClass(),this.props.addClasses]),u=this.props.isEscapeKeyActive?"Hit [Esc] to dismiss":null;return a.default.createElement("div",{className:c},a.default.createElement(i.CloseButton,{addClasses:"bubble-close",onClick:function(){return e.handleClose()},title:u}),a.default.createElement("div",{className:"bubble-content"},this.props.children))}},{key:"handleClose",value:function(){this.props.isScriptedClose?this.props.onCloseRequest&&this.props.onCloseRequest():this.closeBubble()}},{key:"invokeExpansion",value:function(){var e=this;this.expansionTimeout=setTimeout(function(){e.setState({isExpanding:!0}),clearTimeout(e.expansionTimeout)},this.props.expansionDelay||this.INITIAL_TRANSITION_DELAY)}},{key:"invokeContraction",value:function(){var e=this;this.contractionTimeout=setTimeout(function(){e.contractAndClose(),clearTimeout(e.contractionTimeout)},this.props.contractionDelay||this.DEFAULT_CONTRACTION_DELAY)}},{key:"contractAndClose",value:function(){var e=this;this.setState({isContracting:!0},function(){e.contractAndCloseTimeout=setTimeout(function(){e.clearTimeouts(),e.props.onClose&&e.props.onClose()},e.IMMEDIATE_CONTRACTION_DELAY)})}},{key:"clearTimeouts",value:function(){clearTimeout(this.contractionTimeout),clearTimeout(this.contractAndCloseTimeout),clearTimeout(this.expansionTimeout)}},{key:"closeBubble",value:function(){this.props.shouldContract?this.contractAndClose():(this.clearTimeouts(),this.props.onClose&&this.props.onClose())}},{key:"getCornerClass",value:function(){switch(this.props.corner){case"topRight":return"top-right";case"bottomRight":return"bottom-right";case"bottomLeft":return"bottom-left";case"topLeft":return"top-left";default:return"bottom-right"}}}]),t}();t.default=c,e.exports=t.default},function(e,t,n){"use strict";function r(e,t){if(!e)throw Error("Argument 'text' should be truthy");for(var n=function(e){return" "===e||10===e.charCodeAt(0)},r=0,o=e.length,i=t;i-1>-1;i--)if(n(e[i-1])){r=i;break}for(i=t;i<e.length;i++)if(n(e[i])){o=i;break}return{start:r,end:o}}Object.defineProperty(t,"__esModule",{value:!0}),t.getSurroundingWord=r,t.selectWord=function(e){var t=e.text,n=e.selection;return t&&t.length&&n.start===n.end?r(t,n.start):n},t.getBreaksNeededForEmptyLineBefore=function(e,t){if(void 0===e&&(e=""),0===t)return 0;for(var n=2,r=!0,o=t-1;o>=0&&n>=0;o--)switch(e.charCodeAt(o)){case 32:continue;case 10:n--,r=!1;break;default:return n}return r?0:n},t.getBreaksNeededForEmptyLineAfter=function(e,t){if(void 0===e&&(e=""),t===e.length-1)return 0;for(var n=2,r=!0,o=t;o<e.length&&n>=0;o++)switch(e.charCodeAt(o)){case 32:continue;case 10:n--,r=!1;break;default:return n}return r?0:n}},function(e,t,n){"use strict";t.c=function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},n.d(t,"a",function(){return o}),t.b=function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(a,s)}l((r=r.apply(e,t||[])).next())})},t.d=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},t.e=i,t.f=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(i(arguments[t]));return e};var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},o=function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function i(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}},function(e,t,n){(function(e){!function(e){"use strict";var t=e.URLSearchParams&&e.URLSearchParams.prototype.get?e.URLSearchParams:null,n=t&&"a=1"===new t({a:1}).toString(),r=t&&"+"===new t("s=%2B").get("s"),o="__URLSearchParams__",i=!t||function(){var e=new t;return e.append("s"," &"),"s=+%26"===e.toString()}(),a=u.prototype,s=!(!e.Symbol||!e.Symbol.iterator);if(!(t&&n&&r&&i)){a.append=function(e,t){m(this[o],e,t)},a.delete=function(e){delete this[o][e]},a.get=function(e){var t=this[o];return e in t?t[e][0]:null},a.getAll=function(e){var t=this[o];return e in t?t[e].slice(0):[]},a.has=function(e){return e in this[o]},a.set=function(e,t){this[o][e]=[""+t]},a.toString=function(){var e,t,n,r,i=this[o],a=[];for(t in i)for(n=d(t),e=0,r=i[t];e<r.length;e++)a.push(n+"="+d(r[e]));return a.join("&")};var l=!!r&&t&&!n&&e.Proxy;Object.defineProperty(e,"URLSearchParams",{value:l?new Proxy(t,{construct:function(e,t){return new e(new u(t[0]).toString())}}):u});var c=e.URLSearchParams.prototype;c.polyfill=!0,c.forEach=c.forEach||function(e,t){var n=h(this.toString());Object.getOwnPropertyNames(n).forEach(function(r){n[r].forEach(function(n){e.call(t,n,r,this)},this)},this)},c.sort=c.sort||function(){var e,t,n,r=h(this.toString()),o=[];for(e in r)o.push(e);for(o.sort(),t=0;t<o.length;t++)this.delete(o[t]);for(t=0;t<o.length;t++){var i=o[t],a=r[i];for(n=0;n<a.length;n++)this.append(i,a[n])}},c.keys=c.keys||function(){var e=[];return this.forEach(function(t,n){e.push(n)}),f(e)},c.values=c.values||function(){var e=[];return this.forEach(function(t){e.push(t)}),f(e)},c.entries=c.entries||function(){var e=[];return this.forEach(function(t,n){e.push([n,t])}),f(e)},s&&(c[e.Symbol.iterator]=c[e.Symbol.iterator]||c.entries)}function u(e){((e=e||"")instanceof URLSearchParams||e instanceof u)&&(e=e.toString()),this[o]=h(e)}function d(e){var t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'\(\)~]|%20|%00/g,function(e){return t[e]})}function p(e){return decodeURIComponent(e.replace(/\+/g," "))}function f(t){var n={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return s&&(n[e.Symbol.iterator]=function(){return n}),n}function h(e){var t={};if("object"==typeof e)for(var n in e)e.hasOwnProperty(n)&&m(t,n,e[n]);else{0===e.indexOf("?")&&(e=e.slice(1));for(var r=e.split("&"),o=0;o<r.length;o++){var i=r[o],a=i.indexOf("=");-1<a?m(t,p(i.slice(0,a)),p(i.slice(a+1))):i&&m(t,p(i),"")}}return t}function m(e,t,n){var r="string"==typeof n?n:null!==n&&void 0!==n&&"function"==typeof n.toString?n.toString():JSON.stringify(n);t in e?e[t].push(r):e[t]=[r]}}(void 0!==e?e:"undefined"!=typeof window?window:this)}).call(t,n(97))},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=l(n(0)),s=l(n(10));function l(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":r(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default.Component),i(t,[{key:"render",value:function(){return a.default.createElement(s.default,o({},this.props,{addClasses:"textarea-field",type:"textarea"}))}}]),t}();t.default=c,e.exports=t.default},function(e,t,n){var r;void 0===(r=function(){"use strict";return/[^\x20\t\r\n\f]+/g}.call(t,n,t,e))||(e.exports=r)},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=s(n(0)),a=s(n(1));function s(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":r(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={},n._isMounted=!1,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default.Component),o(t,[{key:"componentDidMount",value:function(){this._isMounted=!0}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"render",value:function(){var e=this,t=this.props.isLight?"is-light":"",n=a.default.toClassStr(["simple-progress-bar",t,this.props.addClasses]),r=this.props.barValue/this.props.baseValue*100;return i.default.createElement("div",{className:n,onClick:function(t){return e.handleBarClick(t)}},i.default.createElement("div",{className:"base-bar"},i.default.createElement("div",{className:"value-bar",style:{width:r+"%"},title:this.props.valueTitle})))}},{key:"handleBarClick",value:function(e){this.props.onClick&&(e&&e.stopPropagation(),this.props.onClick())}}]),t}();t.default=l,e.exports=t.default},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=l(n(3)),a=l(n(0)),s=l(n(1));function l(e){return e&&e.__esModule?e:{default:e}}var c={addClasses:i.default.string,buttons:i.default.array,caption:i.default.string,id:i.default.node,isDisabled:i.default.bool,isInline:i.default.bool,label:i.default.string,name:i.default.string,onClick:i.default.func,value:i.default.node},u=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":r(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default.Component),o(t,[{key:"render",value:function(){var e=this.props.isInline?"is-inline":"",t=this.props.isDisabled?"is-disabled":"",n=s.default.toClassStr(["radio-buttons-field",e,t,this.props.addClasses]);return a.default.createElement("div",{className:n},this.renderFieldLabel(),a.default.createElement("ul",{className:"radio-button-list"},this.renderButtons()),this.renderFieldCaption())}},{key:"renderButtons",value:function(){var e=this;return this.props.buttons.map(function(t,n){var r=t.value==e.props.value?"checked":"",o=s.default.toClassStr(["radio-button",t.className,r]);return a.default.createElement("li",{key:n,className:o,id:e.props.name+"-"+t.value,name:e.props.name,"data-value":t.value,onClick:function(){return e.handleButtonClick(t.value)}},t.label)})}},{key:"renderFieldLabel",value:function(){return this.props.label?a.default.createElement("div",{className:"field-label"},this.props.label):null}},{key:"renderFieldCaption",value:function(){return this.props.caption?a.default.createElement("div",{className:"field-caption"},this.props.caption):null}},{key:"handleButtonClick",value:function(e){this.props.isDisabled||this.props.onClick(e)}}]),t}();u.propTypes=c,t.default=u,e.exports=t.default},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(268),a=p(n(2)),s=p(n(6)),l=p(n(4)),c=p(n(0)),u=p(n(8)),d=p(n(1));function p(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":r(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={},n.events=new a.default,n._isMounted=!1,n.userCategory=(0,i.metaContent)("user-cat"),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,c.default.Component),o(t,[{key:"componentDidMount",value:function(){this._isMounted=!0}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"render",value:function(){var e=this,t=d.default.toClassStr(["new-upgrade-modal",this.props.addClasses]),n=this.props.title||"Upgrade To Pro";return c.default.createElement(s.default,{addClasses:t,isOpen:this.props.isOpen,isUndismissable:this.props.isHardPaywall,onCloseRequest:function(){return e.props.onCloseRequest()}},c.default.createElement("div",{className:"new-modal-title"},n),this.renderMessage(),this.renderModalActions())}},{key:"renderMessage",value:function(){if(!this.props.message&&!this.props.desiredAction)return null;var e=this.props.message?this.props.message:this.props.desiredAction+" requires a Pro subscription. Upgade to Pro to gain access to all of Brainscape.";return c.default.createElement("div",{className:"new-modal-message"},e)}},{key:"renderModalActions",value:function(){return"teaches-school"==this.userCategory?this.renderSchoolCategoryActions():"teaches-company"==this.userCategory?this.renderCompanyCategoryActions():this.renderGenericActions()}},{key:"renderGenericActions",value:function(){var e=this;return c.default.createElement("div",{className:"new-modal-actions generic"},c.default.createElement(l.default,{addClasses:"resolve-modal-button",label:"See Features and Pricing",onClick:function(){return e.handleUpgradeButtonClick()}}),c.default.createElement(u.default,{addClasses:"cancel-modal-text-button",label:"No Thanks",onClick:function(){return e.handleCancelButtonClick()}}))}},{key:"renderSchoolCategoryActions",value:function(){var e=this;return c.default.createElement("div",{className:"new-modal-actions school-category"},c.default.createElement("div",{className:"actions-label"},"Show Me:"),c.default.createElement("div",{className:"resolution-buttons"},c.default.createElement(l.default,{addClasses:"resolve-modal-button individual",key:"individual-1",label:"Pricing for individuals",onClick:function(){return e.handleUpgradeButtonClick()}}),c.default.createElement(l.default,{addClasses:"resolve-modal-button school",label:"School Licenses",onClick:function(){return e.handleSchoolLicensesButtonClick()}})),c.default.createElement(u.default,{addClasses:"cancel-modal-text-button",label:"No Thanks",onClick:function(){return e.handleCancelButtonClick()}}))}},{key:"renderCompanyCategoryActions",value:function(){var e=this;return c.default.createElement("div",{className:"new-modal-actions company-category"},c.default.createElement("div",{className:"actions-label"},"Show Me:"),c.default.createElement("div",{className:"resolution-buttons"},c.default.createElement(l.default,{addClasses:"resolve-modal-button individual",key:"individual-1",label:"Pricing for individuals",onClick:function(){return e.handleUpgradeButtonClick()}}),c.default.createElement(l.default,{addClasses:"resolve-modal-button company",label:"Company Licenses",onClick:function(){return e.handleCompanyLicensesButtonClick()}})),c.default.createElement(u.default,{addClasses:"cancel-modal-text-button",label:"No Thanks",onClick:function(){return e.handleCancelButtonClick()}}))}},{key:"handleCancelButtonClick",value:function(){this.props.isHardPaywall?this.props.onHardPaywallCancellationRequest():this.props.onCloseRequest()}},{key:"handleCompanyLicensesButtonClick",value:function(){this.props.isHardPaywall?this.props.onHardPaywallResolutionRequest():this.props.onCloseRequest(),d.default.navigate("/company-licenses?paywall="+this.props.paywall)}},{key:"handleSchoolLicensesButtonClick",value:function(){this.props.isHardPaywall?this.props.onHardPaywallResolutionRequest():this.props.onCloseRequest(),d.default.navigate("/school-licenses?paywall="+this.props.paywall)}},{key:"handleUpgradeButtonClick",value:function(){this.props.isHardPaywall?this.props.onHardPaywallResolutionRequest():this.props.onCloseRequest(),d.default.navigate("/pricing?paywall="+this.props.paywall)}}]),t}();t.default=f,e.exports=t.default},function(e,t,n){var r;void 0===(r=function(){"use strict";return{}}.call(t,n,t,e))||(e.exports=r)},function(e,t,n){var r,o;r=[n(5),n(41),n(11)],void 0===(o=function(e,t,n){"use strict";var r=function(o,i,a,s,l,c,u){var d=0,p=o.length,f=null==a;if("object"===t(a))for(d in l=!0,a)r(o,i,d,a[d],!0,c,u);else if(void 0!==s&&(l=!0,n(s)||(u=!0),f&&(u?(i.call(o,s),i=null):(f=i,i=function(t,n,r){return f.call(e(t),r)})),i))for(;d<p;d++)i(o[d],a,u?s:s.call(o[d],d,i(o[d],a)));return l?o:f?i.call(o):p?i(o[0],a):c};return r}.apply(t,r))||(e.exports=o)},function(e,t,n){var r;void 0===(r=function(){"use strict";return function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}}.call(t,n,t,e))||(e.exports=r)},function(e,t,n){"use strict";(function(r){var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0},s=n(21),l=function(e){return e&&e.__esModule?e:{default:e}}(n(20)),c=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":o(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return Object.defineProperty(n,"preview",{enumerable:!0,writable:!0,value:function(e,t){return(0,s.apiGet)("packs/"+e+"/decks/"+t+"/preview")}}),Object.defineProperty(n,"import",{enumerable:!0,writable:!0,value:function(e,t,n,r){var o=new FormData;t&&o.append("name",t),n&&o.append("desc",n),o.append("file",r);var i={method:"POST",body:o};return(0,s.apiFetch)("packs/"+e+"/decks/import",i)}}),n.memberName="Deck",a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"generateNomenclature",n).call(n),n.schema={name:{key:"name",serverKey:"name",type:"text",label:"Name",tag:"name",isRequired:!0},desc:{key:"desc",serverKey:"desc",type:"textarea",label:"Objective",tag:"desc"},categoryIds:{key:"categoryIds",serverKey:"categoryIds",type:"text",label:"Category ID",tag:"category-ids",onlyAdmin:!0}},n.nameKey="name",n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":o(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.default),i(t,[{key:"create",value:function(e){var t=this.buildUrl(this.getResourceUrlBase(),e.params);return e.reqData.content_type=e.reqData.content_type||"text",r.ajax({type:"POST",url:t,data:JSON.stringify(e.reqData),contentType:"application/json"}).done(function(t,n){e.done&&"function"==typeof e.done&&e.done(t,n)}).fail(function(t,n){e.fail&&"function"==typeof e.fail&&e.fail(t,n)})}},{key:"remove",value:function(e){var t="/packs/"+e.packId+"/deck/"+e.id+".json";return r.ajax({type:"DELETE",url:t}).done(function(t,n){e.done(t)}).fail(function(t,n){e.fail(n,t.responseJSON||{})})}},{key:"resetStats",value:function(e){var t=this.buildUrl(this.getResourceUrlBase()+"/"+e.id+"/reset-stats",e.params);return r.ajax({type:"PATCH",url:t}).done(function(t,n){e.done(t)}).fail(function(t,n){e.fail(n,t.responseJSON||{})})}},{key:"copyAndPlace",value:function(e){var t=this.buildUrl(this.getResourceUrlBase()+"/"+e.id+"/copy_and_place",e.params);return r.ajax({type:"POST",url:t,data:{src_pack_id:e.srcPackId,dst_pack_id:e.dstPackId}}).done(function(t,n){e.done(t)}).fail(function(t,n){e.fail(n,t.responseJSON||{})})}},{key:"deckCategories",value:function(e){var t=this.buildUrl(this.getResourceUrlBase()+"/"+e.id+"/deck-categories",e.params);return r.ajax({type:"GET",url:t}).done(function(t,n){e.done(t)}).fail(function(t,n){e.fail(message,t.responseJSON||{})})}},{key:"validateCategoryIds",value:function(e,t){var n=e.categoryIds;return t[n]?{isValid:!0,invalidFields:[],message:"valid "+this.memberName+" input data",validData:e}:{isValid:!1,invalidFields:["categoryIds"],message:"Can't find a valid category for Id: "+n,validData:null}}}]),t}();t.default=c,e.exports=t.default}).call(t,n(9))},function(e,t,n){"use strict";(function(e){var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0}),t.displayPermission=t.default=void 0;var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0},a=function(e){return e&&e.__esModule?e:{default:e}}(n(20)),s=function(t){function n(e){!function(e,t){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":r(t))&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));return t.memberName="LearnerModel",i(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"generateNomenclature",t).call(t),t.schema={},t.nameKey="learner",t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,a.default),o(n,[{key:"deckStats",value:function(t){var n=this.buildUrl("/packs/"+t.packId+"/users/"+t.userId+".json",t.params);return e.ajax({type:"GET",url:n,contentType:"application/json"}).done(function(e,n){t.done&&"function"==typeof t.done&&t.done(e,n)}).fail(function(e,n){t.fail&&"function"==typeof t.fail&&t.fail(e,n)})}},{key:"updatePermissions",value:function(t){var n=this.buildUrl("/pack_configs/"+t.packConfigId,t.params);return e.ajax({type:"PUT",url:n,data:JSON.stringify(t.reqData),contentType:"application/json",dataType:"text"}).done(function(e,n){t.done&&"function"==typeof t.done&&t.done(e,n)}).fail(function(e,n){t.fail&&"function"==typeof t.fail&&t.fail(e,n)})}},{key:"remove",value:function(t){var n=this.buildUrl("/pack_configs/"+t.packConfigId,t.params);return e.ajax({contentType:"application/json",data:JSON.stringify(t.reqData),type:"DELETE",url:n}).done(function(e,n){t.done&&"function"==typeof t.done&&t.done(e,n)}).fail(function(e,n){t.fail&&"function"==typeof t.fail&&t.fail(e,n)})}}]),n}();t.default=s,t.displayPermission=function(e){return"discovered"==e.medium&&"study"==e.permission?{permissionValue:"preview",permissionLabel:"preview"}:"study"==e.permission?{permissionValue:"study",permissionLabel:"full study"}:{permissionValue:e.permission,permissionLabel:e.permission}}}).call(t,n(9))},function(e,t,n){var r,o;r=[n(67),n(236)],void 0===(o=function(e,t){"use strict";return function(n){return null==n?n+"":"object"==typeof n||"function"==typeof n?e[t.call(n)]||"object":typeof n}}.apply(t,r))||(e.exports=o)},function(e,t,n){var r,o;r=[n(5),n(11),n(68),n(104)],void 0===(o=function(e,t,n){"use strict";function r(e){return e}function o(e){throw e}function i(e,n,r,o){var i;try{e&&t(i=e.promise)?i.call(e).done(n).fail(r):e&&t(i=e.then)?i.call(e,n,r):n.apply(void 0,[e].slice(o))}catch(e){r.apply(void 0,[e])}}return e.extend({Deferred:function(n){var i=[["notify","progress",e.Callbacks("memory"),e.Callbacks("memory"),2],["resolve","done",e.Callbacks("once memory"),e.Callbacks("once memory"),0,"resolved"],["reject","fail",e.Callbacks("once memory"),e.Callbacks("once memory"),1,"rejected"]],a="pending",s={state:function(){return a},always:function(){return l.done(arguments).fail(arguments),this},catch:function(e){return s.then(null,e)},pipe:function(){var n=arguments;return e.Deferred(function(r){e.each(i,function(e,o){var i=t(n[o[4]])&&n[o[4]];l[o[1]](function(){var e=i&&i.apply(this,arguments);e&&t(e.promise)?e.promise().progress(r.notify).done(r.resolve).fail(r.reject):r[o[0]+"With"](this,i?[e]:arguments)})}),n=null}).promise()},then:function(n,a,s){var l=0;function c(n,i,a,s){return function(){var u=this,d=arguments,p=function(){var e,p;if(!(n<l)){if((e=a.apply(u,d))===i.promise())throw new TypeError("Thenable self-resolution");p=e&&("object"==typeof e||"function"==typeof e)&&e.then,t(p)?s?p.call(e,c(l,i,r,s),c(l,i,o,s)):(l++,p.call(e,c(l,i,r,s),c(l,i,o,s),c(l,i,r,i.notifyWith))):(a!==r&&(u=void 0,d=[e]),(s||i.resolveWith)(u,d))}},f=s?p:function(){try{p()}catch(t){e.Deferred.exceptionHook&&e.Deferred.exceptionHook(t,f.stackTrace),n+1>=l&&(a!==o&&(u=void 0,d=[t]),i.rejectWith(u,d))}};n?f():(e.Deferred.getStackHook&&(f.stackTrace=e.Deferred.getStackHook()),window.setTimeout(f))}}return e.Deferred(function(e){i[0][3].add(c(0,e,t(s)?s:r,e.notifyWith)),i[1][3].add(c(0,e,t(n)?n:r)),i[2][3].add(c(0,e,t(a)?a:o))}).promise()},promise:function(t){return null!=t?e.extend(t,s):s}},l={};return e.each(i,function(e,t){var n=t[2],r=t[5];s[t[1]]=n.add,r&&n.add(function(){a=r},i[3-e][2].disable,i[3-e][3].disable,i[0][2].lock,i[0][3].lock),n.add(t[3].fire),l[t[0]]=function(){return l[t[0]+"With"](this===l?void 0:this,arguments),this},l[t[0]+"With"]=n.fireWith}),s.promise(l),n&&n.call(l,l),l},when:function(r){var o=arguments.length,a=o,s=Array(a),l=n.call(arguments),c=e.Deferred(),u=function(e){return function(t){s[e]=this,l[e]=arguments.length>1?n.call(arguments):t,--o||c.resolveWith(s,l)}};if(o<=1&&(i(r,c.done(u(a)).resolve,c.reject,!o),"pending"===c.state()||t(l[a]&&l[a].then)))return c.then();for(;a--;)i(l[a],u(a),c.reject);return c.promise()}}),e}.apply(t,r))||(e.exports=o)},function(e,t,n){var r,o;r=[n(5),n(99),n(321),n(322),n(247),n(38),n(19),n(246),n(16)],void 0===(o=function(e,t,n,r,o,i){"use strict";var a=/^(?:parents|prev(?:Until|All))/,s={children:!0,contents:!0,next:!0,prev:!0};function l(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}return e.fn.extend({has:function(t){var n=e(t,this),r=n.length;return this.filter(function(){for(var t=0;t<r;t++)if(e.contains(this,n[t]))return!0})},closest:function(t,n){var r,i=0,a=this.length,s=[],l="string"!=typeof t&&e(t);if(!o.test(t))for(;i<a;i++)for(r=this[i];r&&r!==n;r=r.parentNode)if(r.nodeType<11&&(l?l.index(r)>-1:1===r.nodeType&&e.find.matchesSelector(r,t))){s.push(r);break}return this.pushStack(s.length>1?e.uniqueSort(s):s)},index:function(n){return n?"string"==typeof n?t.call(e(n),this[0]):t.call(this,n.jquery?n[0]:n):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,n){return this.pushStack(e.uniqueSort(e.merge(this.get(),e(t,n))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),e.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return n(e,"parentNode")},parentsUntil:function(e,t,r){return n(e,"parentNode",r)},next:function(e){return l(e,"nextSibling")},prev:function(e){return l(e,"previousSibling")},nextAll:function(e){return n(e,"nextSibling")},prevAll:function(e){return n(e,"previousSibling")},nextUntil:function(e,t,r){return n(e,"nextSibling",r)},prevUntil:function(e,t,r){return n(e,"previousSibling",r)},siblings:function(e){return r((e.parentNode||{}).firstChild,e)},children:function(e){return r(e.firstChild)},contents:function(t){return void 0!==t.contentDocument?t.contentDocument:(i(t,"template")&&(t=t.content||t),e.merge([],t.childNodes))}},function(t,n){e.fn[t]=function(r,o){var i=e.map(this,n,r);return"Until"!==t.slice(-5)&&(o=r),o&&"string"==typeof o&&(i=e.filter(o,i)),this.length>1&&(s[t]||e.uniqueSort(i),a.test(t)&&i.reverse()),this.pushStack(i)}}),e}.apply(t,r))||(e.exports=o)},function(e,t,n){var r,o;r=[n(5),n(14),n(70),n(11),n(32),n(108),n(68),n(24),n(38),n(19),n(16)],void 0===(o=function(e,t,n,r,o,i,a,s,l){"use strict";var c=/^key/,u=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,d=/^([^.]*)(?:\.(.+)|)/;function p(){return!0}function f(){return!1}function h(e,n){return e===function(){try{return t.activeElement}catch(e){}}()==("focus"===n)}function m(t,n,r,o,i,a){var s,l;if("object"==typeof n){for(l in"string"!=typeof r&&(o=o||r,r=void 0),n)m(t,l,r,o,n[l],a);return t}if(null==o&&null==i?(i=r,o=r=void 0):null==i&&("string"==typeof r?(i=o,o=void 0):(i=o,o=r,r=void 0)),!1===i)i=f;else if(!i)return t;return 1===a&&(s=i,(i=function(t){return e().off(t),s.apply(this,arguments)}).guid=s.guid||(s.guid=e.guid++)),t.each(function(){e.event.add(this,n,i,o,r)})}function g(t,n,r){r?(s.set(t,n,!1),e.event.add(t,n,{namespace:!1,handler:function(t){var o,i,l=s.get(this,n);if(1&t.isTrigger&&this[n]){if(l.length)(e.event.special[n]||{}).delegateType&&t.stopPropagation();else if(l=a.call(arguments),s.set(this,n,l),o=r(this,n),this[n](),l!==(i=s.get(this,n))||o?s.set(this,n,!1):i={},l!==i)return t.stopImmediatePropagation(),t.preventDefault(),i.value}else l.length&&(s.set(this,n,{value:e.event.trigger(e.extend(l[0],e.Event.prototype),l.slice(1),this)}),t.stopImmediatePropagation())}})):void 0===s.get(t,n)&&e.event.add(t,n,p)}return e.event={global:{},add:function(t,r,i,a,l){var c,u,p,f,h,m,g,b,v,y,k,_=s.get(t);if(_)for(i.handler&&(i=(c=i).handler,l=c.selector),l&&e.find.matchesSelector(n,l),i.guid||(i.guid=e.guid++),(f=_.events)||(f=_.events={}),(u=_.handle)||(u=_.handle=function(n){return void 0!==e&&e.event.triggered!==n.type?e.event.dispatch.apply(t,arguments):void 0}),h=(r=(r||"").match(o)||[""]).length;h--;)v=k=(p=d.exec(r[h])||[])[1],y=(p[2]||"").split(".").sort(),v&&(g=e.event.special[v]||{},v=(l?g.delegateType:g.bindType)||v,g=e.event.special[v]||{},m=e.extend({type:v,origType:k,data:a,handler:i,guid:i.guid,selector:l,needsContext:l&&e.expr.match.needsContext.test(l),namespace:y.join(".")},c),(b=f[v])||((b=f[v]=[]).delegateCount=0,g.setup&&!1!==g.setup.call(t,a,y,u)||t.addEventListener&&t.addEventListener(v,u)),g.add&&(g.add.call(t,m),m.handler.guid||(m.handler.guid=i.guid)),l?b.splice(b.delegateCount++,0,m):b.push(m),e.event.global[v]=!0)},remove:function(t,n,r,i,a){var l,c,u,p,f,h,m,g,b,v,y,k=s.hasData(t)&&s.get(t);if(k&&(p=k.events)){for(f=(n=(n||"").match(o)||[""]).length;f--;)if(b=y=(u=d.exec(n[f])||[])[1],v=(u[2]||"").split(".").sort(),b){for(m=e.event.special[b]||{},g=p[b=(i?m.delegateType:m.bindType)||b]||[],u=u[2]&&new RegExp("(^|\\.)"+v.join("\\.(?:.*\\.|)")+"(\\.|$)"),c=l=g.length;l--;)h=g[l],!a&&y!==h.origType||r&&r.guid!==h.guid||u&&!u.test(h.namespace)||i&&i!==h.selector&&("**"!==i||!h.selector)||(g.splice(l,1),h.selector&&g.delegateCount--,m.remove&&m.remove.call(t,h));c&&!g.length&&(m.teardown&&!1!==m.teardown.call(t,v,k.handle)||e.removeEvent(t,b,k.handle),delete p[b])}else for(b in p)e.event.remove(t,b+n[f],r,i,!0);e.isEmptyObject(p)&&s.remove(t,"handle events")}},dispatch:function(t){var n,r,o,i,a,l,c=e.event.fix(t),u=new Array(arguments.length),d=(s.get(this,"events")||{})[c.type]||[],p=e.event.special[c.type]||{};for(u[0]=c,n=1;n<arguments.length;n++)u[n]=arguments[n];if(c.delegateTarget=this,!p.preDispatch||!1!==p.preDispatch.call(this,c)){for(l=e.event.handlers.call(this,c,d),n=0;(i=l[n++])&&!c.isPropagationStopped();)for(c.currentTarget=i.elem,r=0;(a=i.handlers[r++])&&!c.isImmediatePropagationStopped();)c.rnamespace&&!1!==a.namespace&&!c.rnamespace.test(a.namespace)||(c.handleObj=a,c.data=a.data,void 0!==(o=((e.event.special[a.origType]||{}).handle||a.handler).apply(i.elem,u))&&!1===(c.result=o)&&(c.preventDefault(),c.stopPropagation()));return p.postDispatch&&p.postDispatch.call(this,c),c.result}},handlers:function(t,n){var r,o,i,a,s,l=[],c=n.delegateCount,u=t.target;if(c&&u.nodeType&&!("click"===t.type&&t.button>=1))for(;u!==this;u=u.parentNode||this)if(1===u.nodeType&&("click"!==t.type||!0!==u.disabled)){for(a=[],s={},r=0;r<c;r++)void 0===s[i=(o=n[r]).selector+" "]&&(s[i]=o.needsContext?e(i,this).index(u)>-1:e.find(i,this,null,[u]).length),s[i]&&a.push(o);a.length&&l.push({elem:u,handlers:a})}return u=this,c<n.length&&l.push({elem:u,handlers:n.slice(c)}),l},addProp:function(t,n){Object.defineProperty(e.Event.prototype,t,{enumerable:!0,configurable:!0,get:r(n)?function(){if(this.originalEvent)return n(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(t){return t[e.expando]?t:new e.Event(t)},special:{load:{noBubble:!0},click:{setup:function(e){var t=this||e;return i.test(t.type)&&t.click&&l(t,"input")&&g(t,"click",p),!1},trigger:function(e){var t=this||e;return i.test(t.type)&&t.click&&l(t,"input")&&g(t,"click"),!0},_default:function(e){var t=e.target;return i.test(t.type)&&t.click&&l(t,"input")&&s.get(t,"click")||l(t,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},e.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},e.Event=function(t,n){if(!(this instanceof e.Event))return new e.Event(t,n);t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&!1===t.returnValue?p:f,this.target=t.target&&3===t.target.nodeType?t.target.parentNode:t.target,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget):this.type=t,n&&e.extend(this,n),this.timeStamp=t&&t.timeStamp||Date.now(),this[e.expando]=!0},e.Event.prototype={constructor:e.Event,isDefaultPrevented:f,isPropagationStopped:f,isImmediatePropagationStopped:f,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=p,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=p,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=p,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},e.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(e){var t=e.button;return null==e.which&&c.test(e.type)?null!=e.charCode?e.charCode:e.keyCode:!e.which&&void 0!==t&&u.test(e.type)?1&t?1:2&t?3:4&t?2:0:e.which}},e.event.addProp),e.each({focus:"focusin",blur:"focusout"},function(t,n){e.event.special[t]={setup:function(){return g(this,t,h),!1},trigger:function(){return g(this,t),!0},delegateType:n}}),e.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,n){e.event.special[t]={delegateType:n,bindType:n,handle:function(t){var r,o=t.relatedTarget,i=t.handleObj;return o&&(o===this||e.contains(this,o))||(t.type=i.origType,r=i.handler.apply(this,arguments),t.type=n),r}}}),e.fn.extend({on:function(e,t,n,r){return m(this,e,t,n,r)},one:function(e,t,n,r){return m(this,e,t,n,r,1)},off:function(t,n,r){var o,i;if(t&&t.preventDefault&&t.handleObj)return o=t.handleObj,e(t.delegateTarget).off(o.namespace?o.origType+"."+o.namespace:o.origType,o.selector,o.handler),this;if("object"==typeof t){for(i in t)this.off(i,n,t[i]);return this}return!1!==n&&"function"!=typeof n||(r=n,n=void 0),!1===r&&(r=f),this.each(function(){e.event.remove(this,t,r,n)})}}),e}.apply(t,r))||(e.exports=o)},function(e,t,n){var r,o;r=[n(5),n(14),n(11),n(32),n(336),n(260),n(259),n(19),n(337),n(111),n(42),n(261)],void 0===(o=function(e,t,n,r,o,i,a){"use strict";var s=/%20/g,l=/#.*$/,c=/([?&])_=[^&]*/,u=/^(.*?):[ \t]*([^\r\n]*)$/gm,d=/^(?:GET|HEAD)$/,p=/^\/\//,f={},h={},m="*/".concat("*"),g=t.createElement("a");function b(e){return function(t,o){"string"!=typeof t&&(o=t,t="*");var i,a=0,s=t.toLowerCase().match(r)||[];if(n(o))for(;i=s[a++];)"+"===i[0]?(i=i.slice(1)||"*",(e[i]=e[i]||[]).unshift(o)):(e[i]=e[i]||[]).push(o)}}function v(t,n,r,o){var i={},a=t===h;function s(l){var c;return i[l]=!0,e.each(t[l]||[],function(e,t){var l=t(n,r,o);return"string"!=typeof l||a||i[l]?a?!(c=l):void 0:(n.dataTypes.unshift(l),s(l),!1)}),c}return s(n.dataTypes[0])||!i["*"]&&s("*")}function y(t,n){var r,o,i=e.ajaxSettings.flatOptions||{};for(r in n)void 0!==n[r]&&((i[r]?t:o||(o={}))[r]=n[r]);return o&&e.extend(!0,t,o),t}return g.href=o.href,e.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:o.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(o.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":m,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":e.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,n){return n?y(y(t,e.ajaxSettings),n):y(e.ajaxSettings,t)},ajaxPrefilter:b(f),ajaxTransport:b(h),ajax:function(n,b){"object"==typeof n&&(b=n,n=void 0),b=b||{};var y,k,_,w,C,S,P,E,x,O,T=e.ajaxSetup({},b),M=T.context||T,A=T.context&&(M.nodeType||M.jquery)?e(M):e.event,j=e.Deferred(),I=e.Callbacks("once memory"),N=T.statusCode||{},R={},D={},L="canceled",B={readyState:0,getResponseHeader:function(e){var t;if(P){if(!w)for(w={};t=u.exec(_);)w[t[1].toLowerCase()+" "]=(w[t[1].toLowerCase()+" "]||[]).concat(t[2]);t=w[e.toLowerCase()+" "]}return null==t?null:t.join(", ")},getAllResponseHeaders:function(){return P?_:null},setRequestHeader:function(e,t){return null==P&&(e=D[e.toLowerCase()]=D[e.toLowerCase()]||e,R[e]=t),this},overrideMimeType:function(e){return null==P&&(T.mimeType=e),this},statusCode:function(e){var t;if(e)if(P)B.always(e[B.status]);else for(t in e)N[t]=[N[t],e[t]];return this},abort:function(e){var t=e||L;return y&&y.abort(t),F(0,t),this}};if(j.promise(B),T.url=((n||T.url||o.href)+"").replace(p,o.protocol+"//"),T.type=b.method||b.type||T.method||T.type,T.dataTypes=(T.dataType||"*").toLowerCase().match(r)||[""],null==T.crossDomain){S=t.createElement("a");try{S.href=T.url,S.href=S.href,T.crossDomain=g.protocol+"//"+g.host!=S.protocol+"//"+S.host}catch(e){T.crossDomain=!0}}if(T.data&&T.processData&&"string"!=typeof T.data&&(T.data=e.param(T.data,T.traditional)),v(f,T,b,B),P)return B;for(x in(E=e.event&&T.global)&&0==e.active++&&e.event.trigger("ajaxStart"),T.type=T.type.toUpperCase(),T.hasContent=!d.test(T.type),k=T.url.replace(l,""),T.hasContent?T.data&&T.processData&&0===(T.contentType||"").indexOf("application/x-www-form-urlencoded")&&(T.data=T.data.replace(s,"+")):(O=T.url.slice(k.length),T.data&&(T.processData||"string"==typeof T.data)&&(k+=(a.test(k)?"&":"?")+T.data,delete T.data),!1===T.cache&&(k=k.replace(c,"$1"),O=(a.test(k)?"&":"?")+"_="+i+++O),T.url=k+O),T.ifModified&&(e.lastModified[k]&&B.setRequestHeader("If-Modified-Since",e.lastModified[k]),e.etag[k]&&B.setRequestHeader("If-None-Match",e.etag[k])),(T.data&&T.hasContent&&!1!==T.contentType||b.contentType)&&B.setRequestHeader("Content-Type",T.contentType),B.setRequestHeader("Accept",T.dataTypes[0]&&T.accepts[T.dataTypes[0]]?T.accepts[T.dataTypes[0]]+("*"!==T.dataTypes[0]?", "+m+"; q=0.01":""):T.accepts["*"]),T.headers)B.setRequestHeader(x,T.headers[x]);if(T.beforeSend&&(!1===T.beforeSend.call(M,B,T)||P))return B.abort();if(L="abort",I.add(T.complete),B.done(T.success),B.fail(T.error),y=v(h,T,b,B)){if(B.readyState=1,E&&A.trigger("ajaxSend",[B,T]),P)return B;T.async&&T.timeout>0&&(C=window.setTimeout(function(){B.abort("timeout")},T.timeout));try{P=!1,y.send(R,F)}catch(e){if(P)throw e;F(-1,e)}}else F(-1,"No Transport");function F(t,n,r,o){var i,a,s,l,c,u=n;P||(P=!0,C&&window.clearTimeout(C),y=void 0,_=o||"",B.readyState=t>0?4:0,i=t>=200&&t<300||304===t,r&&(l=function(e,t,n){for(var r,o,i,a,s=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(o in s)if(s[o]&&s[o].test(r)){l.unshift(o);break}if(l[0]in n)i=l[0];else{for(o in n){if(!l[0]||e.converters[o+" "+l[0]]){i=o;break}a||(a=o)}i=i||a}if(i)return i!==l[0]&&l.unshift(i),n[i]}(T,B,r)),l=function(e,t,n,r){var o,i,a,s,l,c={},u=e.dataTypes.slice();if(u[1])for(a in e.converters)c[a.toLowerCase()]=e.converters[a];for(i=u.shift();i;)if(e.responseFields[i]&&(n[e.responseFields[i]]=t),!l&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=i,i=u.shift())if("*"===i)i=l;else if("*"!==l&&l!==i){if(!(a=c[l+" "+i]||c["* "+i]))for(o in c)if((s=o.split(" "))[1]===i&&(a=c[l+" "+s[0]]||c["* "+s[0]])){!0===a?a=c[o]:!0!==c[o]&&(i=s[0],u.unshift(s[1]));break}if(!0!==a)if(a&&e.throws)t=a(t);else try{t=a(t)}catch(e){return{state:"parsererror",error:a?e:"No conversion from "+l+" to "+i}}}return{state:"success",data:t}}(T,l,B,i),i?(T.ifModified&&((c=B.getResponseHeader("Last-Modified"))&&(e.lastModified[k]=c),(c=B.getResponseHeader("etag"))&&(e.etag[k]=c)),204===t||"HEAD"===T.type?u="nocontent":304===t?u="notmodified":(u=l.state,a=l.data,i=!(s=l.error))):(s=u,!t&&u||(u="error",t<0&&(t=0))),B.status=t,B.statusText=(n||u)+"",i?j.resolveWith(M,[a,u,B]):j.rejectWith(M,[B,u,s]),B.statusCode(N),N=void 0,E&&A.trigger(i?"ajaxSuccess":"ajaxError",[B,T,i?a:s]),I.fireWith(M,[B,u]),E&&(A.trigger("ajaxComplete",[B,T]),--e.active||e.event.trigger("ajaxStop")))}return B},getJSON:function(t,n,r){return e.get(t,n,r,"json")},getScript:function(t,n){return e.get(t,void 0,n,"script")}}),e.each(["get","post"],function(t,r){e[r]=function(t,o,i,a){return n(o)&&(a=a||i,i=o,o=void 0),e.ajax(e.extend({url:t,type:r,dataType:a,data:o,success:i},e.isPlainObject(t)&&t))}}),e}.apply(t,r))||(e.exports=o)},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=s(n(0)),a=s(n(1));function s(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":r(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={isTransitionedIn:!1,isTransitionedOut:!1,isTransitioningIn:!1,isTransitioningOut:!1},n._isMounted=!1,n.transitionInDelay=null,n.transitionInDuration=null,n.transitionOutDuration=null,n.TRANSITION_IN_DELAY_DEFAULT=100,n.TRANSITION_IN_DURATION_DEFAULT=500,n.TRANSITION_OUT_DURATION_DEFAULT=800,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default.Component),o(t,[{key:"componentDidMount",value:function(){this._isMounted=!0,this.clearTimeoutsAndIntervals(),this.manageTransitionRequests()}},{key:"componentDidUpdate",value:function(e){this.manageTransitionRequests(e)}},{key:"componentWillUnmount",value:function(){this._isMounted=!1,this.clearTimeoutsAndIntervals()}},{key:"render",value:function(){var e=this.state.isTransitioningIn?"is-transitioning-in":"",t=this.state.isTransitioningOut?"is-transitioning-out":"",n=this.state.isTransitionedIn?"is-transitioned-in":"",r=this.state.isTransitionedOut?"is-transitioned-out":"",o=a.default.toClassStr(["transition-wrapper",e,t,n,r,this.props.addClasses]);return i.default.createElement("div",{className:o},this.props.children)}},{key:"invokeTransitionIn",value:function(){var e=this;clearTimeout(this.transitionInDelay),this.setState({isTransitionedIn:!1,isTransitioningIn:!1,isTransitionedOut:!1,isTransitioningOut:!1}),this.transitionInDelay=setTimeout(function(){clearTimeout(e.transitionInDelay),e.setState({isTransitioningIn:!0},function(){e.completeTransitionIn()})},this.props.transitionInDelay||this.TRANSITION_IN_DELAY_DEFAULT)}},{key:"completeTransitionIn",value:function(){var e=this;clearTimeout(this.transitionInDuration),this.transitionInDuration=setTimeout(function(){clearTimeout(e.transitionInDuration),e.setState({isTransitionedIn:!0,isTransitioningIn:!1},function(){e.props.onTransitionedIn&&e.props.onTransitionedIn()})},this.props.transitionInDuration||this.TRANSITION_IN_DURATION_DEFAULT)}},{key:"invokeTransitionOut",value:function(){var e=this;this.setState({isTransitionedOut:!1,isTransitioningOut:!0},function(){e.completeTransitionOut()})}},{key:"completeTransitionOut",value:function(){var e=this;clearTimeout(this.transitionOutDuration),this.transitionOutDuration=setTimeout(function(){clearTimeout(e.transitionOutDuration),e.setState({isTransitionedOut:!0,isTransitioningOut:!1},function(){e.props.onTransitionedOut&&e.props.onTransitionedOut()})},this.props.transitionOutDuration||this.TRANSITION_OUT_DURATION_DEFAULT)}},{key:"manageTransitionRequests",value:function(e){if(!e)return this.props.shouldTransitionIn&&this.invokeTransitionIn(),void(this.props.shouldTransitionOut&&this.invokeTransitionOut());!e.shouldTransitionIn&&this.props.shouldTransitionIn&&this.invokeTransitionIn(),!e.shouldTransitionOut&&this.props.shouldTransitionOut&&this.invokeTransitionOut()}},{key:"clearTimeoutsAndIntervals",value:function(){clearTimeout(this.transitionInDelay),clearTimeout(this.transitionInDuration),clearTimeout(this.transitionOutDuration)}}]),t}();t.default=l,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.cardPath=t.apiPut=t.apiPost=t.apiPatch=t.apiGet=t.apiError=t.apiDelete=void 0;var r=i(n(72)),o=i(n(2));function i(e){return e&&e.__esModule?e:{default:e}}n(30);var a=function(e,t,n){var r="/api/v2/"+e,o={method:t,headers:{"Content-Type":"application/json"}};if(n)if("DELETE"==t||"GET"==t||"HEAD"==t){var i=new URLSearchParams;Object.keys(n).forEach(function(e){return i.append(e,n[e])}),r+="?"+i.toString()}else o.body=JSON.stringify(n);return fetch(r,o).then(s)},s=function(e){if(e.ok)return e.json();var t=e.headers.get("content-type");return t.indexOf("json")>=0?e.json().then(function(t){l({error:t.error,errors:t.errors},e)}):(t.indexOf("html")>=0&&l({error:"Unknown Error (Code: 740)"},e),e.text().then(function(t){l({error:t},e)}))},l=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=new Error(e.error);throw e.errors&&(n.errors=e.errors),t&&(n.url=t.url,n.code=t.status),n};t.apiDelete=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return a(e,"DELETE",t)},t.apiError=function(e){var t={msg:"Unknown Error (code: 433)"};e instanceof Error&&(t.code=e.code,t.msg=e.message,t.url=e.url),r.default.publish("error:msg",t,!0),o.default.emitEvent("error-modal:open",{errorMessage:"There was an error contacting the server: "+t.msg+"."})},t.apiGet=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return a(e,"GET",t)},t.apiPatch=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return a(e,"PATCH",t)},t.apiPost=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return a(e,"POST",t)},t.apiPut=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return a(e,"PUT",t)},t.cardPath=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o="packs/"+e+"/decks/"+t+"/cards/"+n;return r&&(o+="/"+r),o}},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=s(n(0)),a=s(n(1));function s(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":r(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={isFullyClosed:!1,isFullyOpen:!1,isInitializing:!0,isTransitioningIn:!1,isTransitioningOut:!1},n.transitionInTimeout=null,n.postTransitionInTimeout=null,n.postTransitionOutTimeout=null,n.TRANSITION_IN_DELAY=100,n.POST_TRANSITION_IN_DELAY=1e3,n.POST_TRANSITION_OUT_DELAY=500,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default.Component),o(t,[{key:"componentDidMount",value:function(){this.clearTimeoutsAndIntervals(),this.props.isOpen&&this.props.shouldTransitionIn?this.invokeTransitionIn():this.props.isOpen&&this.props.shouldTransitionOut?this.invokeTransitionOut():this.setState({isInitializing:!1})}},{key:"componentDidUpdate",value:function(e){this.props.isOpen&&!e.isOpen&&this.props.shouldTransitionIn&&this.invokeTransitionIn(),!this.props.isOpen&&e.isOpen&&this.props.shouldTransitionOut&&this.invokeTransitionOut()}},{key:"componentWillUnmount",value:function(){this.clearTimeoutsAndIntervals()}},{key:"render",value:function(){var e=a.default.toClassStr(["loading-overlay",this.getTransitionClass(),this.props.addClasses]);return i.default.createElement("div",{className:e},this.renderMessage())}},{key:"renderMessage",value:function(){return this.props.message?i.default.createElement("div",{className:"loading-message"},this.props.message):null}},{key:"getTransitionClass",value:function(){return this.state.isTransitioningIn?"is-transitioning-in":this.state.isTransitioningOut?"is-transitioning-out":this.state.isFullyClosed?"is-fully-closed":this.state.isFullyOpen?"is-fully-open":this.state.isInitializing?"is-initializing":"is-static"}},{key:"invokeTransitionIn",value:function(){var e=this;this.transitionInTimeout=setTimeout(function(){e.setState({isFullyClosed:!1,isFullyOpen:!1,isInitializing:!1,isTransitioningIn:!0,isTransitioningOut:!1},function(){e.completeTransitionIn()}),clearTimeout(e.transitionInTimeout)},this.TRANSITION_IN_DELAY)}},{key:"completeTransitionIn",value:function(){var e=this;this.postTransitionInTimeout=setTimeout(function(){e.setState({isFullyClosed:!1,isFullyOpen:!0,isInitializing:!1,isTransitioningIn:!1,isTransitioningOut:!1}),clearTimeout(e.postTransitionInTimeout)},this.POST_TRANSITION_IN_DELAY)}},{key:"invokeTransitionOut",value:function(){var e=this;this.setState({isFullyClosed:!1,isFullyOpen:!1,isInitializing:!1,isTransitioningIn:!1,isTransitioningOut:!0},function(){e.postTransitionOutTimeout=setTimeout(function(){e.clearTimeoutsAndIntervals(),e.completeTransitionOut()},e.POST_TRANSITION_OUT_DELAY)})}},{key:"completeTransitionOut",value:function(){var e=this;this.setState({isFullyClosed:!0,isFullyOpen:!1,isInitializing:!1,isTransitioningIn:!1,isTransitioningOut:!1},function(){e.props.onClosed&&e.props.onClosed()})}},{key:"clearTimeoutsAndIntervals",value:function(){clearTimeout(this.transitionInTimeout),clearTimeout(this.postTransitionInTimeout),clearTimeout(this.postTransitionOutTimeout)}}]),t}();t.default=l,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(269),o=function(e){return e&&e.__esModule?e:{default:e}}(n(3)),i={categoryId:r.IDType,packId:r.IDType,returnTo:o.default.string},a={appleFlipper:o.default.bool.isRequired,categoryId:r.IDType,onSubmit:o.default.func.isRequired,onSwitch:o.default.func.isRequired,packId:r.IDType,returnTo:o.default.string,source:o.default.string,subject:o.default.string};t.default={formTypes:i,modalTypes:a},e.exports=t.default},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=l(n(600)),a=l(n(0)),s=l(n(1));function l(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":r(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={displayMasteryPercentage:0,masteryDisplayValue:0,pieChartData:[],shouldShowPlaceholder:!0,shouldRemovePlaceholder:!1},n.defaultColors={0:"#29A5DC",1:"#AA0080",2:"#FF8A47",3:"#FFDD00",4:"#7FAE2E",5:"#00A8D7",6:"#1E2633",7:"#CACFD6"},n.ratingLevelLabels={0:"Unrated",1:"Level 1",2:"Level 2",3:"Level 3",4:"Level 4",5:"Level 5",6:"Future Progress",7:"Future Progress"},n.transitionPlaceholderDelay=null,n.removePlaceholderDelay=null,n.countUpMasteryInterval=null,n.TRANSITION_PLACEHOLDER_DELAY=200,n.REMOVE_PLACEHOLDER_DELAY=200,n.MASTERY_COUNT_UP_INTERVAL=50,n._isMounted=!1,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default.Component),o(t,[{key:"UNSAFE_componentWillMount",value:function(){this.updatePieChartData()}},{key:"componentDidMount",value:function(){this._isMounted=!0,this.clearTimeoutsAndIntervals(),this.managePlaceholder(),this.displayMastery()}},{key:"componentDidUpdate",value:function(e,t){this.props.mastery==e.mastery&&this.props.masteryColor==e.masteryColor||this.updatePieChartData()}},{key:"componentWillUnmount",value:function(){this._isMounted=!1,this.clearTimeoutsAndIntervals()}},{key:"render",value:function(){if(0==this.state.pieChartData.length)return null;var e=s.default.toClassStr(["mastery-circle",this.props.addClasses]);return a.default.createElement("div",{className:e},this.renderPieChart(),this.renderPlaceholder(),this.renderMasteryValue(),this.renderMasteryCircleLabel())}},{key:"renderPieChart",value:function(){return s.default.isInternetExplorer()?null:a.default.createElement(i.default,{data:this.state.pieChartData,lineWidth:this.props.lineWidth||15,animate:this.props.shouldAnimate,animationDuration:this.props.animationDuration||2500,startAngle:-90})}},{key:"renderPlaceholder",value:function(){if(!this.props.shouldAnimate||this.state.shouldRemovePlaceholder)return null;var e=this.state.shouldShowPlaceholder?"":"is-fading",t=s.default.toClassStr(["circle-placeholder",e]);return a.default.createElement("div",{className:t})}},{key:"renderMasteryValue",value:function(){if(!this.props.shouldShowMasteryValue)return null;var e=this.props.mastery?this.props.mastery:"",t=this.props.shouldCountUpMastery?this.state.displayMasteryPercentage:s.default.percentageStr(e);return a.default.createElement("div",{className:"mastery-value"},a.default.createElement("div",{className:"value-data"},t,"%"),this.renderMasteryValueLabel())}},{key:"renderMasteryValueLabel",value:function(){return this.props.shouldShowMasteryValueLabel?a.default.createElement("div",{className:"value-label"},"Mastery"):null}},{key:"renderMasteryCircleLabel",value:function(){return this.props.label?a.default.createElement("h4",{className:"mastery-circle-label"},this.props.label):null}},{key:"updatePieChartData",value:function(){this.props.isSpectrum?this.mapRatingLevelsToPie():this.mapMasteryToPie()}},{key:"mapRatingLevelsToPie",value:function(){for(var e=this,t=this.props.ratingLevelCounts,n=t.slice(1).map(function(t,n){return{title:e.ratingLevelLabels[n+1],key:n+1,value:t,color:e.defaultColors[n+1]}}),r=0,o=1;o<=5;o++)r+=t[o];var i=r/this.props.mastery-r,a=this.props.isLight?this.defaultColors[7]:this.defaultColors[6];n[5]={title:"Future Progress",key:6,value:i,color:a},this.setState({pieChartData:n})}},{key:"mapMasteryToPie",value:function(){var e=[],t=this.props.mastery||0,n=this.props.masteryColor||this.defaultColors[5];e[0]={title:"Overall Mastery",key:1,value:t,color:n};var r=this.props.isLight?this.defaultColors[7]:this.defaultColors[6];e[5]={title:"Future Progress",key:2,value:1-t,color:r},this.setState({pieChartData:e})}},{key:"managePlaceholder",value:function(){this.props.shouldAnimate&&this.transitionPlaceholder()}},{key:"transitionPlaceholder",value:function(){var e=this;clearTimeout(this.transitionPlaceholderDelay);var t=this.props.animationDuration||0;this.transitionPlaceholderDelay=setTimeout(function(){clearTimeout(e.transitionPlaceholderDelay),e.setState({shouldShowPlaceholder:!1},function(){e.removePlaceholder()})},t+this.TRANSITION_PLACEHOLDER_DELAY)}},{key:"removePlaceholder",value:function(){var e=this;clearTimeout(this.removePlaceholderDelay),this.removePlaceholderDelay=setTimeout(function(){clearTimeout(e.removePlaceholderDelay),e.setState({shouldRemovePlaceholder:!0})},this.REMOVE_PLACEHOLDER_DELAY)}},{key:"displayMastery",value:function(){if(!this.props.shouldCountUpMastery)return this.setState({masteryDisplayValue:this.props.mastery}),!0;this.countUpMastery()}},{key:"countUpMastery",value:function(){var e=this,t=(1e3*this.props.mastery).toString().split(".")[0],n=parseInt(t),r=0,o=void 0;this.countUpMasteryInterval=setInterval(function(){r>=n?(e.setState({displayMasteryPercentage:(n/10).toFixed(1)}),clearInterval(e.countUpMasteryInterval)):(e.setState({displayMasteryPercentage:(r/10).toFixed(1)}),o=e.getIncrement(r,n),r+=o)},this.MASTERY_COUNT_UP_INTERVAL)}},{key:"getIncrement",value:function(e,t){var n=Math.floor(e%10),r=Math.floor(e/10%10),o=Math.floor(e/100%10),i=Math.floor(t%10),a=Math.floor(t/10%10);return o>=1&&r>=a?100:r>=1&&n>=i?10:1}},{key:"clearTimeoutsAndIntervals",value:function(){clearTimeout(this.transitionPlaceholderDelay),clearTimeout(this.removePlaceholderDelay),clearInterval(this.countUpMasteryInterval)}}]),t}();t.default=c,e.exports=t.default},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=c(n(2)),a=c(n(35)),s=c(n(0)),l=c(n(1));function c(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":r(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return Object.defineProperty(n,"handleOpenRequest",{enumerable:!0,writable:!0,value:function(e){n.setState({isModalOpen:!0,viewProps:e}),!l.default.isBlank(e.paywall)&&e.warning&&l.default.trackPaywallWarning(e.paywall)}}),Object.defineProperty(n,"handleCloseRequest",{enumerable:!0,writable:!0,value:function(){var e=n.state.viewProps,t=e&&e.onCloseRequest?e.onCloseRequest:null;n.setState({isModalOpen:!1},t)}}),n.state={isModalOpen:!1,viewProps:null},n.events=new i.default,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.default.Component),o(t,[{key:"componentDidMount",value:function(){this.events.addListener("upgrade-modal:open",this.handleOpenRequest),this.events.addListener("upgrade-modal:close",this.handleCloseRequest)}},{key:"componentWillUnmount",value:function(){this.events.disable()}},{key:"render",value:function(){var e=this.state.viewProps;return e?s.default.createElement(a.default,{desiredAction:e.desiredAction,isOpen:this.state.isModalOpen,message:e.message,onCloseRequest:this.handleCloseRequest,paywall:e.paywall,title:e.title}):null}}]),t}();t.default=u,e.exports=t.default},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=c(n(27)),a=c(n(4)),s=c(n(0)),l=c(n(1));function c(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":r(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.default.Component),o(t,[{key:"render",value:function(){var e=this,t=l.default.toClassStr(["bubble-dialog",this.props.addClasses]);return s.default.createElement(i.default,{addClasses:t,contractionDelay:this.props.contractionDelay,corner:this.props.corner,expansionDelay:this.props.expansionDelay,shouldAutoContract:this.props.shouldAutoContract,shouldClose:this.props.shouldClose,shouldContract:this.props.shouldContract,shouldExpand:this.props.shouldExpand,onClose:function(){return e.props.onClose()},size:this.props.size},s.default.createElement("div",{className:"dialog-content"},this.renderBubbleTitle(),this.renderBubbleMessage(),s.default.createElement("div",{className:"bubble-actions"},this.renderResolveBubbleButton(),this.renderCancelBubbleButton())))}},{key:"renderBubbleTitle",value:function(){if(!this.props.title)return null;var e=this.props.shouldPulseTitle?"pulse":"",t=l.default.toClassStr(["bubble-title",e]);return s.default.createElement("h4",{className:t},this.props.title)}},{key:"renderBubbleMessage",value:function(){return this.props.message?s.default.createElement("div",{className:"bubble-message"},this.props.message):null}},{key:"renderResolveBubbleButton",value:function(){var e=this;return this.props.resolveText?s.default.createElement(a.default,{label:this.props.resolveText,onClick:function(){return e.props.handleResolveClick()}}):null}},{key:"renderCancelBubbleButton",value:function(){var e=this;return this.props.cancelText?s.default.createElement(a.default,{label:this.props.cancelext,onClick:function(){return e.props.handleCancelClick()}}):null}},{key:"handleResolveClick",value:function(){this.props.onResolution?this.props.onResolution():this.props.onClose&&this.props.onClose()}},{key:"handleCancelClick",value:function(){this.props.onCancellation?this.props.onCancellation():this.props.onClose&&this.props.onClose()}}]),t}();t.default=u,e.exports=t.default},function(e,t,n){"use strict";function r(e){return"string"==typeof e}function o(e){return Array.isArray(e)&&e.length>0}function i(e){return"object"==typeof e}Object.defineProperty(t,"__esModule",{value:!0}),t.classNames=function e(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var a=[],s=0;s<t.length;s++){var l=t[s];if(l)if(r(l))a.push(l);else if(o(l)){var c=e.apply(null,l);c&&a.push(c)}else if(i(l))for(var u in l)l.hasOwnProperty(u)&&l[u]&&a.push(u)}return a.join(" ")}},function(e,t,n){var r,o;r=[n(5),n(37),n(57),n(103),n(101),n(100),n(240),n(241),n(233),n(242),n(243),n(102),n(244),n(19),n(248),n(16)],void 0===(o=function(e,t,n,r,o,i,a,s,l,c,u,d,p){"use strict";var f=/^(none|table(?!-c[ea]).+)/,h=/^--/,m={position:"absolute",visibility:"hidden",display:"block"},g={letterSpacing:"0",fontWeight:"400"};function b(e,t,n){var o=r.exec(t);return o?Math.max(0,o[2]-(n||0))+(o[3]||"px"):t}function v(t,n,r,o,a,s){var l="width"===n?1:0,c=0,u=0;if(r===(o?"border":"content"))return 0;for(;l<4;l+=2)"margin"===r&&(u+=e.css(t,r+i[l],!0,a)),o?("content"===r&&(u-=e.css(t,"padding"+i[l],!0,a)),"margin"!==r&&(u-=e.css(t,"border"+i[l]+"Width",!0,a))):(u+=e.css(t,"padding"+i[l],!0,a),"padding"!==r?u+=e.css(t,"border"+i[l]+"Width",!0,a):c+=e.css(t,"border"+i[l]+"Width",!0,a));return!o&&s>=0&&(u+=Math.max(0,Math.ceil(t["offset"+n[0].toUpperCase()+n.slice(1)]-s-u-c-.5))||0),u}function y(t,n,r){var i=a(t),s=(!d.boxSizingReliable()||r)&&"border-box"===e.css(t,"boxSizing",!1,i),c=s,u=l(t,n,i),p="offset"+n[0].toUpperCase()+n.slice(1);if(o.test(u)){if(!r)return u;u="auto"}return(!d.boxSizingReliable()&&s||"auto"===u||!parseFloat(u)&&"inline"===e.css(t,"display",!1,i))&&t.getClientRects().length&&(s="border-box"===e.css(t,"boxSizing",!1,i),(c=p in t)&&(u=t[p])),(u=parseFloat(u)||0)+v(t,n,r||(s?"border":"content"),c,i,u)+"px"}return e.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=l(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(t,o,i,a){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var s,l,u,f=n(o),m=h.test(o),g=t.style;if(m||(o=p(f)),u=e.cssHooks[o]||e.cssHooks[f],void 0===i)return u&&"get"in u&&void 0!==(s=u.get(t,!1,a))?s:g[o];"string"===(l=typeof i)&&(s=r.exec(i))&&s[1]&&(i=c(t,o,s),l="number"),null!=i&&i==i&&("number"!==l||m||(i+=s&&s[3]||(e.cssNumber[f]?"":"px")),d.clearCloneStyle||""!==i||0!==o.indexOf("background")||(g[o]="inherit"),u&&"set"in u&&void 0===(i=u.set(t,i,a))||(m?g.setProperty(o,i):g[o]=i))}},css:function(t,r,o,i){var a,s,c,u=n(r);return h.test(r)||(r=p(u)),(c=e.cssHooks[r]||e.cssHooks[u])&&"get"in c&&(a=c.get(t,!0,o)),void 0===a&&(a=l(t,r,i)),"normal"===a&&r in g&&(a=g[r]),""===o||o?(s=parseFloat(a),!0===o||isFinite(s)?s||0:a):a}}),e.each(["height","width"],function(t,n){e.cssHooks[n]={get:function(t,r,o){if(r)return!f.test(e.css(t,"display"))||t.getClientRects().length&&t.getBoundingClientRect().width?y(t,n,o):s(t,m,function(){return y(t,n,o)})},set:function(t,o,i){var s,l=a(t),c=!d.scrollboxSize()&&"absolute"===l.position,u=(c||i)&&"border-box"===e.css(t,"boxSizing",!1,l),p=i?v(t,n,i,u,l):0;return u&&c&&(p-=Math.ceil(t["offset"+n[0].toUpperCase()+n.slice(1)]-parseFloat(l[n])-v(t,n,"border",!1,l)-.5)),p&&(s=r.exec(o))&&"px"!==(s[3]||"px")&&(t.style[n]=o,o=e.css(t,n)),b(0,o,p)}}}),e.cssHooks.marginLeft=u(d.reliableMarginLeft,function(e,t){if(t)return(parseFloat(l(e,"marginLeft"))||e.getBoundingClientRect().left-s(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),e.each({margin:"",padding:"",border:"Width"},function(t,n){e.cssHooks[t+n]={expand:function(e){for(var r=0,o={},a="string"==typeof e?e.split(" "):[e];r<4;r++)o[t+i[r]+n]=a[r]||a[r-2]||a[0];return o}},"margin"!==t&&(e.cssHooks[t+n].set=b)}),e.fn.extend({css:function(n,r){return t(this,function(t,n,r){var o,i,s={},l=0;if(Array.isArray(n)){for(o=a(t),i=n.length;l<i;l++)s[n[l]]=e.css(t,n[l],!1,o);return s}return void 0!==r?e.style(t,n,r):e.css(t,n)},n,r,arguments.length>1)}}),e}.apply(t,r))||(e.exports=o)},function(e,t,n){var r;void 0===(r=function(){"use strict";return[]}.call(t,n,t,e))||(e.exports=r)},function(e,t,n){var r;void 0===(r=function(){"use strict";return function(e){return null!=e&&e===e.window}}.call(t,n,t,e))||(e.exports=r)},function(e,t,n){var r;void 0===(r=function(){"use strict";var e=/^-ms-/,t=/-([a-z])/g;function n(e,t){return t.toUpperCase()}return function(r){return r.replace(e,"ms-").replace(t,n)}}.apply(t,[]))||(e.exports=r)},function(e,t,n){"use strict";var r=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(e){r[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var n,a,s=function(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),l=1;l<arguments.length;l++){for(var c in n=Object(arguments[l]))o.call(n,c)&&(s[c]=n[c]);if(r){a=r(n);for(var u=0;u<a.length;u++)i.call(n,a[u])&&(s[a[u]]=n[a[u]])}}return s}},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=l(n(115)),a=l(n(2)),s=l(n(0));function l(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":r(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return Object.defineProperty(n,"handleCloseRequest",{enumerable:!0,writable:!0,value:function(){n.setState({isModalOpen:!1},function(){n.state.viewProps&&n.state.viewProps.onCloseRequest&&n.state.viewProps.onCloseRequest()})}}),Object.defineProperty(n,"handleClosed",{enumerable:!0,writable:!0,value:function(){var e=n.state.viewProps.onClosed;n.setState({viewProps:null},function(){e&&e()})}}),Object.defineProperty(n,"handleConfirmationResolution",{enumerable:!0,writable:!0,value:function(){n.state.viewProps&&n.state.viewProps.onResolution&&n.state.viewProps.onResolution()}}),n.state={isModalOpen:!1,viewProps:null},n.events=new a.default,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.default.Component),o(t,[{key:"componentDidMount",value:function(){var e=this;this.events.addListener("copy-and-place-cards-modal-set:open",function(t){return e.setState({isModalOpen:!0,viewProps:t})}),this.events.addListener("copy-and-place-cards-modal-set:close",function(){e.handleCloseRequest()})}},{key:"componentWillUnmount",value:function(){this.events.disable()}},{key:"render",value:function(){var e=this.state.viewProps;return e?s.default.createElement(i.default,{addClasses:e.addClasses,cardIds:e.cardIds,contentType:e.contentType,deckId:e.deckId,isOpen:this.state.isModalOpen,isProcessing:e.isProcessing,onClosed:this.handleClosed,onCloseRequest:this.handleCloseRequest,packId:e.packId}):null}}]),t}();t.default=c,e.exports=t.default},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=u(n(119)),s=u(n(2)),l=u(n(0)),c=n(21);function u(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":r(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return Object.defineProperty(n,"componentDidMount",{enumerable:!0,writable:!0,value:function(){n.events.addListeners([["card:updated",n.handleCardUpdated],["deck-preview-modal:close",n.handleCloseRequest],["deck-preview-modal:open",n.handleOpenRequest],["userCard:updated",n.handleUserCardUpdated]])}}),Object.defineProperty(n,"componentWillUnmount",{enumerable:!0,writable:!0,value:function(){return n.events.disable()}}),Object.defineProperty(n,"handleOpenRequest",{enumerable:!0,writable:!0,value:function(e){(0,c.apiGet)("packs/"+e.packId+"/decks/"+e.deckId+"/preview").then(function(t){e.onReady&&e.onReady();var r=o({},t,{onClosed:e.handleModalClosed,onCloseRequest:e.handleCloseRequest});n.setState({isDeckPreviewModalOpen:!0,modalProps:r})}).catch(function(t){e.onReady&&e.onReady(),alert("Could not open the preview: "+t.message)})}}),Object.defineProperty(n,"handleCloseRequest",{enumerable:!0,writable:!0,value:function(){var e=n.state.modalProps&&n.state.modalProps.onCloseRequest;n.setState({isDeckPreviewModalOpen:!1},e)}}),Object.defineProperty(n,"handleClosed",{enumerable:!0,writable:!0,value:function(){var e=n.state.modalProps.onClosed;n.setState({modalProps:null},e)}}),Object.defineProperty(n,"handleCardUpdated",{enumerable:!0,writable:!0,value:function(e){if(n.state.modalProps){var t=!1,r=e.card,i=n.state.modalProps.cards.map(function(e){return r.cardId!=e.cardId?e:(t=!0,o({},e,{question:r.question,answer:r.answer}))});if(t){var a=o({},n.state.modalProps,{cards:i});n.setState({modalProps:a})}}}}),Object.defineProperty(n,"handleUserCardUpdated",{enumerable:!0,writable:!0,value:function(e){if(n.state.modalProps){var t=e.userCard;if(t){var r=!1,i=n.state.modalProps.cards.map(function(e){return t.cardId!=e.cardId?e:(r=!0,o({},e,{level:t.level}))});if(r){var a=o({},n.state.modalProps,{cards:i});n.setState({modalProps:a})}}}}}),n.state={isDeckPreviewModalOpen:!1,modalProps:null},n.events=new s.default,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.default.Component),i(t,[{key:"render",value:function(){var e=this.state.modalProps;return e?l.default.createElement(a.default,{canCopyAndPlace:e.canCopyAndPlace,cardLimitCount:15,cardLimitPercentage:40,cards:e.cards,deck:e.deck,enrollmentPath:e.enrollmentPath,isDeckEditable:e.isDeckEditable,isOpen:this.state.isDeckPreviewModalOpen,isUserPro:e.isUserPro,onCloseRequest:this.handleCloseRequest,onClosed:this.handleModalClosed,pack:e.pack,shouldEnforceCardBlur:!0,shouldEnforceTableBlur:!0,upgradePath:e.upgradePath}):null}}]),t}();t.default=d,e.exports=t.default},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=l(n(76)),a=l(n(2)),s=l(n(0));function l(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":r(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return Object.defineProperty(n,"handleCloseRequest",{enumerable:!0,writable:!0,value:function(){n.setState({isModalOpen:!1},function(){n.state.viewProps&&n.state.viewProps.onCloseRequest&&n.state.viewProps.onCloseRequest()})}}),Object.defineProperty(n,"handleClosed",{enumerable:!0,writable:!0,value:function(){var e=n.state.viewProps.onClosed;n.setState({viewProps:null},function(){e&&e()})}}),n.state={isModalOpen:!1,viewProps:null},n.events=new a.default,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.default.Component),o(t,[{key:"componentDidMount",value:function(){var e=this;this.events.addListener("dialog-modal:open",function(t){return e.setState({isModalOpen:!0,viewProps:t})}),this.events.addListener("dialog-modal:close",function(){e.handleCloseRequest()})}},{key:"componentWillUnmount",value:function(){this.events.disable()}},{key:"render",value:function(){var e=this.state.viewProps;return e?s.default.createElement(i.default,{addClasses:e.addClasses,cancelButtonStyle:e.cancelButtonStyle,cancelButtonText:e.cancelButtonText,children:e.children,isMessageHtml:e.isMessageHtml,isOpen:this.state.isModalOpen,message:e.message,onCancellation:e.onCancellation,onClosed:this.handleClosed,onCloseRequest:this.handleCloseRequest,onResolution:e.onResolution,postfix:e.postfix,resolveButtonStyle:e.resolveButtonStyle,resolveButtonText:e.resolveButtonText,shouldSuppressCancelButton:e.shouldSuppressCancelButton,shouldSuppressResolveButton:e.shouldSuppressResolveButton,title:e.title}):null}}]),t}();t.default=c,e.exports=t.default},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=n(47),a=c(n(125)),s=c(n(2)),l=c(n(0));function c(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":r(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return Object.defineProperty(n,"componentDidMount",{enumerable:!0,writable:!0,value:function(){n.events.addListener("edit-card:request",n.handleRequest)}}),Object.defineProperty(n,"componentWillUnmount",{enumerable:!0,writable:!0,value:function(){return n.events.disable()}}),Object.defineProperty(n,"render",{enumerable:!0,writable:!0,value:function(){var e=n.state.editProps;if(!e)return null;var t=e.rqOpts,r=e.rsOpts;return l.default.createElement(a.default,{card:r.card,cardId:t.cardId,deckId:t.deckId,isUserPro:r.isUserPro,onCompleted:n.handleEditCompleted,packId:t.packId})}}),Object.defineProperty(n,"handleEditCompleted",{enumerable:!0,writable:!0,value:function(e){var t=n.state.editProps;if(!t)return null;var r=t.rqOpts,o=t.rsOpts;n.setState({editProps:null},function(){n.safeOnComplete(r,o,{card:e.card,cardChanged:e.cardChanged})})}}),Object.defineProperty(n,"handleRequest",{enumerable:!0,writable:!0,value:function(e){var t=e.packId,r=e.deckId,o=e.cardId,a=(0,i.cardPath)(t,r,o,"edit/request");(0,i.apiGet)(a).then(function(t){switch(t.editType){case"modal":n.setState({editProps:{rqOpts:e,rsOpts:t},isUserPro:t.isUserPro});break;case"suggest":n.openSuggestEdit(e,t);break;case"redirect":window.location=t.url;break;default:var r=new Error("unknown response ("+t.editType+")");(0,i.apiError)(r),n.safeOnComplete(e,t,{error:r})}}).catch(i.apiError)}}),Object.defineProperty(n,"openSuggestEdit",{enumerable:!0,writable:!0,value:function(e,t){s.default.emitEvent("suggest-edit-modal-set:open",{cardContentType:t.suggestEdit.contentType,cardId:e.cardId,deckId:e.deckId,isUserPro:t.isUserPro,packId:e.packId,onCloseRequest:function(){return n.safeOnComplete(e,t)},suggestionMetadata:t.suggestEdit})}}),Object.defineProperty(n,"safeOnComplete",{enumerable:!0,writable:!0,value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};e.onComplete&&e.onComplete(o({editType:t.editType},n))}}),n.state={isModalOpen:!1,viewProps:null},n.events=new s.default,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.default.Component),t}();u.propTypes={},t.default=u,e.exports=t.default},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=l(n(0)),a=l(n(10)),s=l(n(1));function l(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":r(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={isInClipboard:!1},n._isMounted=!1,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default.Component),o(t,[{key:"componentDidMount",value:function(){this._isMounted=!0}},{key:"componentDidUpdate",value:function(e){var t=this;e.value!=this.props.value&&this.setState({isInClipboard:!1}),!e.shouldResetLink&&this.props.shouldResetLink&&this.setState({isInClipboard:!1},function(){t.props.onResetLink()})}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"render",value:function(){var e=this,t=this.state.isInClipboard?"is-in-clipboard":"",n=s.default.toClassStr(["copy-to-clipboard-link",t]),r=this.state.isInClipboard?"Copied to Clipboard":"Copy to Clipboard";return i.default.createElement("div",{className:n,onClick:function(t){return e.handleCopyToClipboardClick(t)}},r,this.renderVirtualInputElem())}},{key:"renderVirtualInputElem",value:function(){return this.props.isDisplayedInInputElem?null:i.default.createElement(a.default,{addClasses:"virtual-input-elem",isReadOnly:!0,value:this.props.value})}},{key:"handleCopyToClipboardClick",value:function(e){e.stopPropagation();var t=this.props.isDisplayedInInputElem?this.props.inputElemSelector:".virtual-input-elem .text-input";document.querySelector(t).select(),document.execCommand("copy"),this.setState({isInClipboard:!0})}}]),t}();t.default=c,e.exports=t.default},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=l(n(13)),a=l(n(0)),s=l(n(1));function l(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":r(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={},n._isMounted=!1,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default.Component),o(t,[{key:"componentDidMount",value:function(){this._isMounted=!0}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"render",value:function(){var e=this.props.place||"bottom",t=(this.props.label,s.default.toClassStr(["permissions-tooltip-wrapper",this.props.addClasses]));return this.props.isPackPrivate?a.default.createElement(i.default,{addClasses:t,label:"permission-tooltip",place:e},a.default.createElement("div",{className:"tooltip-content"},a.default.createElement("div",{className:"tooltip-heading"},"User Permissions (Private Class)"),a.default.createElement("p",{className:"tooltip-text"},a.default.createElement("em",null,"-- Private Classes can only be accessed by Pro Users")),a.default.createElement("p",{className:"tooltip-text"},a.default.createElement("strong",null,"Preview or Full Study"),": Pro Users have the ability to study all Decks in a Class. Assigning Preview rights will not limit the number of Decks a Pro User can study."),a.default.createElement("p",{className:"tooltip-text"},a.default.createElement("strong",null,"Edit"),": Pro User can study all Decks and can add and delete Decks and Cards."),a.default.createElement("p",{className:"tooltip-text"},a.default.createElement("strong",null,"Admin"),": Pro User has full rights to this Class (including all Read, Write, Share, and Delete rights)."))):a.default.createElement(i.default,{addClasses:t,label:"permission-tooltip",place:e},a.default.createElement("div",{className:"tooltip-content"},a.default.createElement("div",{className:"tooltip-heading"},"User Permissions"),a.default.createElement("p",{className:"tooltip-text"},a.default.createElement("strong",null,"Preview"),": User can study a limited number of Decks in this Class (If Pro they can access all Decks)."),a.default.createElement("p",{className:"tooltip-text"},a.default.createElement("strong",null,"Full Study"),": User can study all Decks in this Class (Whether they are Pro or not)."),a.default.createElement("p",{className:"tooltip-text"},a.default.createElement("strong",null,"Edit"),": User can study all Decks and can add and delete Decks and Cards."),a.default.createElement("p",{className:"tooltip-text"},a.default.createElement("strong",null,"Admin"),": User has full rights to this Class (including all Read, Write, Share, and Delete rights).")))}}]),t}();t.default=c,e.exports=t.default},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=l(n(0)),s=l(n(1));function l(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":r(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default.Component),i(t,[{key:"render",value:function(){if(!this.props.videoUrl)return null;var e=s.default.toClassStr(["video-embed",this.props.addClasses]),t={},n=s.default.appendQueryParam(this.props.videoUrl,"rel",0);return this.props.shouldAutoPlay&&(t.allow="autoplay; encrypted-media",n=s.default.appendQueryParam(n,"autoplay",1)),a.default.createElement("div",{className:e},a.default.createElement("iframe",o({className:"video-iframe",width:"100%",height:"100%",src:n,frameBorder:"0",allowFullScreen:!0},t)))}}]),t}();t.default=c,e.exports=t.default},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(7),a=p(n(13)),s=p(n(26)),l=p(n(3)),c=p(n(0)),u=p(n(10)),d=p(n(1));function p(e){return e&&e.__esModule?e:{default:e}}var f={addClasses:l.default.string,isEditing:l.default.bool,fieldId:l.default.node,fieldKey:l.default.node,fieldLabel:l.default.string,fieldType:l.default.string,fieldValue:l.default.node,onChange:l.default.func,onOverCharLimitChange:l.default.func,onRemoveTagRequest:l.default.func,options:l.default.array,pack:l.default.object,placeholder:l.default.string,tooltip:l.default.string},h=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":r(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return Object.defineProperty(n,"render",{enumerable:!0,writable:!0,value:function(){var e=n.props.fieldValue||"Unspecified",t=n.props.isEditing&&n.props.fieldType?"is-editing":"",r=n.props.isEditing&&"textField"==n.props.fieldType?"text-meta-field":"",o="Unspecified"==e?"unspecified":"",i=n.getLanguageClass(e),a=d.default.toClassStr(["pack-meta-field",t,r,o,i,n.props.addClasses]);return n.props.isEditing&&n.props.fieldType?c.default.createElement("li",{className:a},n.renderLabel(),n.renderInputField()):c.default.createElement("li",{className:a},n.renderLabel(),c.default.createElement("div",{className:"meta-field-value"},e))}}),Object.defineProperty(n,"handleOverCharLimitChange",{enumerable:!0,writable:!0,value:function(e){n.setState({caption:e?"Over Limit":""}),n.props.onOverCharLimitChange&&n.props.onOverCharLimitChange(n.props.fieldId,e)}}),Object.defineProperty(n,"handlePulldownButtonClick",{enumerable:!0,writable:!0,value:function(){var e=n.state.isPulldownOpen;n.setState({isPulldownOpen:!e})}}),Object.defineProperty(n,"handlePulldownOptionClick",{enumerable:!0,writable:!0,value:function(e){n.props.onChange(n.props.fieldId,e),n.setState({isPulldownOpen:!1})}}),Object.defineProperty(n,"handlePulldownOutsideClick",{enumerable:!0,writable:!0,value:function(){n.setState({isPulldownOpen:!1})}}),Object.defineProperty(n,"handleRemoveTagButtonClick",{enumerable:!0,writable:!0,value:function(){n.props.onRemoveTagRequest(n.props.fieldId)}}),Object.defineProperty(n,"handleTextFieldChange",{enumerable:!0,writable:!0,value:function(e){n.props.onChange(n.props.fieldId,e.target.value)}}),n.state={caption:"",isPulldownOpen:!1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,c.default.Component),o(t,[{key:"renderLabel",value:function(){return this.props.fieldLabel?c.default.createElement("div",{className:"meta-field-label"},c.default.createElement("div",{className:"label-text"},this.props.fieldLabel),this.renderFieldLabelTooltip()):null}},{key:"renderFieldLabelTooltip",value:function(){if(!this.props.tooltip)return null;var e=this.props.fieldKey+"_tooltip";return c.default.createElement(a.default,{addClasses:"field-label-tooltip",label:e,place:"right"},c.default.createElement("div",{className:"tooltip-content"},c.default.createElement("p",{className:"tooltip-text"},this.props.tooltip)))}},{key:"renderInputField",value:function(){switch(this.props.fieldType){case"textField":return this.renderTextField();case"pulldown":return this.renderPulldown();case"tag":return this.renderTag();default:return this.renderTextField()}}},{key:"renderPulldown",value:function(){var e=this.props.fieldValue||-1;return c.default.createElement(s.default,{addClasses:"meta-field-pulldown",isOpen:this.state.isPulldownOpen,options:this.props.options,selectedValue:e,shouldSuppressNullOption:!1,onButtonClick:this.handlePulldownButtonClick,onOptionClick:this.handlePulldownOptionClick,onOutsideClick:this.handlePulldownOutsideClick})}},{key:"renderTextField",value:function(){return c.default.createElement(u.default,{addClasses:"meta-text-field",caption:this.state.caption,charLimit:100,hasInitialFocus:!1,id:this.props.fieldId,onChange:this.handleTextFieldChange,onOverCharLimitChange:this.handleOverCharLimitChange,placeholder:this.props.placeholder||"Enter value",value:this.props.fieldValue||""})}},{key:"renderTag",value:function(){var e=this.props.fieldValue||"Unspecified";return c.default.createElement("div",{className:"meta-field-tag"},c.default.createElement("div",{className:"meta-field-value"},e),c.default.createElement(i.DismissButton,{addClasses:"remove-meta-field-button",onClick:this.handleRemoveTagButtonClick}))}},{key:"getLanguageClass",value:function(e){var t=this.props.fieldKey;return t&&this.props.fieldValue?"foreign_languages"==t?null:-1!=t.indexOf("language")?d.default.toKebobCase(e):void 0:null}}]),t}();h.propTypes=f,t.default=h,e.exports=t.default},function(e,t,n){var r;void 0===(r=function(){"use strict";return{}}.call(t,n,t,e))||(e.exports=r)},function(e,t,n){var r,o;r=[n(55)],void 0===(o=function(e){"use strict";return e.slice}.apply(t,r))||(e.exports=o)},function(e,t,n){var r,o;r=[n(5),n(70),n(16)],void 0===(o=function(e,t){"use strict";var n=function(t){return e.contains(t.ownerDocument,t)},r={composed:!0};return t.getRootNode&&(n=function(t){return e.contains(t.ownerDocument,t)||t.getRootNode(r)===t.ownerDocument}),n}.apply(t,r))||(e.exports=o)},function(e,t,n){var r,o;r=[n(14)],void 0===(o=function(e){"use strict";return e.documentElement}.apply(t,r))||(e.exports=o)},function(e,t,n){var r,o;r=[n(5),n(69),n(234),n(11),n(235),n(108),n(37),n(253),n(254),n(255),n(256),n(257),n(252),n(327),n(24),n(250),n(105),n(238),n(38),n(19),n(43),n(16),n(44)],void 0===(o=function(e,t,n,r,o,i,a,s,l,c,u,d,p,f,h,m,g,b,v){"use strict";var y=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,k=/<script|<style|<link/i,_=/checked\s*(?:[^=]|=\s*.checked.)/i,w=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function C(t,n){return v(t,"table")&&v(11!==n.nodeType?n:n.firstChild,"tr")&&e(t).children("tbody")[0]||t}function S(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function P(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function E(t,n){var r,o,i,a,s,l,c,u;if(1===n.nodeType){if(h.hasData(t)&&(a=h.access(t),s=h.set(n,a),u=a.events))for(i in delete s.handle,s.events={},u)for(r=0,o=u[i].length;r<o;r++)e.event.add(n,i,u[i][r]);m.hasData(t)&&(l=m.access(t),c=e.extend({},l),m.set(n,c))}}function x(e,t){var n=t.nodeName.toLowerCase();"input"===n&&i.test(e.type)?t.checked=e.checked:"input"!==n&&"textarea"!==n||(t.defaultValue=e.defaultValue)}function O(t,o,i,a){o=n.apply([],o);var s,c,d,m,g,v,y=0,k=t.length,C=k-1,E=o[0],x=r(E);if(x||k>1&&"string"==typeof E&&!f.checkClone&&_.test(E))return t.each(function(e){var n=t.eq(e);x&&(o[0]=E.call(this,e,n.html())),O(n,o,i,a)});if(k&&(c=(s=p(o,t[0].ownerDocument,!1,t,a)).firstChild,1===s.childNodes.length&&(s=c),c||a)){for(m=(d=e.map(u(s,"script"),S)).length;y<k;y++)g=s,y!==C&&(g=e.clone(g,!0,!0),m&&e.merge(d,u(g,"script"))),i.call(t[y],g,y);if(m)for(v=d[d.length-1].ownerDocument,e.map(d,P),y=0;y<m;y++)g=d[y],l.test(g.type||"")&&!h.access(g,"globalEval")&&e.contains(v,g)&&(g.src&&"module"!==(g.type||"").toLowerCase()?e._evalUrl&&!g.noModule&&e._evalUrl(g.src,{nonce:g.nonce||g.getAttribute("nonce")}):b(g.textContent.replace(w,""),g,v))}return t}function T(n,r,o){for(var i,a=r?e.filter(r,n):n,s=0;null!=(i=a[s]);s++)o||1!==i.nodeType||e.cleanData(u(i)),i.parentNode&&(o&&t(i)&&d(u(i,"script")),i.parentNode.removeChild(i));return n}return e.extend({htmlPrefilter:function(e){return e.replace(y,"<$1></$2>")},clone:function(n,r,o){var i,a,s,l,c=n.cloneNode(!0),p=t(n);if(!(f.noCloneChecked||1!==n.nodeType&&11!==n.nodeType||e.isXMLDoc(n)))for(l=u(c),i=0,a=(s=u(n)).length;i<a;i++)x(s[i],l[i]);if(r)if(o)for(s=s||u(n),l=l||u(c),i=0,a=s.length;i<a;i++)E(s[i],l[i]);else E(n,c);return(l=u(c,"script")).length>0&&d(l,!p&&u(n,"script")),c},cleanData:function(t){for(var n,r,o,i=e.event.special,a=0;void 0!==(r=t[a]);a++)if(g(r)){if(n=r[h.expando]){if(n.events)for(o in n.events)i[o]?e.event.remove(r,o):e.removeEvent(r,o,n.handle);r[h.expando]=void 0}r[m.expando]&&(r[m.expando]=void 0)}}}),e.fn.extend({detach:function(e){return T(this,e,!0)},remove:function(e){return T(this,e)},text:function(t){return a(this,function(t){return void 0===t?e.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=t)})},null,t,arguments.length)},append:function(){return O(this,arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||C(this,e).appendChild(e)})},prepend:function(){return O(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=C(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return O(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return O(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var t,n=0;null!=(t=this[n]);n++)1===t.nodeType&&(e.cleanData(u(t,!1)),t.textContent="");return this},clone:function(t,n){return t=null!=t&&t,n=null==n?t:n,this.map(function(){return e.clone(this,t,n)})},html:function(t){return a(this,function(t){var n=this[0]||{},r=0,o=this.length;if(void 0===t&&1===n.nodeType)return n.innerHTML;if("string"==typeof t&&!k.test(t)&&!c[(s.exec(t)||["",""])[1].toLowerCase()]){t=e.htmlPrefilter(t);try{for(;r<o;r++)1===(n=this[r]||{}).nodeType&&(e.cleanData(u(n,!1)),n.innerHTML=t);n=0}catch(e){}}n&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var t=[];return O(this,arguments,function(n){var r=this.parentNode;e.inArray(this,t)<0&&(e.cleanData(u(this)),r&&r.replaceChild(n,this))},t)}}),e.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,n){e.fn[t]=function(t){for(var r,i=[],a=e(t),s=a.length-1,l=0;l<=s;l++)r=l===s?this:this.clone(!0),e(a[l])[n](r),o.apply(i,r.get());return this.pushStack(i)}}),e}.apply(t,r))||(e.exports=o)},function(e,t,n){"use strict";(function(n){Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=[],i=null,a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return r(e,null,[{key:"publish",value:function(t,n,r){var a={event:t};n&&(a.data=n),o.push(a),clearTimeout(i),r?e.flush():i=setTimeout(e.flush,150)}},{key:"flush",value:function(){if(0!=o.length){var e=o;o=[],n.ajax({url:"/api/events",type:"post",data:JSON.stringify(e),dataType:"json",headers:{"X-Brainscape-EventKey":"6d67869e-e3d7-4eff-8c4c-5b38d6dea150"}})}}}]),e}();t.default=a,e.exports=t.default}).call(t,n(9))},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=l(n(0)),a=l(n(12)),s=l(n(1));function l(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":r(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={},n._isMounted=!1,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default.Component),o(t,[{key:"componentDidMount",value:function(){this._isMounted=!0}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"render",value:function(){var e=this,t=s.default.toClassStr(["tab-switcher",this.props.addClasses]),n=[];return Object.keys(this.props.tabs).forEach(function(t,r){n.push(e.renderTabItem(e.props.tabs[t],r))}),i.default.createElement("ul",{className:t},n)}},{key:"renderTabItem",value:function(e,t){var n=this,r=e.id==this.props.currentTabId,o=this.props.isCurrentTabLoading&&r,a=s.default.toClassStr(["tab-item","tab-item-"+e.id,r?"is-selected":"",o?"is-loading":""]);return i.default.createElement("li",{key:t,className:a,onClick:function(t){return n.handleTabClick(t,e.id)}},i.default.createElement("div",{className:"tab-label"},this.renderTabLabel(e)),this.renderSpinner(o))}},{key:"renderTabLabel",value:function(e){var t=void 0!==e.count?" ("+e.count+")":"";return e.label+t}},{key:"renderSpinner",value:function(e){return e?i.default.createElement(a.default,{addStyles:"tab-spinner"}):null}},{key:"handleTabClick",value:function(e,t){e&&e.stopPropagation(),this.props.onTabClick(t)}}]),t}();t.default=c,e.exports=t.default},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=c(n(114)),s=c(n(2)),l=c(n(0));function c(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":r(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return Object.defineProperty(n,"handleCloseRequest",{enumerable:!0,writable:!0,value:function(){n.setState({isModalOpen:!1},function(){n.state.viewProps&&n.state.viewProps.onCloseRequest&&n.state.viewProps.onCloseRequest()})}}),Object.defineProperty(n,"handleClosed",{enumerable:!0,writable:!0,value:function(){var e=n.state.viewProps.onClosed;n.setState({viewProps:null},function(){e&&e()})}}),Object.defineProperty(n,"handleCancellationRequest",{enumerable:!0,writable:!0,value:function(){n.state.viewProps&&n.state.viewProps.onCancellation?n.state.viewProps.onCancellation():n.handleCloseRequest()}}),Object.defineProperty(n,"handleResolutionRequest",{enumerable:!0,writable:!0,value:function(){n.state.viewProps&&n.state.viewProps.onResolution?n.state.viewProps.onResolution():n.handleCloseRequest()}}),n.state={isModalOpen:!1,viewProps:null},n.events=new s.default,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.default.Component),i(t,[{key:"componentDidMount",value:function(){var e=this;this.events.addListener("caution-modal:open",function(t){return e.setState({isModalOpen:!0,viewProps:t})}),this.events.addListener("caution-modal:update",function(t){var n=o({},e.state.viewProps,t);e.setState({viewProps:n})}),this.events.addListener("caution-modal:close",function(){e.handleCloseRequest()})}},{key:"componentWillUnmount",value:function(){this.events.disable()}},{key:"render",value:function(){var e=this.state.viewProps;return e?l.default.createElement(a.default,{actionText:e.actionText,addClasses:e.addClasses,resolveButtonText:e.resolveButtonText,isOpen:this.state.isModalOpen,isProcessing:e.isProcessing,message:e.message,onCancellation:this.handleCancellationRequest,onClosed:this.handleClosed,onCloseRequest:this.handleCloseRequest,onResolution:this.handleResolutionRequest}):null}}]),t}();t.default=u,e.exports=t.default},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=l(n(375)),a=l(n(0)),s=(l(n(33)),l(n(1)));function l(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":r(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return Object.defineProperty(n,"handleFileChange",{enumerable:!0,writable:!0,value:function(e){var t=n.props.maxSize||1,r=null;if(n.suppressFileChangeEvent||n.state.hasInvalidInput||!e||0==e.length)return!1;e.length>t&&e.shift(),e[0].preview&&"image"==e[0].preview.type&&(r=e[0].preview.url),n.setState({errorMessage:"",isInvalidFileInput:!1,selectedFileName:e[0].name,selectedFilePreviewUrl:r},function(){n.props.onFileSelected&&n.props.onFileSelected(e[0])})}}),Object.defineProperty(n,"handleFileError",{enumerable:!0,writable:!0,value:function(e,t){n.suppressFileChangeEvent=!0,n.setState({errorMessage:e.message,isInvalidFileInput:!0,selectedFileName:"",selectedFilePreviewUrl:null},function(){n.props.onFileSelectionError&&n.props.onFileSelectionError(e),n.suppressFileChangeEvent=!1})}}),n.state={errorMessage:"",isInvalidFileInput:!1,selectedFileName:"",selectedFilePreviewUrl:null},n.suppressFileChangeEvent=!1,n._isMounted=!1,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default.Component),o(t,[{key:"componentDidMount",value:function(){this._isMounted=!0}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"render",value:function(){var e=this.state.selectedFileName?"has-selected-file":"",t=this.state.selectedFilePreviewUrl?"has-preview-image":"",n=this.state.hasInvalidInput?"is-invalid":"",r=s.default.toClassStr(["file-drop-zone-field",e,t,n,this.props.addClasses]),o=this.props.prompt||"Drop files here or click to upload",l=""==this.state.selectedFileName||this.state.hasInvalidFileInput?o:this.state.selectedFileName;return this.props.maxFiles,a.default.createElement("div",{className:r},this.renderFieldLabel(),a.default.createElement(i.default,{accepts:this.props.accepts,className:"drop-area",clickable:!0,dropActiveClassName:"active",maxFiles:this.props.maxFiles+1,maxFileSize:1e7,minFileSize:0,multiple:this.props.canAcceptMultiple,onChange:this.handleFileChange,onError:this.handleFileError},this.renderPreviewImage(),a.default.createElement("div",{className:"drop-area-label"},l)),this.renderFieldCaption(),this.renderErrorMessage())}},{key:"renderErrorMessage",value:function(){return!this.state.isInvalidFileInput||this.props.shouldSuppressErrorDisplay?null:a.default.createElement("div",{className:"error-message"},this.state.errorMessage)}},{key:"renderFieldCaption",value:function(){return!this.props.caption||this.state.isInvalidFileInput?null:a.default.createElement("div",{className:"field-caption"},this.props.caption)}},{key:"renderFieldLabel",value:function(){return this.props.label?a.default.createElement("div",{className:"field-label"},this.props.label):null}},{key:"renderPreviewImage",value:function(){return this.state.selectedFilePreviewUrl?a.default.createElement("img",{className:"preview-image",src:this.state.selectedFilePreviewUrl}):null}}]),t}();t.default=c,e.exports=t.default},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=u(n(6)),a=u(n(4)),s=u(n(0)),l=u(n(8)),c=u(n(1));function u(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":r(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={},n._isMounted=!1,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.default.Component),o(t,[{key:"componentDidMount",value:function(){this._isMounted=!0}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"render",value:function(){var e=c.default.toClassStr(["new-upgrade-modal",this.props.addClasses]);return s.default.createElement(i.default,{addClasses:e,isOpen:this.props.isOpen,onClosed:this.props.onClosed,onCloseRequest:this.props.onCloseRequest},this.renderTitle(),this.renderMessage(),this.props.children,this.renderModalActions(),this.props.postfix)}},{key:"renderTitle",value:function(){return this.props.title?s.default.createElement("div",{className:"new-modal-title"},this.props.title):null}},{key:"renderMessage",value:function(){return this.props.message?this.props.isMessageHtml?s.default.createElement("div",{className:"new-modal-message",dangerouslySetInnerHTML:{__html:this.props.message}}):s.default.createElement("div",{className:"new-modal-message"},this.props.message):null}},{key:"renderModalActions",value:function(){return s.default.createElement("div",{className:"new-modal-actions generic"},this.renderCancelButton(),this.renderResolveButton())}},{key:"renderCancelButton",value:function(){var e=this;if(this.props.shouldSuppressCancelButton)return null;var t=this.props.cancelButtonText||"Cancel";return"text"==this.props.cancelButtonStyle?s.default.createElement(l.default,{addClasses:"cancel-modal-text-button",label:t,onClick:function(){return e.handleCancelButtonClick()}}):s.default.createElement(a.default,{addClasses:"cancel-modal-button",label:t,onClick:function(){return e.handleCancelButtonClick()}})}},{key:"renderResolveButton",value:function(){var e=this,t=this.props.resolveButtonText||"Ok";return"text"==this.props.resolveButtonStyle?s.default.createElement(l.default,{addClasses:"resolve-modal-text-button",label:t,onClick:function(){return e.handleResolveButtonClick()}}):s.default.createElement(a.default,{addClasses:"resolve-modal-button",label:t,onClick:function(){return e.handleResolveButtonClick()}})}},{key:"handleCancelButtonClick",value:function(){this.props.onCancellation?this.props.onCancellation():this.props.onCloseRequest()}},{key:"handleResolveButtonClick",value:function(){this.props.onResolution?this.props.onResolution():this.props.onCloseRequest()}}]),t}();t.default=d,e.exports=t.default},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=l(n(78)),a=l(n(2)),s=l(n(0));function l(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":r(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return Object.defineProperty(n,"handleRequest",{enumerable:!0,writable:!0,value:function(e){n.setState({isModalOpen:!0,viewProps:e})}}),Object.defineProperty(n,"handleCloseRequest",{enumerable:!0,writable:!0,value:function(){n.setState({isModalOpen:!1},function(){n.state.viewProps&&n.state.viewProps.onCloseRequest&&n.state.viewProps.onCloseRequest()})}}),Object.defineProperty(n,"handleClosed",{enumerable:!0,writable:!0,value:function(){var e=n.state.viewProps.onClosed;n.setState({viewProps:null},function(){e&&e()})}}),n.state={isModalOpen:!1,viewProps:null},n.events=new a.default,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.default.Component),o(t,[{key:"componentDidMount",value:function(){this.events.addListener("error-modal:open",this.handleRequest),this.events.addListener("error-modal:close",this.handleCloseRequest)}},{key:"componentWillUnmount",value:function(){this.events.disable()}},{key:"render",value:function(){var e=this.state.viewProps;return e?s.default.createElement(i.default,{addClasses:e.addClasses,errorListing:e.errorListing,errorMessage:e.errorMessage,isOpen:this.state.isModalOpen,onClosed:this.handleClosed,onCloseRequest:this.handleCloseRequest}):null}}]),t}();t.default=c,e.exports=t.default},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=l(n(6)),a=l(n(4)),s=l(n(0));function l(e){return e&&e.__esModule?e:{default:e}}l(n(8)),l(n(1));var c=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":r(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={isProcessing:!1},n._isMounted=!1,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.default.Component),o(t,[{key:"componentDidMount",value:function(){this._isMounted=!0}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"render",value:function(){var e=this;return s.default.createElement(i.default,{addClasses:"error-modal",isOpen:this.props.isOpen,onCloseRequest:function(){return e.props.onCloseRequest()}},this.renderTitle(),this.renderErrorListingOrMessage(),s.default.createElement("div",{className:"new-modal-actions"},s.default.createElement(a.default,{addClasses:"ack-modal-button",label:"Ok",onClick:this.props.onCloseRequest})))}},{key:"renderTitle",value:function(){return this.props.title?s.default.createElement("div",{className:"new-modal-title"},this.props.title):s.default.createElement("div",{className:"new-modal-title"},"Error")}},{key:"renderErrorListingOrMessage",value:function(){return this.props.errorListing?this.renderErrorListing():this.renderMessage()}},{key:"renderErrorListing",value:function(){var e=this.props.errorListing.errors,t=Object.keys(e).map(function(t){return s.default.createElement("li",{key:t},s.default.createElement("b",null,t,": "),e[t])});return s.default.createElement("div",{className:"error-listing"},s.default.createElement("div",{className:"new-modal-message"},this.props.errorListing.message),s.default.createElement("ul",{className:"error-list"},t))}},{key:"renderMessage",value:function(){return this.props.errorMessage?s.default.createElement("div",{className:"new-modal-message"},this.props.errorMessage):s.default.createElement("div",{className:"new-modal-message"},"There was a problem with your last request.")}}]),t}();t.default=c,e.exports=t.default},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=l(n(48)),a=l(n(2)),s=(l(n(3)),l(n(0)));function l(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":r(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return Object.defineProperty(n,"handleCloseRequest",{enumerable:!0,writable:!0,value:function(){n.setState({isPageLoadingOverlayOpen:!1},function(){n.state.viewProps&&n.state.viewProps.onCloseRequest&&n.state.viewProps.onCloseRequest()})}}),Object.defineProperty(n,"handleClosed",{enumerable:!0,writable:!0,value:function(){var e=n.state.viewProps.onClosed;n.setState({viewProps:null},function(){e&&e()})}}),n.state={isPageLoadingOverlayOpen:!1,viewProps:null},n.events=new a.default,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.default.Component),o(t,[{key:"componentDidMount",value:function(){var e=this;this.events.addListener("page-loading-overlay:open",function(t){return e.setState({isPageLoadingOverlayOpen:!0,viewProps:t})}),this.events.addListener("page-loading-overlay:close",function(){e.handleCloseRequest()})}},{key:"componentWillUnmount",value:function(){this.events.disable()}},{key:"render",value:function(){var e=this.state.viewProps;return e?s.default.createElement(i.default,{addClasses:e.addClasses,isOpen:this.state.isPageLoadingOverlayOpen,message:e.message,onClosed:e.onClosed,shouldTransitionIn:!0,shouldTransitionOut:!0}):null}}]),t}();t.default=c,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}(n(0)),o=function(e){return e.children?r.default.createElement("div",{className:"error-field"},r.default.createElement("div",{className:"alert-error"},e.children)):null};o.propTypes={},t.default=o,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(3)),o=i(n(0));function i(e){return e&&e.__esModule?e:{default:e}}var a=function(e){return o.default.createElement("div",{className:"social-login-button apple-login-button",onClick:function(){return e.onSubmit("apple")}},"Continue with Apple")};a.propTypes={onSubmit:r.default.func.isRequired},t.default=a,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(3)),o=i(n(0));function i(e){return e&&e.__esModule?e:{default:e}}var a=function(e){return o.default.createElement("div",{className:"social-login-button google-login-button",onClick:function(){return e.onSubmit("google")}},o.default.createElement("i",{className:"google-g-icon"}),"Continue with Google")};a.propTypes={onSubmit:r.default.func.isRequired},t.default=a,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}(n(0)),o=function(e){return r.default.createElement("div",{className:"wordy-hr"},r.default.createElement("hr",null),r.default.createElement("span",null,e.children),r.default.createElement("hr",null))};o.propTypes={},t.default=o,e.exports=t.default},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=p(n(63)),a=p(n(6)),s=p(n(64)),l=p(n(4)),c=p(n(34)),u=p(n(0)),d=p(n(10));function p(e){return e&&e.__esModule?e:{default:e}}p(n(1));var f=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":r(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return Object.defineProperty(n,"handleCopyToClipboardLinkReset",{enumerable:!0,writable:!0,value:function(){n.setState({shouldResetCopyToClipboardLink:!1})}}),Object.defineProperty(n,"handleSharingScopeClick",{enumerable:!0,writable:!0,value:function(e){n.setState({sharingScope:e,shouldResetCopyToClipboardLink:!0})}}),n.state={isInClipboard:!1,sharingScope:n.props.pack.isUserAnAdmin||n.props.pack.isPrivate?"full study":"preview",shouldResetCopyToClipboardLink:!1},n.scopeOptions=[{label:"Full Study",value:"full study",className:"full-study-option"},{label:"Preview",value:"preview",className:"preview-option"}],n._isMounted=!1,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u.default.Component),o(t,[{key:"componentDidMount",value:function(){this._isMounted=!0}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"render",value:function(){var e=this,t="preview"==this.state.sharingScope?this.props.pack.sharePreviewLink:this.props.pack.shareLink;return u.default.createElement(a.default,{addClasses:"share-pack-by-link-modal",isOpen:this.props.isOpen,onClosed:function(){return e.props.onClosed()},onCloseRequest:function(){return e.props.onCloseRequest()}},u.default.createElement("div",{className:"new-modal-title"},"Share Class By Link"),this.renderGuidance(),u.default.createElement(d.default,{addClasses:"share-pack-link",isReadOnly:!0,value:t}),u.default.createElement("div",{className:"share-parameters"},this.renderScopeOptions(),u.default.createElement(i.default,{isDisplayedInInputElem:!0,inputElemSelector:".share-pack-link .text-input",onResetLink:this.handleCopyToClipboardLinkReset,shouldResetLink:this.state.shouldResetCopyToClipboardLink})),u.default.createElement("div",{className:"new-modal-aside"},"See our ",u.default.createElement("a",{href:"/marketing/terms.html",target:"_blank"},"terms")," for information on class sharing."),u.default.createElement("div",{className:"new-modal-actions"},this.renderBackButton(),u.default.createElement(l.default,{addClasses:"resolve-modal-button",label:"Done",onClick:function(){return e.handleDoneButtonClick()}})))}},{key:"renderGuidance",value:function(){var e=this.props.pack.isPrivate?"Pro Users":"anyone",t=this.props.pack.isPrivate?this.props.pack.name+" (a private Class)":this.props.pack.name,n=this.props.pack.isPrivate?"full study":this.state.sharingScope;return u.default.createElement("div",{className:"new-modal-guidance"},"The custom link below will give ",e," ",n," access to ",u.default.createElement("span",{className:"pack-name"},t),". You can paste it anywhere, including on your website, blog, or in social media.")}},{key:"renderScopeOptions",value:function(){return!this.props.pack.isUserAnAdmin||this.props.pack.isPrivate?u.default.createElement("div",{className:"sharing-scope"}):u.default.createElement("div",{className:"permission-options"},u.default.createElement(c.default,{addClasses:"sharing-scope",name:"sharingScope",value:this.state.sharingScope,buttons:this.scopeOptions,isInline:!0,onClick:this.handleSharingScopeClick}),u.default.createElement(s.default,{isPackPrivate:this.props.pack.isPrivate}))}},{key:"renderBackButton",value:function(){var e=this;return this.props.isSingular?null:u.default.createElement("div",{className:"cancel-modal-text-button back",onClick:function(t){return e.handleBackButtonClick(t)}},"Back")}},{key:"handleBackButtonClick",value:function(e){e.stopPropagation(),this.setState({isInClipboard:!1}),this.props.onBackRequest()}},{key:"handleDoneButtonClick",value:function(){this.setState({isInClipboard:!1}),this.props.onCloseRequest()}}]),t}();t.default=f,e.exports=t.default},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0}),t.openAlert=t.default=void 0;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=d(n(2)),s=d(n(6)),l=d(n(4)),c=d(n(3)),u=d(n(0));function d(e){return e&&e.__esModule?e:{default:e}}d(n(10)),d(n(1)),n(47);var p=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":r(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return Object.defineProperty(n,"componentDidMount",{enumerable:!0,writable:!0,value:function(){n.events.addListener("modals:open",n.handleOpenRequest),n.events.addListener("modals:close",n.handleCloseRequest)}}),Object.defineProperty(n,"componentWillUnmount",{enumerable:!0,writable:!0,value:function(){return n.events.disable()}}),Object.defineProperty(n,"handleOpenRequest",{enumerable:!0,writable:!0,value:function(e){var t=e&&e.onReady?e.onReady:null;n.setState({viewProps:e},t)}}),Object.defineProperty(n,"handleCloseRequest",{enumerable:!0,writable:!0,value:function(){var e=n.state.viewProps,t=e&&e.onCloseRequest?e.onCloseRequest:null;n.setState({viewProps:null},t)}}),n.state={viewProps:null},n.events=new a.default,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u.default.Component),i(t,[{key:"render",value:function(){var e=this.state.viewProps;if(!e)return null;switch(e.type){case"alert":return u.default.createElement(f,{message:e.message,onCloseRequest:this.handleCloseRequest,title:e.title})}return null}}]),t}(),f=function(e){return u.default.createElement(s.default,{addClasses:"standard-modals prompt-modal",isOpen:!0,onCloseRequest:e.onCloseRequest},u.default.createElement("div",{className:"new-modal-title"},e.title),u.default.createElement("div",{className:"new-modal-message"},e.message),u.default.createElement("div",{className:"new-modal-actions"},u.default.createElement(l.default,{addClasses:"resolve-modal-button",label:"OK",onClick:e.onCloseRequest})))};f.propTypes={message:c.default.string.isRequired,onCloseRequest:c.default.func.isRequired,title:c.default.string.isRequired},t.default=p,t.openAlert=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=o({type:"alert",title:e,message:t},n);a.default.emitEvent("modals:open",r)}},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=l(n(2)),a=(l(n(3)),l(n(0))),s=l(n(147));function l(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":r(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return Object.defineProperty(n,"handleCloseRequest",{enumerable:!0,writable:!0,value:function(){n.setState({isModalOpen:!1},function(){n.state.viewProps&&n.state.viewProps.onCloseRequest&&n.state.viewProps.onCloseRequest()})}}),Object.defineProperty(n,"handleSuggestionSent",{enumerable:!0,writable:!0,value:function(){n.state.viewProps&&n.state.viewProps.onSuggestionSent&&n.state.viewProps.onSuggestionSent()}}),n.state={isModalOpen:!1,viewProps:null},n.events=new i.default,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default.Component),o(t,[{key:"componentDidMount",value:function(){var e=this;this.events.addListener("suggest-edit-modal-set:open",function(t){return e.setState({isModalOpen:!0,viewProps:t})}),this.events.addListener("suggest-edit-modal-set:close",function(){e.handleCloseRequest()})}},{key:"componentWillUnmount",value:function(){this.events.disable()}},{key:"render",value:function(){var e=this.state.viewProps;return e?a.default.createElement(s.default,{addClasses:e.addClasses,authenticityToken:e.authenticityToken,cardContentType:e.cardContentType,cardId:e.cardId,deckId:e.deckId,isOpen:this.state.isModalOpen,isUserPro:e.isUserPro,isProcessing:e.isProcessing,onCloseRequest:this.handleCloseRequest,onSuggestionSent:this.handleSuggestionSent,packId:e.packId,suggestionMetadata:e.suggestionMetadata}):null}}]),t}();t.default=c,e.exports=t.default},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=c(n(7)),a=c(n(0)),s=c(n(12)),l=c(n(1));function c(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":r(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={},n._isMounted=!1,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default.Component),o(t,[{key:"componentDidMount",value:function(){this._isMounted=!0}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"render",value:function(){var e=this;if("image"==this.props.iconType)return this.renderImageButton();var t=this.props.iconType||"gear",n=this.props.shouldButtonTurn&&this.props.isMenuOpening?"is-menu-opening":"",r=this.props.shouldButtonTurn&&this.props.isMenuClosing?"is-menu-closing":"",o=l.default.toClassStr([t,n,r,this.props.addClasses]);return a.default.createElement(i.default,{addClasses:o,buttonClass:"options-button",iconClass:this.getIconClass(),isProcessing:this.props.isProcessing,onClick:function(){return e.props.onClick()},title:this.props.title,shouldAllowClickPropagation:this.props.shouldAllowClickPropagation})}},{key:"renderImageButton",value:function(){var e=this;if(this.props.isProcessing)return this.renderSpinner();var t=l.default.toClassStr(["options-button image",this.props.addClasses]);return a.default.createElement("img",{className:t,onClick:function(t){return e.handleImageButtonClick(t)},src:this.props.iconImageUrl,title:this.props.title})}},{key:"renderSpinner",value:function(){return this.props.isProcessing?a.default.createElement(s.default,null):null}},{key:"handleImageButtonClick",value:function(e){e&&!this.props.shouldAllowClickPropagation&&e.stopPropagation(),console.log("image-button click"),this.props.onClick()}},{key:"getIconClass",value:function(){switch(this.props.iconType){case"horizontal":return"ion-android-more-horizontal";case"gear":return"ion-ios-gear";case"vertical":return"ion-android-more-vertical";default:return"ion-ios-gear"}}}]),t}();t.default=u,e.exports=t.default},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=d(n(25)),a=d(n(6)),s=d(n(4)),l=d(n(0)),c=d(n(17)),u=d(n(1));function d(e){return e&&e.__esModule?e:{default:e}}var p=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":r(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.Library=new i.default,n.state={isOpen:n.props.show||!1,isIgnored:!1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.default.Component),o(t,[{key:"componentDidMount",value:function(){if(u.default.isInternetExplorer()){var e=this.isWarningIgnored();this.setState({isOpen:!e,isIgnored:e})}}},{key:"render",value:function(){var e=this;if(!this.state.isOpen)return null;var t=u.default.toClassStr(["browser-compatibility-modal",this.props.addClasses]);return l.default.createElement(a.default,{addClasses:t,isOpen:this.state.isOpen,onCloseRequest:function(){return e.handleClose()}},l.default.createElement("div",{className:"new-modal-title"},"Browser Compatibility Info"),l.default.createElement("div",{className:"new-modal-message"},"Welcome to Brainscape. You appear to be using Internet Explorer."),l.default.createElement("div",{className:"new-modal-message"},"A standards compliant browser such as Chrome, Safari, Firefox, or Edge is required for the full Brainscape experience."),l.default.createElement("h5",{className:"links-heading"},"Useful links:"),l.default.createElement("ul",{className:"modal-list"},l.default.createElement("li",{className:"modal-list-item"},l.default.createElement("a",{className:"browser-link chrome",href:"https://www.google.com/chrome",target:"_blank"},l.default.createElement("span",{className:"link-label"},"Google Chrome"))),l.default.createElement("li",{className:"modal-list-item"},l.default.createElement("a",{className:"browser-link safari",href:"https://www.apple.com/safari/",target:"_blank"},l.default.createElement("span",{className:"link-label"},"Safari for Mac"))),l.default.createElement("li",{className:"modal-list-item"},l.default.createElement("a",{className:"browser-link firefox",href:"https://www.mozilla.org/en-US/firefox/new/",target:"_blank"},l.default.createElement("span",{className:"link-label"},"Mozilla Firefox"))),l.default.createElement("li",{className:"modal-list-item"},l.default.createElement("a",{className:"browser-link edge",href:"https://www.microsoft.com/en-us/windows/microsoft-edge",target:"_blank"},l.default.createElement("span",{className:"link-label"},"Microsoft Edge")))),l.default.createElement(c.default,{addClasses:"ignore-warning",isChecked:this.state.isIgnored,onClick:function(t){return e.handleIgnoreCheckboxClick(t)},prompt:"Don't remind me again"}),l.default.createElement("div",{className:"new-modal-actions"},l.default.createElement(s.default,{addClasses:"resolve-modal-button",label:"Ok",onClick:function(t){return e.handleClose(t)}})))}},{key:"handleClose",value:function(e){var t=this;e&&e.stopPropagation(),this.setState({isOpen:!1},function(){t.props.onClose&&t.props.onClose()})}},{key:"handleIgnoreCheckboxClick",value:function(e){var t=this;e.stopPropagation();var n=this.state.isIgnored;this.setState({isIgnored:!n},function(){t.Library.updateUserLocalPrefs(t.props.userId,"shouldIgnoreIeUsage",t.state.isIgnored)})}},{key:"isWarningIgnored",value:function(){return!!this.Library.getUserLocalPref(this.props.userId,"shouldIgnoreIeUsage")}}]),t}();t.default=p,e.exports=t.default},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=c(n(6)),a=c(n(4)),s=c(n(167)),l=c(n(0));function c(e){return e&&e.__esModule?e:{default:e}}c(n(1));var u=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":r(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={},n._isMounted=!1,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.default.Component),o(t,[{key:"componentDidMount",value:function(){this._isMounted=!0}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"render",value:function(){var e=this;return l.default.createElement(i.default,{addClasses:"learner-progress-modal",isOpen:this.props.isOpen,onCloseRequest:function(){return e.props.onCloseRequest()},size:"large"},l.default.createElement("div",{className:"new-modal-title"},this.props.learner.firstName,"'s Study Progress"),l.default.createElement("div",{className:"new-modal-subtitle"},"Studying ",this.props.pack.name),this.renderProgressTable(),l.default.createElement("div",{className:"new-modal-actions"},l.default.createElement(a.default,{addClasses:"resolve-modal-button",isProcessing:this.props.isProcessing,label:"Done",onClick:function(){return e.handleDoneButtonClick()}})))}},{key:"renderProgressTable",value:function(){return this.props.learnerDeckStats?l.default.createElement("table",{className:"table table-striped"},l.default.createElement("thead",null,l.default.createElement("tr",null,l.default.createElement("th",{className:"text-left"},"Deck"),l.default.createElement("th",null,"Progress"),l.default.createElement("th",null,"Mastery"),l.default.createElement("th",null,"Unique Cards Studied"))),l.default.createElement("tbody",null,this.renderProgressRows())):null}},{key:"renderProgressRows",value:function(){var e=this;return this.props.learnerDeckStats.map(function(t,n){return e.renderProgressRow(t,n)})}},{key:"renderProgressRow",value:function(e,t){return l.default.createElement("tr",{key:t},l.default.createElement("td",null,e.deckName),l.default.createElement("td",null,l.default.createElement(s.default,{forceRefetch:!1,deckID:e.deckID,percentages:e.percentages})),l.default.createElement("td",{className:"text-center"},e.masteryRatio+"%"),l.default.createElement("td",{className:"text-center"},e.seenCt+"/"+e.cardCt))}},{key:"handleDoneButtonClick",value:function(){this.props.onCloseRequest()}}]),t}();t.default=u,e.exports=t.default},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=c(n(0)),a=c(n(6)),s=c(n(1)),l=c(n(65));function c(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":r(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={isOpen:!1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default.Component),o(t,[{key:"render",value:function(){var e=s.default.toClassStr(["video-modal",this.props.addClasses]);return i.default.createElement(a.default,{addClasses:e,isOpen:this.props.isOpen,onCloseRequest:this.props.onCloseRequest,size:"large"},i.default.createElement(l.default,{shouldAutoPlay:this.props.shouldAutoPlay,videoUrl:this.props.videoUrl}))}}]),t}();t.default=u,e.exports=t.default},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=c(n(2)),a=c(n(22)),s=c(n(0)),l=c(n(1));function c(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":r(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={isProcessingOptionAction:!1},n.menuOptionHash={viewProfile:{id:"viewProfile",tag:"view-profile",label:"View Profile"},manageAccount:{id:"manageAccount",tag:"manage-account",label:"Manage Account"},logOut:{id:"logOut",tag:"logout",label:"Log Out"}},n._isMounted=!1,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.default.Component),o(t,[{key:"UNSAFE_componentWillMount",value:function(){this.updateUserOptions()}},{key:"componentDidMount",value:function(){this._isMounted=!0}},{key:"componentDidUpdate",value:function(e){this.props.isUserPro!=e.isUserPro&&this.updateUserOptions()}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"render",value:function(){var e=this,t=l.default.toClassStr(["dashboard-options-button",this.props.addClasses]);return s.default.createElement("div",{className:t},s.default.createElement(a.default,{iconImageUrl:this.props.iconImageUrl,iconType:this.props.iconType,isProcessing:this.state.isProcessingOptionAction,isUserPro:this.props.isUserPro,menuOptions:this.state.menuOptions,onOptionClick:function(t){return e.handleOptionClick(t)},openPosition:this.props.openPosition,shouldButtonTurn:this.props.shouldButtonTurn,title:this.props.title}))}},{key:"handleOptionClick",value:function(e){if(this.menuOptionHash[e].onlyPro&&!this.props.isUserPro){var t=this.menuOptionHash[e].label||"",n=this.menuOptionHash[e].paywall||"";this.triggerUpgradeModalOpen(t,n)}else this.handleOptionActionRequest(e)}},{key:"handleOptionActionRequest",value:function(e){switch(e){case"viewProfile":this.performViewProfileAction();break;case"manageAccount":this.performManageAccountAction();break;case"logOut":this.performLogOutAction()}}},{key:"performViewProfileAction",value:function(){l.default.navigate(this.props.userProfilePath,"Loading your profile...")}},{key:"performManageAccountAction",value:function(){l.default.navigate("/account","Loading Account Info...")}},{key:"performLogOutAction",value:function(){l.default.navigate("/sign_out","Logging Out...")}},{key:"triggerUpgradeModalOpen",value:function(e,t){i.default.emitEvent("upgrade-modal:open",{desiredAction:e,paywall:t})}},{key:"updateUserOptions",value:function(){var e=this,t=Object.keys(this.menuOptionHash).reduce(function(t,n){return t.push(e.menuOptionHash[n]),t},[]);this.setState({menuOptions:t})}}]),t}();t.default=u,e.exports=t.default},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=f(n(285)),s=f(n(2)),l=f(n(76)),c=f(n(22)),u=f(n(15)),d=f(n(0)),p=f(n(1));function f(e){return e&&e.__esModule?e:{default:e}}var h=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":r(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return Object.defineProperty(n,"handleCloseDialog",{enumerable:!0,writable:!0,value:function(e){n.setState({shouldShowDialog:!1,isProcessingOptionAction:!1},function(){setTimeout(function(){n.setState({dialogOpts:{}}),e&&e()},n.modalTransitionDelay)})}}),Object.defineProperty(n,"handleCloseDummyDataConfirmationModalRequest",{enumerable:!0,writable:!0,value:function(){n.setState({isDummyDataConfirmationModalOpen:!1})}}),Object.defineProperty(n,"handleCloseDummyDataAcknowledgementModalRequest",{enumerable:!0,writable:!0,value:function(){n.setState({isDummyDataAcknowledgementModalOpen:!1},function(){n.triggerRefreshPackDetailSection()})}}),Object.defineProperty(n,"handlePackPrivacyChanged",{enumerable:!0,writable:!0,value:function(){n.triggerRefreshPackDetailSection(),n.triggerEditPackPrivacyModalClose()}}),Object.defineProperty(n,"executeGenerateDummyData",{enumerable:!0,writable:!0,value:function(){n.setState({isDummyDataConfirmationModalOpen:!1,isProcessingOptionAction:!0}),n.Pack.resetStats({id:n.props.pack.packId,done:function(e){n.Pack.dummyData({id:n.props.pack.packId,done:function(e){n.setState({isDummyDataAcknowledgementModalOpen:!0,isProcessingOptionAction:!1})},fail:function(e){console.log("something went wrong in Pack.dummyData. message:",e),n.setState({isProcessingOptionAction:!1})}})},fail:function(e){console.log("something went wrong in Pack.resetStats. message:",e),n.setState({isProcessingOptionAction:!1})}})}}),n.state={areDecksSortable:!1,categoryHash:{},deckCards:[],deckName:"",dialogOpts:{},isDummyDataAcknowledgementModalOpen:!1,isDummyDataConfirmationModalOpen:!1,isProcessingOptionAction:!1,modalFormOpts:{},shouldShowDialog:!1},n.menuOptionHash={editPackName:{id:"editPackName",tag:"edit-pack-name",label:"Edit Class Name",onlyPackAdmin:!0},customizeIcon:{id:"customizeIcon",tag:"customize-icon",label:"Customize Class Icon",onlyPackAdmin:!0},importCsv:{id:"importCsv",tag:"import-csv",label:"Import CSV",onlyDeckEditor:!0,onlyPro:!0,paywall:"import_csv"},exportCsv:{id:"exportCsv",tag:"export-csv",label:"Export CSV",onlyDeckEditor:!0,onlyIfHasDecks:!0,onlyPro:!0,paywall:"export_csv"},duplicatePack:{id:"duplicatePack",tag:"duplicate-pack",label:"Duplicate Class",paywall:"duplicate_class",onlyPro:!0,onlyDuplicatable:!0},removePack:{id:"removePack",tag:"remove-pack",label:"Remove from your Classes",onlyRemovable:!0},deletePack:{id:"deletePack",tag:"delete-pack",label:"Delete this Class",onlyDeletable:!0},makeClassPrivate:{id:"makeClassPrivate",tag:"make-class-private",label:"Make Class Private",onlyPackAdmin:!0,onlyIfPublic:!0,onlyPro:!0,paywall:"privacy"},makeClassPublic:{id:"makeClassPublic",tag:"make-class-public",label:"Make Class Public",onlyPackAdmin:!0,onlyIfPrivate:!0,onlyPro:!0,paywall:"privacy"},previewPublicPage:{id:"previewPublicPage",tag:"preview-public-page",label:"Preview Public Class Page"},messageAuthor:{id:"messageAuthor",tag:"message-author",label:"Message the Author",paywall:"message_author",onlyNonEditor:!0,onlyPro:!0},resetStats:{id:"resetStats",tag:"reset-stats",label:"Reset Stats",paywall:"stats_reset_pack",onlyStudyable:!0,onlyIfHasDecks:!0,onlyPro:!0},generateDummyData:{id:"generateDummyData",tag:"generate-dummy-data",label:"Generate Dummy Data",onlyBscAdmin:!0}},n.Category=new a.default,n.Pack=new u.default,n.modalTransitionDelay=400,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,d.default.Component),i(t,[{key:"UNSAFE_componentWillMount",value:function(){this.updateUserOptions()}},{key:"componentDidUpdate",value:function(e){this.props.pack.isPrivate!=e.pack.isPrivate&&this.updateUserOptions()}},{key:"render",value:function(){var e=this,t=p.default.toClassStr(["pack-options-button",this.props.addClasses]),n=this.props.isMobileViewportSize?"bottomLeft":"bottomRight";return d.default.createElement("div",{className:t},d.default.createElement(c.default,{menuOptions:this.state.menuOptions,iconType:this.props.iconType,initialOpenState:this.props.initialOptionsOpenState,isProcessing:this.state.isProcessingOptionAction,isUserPro:this.props.pack.isUserPro,hasLegacyStyles:!1,onOptionClick:function(t){return e.handleOptionClick(t)},openPosition:n,shouldButtonTurn:!1,title:this.props.title}),d.default.createElement("div",{className:"deck-options-modals"},this.renderDialog(),this.renderDummyDataConfirmationModal(),this.renderDummyDataAcknowledgementModal()))}},{key:"renderDialog",value:function(){var e=this.state.dialogOpts;return d.default.createElement(l.default,{cancelButtonText:e.cancelText,isMessageHtml:e.isMessageHtml,isOpen:this.state.shouldShowDialog,message:e.message,onCancellation:e.onCancellation,onCloseRequest:this.handleCloseDialog,onResolution:e.onResolution,resolveButtonText:e.resolveText,shouldSuppressCancelButton:!e.cancelText,title:e.title})}},{key:"renderDummyDataConfirmationModal",value:function(){return d.default.createElement(l.default,{addClasses:"dummy-data-confirmation-modal",key:"dummyDataConfirmation",title:"Confirm Dummy Data Generation",message:"This action will reset current usage stats and generate new usage stats for this class. Are you sure you wish to continue?",isOpen:this.state.isDummyDataConfirmationModalOpen,onCancellation:this.handleCloseDummyDataConfirmationModalRequest,onCloseRequest:this.handleCloseDummyDataConfirmationModalRequest,onResolution:this.executeGenerateDummyData})}},{key:"renderDummyDataAcknowledgementModal",value:function(){var e="Dummy Data is being generated for the "+this.props.pack.name+" class. It may take a little time, check back here soon.";return d.default.createElement(l.default,{addClasses:"dummy-data-acknowledgement-modal",key:"dummyDataAcknowledgement",title:"Dummy Data Generated",message:e,isOpen:this.state.isDummyDataAcknowledgementModalOpen,onCloseRequest:this.handleCloseDummyDataAcknowledgementModalRequest,shouldSuppressCancelButton:!0})}},{key:"handleOptionClick",value:function(e){if(this.menuOptionHash[e].onlyPro&&!this.props.pack.isUserPro){var t=this.menuOptionHash[e].label,n=this.menuOptionHash[e].paywall;this.showUpgradeModal(t,n)}else this.handleOptionActionRequest(e)}},{key:"resetModalFormOpts",value:function(){var e=o({},this.state.modalFormOpts);Object.keys(e.fieldsHash).forEach(function(t){delete e.fieldsHash[t].value,delete e.fieldsHash[t].isInvalid,delete e.fieldsHash[t].caption})}},{key:"handleOptionActionRequest",value:function(e){switch(e){case"editPackName":this.performEditPackNameAction();break;case"customizeIcon":this.performCustomizeClassIconAction();break;case"importCsv":this.performImportCsvAction();break;case"exportCsv":this.performExportCsvAction();break;case"duplicatePack":this.performDuplicatePackAction();break;case"makeClassPrivate":this.performMakeClassPrivateAction();break;case"makeClassPublic":this.performMakeClassPublicAction();break;case"removePack":this.performRemovePackAction();break;case"deletePack":this.performDeletePackAction();break;case"messageAuthor":this.performMessageAuthorAction();break;case"resetStats":this.performResetStatsAction();break;case"generateDummyData":this.performGenerateDummyDataAction();break;case"previewPublicPage":this.performPreviewPublicPageAction()}}},{key:"performEditPackNameAction",value:function(){this.triggerEditPackNameFormOpen()}},{key:"performCustomizeClassIconAction",value:function(){this.triggerCustomizeClassIconModalOpen()}},{key:"performClassDescAction",value:function(){var e=this;this.setState({isProcessingOptionAction:!0}),this.props.pack.isMarket?this.Category.show({id:this.props.pack.sourceId,done:function(t){var n=t.marketHeadline||"No description entered for this class";e.setState({shouldShowDialog:!0,dialogOpts:{isMessageHtml:!0,message:n,onResolution:function(){return e.handleCloseDialog()},resolveText:"Ok",title:t.fullName},isProcessingOptionAction:!1})},fail:function(e,t){console.log("Something went wrong in Category show. jqXHR, status:",e,t)}}):this.Pack.show({id:this.props.pack.packId,done:function(t){var n=t.desc||"No description entered for this class";e.setState({shouldShowDialog:!0,dialogOpts:{title:t.fullName,message:n,resolveText:"Ok",onResolution:function(){return e.handleCloseDialog()}},isProcessingOptionAction:!1})},fail:function(e){console.log("something went wrong in Pack.show. message:",e)}})}},{key:"performImportCsvAction",value:function(){s.default.emitEvent("import-deck-modal:open",{pack:this.props.pack})}},{key:"performExportCsvAction",value:function(){var e=this;this.setState({isProcessingOptionAction:!0}),location.href=this.props.pack.exportPath,this.setState({shouldShowDialog:!0,dialogOpts:{title:"Class Exported",message:"Check your browser's downloads folder for a CSV of your class",resolveText:"Ok",onResolution:function(){return e.handleCloseDialog()}},isProcessingOptionAction:!1})}},{key:"performDuplicatePackAction",value:function(){var e=this;this.setState({isProcessingOptionAction:!0}),this.Pack.duplicate({id:this.props.pack.packId,done:function(t){e.setState({shouldShowDialog:!0,dialogOpts:{title:"Class Duplication Started",message:"We're creating a copy of this class and all of its decks. This will  appear as a new class in your Classes. (This may take a few minutes. Feel free to refresh page to see if it's done.)",resolveText:"Ok",onResolution:function(){return e.handleCloseDialog()}},isProcessingOptionAction:!1})},fail:function(e){console.log("something went wrong in Pack.duplicate. message:",e)}})}},{key:"performRemovePackAction",value:function(){var e=this;this.setState({isProcessingOptionAction:!0}),this.showConfirmModal("Remove this class from your library",function(){e.Pack.remove({id:e.props.pack.packId,done:function(t){e.setState({shouldShowDialog:!0,dialogOpts:{title:"Class Removed from your Library",resolveText:"Ok",onResolution:function(){return e.handleCloseDialog(function(){return e.showLibrary()})}},isProcessingOptionAction:!1})},fail:function(e){console.log("something went wrong in Pack.remove. message:",e)}})})}},{key:"performDeletePackAction",value:function(){var e=this;this.setState({isProcessingOptionAction:!0});var t=this.menuOptionHash.deletePack.label;this.showConfirmModal(t,function(){e.Pack.delete({id:e.props.pack.packId,done:function(t){e.setState({shouldShowDialog:!0,dialogOpts:{title:"Class Deleted",resolveText:"Ok",onResolution:function(){return e.handleCloseDialog(function(){return e.showLibrary()})}},isProcessingOptionAction:!1})},fail:function(e){console.log("something went wrong in Pack.delete. message:",e)}})})}},{key:"performMessageAuthorAction",value:function(){this.triggerMessageAuthorModalOpen()}},{key:"performResetStatsAction",value:function(){var e=this;this.setState({isProcessingOptionAction:!0});var t=this.menuOptionHash.resetStats.label;this.showConfirmModal(t,function(){e.Pack.resetStats({id:e.props.pack.packId,done:function(t){e.setState({shouldShowDialog:!0,dialogOpts:{title:"Class Stats Reset",resolveText:"Ok",onResolution:function(){return e.handleCloseDialog(function(){return e.triggerRefreshPackDetailSection()()})}},isProcessingOptionAction:!1})},fail:function(e){console.log("something went wrong in Pack.resetStats. message:",e)}})})}},{key:"performGenerateDummyDataAction",value:function(){this.setState({isDummyDataConfirmationModalOpen:!0})}},{key:"performShowPricingAction",value:function(e){p.default.navigate(this.props.pack.upgradePath+"?paywall="+e)}},{key:"performMakeClassPrivateAction",value:function(){this.triggerEditPackPrivacyModalOpen(!0)}},{key:"performMakeClassPublicAction",value:function(){this.triggerEditPackPrivacyModalOpen(!1)}},{key:"performPreviewPublicPageAction",value:function(){var e=this.props.pack.sharePreviewLink+"?preview=true";window.open(e,"_blank")}},{key:"triggerMessageAuthorModalOpen",value:function(){s.default.emitEvent("message-author-modal:open",{authenticityToken:this.props.authenticityToken,pack:this.props.pack})}},{key:"triggerCustomizeClassIconModalOpen",value:function(){s.default.emitEvent("customize-class-icon-modal:open",{authenticityToken:this.props.authenticityToken,pack:this.props.pack})}},{key:"triggerEditPackNameFormOpen",value:function(){s.default.emitEvent("edit-pack-name-form:open",{})}},{key:"triggerEditPackPrivacyModalOpen",value:function(e){s.default.emitEvent("edit-pack-privacy-modal:open",{authenticityToken:this.props.authenticityToken,newPrivacyState:e,pack:this.props.pack,onPackPrivacyChanged:this.handlePackPrivacyChanged})}},{key:"triggerEditPackPrivacyModalClose",value:function(){s.default.emitEvent("edit-pack-privacy-modal:close",{})}},{key:"triggerRefreshPackDetailSection",value:function(){s.default.emitEvent("refresh-pack-detail-section",{})}},{key:"showUpgradeModal",value:function(e,t){var n=this;t||"Export CSV"==e&&(t="csv_export_pack"),p.default.trackPaywallWarning(t),this.setState({shouldShowDialog:!0,dialogOpts:{title:"Upgrade to Pro",message:e+" requires a Pro subscription. Upgade to Pro to gain access to all of Brainscape",resolveText:"See Features and Pricing",cancelText:"No Thanks",onResolution:function(){return n.handleCloseDialog(function(){return n.performShowPricingAction(t)})}}})}},{key:"showConfirmModal",value:function(e,t){var n=this;this.setState({shouldShowDialog:!0,dialogOpts:{title:"Caution",message:"Are you sure that you want to "+e+"? This action cannot be undone.",resolveText:"Yes, please proceed",cancelText:"No, Cancel",onResolution:function(){return n.handleCloseDialog(t)}}})}},{key:"showLibrary",value:function(){p.default.navigate("/")}},{key:"updateUserOptions",value:function(){var e=this,t=this.props.pack,n=Object.keys(this.menuOptionHash).reduce(function(n,r){var o=!e.menuOptionHash[r].onlyDeckEditor||t.areDecksEditable,i=!e.menuOptionHash[r].onlyRemovable||t.isRemovable,a=!e.menuOptionHash[r].onlyDeletable||t.isDeletable,s=!e.menuOptionHash[r].onlyStudyable||t.isStudyable,l=!e.menuOptionHash[r].onlyBscAdmin||t.isUserBscAdmin,c=!e.menuOptionHash[r].onlyPackAdmin||t.isUserPackAdmin,u=!e.menuOptionHash[r].onlyPackOrBscAdmin||t.isUserPackAdmin||t.isUserBscAdmin,d=!e.menuOptionHash[r].onlyIfHasDecks||t.hasDecks,p=!e.menuOptionHash[r].onlyNonEditor||!t.areDecksEditable,f=!e.menuOptionHash[r].onlyDuplicatable||t.isDuplicatable,h=!e.menuOptionHash[r].onlyIfPrivate||t.isPrivate,m=!e.menuOptionHash[r].onlyIfPublic||t.isPublic;return o&&i&&a&&s&&l&&c&&u&&d&&p&&f&&h&&m&&n.push(e.menuOptionHash[r]),n},[]);this.setState({menuOptions:n})}}]),t}();t.default=h,e.exports=t.default},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=f(n(2)),a=f(n(40)),s=f(n(89)),l=f(n(6)),c=f(n(22)),u=f(n(4)),d=f(n(0)),p=f(n(1));function f(e){return e&&e.__esModule?e:{default:e}}var h=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":r(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return Object.defineProperty(n,"handleConfirmRemoveLearnerButtonClick",{enumerable:!0,writable:!0,value:function(){n.setState({isProcessingRemoveRequest:!0}),n.props.onRemoveLearnerRequest(n.props.learner,function(){n.events.ifEnabled(function(){n.setState({isProcessingRemoveRequest:!1,isConfirmRemoveLearnerModalOpen:!1})})})}}),Object.defineProperty(n,"handleConfirmRemoveLearnerModalCloseRequest",{enumerable:!0,writable:!0,value:function(){n.setState({isConfirmRemoveLearnerModalOpen:!1})}}),n.state={isConfirmRemoveLearnerModalOpen:!1,isLearnerProgressModalOpen:!1,isProcessingOptionAction:!1,learnerDeckStats:null,menuOptions:[]},n.learner=new a.default,n.events=new i.default,n.menuOptionHash={showLearnerProfile:{id:"showLearnerProfile",tag:"show-learner-profile",label:"Show Learner's Profile"},removeLearner:{id:"removeLearner",tag:"remove-learner",label:"Remove From Class",onlyPackAdmin:!0}},n._isMounted=!1,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,d.default.Component),o(t,[{key:"UNSAFE_componentWillMount",value:function(){this.updateUserOptions()}},{key:"componentDidMount",value:function(){this._isMounted=!0}},{key:"componentDidUpdate",value:function(e){this.props.isUserPro!=e.isUserPro&&this.updateUserOptions()}},{key:"componentWillUnmount",value:function(){this._isMounted=!1,this.events.disable()}},{key:"render",value:function(){var e=this,t=p.default.toClassStr(["learner-options-button",this.props.addClasses]);return d.default.createElement("div",{className:t},d.default.createElement(c.default,{iconType:this.props.iconType,isProcessing:this.state.isProcessingOptionAction,isUserPro:this.props.isUserPro,menuOptions:this.state.menuOptions,onOptionClick:function(t){return e.handleOptionClick(t)},openPosition:"bottomLeft",shouldButtonTurn:!1}),this.renderConfirmRemoveLearnerModal(),this.renderLearnerProgressModal())}},{key:"renderConfirmRemoveLearnerModal",value:function(){return d.default.createElement(l.default,{addClasses:"confirm-remove-learner-modal",isOpen:this.state.isConfirmRemoveLearnerModalOpen,onCloseRequest:this.handleConfirmRemoveLearnerModalCloseRequest},d.default.createElement("div",{className:"new-modal-title"},"Caution"),d.default.createElement("div",{className:"new-modal-message"},"You are about to remove this Learner from this Class. This action cannot be undone."),d.default.createElement("div",{className:"new-modal-aside"},"(Note: The user will not be removed from Brainscape and may always be re-invited to this Class.)"),d.default.createElement("div",{className:"new-modal-actions"},d.default.createElement(u.default,{addClasses:"resolve-modal-button",label:"Yes, please remove",onClick:this.handleConfirmRemoveLearnerButtonClick}),d.default.createElement(u.default,{addClasses:"cancel-modal-button",label:"Cancel",onClick:this.handleConfirmRemoveLearnerModalCloseRequest})))}},{key:"renderLearnerProgressModal",value:function(){var e=this;return d.default.createElement(s.default,{isOpen:this.state.isLearnerProgressModalOpen,learner:this.props.learner,learnerDeckStats:this.state.learnerDeckStats,onCloseRequest:function(){return e.handleLearnerProgressModalCloseRequest()},pack:this.props.pack})}},{key:"handleLearnerProgressModalCloseRequest",value:function(){this.setState({isLearnerProgressModalOpen:!1})}},{key:"handleOptionActionRequest",value:function(e){switch(e){case"showLearnerProfile":this.performShowLearnerProfileAction();break;case"removeLearner":this.performRemoveLearnerAction()}}},{key:"handleOptionClick",value:function(e){if(this.menuOptionHash[e].onlyPro&&!this.props.isUserPro){var t=this.menuOptionHash[e].label||"",n=this.menuOptionHash[e].paywall||"";this.triggerUpgradeModalOpen(t,n)}else this.handleOptionActionRequest(e)}},{key:"performShowLearnerProgressAction",value:function(){var e=this;if(!this.props.learner.stats)return p.default.trackPaywallWarning("stats"),void i.default.emitEvent("upgrade-modal:open",{desiredAction:"Upgrade to see stats on all learners in your classes.",paywall:"stats"});this.setState({isProcessingOptionAction:!0}),this.getLearnerDeckStats(function(){e.setState({isLearnerProgressModalOpen:!0,isProcessingOptionAction:!1})})}},{key:"performShowLearnerProfileAction",value:function(){p.default.navigate(this.props.learner.profileUrl)}},{key:"performRemoveLearnerAction",value:function(){this.setState({isConfirmRemoveLearnerModalOpen:!0})}},{key:"triggerUpgradeModalOpen",value:function(e,t){i.default.emitEvent("upgrade-modal:open",{desiredAction:e,paywall:t})}},{key:"getLearnerDeckStats",value:function(e){var t=this;this.learner.deckStats({packId:this.props.pack.packId,userId:this.props.learner.userId,done:function(n){t.setState({learnerDeckStats:n.decks}),e&&e()},fail:function(e,t){console.log("Something went wrong in show learners deck stats. jqXHR, status:",e,t)}})}},{key:"updateUserOptions",value:function(){var e=this,t=Object.keys(this.menuOptionHash).reduce(function(t,n){return(!e.menuOptionHash[n].onlyPackAdmin||e.props.pack.isUserPackAdmin)&&t.push(e.menuOptionHash[n]),t},[]);this.setState({menuOptions:t})}}]),t}();t.default=h,e.exports=t.default},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(4),a=d(n(50)),s=d(n(0)),l=(d(n(264)),d(n(214))),c=d(n(18)),u=d(n(1));function d(e){return e&&e.__esModule?e:{default:e}}var p=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":r(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={areTooltipsEnabled:!1,isQuitting:!1,isResuming:!1},n._isMounted=!1,n.boundKeydownHandler=n.handleKeydown.bind(n),n.enableTooltipsDelay=null,n.ENABLE_TOOLTIPS_DELAY=2e3,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.default.Component),o(t,[{key:"componentDidMount",value:function(){this._isMounted=!0,this.clearTimeoutsAndIntervals(),"sidebar"==this.props.checkpointType&&this.activateKeyboardMonitor(),this.enableTooltips()}},{key:"componentWillUnmount",value:function(){this._isMounted=!1,this.deactivateKeyboardMonitor(),this.clearTimeoutsAndIntervals()}},{key:"render",value:function(){var e=u.default.toClassStr(["checkpoint",this.props.addClasses]),t=this.props.isMobileViewportSize;return s.default.createElement("div",{className:e},s.default.createElement("div",{className:"checkpoint-title-and-help"},s.default.createElement("h2",{className:"checkpoint-title"},"Checkpoint!"),s.default.createElement(c.default,{addClasses:"checkpoint-help-tooltip-wrapper",isClickDriven:t,label:"checkpoint-help-tooltip",place:"bottom",tooltipContent:this.renderCheckpointHelpTooltip()},s.default.createElement("div",{className:"checkpoint-help"},"What is this?"))),s.default.createElement("div",{className:"study-mix-metadata"},s.default.createElement("div",{className:"mastery-circles"},this.renderCheckpointMasteryCircle())),this.renderTimeToCompleteMix(),s.default.createElement("div",{className:"action-buttons"},this.renderNextRoundButton(),this.renderStudyMixOptionsButton(),this.renderKeepGoingMessage()))}},{key:"renderCheckpointHelpTooltip",value:function(){return s.default.createElement("div",{className:"tooltip-content"},s.default.createElement("p",{className:"tooltip-text overview"},"The leading cognitive science research indicates that periodic feedback about your progress reinforces the retention of information."),s.default.createElement("p",{className:"tooltip-text help-option"},"Brainscape Checkpoints\u2122 provide you with this feedback."),s.default.createElement("p",{className:"tooltip-text"},"If you are interested in learning more about the science, ",s.default.createElement("a",{href:"https://brainscape.zendesk.com/hc/en-us/articles/115002369691-How-does-cognitive-science-make-Brainscape-so-different-from-regular-flashcards-",target:"_blank"},"read this informative article")," in our help center."),s.default.createElement("p",{className:"tooltip-text continuous-study-option"},"*** If you have full access to the Decks in your Study Mix, or, if you are a Pro user, you can study through Checkpoints. Access the ",s.default.createElement("span",{className:"settings-label"},"settings"),' button and enable "Continuous Study".'))}},{key:"renderCheckpointMasteryCircle",value:function(){var e=this.state.areTooltipsEnabled?"":"is-disabled",t=u.default.toClassStr(["checkpoint-mastery-tooltip-wrapper",e]),n="fullScreen"==this.props.checkpointType,r=this.props.isMobileViewportSize,o=this.props.isMobileViewportSize?"bottom":"top";return s.default.createElement(c.default,{addClasses:t,isClickDriven:r,isReentryDriven:n&&!r,label:"checkpoint-mastery-tooltip",place:o,tooltipContent:this.renderCheckpointMasteryTooltip()},s.default.createElement(a.default,{addClasses:"mix-mastery",animationDuration:this.props.buildMasteryDuration,isSpectrum:!0,key:"checkpointMastery",mastery:this.props.mixMastery,ratingLevelCounts:this.props.mixRatingLevelCounts,shouldAnimate:!0,shouldCountUpMastery:!1,shouldShowMasteryValue:!0,shouldShowMasteryValueLabel:!0}))}},{key:"renderCheckpointMasteryTooltip",value:function(){var e=u.default.percentageStr(this.props.mixMastery);return s.default.createElement("div",{className:"tooltip-content"},s.default.createElement("p",{className:"tooltip-text"},"Across all of your studies in Brainscape, you have studied ",this.props.mixCardsStudied," different cards of this Study Mix."),s.default.createElement("p",{className:"tooltip-text"},"The arc of this graph shows your overall mastery of ",e,"% for the Study Mix."),s.default.createElement("p",{className:"tooltip-text"},"The colors of the arc reflect how you rated the cards."))}},{key:"renderTimeToCompleteMix",value:function(){var e=u.default.msToNarrativeTime(this.props.mixTimeToComplete),t=this.state.areTooltipsEnabled?"":"is-disabled",n=u.default.toClassStr(["time-left-tooltip-wrapper",t]),r="fullScreen"==this.props.checkpointType,o=this.props.isMobileViewportSize,i=this.props.isMobileViewportSize?"bottom":"top";return this.props.mixMastery>=.99?s.default.createElement("div",{className:"time-left"},s.default.createElement("div",{className:"fullscreen-checkpoint"},"Congratulations! You've reached 100% Mastery!"),s.default.createElement("div",{className:"sidebar-checkpoint"},"Congratulations!")):this.props.mixTimeToComplete<0?s.default.createElement("div",{className:"time-left"},s.default.createElement("div",{className:"fullscreen-checkpoint"},"Keep Going! You'll be learning faster before long!"),s.default.createElement("div",{className:"sidebar-checkpoint"},"Keep Going!")):s.default.createElement(c.default,{addClasses:n,isClickDriven:o,isReentryDriven:r&&!o,label:"time-left-tooltip",place:i,tooltipContent:this.renderTimeToCompleteMixTooltip()},s.default.createElement("div",{className:"time-left estimate","data-tip":"React-tooltip","data-for":"time-left-tooltip"},s.default.createElement("div",{className:"fullscreen-checkpoint"},s.default.createElement("span",{className:"time"},e)," left to reach 100% mastery (",this.props.mixCardCount," cards)."),s.default.createElement("div",{className:"sidebar-checkpoint"},s.default.createElement("div",{className:"eta-data"},e),s.default.createElement("div",{className:"eta-label"},"Est. Time to 100%"))))}},{key:"renderTimeToCompleteMixTooltip",value:function(){var e=u.default.msToNarrativeTime(this.props.mixTimeToComplete),t=u.default.msToNarrativeTime(this.props.sessionElapsedTime),n=1==this.props.mixRoundCount?"round":"rounds";return s.default.createElement("div",{className:"tooltip-content"},s.default.createElement("p",{className:"tooltip-text"},"You have studied for ",t," (elapsed time) over ",this.props.mixRoundCount," ",n," today."),s.default.createElement("p",{className:"tooltip-text"},"Based on your confidence gain over this time, we estimate it will take ",e," to reach 100% mastery for this Study Mix."),s.default.createElement("p",{className:"tooltip-text"},"This is an informal estimate\u2014your mileage may vary..."))}},{key:"renderNextRoundButton",value:function(){var e=this;if("sidebar"==this.props.checkpointType)return null;var t=this.props.shouldPulseNextRoundButton?"pulse":"",n=u.default.toClassStr(["start-new-round",t]);return s.default.createElement(i.LargeCtaButton,{addClasses:n,isProcessing:this.state.isResuming,label:"10 more cards",onClick:function(){return e.handleStartNewRoundClick()},title:"Hit [Space Bar] to resume studying"})}},{key:"renderStudyMixOptionsButton",value:function(){var e=this;return"sidebar"==this.props.checkpointType?null:s.default.createElement(l.default,{isContinuousStudyEnabled:this.props.isContinuousStudyEnabled,isMixRestricted:this.props.isMixRestricted,isMobileViewportSize:this.props.isMobileViewportSize,isUserPro:this.props.isUserPro,onToggleContinuousStudy:function(){return e.props.onToggleContinuousStudy()}})}},{key:"renderBackToLibraryButton",value:function(){var e=this;return"sidebar"==this.props.checkpointType?null:s.default.createElement("div",{className:"back-to-library-link",onClick:function(){return e.handleBackToLibraryClick()}},"Back to My Classes")}},{key:"renderKeepGoingMessage",value:function(){return"fullScreen"==this.props.checkpointType?null:s.default.createElement("div",{className:"keep-going-message"},"Keep Studying. Checkpoint will disappear when you flip or rate a card.")}},{key:"handleBackToLibraryClick",value:function(){var e=this;this.setState({isQuitting:!0},function(){e.props.onCloseStudyMixRequest()})}},{key:"handleStartNewRoundClick",value:function(){var e=this;this.setState({isResuming:!0},function(){e.props.onNextRoundRequest()})}},{key:"handleDismissSidebarCheckpointClick",value:function(){this.props.onDismissSidebarCheckpoint()}},{key:"handleKeydown",value:function(e){switch(e.stopPropagation(),e.keyCode){case 27:case 32:e.preventDefault(),this.handleStartNewRoundClick()}}},{key:"enableTooltips",value:function(){var e=this;clearTimeout(this.enableTooltipsDelay),this.enableTooltipsDelay=setTimeout(function(){e.setState({areTooltipsEnabled:!0})},this.ENABLE_TOOLTIPS_DELAY)}},{key:"activateKeyboardMonitor",value:function(){document.addEventListener("keydown",this.boundKeydownHandler,!0)}},{key:"deactivateKeyboardMonitor",value:function(){document.removeEventListener("keydown",this.boundKeydownHandler,!0)}},{key:"clearTimeoutsAndIntervals",value:function(){clearTimeout(this.enableTooltipsDelay)}}]),t}();t.default=p,e.exports=t.default},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=s(n(0)),a=s(n(1));function s(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":r(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default.Component),o(t,[{key:"render",value:function(){for(var e=this,t=[],n=function(n){var r=e.props.highlightedRatingButton&&e.props.highlightedRatingButton==n?"highlighted":"",o=a.default.toClassStr(["confidence-level-button","confidence-"+n,r]);t.push(i.default.createElement("div",{key:n,className:o,onClick:function(t){return e.handleButtonClick(t,n)},"data-level":n,title:"Press "+n+" on your keyboard"},n,e.renderConfidenceButtonText(n)))},r=1;r<=5;r++)n(r);return i.default.createElement("div",{className:"confidence-level-buttons"},t)}},{key:"renderConfidenceButtonText",value:function(e){return 1==e?i.default.createElement("small",null,"Not At All"):5==e?i.default.createElement("small",null,"Perfectly"):null}},{key:"handleButtonClick",value:function(e,t){e.stopPropagation(),this.props.onButtonClick(t)}}]),t}();t.default=l,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(3)),o=i(n(0));function i(e){return e&&e.__esModule?e:{default:e}}var a=function(e){var t="nav-link "+e.className;return o.default.createElement("div",null,o.default.createElement("a",{href:"javascript:;",className:t,onClick:e.onClick},e.children))};a.propTypes={className:r.default.string,onClick:r.default.func.isRequired},t.default=a,e.exports=t.default},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){var r,o;r=[n(67)],void 0===(o=function(e){"use strict";return e.hasOwnProperty}.apply(t,r))||(e.exports=o)},function(e,t,n){var r,o;r=[n(55)],void 0===(o=function(e){"use strict";return e.indexOf}.apply(t,r))||(e.exports=o)},function(e,t,n){var r;void 0===(r=function(){"use strict";return["Top","Right","Bottom","Left"]}.call(t,n,t,e))||(e.exports=r)},function(e,t,n){var r,o;r=[n(239)],void 0===(o=function(e){"use strict";return new RegExp("^("+e+")(?!px)[a-z%]+$","i")}.apply(t,r))||(e.exports=o)},function(e,t,n){var r,o;r=[n(5),n(14),n(70),n(36)],void 0===(o=function(e,t,n,r){"use strict";return function(){function o(){if(p){d.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",p.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",n.appendChild(d).appendChild(p);var e=window.getComputedStyle(p);a="1%"!==e.top,u=12===i(e.marginLeft),p.style.right="60%",c=36===i(e.right),s=36===i(e.width),p.style.position="absolute",l=12===i(p.offsetWidth/3),n.removeChild(d),p=null}}function i(e){return Math.round(parseFloat(e))}var a,s,l,c,u,d=t.createElement("div"),p=t.createElement("div");p.style&&(p.style.backgroundClip="content-box",p.cloneNode(!0).style.backgroundClip="",r.clearCloneStyle="content-box"===p.style.backgroundClip,e.extend(r,{boxSizingReliable:function(){return o(),s},pixelBoxStyles:function(){return o(),c},pixelPosition:function(){return o(),a},reliableMarginLeft:function(){return o(),u},scrollboxSize:function(){return o(),l}}))}(),r}.apply(t,r))||(e.exports=o)},function(e,t,n){var r,o;r=[n(239)],void 0===(o=function(e){"use strict";return new RegExp("^(?:([+-])=|)("+e+")([a-z%]*)$","i")}.apply(t,r))||(e.exports=o)},function(e,t,n){var r,o;r=[n(5),n(41),n(11),n(32)],void 0===(o=function(e,t,n,r){"use strict";return e.Callbacks=function(o){o="string"==typeof o?function(t){var n={};return e.each(t.match(r)||[],function(e,t){n[t]=!0}),n}(o):e.extend({},o);var i,a,s,l,c=[],u=[],d=-1,p=function(){for(l=l||o.once,s=i=!0;u.length;d=-1)for(a=u.shift();++d<c.length;)!1===c[d].apply(a[0],a[1])&&o.stopOnFalse&&(d=c.length,a=!1);o.memory||(a=!1),i=!1,l&&(c=a?[]:"")},f={add:function(){return c&&(a&&!i&&(d=c.length-1,u.push(a)),function r(i){e.each(i,function(e,i){n(i)?o.unique&&f.has(i)||c.push(i):i&&i.length&&"string"!==t(i)&&r(i)})}(arguments),a&&!i&&p()),this},remove:function(){return e.each(arguments,function(t,n){for(var r;(r=e.inArray(n,c,r))>-1;)c.splice(r,1),r<=d&&d--}),this},has:function(t){return t?e.inArray(t,c)>-1:c.length>0},empty:function(){return c&&(c=[]),this},disable:function(){return l=u=[],c=a="",this},disabled:function(){return!c},lock:function(){return l=u=[],a||i||(c=a=""),this},locked:function(){return!!l},fireWith:function(e,t){return l||(t=[e,(t=t||[]).slice?t.slice():t],u.push(t),i||p()),this},fire:function(){return f.fireWith(this,arguments),this},fired:function(){return!!s}};return f},e}.apply(t,r))||(e.exports=o)},function(e,t,n){var r;void 0===(r=function(){"use strict";return function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType}}.call(t,n,t,e))||(e.exports=r)},function(e,t,n){var r,o;r=[n(5),n(24),n(42),n(104)],void 0===(o=function(e,t){"use strict";return e.extend({queue:function(n,r,o){var i;if(n)return r=(r||"fx")+"queue",i=t.get(n,r),o&&(!i||Array.isArray(o)?i=t.access(n,r,e.makeArray(o)):i.push(o)),i||[]},dequeue:function(t,n){n=n||"fx";var r=e.queue(t,n),o=r.length,i=r.shift(),a=e._queueHooks(t,n);"inprogress"===i&&(i=r.shift(),o--),i&&("fx"===n&&r.unshift("inprogress"),delete a.stop,i.call(t,function(){e.dequeue(t,n)},a)),!o&&a&&a.empty.fire()},_queueHooks:function(n,r){var o=r+"queueHooks";return t.get(n,o)||t.access(n,o,{empty:e.Callbacks("once memory").add(function(){t.remove(n,[r+"queue",o])})})}}),e.fn.extend({queue:function(t,n){var r=2;return"string"!=typeof t&&(n=t,t="fx",r--),arguments.length<r?e.queue(this[0],t):void 0===n?this:this.each(function(){var r=e.queue(this,t,n);e._queueHooks(this,t),"fx"===t&&"inprogress"!==r[0]&&e.dequeue(this,t)})},dequeue:function(t){return this.each(function(){e.dequeue(this,t)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(n,r){var o,i=1,a=e.Deferred(),s=this,l=this.length,c=function(){--i||a.resolveWith(s,[s])};for("string"!=typeof n&&(r=n,n=void 0),n=n||"fx";l--;)(o=t.get(s[l],n+"queueHooks"))&&o.empty&&(i++,o.empty.add(c));return c(),a.promise(r)}}),e}.apply(t,r))||(e.exports=o)},function(e,t,n){var r,o;r=[n(5),n(57),n(14),n(11),n(103),n(32),n(100),n(251),n(241),n(242),n(24),n(326),n(19),n(106),n(42),n(43),n(71),n(54),n(328)],void 0===(o=function(e,t,n,r,o,i,a,s,l,c,u,d){"use strict";var p,f,h=/^(?:toggle|show|hide)$/,m=/queueHooks$/;function g(){f&&(!1===n.hidden&&window.requestAnimationFrame?window.requestAnimationFrame(g):window.setTimeout(g,e.fx.interval),e.fx.tick())}function b(){return window.setTimeout(function(){p=void 0}),p=Date.now()}function v(e,t){var n,r=0,o={height:e};for(t=t?1:0;r<4;r+=2-t)o["margin"+(n=a[r])]=o["padding"+n]=e;return t&&(o.opacity=o.width=e),o}function y(e,t,n){for(var r,o=(k.tweeners[t]||[]).concat(k.tweeners["*"]),i=0,a=o.length;i<a;i++)if(r=o[i].call(n,t,e))return r}function k(n,o,i){var a,s,l=0,c=k.prefilters.length,u=e.Deferred().always(function(){delete d.elem}),d=function(){if(s)return!1;for(var e=p||b(),t=Math.max(0,f.startTime+f.duration-e),r=1-(t/f.duration||0),o=0,i=f.tweens.length;o<i;o++)f.tweens[o].run(r);return u.notifyWith(n,[f,r,t]),r<1&&i?t:(i||u.notifyWith(n,[f,1,0]),u.resolveWith(n,[f]),!1)},f=u.promise({elem:n,props:e.extend({},o),opts:e.extend(!0,{specialEasing:{},easing:e.easing._default},i),originalProperties:o,originalOptions:i,startTime:p||b(),duration:i.duration,tweens:[],createTween:function(t,r){var o=e.Tween(n,f.opts,t,r,f.opts.specialEasing[t]||f.opts.easing);return f.tweens.push(o),o},stop:function(e){var t=0,r=e?f.tweens.length:0;if(s)return this;for(s=!0;t<r;t++)f.tweens[t].run(1);return e?(u.notifyWith(n,[f,1,0]),u.resolveWith(n,[f,e])):u.rejectWith(n,[f,e]),this}}),h=f.props;for(function(n,r){var o,i,a,s,l;for(o in n)if(a=r[i=t(o)],s=n[o],Array.isArray(s)&&(a=s[1],s=n[o]=s[0]),o!==i&&(n[i]=s,delete n[o]),(l=e.cssHooks[i])&&"expand"in l)for(o in s=l.expand(s),delete n[i],s)o in n||(n[o]=s[o],r[o]=a);else r[i]=a}(h,f.opts.specialEasing);l<c;l++)if(a=k.prefilters[l].call(f,n,h,f.opts))return r(a.stop)&&(e._queueHooks(f.elem,f.opts.queue).stop=a.stop.bind(a)),a;return e.map(h,y,f),r(f.opts.start)&&f.opts.start.call(n,f),f.progress(f.opts.progress).done(f.opts.done,f.opts.complete).fail(f.opts.fail).always(f.opts.always),e.fx.timer(e.extend(d,{elem:n,anim:f,queue:f.opts.queue})),f}return e.Animation=e.extend(k,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return c(n.elem,e,o.exec(t),n),n}]},tweener:function(e,t){r(e)?(t=e,e=["*"]):e=e.match(i);for(var n,o=0,a=e.length;o<a;o++)n=e[o],k.tweeners[n]=k.tweeners[n]||[],k.tweeners[n].unshift(t)},prefilters:[function(t,n,r){var o,i,a,l,c,p,f,m,g="width"in n||"height"in n,b=this,v={},k=t.style,_=t.nodeType&&s(t),w=u.get(t,"fxshow");for(o in r.queue||(null==(l=e._queueHooks(t,"fx")).unqueued&&(l.unqueued=0,c=l.empty.fire,l.empty.fire=function(){l.unqueued||c()}),l.unqueued++,b.always(function(){b.always(function(){l.unqueued--,e.queue(t,"fx").length||l.empty.fire()})})),n)if(i=n[o],h.test(i)){if(delete n[o],a=a||"toggle"===i,i===(_?"hide":"show")){if("show"!==i||!w||void 0===w[o])continue;_=!0}v[o]=w&&w[o]||e.style(t,o)}if((p=!e.isEmptyObject(n))||!e.isEmptyObject(v))for(o in g&&1===t.nodeType&&(r.overflow=[k.overflow,k.overflowX,k.overflowY],null==(f=w&&w.display)&&(f=u.get(t,"display")),"none"===(m=e.css(t,"display"))&&(f?m=f:(d([t],!0),f=t.style.display||f,m=e.css(t,"display"),d([t]))),("inline"===m||"inline-block"===m&&null!=f)&&"none"===e.css(t,"float")&&(p||(b.done(function(){k.display=f}),null==f&&(m=k.display,f="none"===m?"":m)),k.display="inline-block")),r.overflow&&(k.overflow="hidden",b.always(function(){k.overflow=r.overflow[0],k.overflowX=r.overflow[1],k.overflowY=r.overflow[2]})),p=!1,v)p||(w?"hidden"in w&&(_=w.hidden):w=u.access(t,"fxshow",{display:f}),a&&(w.hidden=!_),_&&d([t],!0),b.done(function(){for(o in _||d([t]),u.remove(t,"fxshow"),v)e.style(t,o,v[o])})),p=y(_?w[o]:0,o,b),o in w||(w[o]=p.start,_&&(p.end=p.start,p.start=0))}],prefilter:function(e,t){t?k.prefilters.unshift(e):k.prefilters.push(e)}}),e.speed=function(t,n,o){var i=t&&"object"==typeof t?e.extend({},t):{complete:o||!o&&n||r(t)&&t,duration:t,easing:o&&n||n&&!r(n)&&n};return e.fx.off?i.duration=0:"number"!=typeof i.duration&&(i.duration in e.fx.speeds?i.duration=e.fx.speeds[i.duration]:i.duration=e.fx.speeds._default),null!=i.queue&&!0!==i.queue||(i.queue="fx"),i.old=i.complete,i.complete=function(){r(i.old)&&i.old.call(this),i.queue&&e.dequeue(this,i.queue)},i},e.fn.extend({fadeTo:function(e,t,n,r){return this.filter(s).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(t,n,r,o){var i=e.isEmptyObject(t),a=e.speed(n,r,o),s=function(){var n=k(this,e.extend({},t),a);(i||u.get(this,"finish"))&&n.stop(!0)};return s.finish=s,i||!1===a.queue?this.each(s):this.queue(a.queue,s)},stop:function(t,n,r){var o=function(e){var t=e.stop;delete e.stop,t(r)};return"string"!=typeof t&&(r=n,n=t,t=void 0),n&&!1!==t&&this.queue(t||"fx",[]),this.each(function(){var n=!0,i=null!=t&&t+"queueHooks",a=e.timers,s=u.get(this);if(i)s[i]&&s[i].stop&&o(s[i]);else for(i in s)s[i]&&s[i].stop&&m.test(i)&&o(s[i]);for(i=a.length;i--;)a[i].elem!==this||null!=t&&a[i].queue!==t||(a[i].anim.stop(r),n=!1,a.splice(i,1));!n&&r||e.dequeue(this,t)})},finish:function(t){return!1!==t&&(t=t||"fx"),this.each(function(){var n,r=u.get(this),o=r[t+"queue"],i=r[t+"queueHooks"],a=e.timers,s=o?o.length:0;for(r.finish=!0,e.queue(this,t,[]),i&&i.stop&&i.stop.call(this,!0),n=a.length;n--;)a[n].elem===this&&a[n].queue===t&&(a[n].anim.stop(!0),a.splice(n,1));for(n=0;n<s;n++)o[n]&&o[n].finish&&o[n].finish.call(this);delete r.finish})}}),e.each(["toggle","show","hide"],function(t,n){var r=e.fn[n];e.fn[n]=function(e,t,o){return null==e||"boolean"==typeof e?r.apply(this,arguments):this.animate(v(n,!0),e,t,o)}}),e.each({slideDown:v("show"),slideUp:v("hide"),slideToggle:v("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,n){e.fn[t]=function(e,t,r){return this.animate(n,e,t,r)}}),e.timers=[],e.fx.tick=function(){var t,n=0,r=e.timers;for(p=Date.now();n<r.length;n++)(t=r[n])()||r[n]!==t||r.splice(n--,1);r.length||e.fx.stop(),p=void 0},e.fx.timer=function(t){e.timers.push(t),e.fx.start()},e.fx.interval=13,e.fx.start=function(){f||(f=!0,g())},e.fx.stop=function(){f=null},e.fx.speeds={slow:600,fast:200,_default:400},e}.apply(t,r))||(e.exports=o)},function(e,t,n){var r;void 0===(r=function(){"use strict";return/^(?:checkbox|radio)$/i}.call(t,n,t,e))||(e.exports=r)},function(e,t,n){var r,o;r=[n(14),n(36)],void 0===(o=function(e,t){"use strict";return n=e.createElement("input"),r=e.createElement("select").appendChild(e.createElement("option")),n.type="checkbox",t.checkOn=""!==n.value,t.optSelected=r.selected,(n=e.createElement("input")).value="t",n.type="radio",t.radioValue="t"===n.value,t;var n,r}.apply(t,r))||(e.exports=o)},function(e,t,n){var r,o;r=[n(32)],void 0===(o=function(e){"use strict";return function(t){return(t.match(e)||[]).join(" ")}}.apply(t,r))||(e.exports=o)},function(e,t,n){var r,o;r=[n(5),n(14),n(24),n(105),n(98),n(11),n(56),n(44)],void 0===(o=function(e,t,n,r,o,i,a){"use strict";var s=/^(?:focusinfocus|focusoutblur)$/,l=function(e){e.stopPropagation()};return e.extend(e.event,{trigger:function(c,u,d,p){var f,h,m,g,b,v,y,k,_=[d||t],w=o.call(c,"type")?c.type:c,C=o.call(c,"namespace")?c.namespace.split("."):[];if(h=k=m=d=d||t,3!==d.nodeType&&8!==d.nodeType&&!s.test(w+e.event.triggered)&&(w.indexOf(".")>-1&&(w=(C=w.split(".")).shift(),C.sort()),b=w.indexOf(":")<0&&"on"+w,(c=c[e.expando]?c:new e.Event(w,"object"==typeof c&&c)).isTrigger=p?2:3,c.namespace=C.join("."),c.rnamespace=c.namespace?new RegExp("(^|\\.)"+C.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,c.result=void 0,c.target||(c.target=d),u=null==u?[c]:e.makeArray(u,[c]),y=e.event.special[w]||{},p||!y.trigger||!1!==y.trigger.apply(d,u))){if(!p&&!y.noBubble&&!a(d)){for(g=y.delegateType||w,s.test(g+w)||(h=h.parentNode);h;h=h.parentNode)_.push(h),m=h;m===(d.ownerDocument||t)&&_.push(m.defaultView||m.parentWindow||window)}for(f=0;(h=_[f++])&&!c.isPropagationStopped();)k=h,c.type=f>1?g:y.bindType||w,(v=(n.get(h,"events")||{})[c.type]&&n.get(h,"handle"))&&v.apply(h,u),(v=b&&h[b])&&v.apply&&r(h)&&(c.result=v.apply(h,u),!1===c.result&&c.preventDefault());return c.type=w,p||c.isDefaultPrevented()||y._default&&!1!==y._default.apply(_.pop(),u)||!r(d)||b&&i(d[w])&&!a(d)&&((m=d[b])&&(d[b]=null),e.event.triggered=w,c.isPropagationStopped()&&k.addEventListener(w,l),d[w](),c.isPropagationStopped()&&k.removeEventListener(w,l),e.event.triggered=void 0,m&&(d[b]=m)),c.result}},simulate:function(t,n,r){var o=e.extend(new e.Event,r,{type:t,isSimulated:!0});e.event.trigger(o,null,n)}}),e.fn.extend({trigger:function(t,n){return this.each(function(){e.event.trigger(t,n,this)})},triggerHandler:function(t,n){var r=this[0];if(r)return e.event.trigger(t,n,r,!0)}}),e}.apply(t,r))||(e.exports=o)},function(e,t,n){"use strict";!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}(),e.exports=n(356)},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=c(n(2)),a=c(n(0)),s=c(n(362)),l=c(n(1));function c(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":r(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return Object.defineProperty(n,"handleSelectSegmentRequest",{enumerable:!0,writable:!0,value:function(e){e.shouldRefreshSegments?n.refreshSegments(function(){n.selectSegment(e.segmentId),e.callback&&callback()}):n.selectSegment(e.segmentId)}}),Object.defineProperty(n,"handleSegmentMarkerClick",{enumerable:!0,writable:!0,value:function(e,t){e&&e.stopPropagation(),n.selectSegment(t)}}),Object.defineProperty(n,"initSegmentMonitor",{enumerable:!0,writable:!0,value:function(e){n.setState({currentSegmentId:n.props.segments[0].id}),n.resetSegmentMonitor(e)}}),Object.defineProperty(n,"manageScrollEvents",{enumerable:!0,writable:!0,value:function(){if(n.segmentsScrollPosition=n.segmentsElement.getBoundingClientRect().top,n.shouldPauseNavigatorChanges)return!1;var e=n.getCurrentSegmentId(n.segmentsScrollPosition);e!=n.state.currentSegmentId&&n.setState({currentSegmentId:e})}}),Object.defineProperty(n,"pauseAndResumeMonitor",{enumerable:!0,writable:!0,value:function(){n.clearTimeoutsAndIntervals(),n.shouldPauseNavigatorChanges=!0,n.resumeNavigatorChangesTimeout=setTimeout(function(){n.shouldPauseNavigatorChanges=!1},1e3)}}),Object.defineProperty(n,"refreshSegments",{enumerable:!0,writable:!0,value:function(e){n.stopScrollMonitor(),n.clearTimeoutsAndIntervals(),n.resetSegmentMonitor(),e&&e()}}),Object.defineProperty(n,"resetSegmentMonitor",{enumerable:!0,writable:!0,value:function(){n.scrollElement=document.getElementById(n.props.scrollElementId),n.segmentsElement=document.getElementById(n.props.segmentsElementId),n.segmentsScrollTop=n.segmentsElement.getBoundingClientRect().top,n.scrollElement&&n.segmentsElement&&(n.setSegmentBreakpoints(),n.startScrollMonitor())}}),Object.defineProperty(n,"selectSegment",{enumerable:!0,writable:!0,value:function(e){var t=document.getElementById(e);t&&(n.pauseAndResumeMonitor(),t.scrollIntoView({behavior:"smooth"})),n.setState({currentSegmentId:e})}}),Object.defineProperty(n,"setSegmentBreakpoints",{enumerable:!0,writable:!0,value:function(){var e=[];n.props.segments.forEach(function(t,r){var o=document.getElementById(t.id);if(o){var i=o.getBoundingClientRect().top-n.segmentsScrollTop;e.push({position:i,segmentId:t.id})}}),e.length>1&&e.sort(function(e,t){return t.breakpoint>e.breakpoint?1:-1}),n.segmentBreakpoints=e}}),Object.defineProperty(n,"startScrollMonitor",{enumerable:!0,writable:!0,value:function(){n.scrollPosition=n.segmentsElement.getBoundingClientRect().top,n.manageScrollEvents(),n.scrollElement.addEventListener("scroll",n.manageScrollEvents)}}),Object.defineProperty(n,"stopScrollMonitor",{enumerable:!0,writable:!0,value:function(){n.scrollElement.removeEventListener("scroll",n.manageScrollEvents)}}),n.state={currentSegmentId:0},n.events=new i.default,n.scrollElement=null,n.segmentsElement=null,n.segmentsScrollTop=0,n.segmentsScrollPosition=0,n.segmentBreakpoints=[],n.shouldPauseNavigatorChanges=!1,n.resumeNavigatorChangesTimeout=null,n._isMounted=!1,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default.Component),o(t,[{key:"componentDidMount",value:function(){var e=this;this._isMounted=!0,s.default.polyfill(),this.clearTimeoutsAndIntervals(),this.initSegmentMonitor(),this.events.addListener("segment-navigator:select-segment",function(t){e.handleSelectSegmentRequest(t)})}},{key:"componentDidUpdate",value:function(e){this.haveSegmentsChanged(e.segments,this.props.segments)&&this.refreshSegments()}},{key:"componentWillUnmount",value:function(){this.stopScrollMonitor(),this.clearTimeoutsAndIntervals(),this._isMounted=!1}},{key:"render",value:function(){var e=this;if(!(this.props.segments&&this.props.segments.length&&this.props.segments.length>0))return null;var t=l.default.toClassStr(["segment-navigator",this.props.addClasses]),n=this.props.segments.map(function(t,n){return e.renderSegmentMarker(t,n)});return a.default.createElement("ul",{className:t},n)}},{key:"renderSegmentMarker",value:function(e,t){var n=this,r=e.id==this.state.currentSegmentId?"is-selected":"",o=l.default.toClassStr(["segment-marker",r]);return a.default.createElement("li",{className:o,onClick:function(t){return n.handleSegmentMarkerClick(t,e.id)},key:"segment-"+t},e.label)}},{key:"clearTimeoutsAndIntervals",value:function(){clearTimeout(this.resumeNavigatorChangesTimeout)}},{key:"getCurrentSegmentId",value:function(e){for(var t=this.segmentBreakpoints.slice(-1)[0].segmentId,n=0;n<this.segmentBreakpoints.length;n++){var r=this.segmentBreakpoints[n];if(this.segmentsScrollTop-e>r.position){t=r.segmentId;break}}return t}},{key:"haveSegmentsChanged",value:function(e,t){var n=e.join(",");return t.join(",")!=n}}]),t}();t.default=u,e.exports=t.default},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=u(n(6)),a=u(n(15)),s=u(n(4)),l=u(n(0)),c=u(n(8));function u(e){return e&&e.__esModule?e:{default:e}}u(n(1));var d=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":r(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return Object.defineProperty(n,"render",{enumerable:!0,writable:!0,value:function(){var e=n.props.resolveButtonText||"Yes, proceed";return l.default.createElement(i.default,{addClasses:"caution-modal",isOpen:n.props.isOpen,onClosed:n.props.onClosed,onCloseRequest:n.props.onCloseRequest},n.renderTitle(),n.renderMessage(),l.default.createElement("div",{className:"new-modal-actions"},l.default.createElement(s.default,{addClasses:"cancel-modal-button",label:"Cancel",onClick:n.handleCancelButtonClick}),l.default.createElement(c.default,{addClasses:"resolve-modal-text-button",isProcessing:n.props.isProcessing,label:e,onClick:n.handleResolveButtonClick,spinnerColor:"blue"})))}}),Object.defineProperty(n,"handleCancelButtonClick",{enumerable:!0,writable:!0,value:function(){n.props.onCancellation?n.props.onCancellation():n.props.onCloseRequest()}}),Object.defineProperty(n,"handleResolveButtonClick",{enumerable:!0,writable:!0,value:function(){n.props.onResolution?n.props.onResolution():n.props.onCloseRequest()}}),n.state={isProcessing:!1},n.Pack=new a.default,n._isMounted=!1,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.default.Component),o(t,[{key:"componentDidMount",value:function(){this._isMounted=!0}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"renderTitle",value:function(){return this.props.title?l.default.createElement("div",{className:"new-modal-title"},this.props.title):l.default.createElement("div",{className:"new-modal-title"},"Caution")}},{key:"renderMessage",value:function(){return this.props.message?l.default.createElement("div",{className:"new-modal-message"},this.props.message):this.props.actionText?l.default.createElement("div",{className:"new-modal-message"},"You are about to "+this.props.actionText+". Are you sure that you wish to proceed?"):l.default.createElement("div",{className:"new-modal-message"},"Are you sure that you wish to proceed?")}}]),t}();t.default=d,e.exports=t.default},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(21),a=m(n(2)),s=m(n(13)),l=m(n(6)),c=m(n(4)),u=m(n(26)),d=m(n(0)),p=m(n(8)),f=m(n(12)),h=m(n(1));function m(e){return e&&e.__esModule?e:{default:e}}var g=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":r(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return Object.defineProperty(n,"render",{enumerable:!0,writable:!0,value:function(){return d.default.createElement("div",{className:"modal-set"},n.renderInputModal(),n.renderConfirmationModal())}}),Object.defineProperty(n,"renderNoDecksWarning",{enumerable:!0,writable:!0,value:function(){return n.state.deckRows?n.state.deckRows.length>0?null:d.default.createElement("div",{className:"new-modal-message"},"There are no decks in your library into which you can place these cards. Create a new deck, if you wish to continue."):null}}),Object.defineProperty(n,"handleCancelButtonClick",{enumerable:!0,writable:!0,value:function(){n.props.onCloseRequest()}}),Object.defineProperty(n,"handleCloseConfirmationModalRequest",{enumerable:!0,writable:!0,value:function(){n.setState({isConfirmationModalOpen:!1,shouldOpenConfirmationModal:!1})}}),Object.defineProperty(n,"handleCopyAndPlaceButtonClick",{enumerable:!0,writable:!0,value:function(){n.setState({isProcessing:!0});var e=n.state.selectedDeckId,t=n.props.contentType,r=null,o=null;if(n.state.deckRows.forEach(function(t){t.deckId==e&&(r=t.contentType,o=t.packId)}),t!=r){var i='The content types are different: "'+t+'" \u2192 "'+r+'". Continue?';n.triggerCautionModalOpen({message:i,resolveButtonText:"Yes, Continue",onResolution:function(){n.performCopyAndPlace(o,e),n.triggerCautionModalClose()},onCancellation:function(){n.props.onCloseRequest()}})}else n.performCopyAndPlace(o,e)}}),Object.defineProperty(n,"handleDecksPulldownButtonClick",{enumerable:!0,writable:!0,value:function(){n.setState({decksPulldownOpen:!n.state.decksPulldownOpen})}}),Object.defineProperty(n,"handleDecksPulldownOptionClick",{enumerable:!0,writable:!0,value:function(e){n.setState({decksPulldownOpen:!1,selectedDeckId:e})}}),Object.defineProperty(n,"handleDecksPulldownOutsideClick",{enumerable:!0,writable:!0,value:function(e){n.setState({decksPulldownOpen:!1})}}),Object.defineProperty(n,"handleInputModalClosed",{enumerable:!0,writable:!0,value:function(){n.state.shouldOpenConfirmationModal&&n.setState({isConfirmationModalOpen:!0})}}),Object.defineProperty(n,"handleNoButtonClick",{enumerable:!0,writable:!0,value:function(){n.handleCloseConfirmationModalRequest()}}),Object.defineProperty(n,"handleYesButtonClick",{enumerable:!0,writable:!0,value:function(){h.default.navigate("/l/dashboard/"+n.state.destinationPackId,"Opening class...")}}),Object.defineProperty(n,"closeModal",{enumerable:!0,writable:!0,value:function(){n.props.onCloseRequest()}}),Object.defineProperty(n,"getUserEditableDecks",{enumerable:!0,writable:!0,value:function(){(0,i.apiGet)("decks/editable").then(function(e){n.setupDeckSelectorOptions(e)}).catch(function(e){h.default.handleError({operation:"Get Editable Decks",errorMessage:"Could not read the list of decks",errorObject:e,notifyUser:!0}),n.closeModal()})}}),Object.defineProperty(n,"setupDeckSelectorOptions",{enumerable:!0,writable:!0,value:function(e){var t=[];(e.packs||[]).forEach(function(e){(e.decks||[]).forEach(function(r){t.push({cardCt:n.countIds(r.cardIds||r.cardIDs),contentType:r.contentType,deckId:r.deckId||r.deckID,deckName:r.name,packId:e.packId||e.packID,packName:e.name})})}),n.events.ifEnabled(function(){n.setState({deckRows:t,isLoadingDecks:!1})})}}),Object.defineProperty(n,"countIds",{enumerable:!0,writable:!0,value:function(e){return e&&""!=e?e.split(",").length:0}}),n.state={deckRows:null,decksPulldownOpen:!1,destinationPackId:null,isConfirmationModalOpen:!1,isProcessing:!1,isLoadingDecks:!0,selectedDeckId:null,shouldOpenConfirmationModal:!1},n.events=new a.default,n._isMounted=!1,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,d.default.Component),o(t,[{key:"componentDidMount",value:function(){this._isMounted=!0,this.getUserEditableDecks()}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"renderInputModal",value:function(){var e=this,t=null==this.state.selectedDeckId||-1==this.state.selectedDeckId;return d.default.createElement(l.default,{addClasses:"copy-and-place-cards-modal",isOpen:this.props.isOpen,onClosed:this.handleInputModalClosed,onCloseRequest:function(){return e.props.onCloseRequest()}},d.default.createElement("div",{className:"new-modal-title"},"Copy and Place Cards"),d.default.createElement("div",{className:"new-modal-guidance"},"You can copy cards into another deck in your library."),this.renderNoDecksWarning(),this.renderDeckSelector(),d.default.createElement("div",{className:"new-modal-actions"},d.default.createElement(c.default,{addClasses:"cancel-modal-button",label:"Cancel",onClick:this.handleCancelButtonClick}),d.default.createElement(c.default,{addClasses:"resolve-modal-button",isDisabled:t,isProcessing:this.state.isProcessing,label:"Copy and Place",onClick:this.handleCopyAndPlaceButtonClick})))}},{key:"renderDeckSelector",value:function(){var e=this.state.deckRows;if(!(e&&e.length>0))return null;var t=this.props.deckId,n=this.props.cardIds.length,r=1==n?"selected card":n+" selected cards",o=[];return e.forEach(function(e){t!=e.deckId&&o.push({id:e.deckId,label:"["+e.packName+"] "+e.deckName+" ("+e.cardCt+" cards)"})}),d.default.createElement("div",{className:"deck-selector"},d.default.createElement("div",{className:"new-modal-message"},"Choose a deck from your library into which to place the ",r,":"),d.default.createElement("div",{className:"pulldown-and-tooltip"},this.renderDecksPulldown(o),d.default.createElement(s.default,{addClasses:"copy-place-info-tooltip"},d.default.createElement("div",{className:"tooltip-content"},d.default.createElement("p",{className:"tooltip-text"},"This is a list of the decks in classes where you have edit access."),d.default.createElement("p",{className:"tooltip-text"},"If you don't see the deck you're looking for, ask the admin to give you edit access to the class, or create your own new class.")))))}},{key:"renderDecksPulldown",value:function(e){return this.state.isLoadingDecks?d.default.createElement(f.default,null):d.default.createElement(u.default,{addClasses:"decks-pulldown",isOpen:this.state.decksPulldownOpen,options:e,fieldName:"deck",placeholderText:"Select destination deck...",selectedValue:this.state.selectedDeckId||"-1",shouldSuppressNullOption:!1,onButtonClick:this.handleDecksPulldownButtonClick,onOptionClick:this.handleDecksPulldownOptionClick,onOutsideClick:this.handleDecksPulldownOutsideClick})}},{key:"renderConfirmationModal",value:function(){var e=this.props.cardIds.length+" card(s) copied. Open the parent class?";return d.default.createElement(l.default,{addClasses:"copy-cards-confirmation-modal",isOpen:this.state.isConfirmationModalOpen,onCloseRequest:this.handleCloseConfirmationModalRequest},d.default.createElement("div",{className:"new-modal-title"},"Cards copied to Deck"),d.default.createElement("div",{className:"new-modal-message"},e),d.default.createElement("div",{className:"new-modal-actions"},d.default.createElement(p.default,{addClasses:"cancel-modal-text-button",label:"No",onClick:this.handleNoButtonClick}),d.default.createElement(c.default,{addClasses:"resolve-modal-button",label:"Yes",onClick:this.handleYesButtonClick})))}},{key:"triggerCautionModalClose",value:function(e){a.default.emitEvent("caution-modal:close",e)}},{key:"triggerCautionModalOpen",value:function(e){a.default.emitEvent("caution-modal:open",e)}},{key:"performCopyAndPlace",value:function(e,t){var n=this,r="packs/"+e+"/decks/"+t+"/cards/place",o={src_pack_id:this.props.packId,src_deck_id:this.props.deckId,src_card_ids:this.props.cardIds.join(",")};(0,i.apiPost)(r,o).then(function(t){n.setState({destinationPackId:e,isProcessing:!1}),n.showConfirmationModal()}).catch(function(e){h.default.handleError({operation:"Copy and Place Cards",errorMessage:e.message,errorObject:e,notifyUser:!0})})}},{key:"showConfirmationModal",value:function(){var e=this;this.setState({shouldOpenConfirmationModal:!0},function(){e.props.onCloseRequest()})}}]),t}();t.default=g,e.exports=t.default},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=l(n(117)),a=l(n(2)),s=(l(n(3)),l(n(0)));function l(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":r(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return Object.defineProperty(n,"handleCloseRequest",{enumerable:!0,writable:!0,value:function(){n.setState({isModalOpen:!1},function(){n.state.viewProps&&n.state.viewProps.onCloseRequest&&n.state.viewProps.onCloseRequest()})}}),Object.defineProperty(n,"handleClosed",{enumerable:!0,writable:!0,value:function(){var e=n.state.viewProps.onClosed;n.setState({viewProps:null},function(){e&&e()})}}),n.state={isModalOpen:!1,viewProps:null},n.events=new a.default,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.default.Component),o(t,[{key:"componentDidMount",value:function(){var e=this;this.events.addListener("customize-class-icon-modal:open",function(t){return e.setState({isModalOpen:!0,viewProps:t})}),this.events.addListener("customize-class-icon-modal:close",function(){e.handleCloseRequest()})}},{key:"componentWillUnmount",value:function(){this.events.disable()}},{key:"render",value:function(){var e=this.state.viewProps;return e?s.default.createElement(i.default,{addClasses:e.addClasses,isOpen:this.state.isModalOpen,onClosed:this.handleClosed,onCloseRequest:this.handleCloseRequest,pack:e.pack}):null}}]),t}();t.default=c,e.exports=t.default},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=p(n(15)),a=p(n(2)),s=p(n(75)),l=p(n(6)),c=p(n(4)),u=p(n(0)),d=p(n(8));function p(e){return e&&e.__esModule?e:{default:e}}p(n(1));var f=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":r(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return Object.defineProperty(n,"handleCancelButtonClick",{enumerable:!0,writable:!0,value:function(){n.props.onCloseRequest()}}),Object.defineProperty(n,"handleUploadButtonClick",{enumerable:!0,writable:!0,value:function(){n.handleUploadRequest()}}),Object.defineProperty(n,"handleUploadRequest",{enumerable:!0,writable:!0,value:function(){n.setState({isProcessing:!0});var e=n.props.pack.packId,t=n.state.iconFile;n.Pack.uploadIcon(e,t).then(function(e){n.setState({isProcessing:!1}),n.props.onCloseRequest(),n.triggerRefreshPackDetailSection()}).catch(function(e){n.setState({isProcessing:!1,errorMessage:"Could not upload the file: "+e.message+".",hasInvalidInput:!0})})}}),Object.defineProperty(n,"handleFileSelected",{enumerable:!0,writable:!0,value:function(e){e&&n.setState({iconFile:e,errorMessage:"",hasInvalidInput:!1})}}),Object.defineProperty(n,"handleFileSelectionError",{enumerable:!0,writable:!0,value:function(e,t){n.setState({iconFile:null,errorMessage:e.message,hasInvalidInput:!0})}}),Object.defineProperty(n,"handleFormSubmit",{enumerable:!0,writable:!0,value:function(e){e.preventDefault(),e.stopPropagation(),n.handleUploadRequest()}}),n.state={iconFile:null,errorMessage:"",hasInvalidInput:!1,isProcessing:!1},n.Pack=new i.default,n._isMounted=!1,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u.default.Component),o(t,[{key:"componentDidMount",value:function(){this._isMounted=!0}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"render",value:function(){var e=this.props.pack.name;return u.default.createElement(l.default,{addClasses:"customize-class-icon-modal",isOpen:this.props.isOpen,onClosed:this.props.onClosed,onCloseRequest:this.props.onCloseRequest},u.default.createElement("div",{className:"new-modal-title"},"Customize Class Icon"),u.default.createElement("div",{className:"new-modal-guidance"},"Upload a new icon for the ",u.default.createElement("span",{className:"pack-name"},e)," Class."),u.default.createElement("form",{className:"icon-upload-form",onSubmit:this.handleFormSubmit},u.default.createElement(s.default,{addClasses:"upload-icon-drop-zone",accepts:[".jpg",".jpeg",".gif",".png"],onFileSelectionError:this.handleFileSelectionError,onFileSelected:this.handleFileSelected,label:"Icon Source File",prompt:"Drop a JPG, PNG, or GIF file here or click to browse",shouldSuppressErrorDisplay:!0})),this.renderErrorMessage(),u.default.createElement("div",{className:"new-modal-actions"},u.default.createElement(d.default,{addClasses:"cancel-modal-text-button",label:"Cancel",onClick:this.handleCancelButtonClick}),u.default.createElement(c.default,{addClasses:"resolve-modal-button",isDisabled:!this.state.iconFile,isProcessing:this.state.isProcessing,label:"Import",onClick:this.handleUploadButtonClick})))}},{key:"renderErrorMessage",value:function(){return""==this.state.errorMessage?null:u.default.createElement("div",{className:"error-message"},this.state.errorMessage)}},{key:"triggerRefreshPackDetailSection",value:function(){a.default.emitEvent("refresh-pack-detail-section",{})}}]),t}();t.default=f,e.exports=t.default},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=f(n(2)),s=f(n(6)),l=f(n(4)),c=f(n(3)),u=f(n(0)),d=f(n(10)),p=n(47);function f(e){return e&&e.__esModule?e:{default:e}}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":r(t))&&"function"!=typeof t?e:t}function g(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var b=function(e){function t(e){h(this,t);var n=m(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return Object.defineProperty(n,"componentDidMount",{enumerable:!0,writable:!0,value:function(){n.events.addListener("deck-info-modal:open",n.handleOpenRequest),n.events.addListener("deck-info-modal:close",n.handleCloseRequest)}}),Object.defineProperty(n,"componentWillUnmount",{enumerable:!0,writable:!0,value:function(){return n.events.disable()}}),Object.defineProperty(n,"handleOpenRequest",{enumerable:!0,writable:!0,value:function(e){var t="packs/"+e.packId+"/decks/"+e.deckId;(0,p.apiGet)(t).then(function(t){var r={deck:t.deck,onCloseRequest:e.onCloseRequest,pack:t.pack};n.setState({viewProps:r},function(){e.onReady&&e.onReady()})}).catch(function(t){alert("Could not read the deck data: "+t),e.onReady&&e.onReady()})}}),Object.defineProperty(n,"handleCloseRequest",{enumerable:!0,writable:!0,value:function(){var e=n.state.viewProps,t=e&&e.onCloseRequest?e.onCloseRequest:null;n.setState({viewProps:null},t)}}),n.state={viewProps:null},n.events=new a.default,n}return g(t,u.default.Component),i(t,[{key:"render",value:function(){var e=this.state.viewProps;return e?u.default.createElement(v,{deck:e.deck,onCloseRequest:this.handleCloseRequest,pack:e.pack}):null}}]),t}(),v=function(e){function t(e){h(this,t);var n=m(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return Object.defineProperty(n,"handleCancel",{enumerable:!0,writable:!0,value:function(){n.props.onCloseRequest()}}),Object.defineProperty(n,"handleFieldChange",{enumerable:!0,writable:!0,value:function(e){var t=e.target.id;if("name"==t||"desc"==t){var r=o({},n.state.deck);r[t]=e.target.value,n.setState({deck:r})}}}),Object.defineProperty(n,"handleSubmit",{enumerable:!0,writable:!0,value:function(e){e&&(e.preventDefault(),e.stopPropagation());var t=n.props.pack.packId,r=n.state.deck,o="packs/"+t+"/decks/"+r.deckId,i={name:r.name,desc:r.desc};(0,p.apiPatch)(o,i).then(function(e){a.default.emitEvent("deck:updated",{deck:e}),n.handleCancel()}).catch(function(e){alert("Could not update the deck: "+e)})}}),n.state={busy:!1,deck:e.deck},n}return g(t,u.default.Component),i(t,[{key:"render",value:function(){var e=this.state.deck;return u.default.createElement(s.default,{addClasses:"deck-info-modal",isOpen:!0,onCloseRequest:this.props.onCloseRequest},u.default.createElement("div",{className:"new-modal-title"},"Deck Info"),u.default.createElement(y,{desc:e.desc,name:e.name,onFieldChange:this.handleFieldChange,onSubmit:this.handleSubmit}),u.default.createElement(k,{isProcessing:this.state.busy,onCancel:this.handleCancel,onSubmit:this.handleSubmit}))}}]),t}();v.propTypes={deck:c.default.object.isRequired,onCloseRequest:c.default.func.isRequired,pack:c.default.object.isRequired};var y=function(e){return u.default.createElement("form",{className:"nope",onSubmit:e.onSubmit},u.default.createElement(d.default,{hasInitialSelection:!0,id:"name",label:"Name",onChange:e.onFieldChange,type:"input",value:e.name}),u.default.createElement(d.default,{id:"desc",label:"Objective",onChange:e.onFieldChange,type:"textarea",value:e.desc}))};y.propTypes={desc:c.default.string.isRequired,name:c.default.string.isRequired,onFieldChange:c.default.func.isRequired,onSubmit:c.default.func.isRequired};var k=function(e){return u.default.createElement("div",{className:"new-modal-actions"},u.default.createElement(l.default,{addClasses:"cancel-modal-button",label:"Cancel",onClick:e.onCancel}),u.default.createElement(l.default,{addClasses:"resolve-modal-button",isProcessing:e.isProcessing,label:"Save",onClick:e.onSubmit}))};k.propTypes={isProcessing:c.default.bool.isRequired,onCancel:c.default.func.isRequired,onSubmit:c.default.func.isRequired},t.default=b,e.exports=t.default},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var o=c(n(2)),i=c(n(6)),a=(c(n(4)),c(n(120))),s=c(n(3)),l=c(n(0));function c(e){return e&&e.__esModule?e:{default:e}}c(n(1));var u={canCopyAndPlace:s.default.bool,cards:s.default.array,deck:s.default.object,enrollmentPath:s.default.string.isRequired,isOpen:s.default.bool,isUserPro:s.default.bool,onCloseRequest:s.default.func,onClosed:s.default.func,pack:s.default.object.isRequired,upgradePath:s.default.string.isRequired},d=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":r(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return p.call(n),n.state={haveCardsChanged:!1},n.events=new o.default,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.default.Component),t}(),p=function(){var e=this;Object.defineProperty(this,"componentDidMount",{enumerable:!0,writable:!0,value:function(){e.events.addListeners([["card:updated",e.handleCardUpdated],["userCard:updated",e.handleUserCardUpdated]])}}),Object.defineProperty(this,"componentWillUnmount",{enumerable:!0,writable:!0,value:function(){return e.events.disable()}}),Object.defineProperty(this,"render",{enumerable:!0,writable:!0,value:function(){var t=e.props;return l.default.createElement(i.default,{addClasses:"deck-preview-modal",isOpen:t.isOpen,onClosed:t.onClosed,onCloseRequest:e.handleCloseRequest,size:"large"},l.default.createElement("div",{className:"new-modal-title"},t.deck.name," Flashcards Preview"),l.default.createElement(a.default,{addClasses:"dashboard-preview-card-table",canCopyAndPlace:t.canCopyAndPlace,cardLimitCount:15,cardLimitPercentage:40,cards:t.cards,deck:t.deck,enrollmentPath:t.enrollmentPath,isDeckEditable:t.isDeckEditable,isUserPro:t.isUserPro,onLoadEditorRequest:t.onCloseRequest,pack:t.pack,shouldEnforceCardBlur:!0,shouldEnforceTableBlur:!0,upgradePath:t.upgradePath}))}}),Object.defineProperty(this,"handleCloseRequest",{enumerable:!0,writable:!0,value:function(){e.state.haveCardsChanged&&o.default.emitEvent("refresh-pack-detail-section",{}),e.props.onCloseRequest&&e.props.onCloseRequest()}}),Object.defineProperty(this,"handleCardUpdated",{enumerable:!0,writable:!0,value:function(){return e.setState({haveCardsChanged:!0})}}),Object.defineProperty(this,"handleUserCardUpdated",{enumerable:!0,writable:!0,value:function(){return e.setState({haveCardsChanged:!0})}})};d.propTypes=u,t.default=d,e.exports=t.default},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=h(n(2)),s=h(n(13)),l=h(n(4)),c=h(n(121)),u=h(n(3)),d=h(n(0)),p=h(n(17)),f=h(n(1));function h(e){return e&&e.__esModule?e:{default:e}}var m={canCopyAndPlace:u.default.bool.isRequired,cardLimitCount:u.default.number.isRequired,cardLimitPercentage:u.default.number.isRequired,cards:u.default.array.isRequired,deck:u.default.object.isRequired,enrollmentPath:u.default.string.isRequired,isDeckEditable:u.default.bool.isRequired,isUserPro:u.default.bool.isRequired,pack:u.default.object.isRequired,shouldEnforceCardBlur:u.default.bool.isRequired,shouldEnforceTableBlur:u.default.bool.isRequired,upgradePath:u.default.string.isRequired},g=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":r(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return b.call(n),n.state={activeSoundIndex:null,cardSelections:{},copyAndPlaceSelected:!1,deckSelectedState:"none",hasCardLimit:!1,isProcessingEnrollmentRequest:!1,isProcessingUpgradeRequest:!1,isTableBlurred:!1},n.selectedCards={},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,d.default.Component),i(t,[{key:"UNSAFE_componentWillMount",value:function(){this.setBlurEnforcement(this.props)}},{key:"componentDidMount",value:function(){this.setCardSelections(!1)}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.setBlurEnforcement(e)}},{key:"renderPrivateTableCta",value:function(){return this.state.isTableBlurred&&this.props.pack.private?d.default.createElement("div",{className:"private-product-action"},d.default.createElement("p",{className:"private-product-notice"},"This is a private class."),this.renderPrivateClassInstructions(),this.renderBlurredTableCtaButton()):null}},{key:"renderPrivateClassInstructions",value:function(){if(this.props.isUserPro)return null;var e=this.props.upgradePath,t=this.props.pack.packId;return d.default.createElement("div",{className:"private-class-instructions"},d.default.createElement("a",{href:e+"?paywall=private_access&pack_id="+t},"You need a Pro account to access a Private class"),d.default.createElement("a",{href:e+"?paywall=private_access_code&pack_id="+t},"I have an access code"))}},{key:"renderBlurredTableCtaButton",value:function(){return this.props.isUserPro?d.default.createElement(l.default,{label:"Study These Flashcards",onClick:this.handleEnrollmentRequest,isProcessing:this.state.isProcessingEnrollmentRequest}):d.default.createElement(l.default,{label:"Upgrade To Pro",onClick:this.handleUpgradeRequest,isProcessing:this.state.isProcessingUpgradeRequest})}},{key:"renderHeader",value:function(){var e=this;if(!this.props.canCopyAndPlace)return null;var t="none"==this.state.deckSelectedState,n=f.default.toClassStr(["copy-and-place-button",this.props.isUserPro?"pro-user":"basic-user"]);return d.default.createElement("div",{className:"preview-card-table-header"},d.default.createElement(p.default,{addClasses:"deck-selected-checkbox",isChecked:this.state.deckSelectedState,isThreeState:!0,onClick:this.handleDeckCheckboxClick,state:this.state.deckSelectedState,value:this.props.deck.deckId}),d.default.createElement(l.default,{addClasses:n,isDisabled:t,label:"Copy and Place Cards",onClick:function(){return e.handleCopyAndPlaceButtonClick()}}),d.default.createElement(s.default,{addClasses:"copy-place-info-tooltip"},d.default.createElement("div",{className:"tooltip-content"},d.default.createElement("p",{className:"tooltip-text"},"This feature allows you to copy cards from this deck and place them in another deck."),d.default.createElement("p",{className:"tooltip-text"},"Select the cards you want to copy, press the button, and then you will be given a list of decks to copy the cards into."))))}},{key:"renderCards",value:function(){var e=this,t=this.props.cardLimitCount,n=this.props.cardLimitPercentage,r=this.props.cards,o=this.state.hasCardLimit,i=this.state.isTableBlurred,a=!1;return o&&(a=Math.max(t,n/100*r.length,0)),r.map(function(t,n){var r=!!a&&n+1>a,s=0==n,l=n==e.state.activeSoundIndex;return d.default.createElement(c.default,{canChangeConfidence:!o&&!i,canCopyAndPlace:e.props.canCopyAndPlace,canEdit:e.props.deck.isEditable,contentType:e.props.deck.contentType,card:t,enrollmentPath:e.props.enrollmentPath,index:n,isBlurred:r,isEditable:e.props.isDeckEditable,isFirstCard:s,isProcessingEnrollmentRequest:e.state.isProcessingEnrollmentRequest,isProcessingUpgradeRequest:e.state.isProcessingUpgradeRequest,isRemovable:e.props.deck.isRemovable,isSelected:e.state.cardSelections[t.cardId]||!1,isSimple:"html"!=e.props.deck.contentType,isSoundActive:l,isUserLoggedIn:e.props.isUserLoggedIn,isUserPro:e.props.isUserPro,key:t.cardId,loginPath:e.props.pack.loginPath,onBookmarkChange:function(){return e.handleBookmarkChange()},onCardSelectionChange:e.handleCardSelectionChange,onEditCardRequest:e.handleEditCardRequest,onPlayRequest:function(t){return e.handlePlayRequest(n,t)},packId:e.props.pack.packId,registrationPath:e.props.pack.registrationPath,upgradePath:e.props.upgradePath})})}},{key:"getDeckSelectedState",value:function(e){var t=this.props.deck.cardCount,n=0;return this.props.cards.forEach(function(t){n+=e[t.cardId]?1:0}),0==n?"none":n==t?"all":"mixed"}},{key:"triggerCopyAndPlaceModalSetOpen",value:function(e){a.default.emitEvent("copy-and-place-cards-modal-set:open",e)}},{key:"triggerCopyAndPlaceUpgradeModalOpen",value:function(){a.default.emitEvent("upgrade-modal:open",{desiredAction:"Copy and place cards",paywall:"copy_and_place_cards_preview"})}},{key:"getSoundId",value:function(e,t){return"card-audio-player-"+("front"==t?"f":"b")+"-"+e}},{key:"setBlurEnforcement",value:function(e){var t=e.shouldEnforceTableBlur&&e.pack.isPrivate&&!e.deck.isStudyable&&!e.isUserPro;this.setState({isTableBlurred:t,hasCardLimit:this.calcHasCardLimit(e)})}}]),t}(),b=function(){var e=this;Object.defineProperty(this,"render",{enumerable:!0,writable:!0,value:function(){var t=f.default.toClassStr(["preview-card-table",e.state.isTableBlurred?"blur-table":"",e.props.addClasses]);return d.default.createElement("div",{className:t},d.default.createElement("div",{className:"card-table-overlay"},e.renderPrivateTableCta()),e.renderHeader(),e.renderCards())}}),Object.defineProperty(this,"handleCardSelectionChange",{enumerable:!0,writable:!0,value:function(t,n){var r=o({},e.state.cardSelections);r[t]=n,e.setState({cardSelections:r,deckSelectedState:e.getDeckSelectedState(r)})}}),Object.defineProperty(this,"handleDeckCheckboxClick",{enumerable:!0,writable:!0,value:function(){var t="none"==e.state.deckSelectedState;e.setCardSelections(t)}}),Object.defineProperty(this,"handlePlayRequest",{enumerable:!0,writable:!0,value:function(t,n){var r=document.querySelectorAll(".card-sound.sound-active .card-audio-player");if(r.length>0)for(var o=0;o<r.length;o++)r[o].pause();var i=document.getElementById(e.getSoundId(t,n));i&&e.setState({activeSoundIndex:t},function(){return i.play()})}}),Object.defineProperty(this,"handleEnrollmentRequest",{enumerable:!0,writable:!0,value:function(){e.setState({isProcessingEnrollmentRequest:!0}),location.href=e.props.enrollmentPath}}),Object.defineProperty(this,"handleUpgradeRequest",{enumerable:!0,writable:!0,value:function(){e.setState({isProcessingUpgradeRequest:!0}),location.href=e.props.upgradePath+"?paywall=private_access"}}),Object.defineProperty(this,"handleCopyAndPlaceButtonClick",{enumerable:!0,writable:!0,value:function(){if(e.props.isUserPro){var t=[],n=e.props.deck,r=e.state.cardSelections;Object.keys(r).forEach(function(e){r[e]&&t.push(e)}),e.triggerCopyAndPlaceModalSetOpen({cardIds:t,contentType:n.contentType,deckId:n.deckID||n.deckId,packId:e.props.pack.packId})}else e.triggerCopyAndPlaceUpgradeModalOpen()}}),Object.defineProperty(this,"allSelected",{enumerable:!0,writable:!0,value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;t||(t=e.cardIds());for(var n=0;n<t.length;n++)if(!e.selectedCards[t[n]])return!1;return!0}}),Object.defineProperty(this,"cardIds",{enumerable:!0,writable:!0,value:function(){return e.props.cards.map(function(e){return e.cardId})}}),Object.defineProperty(this,"calcHasCardLimit",{enumerable:!0,writable:!0,value:function(t){if(!t.shouldEnforceCardBlur)return!1;var n=t.pack;return!n.isUserBscAdmin&&!e.props.isUserPro&&n.isRestricted}}),Object.defineProperty(this,"setCardSelections",{enumerable:!0,writable:!0,value:function(t){var n={};e.props.cards.forEach(function(e){n[e.cardId]=t}),e.setState({cardSelections:n,deckSelectedState:t?"all":"none"})}})};g.propTypes=m,t.default=g,e.exports=t.default},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=h(n(122)),a=h(n(2)),s=h(n(4)),l=h(n(3)),c=h(n(26)),u=h(n(0)),d=h(n(17)),p=h(n(1)),f=n(123);function h(e){return e&&e.__esModule?e:{default:e}}var m={canChangeConfidence:l.default.bool.isRequired,canCopyAndPlace:l.default.bool.isRequired,card:l.default.object.isRequired,enrollmentPath:l.default.string.isRequired,index:l.default.number.isRequired,isBlurred:l.default.bool.isRequired,isFirstCard:l.default.bool.isRequired,isSelected:l.default.bool.isRequired,isSoundActive:l.default.bool.isRequired,isUserPro:l.default.bool.isRequired,onCardSelectionChange:l.default.func.isRequired,onPlayRequest:l.default.func.isRequired,packId:l.default.number.isRequired,upgradePath:l.default.string.isRequired},g=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":r(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return Object.defineProperty(n,"componentWillUnmount",{enumerable:!0,writable:!0,value:function(){return n.events.disable()}}),Object.defineProperty(n,"render",{enumerable:!0,writable:!0,value:function(){var e=p.default.toClassStr(["preview-card",n.props.addClasses]),t=p.default.toClassStr(["card-face","back",n.props.isBlurred?" blur-card":"","level-"+n.props.card.level]),r=n.props.card,o=n.props.isSimple,i=o?p.default.simpleFormat(r.question):r.question,a=o?p.default.simpleFormat(r.answer):r.answer;return u.default.createElement("section",{className:e,itemScope:!0,itemType:"http://schema.org/Question"},u.default.createElement("div",{className:"card-header"},u.default.createElement("div",{className:"card-number"},r.number),n.renderCheckbox(r)),u.default.createElement("div",{className:"card-face front level-"+r.level},u.default.createElement("div",{className:"card-face-header"},n.renderCardSound(n.props.card.qSoundURL,"front")),u.default.createElement("div",{className:"card-question"},u.default.createElement("div",{className:"card-prompt"},n.props.card.prompt),u.default.createElement("div",{className:"card-content card-question-text",itemProp:"name text"},u.default.createElement("div",{dangerouslySetInnerHTML:{__html:i}})),n.renderCardImage(n.props.card.qImageURL))),u.default.createElement("div",{className:t,itemProp:"suggestedAnswer",itemScope:!0,itemType:"http://schema.org/Answer"},n.renderCardFaceOverlay(),u.default.createElement("div",{className:"card-face-header"},n.renderCardSound(n.props.card.aSoundURL,"back")),u.default.createElement("div",{className:"card-answer"},u.default.createElement("div",{className:"card-content card-answer-text",itemProp:"text"},u.default.createElement("div",{dangerouslySetInnerHTML:{__html:a}})),n.renderCardImage(n.props.card.aImageURL))),u.default.createElement("div",{className:"action-buttons"},n.renderEditCardButton(),n.renderConfidencePulldown()))}}),Object.defineProperty(n,"renderCheckbox",{enumerable:!0,writable:!0,value:function(e){return n.props.canCopyAndPlace?u.default.createElement(d.default,{isChecked:n.props.isSelected,value:e.cardId,onClick:n.handleCheckboxClick}):null}}),Object.defineProperty(n,"handleCardSoundLinkClick",{enumerable:!0,writable:!0,value:function(e,t){e.preventDefault(),e.stopPropagation(),n.props.onPlayRequest(t)}}),Object.defineProperty(n,"handleConfidenceButtonClick",{enumerable:!0,writable:!0,value:function(){n.setState({isConfidencePulldownOpen:!n.state.isConfidencePulldownOpen})}}),Object.defineProperty(n,"handleConfidenceOptionClick",{enumerable:!0,writable:!0,value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;n.setState({isProcessingConfidenceChange:!0,isConfidencePulldownOpen:!1});var t=n.props.card.cardId,r=n.props.card.deckId,o=n.oneThroughFive(e),i=n.props.packId;(0,f.setCardLevel)(i,r,t,o).then(function(){n.setState({isProcessingConfidenceChange:!1})}).catch(function(e){n.setState({isProcessingConfidenceChange:!1}),alert("Could not update the level: "+e.message)})}}),Object.defineProperty(n,"handleConfidenceOutsideClick",{enumerable:!0,writable:!0,value:function(){n.setState({isConfidencePulldownOpen:!1})}}),Object.defineProperty(n,"handleEnrollmentRequest",{enumerable:!0,writable:!0,value:function(){n.setState({isProcessingEnrollmentRequest:!0}),location.href=n.props.enrollmentPath}}),Object.defineProperty(n,"handleCheckboxClick",{enumerable:!0,writable:!0,value:function(){n.props.onCardSelectionChange(n.props.card.cardId,!n.props.isSelected)}}),Object.defineProperty(n,"handleUpgradeRequest",{enumerable:!0,writable:!0,value:function(){n.setState({isProcessingUpgradeRequest:!0}),location.assign(n.props.upgradePath+"?paywall=preview")}}),Object.defineProperty(n,"oneThroughFive",{enumerable:!0,writable:!0,value:function(e){var t=isNaN(parseInt(e,10))?1:e;return Math.min(5,Math.max(1,t))}}),n.state={isConfidencePulldownOpen:!1,isProcessingConfidenceChange:!1,isProcessingEnrollmentRequest:!1},n.events=new a.default,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u.default.Component),o(t,[{key:"renderCardSound",value:function(e,t){var n=this;if(!e||this.props.isBlurred)return null;var r=this.getSoundId(t),o=this.props.isSoundActive?"sound-active":"",i=p.default.toClassStr(["card-sound",o]);return u.default.createElement("div",{className:i},u.default.createElement("div",{className:"card-sound-link",onClick:function(e){return n.handleCardSoundLinkClick(e,t)}},"Play"),u.default.createElement("audio",{className:"card-audio-player",controls:"controls",id:r},u.default.createElement("source",{src:e})))}},{key:"renderCardImage",value:function(e){return e?u.default.createElement("img",{className:"card-artwork",src:e}):null}},{key:"renderCardFaceOverlay",value:function(){return this.props.isBlurred?u.default.createElement("div",{className:"card-face-overlay"},this.renderBlurredCardCtaButton()):null}},{key:"renderBlurredCardCtaButton",value:function(){return this.props.isUserPro?u.default.createElement(s.default,{isProcessing:this.state.isProcessingEnrollmentRequest,label:"Study These Flashcards",onClick:this.handleEnrollmentRequest}):u.default.createElement(s.default,{isProcessing:this.state.isProcessingUpgradeRequest,label:"Upgrade To Pro",onClick:this.handleUpgradeRequest})}},{key:"renderConfidencePulldown",value:function(){return this.props.canChangeConfidence?u.default.createElement("div",{className:"action-button pulldown-title-and-control"},this.renderPulldownTitle(),u.default.createElement(c.default,{addClasses:"confidence-pulldown",isOpen:this.state.isConfidencePulldownOpen,options:b,fieldName:"confidence-level",placeholderText:"--",selectedValue:this.props.card.level,shouldSuppressNullOption:!0,isProcessing:this.state.isProcessingConfidenceChange,onButtonClick:this.handleConfidenceButtonClick,onOptionClick:this.handleConfidenceOptionClick,onOutsideClick:this.handleConfidenceOutsideClick})):null}},{key:"renderPulldownTitle",value:function(){return this.props.isFirstCard?u.default.createElement("h6",{className:"pulldown-title"},"Set",u.default.createElement("br",null),"confidence",u.default.createElement("br",null),"level:"):null}},{key:"renderEditCardButton",value:function(){return u.default.createElement(i.default,{addClasses:"action-button",cardId:this.props.card.cardId,deckId:this.props.card.deckId,packId:this.props.packId})}},{key:"getSoundId",value:function(e){return"card-audio-player-"+("front"==e?"f":"b")+"-"+this.props.index}}]),t}();g.propTypes=m;var b=[{id:0,label:"--",isNullOption:!0},{id:1,label:"1"},{id:2,label:"2"},{id:3,label:"3"},{id:4,label:"4"},{id:5,label:"5"}];t.default=g,e.exports=t.default},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var o=c(n(2)),i=c(n(3)),a=c(n(0)),s=c(n(1)),l=n(7);function c(e){return e&&e.__esModule?e:{default:e}}var u={addClasses:i.default.string,cardId:i.default.number.isRequired,deckId:i.default.number.isRequired,packId:i.default.number.isRequired},d=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":r(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return Object.defineProperty(n,"render",{enumerable:!0,writable:!0,value:function(){var e=s.default.toClassStr(["edit-card-button",n.props.addClasses]);return a.default.createElement(l.EditButton,{addClasses:e,isProcessing:n.state.isProcessing,onClick:n.handleEditButtonClick,title:"Edit card or make suggestions"})}}),Object.defineProperty(n,"handleEditButtonClick",{enumerable:!0,writable:!0,value:function(){n.setState({isProcessing:!0}),o.default.emitEvent("edit-card:request",{cardId:n.props.cardId,deckId:n.props.deckId,onComplete:function(){return n.setState({isProcessing:!1})},packId:n.props.packId})}}),n.state={isProcessing:!1,suggestionMetadata:null},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default.Component),t}();d.propTypes=u,t.default=d,e.exports=t.default},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0}),t.setCardLevel=t.default=void 0;var o=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0},i=l(n(2)),a=l(n(20)),s=n(47);function l(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":r(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.memberName="Card",o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"generateNomenclature",n).call(n),n.resourceRoute="/api/decks",n.schema={name:{key:"name",type:"text",label:"Name",tag:"name"},question:{key:"question",type:"textarea",label:"Question",tag:"question",isRequired:!0},answer:{key:"answer",serverKey:"answer",type:"textarea",label:"Answer",tag:"answer",isRequired:!0},cardId:{key:"cardId",serverKey:"cardID",type:"primaryKey",label:"Card ID",tag:"card-id",isRequired:!0},deckId:{key:"deckId",serverKey:"deckID",type:"foreignKey",label:"Deck ID",tag:"deck-id",isRequired:!0},number:{key:"number",serverKey:"number",type:"text",label:"Number",tag:"number"},prompt:{key:"prompt",serverKey:"prompt",type:"text",label:"Prompt",tag:"prompt"},reveal:{key:"reveal",serverKey:"reveal",type:"boolean",label:"Reveal",tag:"reveal"},qImageUrl:{key:"qImageUrl",serverKey:"qImageURL",type:"text",label:"Question Image",tag:"q-image-url"},aImageUrl:{key:"aImageUrl",serverKey:"aImageUrl",type:"text",label:"Answer Image",tag:"a-image-url"},qSoundUrl:{key:"qSoundUrl",serverKey:"qSoundURL",type:"text",label:"Question Sound",tag:"q-sound-url"},aSoundUrl:{key:"aSoundUrl",serverKey:"aSoundURL",type:"text",label:"Answer Sound",tag:"a-sound-url"},level:{key:"level",serverKey:"level",type:"number",label:"Confidence Level",tag:"level"},bookmarked:{key:"bookmarked",serverKey:"bookmarked",type:"boolean",label:"Is Bookmarked",tag:"is-bookmarked"}},n.nameKey="name",n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),t}();t.default=c,t.setCardLevel=function(e,t,n,r){var o="packs/"+e+"/decks/"+t+"/cards/"+n+"/ucls",a={level:r};return(0,s.apiPost)(o,a).then(function(e){return e.userCard&&i.default.emitEvent("userCard:updated",{userCard:e.userCard}),e})}},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=c(n(48)),a=c(n(2)),s=(c(n(3)),c(n(0))),l=c(n(1));function c(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":r(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return Object.defineProperty(n,"handleCloseRequest",{enumerable:!0,writable:!0,value:function(){n.setState({isDetailLoadingOverlayOpen:!1},function(){n.state.viewProps&&n.state.viewProps.onCloseRequest&&n.state.viewProps.onCloseRequest()})}}),Object.defineProperty(n,"handleClosed",{enumerable:!0,writable:!0,value:function(){var e=n.state.viewProps.onClosed;n.setState({viewProps:null},function(){e&&e()})}}),n.state={isDetailLoadingOverlayOpen:!1,viewProps:null},n.events=new a.default,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.default.Component),o(t,[{key:"componentDidMount",value:function(){var e=this;this.events.addListener("detail-loading-overlay:open",function(t){return e.setState({isDetailLoadingOverlayOpen:!0,viewProps:t})}),this.events.addListener("detail-loading-overlay:close",function(){e.handleCloseRequest()})}},{key:"componentWillUnmount",value:function(){this.events.disable()}},{key:"render",value:function(){var e=this.state.viewProps;if(!e)return null;var t=l.default.toClassStr(["detail-loading-overlay",e.addClasses]),n=e.message||"Loading Class Details...";return s.default.createElement(i.default,{addClasses:t,isOpen:this.state.isDetailLoadingOverlayOpen,message:n,onClosed:e.onClosed,shouldTransitionIn:!0,shouldTransitionOut:!0})}}]),t}();t.default=u,e.exports=t.default},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(47),a=m(n(72)),s=m(n(2)),l=m(n(6)),c=m(n(4)),u=m(n(3)),d=m(n(0)),p=m(n(8)),f=m(n(10)),h=m(n(1));function m(e){return e&&e.__esModule?e:{default:e}}var g={addClasses:u.default.string,card:u.default.object.isRequired,cardId:u.default.number.isRequired,deckId:u.default.number.isRequired,isUserPro:u.default.bool.isRequired,onCompleted:u.default.func.isRequired,packId:u.default.number.isRequired},b=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":r(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return Object.defineProperty(n,"handleKeyDown",{enumerable:!0,writable:!0,value:function(e){9==e.keyCode&&"question"==e.target.id&&(e.preventDefault(),n.answerInput&&n.answerInput.focusAndSelect()),9==e.keyCode&&"answer"==e.target.id&&(e.preventDefault(),n.submitButton&&n.submitButton.focus()),9==e.keyCode&&"edit-card-submit-button"==e.target.id&&(e.preventDefault(),n.questionInput&&n.questionInput.focusAndSelect()),e.shiftKey&&9==e.keyCode&&"question"==e.target.id&&(e.preventDefault(),n.submitButton&&n.submitButton.focus()),e.shiftKey&&9==e.keyCode&&"answer"==e.target.id&&(e.preventDefault(),n.questionInput&&n.questionInput.focusAndSelect()),e.shiftKey&&9==e.keyCode&&"edit-card-submit-button"==e.target.id&&(e.preventDefault(),n.answerInput&&n.answerInput.focusAndSelect()),13==e.keyCode&&"edit-card-submit-button"==e.target.id&&(e.preventDefault(),n.handleSubmit())}}),Object.defineProperty(n,"handleCloseRequest",{enumerable:!0,writable:!0,value:function(){n.anyChange()?confirm("You made changes.  Do you want to close the editor and drop the changes?")&&n.props.onCompleted({cardChanged:"canceled"}):n.props.onCompleted({cardChanged:!1})}}),Object.defineProperty(n,"handleSubmit",{enumerable:!0,writable:!0,value:function(e){if(e&&(e.preventDefault(),e.stopPropagation()),n.anyChange()){n.setState({isProcessing:!0});var t=n.props.packId,r=n.props.deckId,o=n.props.cardId,a=(0,i.cardPath)(t,r,o),s={question:n.state.question,answer:n.state.answer};(0,i.apiPatch)(a,s).then(n.handleUpdate).catch(n.handleError)}else confirm("No changes were made.  Close the editor?")&&n.handleCloseRequest()}}),Object.defineProperty(n,"handleUpdate",{enumerable:!0,writable:!0,value:function(e){n.props.onCompleted({cardChanged:!0,card:e}),s.default.emitEvent("card:updated",{card:e})}}),Object.defineProperty(n,"handleError",{enumerable:!0,writable:!0,value:function(e){if(n.setState({isProcessing:!1}),e instanceof Error&&e.errors){var t=n.props.cardId,r=e.errors,o={msg:"card "+t+" errors: "+JSON.stringify(r),code:e.code,url:e.url};return a.default.publish("error:msg",o),void s.default.emitEvent("error-modal:open",{errorListing:{message:"Could not update the card because of the following errors:",errors:e.errors}})}(0,i.apiError)(e)}}),Object.defineProperty(n,"handleFieldChange",{enumerable:!0,writable:!0,value:function(e){switch(e.target.id){case"answer":return n.setState({answer:e.target.value});case"question":return n.setState({question:e.target.value})}}}),Object.defineProperty(n,"anyChange",{enumerable:!0,writable:!0,value:function(){return n.props.card.question!=n.state.question||n.props.card.answer!=n.state.answer}}),n.state={answer:e.card.answer,isMonitoringKeydown:!1,isProcessing:!1,shouldTriggerAnswerSelection:!1,question:e.card.question},n.answerInput=null,n.questionInput=null,n.submitButton=null,n.events=new s.default,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,d.default.Component),o(t,[{key:"componentWillUnmount",value:function(){this.events.disable()}},{key:"render",value:function(){var e=this,t=h.default.toClassStr(["edit-card-modal",this.props.addClasses]),n=this.state.question,r=this.state.answer,o=h.default.isBlank(n)||h.default.isBlank(r);return d.default.createElement(l.default,{addClasses:t,isOpen:!0,onCloseRequest:this.handleCloseRequest},d.default.createElement("div",{className:"new-modal-title"},"Edit Card"),d.default.createElement("form",{className:"edit-card-form",onSubmit:this.handleSubmit},d.default.createElement("div",{className:"card-faces"},d.default.createElement(f.default,{hasInitialSelection:!0,id:"question",label:"Question",onChange:this.handleFieldChange,onKeyDown:this.handleKeyDown,ref:function(t){return e.questionInput=t},type:"textarea",value:n}),d.default.createElement(f.default,{id:"answer",label:"Answer",onBlur:this.handleAnswerBlur,onChange:this.handleFieldChange,onKeyDown:this.handleKeyDown,ref:function(t){return e.answerInput=t},type:"textarea",value:r})),d.default.createElement("div",{className:"new-modal-actions"},d.default.createElement(p.default,{addClasses:"cancel-modal-text-button",label:"Cancel",onClick:this.handleCloseRequest,spinnerColor:"blue"}),d.default.createElement(c.default,{addClasses:"resolve-modal-button",id:"edit-card-submit-button",isDisabled:o,isProcessing:this.state.isProcessing,label:"Submit",onClick:this.handleSubmit,onKeyDown:this.handleKeyDown,ref:function(t){return e.submitButton=t},tabIndex:"-1"}))))}}]),t}();b.propTypes=g,t.default=b,e.exports=t.default},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=l(n(127)),a=l(n(2)),s=l(n(0));function l(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":r(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return Object.defineProperty(n,"handleCloseRequest",{enumerable:!0,writable:!0,value:function(){n.setState({isModalOpen:!1},function(){n.state.viewProps&&n.state.viewProps.onCloseRequest&&n.state.viewProps.onCloseRequest()})}}),Object.defineProperty(n,"handleClosed",{enumerable:!0,writable:!0,value:function(){var e=n.state.viewProps.onClosed;n.setState({viewProps:null},function(){e&&e()})}}),Object.defineProperty(n,"handlePackPrivacyChanged",{enumerable:!0,writable:!0,value:function(){n.state.viewProps&&n.state.viewProps.onPackPrivacyChanged&&n.state.viewProps.onPackPrivacyChanged()}}),n.state={isModalOpen:!1,viewProps:null},n.events=new a.default,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.default.Component),o(t,[{key:"componentDidMount",value:function(){var e=this;this.events.addListener("edit-pack-privacy-modal:open",function(t){return e.setState({isModalOpen:!0,viewProps:t})}),this.events.addListener("edit-pack-privacy-modal:close",function(){e.handleCloseRequest()})}},{key:"componentWillUnmount",value:function(){this.events.disable()}},{key:"render",value:function(){var e=this.state.viewProps;return e?s.default.createElement(i.default,{addClasses:e.addClasses,authenticityToken:e.authenticityToken,isOpen:this.state.isModalOpen,newPrivacyState:e.newPrivacyState,onClosed:this.handleClosed,onCloseRequest:this.handleCloseRequest,onPackPrivacyChanged:this.handlePackPrivacyChanged,pack:e.pack}):null}}]),t}();t.default=c,e.exports=t.default},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=c(n(6)),a=c(n(15)),s=c(n(4)),l=c(n(0));function c(e){return e&&e.__esModule?e:{default:e}}c(n(1));var u=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":r(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return Object.defineProperty(n,"handleEditPackPrivacyRequest",{enumerable:!0,writable:!0,value:function(){n.setState({isProcessing:!0}),n.Pack.update({id:n.props.pack.packId,reqData:{authenticityToken:n.props.authenticityToken,isPrivate:n.props.newPrivacyState},done:function(e){n.setState({isProcessing:!1}),n.props.onPackPrivacyChanged()},fail:function(e){console.log("something went wrong in Pack.update. message:",e)}})}}),n.state={isProcessing:!1},n.Pack=new a.default,n._isMounted=!1,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.default.Component),o(t,[{key:"componentDidMount",value:function(){this._isMounted=!0}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"render",value:function(){var e=this;return l.default.createElement(i.default,{addClasses:"edit-pack-privacy-modal",isOpen:this.props.isOpen,onCloseRequest:function(){return e.props.onCloseRequest()}},this.renderTitle(),this.renderMessage(),l.default.createElement("div",{className:"new-modal-actions"},l.default.createElement(s.default,{addClasses:"resolve-modal-button",isProcessing:this.state.isProcessing,label:"Confirm",onClick:this.handleEditPackPrivacyRequest})))}},{key:"renderTitle",value:function(){return this.props.newPrivacyState?l.default.createElement("div",{className:"new-modal-title"},"Make Class Private"):l.default.createElement("div",{className:"new-modal-title"},"Make Class Public")}},{key:"renderMessage",value:function(){return this.props.newPrivacyState?l.default.createElement("div",{className:"new-modal-message"},"This class will be de-indexed and removed from search. To invite learners, you must directly share via email, and they will also need a Pro account to access it."):l.default.createElement("div",{className:"new-modal-message"},"This class will be added back to search and any learners can study this class.")}}]),t}();t.default=u,e.exports=t.default},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(21),a=u(n(129)),s=u(n(2)),l=(u(n(3)),u(n(0))),c=u(n(1));function u(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":r(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return Object.defineProperty(n,"handleCloseRequest",{enumerable:!0,writable:!0,value:function(){n.setState({isModalOpen:!1},function(){n.state.viewProps&&n.state.viewProps.onCloseRequest&&n.state.viewProps.onCloseRequest()})}}),Object.defineProperty(n,"handleClosed",{enumerable:!0,writable:!0,value:function(){var e=n.state.viewProps.onClosed;n.setState({viewProps:null},function(){e&&e()})}}),n.state={isModalOpen:!1,viewProps:null},n.events=new s.default,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.default.Component),o(t,[{key:"componentDidMount",value:function(){var e=this;this.events.addListener("get-the-app-modal:open",function(t){e.setState({isModalOpen:!0,viewProps:t},function(){e.setModalSeenFlag()})}),this.events.addListener("get-the-app-modal:close",function(){e.handleCloseRequest()})}},{key:"componentWillUnmount",value:function(){this.events.disable()}},{key:"render",value:function(){var e=this.state.viewProps;return e?l.default.createElement(a.default,{addClasses:e.addClasses,isOpen:this.state.isModalOpen,isProcessing:e.isProcessing,onClosed:this.handleClosed,onCloseRequest:this.handleCloseRequest}):null}},{key:"setModalSeenFlag",value:function(){(0,i.apiPut)("get_brainscape").then(function(){console.log("User GetTheAppModal pref updated")}).catch(function(e){c.default.handleError({operation:"Update GetTheAppModal User pref",errorMessage:null,errorObject:e,notifyUser:!1})})}}]),t}();t.default=d,e.exports=t.default},function(e,t,n){"use strict";(function(r){var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=u(n(6)),s=(u(n(4)),u(n(0))),l=u(n(130)),c=u(n(8));function u(e){return e&&e.__esModule?e:{default:e}}u(n(1));var d=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":o(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={},n._isMounted=!1,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":o(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.default.Component),i(t,[{key:"componentDidMount",value:function(){this._isMounted=!0}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"render",value:function(){var e=this;return s.default.createElement(a.default,{addClasses:"get-the-app-modal large",isOpen:this.props.isOpen,onCloseRequest:function(){return e.props.onCloseRequest()}},s.default.createElement("div",{className:"new-modal-title"},"Get The Brainscape Mobile App"),s.default.createElement("ul",{className:"reasons"},s.default.createElement("li",{className:"reason make-anywhere"},"Make flashcards anywhere"),s.default.createElement("li",{className:"reason find-cards"},"Find cards from others"),s.default.createElement("li",{className:"reason study-anywhere"},"Study Anywhere"),s.default.createElement("li",{className:"reason sync"},"Sync between devices"),s.default.createElement("li",{className:"reason learn-faster"},"Learn faster!")),s.default.createElement("div",{className:"new-modal-actions"},s.default.createElement(l.default,{onSubmit:function(t,n){return e.handleSendSmsRequest(t,n)}}),s.default.createElement("div",{className:"actions-label"},"Or just check us out on the:"),s.default.createElement(c.default,{addClasses:"resolve-modal-text-button",label:"Google Play Store",onClick:function(){return e.handleGooglePlayClick()}}),s.default.createElement(c.default,{addClasses:"resolve-modal-text-button",label:"Apple App Store",onClick:function(){return e.handleAppleAppStoreClick()}})))}},{key:"handleGooglePlayClick",value:function(){window.open("https://play.google.com/store/apps/details?id=com.brainscape.mobile.portal","_blank"),this.props.onCloseRequest()}},{key:"handleAppleAppStoreClick",value:function(){window.open("https://itunes.apple.com/us/app/brainscape-smart-flashcards/id442415567?mt=8","_blank"),this.props.onCloseRequest()}},{key:"handleSendSmsRequest",value:function(e,t){var n=this;t&&""!=t?r.ajax({type:"POST",url:"/api/get_brainscape/sms",data:JSON.stringify({prefix:e,number:t}),contentType:"application/json",success:function(e,t,r){alert("You should receive the SMS soon."),n.props.onCloseRequest()},error:function(e,t,r){var o=e.responseText;o&&""!=o&&"error"!=o||(o="Unknown Error"),alert("Could not send the SMS: "+o),n.props.onCloseRequest()}}):alert("You have to fill a phone number to get an SMS.")}}]),t}();t.default=d,e.exports=t.default}).call(t,n(9))},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=s(n(0)),a=s(n(376));function s(e){return e&&e.__esModule?e:{default:e}}s(n(1));var l=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":r(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={number:"",country:"US",prefix:"1"},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default.Component),o(t,[{key:"render",value:function(){var e=this;return i.default.createElement("div",{className:"sms-field"},i.default.createElement("div",{className:"prefix-and-phone-number"},i.default.createElement("div",{className:"prefix-selector"},i.default.createElement(a.default,{countries:this.countryCodes(),defaultCountry:"US",showSelectedLabel:!1,selectedSize:14,onSelect:function(t){return e.handleCountrySelect(t)}})),i.default.createElement("span",{className:"prefix"},"+",this.state.prefix),i.default.createElement("input",{className:"phone-number",name:"sms",style:{fontSize:"1.1em",border:0,outline:"none"},value:this.state.number,onChange:function(t){return e.setState({number:t.target.value})}})),i.default.createElement("a",{className:"send-button",href:"javascript:void(0)",onClick:function(){return e.handleSubmit()}},"Text Me A Link"))}},{key:"handleCountrySelect",value:function(e){this.setState({country:e,prefix:c[e].prefix})}},{key:"handleSubmit",value:function(){this.props.onSubmit&&this.props.onSubmit(this.state.prefix,this.state.number)}},{key:"countryCodes",value:function(){return Object.keys(c)}}]),t}(),c={AU:{prefix:"61",name:"Australia"},BR:{prefix:"55",name:"Brazil"},CA:{prefix:"1",name:"Canada"},DE:{prefix:"49",name:"Germany"},ES:{prefix:"34",name:"Spain"},FR:{prefix:"33",name:"France"},GT:{prefix:"44",name:"United Kingdom"},ID:{prefix:"62",name:"Indonesia"},IN:{prefix:"91",name:"India"},JP:{prefix:"81",name:"Japan"},KR:{prefix:"82",name:"Korea"},MX:{prefix:"52",name:"Mexico"},NG:{prefix:"234",name:"Nigeria"},NZ:{prefix:"64",name:"New Zealand"},PH:{prefix:"63",name:"Philippines"},SE:{prefix:"46",name:"Sweden"},SG:{prefix:"65",name:"Singapore"},US:{prefix:"1",name:"United States"},ZA:{prefix:"27",name:"South Africa"}};t.default=l,e.exports=t.default},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=l(n(132)),a=l(n(2)),s=(l(n(3)),l(n(0)));function l(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":r(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return Object.defineProperty(n,"handleCloseRequest",{enumerable:!0,writable:!0,value:function(){n.setState({isModalOpen:!1},function(){n.state.viewProps&&n.state.viewProps.onCloseRequest&&n.state.viewProps.onCloseRequest()})}}),Object.defineProperty(n,"handleClosed",{enumerable:!0,writable:!0,value:function(){var e=n.state.viewProps.onClosed;n.setState({viewProps:null},function(){e&&e()})}}),n.state={isModalOpen:!1,viewProps:null},n.events=new a.default,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.default.Component),o(t,[{key:"componentDidMount",value:function(){var e=this;this.events.addListener("import-deck-modal:open",function(t){return e.setState({isModalOpen:!0,viewProps:t})}),this.events.addListener("import-deck-modal:close",function(){e.handleCloseRequest()})}},{key:"componentWillUnmount",value:function(){this.events.disable()}},{key:"render",value:function(){var e=this.state.viewProps;return e?s.default.createElement(i.default,{addClasses:e.addClasses,isOpen:this.state.isModalOpen,isProcessing:e.isProcessing,onClosed:this.handleClosed,onCloseRequest:this.handleCloseRequest,pack:e.pack}):null}}]),t}();t.default=c,e.exports=t.default},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=h(n(39)),a=h(n(2)),s=h(n(75)),l=h(n(6)),c=h(n(4)),u=h(n(0)),d=h(n(8)),p=h(n(10)),f=h(n(31));function h(e){return e&&e.__esModule?e:{default:e}}h(n(1));var m=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":r(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return Object.defineProperty(n,"handleCancelButtonClick",{enumerable:!0,writable:!0,value:function(){n.props.onCloseRequest()}}),Object.defineProperty(n,"handleImportButtonClick",{enumerable:!0,writable:!0,value:function(){n.handleImportRequest()}}),Object.defineProperty(n,"handleImportRequest",{enumerable:!0,writable:!0,value:function(){n.setState({isProcessing:!0});var e=n.props.pack.packId,t=n.state.deckName,r=n.state.deckObjective,o=n.state.csvFile;n.Deck.import(e,t,r,o).then(function(e){n.props.onCloseRequest(),n.triggerRefreshPackDetailSection();var t=e.msg;e.warnings&&e.warnings.length>0&&(t+="\n\nImport Warnings:",e.warnings.forEach(function(e){t+="\n  * "+e})),alert(t)}).catch(function(e){n.setState({errorMessage:"Could not process the CSV: "+e.message+".",hasInvalidInput:!0})})}}),Object.defineProperty(n,"handleHelpButtonClick",{enumerable:!0,writable:!0,value:function(){window.open("https://brainscape.zendesk.com/hc/en-us/articles/115002369931-How-do-I-import-a-csv-file-correctly-","_blank")}}),Object.defineProperty(n,"handleFileSelected",{enumerable:!0,writable:!0,value:function(e){e&&n.setState({csvFile:e,errorMessage:"",hasInvalidInput:!1})}}),Object.defineProperty(n,"handleFileSelectionError",{enumerable:!0,writable:!0,value:function(e,t){n.setState({csvFile:null,errorMessage:e.message,hasInvalidInput:!0})}}),Object.defineProperty(n,"handleFormSubmit",{enumerable:!0,writable:!0,value:function(e){e.preventDefault(),e.stopPropagation(),n.handleImportRequest()}}),Object.defineProperty(n,"handleNameChange",{enumerable:!0,writable:!0,value:function(e){var t=e.target.value;n.setState({deckName:t})}}),Object.defineProperty(n,"handleObjectiveChange",{enumerable:!0,writable:!0,value:function(e){var t=e.target.value;n.setState({deckObjective:t})}}),n.state={csvFile:null,deckName:"",deckObjective:"",errorMessage:"",hasInvalidInput:!1,isProcessing:!1},n.Deck=new i.default,n._isMounted=!1,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u.default.Component),o(t,[{key:"componentDidMount",value:function(){this._isMounted=!0}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"render",value:function(){var e=this.props.pack.name;return u.default.createElement(l.default,{addClasses:"import-deck-modal",isOpen:this.props.isOpen,onClosed:this.props.onClosed,onCloseRequest:this.props.onCloseRequest},u.default.createElement("div",{className:"new-modal-title"},"Import Deck"),u.default.createElement("div",{className:"new-modal-guidance"},"Upload a CSV file. It will become a Deck within the ",u.default.createElement("span",{className:"pack-name"},e)," Class."),u.default.createElement("form",{className:"import-deck-form",onSubmit:this.handleFormSubmit},u.default.createElement(s.default,{addClasses:"import-csv-drop-zone",accepts:[".csv"],onFileSelectionError:this.handleFileSelectionError,onFileSelected:this.handleFileSelected,label:"CSV Source File",prompt:"Drop a CSV file here or click to browse",shouldSuppressErrorDisplay:!0}),u.default.createElement(p.default,{addClasses:"deck-name",id:"deck-name",label:"Deck Name",onChange:this.handleNameChange,placeholder:"Name your Deck (filename is default)",value:this.state.deckName}),u.default.createElement(f.default,{addClasses:"deck-objective",id:"deck-objective",label:"Deck Objective",onChange:this.handleObjectiveChange,placeholder:"Describe the topics covered in the Cards of this Deck",value:this.state.deckObjective})),this.renderErrorMessage(),u.default.createElement("div",{className:"new-modal-actions"},u.default.createElement(d.default,{addClasses:"cancel-modal-text-button",label:"Cancel",onClick:this.handleCancelButtonClick}),u.default.createElement(c.default,{addClasses:"resolve-modal-button",isDisabled:!this.state.csvFile,isProcessing:this.state.isProcessing,label:"Import",onClick:this.handleImportButtonClick}),u.default.createElement(d.default,{addClasses:"help-text-button",label:"Help",onClick:this.handleHelpButtonClick})))}},{key:"renderErrorMessage",value:function(){return""==this.state.errorMessage?null:u.default.createElement("div",{className:"error-message"},this.state.errorMessage)}},{key:"triggerRefreshPackDetailSection",value:function(){a.default.emitEvent("refresh-pack-detail-section",{})}}]),t}();t.default=m,e.exports=t.default},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=l(n(134)),a=l(n(2)),s=(l(n(3)),l(n(0)));function l(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":r(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return Object.defineProperty(n,"handleCloseRequest",{enumerable:!0,writable:!0,value:function(){n.setState({isModalOpen:!1},function(){n.state.viewProps&&n.state.viewProps.onCloseRequest&&n.state.viewProps.onCloseRequest()})}}),Object.defineProperty(n,"handleClosed",{enumerable:!0,writable:!0,value:function(){var e=n.state.viewProps.onClosed;n.setState({viewProps:null},function(){e&&e()})}}),Object.defineProperty(n,"handleMessageSent",{enumerable:!0,writable:!0,value:function(){n.state.viewProps&&n.state.viewProps.onMessageSent&&n.state.viewProps.onMessageSent()}}),n.state={isModalOpen:!1,viewProps:null},n.events=new a.default,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.default.Component),o(t,[{key:"componentDidMount",value:function(){var e=this;this.events.addListener("message-author-modal:open",function(t){return e.setState({isModalOpen:!0,viewProps:t})}),this.events.addListener("message-author-modal:close",function(){e.handleCloseRequest()})}},{key:"componentWillUnmount",value:function(){this.events.disable()}},{key:"render",value:function(){var e=this.state.viewProps;return e?s.default.createElement(i.default,{addClasses:e.addClasses,authenticityToken:e.authenticityToken,isOpen:this.state.isModalOpen,isProcessing:e.isProcessing,onClosed:this.handleClosed,onCloseRequest:this.handleCloseRequest,onMessageSent:this.handleMessageSent,pack:e.pack}):null}}]),t}();t.default=c,e.exports=t.default},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=p(n(6)),a=p(n(15)),s=p(n(4)),l=p(n(0)),c=p(n(8)),u=p(n(31)),d=p(n(1));function p(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":r(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return Object.defineProperty(n,"handleCancelButtonClick",{enumerable:!0,writable:!0,value:function(){n.props.onCloseRequest()}}),Object.defineProperty(n,"handleCloseConfirmationModalRequest",{enumerable:!0,writable:!0,value:function(){n.setState({isConfirmationModalOpen:!1,shouldOpenConfirmationModal:!1})}}),Object.defineProperty(n,"handleInputModalClosed",{enumerable:!0,writable:!0,value:function(){n.state.shouldOpenConfirmationModal&&n.setState({isConfirmationModalOpen:!0})}}),Object.defineProperty(n,"handleSendMessageButtonClick",{enumerable:!0,writable:!0,value:function(){n.state.hasValidInput&&!n.props.isProcessing&&n.sendMessage()}}),Object.defineProperty(n,"handleFormSubmit",{enumerable:!0,writable:!0,value:function(e){e.preventDefault(),e.stopPropagation(),n.state.hasValidInput&&!n.props.isProcessing&&n.sendMessage()}}),Object.defineProperty(n,"handleMessageChange",{enumerable:!0,writable:!0,value:function(e){var t=e.target.value,r=!d.default.isWhitespace(t);n.setState({hasValidInput:r,message:t})}}),n.state={hasValidInput:!1,isConfirmationModalOpen:!1,isProcessing:!1,message:"",shouldOpenConfirmationModal:!1},n.Pack=new a.default,n._isMounted=!1,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.default.Component),o(t,[{key:"componentDidMount",value:function(){this._isMounted=!0}},{key:"UNSAFE_componentWillUpdate",value:function(e){!this.props.isOpen&&e.isOpen&&this.resetFields()}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"render",value:function(){return l.default.createElement("div",{className:"modal-set"},this.renderInputModal(),this.renderConfirmationModal())}},{key:"renderInputModal",value:function(){var e=this,t=this.props.pack,n=t.isMarket?"Brainscape":t.creatorName;return l.default.createElement(i.default,{addClasses:"message-author-input-modal",isOpen:this.props.isOpen,onClosed:this.handleInputModalClosed,onCloseRequest:function(){return e.props.onCloseRequest()}},l.default.createElement("div",{className:"new-modal-title"},"Message the Author"),l.default.createElement("div",{className:"new-modal-guidance"},"Your message below will be sent to ",n,". They will be able to reply to you via email."),l.default.createElement("form",{className:"message-form",onSubmit:this.handleFormSubmit},l.default.createElement(u.default,{addClasses:"message",id:"message",onChange:this.handleMessageChange,name:"message",placeholder:"Type your message to the author here",value:this.state.message})),l.default.createElement("div",{className:"new-modal-actions"},l.default.createElement(c.default,{addClasses:"cancel-modal-text-button",label:"Cancel",onClick:this.handleCancelButtonClick}),l.default.createElement(s.default,{addClasses:"resolve-modal-button",isDisabled:!this.state.hasValidInput,isProcessing:this.state.isProcessing,label:"Send message",onClick:this.handleSendMessageButtonClick})))}},{key:"renderConfirmationModal",value:function(){var e=this.props.pack,t=e.isMarket?"Brainscape":e.creatorName;return l.default.createElement(i.default,{addClasses:"message-author-confirmation-modal",isOpen:this.state.isConfirmationModalOpen,onCloseRequest:this.handleCloseConfirmationModalRequest},l.default.createElement("div",{className:"new-modal-title"},"Message Sent"),l.default.createElement("div",{className:"new-modal-message"},"A message has been sent to ",t,"."),l.default.createElement("div",{className:"new-modal-actions"},l.default.createElement(s.default,{addClasses:"resolve-modal-button",label:"Ok",onClick:this.handleCloseConfirmationModalRequest})))}},{key:"resetFields",value:function(){this.setState({hasValidInput:!1,isConfirmationModalOpen:!1,isProcessing:!1,message:"",shouldOpenConfirmationModal:!1})}},{key:"sendMessage",value:function(){var e=this;this.setState({isProcessing:!0}),this.Pack.sendMessage({id:this.props.pack.packId,reqData:{authenticity_token:this.props.authenticityToken,text:this.state.message},done:function(t){e.showConfirmationModal()},fail:function(e){console.log("something went wrong in Pack.sendMessage. message:",e)}})}},{key:"showConfirmationModal",value:function(){var e=this;this.setState({shouldOpenConfirmationModal:!0},function(){e.props.onCloseRequest(),e.props.onMessageSent&&e.props.onMessageSent()})}}]),t}();t.default=f,e.exports=t.default},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var o=l(n(136)),i=l(n(6)),a=l(n(3)),s=l(n(0));function l(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":r(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return Object.defineProperty(n,"render",{enumerable:!0,writable:!0,value:function(){return s.default.createElement(i.default,{addClasses:"auth-modal forgot-modal",isOpen:n.props.isOpen,onCloseRequest:n.props.onCloseRequest},s.default.createElement("div",{className:"new-modal-title"},"Forgot Password"),s.default.createElement("div",{className:"new-modal-message"},"Enter your Brainscape account email address and this will reset your password. An email will be sent to that address explaining how to sign in using the new password."),s.default.createElement(o.default,null))}}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.default.Component),t}();c.propTypes={onCloseRequest:a.default.func.isRequired},t.default=c,e.exports=t.default},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var o=n(21),i=(n(268),c(n(80))),a=c(n(4)),s=(c(n(3)),c(n(0))),l=c(n(10));function c(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":r(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return Object.defineProperty(n,"render",{enumerable:!0,writable:!0,value:function(){return s.default.createElement("form",{className:"forgot-form",onSubmit:n.handleSubmit},s.default.createElement(l.default,{addClasses:"email",descriptor:"Your E-mail",id:"email",name:"email",onChange:n.handleChange,type:"email",value:n.state.email}),s.default.createElement("div",{className:"new-modal-actions"},s.default.createElement(a.default,{addClasses:"resolve-modal-button reset-password-button",isDisabled:n.state.disabled,isProcessing:n.state.isProcessing,label:"Reset Password",onClick:n.handleSubmit}),s.default.createElement("input",{type:"submit",className:"hidden-submit-button"})),s.default.createElement(i.default,null,n.state.formError))}}),Object.defineProperty(n,"handleChange",{enumerable:!0,writable:!0,value:function(e){e.stopPropagation();var t={};t[e.target.name]=e.target.value,n.setState(t)}}),Object.defineProperty(n,"handleSubmit",{enumerable:!0,writable:!0,value:function(e){e&&e.preventDefault(),n.setState({isProcessing:!0,formError:null});var t={email:n.state.email};return(0,o.apiPost)("password_reset",t).then(function(e){alert(e.msg),window.location=e.redirect_to||"/"}).catch(function(e){n.setState({isProcessing:!1,formError:e.message})}),!1}}),n.state={email:"",isDisabled:!0,isProcessing:!1,formError:null},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.default.Component),t}();u.propTypes={},t.default=u,e.exports=t.default},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var o=n(49),i=f(n(81)),a=f(n(138)),s=f(n(82)),l=f(n(139)),c=f(n(6)),u=f(n(0)),d=f(n(8)),p=f(n(83));function f(e){return e&&e.__esModule?e:{default:e}}var h=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":r(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return Object.defineProperty(n,"render",{enumerable:!0,writable:!0,value:function(){return u.default.createElement(c.default,{addClasses:"auth-modal login-modal",isOpen:n.props.isOpen,onCloseRequest:n.props.onCloseRequest},u.default.createElement("div",{className:"new-modal-title"},"Log In"),u.default.createElement("div",{className:"social-login"},n.renderAppleLoginButton(),u.default.createElement(s.default,{onSubmit:n.props.onSubmit}),u.default.createElement(a.default,{onSubmit:n.props.onSubmit})),u.default.createElement(p.default,null,"Or"),u.default.createElement(l.default,{categoryId:n.props.categoryId,packId:n.props.packId,returnTo:n.props.returnTo}),u.default.createElement("div",{className:"footer"},u.default.createElement(d.default,{addClasses:"register-text-button",label:"Create an account?",onClick:function(){return n.props.onSwitch("reg")}}),u.default.createElement(d.default,{addClasses:"forgot-text-button",label:"Forgot password?",onClick:function(){return n.props.onSwitch("forgot")}})))}}),Object.defineProperty(n,"renderAppleLoginButton",{enumerable:!0,writable:!0,value:function(){return n.props.appleFlipper?u.default.createElement(i.default,{onSubmit:n.props.onSubmit}):null}}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u.default.Component),t}();h.propTypes=o.modalTypes,t.default=h,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(3)),o=i(n(0));function i(e){return e&&e.__esModule?e:{default:e}}var a=function(e){return o.default.createElement("div",{className:"social-login-button facebook-login-button",onClick:function(){return e.onSubmit("facebook")}},"Continue with Facebook")};a.propTypes={onSubmit:r.default.func.isRequired},t.default=a,e.exports=t.default},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var o=n(21),i=n(49),a=d(n(2)),s=d(n(80)),l=d(n(4)),c=d(n(0)),u=d(n(10));function d(e){return e&&e.__esModule?e:{default:e}}var p=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":r(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return Object.defineProperty(n,"componentWillUnmount",{enumerable:!0,writable:!0,value:function(){n.events.disable()}}),Object.defineProperty(n,"render",{enumerable:!0,writable:!0,value:function(){return c.default.createElement("form",{className:"login-form",onSubmit:n.handleSubmit},c.default.createElement("div",null,c.default.createElement(u.default,{addClasses:"email",descriptor:"E-mail",hasInitialFocus:!0,id:"email",name:"email",onChange:n.handleChange,onKeyDown:n.handleEmailKeyDown,ref:function(e){return n.emailField=e},type:"email",value:n.state.email}),c.default.createElement(u.default,{addClasses:"password",descriptor:"Password",id:"password",name:"password",onChange:n.handleChange,onKeyDown:n.handlePasswordKeyDown,ref:function(e){return n.passwordField=e},type:"password",value:n.state.password}),c.default.createElement("div",{className:"new-modal-actions"},c.default.createElement(l.default,{addClasses:"resolve-modal-button login-button",id:"login-button",isDisabled:n.state.isDisabled,isProcessing:n.state.isProcessing,label:"Log In",onClick:n.handleSubmit,onKeyDown:n.handleLoginButtonKeyDown,ref:function(e){return n.loginButton=e},tabIndex:"-1"}),c.default.createElement("input",{type:"submit",className:"hidden-submit-button"})),c.default.createElement(s.default,null,n.state.formError)))}}),Object.defineProperty(n,"handleChange",{enumerable:!0,writable:!0,value:function(e){e.stopPropagation();var t={};t[e.target.name]=e.target.value,n.setState(t,function(){var e=n.state.isDisabled,t=!n.allFieldsSet();e!=t&&n.setState({isDisabled:t})})}}),Object.defineProperty(n,"handleEmailKeyDown",{enumerable:!0,writable:!0,value:function(e){return e.shiftKey&&9==e.keyCode&&(e.preventDefault(),n.loginButton)?(n.loginButton.focus(),!0):9==e.keyCode&&(e.preventDefault(),n.passwordField)?(n.passwordField.focusAndSelect(),!0):void 0}}),Object.defineProperty(n,"handlePasswordKeyDown",{enumerable:!0,writable:!0,value:function(e){return e.shiftKey&&9==e.keyCode&&(e.preventDefault(),n.emailField)?(n.emailField.focusAndSelect(),!0):9==e.keyCode&&(e.preventDefault(),n.loginButton)?(n.loginButton.focus(),!0):void 0}}),Object.defineProperty(n,"handleLoginButtonKeyDown",{enumerable:!0,writable:!0,value:function(e){return e.shiftKey&&9==e.keyCode&&(e.preventDefault(),n.passwordField)?(n.passwordField.focusAndSelect(),!0):9==e.keyCode&&(e.preventDefault(),n.emailField)?(n.emailField.focusAndSelect(),!0):void(13==e.keyCode&&(e.preventDefault(),n.handleSubmit()))}}),Object.defineProperty(n,"handleSubmit",{enumerable:!0,writable:!0,value:function(e){if(!n.state.isProcessing)return e&&e.preventDefault(),n.state.isDisabled?n.setError("Both email & password are required."):(n.submitSignIn({cat_id:n.props.categoryId,email:n.state.email,pack_id:n.props.packId,password:n.state.password,remember_me:!0,return_to:n.props.returnTo,web:!0}),!1)}}),Object.defineProperty(n,"allFieldsSet",{enumerable:!0,writable:!0,value:function(){return""!==n.state.email.trim()&&""!==n.state.password.trim()}}),Object.defineProperty(n,"parseDelay",{enumerable:!0,writable:!0,value:function(e){if(!e)return null;var t=e.lastIndexOf("=");return t<0||t>=e.length-1?null:parseInt(e.substring(t+1,e.length))}}),Object.defineProperty(n,"setError",{enumerable:!0,writable:!0,value:function(e){return n.setState({isProcessing:!1,formError:e}),!1}}),Object.defineProperty(n,"submitSignIn",{enumerable:!0,writable:!0,value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;n.setState({isProcessing:!0});var r={"Content-Type":"application/json"};t&&(r["X-BS-AFT"]=t);var i=JSON.stringify(e);fetch("/api/sessions/sign_in",{body:i,headers:r,method:"POST"}).then(function(t){if(!t.ok){var r=t.headers.get("X-BS-AFT"),i=n.parseDelay(r);if(r&&i)return n.events.onTimeout("submitSignIn",1e3*i,function(){return n.submitSignIn(e,r)}),{stop:!0}}return(0,o.checkJsonResponse)(t)}).then(function(e){e.stop||(window.location=e.redirect_to||"/")}).catch(function(e){n.setState({isProcessing:!1,formError:e.message})})}}),n.state={email:"",formError:null,isDisabled:!0,isProcessing:!1,password:""},n.events=new a.default,n.emailField=null,n.passwordField=null,n.loginButton=null,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,c.default.Component),t}();p.propTypes=i.formTypes,t.default=p,e.exports=t.default},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var o=n(49),i=f(n(81)),a=f(n(82)),s=f(n(6)),l=f(n(0)),c=f(n(141)),u=f(n(142)),d=f(n(8)),p=f(n(83));function f(e){return e&&e.__esModule?e:{default:e}}var h=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":r(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return Object.defineProperty(n,"render",{enumerable:!0,writable:!0,value:function(){return l.default.createElement(s.default,{addClasses:"auth-modal registration-modal",isOpen:n.props.isOpen,onCloseRequest:n.props.onCloseRequest},l.default.createElement(u.default,{source:n.props.source,subject:n.props.subject}),l.default.createElement("div",{className:"registration-content"},l.default.createElement("div",{className:"new-modal-title"},"Get Started"),l.default.createElement("div",{className:"social-login"},n.renderAppleLoginButton(),l.default.createElement(a.default,{onSubmit:n.props.onSubmit})),l.default.createElement(p.default,null,"Or"),l.default.createElement(c.default,{categoryId:n.props.categoryId,packId:n.props.packId,returnTo:n.props.returnTo}),l.default.createElement("div",{className:"footer"},l.default.createElement(d.default,{addClasses:"login-text-button",label:"Already have an account?",onClick:function(){return n.props.onSwitch("login")}}))))}}),Object.defineProperty(n,"renderAppleLoginButton",{enumerable:!0,writable:!0,value:function(){return n.props.appleFlipper?l.default.createElement(i.default,{onSubmit:n.props.onSubmit}):null}}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.default.Component),t}();h.propTypes=o.modalTypes,t.default=h,e.exports=t.default},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(21),a=n(49),s=n(7),l=g(n(50)),c=g(n(4)),u=g(n(0)),d=g(n(17)),p=g(n(8)),f=g(n(10)),h=g(n(13)),m=g(n(1));function g(e){return e&&e.__esModule?e:{default:e}}var b=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":r(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return Object.defineProperty(n,"render",{enumerable:!0,writable:!0,value:function(){return u.default.createElement("form",{className:"registration-form",onSubmit:n.handleSubmit},u.default.createElement("div",{className:"form-row first-and-last-name"},u.default.createElement(f.default,{addClasses:"first-name",descriptor:"First Name",id:"firstName",hasInitialFocus:!0,name:"firstName",onBlur:n.handleNameOrEmailBlur,onChange:n.handleTextFieldChange,onKeyDown:n.handleFirstNameKeyDown,ref:function(e){return n.firstNameField=e},value:n.state.firstName}),u.default.createElement(f.default,{addClasses:"last-name",descriptor:"Last Name",id:"lastName",name:"lastName",onBlur:n.handleNameOrEmailBlur,onChange:n.handleTextFieldChange,onKeyDown:n.handleLastNameKeyDown,ref:function(e){return n.lastNameField=e},value:n.state.lastName})),u.default.createElement(f.default,{addClasses:"email",descriptor:"E-mail",id:"email",name:"email",onBlur:n.handleNameOrEmailBlur,onChange:n.handleTextFieldChange,onKeyDown:n.handleEmailKeyDown,ref:function(e){return n.emailField=e},type:"email",value:n.state.email}),u.default.createElement(f.default,{addClasses:"password",buttons:n.renderPasswordButtons(),descriptor:"Password",id:"password",name:"password",onBlur:n.handlePasswordBlur,onChange:n.handlePasswordChange,onKeyDown:n.handlePasswordKeyDown,ref:function(e){return n.passwordField=e},type:n.state.isPasswordShowing?"text":"password",value:n.state.password}),u.default.createElement(f.default,{addClasses:"confirm-password",descriptor:"Confirm Password",id:"passwordConfirmation",name:"passwordConfirmation",onBlur:n.handlePasswordConfirmationBlur,onChange:n.handleTextFieldChange,onKeyDown:n.handlePasswordConfirmationKeyDown,ref:function(e){return n.passwordConfirmationField=e},type:"password",value:n.state.passwordConfirmation}),u.default.createElement("div",{className:"new-modal-actions"},u.default.createElement("div",{className:"terms"},u.default.createElement(d.default,{isChecked:n.state.terms,onClick:n.handleTermsCheckboxClick,onKeyDown:n.handleTermsCheckboxKeyDown,ref:function(e){return n.termsCheckbox=e},value:n.state.terms,tabIndex:"-1"}),u.default.createElement(p.default,{addClasses:"terms-text-button",label:"Accept Terms",onClick:n.handleTermsTextButtonClick})),u.default.createElement(c.default,{addClasses:"resolve-modal-button register-button",isDisabled:n.state.isDisabled,isProcessing:n.state.isProcessing,label:"Register",onClick:n.handleSubmit,onKeyDown:n.handleRegisterButtonKeyDown,ref:function(e){return n.registerButton=e},tabIndex:"-2"}),u.default.createElement("input",{type:"submit",className:"hidden-submit-button"})),u.default.createElement("div",{className:"error-field"},u.default.createElement("div",{className:"alert-error"},n.state.formError)))}}),Object.defineProperty(n,"handleHidePasswordButtonClick",{enumerable:!0,writable:!0,value:function(){n.setState({isPasswordShowing:!1})}}),Object.defineProperty(n,"handleNameOrEmailBlur",{enumerable:!0,writable:!0,value:function(e){e.stopPropagation(),n.state.firstName&&n.state.lastName&&n.state.email&&n.state.password&&n.setState({isDisabled:!n.isFormSubmittable()})}}),Object.defineProperty(n,"handlePasswordBlur",{enumerable:!0,writable:!0,value:function(e){e.stopPropagation();var t=e.target.value;t.length>0&&n.managePasswordInput(t,!1)}}),Object.defineProperty(n,"handlePasswordChange",{enumerable:!0,writable:!0,value:function(e){e.stopPropagation();var t=e.target.value;n.managePasswordInput(t,!0)}}),Object.defineProperty(n,"handlePasswordConfirmationBlur",{enumerable:!0,writable:!0,value:function(e){e.stopPropagation(),n.setState({isDisabled:!n.isFormSubmittable()})}}),Object.defineProperty(n,"handleShowPasswordButtonClick",{enumerable:!0,writable:!0,value:function(){n.setState({isPasswordShowing:!0})}}),Object.defineProperty(n,"handleSubmit",{enumerable:!0,writable:!0,value:function(e){if(e&&e.preventDefault(),n.isFormSubmittable()){n.setError(null),n.setState({isProcessing:!0});var t={cat_id:n.props.categoryId,email:n.state.email,first_name:n.state.firstName,last_name:n.state.lastName,pack_id:n.props.packId,password:n.state.password,remember_me:!0,return_to:n.props.returnTo,terms:n.state.terms,web:!0};return(0,i.apiPost)("sessions/sign_up",t).then(function(e){window.location=e.redirect_to||"/"}).catch(function(e){return n.setError(e.message)}),!1}}}),Object.defineProperty(n,"handleTermsCheckboxClick",{enumerable:!0,writable:!0,value:function(e){e&&e.stopPropagation();var t=n.state.terms;n.setState({terms:!t},function(){n.manageFormInput()})}}),Object.defineProperty(n,"handleTextFieldChange",{enumerable:!0,writable:!0,value:function(e){e.stopPropagation();var t=e.target,r={};r[t.name]=t.value.trim(),n.setState(r,function(){n.areAllFieldsSet()&&n.manageFormInput()})}}),Object.defineProperty(n,"handleFirstNameKeyDown",{enumerable:!0,writable:!0,value:function(e){return e.shiftKey&&9==e.keyCode&&(e.preventDefault(),n.registerButton)?(n.registerButton.focus(),!0):9==e.keyCode&&(e.preventDefault(),n.lastNameField)?(n.lastNameField.focusAndSelect(),!0):void 0}}),Object.defineProperty(n,"handleLastNameKeyDown",{enumerable:!0,writable:!0,value:function(e){return e.shiftKey&&9==e.keyCode&&(e.preventDefault(),n.firstNameField)?(n.firstNameField.focus(),!0):9==e.keyCode&&(e.preventDefault(),n.emailField)?(n.emailField.focusAndSelect(),!0):void 0}}),Object.defineProperty(n,"handleEmailKeyDown",{enumerable:!0,writable:!0,value:function(e){return e.shiftKey&&9==e.keyCode&&(e.preventDefault(),n.lastNameField)?(n.lastNameField.focus(),!0):9==e.keyCode&&(e.preventDefault(),n.passwordField)?(n.passwordField.focusAndSelect(),!0):void 0}}),Object.defineProperty(n,"handlePasswordKeyDown",{enumerable:!0,writable:!0,value:function(e){return e.shiftKey&&9==e.keyCode&&(e.preventDefault(),n.emailField)?(n.emailField.focusAndSelect(),!0):9==e.keyCode&&(e.preventDefault(),n.passwordConfirmationField)?(n.passwordConfirmationField.focus(),!0):void 0}}),Object.defineProperty(n,"handlePasswordConfirmationKeyDown",{enumerable:!0,writable:!0,value:function(e){return e.shiftKey&&9==e.keyCode&&(e.preventDefault(),n.passwordField)?(n.passwordField.focusAndSelect(),!0):9==e.keyCode&&(e.preventDefault(),n.termsCheckbox)?(n.termsCheckbox.focus(),!0):void 0}}),Object.defineProperty(n,"handleTermsCheckboxKeyDown",{enumerable:!0,writable:!0,value:function(e){return e.shiftKey&&9==e.keyCode&&(e.preventDefault(),n.passwordConfirmationField)?(n.passwordConfirmationField.focusAndSelect(),!0):9==e.keyCode&&(e.preventDefault(),n.registerButton)?(n.registerButton.focus(),!0):void(32==e.keyCode&&(e.preventDefault(),n.handleTermsCheckboxClick()))}}),Object.defineProperty(n,"handleRegisterButtonKeyDown",{enumerable:!0,writable:!0,value:function(e){return e.shiftKey&&9==e.keyCode&&(e.preventDefault(),n.termsCheckbox)?(n.termsCheckbox.focus(),!0):9==e.keyCode&&(e.preventDefault(),n.firstNameField)?(n.firstNameField.focusAndSelect(),!0):void(13==e.keyCode&&(e.preventDefault(),n.handleSubmit()))}}),Object.defineProperty(n,"areAllFieldsSet",{enumerable:!0,writable:!0,value:function(){return!!(n.state.firstName&&n.state.lastName&&n.state.email&&n.state.password&&n.state.passwordConfirmation&&n.state.terms)}}),Object.defineProperty(n,"getPasswordQualityColor",{enumerable:!0,writable:!0,value:function(){return n.state.isPasswordInvalid?n.invalidQualityColor:10==n.state.passwordQuality?n.validQualityColor:n.defaultQualityColor}}),Object.defineProperty(n,"isFormSubmittable",{enumerable:!0,writable:!0,value:function(){var e=!0,t=null,r=n.state.firstName;m.default.isBlank(r)&&(e=!1,t=t||"Please enter a first name.");var o=n.state.lastName;m.default.isBlank(o)&&(e=!1,t=t||"Please enter a last name.");var i=n.state.email;m.default.isValidEmail(i)||(e=!1,t=m.default.isBlank(i)?t||"Please enter an email.":t||"A valid email is required."),n.state.isPasswordInvalid&&(e=!1,t=t||"Password requires a minimum of 8 characters: at least one lowercase, one uppercase, and one number. The only other characters allowed are: '!#%+:=? @'");var a=n.state.password,s=n.state.passwordConfirmation;return!m.default.isBlank(a)&&a==s||(e=!1,m.default.isBlank(a)&&m.default.isBlank(s)||(t=t||"Please enter a password and a matching confirmation.")),n.state.terms||(e=!1,t=t||"Please read and accept the terms."),n.setError(t),e}}),Object.defineProperty(n,"manageFormInput",{enumerable:!0,writable:!0,value:function(){n.setState({isDisabled:!n.isFormSubmittable()})}}),Object.defineProperty(n,"managePasswordInput",{enumerable:!0,writable:!0,value:function(e){var t,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=n.ratePassword(e),i=o.passwordQuality,a=o.ratingMessage;t=r?e.length>=8&&i<10:i<10,n.setState({isPasswordInvalid:t,password:e,passwordQuality:i},function(){n.areAllFieldsSet()?n.manageFormInput():t&&n.setError(a)})}}),Object.defineProperty(n,"ratePassword",{enumerable:!0,writable:!0,value:function(e){var t=Math.min(7,e.length),n=void 0;return e.length<8&&(n="Password requires at least 8 characters."),e.length>128&&(t=Math.max(0,t-1),n=n||"Password can not be more than 128 characters."),e!=e.toUpperCase()?t+=1:n=n||"Password does not contain a lower case letter.",e!=e.toLowerCase()?t+=1:n=n||"Password does not contain an upper case letter.",e.match(/\d+/g)?t+=1:n=n||"Password does not contain a number.",-1!=e.search(/[^a-zA-Z0-9\!\#\%\+\:\=\?\ \@]/)&&(t=Math.max(0,t-1),n="Password contains an unsupported character. Supported special characters include !#%+:=?@ and [space]."),{passwordQuality:t,ratingMessage:n}}}),Object.defineProperty(n,"setError",{enumerable:!0,writable:!0,value:function(e){return n.setState({isProcessing:!1,formError:e}),!1}}),n.state={email:"",firstName:"",formError:null,isDisabled:!0,isPasswordShowing:!1,isPasswordInvalid:!1,isProcessing:!1,lastName:"",password:"",passwordQuality:0,passwordConfirmation:"",terms:!1},n.firstNameField=null,n.lastNameField=null,n.emailField=null,n.passwordField=null,n.passwordConfirmationField=null,n.termsCheckbox=null,n.registerButton=null,n.defaultQualityColor="#00A8D7",n.validQualityColor="#00AA00",n.invalidQualityColor="#CC0000",n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u.default.Component),o(t,[{key:"componentDidUpdate",value:function(e,t){t.isPasswordInvalid&&!this.state.isPasswordInvalid&&this.setError(null)}},{key:"renderPasswordButtons",value:function(){return u.default.createElement("div",{className:"password-buttons"},this.renderToggleShowPasswordButton(),this.renderPasswordQualityIndicator())}},{key:"renderToggleShowPasswordButton",value:function(){return this.state.isPasswordShowing?u.default.createElement(s.HideButton,{onClick:this.handleHidePasswordButtonClick,title:"Hide Password"}):u.default.createElement(s.ShowButton,{onClick:this.handleShowPasswordButtonClick,title:"Show Password"})}},{key:"renderPasswordQualityIndicator",value:function(){var e=this.state.isPasswordInvalid?"is-invalid":"",t=10==this.state.passwordQuality?"is-valid":"",n=m.default.toClassStr(["password-quality-indicator",e,t]);return u.default.createElement("div",{className:n},u.default.createElement(h.default,{addClasses:"password-tooltip",label:"password-tooltip",place:"left"},u.default.createElement("div",{className:"tooltip-content"},u.default.createElement("div",{className:"tooltip-heading"},"Password Requirements:"),u.default.createElement("ul",{className:"requirements-list"},u.default.createElement("li",{className:"tooltip-text"},"At least eight characters"),u.default.createElement("li",{className:"tooltip-text"},"At least one uppercase letter (A-Z)"),u.default.createElement("li",{className:"tooltip-text"},"At least one lowercase letter (a-z)"),u.default.createElement("li",{className:"tooltip-text"},"At least one number (0-9)"),u.default.createElement("li",{className:"tooltip-text"},"May include any of the following: !#%+:=?@ and [space]")))),u.default.createElement(l.default,{animationDuration:0,isLight:!0,key:"password-quality",lineWidth:100,mastery:this.state.passwordQuality/10,masteryColor:this.getPasswordQualityColor(),shouldAnimate:!1,shouldCountUpMastery:!1,shouldShowLevels:!1,shouldShowMasteryValue:!1,shouldShowMasteryValueLabel:!1}))}},{key:"handleTermsTextButtonClick",value:function(){m.default.openInNewTab("/terms")}}]),t}();b.propTypes=a.formTypes,t.default=b,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(3)),o=i(n(0));function i(e){return e&&e.__esModule?e:{default:e}}var a=function(e){var t=null;if("make-flashcards"==e.source)t=o.default.createElement("div",{className:"marketing-section make-flashcards"},o.default.createElement("div",{className:"section-title"},"Create Great Flashcards:"),o.default.createElement("ul",{className:"marketing-items"},o.default.createElement("li",null,"Organize into decks"),o.default.createElement("li",null,"Collaborate with others"),o.default.createElement("li",null,"Sync with mobile app"),o.default.createElement("li",null,"Study smarter, using cognitive science")));else if("make-me-smarter"==e.source)t=o.default.createElement("div",{className:"marketing-section make-me-smarter"},o.default.createElement("div",{className:"section-title"},"Prepare for Knowledge Rehab:"),o.default.createElement("ul",{className:"marketing-items"},o.default.createElement("li",null,"Efficiently (re)learn basic subjects everyone should know"),o.default.createElement("li",null,"Have fun & compete with others"),o.default.createElement("li",null,"Find, create, or share your own flashcards"),o.default.createElement("li",null,"Study online or in mobile app")));else{var n=e.subject||"anything";t=o.default.createElement("div",{className:"marketing-section anything"},o.default.createElement("div",{className:"section-title"},"Start Learning Faster:"),o.default.createElement("ul",{className:"marketing-items"},o.default.createElement("li",null,"Learn ",n," in half the time, using cognitive science"),o.default.createElement("li",null,"Add your own digital flashcards"),o.default.createElement("li",null,"Find millions of other public cards"),o.default.createElement("li",null,"Sync with mobile app")))}return o.default.createElement("div",{className:"registration-panel"},o.default.createElement("div",{className:"branding"}),o.default.createElement("div",{className:"marketing-text"},t))};a.propTypes={subject:r.default.string},t.default=a,e.exports=t.default},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=l(n(84)),a=l(n(2)),s=l(n(0));function l(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":r(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return Object.defineProperty(n,"handleCloseRequest",{enumerable:!0,writable:!0,value:function(){n.setState({isModalOpen:!1},function(){n.state.viewProps&&n.state.viewProps.onCloseRequest&&n.state.viewProps.onCloseRequest()})}}),Object.defineProperty(n,"handleClosed",{enumerable:!0,writable:!0,value:function(){var e=n.state.viewProps.onClosed;n.setState({viewProps:null},function(){e&&e()})}}),n.state={isModalOpen:!1,viewProps:null},n.events=new a.default,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.default.Component),o(t,[{key:"componentDidMount",value:function(){var e=this;this.events.addListener("share-pack-by-link-modal:open",function(t){return e.setState({isModalOpen:!0,viewProps:t})}),this.events.addListener("share-pack-by-link-modal:close",function(){e.handleCloseRequest()})}},{key:"componentWillUnmount",value:function(){this.events.disable()}},{key:"render",value:function(){var e=this.state.viewProps;return e?s.default.createElement(i.default,{addClasses:e.addClasses,authenticityToken:e.authenticityToken,isOpen:this.state.isModalOpen,isProcessing:e.isProcessing,isSingular:!0,onClosed:this.handleClosed,onCloseRequest:this.handleCloseRequest,pack:e.pack}):null}}]),t}();t.default=c,e.exports=t.default},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=l(n(145)),a=l(n(2)),s=l(n(0));function l(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":r(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return Object.defineProperty(n,"handleModalSetClosed",{enumerable:!0,writable:!0,value:function(){var e=n.state.viewProps.onModalSetClosed;n.setState({viewProps:null},function(){e&&e()})}}),n.state={isModalSetOpen:!1,viewProps:null},n.events=new a.default,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.default.Component),o(t,[{key:"componentDidMount",value:function(){var e=this;this.events.addListener("share-pack-modal-set:open",function(t){return e.setState({isModalSetOpen:!0,viewProps:t})}),this.events.addListener("share-pack-modal-set:close",function(){e.handleCloseRequest()})}},{key:"componentWillUnmount",value:function(){this.events.disable()}},{key:"render",value:function(){var e=this.state.viewProps;return e?s.default.createElement(i.default,{addClasses:e.addClasses,authenticityToken:e.authenticityToken,isModalSetOpen:this.state.isModalSetOpen,isProcessing:e.isProcessing,onModalSetClosed:this.handleModalSetClosed,pack:e.pack}):null}}]),t}();t.default=c,e.exports=t.default},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=d(n(6)),a=d(n(4)),s=d(n(0)),l=d(n(146)),c=d(n(84)),u=(d(n(10)),d(n(1)));function d(e){return e&&e.__esModule?e:{default:e}}var p=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":r(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={isIntroModalOpen:n.props.isModalSetOpen,isLinkModalOpen:!1,isEmailModalOpen:!1,isEmailConfirmModalOpen:!1,phase:"intro",postModalCallback:function(){},shareMethod:"link"},n._isMounted=!1,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.default.Component),o(t,[{key:"componentDidMount",value:function(){this._isMounted=!0}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"render",value:function(){var e=this.state.phase+"-phase",t=u.default.toClassStr(["share-pack-modal-set",e]);return s.default.createElement("div",{className:t},this.renderIntroModal(),this.renderLinkModal(),this.renderEmailModal(),this.renderEmailConfirmModal())}},{key:"renderIntroModal",value:function(){var e=this;return s.default.createElement(i.default,{addClasses:"share-intro-modal",isOpen:this.state.isIntroModalOpen,onClosed:function(){return e.state.postModalCallback()},onCloseRequest:function(){return e.handleIntroModalCloseRequest()}},s.default.createElement("div",{className:"new-modal-title"},"Share Class"),s.default.createElement("div",{className:"new-modal-guidance"},"How do you want to share this class? Choose a method."),s.default.createElement("div",{className:"share-methods"},this.renderLinkShareMethod(),this.renderEmailShareMethod()),s.default.createElement("div",{className:"new-modal-aside"},'*If a user simply "discovers" your class on the market, rather than visiting your free link, they will need a Brainscape Pro account to study it.'),s.default.createElement("div",{className:"new-modal-actions"},s.default.createElement("div",{className:"cancel-modal-text-button",onClick:function(t){return e.handleIntroCancelButtonClick(t)}},"Cancel"),s.default.createElement(a.default,{addClasses:"resolve-modal-button forward",label:"Continue",onClick:function(){return e.handleIntroContinueButtonClick()}})))}},{key:"renderLinkShareMethod",value:function(){var e=this,t="link"==this.state.shareMethod?"is-selected":"",n=u.default.toClassStr(["share-method link",t]);return s.default.createElement("div",{className:n,onClick:function(t){return e.handleLinkShareMethodClick(t)}},s.default.createElement("div",{className:"share-method-title"},"Generate a link"),s.default.createElement("div",{className:"share-method-caption"},"Easy, share anywhere"))}},{key:"renderEmailShareMethod",value:function(){var e=this,t="email"==this.state.shareMethod?"is-selected":"",n=u.default.toClassStr(["share-method email",t]);return s.default.createElement("div",{className:n,onClick:function(t){return e.handleEmailShareMethodClick(t)}},s.default.createElement("div",{className:"share-method-title"},"Share by e-mail address"),s.default.createElement("div",{className:"share-method-caption"},"Powerful, customize permissions"))}},{key:"renderLinkModal",value:function(){var e=this;return s.default.createElement(c.default,{isOpen:this.state.isLinkModalOpen,onBackRequest:function(){return e.handleLinkModalBackRequest()},onClosed:function(){return e.state.postModalCallback()},onCloseRequest:function(){return e.handleLinkModalCloseRequest()},pack:this.props.pack})}},{key:"renderEmailModal",value:function(){var e=this;return s.default.createElement(l.default,{isOpen:this.state.isEmailModalOpen,onBackRequest:function(){return e.handleEmailModalBackRequest()},onClosed:function(){return e.state.postModalCallback()},onCloseRequest:function(){return e.handleEmailModalCloseRequest()},onEmailSent:function(){return e.handleEmailSent()},pack:this.props.pack})}},{key:"renderEmailConfirmModal",value:function(){var e=this;return s.default.createElement(i.default,{addClasses:"email-confirm-modal",isOpen:this.state.isEmailConfirmModalOpen,onClosed:function(){return e.state.postModalCallback()},onCloseRequest:function(){return e.handleEmailConfirmModalCloseRequest()}},s.default.createElement("div",{className:"new-modal-title"},"Share Email Sent"),s.default.createElement("div",{className:"new-modal-message"},"Tip: Be sure your recipient checks their Spam folder and marks emails from Brainscape as Not Spam."),s.default.createElement("div",{className:"new-modal-actions"},s.default.createElement(a.default,{addClasses:"resolve-modal-button",label:"Ok",onClick:function(){return e.handleEmailConfirmModalCloseRequest()}})))}},{key:"handleEmailShareMethodClick",value:function(e){var t=this;e.stopPropagation(),"email"==this.state.shareMethod?this.setState({isIntroModalOpen:!1,postModalCallback:function(){t.invokeEmailPhase()}}):this.setState({shareMethod:"email"})}},{key:"handleEmailConfirmModalCloseRequest",value:function(){var e=this;this.setState({isEmailConfirmModalOpen:!1,postModalCallback:function(){e.props.onModalSetClosed()}})}},{key:"handleEmailModalCloseRequest",value:function(){var e=this;this.setState({isEmailModalOpen:!1,postModalCallback:function(){e.props.onModalSetClosed()}})}},{key:"handleEmailModalBackRequest",value:function(){var e=this;this.setState({isEmailModalOpen:!1,postModalCallback:function(){e.invokeIntroPhase()}})}},{key:"handleEmailSent",value:function(){var e=this;this.setState({isEmailModalOpen:!1,postModalCallback:function(){e.invokeEmailConfirmPhase()}})}},{key:"handleIntroContinueButtonClick",value:function(){var e=this;this.setState({isIntroModalOpen:!1,postModalCallback:function(){"link"==e.state.shareMethod?e.invokeLinkPhase():e.invokeEmailPhase()}})}},{key:"handleIntroCancelButtonClick",value:function(e){e.stopPropagation(),this.handleIntroModalCloseRequest()}},{key:"handleIntroModalCloseRequest",value:function(){var e=this;this.setState({isIntroModalOpen:!1,postModalCallback:function(){e.props.onModalSetClosed()}})}},{key:"handleLinkShareMethodClick",value:function(e){var t=this;e.stopPropagation(),"link"==this.state.shareMethod?this.setState({isIntroModalOpen:!1,postModalCallback:function(){t.invokeLinkPhase()}}):this.setState({shareMethod:"link"})}},{key:"handleLinkModalCloseRequest",value:function(){var e=this;this.setState({isLinkModalOpen:!1,postModalCallback:function(){e.props.onModalSetClosed()}})}},{key:"handleLinkModalBackRequest",value:function(){var e=this;this.setState({isLinkModalOpen:!1,postModalCallback:function(){e.invokeIntroPhase()}})}},{key:"invokeIntroPhase",value:function(){this.setState({isIntroModalOpen:!0,isLinkModalOpen:!1,isEmailModalOpen:!1,isEmailConfirmModalOpen:!1,phase:"intro"})}},{key:"invokeLinkPhase",value:function(){this.setState({isIntroModalOpen:!1,isLinkModalOpen:!0,isEmailModalOpen:!1,isEmailConfirmModalOpen:!1,phase:"link",shareMethod:"link"})}},{key:"invokeEmailPhase",value:function(){this.setState({isIntroModalOpen:!1,isLinkModalOpen:!1,isEmailModalOpen:!0,isEmailConfirmModalOpen:!1,phase:"email",shareMethod:"email"})}},{key:"invokeEmailConfirmPhase",value:function(){this.setState({isIntroModalOpen:!1,isLinkModalOpen:!1,isEmailModalOpen:!1,isEmailConfirmModalOpen:!0,phase:"emailConfirm"})}}]),t}();t.default=p,e.exports=t.default},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=h(n(6)),a=h(n(15)),s=h(n(64)),l=h(n(4)),c=h(n(0)),u=h(n(34)),d=h(n(17)),p=h(n(31)),f=h(n(1));function h(e){return e&&e.__esModule?e:{default:e}}var m=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":r(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={hasInvalidInput:!1,isProcessing:!1,invitees:"",sharePermission:"study",shouldNotifyByEmail:!0,validationMessage:""},n.Pack=new a.default,n._isMounted=!1,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,c.default.Component),o(t,[{key:"componentDidMount",value:function(){this._isMounted=!0}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"render",value:function(){var e=this,t=this.props.title||"Share Class By E-mail Address";return c.default.createElement(i.default,{addClasses:"share-pack-by-email-modal",isOpen:this.props.isOpen,onClosed:function(){return e.handleModalClosed()},onCloseRequest:function(){return e.props.onCloseRequest()}},c.default.createElement("div",{className:"new-modal-title"},t),c.default.createElement("div",{className:"new-modal-guidance"},"Type the email addresses of the people whose classes you wish to add this class to. (People without Brainscape accounts will still see this class when they first sign in.)"),c.default.createElement(p.default,{addClasses:"share-pack-addresses",key:"textarea1",value:this.state.invitees,placeholder:"james_brown@makeitfunky.com, brainscape@isthafunkiest.info",onChange:function(t){return e.handleInviteesChange(t)}}),c.default.createElement("div",{className:"share-parameters"},c.default.createElement("div",{className:"permission-options"},c.default.createElement(u.default,{addClasses:"share-permissions",name:"sharePermission",value:this.state.sharePermission,buttons:this.getUserPermissionOptions(),isInline:!0,onClick:function(t){return e.handleSharePermissionClick(t)}}),c.default.createElement(s.default,{isPackPrivate:this.props.pack.isPrivate})),this.renderNotifyByEmailCheckbox()),this.renderValidationMessage(),c.default.createElement("div",{className:"new-modal-actions"},this.renderBackTextButton(),this.renderResolveModalButton()))}},{key:"renderNotifyByEmailCheckbox",value:function(){var e=this;return this.props.pack.isMarket?null:c.default.createElement(d.default,{addClasses:"send-email-option",isChecked:this.state.shouldNotifyByEmail,prompt:"Notify recipients by e-mail",name:"sendEmailOption",onClick:function(){return e.handleSendEmailOptionClick()},value:this.state.shouldNotifyByEmail})}},{key:"renderBackTextButton",value:function(){var e=this;return!1===this.props.hasBackOption?null:c.default.createElement("div",{className:"cancel-modal-text-button back",onClick:function(t){return e.handleBackButtonClick(t)}},"Back")}},{key:"renderResolveModalButton",value:function(){var e=this,t=this.props.hasInvalidInput?"Retry":"Share",n=f.default.toClassStr(["resolve-modal-button",""==this.state.invitees?"disabled":""]);return c.default.createElement(l.default,{addClasses:n,isProcessing:this.state.isProcessing,label:t,onClick:function(){return e.handleShareButtonClick()}})}},{key:"renderValidationMessage",value:function(){return this.state.hasInvalidInput?c.default.createElement("div",{className:"validation-message"},this.state.validationMessage):null}},{key:"handleBackButtonClick",value:function(e){e.stopPropagation(),this.props.onBackRequest()}},{key:"handleInviteesChange",value:function(e){var t=e.target.value;this.setState({invitees:t})}},{key:"handleModalClosed",value:function(){this.props.onClosed&&this.props.onClosed()}},{key:"handleOptionalMessageChange",value:function(e){var t=e.target.value;this.setState({optionalMessage:t})}},{key:"handleSendEmailOptionClick",value:function(){var e=!this.state.shouldNotifyByEmail;this.setState({shouldNotifyByEmail:e})}},{key:"handleSharePermissionClick",value:function(e){this.setState({sharePermission:e})}},{key:"handleShareButtonClick",value:function(){if(""==this.state.invitees)return!1;this.setState({isProcessing:!0,hasInvalidInput:!1,validationMessage:""});var e=this.parseAndValidateInvitees(),t=e.validInviteesArr,n=e.isValid,r=e.validationMessage;if(!n)return this.setState({isProcessing:!1,hasInvalidInput:!0,validationMessage:r}),!1;this.sharePack(t)}},{key:"getUserPermissionOptions",value:function(){var e=[];return e.push({label:"Full Study",value:"study",className:"study-option"}),this.props.pack.isEditable&&e.push({label:"Edit",value:"edit",className:"edit-option"}),this.props.pack.isUserPackAdmin&&e.push({label:"Admin",value:"admin",className:"admin-option"}),e}},{key:"sharePack",value:function(e){var t=this,n=!!this.props.pack.isMarket||this.state.shouldNotifyByEmail;this.Pack.share({reqData:{share:{emails:e,pack_id:this.props.pack.packId,permission:this.state.sharePermission,send_email:n}},done:function(e){t.state.shouldNotifyByEmail?t.props.onEmailSent():t.props.onCloseRequest()},fail:function(e,n){console.log("Something went wrong in share pack. jqXHR, status:",e,n),t.props.onCloseRequest()}})}},{key:"parseAndValidateInvitees",value:function(){for(var e=this.state.invitees.split(",").map(function(e){return e.trim()}),t=[],n=[],r=!0,o=void 0,i=0;i<e.length;i++)f.default.isValidEmail(e[i])?t.push(e[i]):n.push(e[i]);return n.length>0&&(r=!1,o="Some of the e-mail addresses appear to be invalid. Please check the following entries: "+n.toString()),{validInviteesArr:t,isValid:r,validationMessage:o}}}]),t}();t.default=m,e.exports=t.default},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=f(n(2)),a=f(n(6)),s=f(n(4)),l=f(n(0)),c=f(n(8)),u=f(n(601)),d=f(n(31)),p=f(n(1));function f(e){return e&&e.__esModule?e:{default:e}}var h=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":r(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return Object.defineProperty(n,"render",{enumerable:!0,writable:!0,value:function(){return l.default.createElement("div",{className:"modal-set"},n.renderInputModal(),n.renderConfirmationModal())}}),Object.defineProperty(n,"handleCancelButtonClick",{enumerable:!0,writable:!0,value:function(){n.props.onCloseRequest()}}),Object.defineProperty(n,"handleCloseConfirmationModalRequest",{enumerable:!0,writable:!0,value:function(){n.setState({isConfirmationModalOpen:!1,shouldOpenConfirmationModal:!1})}}),Object.defineProperty(n,"handleCopyCardButtonClick",{enumerable:!0,writable:!0,value:function(){n.props.isUserPro?n.triggerCopyAndPlaceCardsModalSetOpen():n.triggerUpgradeModalOpen("Copy and Place Cards","copy_and_place_cards"),n.props.onCloseRequest()}}),Object.defineProperty(n,"handleInputModalClosed",{enumerable:!0,writable:!0,value:function(){n.state.shouldOpenConfirmationModal&&n.setState({isConfirmationModalOpen:!0})}}),Object.defineProperty(n,"handleSendSuggestionButtonClick",{enumerable:!0,writable:!0,value:function(){n.state.hasValidInput&&!n.props.isProcessing&&n.sendSuggestion()}}),Object.defineProperty(n,"handleFormSubmit",{enumerable:!0,writable:!0,value:function(e){e.preventDefault(),e.stopPropagation(),n.state.hasValidInput&&!n.props.isProcessing&&n.sendSuggestion()}}),Object.defineProperty(n,"handleSuggestionChange",{enumerable:!0,writable:!0,value:function(e){var t=e.target.value,r=!p.default.isWhitespace(t);n.setState({hasValidInput:r,suggestion:t})}}),n.state={hasValidInput:!1,isConfirmationModalOpen:!1,isProcessing:!1,suggestion:"",shouldOpenConfirmationModal:!1},n.Suggestion=new u.default,n.events=new i.default,n._isMounted=!1,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.default.Component),o(t,[{key:"componentDidMount",value:function(){this._isMounted=!0}},{key:"UNSAFE_componentWillUpdate",value:function(e){!this.props.isOpen&&e.isOpen&&this.resetFields()}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"renderInputModal",value:function(){var e=this;return l.default.createElement(a.default,{addClasses:"suggest-edit-input-modal",isOpen:this.props.isOpen,onClosed:this.handleInputModalClosed,onCloseRequest:function(){return e.props.onCloseRequest()}},l.default.createElement("div",{className:"new-modal-title"},"Suggest An Edit"),l.default.createElement("div",{className:"new-modal-message"},this.props.suggestionMetadata.msg),l.default.createElement("form",{className:"suggestion-form",onSubmit:this.handleFormSubmit},l.default.createElement(d.default,{addClasses:"suggestion",id:"suggestion",onChange:this.handleSuggestionChange,name:"suggestion",placeholder:"Type your suggestion to the author here",value:this.state.suggestion})),l.default.createElement("div",{className:"new-modal-actions"},l.default.createElement(c.default,{addClasses:"cancel-modal-text-button",label:"Cancel",onClick:this.handleCancelButtonClick}),l.default.createElement(s.default,{addClasses:"resolve-modal-button",isDisabled:!this.state.hasValidInput,isProcessing:this.state.isProcessing,label:"Send suggestion",onClick:this.handleSendSuggestionButtonClick}),this.renderCopyCardButton()))}},{key:"renderCopyCardButton",value:function(){return this.props.suggestionMetadata.suggestCopy?l.default.createElement(c.default,{addClasses:"copy-card-text-button resolve-modal-text-button",label:"Copy Card",onClick:this.handleCopyCardButtonClick}):null}},{key:"renderConfirmationModal",value:function(){var e=this.props.suggestionMetadata.creatorName;return l.default.createElement(a.default,{addClasses:"suggestion-confirmation-modal",isOpen:this.state.isConfirmationModalOpen,onCloseRequest:this.handleCloseConfirmationModalRequest},l.default.createElement("div",{className:"new-modal-title"},"Suggestion Delivered"),l.default.createElement("div",{className:"new-modal-message"},"A suggestion has been sent to ",e,". Thank you for your help improving the Brainscape experience."),l.default.createElement("div",{className:"new-modal-actions"},l.default.createElement(s.default,{addClasses:"resolve-modal-button",label:"Ok",onClick:this.handleCloseConfirmationModalRequest})))}},{key:"triggerCopyAndPlaceCardsModalSetOpen",value:function(){i.default.emitEvent("copy-and-place-cards-modal-set:open",{cardIds:[this.props.cardId],contentType:this.props.cardContentType,deckId:this.props.deckId,packId:this.props.packId})}},{key:"triggerUpgradeModalOpen",value:function(e,t){i.default.emitEvent("upgrade-modal:open",{desiredAction:e,paywall:t})}},{key:"resetFields",value:function(){this.setState({hasValidInput:!1,isConfirmationModalOpen:!1,isProcessing:!1,suggestion:"",shouldOpenConfirmationModal:!1})}},{key:"sendSuggestion",value:function(){var e=this;this.setState({isProcessing:!0}),this.Suggestion.create({cardId:this.props.cardId,packId:this.props.packId,text:this.state.suggestion}).then(function(){e.showConfirmationModal()}).catch(function(e){p.default.handleError({operation:"Suggestion.create",errorMessage:e,errorObject:e,notifyUser:!0})}).then(function(){e.setState({isProcessing:!1})})}},{key:"showConfirmationModal",value:function(){var e=this;this.setState({shouldOpenConfirmationModal:!0},function(){e.props.onCloseRequest(),e.props.onSuggestionSent&&e.props.onSuggestionSent()})}}]),t}();t.default=h,e.exports=t.default},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=l(n(2)),a=l(n(0)),s=l(n(149));function l(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":r(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return Object.defineProperty(n,"handleCloseRequest",{enumerable:!0,writable:!0,value:function(){n.setState({isModalOpen:!1},function(){n.state.viewProps&&n.state.viewProps.onCloseRequest&&n.state.viewProps.onCloseRequest()})}}),Object.defineProperty(n,"handleClosed",{enumerable:!0,writable:!0,value:function(){var e=n.state.viewProps.onClosed;n.setState({viewProps:null},function(){e&&e()})}}),n.state={isModalOpen:!1,viewProps:null},n.events=new i.default,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default.Component),o(t,[{key:"componentDidMount",value:function(){var e=this;this.events.addListener("unlock-deck-modal:open",function(t){return e.setState({isModalOpen:!0,viewProps:t})}),this.events.addListener("unlock-deck-modal:close",function(){e.handleCloseRequest()})}},{key:"componentWillUnmount",value:function(){this.events.disable()}},{key:"render",value:function(){var e=this.state.viewProps;return e?a.default.createElement(s.default,{isOpen:this.state.isModalOpen,onCloseRequest:this.handleCloseRequest,pack:e.pack}):null}}]),t}();t.default=c,e.exports=t.default},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=s(n(35)),a=s(n(0));function s(e){return e&&e.__esModule?e:{default:e}}s(n(1));var l=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":r(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={},n._isMounted=!1,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default.Component),o(t,[{key:"componentDidMount",value:function(){this._isMounted=!0}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"render",value:function(){return a.default.createElement(i.default,{isOpen:this.props.isOpen,message:this.renderUnlockDeckMessage(),onCloseRequest:this.props.onCloseRequest,paywall:"locked_deck",title:"Unlock Class"})}},{key:"renderUnlockDeckMessage",value:function(){return this.props.pack.isMarket||!this.props.pack.creatorName?a.default.createElement("div",{className:"new-modal-message"},"Upgrade to Brainscape Pro to gain access to all public and market flashcards on the entire platform."):a.default.createElement("div",{className:"new-modal-message"},"If you know the creator, ",a.default.createElement("strong",null,this.props.pack.creatorName),", ask them to directly share this class with you for free, OR grant you editor access. Otherwise, upgrade to Brainscape Pro to gain access to all public and market flashcards on the entire platform.")}}]),t}();t.default=l,e.exports=t.default},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0}),n(30);var o=n(7),i=u(n(151)),a=u(n(2)),s=u(n(3)),l=u(n(0)),c=u(n(17));function u(e){return e&&e.__esModule?e:{default:e}}var d={card:s.default.object.isRequired,currentUser:s.default.object.isRequired,deck:s.default.object.isRequired,onSortClick:s.default.func.isRequired,selected:s.default.bool.isRequired,sorting:s.default.bool.isRequired},p=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":r(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return Object.defineProperty(n,"render",{enumerable:!0,writable:!0,value:function(){var e=n.props.sorting;return l.default.createElement("div",{className:"card-actions",onClick:n.handleClick},l.default.createElement("div",{className:"body"},l.default.createElement(c.default,{isChecked:n.props.selected,isDisabled:e,onClick:n.handleCheckbox}),l.default.createElement("div",{style:{flex:1}}),l.default.createElement(i.default,{currentUser:n.props.currentUser,deck:n.props.deck,isDisabled:e}),l.default.createElement(o.ReorderButton,{isProcessing:n.props.sorting,onClick:n.props.onSortClick,title:"Quick Sort"}),l.default.createElement(o.AddButton,{isDisabled:e,onClick:n.handleAddCardClick,title:"Add Card"}),l.default.createElement(o.ExportButton,{isDisabled:e,title:"Upload Cards"})))}}),Object.defineProperty(n,"handleAddCardClick",{enumerable:!0,writable:!0,value:function(){a.default.emitEvent("deck-editor:act:new",{})}}),Object.defineProperty(n,"handleCheckbox",{enumerable:!0,writable:!0,value:function(){var e={selected:!n.props.selected};a.default.emitEvent("deck-editor:card:select-all",e)}}),n.state={},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.default.Component),t}();p.propTypes=d,t.default=p,e.exports=t.default},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var o=l(n(2)),i=l(n(22)),a=l(n(3)),s=l(n(0));function l(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":r(t))&&"function"!=typeof t?e:t}var u={currentUser:a.default.object.isRequired,deck:a.default.object.isRequired,isDisabled:a.default.bool.isRequired},d=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,l=Array(a),u=0;u<a;u++)l[u]=arguments[u];return n=r=c(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),Object.defineProperty(r,"render",{enumerable:!0,writable:!0,value:function(){var e=[{id:"copy",label:"Copy"},{id:"cut",label:"Cut"},{id:"paste",label:"Paste Card(s) at End of Deck"},{},{id:"delete",label:"Delete"},{id:"reverse",label:"Create Reverse Cards"},{id:"prompt",label:"Apply Card Prompt"},{},{id:"sortByName",label:"Sort Cards by Card Name"},{id:"sortByRandom",label:"Randomize Cards"}],t=r.props.deck.contentType;return"text"==t?e.push({id:"convHtml",label:"Convert to HTML"}):"html"==t&&e.push({id:"convText",label:"Convert to Text"}),s.default.createElement("div",{className:"card-actions-dropdown"},s.default.createElement(i.default,{isDisabled:r.props.isDisabled,menuOptions:r.addTag(e),onOptionClick:r.handleOptionClick,shouldButtonTurn:!0,title:"Test Title"}))}}),Object.defineProperty(r,"handleOptionClick",{enumerable:!0,writable:!0,value:function(e){switch(e){case"convHtml":if(!r.checkPro("Convert cards to HTML","conv_to_html"))return;confirm("Convert the cards to HTML?")&&o.default.emitEvent("deck-editor:act:convHtml",{});break;case"convText":confirm("Convert the cards to text?")&&o.default.emitEvent("deck-editor:act:convText",{});break;case"copy":o.default.emitEvent("deck-editor:act:copy",{});break;case"cut":o.default.emitEvent("deck-editor:act:cut",{});break;case"delete":o.default.emitEvent("deck-editor:act:delete",{});break;case"paste":o.default.emitEvent("deck-editor:act:paste",{});break;case"prompt":if(!r.checkPro("Apply a prompt to all cards.","apply_prompt_to_all"))return;o.default.emitEvent("deck-editor:act:prompt",{});break;case"reverse":var t=prompt("This will create a 'reversed' version of each selected card in which each Question becomes the Answer and vice versa. These cards will be pasted to the end of your current list.\n\nYou can also apply the following 'reversed prompt' which will display above the Question side of each of the new reversed cards.\n\nPrompt:");if(null===t)return;o.default.emitEvent("deck-editor:act:reverse",{prompt:t});break;case"sortByName":confirm("Sort cards by their names?")&&o.default.emitEvent("deck-editor:act:sort",{key:"name",dir:"asc"});break;case"sortByRandom":confirm("Randomize the card order?")&&o.default.emitEvent("deck-editor:act:sort",{key:"position",dir:"random"});break;default:console.log("-- unknown action: ",e)}}}),Object.defineProperty(r,"addTag",{enumerable:!0,writable:!0,value:function(e){return e.forEach(function(e){return e.tag=e.id}),e}}),Object.defineProperty(r,"checkPro",{enumerable:!0,writable:!0,value:function(e,t){return!!r.props.currentUser.pro||(o.default.emitEvent("upgrade-modal:open",{desiredAction:e,paywall:t}),!1)}}),c(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.default.Component),t}();d.propTypes=u,t.default=d,e.exports=t.default},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(1),a=p(n(602)),s=p(n(603)),l=p(n(2)),c=p(n(3)),u=p(n(0)),d=p(n(10));function p(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":r(t))&&"function"!=typeof t?e:t}function m(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var g={card:c.default.object.isRequired,deck:c.default.object.isRequired,onCardChange:c.default.func.isRequired,onKeyDown:c.default.func,type:c.default.string.isRequired},b=function(e){function t(e){f(this,t);var n=h(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return Object.defineProperty(n,"render",{enumerable:!0,writable:!0,value:function(){var e=n.props.card,t=n.props.deck,r=n.props.type;return u.default.createElement(y,{className:"card-field",handleDrop:n.handleDrop,overlay:u.default.createElement("p",{style:{color:"#19709680",fontWeight:"bold",fontSize:"2em"}},"drop here")},u.default.createElement(C,{card:e,deck:t,onCardChange:n.props.onCardChange,onKeyDown:n.props.onKeyDown,ref:n.input,type:r}),u.default.createElement(v,{card:e,onCardChange:n.props.onCardChange,type:r,onSoundAdd:n.handleSoundAdd,onSoundRemove:n.handleSoundRemove,onImageAdd:n.handleImageAdd,onImageRemove:n.handleImageRemove}))}}),Object.defineProperty(n,"componentWillUnmount",{enumerable:!0,writable:!0,value:function(){return n.events.disable()}}),Object.defineProperty(n,"handleDrop",{enumerable:!0,writable:!0,value:function(e){return(0,i.eachDataTransferFile)(e,n.handleDropFile)}}),Object.defineProperty(n,"handleDropFile",{enumerable:!0,writable:!0,value:function(e){if(e.size>5242880)n.flashError("Attachments","The file is too large.  Please limit your attachments to 5MB.");else{var t=n.props.type[0],r=e.type,o=null;if("image/gif"===r||"image/png"===r||"image/jpeg"===r?o="Image":"audio/mpeg"===r&&(o="Sound"),o){var i=new FileReader;i.readAsDataURL(e),i.onabort=function(){return n.uploadError(i.error)},i.onerror=function(){return n.uploadError(i.error)},i.onloadend=function(){return n.cardUrlChanged(t,o,i.result)}}else n.flashError("Attachments",'Unknown file type for "'+e.name+'": "'+r+'". Images should be PNG, JPG, or GIF. Sounds should be MP3.')}}}),Object.defineProperty(n,"handleImageAdd",{enumerable:!0,writable:!0,value:function(e){return n.handleDropFile(e.target.files[0])}}),Object.defineProperty(n,"handleImageRemove",{enumerable:!0,writable:!0,value:function(e){return n.delAttachment("Image")}}),Object.defineProperty(n,"handleSoundAdd",{enumerable:!0,writable:!0,value:function(e){return n.handleDropFile(e.target.files[0])}}),Object.defineProperty(n,"handleSoundRemove",{enumerable:!0,writable:!0,value:function(e){return n.delAttachment("Sound")}}),Object.defineProperty(n,"cardUrlChanged",{enumerable:!0,writable:!0,value:function(e,t,r){var o=n.newCardWith(""+e+t+"Url",r);n.props.onCardChange({card:o})}}),Object.defineProperty(n,"delAttachment",{enumerable:!0,writable:!0,value:function(e){var t=n.props.type[0],r="Remove the "+e.toLocaleLowerCase()+"?";confirm(r)&&n.cardUrlChanged(t,e,"destroy")}}),Object.defineProperty(n,"flashError",{enumerable:!0,writable:!0,value:function(e,t){var n={level:"error",message:t,title:e};l.default.emitEvent("deck-editor:flash",{flash:n})}}),Object.defineProperty(n,"focus",{enumerable:!0,writable:!0,value:function(){n.input.current&&n.input.current.focus()}}),Object.defineProperty(n,"focusAndSelect",{enumerable:!0,writable:!0,value:function(){n.input.current&&n.input.current.focusAndSelect()}}),Object.defineProperty(n,"newCardWith",{enumerable:!0,writable:!0,value:function(e,t){var n={};return n[e]=t,n}}),Object.defineProperty(n,"uploadError",{enumerable:!0,writable:!0,value:function(e){n.flashError("Attachments","Failed to upload file: "+e)}}),n.events=new l.default,n.input=u.default.createRef(),n.state={},n}return m(t,u.default.Component),t}();b.propTypes=g;var v=function(e){var t=e.type,n=t[0],r=e.card;return u.default.createElement("div",{className:"attachments"},u.default.createElement("div",{className:"attachment"},u.default.createElement("div",{className:"title"},"Image:"),u.default.createElement(_,{type:t,imageUrl:r[n+"OriginalImageUrl"],thumbUrl:r[n+"ImageUrl"],onRemove:e.onImageRemove,onAdd:e.onImageAdd})),u.default.createElement("div",{className:"attachment"},u.default.createElement("div",{className:"title"},"Sound:"),u.default.createElement(w,{type:t,onRemove:e.onSoundRemove,onAdd:e.onSoundAdd,soundUrl:r[n+"SoundUrl"]})))};v.propTypes={card:c.default.object.isRequired,onImageAdd:c.default.func.isRequired,onImageRemove:c.default.func.isRequired,onSoundAdd:c.default.func.isRequired,onSoundRemove:c.default.func.isRequired,type:c.default.string.isRequired};var y=function(e){function t(e){f(this,t);var n=h(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return Object.defineProperty(n,"render",{enumerable:!0,writable:!0,value:function(){var e=n.state.dragging?u.default.createElement(k,null,n.props.overlay):n.props.children;return u.default.createElement("div",{className:n.props.className,ref:n.dropDiv},u.default.createElement("div",{className:"drop-container"},e))}}),Object.defineProperty(n,"stopEvent",{enumerable:!0,writable:!0,value:function(e){e.preventDefault(),e.stopPropagation()}}),Object.defineProperty(n,"handleDrag",{enumerable:!0,writable:!0,value:function(e){return n.stopEvent(e)}}),Object.defineProperty(n,"handleDragIn",{enumerable:!0,writable:!0,value:function(e){n.stopEvent(e),n.dragCounter++,e.dataTransfer.items&&e.dataTransfer.items.length>0&&n.setState({dragging:!0})}}),Object.defineProperty(n,"handleDragOut",{enumerable:!0,writable:!0,value:function(e){n.stopEvent(e),n.dragCounter--,0===n.dragCounter&&n.setState({dragging:!1})}}),Object.defineProperty(n,"handleDrop",{enumerable:!0,writable:!0,value:function(e){n.stopEvent(e),n.setState({dragging:!1}),e.dataTransfer.files&&e.dataTransfer.files.length>0&&(n.props.handleDrop(e),n.dragCounter=0)}}),Object.defineProperty(n,"componentDidMount",{enumerable:!0,writable:!0,value:function(){var e=n.dropDiv.current;e.addEventListener("dragenter",n.handleDragIn),e.addEventListener("dragleave",n.handleDragOut),e.addEventListener("dragover",n.handleDrag),e.addEventListener("drop",n.handleDrop)}}),n.state={dragging:!1},n.dropDiv=u.default.createRef(),n.dragCounter=0,n}return m(t,u.default.Component),o(t,[{key:"componentWillUnmount",value:function(){var e=this.dropDiv.current;e.removeEventListener("dragenter",this.handleDragIn),e.removeEventListener("dragleave",this.handleDragOut),e.removeEventListener("dragover",this.handleDrag),e.removeEventListener("drop",this.handleDrop)}}]),t}();y.propTypes={className:c.default.string,handleDrop:c.default.func.isRequired,overlay:c.default.object.isRequired};var k=function(e){return u.default.createElement("div",{className:"drop-overlay"},u.default.createElement("div",{className:"drop-overlay-inner"},e.children))},_=function(e){return(0,i.isBlank)(e.thumbUrl)||"destroy"==e.thumbUrl?u.default.createElement("div",{className:"content"},u.default.createElement("label",{className:"upload-input"},u.default.createElement("input",{accept:"image/gif, image/jped, image/png",name:"image",type:"file",onChange:e.onAdd}),"Add Image")):u.default.createElement("div",{className:"content"},u.default.createElement("a",{className:"thumb",href:e.imageUrl,target:"_blank"},u.default.createElement("img",{className:"thumb",src:e.thumbUrl,title:e.type+" image thumbnail"})),u.default.createElement("a",{href:"#",onClick:e.onRemove},"Remove"))};_.propTypes={type:c.default.string.isRequired,imageUrl:c.default.string,thumbUrl:c.default.string,onRemove:c.default.func.isRequired,onAdd:c.default.func.isRequired};var w=function(e){return(0,i.isBlank)(e.soundUrl)||"destroy"==e.soundUrl?u.default.createElement("div",{className:"content"},u.default.createElement("label",{className:"upload-input"},u.default.createElement("input",{accept:"sound/mpeg",name:"sound",onChange:e.onAdd,type:"file"}),"Add Image")):u.default.createElement("div",{className:"content"},u.default.createElement("audio",{controls:"controls",preload:"none",src:e.soundUrl}),u.default.createElement("a",{href:"#",onClick:e.onRemove},"Remove"))};w.propTypes={type:c.default.string.isRequired,soundUrl:c.default.string,onRemove:c.default.func.isRequired,onAdd:c.default.func.isRequired};var C=function(e){function t(e){f(this,t);var n=h(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return Object.defineProperty(n,"render",{enumerable:!0,writable:!0,value:function(){var e=n.props.card,t=n.props.deck,r=n.props.type;if("text"===t.contentType)return"question"===r?u.default.createElement(d.default,{id:"question",label:"Question",onChange:n.handleChange,onKeyDown:n.props.onKeyDown,ref:n.input,type:"textarea",value:e.question||""}):u.default.createElement(d.default,{id:"answer",label:"Answer",onChange:n.handleChange,onKeyDown:n.props.onKeyDown,ref:n.input,type:"textarea",value:e.answer||""});if("html"===t.contentType){var o="answer"===r,i=o?"Answer":"Question",l=o?e.answer:e.question;return u.default.createElement("div",{className:"html-field"},u.default.createElement("div",{className:"field-label"},i),u.default.createElement(a.default,{editor:s.default,data:l||"",onChange:n.handleCKChange,ref:n.input,config:S}))}return"question"===r?u.default.createElement(P,{label:"Question",value:e.question||""}):u.default.createElement(P,{label:"Answer",value:e.answer||""})}}),Object.defineProperty(n,"handleChange",{enumerable:!0,writable:!0,value:function(e){var t=n.props.deck,r=n.props.type,o={};"question"===r&&"text"===t.contentType?o.question=e.target.value:"answer"===r&&"text"===t.contentType&&(o.answer=e.target.value),n.props.onCardChange&&n.props.onCardChange({card:o})}}),Object.defineProperty(n,"handleCKChange",{enumerable:!0,writable:!0,value:function(e,t){var r=n.props.deck,o=n.props.type,i={};"question"===o&&"html"===r.contentType?i.question=t.getData():"answer"===o&&"html"===r.contentType&&(i.answer=t.getData()),n.props.onCardChange&&n.props.onCardChange({card:i})}}),Object.defineProperty(n,"focus",{enumerable:!0,writable:!0,value:function(){var e=n.input.current;if(e)return void 0!==e.focus?e.focus():void 0}}),Object.defineProperty(n,"focusAndSelect",{enumerable:!0,writable:!0,value:function(){var e=n.input.current;if(e)return void 0!==e.focusAndSelect?e.focusAndSelect():void 0}}),n.input=u.default.createRef(),n.state={},n}return m(t,u.default.Component),t}();C.propTypes={card:c.default.object.isRequired,deck:c.default.object.isRequired,onCardChange:c.default.func.isRequired,onKeyDown:c.default.func,type:c.default.string.isRequired};var S={toolbar:["heading","|","bold","italic","link","bulletedList","numberedList"]},P=function(e){return u.default.createElement("div",{className:"text-field has-content"},u.default.createElement("div",{className:"field-label"},e.label),u.default.createElement("div",{className:"input-and-buttons"},u.default.createElement("textarea",{className:"textarea-input",readOnly:!0,value:e.value})))};P.propTypes={label:c.default.string.isRequired,value:c.default.string.isRequired},t.default=b,e.exports=t.default},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=c(n(154)),a=c(n(3)),s=c(n(0)),l=c(n(604));function c(e){return e&&e.__esModule?e:{default:e}}var u={cardSelections:a.default.object.isRequired,cards:a.default.array.isRequired,currentCard:a.default.object.isRequired,onSortEnd:a.default.func.isRequired,sorting:a.default.bool.isRequired},d=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":r(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return Object.defineProperty(n,"render",{enumerable:!0,writable:!0,value:function(){var e=n.props.cards.map(function(e,t){return s.default.createElement(i.default,{card:e,current:n.props.currentCard.cardId==e.cardId,key:e.cardId||"new",selected:n.props.cardSelections[e.cardId]||!1,sorting:n.props.sorting})});return s.default.createElement("div",{className:"card-list",ref:function(e){return n.listElement=e}},e)}}),Object.defineProperty(n,"componentDidMount",{enumerable:!0,writable:!0,value:function(){if(n.listElement){var e={disabled:!0,onEnd:n.handleSortEnd};n.sortable=new l.default(n.listElement,e)}}}),Object.defineProperty(n,"handleSortEnd",{enumerable:!0,writable:!0,value:function(e){var t=e.oldIndex,r=e.newIndex;n.sortedIds.splice(r,0,n.sortedIds.splice(t,1)[0])}}),Object.defineProperty(n,"startSorting",{enumerable:!0,writable:!0,value:function(){n.sortedIds=n.props.cards.map(function(e){return e.cardId}),n.sortable.option("disabled",!1)}}),Object.defineProperty(n,"stopSorting",{enumerable:!0,writable:!0,value:function(){n.sortable.option("disabled",!0),n.props.onSortEnd(n.sortedIds)}}),n.state={},n.listElement=null,n.sorable=null,n.sortedIds=null,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.default.Component),o(t,[{key:"componentDidUpdate",value:function(e,t,n){if(this.listElement){var r=e.sorting,o=this.props.sorting;!r&&o?this.startSorting():r&&!o&&this.stopSorting()}}}]),t}();d.propTypes=u,t.default=d,e.exports=t.default},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var o=l(n(2)),i=l(n(3)),a=l(n(0)),s=l(n(17));function l(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":r(t))&&"function"!=typeof t?e:t}var u={card:i.default.object.isRequired,current:i.default.bool.isRequired,selected:i.default.bool.isRequired,sorting:i.default.bool.isRequired},d=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,l=Array(i),u=0;u<i;u++)l[u]=arguments[u];return n=r=c(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),Object.defineProperty(r,"render",{enumerable:!0,writable:!0,value:function(){var e=["card-tile",r.props.current?"current":"non-current",r.props.sorting?"sorting":""].join(" "),t=r.props.card,n=t.cardId?t.number+".":"N/A",o=t.cardId?t.questionPreview:"New Card",i=t.answerPreview,s=r.props.selected;return a.default.createElement("div",{className:e},a.default.createElement("div",{className:"body",onClick:r.handleClick},r.renderCheckbox(s,r.props.sorting),a.default.createElement("div",{className:"number"},n),a.default.createElement("div",{className:"faces"},a.default.createElement("div",{className:"question"},o),a.default.createElement("div",{className:"answer"},i))))}}),Object.defineProperty(r,"renderCheckbox",{enumerable:!0,writable:!0,value:function(e,t){return t?a.default.createElement("div",{className:"sort-handle"}):a.default.createElement(s.default,{isChecked:e,onClick:r.handleCheckbox})}}),Object.defineProperty(r,"handleCheckbox",{enumerable:!0,writable:!0,value:function(e){r.props.sorting||o.default.emitEvent("deck-editor:card:select",{cardId:r.props.card.cardId,selected:!r.props.selected,shiftKey:e.shiftKey})}}),Object.defineProperty(r,"handleClick",{enumerable:!0,writable:!0,value:function(){if(!r.props.sorting){var e=r.props.card.cardId;o.default.emitEvent("deck-editor:card:click",{cardId:e})}}}),c(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default.Component),t}();d.propTypes=u,t.default=d,e.exports=t.default},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var o=c(n(150)),i=c(n(153)),a=c(n(2)),s=c(n(3)),l=c(n(0));function c(e){return e&&e.__esModule?e:{default:e}}var u={allSelected:s.default.bool.isRequired,cardSelections:s.default.object.isRequired,cards:s.default.array.isRequired,currentCard:s.default.object.isRequired,currentUser:s.default.object.isRequired,deck:s.default.object.isRequired},d=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":r(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return Object.defineProperty(n,"render",{enumerable:!0,writable:!0,value:function(){return l.default.createElement("div",{className:"card-pane"},l.default.createElement("div",{className:"header"},l.default.createElement("div",{className:"title"},"Cards"),l.default.createElement("div",{className:"count"},n.props.cards.length)),l.default.createElement(o.default,{card:n.props.currentCard,currentUser:n.props.currentUser,deck:n.props.deck,onSortClick:n.handleSortClick,selected:n.props.allSelected,sorting:n.state.sorting}),l.default.createElement(i.default,{cardSelections:n.props.cardSelections,cards:n.props.cards,currentCard:n.props.currentCard,sorting:n.state.sorting,onSortEnd:n.handleSortEnd}))}}),Object.defineProperty(n,"handleSortClick",{enumerable:!0,writable:!0,value:function(){var e,t=n.state.sorting;e=t?function(){a.default.emitEvent("deck-editor:flash:clear",{id:"sortInstructions"})}:function(){a.default.emitEvent("deck-editor:flash",{flash:{level:"info",message:"Click the reorder button again to save the new order.",id:"sortInstructions",title:"Reorder Cards"}})},n.setState({sorting:!t},e)}}),Object.defineProperty(n,"handleSortEnd",{enumerable:!0,writable:!0,value:function(e){a.default.emitEvent("deck-editor:act:order",{cardIds:e})}}),n.state={sorting:!1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.default.Component),t}();d.propTypes=u,t.default=d,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(n(3)),o=a(n(0)),i=n(7);function a(e){return e&&e.__esModule?e:{default:e}}var s={onClose:r.default.func.isRequired,status:r.default.object},l=function(e){var t=e.status;return t?o.default.createElement("div",{className:"deck-status-tile"},o.default.createElement("div",{className:"dst-body"},o.default.createElement("div",{className:"title"},"Background Processing:"),o.default.createElement("div",{className:"msg"},t.message)),o.default.createElement("div",{className:"dst-tail"},o.default.createElement(u,{onClick:e.onClose,status:t}),o.default.createElement(c,{title:"Started At",epoch:t.startedAt}),o.default.createElement(c,{title:"Updated At",epoch:t.updatedAt}))):null};l.propTypes=s;var c=function(e){var t=new Date(0);t.setUTCSeconds(e.epoch);var n=t.toLocaleTimeString().toLowerCase().replace(" ","");return o.default.createElement("div",{className:"detail-time"},o.default.createElement("span",{className:"title"},e.title,":"),o.default.createElement("span",{className:"detail"},n))};c.propTypes={epoch:r.default.number.isRequired,title:r.default.string.isRequired};var u=function(e){return e.status.stoppedAt?o.default.createElement("div",{className:"close-row"},o.default.createElement(i.CloseButton,{onClick:e.onClick})):o.default.createElement(d,{index:e.status.progressIndex,count:e.status.progressTotal})};u.propTypes={onClick:r.default.func.isRequired,status:r.default.object.isRequired};var d=function(e){if(!e.index||!e.count||e.count<1)return null;var t=Math.min(e.index,e.count),n=Math.ceil(t/e.count*100)+"%",r="inner-bar "+(t<e.count?"partial":"");return o.default.createElement("div",{className:"detail-bar"},o.default.createElement("div",{className:r,style:{width:n}}))};d.propTypes={index:r.default.number.isRequired,count:r.default.number.isRequired},t.default=l,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(n(3)),o=a(n(0)),i=n(7);function a(e){return e&&e.__esModule?e:{default:e}}var s={flash:r.default.object,onClose:r.default.func.isRequired},l=function(e){var t=e.flash;if(!t)return null;var n="flash-tile "+(e.flash.level||"error");return o.default.createElement("div",{className:n},o.default.createElement("div",{className:"flash-body"},o.default.createElement("div",{className:"title"},t.title),o.default.createElement("div",{className:"msg"},t.message),o.default.createElement(c,{errors:t.errors})),o.default.createElement("div",{className:"flash-tail"},o.default.createElement(i.CloseButton,{onClick:e.onClose})))};l.propTypes=s;var c=function(e){var t=e.errors;if(!t)return null;var n=[];return Object.keys(t).forEach(function(e){n.push(o.default.createElement("li",{key:e},e," ",t[e]))}),o.default.createElement("ul",null,n)};c.propTypes={errors:r.default.object},t.default=l,e.exports=t.default},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};n(30);var i=n(47),a=n(85),s=_(n(152)),l=_(n(155)),c=_(n(156)),u=_(n(157)),d=_(n(159)),p=_(n(2)),f=_(n(160)),h=_(n(4)),m=_(n(3)),g=_(n(0)),b=_(n(10)),v=_(n(51)),y=n(605),k=n(1);function _(e){return e&&e.__esModule?e:{default:e}}var w={cards:m.default.array.isRequired,currentUser:m.default.object.isRequired,deck:m.default.object.isRequired,flash:m.default.object,initialCard:m.default.object.isRequired,links:m.default.object.isRequired,pack:m.default.object.isRequired},C=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":r(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return Object.defineProperty(n,"render",{enumerable:!0,writable:!0,value:function(){var e=n.state.currentCard,t=n.state.deck,r=n.props.links,o=n.state.pack;return g.default.createElement("div",{className:"editor-pane"},g.default.createElement(l.default,{allSelected:n.state.allSelected,cardSelections:n.state.cardSelections,cards:n.state.cards,currentCard:e,currentUser:n.props.currentUser,deck:n.state.deck,sortEnabled:n.state.sortEnabled}),g.default.createElement("div",{className:"editor-pane-body"},g.default.createElement(d.default,{card:e,deck:t,links:r,pack:o}),g.default.createElement(c.default,{onClose:n.handleDeckStatusClose,status:n.state.deckStatus}),g.default.createElement(u.default,{flash:n.state.flash,onClose:n.handleFlashClose}),g.default.createElement(P,{card:e,enabled:n.state.showPrompt,onChange:n.handleFieldChange,onKeyDown:n.handleKeyDown}),g.default.createElement("div",{className:"q-and-a"},g.default.createElement(s.default,{card:e,deck:t,hasInitialSelection:!0,onCardChange:n.handleCardFieldChange,onKeyDown:n.handleKeyDown,ref:n.questionInput,type:"question"}),g.default.createElement(s.default,{card:e,deck:t,onCardChange:n.handleCardFieldChange,onKeyDown:n.handleKeyDown,ref:n.answerInput,type:"answer"})),g.default.createElement("div",{className:"editor-pane-footer"},g.default.createElement("div",{className:"section"},g.default.createElement("div",{className:"ctrls section-block"}),g.default.createElement("div",{className:"ctrls section-block"},g.default.createElement(h.default,{addClasses:"small-cta-action",isDisabled:!n.state.currentChanged,isProcessing:n.state.busy,label:"Save Card",onClick:n.handleSaveClick,type:"neutral"}),g.default.createElement(h.default,{addClasses:"small-cta-action",isDisabled:!n.state.currentChanged,isProcessing:n.state.busy,label:"Save & Next Card",onClick:n.handleSaveAndNextClick,type:"neutral",title:"Shortcut: Ctrl+Enter"}))),g.default.createElement(f.default,{title:"Additional Fields"},g.default.createElement("div",{className:"index-name section-block"},"Index Name:",g.default.createElement(b.default,{id:"name",onChange:n.handleFieldChange,onKeyDown:n.handleKeyDown,value:e.name}))))),g.default.createElement(v.default,null))}}),Object.defineProperty(n,"componentDidMount",{enumerable:!0,writable:!0,value:function(){n.urlMatches(n.state.currentCard)||n.pushHistory(n.state.currentCard,!0),n.events.addListeners([["card:updated",n.handleCardUpdated],["deck-editor:act:convHtml",n.handleActionConvHtml],["deck-editor:act:convText",n.handleActionConvText],["deck-editor:act:copy",n.handleActionCopy],["deck-editor:act:cut",n.handleActionCut],["deck-editor:act:delete",n.handleActionDelete],["deck-editor:act:new",n.handleActionNewCard],["deck-editor:act:order",n.handleActionOrder],["deck-editor:act:paste",n.handleActionPaste],["deck-editor:act:prompt",n.handleActionPrompt],["deck-editor:act:reverse",n.handleActionReverse],["deck-editor:act:sort",n.handleActionSort],["deck-editor:card:click",n.handleCardTileClick],["deck-editor:card:select",n.handleCardSelect],["deck-editor:card:select-all",n.handleCardSelectAll],["deck-editor:card:sort:toggle",n.handeCardSearchToggle],["deck-editor:flash",n.handleFlash],["deck-editor:flash:clear",n.handleFlashClear],["deck-editor:refresh",n.handleRefresh],["deck:updated",n.handleDeckUpdated]]),n.selectQuestion(),(0,y.createSubscription)({channel:"DeckStatusChannel",deckId:n.props.deck.deckId},{received:n.handleDeckStatusChannel})}}),Object.defineProperty(n,"componentWillUnmount",{enumerable:!0,writable:!0,value:function(){return n.events.disable()}}),Object.defineProperty(n,"handleActionConv",{enumerable:!0,writable:!0,value:function(e){var t="packs/"+n.props.pack.packId+"/decks/"+n.props.deck.deckId+"/ct";(0,i.apiPut)(t,{contentType:e}).catch(n.flashError)}}),Object.defineProperty(n,"handleActionConvHtml",{enumerable:!0,writable:!0,value:function(){return n.handleActionConv("html")}}),Object.defineProperty(n,"handleActionConvText",{enumerable:!0,writable:!0,value:function(){return n.handleActionConv("text")}}),Object.defineProperty(n,"handleActionCopy",{enumerable:!0,writable:!0,value:function(){return n.handleActionCopyOrCut("copy")}}),Object.defineProperty(n,"handleActionCopyOrCut",{enumerable:!0,writable:!0,value:function(e){var t=n.selectedCardIds();if(0==t.length)return(0,a.openAlert)((0,k.upperCaseFirst)(e),"You must select one or more cards first.");if("cut"==e){var r="Are you sure you want to cut "+t.length+" cards?";if(!confirm(r))return}var o=("cut"==e?"Cut":"Copy")+" Cards",s="packs/"+n.props.pack.packId+"/decks/"+n.props.deck.deckId+"/cards/cb/"+e;(0,i.apiPost)(s,{cardIds:t}).then(function(e){var t={level:"info",message:"Copied "+e.ct+" cards to the clipboard.",title:o};n.setState({flash:t})}).catch(function(t){var r={level:"error",message:"Could not "+e+" the selected cards: "+t.message,title:o};n.setState({flash:r})})}}),Object.defineProperty(n,"handleActionCut",{enumerable:!0,writable:!0,value:function(){return n.handleActionCopyOrCut("cut")}}),Object.defineProperty(n,"handleActionDelete",{enumerable:!0,writable:!0,value:function(){var e=n.selectedCardIds();if(0==e.length)return(0,a.openAlert)("Delete","You must select one or more cards first.");var t="Are you sure you want to delete "+e.length+" cards?";if(confirm(t)){var r="packs/"+n.props.pack.packId+"/decks/"+n.props.deck.deckId+"/cards";(0,i.apiDelete)(r,{cardIds:e.join(",")}).then(function(){n.setState({allSelected:!1,cardSelections:{}})}).catch(n.flashError)}}}),Object.defineProperty(n,"handleActionNewCard",{enumerable:!0,writable:!0,value:function(){if(n.state.currentChanged)return n.saveCard(n.state.currentCard).then(function(){n.setCurrentCard(n.buildNewCard())}).catch(n.flashError);n.setCurrentCard(n.buildNewCard())}}),Object.defineProperty(n,"handleActionOrder",{enumerable:!0,writable:!0,value:function(e){var t=n.props.pack.packId,r=n.props.deck.deckId,o={cardIds:e.cardIds.join(",")},a="packs/"+t+"/decks/"+r+"/cards/reorder";(0,i.apiPost)(a,o).then(function(e){return n.updatePackDeckAndCards().then(function(){n.setState({flash:{level:"info",message:"The card order has been updated.",title:"Order Cards"}})})}).catch(function(e){n.updatePackDeckAndCards().then(function(){n.flashError(e)}).catch(function(){n.flashError(e)})})}}),Object.defineProperty(n,"handleActionPaste",{enumerable:!0,writable:!0,value:function(){var e="packs/"+n.props.pack.packId+"/decks/"+n.props.deck.deckId+"/cards/cb/paste";(0,i.apiPost)(e).catch(function(e){var t="Could not paste the cards: "+e.message;(0,a.openAlert)("Paste Card(s) at End of Deck",t)})}}),Object.defineProperty(n,"handleActionPrompt",{enumerable:!0,writable:!0,value:function(){var e=n.selectedCardIds();if(0==e.length)return(0,a.openAlert)("Apply Card Prompt","You must select one or more cards first.");var t=prompt("Apply Card Prompt\n\nApply a prompt to all the selected cards.\n\nWarning: This will overwrite any existing prompts.","");if(null!==t){var r=n.props.pack.packId,o=n.props.deck.deckId,s={cardIds:e.join(","),prompt:t},l="packs/"+r+"/decks/"+o+"/cards/prompt";(0,i.apiPost)(l,s).then(function(e){return n.updatePackDeckAndCards().then(function(){var t={level:"info",message:"Updated "+e.ct+" cards.",title:"Apply Card Prompt"};n.setState({flash:t})})}).catch(n.flashError)}}}),Object.defineProperty(n,"handleActionReverse",{enumerable:!0,writable:!0,value:function(e){var t=n.selectedCardIds();if(0==t.length)return(0,a.openAlert)("Create Reverse Cards","You must select one or more cards first.");var r=n.props.pack.packId,o=n.props.deck.deckId,s={cardIds:t.join(","),prompt:e.prompt},l="packs/"+r+"/decks/"+o+"/cards/reverse";(0,i.apiPost)(l,s).catch(n.flashError)}}),Object.defineProperty(n,"handleActionSort",{enumerable:!0,writable:!0,value:function(e){var t=n.props.pack.packId,r=n.props.deck.deckId,o={key:e.key,dir:e.dir},a="packs/"+t+"/decks/"+r+"/cards/sort";(0,i.apiPost)(a,o).then(function(t){return n.updatePackDeckAndCards().then(function(){var t={level:"info",message:"random"==e.dir?"The card order has been randomized.":"The cards have been sorted by "+e.key+".",title:"Sort Cards"};n.setState({flash:t})})}).catch(n.flashError)}}),Object.defineProperty(n,"handleCardTileClick",{enumerable:!0,writable:!0,value:function(e){var t=e.cardId;if(t){if(n.state.currentChanged){var r=n.state.currentCard;return n.saveCardAndSelect(r,t).catch(n.flashError)}var o=n.findCard(t);o&&n.setCurrentCard(o)}}}),Object.defineProperty(n,"handleCardSelect",{enumerable:!0,writable:!0,value:function(e){var t=e.cardId,r=e.selected,i=(e.shiftKey,o({},n.state.cardSelections));i[t]=r;var a=n.countSelected(i)===n.state.cards.length;n.setState({cardSelections:i,allSelected:a})}}),Object.defineProperty(n,"handleCardSelectAll",{enumerable:!0,writable:!0,value:function(e){var t=e.selected,r={};t&&n.state.cards.forEach(function(e){var t=e.cardId;r[t]=!0}),n.setState({cardSelections:r,allSelected:t})}}),Object.defineProperty(n,"handeCardSearchToggle",{enumerable:!0,writable:!0,value:function(){n.setState({sortEnabled:!n.state.sortEnabled})}}),Object.defineProperty(n,"handleCardUpdated",{enumerable:!0,writable:!0,value:function(e){var t={},r=e.card,i=!0,a=n.state.cards.map(function(e){return r.cardId!=e.cardId?e:(i=!0,o({},e,r))});i&&(t.cards=a);var s=n.state.currentCard;if(s.cardId==r.cardId){var l=o({},s,r);t.currentCard=l,t.currentChanged=n.cardChanged(l,t.cards)}Object.keys(t).length>0&&n.setState(t)}}),Object.defineProperty(n,"handleCardFieldChange",{enumerable:!0,writable:!0,value:function(e){if(e.card){var t=o({},n.state.currentCard,e.card),r=n.cardChanged(t);n.setState({currentCard:t,currentChanged:r})}}}),Object.defineProperty(n,"handleFlashClose",{enumerable:!0,writable:!0,value:function(){return n.setState({flash:null})}}),Object.defineProperty(n,"handleDeckStatusChannel",{enumerable:!0,writable:!0,value:function(e){n.events.enabled&&(e.stoppedAt?n.updatePackDeckAndCards().then(function(){n.setState({deckStatus:e})}).catch(function(e){var t={level:"error",message:"Could not refresh the cards: "+e.message};n.setState({flash:t})}):n.setState({deckStatus:e}))}}),Object.defineProperty(n,"handleDeckStatusClose",{enumerable:!0,writable:!0,value:function(){return n.setState({deckStatus:null})}}),Object.defineProperty(n,"handleDeckUpdated",{enumerable:!0,writable:!0,value:function(e){return n.setState({deck:e.deck})}}),Object.defineProperty(n,"handleFieldChange",{enumerable:!0,writable:!0,value:function(e){var t=e.target.id;if("name"==t||"prompt"==t){var r=o({},n.state.currentCard);r[t]=e.target.value;var i=n.cardChanged(r);n.setState({currentCard:r,currentChanged:i})}}}),Object.defineProperty(n,"handleKeyDown",{enumerable:!0,writable:!0,value:function(e){var t=e.target.id;if(9===e.keyCode){if("question"===t)return void n.safeSelect(e,n.answerInput.current);if("answer"===t&&e.shiftKey)return void n.safeSelect(e,n.questionInput.current)}if(13===e.keyCode&&(e.ctrlKey||e.metaKey))return e.preventDefault(),void n.saveAndNavigate(e.shiftKey)}}),Object.defineProperty(n,"handleSaveAndNextClick",{enumerable:!0,writable:!0,value:function(e){var t=n.state.currentCard;n.saveCardAndNextCard(t).catch(n.flashError)}}),Object.defineProperty(n,"handleSaveClick",{enumerable:!0,writable:!0,value:function(e){if(!n.state.currentChanged)return(0,a.openAlert)("Save Card","The card has not been changed yet.");var t=n.state.currentCard;n.saveCard(t).then(n.setCurrentCard).catch(n.flashError)}}),Object.defineProperty(n,"handleFlash",{enumerable:!0,writable:!0,value:function(e){return n.setState({flash:e.flash})}}),Object.defineProperty(n,"handleFlashClear",{enumerable:!0,writable:!0,value:function(e){n.state.flash&&n.state.flash.id==e.id&&n.setState({flash:null})}}),Object.defineProperty(n,"handleRefresh",{enumerable:!0,writable:!0,value:function(){n.updatePackDeckAndCards().catch(n.flashError)}}),Object.defineProperty(n,"safeSelect",{enumerable:!0,writable:!0,value:function(e,t){e&&e.preventDefault(),t&&t.focusAndSelect()}}),Object.defineProperty(n,"buildNewCard",{enumerable:!0,writable:!0,value:function(){return{answer:"",name:"",prompt:"",question:"",number:null}}}),Object.defineProperty(n,"cardChanged",{enumerable:!0,writable:!0,value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if((0,k.isBlank)(e.cardId))return!0;t||(t=n.state.cards);var r=!1;return t.forEach(function(t){t.cardId==e.cardId&&S.forEach(function(n){t[n]==e[n]||(r=!0)})}),r}}),Object.defineProperty(n,"clearFlash",{enumerable:!0,writable:!0,value:function(){return n.setState({flash:null})}}),Object.defineProperty(n,"countSelected",{enumerable:!0,writable:!0,value:function(e){var t=0;return Object.keys(e).forEach(function(n){e[n]&&(t+=1)}),t}}),Object.defineProperty(n,"createCard",{enumerable:!0,writable:!0,value:function(e){var t="packs/"+n.state.pack.packId+"/decks/"+n.state.deck.deckId+"/cards",r={};return S.forEach(function(t){return r[t]=e[t]}),(0,i.apiPost)(t,r).then(function(e){var t=n.state.cards.slice();return t.length>0&&!t[t.length-1].cardId&&t.pop(),t.push(e),n.setState({cards:t}),e})}}),Object.defineProperty(n,"findCard",{enumerable:!0,writable:!0,value:function(e){for(var t=n.state.cards,r=0;r<t.length;r++)if(t[r].cardId==e)return t[r];return null}}),Object.defineProperty(n,"findNextCard",{enumerable:!0,writable:!0,value:function(e){var t=n.state.cards;if(!e)return t[0]||n.buildNewCard();for(var r=-1,o=0;o<t.length;o++)t[o].cardId==e.cardId&&(r=o);return r<0?t[0]||n.buildNewCard():t[r+1]||n.buildNewCard()}}),Object.defineProperty(n,"findPrevCard",{enumerable:!0,writable:!0,value:function(e){var t=n.state.cards,r=t.length-1;if(!e)return t[r]||n.buildNewCard();for(var o=-1,i=0;i<t.length;i++)t[i].cardId==e.cardId&&(o=i);return o<0?t[r]||n.buildNewCard():t[o-1]||t[r]||n.buildNewCard()}}),Object.defineProperty(n,"flashError",{enumerable:!0,writable:!0,value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r={level:"error",message:(0,k.upperCaseFirst)(e.message),title:t};e.errors&&(r.errors=e.errors),n.setState({flash:r})}}),Object.defineProperty(n,"navigateToNextCard",{enumerable:!0,writable:!0,value:function(e){n.setCurrentCard(n.findNextCard(e))}}),Object.defineProperty(n,"navigateToPrevCard",{enumerable:!0,writable:!0,value:function(e){n.setCurrentCard(n.findPrevCard(e))}}),Object.defineProperty(n,"parseUrl",{enumerable:!0,writable:!0,value:function(){var e=window.location.pathname.split("/"),t=Number(e[5]);return isNaN(t)&&(t=null),{packId:Number(e[3]),deckId:Number(e[4]),cardId:t,cardIdRaw:e[5]}}}),Object.defineProperty(n,"pushHistory",{enumerable:!0,writable:!0,value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r={packId:n.state.pack.packId,deckId:n.state.deck.deckId,cardId:e.cardId||"new"},o="/l/beta_edit/"+r.packId+"/"+r.deckId+"/"+r.cardId;t?window.history.replaceState(r,null,o):window.history.pushState(r,null,o)}}),Object.defineProperty(n,"saveAndNavigate",{enumerable:!0,writable:!0,value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=n.state.currentCard;n.state.currentChanged?e?n.saveCardAndPrevCard(t).catch(n.flashError):n.saveCardAndNextCard(t).catch(n.flashError):e?n.navigateToPrevCard(t):n.navigateToNextCard(t)}}),Object.defineProperty(n,"saveCard",{enumerable:!0,writable:!0,value:function(e){return(e.cardId?n.updateCard(e):n.createCard(e)).then(function(e){return n.clearFlash(),e})}}),Object.defineProperty(n,"saveCardAndNextCard",{enumerable:!0,writable:!0,value:function(e){return n.saveCard(e).then(n.navigateToNextCard)}}),Object.defineProperty(n,"saveCardAndPrevCard",{enumerable:!0,writable:!0,value:function(e){return n.saveCard(e).then(n.navigateToPrevCard)}}),Object.defineProperty(n,"saveCardAndSelect",{enumerable:!0,writable:!0,value:function(e,t){return n.saveCard(e).then(function(){var e=n.findCard(t);e&&n.setCurrentCard(e)})}}),Object.defineProperty(n,"selectedCardIds",{enumerable:!0,writable:!0,value:function(){var e=[],t=n.state.cardSelections;return Object.keys(t).forEach(function(n){t[n]&&e.push(n)}),e}}),Object.defineProperty(n,"selectQuestion",{enumerable:!0,writable:!0,value:function(){n.questionInput.current&&n.questionInput.current.focusAndSelect()}}),Object.defineProperty(n,"setCurrentCard",{enumerable:!0,writable:!0,value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=o({currentCard:e,currentChanged:!1,showPrompt:!(0,k.isBlank)(e.prompt)},t);if(!e.cardId){var i=n.state.cards;i.length<1?r.cards=[e]:i[i.length-1].cardId&&(r.cards=[].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(i),[e]))}var a=n.selectQuestion;n.state.currentCard.cardId!=e.cardId&&(a=function(){n.pushHistory(e),n.selectQuestion()}),n.setState(r,a)}}),Object.defineProperty(n,"updateCard",{enumerable:!0,writable:!0,value:function(e){var t="packs/"+n.state.pack.packId+"/decks/"+n.state.deck.deckId+"/cards/"+e.cardId,r={};return S.forEach(function(t){return r[t]=e[t]}),(0,i.apiPatch)(t,r).then(function(e){return p.default.emitEvent("card:updated",{card:e}),e})}}),Object.defineProperty(n,"updatePackDeckAndCards",{enumerable:!0,writable:!0,value:function(){var e="packs/"+n.props.pack.packId+"/decks/"+n.props.deck.deckId+"/cards";return(0,i.apiGet)(e).then(function(e){var t={pack:e.pack,deck:e.deck,cards:e.cards};n.setState(t,function(){var e=n.findCard(n.state.currentCard.cardId);n.setCurrentCard(e||n.state.cards[0]||n.buildNewCard())})})}}),Object.defineProperty(n,"urlMatches",{enumerable:!0,writable:!0,value:function(e){var t=n.parseUrl();return!(!e.cardId||e.cardId!=t.cardId)||!e.cardId&&"new"==t.cardIdRaw}}),n.state={allSelected:!1,busy:!1,cardSelections:{},cards:e.cards,currentCard:e.initialCard,currentChanged:!1,deck:e.deck,deckStatus:null,flash:e.flash,pack:e.pack,showPrompt:!(0,k.isBlank)(e.initialCard.prompt),sortEnabled:!1},n.answerInput=g.default.createRef(),n.events=new p.default,n.questionInput=g.default.createRef(),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,g.default.Component),t}();C.propTypes=w;var S=["aImageUrl","aSoundUrl","answer","name","prompt","qImageUrl","qSoundUrl","question"],P=function(e){return e.enabled?g.default.createElement("div",{className:"editor-pane-header section"},g.default.createElement("div",{className:"section-block",style:{alignItems:"center"}},"Prompt:",g.default.createElement(b.default,{id:"prompt",onChange:e.onChange,onKeyDown:e.onKeyDown,value:e.card.prompt}))):null};P.propTypes={card:m.default.object.isRequired,enabled:m.default.bool.isRequired,onChange:m.default.func.isRequired,onKeyDown:m.default.func.isRequired},t.default=C,e.exports=t.default},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var o=c(n(2)),i=c(n(4)),a=c(n(3)),s=c(n(0)),l=n(7);function c(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":r(t))&&"function"!=typeof t?e:t}function p(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var f={card:a.default.object.isRequired,deck:a.default.object.isRequired,links:a.default.object.isRequired,pack:a.default.object.isRequired},h=function(e){var t=e.deck,n=e.links,r=e.pack;return s.default.createElement("div",{className:"editor-pane-header section"},s.default.createElement("div",{className:"section-block"},s.default.createElement("div",{className:"breadcrumbs"},s.default.createElement("a",{href:n.library},"My Classes"),s.default.createElement("span",{className:"separator"},"/"),s.default.createElement("a",{href:n.pack},r.name),s.default.createElement("span",{className:"separator"},"/"),s.default.createElement("span",{className:"deck-name"},t.name),s.default.createElement(m,{deckId:t.deckId,packId:r.packId}))),s.default.createElement("div",{className:"ctrls section-block"},s.default.createElement(b,{url:n.study}),s.default.createElement(g,{deckId:t.deckId,packId:r.packId})))};h.propTypes=f;var m=function(e){function t(e){u(this,t);var n=d(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return Object.defineProperty(n,"render",{enumerable:!0,writable:!0,value:function(){return s.default.createElement(l.EditButton,{isDisabled:n.state.busy,isProcessing:n.state.busy,onClick:n.handleClick,title:"Edit Deck Info"})}}),Object.defineProperty(n,"handleClick",{enumerable:!0,writable:!0,value:function(){n.setState({busy:!0}),o.default.emitEvent("deck-info-modal:open",{deckId:n.props.deckId,onReady:function(){return n.setState({busy:!1})},packId:n.props.packId})}}),n.state={busy:!1},n}return p(t,s.default.Component),t}();m.propTypes={deckId:a.default.number.isRequired,packId:a.default.number.isRequired};var g=function(e){function t(e){u(this,t);var n=d(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return Object.defineProperty(n,"render",{enumerable:!0,writable:!0,value:function(){return s.default.createElement(i.default,{addClasses:"small-cta-action",isProcessing:n.state.busy,label:"Preview",onClick:n.handleClick,type:"neutral"})}}),Object.defineProperty(n,"handleClick",{enumerable:!0,writable:!0,value:function(){n.setState({busy:!0}),o.default.emitEvent("deck-preview-modal:open",{deckId:n.props.deckId,onReady:function(){return n.setState({busy:!1})},packId:n.props.packId})}}),n.state={busy:!1},n}return p(t,s.default.Component),t}();g.propTypes={deckId:a.default.number.isRequired,packId:a.default.number.isRequired};var b=function(e){function t(){var e,n,r;u(this,t);for(var o=arguments.length,a=Array(o),l=0;l<o;l++)a[l]=arguments[l];return n=r=d(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),Object.defineProperty(r,"render",{enumerable:!0,writable:!0,value:function(){return s.default.createElement(i.default,{addClasses:"small-cta-action",label:"Study",onClick:r.handleClick,type:"neutral"})}}),Object.defineProperty(r,"handleClick",{enumerable:!0,writable:!0,value:function(){return window.location=r.props.url}}),d(r,n)}return p(t,s.default.Component),t}();b.propTypes={url:a.default.string.isRequired},t.default=h,e.exports=t.default},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(3)),i=a(n(0));function a(e){return e&&e.__esModule?e:{default:e}}var s={title:o.default.string.isRequired},l=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":r(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return Object.defineProperty(n,"render",{enumerable:!0,writable:!0,value:function(){var e=n.state.hidden?"Show":"Hide",t=null;return n.state.hidden||(t=i.default.createElement("div",{className:"body"},n.props.children)),i.default.createElement("div",{className:"hidden-section"},i.default.createElement("div",{className:"header"},i.default.createElement("div",{className:"title"},n.props.title),i.default.createElement("a",{className:"ctlrs",href:"#",onClick:n.handleShowClick},e)),t)}}),Object.defineProperty(n,"handleShowClick",{enumerable:!0,writable:!0,value:function(e){e.preventDefault(),e.stopPropagation(),n.setState({hidden:!n.state.hidden})}}),n.state={hidden:!0},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default.Component),t}();l.propTypes=s,t.default=l,e.exports=t.default},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=h(n(39)),a=h(n(13)),s=h(n(6)),l=h(n(15)),c=h(n(4)),u=h(n(26)),d=h(n(0)),p=h(n(12)),f=h(n(1));function h(e){return e&&e.__esModule?e:{default:e}}var m=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":r(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return Object.defineProperty(n,"render",{enumerable:!0,writable:!0,value:function(){var e=f.default.toClassStr(["modal-set",n.props.addClasses]);return d.default.createElement("div",{className:e},n.renderInputModal(),n.renderConfirmationModal())}}),Object.defineProperty(n,"renderNoPacksWarning",{enumerable:!0,writable:!0,value:function(){return n.state.packRows?n.state.packRows.length>0?null:d.default.createElement("p",{className:"new-modal-message"},"There are no classes in your library into which you can place this deck. Create a new class first, if you wish to continue."):null}}),Object.defineProperty(n,"handleCancelButtonClick",{enumerable:!0,writable:!0,value:function(){n.props.onCloseRequest()}}),Object.defineProperty(n,"handleCloseConfirmationModalRequest",{enumerable:!0,writable:!0,value:function(){n.setState({isConfirmationModalOpen:!1,shouldOpenConfirmationModal:!1})}}),Object.defineProperty(n,"handleCopyAndPlaceButtonClick",{enumerable:!0,writable:!0,value:function(){n.setState({isProcessing:!0}),n.Deck.copyAndPlace({id:n.props.deckId,dstPackId:n.state.destinationPackId,srcPackId:n.props.packId,done:function(e){n.setState({isProcessing:!1}),n.showConfirmationModal()},fail:function(e,t){var n=t.message||e;f.default.handleError({operation:"Deck Copy and Place",errorMessage:"Something went wrong: "+n,errorObject:t,notifyUser:!0})}})}}),Object.defineProperty(n,"handlePacksPulldownButtonClick",{enumerable:!0,writable:!0,value:function(){n.setState({packsPulldownOpen:!n.state.packsPulldownOpen})}}),Object.defineProperty(n,"handlePacksPulldownOptionClick",{enumerable:!0,writable:!0,value:function(e){n.setState({packsPulldownOpen:!1,destinationPackId:e})}}),Object.defineProperty(n,"handlePacksPulldownOutsideClick",{enumerable:!0,writable:!0,value:function(){n.setState({packsPulldownOpen:!1})}}),Object.defineProperty(n,"handleInputModalClosed",{enumerable:!0,writable:!0,value:function(){n.state.shouldOpenConfirmationModal&&n.setState({isConfirmationModalOpen:!0})}}),Object.defineProperty(n,"closeModal",{enumerable:!0,writable:!0,value:function(){n.props.onCloseRequest()}}),Object.defineProperty(n,"getUserEditablePacks",{enumerable:!0,writable:!0,value:function(){var e=[];n.Pack.getEditables({done:function(t){var r=null;e=t.packs.map(function(e,t){return e.packID==n.props.packId&&(r=n.props.packId),{id:e.packID,label:e.name}}),n.setState({isLoadingPacks:!1,packRows:e,destinationPackId:r})},fail:function(e,t){f.default.handleError({operation:"Get Editable Packs",errorMessage:"Could not read the list of classes",errorObject:t,notifyUser:!0}),n.closeModal()}})}}),n.state={packRows:null,packsPulldownOpen:!1,destinationPackId:null,isConfirmationModalOpen:!1,isProcessing:!1,isLoadingPacks:!0,shouldOpenConfirmationModal:!1},n.Deck=new i.default,n.Pack=new l.default,n._isMounted=!1,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,d.default.Component),o(t,[{key:"componentDidMount",value:function(){this._isMounted=!0,this.props.isOpen&&this.getUserEditablePacks()}},{key:"componentDidUpdate",value:function(e){!e.isOpen&&this.props.isOpen&&this.getUserEditablePacks()}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"renderInputModal",value:function(){var e=this,t=null==this.state.destinationPackId||-1==this.state.destinationPackId;return d.default.createElement(s.default,{addClasses:"copy-and-place-deck-modal",isOpen:this.props.isOpen,onClosed:this.handleInputModalClosed,onCloseRequest:function(){return e.props.onCloseRequest()}},d.default.createElement("div",{className:"new-modal-title"},"Copy and Place Deck"),d.default.createElement("div",{className:"new-modal-guidance"},"You can copy decks into another class in your library."),this.renderNoPacksWarning(),this.renderPackSelector(),d.default.createElement("div",{className:"new-modal-actions"},d.default.createElement(c.default,{addClasses:"cancel-modal-button",label:"Cancel",onClick:this.handleCancelButtonClick}),d.default.createElement(c.default,{addClasses:"resolve-modal-button",isDisabled:t,isProcessing:this.state.isProcessing,label:"Copy and Place",onClick:this.handleCopyAndPlaceButtonClick})))}},{key:"renderPackSelector",value:function(){var e=this.state.packRows;return e&&e.length>0?d.default.createElement("div",{className:"pack-selector"},d.default.createElement("div",{className:"new-modal-message"},"Choose a class from your library into which to place the deck:"),d.default.createElement("div",{className:"pulldown-and-tooltip"},this.renderPacksPulldown(),d.default.createElement(a.default,{addClasses:"copy-place-info-tooltip"},d.default.createElement("div",{className:"tooltip-content"},d.default.createElement("p",{className:"tooltip-text"},"This is a list of the classes in your library where you have edit access."),d.default.createElement("p",{className:"tooltip-text"},"If you don't see the class you're looking for, ask the admin to give you edit access to the class, or create your own new class."))))):null}},{key:"renderPacksPulldown",value:function(){return this.state.isLoadingPacks?d.default.createElement(p.default,null):d.default.createElement(u.default,{addClasses:"packs-pulldown",isOpen:this.state.packsPulldownOpen,options:this.state.packRows,fieldName:"pack",placeholderText:"Select destination class...",selectedValue:this.state.destinationPackId||"-1",shouldSuppressNullOption:!1,onButtonClick:this.handlePacksPulldownButtonClick,onOptionClick:this.handlePacksPulldownOptionClick,onOutsideClick:this.handlePacksPulldownOutsideClick})}},{key:"renderConfirmationModal",value:function(){return d.default.createElement(s.default,{addClasses:"copy-deck-confirmation-modal",isOpen:this.state.isConfirmationModalOpen,onCloseRequest:this.handleCloseConfirmationModalRequest},d.default.createElement("div",{className:"new-modal-title"},"Deck Copy and Placement Started"),d.default.createElement("div",{className:"new-modal-message"},"This operation can take a while. We will send you an e-mail to notify you when the process is complete. Feel free to refresh this page to check as well."),d.default.createElement("div",{className:"new-modal-actions"},d.default.createElement(c.default,{addClasses:"resolve-modal-button",label:"Ok",onClick:this.handleCloseConfirmationModalRequest})))}},{key:"showConfirmationModal",value:function(){var e=this;this.setState({shouldOpenConfirmationModal:!0},function(){e.props.onCloseRequest()})}}]),t}();t.default=m,e.exports=t.default},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=l(n(35)),a=l(n(0)),s=l(n(1));function l(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":r(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return Object.defineProperty(n,"render",{enumerable:!0,writable:!0,value:function(){var e=s.default.toClassStr(["cram-paywall-upgrade-modal",n.props.addClasses]);return a.default.createElement(i.default,{addClasses:e,desiredAction:"Cram Paywall",isHardPaywall:n.props.isHardPaywall,isOpen:n.props.isOpen,message:n.renderMessage(),onCloseRequest:n.props.onCloseRequest,onHardPaywallCancellationRequest:n.props.onHardPaywallCancellationRequest,onHardPaywallResolutionRequest:n.props.onHardPaywallResolutionRequest,paywall:n.props.paywall,title:"Upgrade to Pro"})}}),n.state={isProcessing:!1},n._isMounted=!1,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default.Component),o(t,[{key:"componentDidMount",value:function(){this._isMounted=!0}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"renderMessage",value:function(){return a.default.createElement("div",{className:"benefits-messaging"},a.default.createElement("ul",{className:"benefits-list"},a.default.createElement("li",null,"No Forced Study Breaks"),a.default.createElement("li",null,"Reset Your Stats"),a.default.createElement("li",null,"Use Card Bookmarks"),a.default.createElement("li",null,"Create Advanced Flashcards"),a.default.createElement("li",null,"And Much More!")),a.default.createElement("div",{className:"new-modal-guidance"},"Or, if you know this class's creator, ",this.props.classCreator,", you can ask them for access."))}}]),t}();t.default=c,e.exports=t.default},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=u(n(6)),a=u(n(4)),s=u(n(0)),l=u(n(10)),c=u(n(1));function u(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":r(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={hasValidInput:!1,newDeckInfo:""},n._isMounted=!1,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.default.Component),o(t,[{key:"componentDidMount",value:function(){this._isMounted=!0}},{key:"UNSAFE_componentWillUpdate",value:function(e){!this.props.isOpen&&e.isOpen&&this.resetFields()}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"render",value:function(){var e=this;return s.default.createElement(i.default,{addClasses:"create-deck-modal",isOpen:this.props.isOpen,onCloseRequest:function(){return e.props.onCloseRequest()}},s.default.createElement("div",{className:"new-modal-title"},"Create New Deck"),s.default.createElement("div",{className:"new-modal-guidance"},"A Deck is a subset of Flashcards in a Class, similar to chapters in a book"),s.default.createElement("form",{className:"create-deck-form",onSubmit:function(t){return e.handleFormSubmit(t)}},s.default.createElement(l.default,{addClasses:"new-deck-name",caption:"Enter the title of your new deck above",hasInitialFocus:!0,id:"new-deck-name",onChange:function(t){return e.handleNameChange(t)},placeholder:"e.g. Cell Division, Capitals of Asia",value:this.state.newDeckInfo})),s.default.createElement("div",{className:"new-modal-actions"},s.default.createElement(a.default,{addClasses:"resolve-modal-button",isDisabled:!this.state.hasValidInput,isProcessing:this.props.isProcessing,label:"Continue",onClick:function(){return e.handleContinueButtonClick()}})))}},{key:"handleContinueButtonClick",value:function(){this.state.hasValidInput&&!this.props.isProcessing&&this.props.onNewDeckInfoEntered(this.state.newDeckInfo)}},{key:"handleFormSubmit",value:function(e){e.preventDefault(),e.stopPropagation(),this.state.hasValidInput&&!this.props.isProcessing&&this.props.onNewDeckInfoEntered(this.state.newDeckInfo)}},{key:"handleNameChange",value:function(e){var t=e.target.value,n=!c.default.isWhitespace(t);this.setState({hasValidInput:n,newDeckInfo:t})}},{key:"resetFields",value:function(){this.setState({hasValidInput:!1,newDeckInfo:""})}}]),t}();t.default=d,e.exports=t.default},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=u(n(6)),a=u(n(4)),s=u(n(0)),l=u(n(10)),c=u(n(1));function u(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":r(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={hasValidInput:!1,newPackName:""},n._isMounted=!1,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.default.Component),o(t,[{key:"componentDidMount",value:function(){this._isMounted=!0}},{key:"UNSAFE_componentWillUpdate",value:function(e){!this.props.isOpen&&e.isOpen&&this.resetFields()}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"render",value:function(){var e=this;return s.default.createElement(i.default,{addClasses:"create-pack-modal",isOpen:this.props.isOpen,onCloseRequest:function(){return e.props.onCloseRequest()}},s.default.createElement("div",{className:"new-modal-title"},"Create New Class"),s.default.createElement("div",{className:"new-modal-guidance"},"A Class is a set of Flashcards, grouped into Decks"),s.default.createElement("form",{className:"create-pack-form",onSubmit:function(t){return e.handleFormSubmit(t)}},s.default.createElement(l.default,{addClasses:"new-pack-name",caption:"Enter the title of your new class above",hasInitialFocus:!0,id:"new-pack-name",onChange:function(t){return e.handleNameChange(t)},placeholder:"e.g. Biology 101, Constitutional Law",value:this.state.newPackName})),s.default.createElement("div",{className:"new-modal-actions"},s.default.createElement(a.default,{addClasses:"resolve-modal-button",isDisabled:!this.state.hasValidInput,isProcessing:this.props.isProcessing,label:"Continue",onClick:function(){return e.handleContinueButtonClick()}})))}},{key:"handleContinueButtonClick",value:function(){this.state.hasValidInput&&!this.props.isProcessing&&this.props.onNewPackNameEntered(this.state.newPackName)}},{key:"handleFormSubmit",value:function(e){e.preventDefault(),e.stopPropagation(),this.state.hasValidInput&&!this.props.isProcessing&&this.props.onNewPackNameEntered(this.state.newPackName)}},{key:"handleNameChange",value:function(e){var t=e.target.value,n=!c.default.isWhitespace(t);this.setState({hasValidInput:n,newPackName:t})}},{key:"resetFields",value:function(){this.setState({hasValidInput:!1,newPackName:""})}}]),t}();t.default=d,e.exports=t.default},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var o=n(21),i=c(n(166)),a=c(n(6)),s=c(n(3)),l=c(n(0));function c(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":r(t))&&"function"!=typeof t?e:t}var d=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var s=arguments.length,c=Array(s),d=0;d<s;d++)c[d]=arguments[d];return n=r=u(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),Object.defineProperty(r,"render",{enumerable:!0,writable:!0,value:function(){return l.default.createElement(a.default,{addClasses:"ftue-prompt-modal",isOpen:!0,onCloseRequest:r.props.onClose,shouldIgnoreOverlayClick:!0},l.default.createElement("div",{className:"new-modal-title"},"How would you like to start?"),l.default.createElement("div",{className:"row"},l.default.createElement(i.default,{onClick:r.props.onLearn},l.default.createElement("div",{className:"ftue-icon"},l.default.createElement("i",{className:"ion-ios-search-strong"})),l.default.createElement("div",{className:"label"},"Find Flashcards")),l.default.createElement(i.default,{onClick:r.props.onCreate},l.default.createElement("div",{className:"ftue-icon"},l.default.createElement("i",{className:"ion-ios-plus-empty"})),l.default.createElement("div",{className:"label"},"Create Flashcards")),l.default.createElement(i.default,{onClick:r.props.onGetSmarter},l.default.createElement("div",{className:"ftue-icon"},l.default.createElement("img",{src:"/assets/knowledge_rehab.svg"})),l.default.createElement("div",{className:"label"},"Just Get Smarter!"))))}}),Object.defineProperty(r,"componentDidMount",{enumerable:!0,writable:!0,value:function(){(0,o.apiDelete)("users/me/flags/ftue_prompt").catch(function(e){return console.log(e)})}}),u(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.default.Component),t}();d.propTypes={onClose:s.default.func.isRequired,onCreate:s.default.func.isRequired,onGetSmarter:s.default.func.isRequired,onLearn:s.default.func.isRequired},t.default=d,e.exports=t.default},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(3)),i=a(n(0));function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":r(t))&&"function"!=typeof t?e:t}var l=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),l=0;l<o;l++)a[l]=arguments[l];return n=r=s(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),Object.defineProperty(r,"render",{enumerable:!0,writable:!0,value:function(){return i.default.createElement("a",{href:"#!",onClick:r.handleClick},r.props.children)}}),Object.defineProperty(r,"handleClick",{enumerable:!0,writable:!0,value:function(e){e.preventDefault(),e.stopPropagation(),r.props.onClick(e)}}),s(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default.Component),t}();l.propTypes={onClick:o.default.func.isRequired},t.default=l,e.exports=t.default},function(e,t,n){"use strict";(function(r){var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=l(n(0)),s=l(n(1));function l(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":o(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={index:n.props.index||-1,percentages:n.props.percentages,masteryRatio:n.props.masteryRatio,maxTries:3,tries:0,hasPlaceholder:n.props.hasPlaceholder||!1},n._isMounted=!1,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":o(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default.Component),i(t,[{key:"componentDidMount",value:function(){this._isMounted=!0,null!=this.props.packID&&(0!=this.props.forceRefetch?this._fetchMastery():this.removePlaceholder())}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"render",value:function(){var e=s.default.toClassStr(["progress",this.props.addClasses]);return null!=this.props.packID?a.default.createElement("div",{key:this.state.index,className:e},a.default.createElement("div",{className:"progress-bar",role:"progressbar","aria-valuenow":"{this.state.masteryRatio}","aria-valuemin":"0","aria-valuemax":"100",style:{width:this.state.masteryRatio+"%"}},a.default.createElement("span",{className:"sr-only"},this.state.masteryRatio,"% Complete."))):null!=this.props.deckID&&null!=this.state.percentages?a.default.createElement("div",{className:"progress"},this._renderConfidencePercentage(1),this._renderConfidencePercentage(2),this._renderConfidencePercentage(3),this._renderConfidencePercentage(4),this._renderConfidencePercentage(5)):(console.log("progressBar for unknown pack or deck missing mastery &/ percentages: ",JSON.stringify(this.props)),null)}},{key:"_renderConfidencePercentage",value:function(e){return a.default.createElement("div",{"data-index":e.toString(),className:"progress-bar progress-bar-confidence-"+e,style:{width:this.state.percentages[e].toString()+"%"}},a.default.createElement("span",{className:"sr-only"},this.state.percentages,"% rated a ",e,"."))}},{key:"_fetchMastery",value:function(){var e=this;r.ajax({url:"/packs/"+e.props.packID+"/stats",dataType:"json",method:"GET"}).done(function(t,n,r){e._isMounted&&t&&(e.setState({tries:e.state.tries+1,masteryRatio:t.mastery_ratio}),e.removePlaceholder())}).fail(function(t,n,r){console.log("pack-stats failed try: "+(e.state.tries+1).toString()+"; status: "+n),e.setState({tries:e.state.tries+1})})}},{key:"removePlaceholder",value:function(){var e=document.getElementById(this.props.placeholderId);if(e){e.classList.add("is-fading-out");var t=setTimeout(function(){e.classList.add("is-hidden"),clearTimeout(t)},750)}this.setState({hasPlaceholder:!1})}}]),t}();t.default=c,e.exports=t.default}).call(t,n(9))},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=l(n(0)),a=l(n(6)),s=l(n(169));function l(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":r(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default.Component),o(t,[{key:"render",value:function(){var e=this;return i.default.createElement(a.default,{addClasses:this.props.addClasses,isOpen:this.props.isOpen,onCloseRequest:function(){return e.props.onCloseRequest()}},i.default.createElement("div",{className:"text-center"},this.renderModalTitle(),i.default.createElement(s.default,{operation:this.props.operation,resourceTag:this.props.resourceTag,resourceId:this.props.resourceId,fieldsHash:this.props.fieldsHash,validationMessage:this.props.validationMessage,onChange:this.props.onChange,onSubmit:this.props.onSubmit,onCancel:this.props.onCancel,isInvalid:this.props.isInvalid,isDismissable:this.props.isDismissable,isProcessing:this.props.isProcessing,addClasses:this.props.addClasses})))}},{key:"renderModalTitle",value:function(){return this.props.title?i.default.createElement("div",{className:"new-modal-title"},this.props.title):null}}]),t}();t.default=c,e.exports=t.default},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=d(n(4)),a=d(n(34)),s=d(n(0)),l=d(n(31)),c=d(n(10)),u=d(n(1));function d(e){return e&&e.__esModule?e:{default:e}}var p=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":r(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return Object.defineProperty(n,"renderActions",{enumerable:!0,writable:!0,value:function(){var e=[s.default.createElement(i.default,{addClasses:"cancel-modal-button",key:"cancelButton",label:"Cancel",onClick:n.props.onCancel})];return n.props.otherButton&&e.push(s.default.createElement(i.default,{addClasses:"resolve-modal-button",isProcessing:n.props.isProcessing,key:"otherButton",onClick:n.props.onOther})),e.push(s.default.createElement(i.default,{addClasses:"resolve-modal-button",isProcessing:n.props.isProcessing,key:"otherButton",label:n.props.submitButton||"Save",onClick:n.handleSubmit})),s.default.createElement("div",{className:"new-modal-actions"},e)}}),Object.defineProperty(n,"handleTextChange",{enumerable:!0,writable:!0,value:function(e){e.stopPropagation(),n.props.onChange(e.target.name,e.target.value)}}),Object.defineProperty(n,"handleRadioChange",{enumerable:!0,writable:!0,value:function(e,t){n.props.onChange(e,t)}}),Object.defineProperty(n,"handleSubmit",{enumerable:!0,writable:!0,value:function(){n.props.onSubmit()}}),n.state={},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.default.Component),o(t,[{key:"render",value:function(){var e=u.default.toClassStr(["resource-form",this.props.operation+"-resource-form",this.props.isInvalid?"is-invalid":"",this.props.addClasses]);return s.default.createElement("form",{className:e,onSubmit:this.handleSubmit},this.renderDismissButton(),this.renderFormFields(),this.renderValidationMessage(),this.renderActions())}},{key:"renderDismissButton",value:function(){return this.props.isDismissable?s.default.createElement("div",{className:"dismiss-button",onClick:this.props.onCancel},"Dismiss"):null}},{key:"renderFormFields",value:function(){var e=this;return Object.keys(this.props.fieldsHash).map(function(t,n){var r=e.props.fieldsHash[t];switch(r.type){case"text":return e.renderTextField(r,n);case"textarea":return e.renderTextareaField(r,n);case"pulldown":return e.renderPulldownField(r,n);case"radio":return e.renderRadioField(r,n);case"checkbox":return e.renderCheckboxField(r,n)}})}},{key:"renderTextField",value:function(e,t){return s.default.createElement(c.default,{id:e.id,key:t,name:e.key,value:e.value||"",label:e.label,caption:e.caption,placeholder:e.placeholder,isInvalid:e.isInvalid,addClasses:e.tag,onChange:this.handleTextChange})}},{key:"renderTextareaField",value:function(e,t){return s.default.createElement(l.default,{id:e.id,key:t,name:e.key,value:e.value||"",label:e.label,caption:e.caption,placeholder:e.placeholder,isInvalid:e.isInvalid,addClasses:e.tag,onChange:this.handleTextChange})}},{key:"renderRadioField",value:function(e,t){var n=this;return s.default.createElement(a.default,{id:e.id,key:t,name:e.key,label:e.label,caption:e.caption,value:e.value,buttons:e.options,isInline:!0,addClasses:e.tag,onClick:function(t){return n.handleRadioChange(e.key,t)}})}},{key:"renderValidationMessage",value:function(){return this.props.validationMessage?s.default.createElement("div",{className:"validation-message"},this.props.validationMessage):null}}]),t}();t.default=p,e.exports=t.default},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=u(n(6)),a=u(n(4)),s=u(n(0)),l=u(n(8)),c=u(n(1));function u(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":r(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={},n._isMounted=!1,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.default.Component),o(t,[{key:"componentDidMount",value:function(){this._isMounted=!0}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"render",value:function(){var e=this;return s.default.createElement(i.default,{addClasses:"opportunities-modal",isOpen:this.props.isOpen,onCloseRequest:function(){return e.props.onCloseRequest()}},s.default.createElement("div",{className:"new-modal-title"},"Earn Money"),s.default.createElement("div",{className:"new-modal-message"},"Made some excellent content in Brainscape (or could you)?  Earn money as a Campus Rep or Verified Author!"),s.default.createElement("div",{className:"new-modal-message"},"Are you a company wanting to provide (or sell) content for study in Brainscape? Check out our reseller / licensing program."),s.default.createElement("div",{className:"new-modal-actions"},s.default.createElement(a.default,{addClasses:"resolve-modal-button",label:"Learn More",onClick:function(){return e.handleBreakMeOffButtonClick()}}),s.default.createElement(l.default,{addClasses:"cancel-modal-text-button",label:"No Thanks",onClick:function(){return e.props.onCloseRequest()}})))}},{key:"handleBreakMeOffButtonClick",value:function(){this.props.onCloseRequest(),c.default.navigate("https://brainscape.zendesk.com/hc/en-us/articles/115002370011-Can-I-earn-money-from-my-flashcards-")}}]),t}();t.default=d,e.exports=t.default},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=p(n(13)),a=p(n(6)),s=p(n(4)),l=p(n(3)),c=p(n(34)),u=p(n(0)),d=p(n(1));function p(e){return e&&e.__esModule?e:{default:e}}var f={addClasses:l.default.string,isOpen:l.default.bool,metadata:l.default.object,onUpdatePackMetadataRequest:l.default.func,pack:l.default.object},h=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":r(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return Object.defineProperty(n,"handleInstructorButtonClick",{enumerable:!0,writable:!0,value:function(){n.updatePackRole("Instructor")}}),Object.defineProperty(n,"handlePurposeDoneButtonClick",{enumerable:!0,writable:!0,value:function(){n.updatePackPurpose()}}),Object.defineProperty(n,"handlePurposeRadioButtonClick",{enumerable:!0,writable:!0,value:function(e){n.setState({isAddPurposePulldownOpen:!1,selectedPurposeId:e})}}),Object.defineProperty(n,"handleRoleModalClosed",{enumerable:!0,writable:!0,value:function(){n.setState({isPurposeModalOpen:!0})}}),Object.defineProperty(n,"handleStudentButtonClick",{enumerable:!0,writable:!0,value:function(){n.updatePackRole("Student")}}),Object.defineProperty(n,"updatePackPurpose",{enumerable:!0,writable:!0,value:function(){n.setState({isProcessingPurposeUpdate:!0}),n.props.onUpdatePackMetadataRequest({fieldId:n.state.selectedPurposeId,value:!0,callback:function(){n.setState({isProcessingPurposeUpdate:!1,isPurposeModalOpen:!1})}})}}),Object.defineProperty(n,"updatePackRole",{enumerable:!0,writable:!0,value:function(e){var t=n.props.metadata.global.role.field_id;n.setState({isProcessingRoleUpdate:!0}),n.props.onUpdatePackMetadataRequest({fieldId:t,value:e,callback:function(){n.setState({isProcessingRoleUpdate:!1,isRoleModalOpen:!1})}})}}),n.state={isAddPurposePulldownOpen:!1,isRoleModalOpen:n.props.isOpen,isPurposeModalOpen:!1,isProcessingRoleUpdate:!1,isProcessingPurposeUpdate:!1,purposeOptions:[],selectedPurposeId:null},n._isMounted=!1,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u.default.Component),o(t,[{key:"componentDidMount",value:function(){this._isMounted=!0,this.setPurposeOptions()}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"render",value:function(){var e=d.default.toClassStr(["required-pack-metadata-modal-set",this.props.addClasses]);return u.default.createElement("div",{className:e},this.renderRoleModal(),this.renderPurposeModal())}},{key:"renderRoleModal",value:function(){var e=this;return u.default.createElement(a.default,{addClasses:"pack-metadata-role-modal",isOpen:this.state.isRoleModalOpen,isUndismissable:!0,onClosed:this.handleRoleModalClosed},u.default.createElement("div",{className:"new-modal-title"},"Customize your Class (1 of 2)"),u.default.createElement("div",{className:"new-modal-subtitle"},"Your Role"),u.default.createElement("div",{className:"new-modal-guidance"},"Which best describes your connection to this class?"),u.default.createElement("div",{className:"new-modal-message"},"I am:"),u.default.createElement("div",{className:"new-modal-actions"},u.default.createElement(s.default,{addClasses:"resolve-modal-button",label:"The Instructor",onClick:function(){return e.handleInstructorButtonClick()}}),u.default.createElement(s.default,{addClasses:"resolve-modal-button",label:"A Student",onClick:function(){return e.handleStudentButtonClick()}})))}},{key:"renderPurposeModal",value:function(){return u.default.createElement(a.default,{addClasses:"pack-metadata-purpose-modal",isOpen:this.state.isPurposeModalOpen,isUndismissable:!0},u.default.createElement("div",{className:"new-modal-title"},"Customize your Class (2 of 2)"),u.default.createElement("div",{className:"new-modal-subtitle"},"Class Purpose"),u.default.createElement("div",{className:"guidance-and-tooltip"},u.default.createElement("div",{className:"new-modal-guidance"},"What best describes the purpose of this class?"),u.default.createElement(i.default,{addClasses:"purpose-choice-tooltip",label:"purpose-choice-tooltip",place:"right"},u.default.createElement("div",{className:"tooltip-content"},u.default.createElement("div",{className:"tooltip-heading"},"Purpose"),u.default.createElement("p",{className:"tooltip-text"},u.default.createElement("span",{className:"purpose-label"},"School / University:"),u.default.createElement("span",{className:"purpose-explanation"},"e.g. prep for quizzes and tests.")),u.default.createElement("p",{className:"tooltip-text"},u.default.createElement("span",{className:"purpose-label"},"Standardized Test:"),u.default.createElement("span",{className:"purpose-explanation"},"e.g. entrance exams like SAT or MCAT")),u.default.createElement("p",{className:"tooltip-text"},u.default.createElement("span",{className:"purpose-label"},"Professional Certification:"),u.default.createElement("span",{className:"purpose-explanation"},"e.g. Series 7, USMLE")),u.default.createElement("p",{className:"tooltip-text"},u.default.createElement("span",{className:"purpose-label"},"Job Skills:"),u.default.createElement("span",{className:"purpose-explanation"},"e.g. company training, or other skills not related to a standardized certification")),u.default.createElement("p",{className:"tooltip-text"},u.default.createElement("span",{className:"purpose-label"},"Foreign Language:"),u.default.createElement("span",{className:"purpose-explanation"},"e.g. Arabic (general; NOT for a specific class at school)"))))),u.default.createElement(c.default,{addClasses:"pack-purpose-buttons",buttons:this.state.purposeOptions,isInline:!1,name:"purposeOption",onClick:this.handlePurposeRadioButtonClick,value:this.state.selectedPurposeId}),u.default.createElement("div",{className:"new-modal-actions"},u.default.createElement(s.default,{addClasses:"resolve-modal-button",isDisabled:!this.state.selectedPurposeId,isProcessing:this.state.isProcessingPurposeUpdate,label:"Done",onClick:this.handlePurposeDoneButtonClick})))}},{key:"setPurposeOptions",value:function(){var e=this.props.metadata.purposes,t=[];Object.keys(e).forEach(function(n,r){var o=e[n];t.push({value:o.field_id,label:o.field_label})}),this.setState({purposeOptions:t})}}]),t}();h.propTypes=f,t.default=h,e.exports=t.default},function(e,t,n){"use strict";(function(r){var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=c(n(6)),s=c(n(4)),l=c(n(0));function c(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":o(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return Object.defineProperty(n,"handleHoursChange",{enumerable:!0,writable:!0,value:function(e){n.setState({hours:e.target.value})}}),Object.defineProperty(n,"handleSubjectChange",{enumerable:!0,writable:!0,value:function(e){n.setState({subject:e.target.value}),n.saveDfltText("Study:Reminder:Subject",e.target.value)}}),Object.defineProperty(n,"handleBodyChange",{enumerable:!0,writable:!0,value:function(e){n.setState({body:e.target.value}),n.saveDfltText("Study:Reminder:Body",e.target.value)}}),Object.defineProperty(n,"onSetReminder",{enumerable:!0,writable:!0,value:function(){n.setState({processing:!0},function(){var e={body:n.state.body,hours:n.state.hours,subject:n.state.subject};r.ajax({method:"POST",url:"/api/study/reminder",dataType:"json",data:e}).done(n.onSuccess).fail(n.onFail)})}}),Object.defineProperty(n,"onSuccess",{enumerable:!0,writable:!0,value:function(){n.props.onClose&&n.props.onClose(),alert("The study reminder email has been queued!"),window.location="/"}}),Object.defineProperty(n,"onFail",{enumerable:!0,writable:!0,value:function(e){var t="Unknow Error";e&&e.responseJSON&&e.responseJSON.error&&(t=e.responseJSON.error),alert("Study Reminder Error: "+t)}}),Object.defineProperty(n,"dfltText",{enumerable:!0,writable:!0,value:function(e,t){try{var n=localStorage.getItem(e);if(n)return n}catch(e){console.error("Study Reminder Local Storage Error:",e)}return t}}),Object.defineProperty(n,"saveDfltText",{enumerable:!0,writable:!0,value:function(e,t){try{localStorage.setItem(e,t)}catch(e){console.error("Study Reminder Local Storage Error:",e)}}}),Object.defineProperty(n,"dfltSubject",{enumerable:!0,writable:!0,value:function(){return n.dfltText("Study:Reminder:Subject","Study break is over!")}}),Object.defineProperty(n,"dfltBody",{enumerable:!0,writable:!0,value:function(){var e=n.props.name?n.props.name+" ":"";return n.dfltText("Study:Reminder:Body","As requested, we are reminding you to continue studying "+e+"in Brainscape.  Use the Brainscape website or mobile app to keep up your progress!")}}),n.state={body:n.dfltBody(),hours:e.hours,processing:!1,subject:n.dfltSubject()},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":o(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.default.Component),i(t,[{key:"render",value:function(){var e=this.props.email,t=Util.toClassStr(["set-reminder-modal",this.props.addClasses]),n=l.default.createElement("input",{name:"hours",onChange:this.handleHoursChange,style:{width:"2.5em",textAlign:"center"},type:"number",value:this.state.hours});return l.default.createElement(a.default,{addClasses:t,isOpen:!0,onCloseRequest:this.props.onClose},l.default.createElement("div",{className:"new-modal-title"},"Set Reminder"),l.default.createElement("div",{className:"new-modal-message"},"We'll send an email to ",l.default.createElement("b",null,e)," in ",n," hours."),l.default.createElement("div",{className:"new-modal-message",style:{textAlign:"left"}},l.default.createElement("div",{style:{fontWeight:"bold",fontSize:"0.75em"}},"Subject"),l.default.createElement("input",{name:"subject",onChange:this.handleSubjectChange,style:{width:"30em"},value:this.state.subject})),l.default.createElement("div",{className:"new-modal-message",style:{textAlign:"left"}},l.default.createElement("div",{style:{fontWeight:"bold",fontSize:"0.75em"}},"Body"),l.default.createElement("textarea",{name:"body",onChange:this.handleBodyChange,rows:3,style:{width:"30em"},value:this.state.body})),l.default.createElement("div",{className:"new-modal-actions"},l.default.createElement(s.default,{addClasses:"cancel-modal-button",isProcessing:this.props.isProcessing,label:"Cancel"}),l.default.createElement(s.default,{addClasses:"resolve-modal-button",isProcessing:this.state.processing,label:"Set Reminder",onClick:this.onSetReminder})))}}]),t}();t.default=u,e.exports=t.default}).call(t,n(9))},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=c(n(6)),a=c(n(4)),s=c(n(0)),l=c(n(1));function c(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":r(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.default.Component),o(t,[{key:"render",value:function(){var e=this;if(!this.props.show)return null;var t=l.default.toClassStr(["apple-payment-modal",this.props.addClasses]);return s.default.createElement(i.default,{addClasses:t,isOpen:this.props.show,onCloseRequest:function(){return e.props.onClose()}},s.default.createElement("div",{className:"new-modal-title"},"Apple App Store Payment Method"),s.default.createElement("div",{className:"new-modal-message"},"Your billing is currently handled by the Apple App Store. Please review your billing info or make changes directly with the App Store."),s.default.createElement("div",{className:"new-modal-actions"},s.default.createElement(a.default,{addClasses:"resolve-modal-button",label:"Ok",onClick:function(){return e.props.onClose()}})))}}]),t}();t.default=u,e.exports=t.default},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=d(n(6)),a=d(n(4)),s=d(n(0)),l=d(n(8)),c=d(n(281)),u=d(n(1));function d(e){return e&&e.__esModule?e:{default:e}}var p=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":r(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return Object.defineProperty(n,"handleCloseModal",{enumerable:!0,writable:!0,value:function(){n.props.onClose()}}),Object.defineProperty(n,"handleConfirmCancelClick",{enumerable:!0,writable:!0,value:function(){n.setState({isProcessingCancellation:!0}),n.Subscription.delete({reqData:{authenticity_token:n.props.authenticityToken,billing_id:n.props.subscriptionBillingId},done:function(e){n.setState({phase:2,isProcessingCancellation:!1}),n.props.onSuccess()},fail:function(e){console.log("something went wrong in Subscription.delete. message:",e),n.setState({phase:3,isProcessingCancellation:!1}),n.props.onError()}})}}),n.state={phase:n.props.initialPhase||1,isProcessingCancellation:!1},n.Subscription=new c.default,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.default.Component),o(t,[{key:"render",value:function(){return this.props.show?1==this.state.phase?this.renderPhase1Modal():2==this.state.phase?this.renderPhase2Modal():this.renderErrorModal():null}},{key:"renderPhase1Modal",value:function(){var e=u.default.toClassStr(["cancel-subscription-modal phase-1",this.props.addClasses]);return s.default.createElement(i.default,{addClasses:e,isOpen:this.props.show,onCloseRequest:this.handleCloseModal},s.default.createElement("div",{className:"new-modal-title"},"Leaving so soon?"),s.default.createElement("div",{className:"new-modal-message"},"Have you really accomplished your learning goals for now? You might want to ",s.default.createElement("a",{href:"/pricing"},"review all the great benefits")," you get with Brainscape Pro before you sever ties."),s.default.createElement("div",{className:"new-modal-guidance"},"Note: Canceling may forfeit your access to your flashcards and your study data (or that of your students). You will also lose your ability to lock in these low prices before they go up."),s.default.createElement("div",{className:"new-modal-actions"},s.default.createElement(a.default,{addClasses:"cancel-modal-button",label:"Do Not Cancel",onClick:this.handleCloseModal}),s.default.createElement(l.default,{addClasses:"resolve-modal-text-button",isProcessing:this.state.isProcessingCancellation,label:"Cancel Subscription",onClick:this.handleConfirmCancelClick,spinnerColor:"blue"})))}},{key:"renderPhase2Modal",value:function(){var e=u.default.toClassStr(["cancel-subscription-modal phase-2",this.props.addClasses]);return s.default.createElement(i.default,{addClasses:e,isOpen:this.props.show,onCloseRequest:this.handleCloseModal},s.default.createElement("div",{className:"new-modal-title"},"Sorry to see you go!"),s.default.createElement("div",{className:"new-modal-message"},"Your Brainscape Pro subscription has been canceled.  We would really appreciate if you could fill out this ",s.default.createElement("a",{href:"https://docs.google.com/forms/d/e/1FAIpQLSeF7_xR8huiX6J7XDoqq9MaszOcO0bYWIinX7zm5TspKGAXFQ/viewform?vc=0&c=0&w=1",target:"_blank"},"quick 2-min survey")," to help us better understand how we lost you."),s.default.createElement("div",{className:"new-modal-message"},"Thank you in advance for helping us improve Brainscape!"),s.default.createElement("div",{className:"new-modal-actions"},s.default.createElement(a.default,{addClasses:"cancel-modal-button",label:"Ok",onClick:this.handleCloseModal})))}},{key:"renderErrorModal",value:function(){var e=u.default.toClassStr(["cancel-subscription-modal phase-3",this.props.addClasses]);return s.default.createElement(i.default,{addClasses:e,isOpen:this.props.show,onCloseRequest:this.handleCloseModal},s.default.createElement("div",{className:"new-modal-title"},"Problem"),s.default.createElement("div",{className:"new-modal-message"},"There was a problem encountered while processing your subscription cancellation."),s.default.createElement("div",{className:"new-modal-message"},"Please contact our customer service department at: ",s.default.createElement("a",{href:"mailto:support@brainscape.zendesk.com"},"support@brainscape.zendesk.com")),s.default.createElement("div",{className:"new-modal-message"},s.default.createElement("a",{href:"https://brainscape.zendesk.com/hc/en-us/articles/115003978012-How-do-I-cancel-my-Pro-subscription-and-any-future-billings",target:"_blank"},"Additional Information on Canceling")),s.default.createElement("div",{className:"new-modal-actions"},s.default.createElement(a.default,{addClasses:"cancel-modal-button",label:"Ok",onClick:this.handleCloseModal})))}}]),t}();t.default=p,e.exports=t.default},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=c(n(6)),a=c(n(4)),s=c(n(0)),l=c(n(1));function c(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":r(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.default.Component),o(t,[{key:"render",value:function(){var e=this;if(!this.props.show)return null;var t=l.default.toClassStr(["google-payment-modal",this.props.addClasses]);return s.default.createElement(i.default,{addClasses:t,isOpen:this.props.show,onCloseRequest:function(){return e.props.onClose()}},s.default.createElement("div",{className:"new-modal-title"},"Google Play Payment Method"),s.default.createElement("div",{className:"new-modal-message"},"Your billing is currently handled by Google Play. Please review your billing info or make changes directly with Google Play."),s.default.createElement("div",{className:"new-modal-actions"},s.default.createElement(a.default,{addClasses:"resolve-modal-button",label:"Ok",onClick:function(){return e.props.onClose()}})))}}]),t}();t.default=u,e.exports=t.default},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=l(n(0)),a=l(n(281)),s=l(n(1));function l(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":r(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={},n.stripeHandler=null,n.Subscription=new a.default,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default.Component),o(t,[{key:"componentDidMount",value:function(){var e=this;this.stripeHandler=StripeCheckout.configure({description:"Web and Mobile Study Platform",email:this.props.userEmail,image:"./assets/bsc_icon.png",key:this.props.stripeKey,panelLabel:this.props.buttonLabel,locale:"auto",name:"Brainscape",token:function(t){return e.handleSubmitToServer(t)},zipCode:!0})}},{key:"componentWillUnmount",value:function(){this.stripeHandler.close()}},{key:"render",value:function(){var e=this,t=s.default.toClassStr(["stripe-checkout-widget",this.props.addClasses]);return i.default.createElement("div",{className:t},i.default.createElement("div",{className:"trigger-element",onClick:function(t){return e.handleTriggerClick(t)}},i.default.createElement("span",{className:"trigger-label"},this.props.triggerText),i.default.createElement("span",{className:"glyphicon glyphicon-pencil"})))}},{key:"handleTriggerClick",value:function(e){e.stopPropagation(),this.stripeHandler.open(),e.preventDefault()}},{key:"handleSubmitToServer",value:function(e){var t=this;this.Subscription.update({reqData:{authenticity_token:this.props.authenticityToken,billing_id:this.props.subscriptionBillingId,stripeToken:e.id},done:function(e){t.props.onSuccess&&t.props.onSuccess(e)},fail:function(e){t.props.onError&&t.props.onError(data)}})}}]),t}();t.default=c,e.exports=t.default},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=(l(n(27)),l(n(52))),a=l(n(0)),s=l(n(1));function l(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":r(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return Object.defineProperty(n,"handleCardHelpBubbleCollapse",{enumerable:!0,writable:!0,value:function(){n.setState({isCardHelpBubbleOpen:!1},function(){n.state.shouldCollapseCardHelpBubble||n.props.onDismissFtueRequest()})}}),Object.defineProperty(n,"handleDeckHelpBubbleCollapse",{enumerable:!0,writable:!0,value:function(){n.setState({isDeckHelpBubbleOpen:!1},function(){n.state.shouldCollapseDeckHelpBubble||n.props.onDismissFtueRequest()})}}),Object.defineProperty(n,"handlePackHelpBubbleCollapse",{enumerable:!0,writable:!0,value:function(){n.setState({isPackHelpBubbleOpen:!1},function(){n.state.shouldCollapsePackHelpBubble||n.props.onDismissFtueRequest()})}}),n.state={isPackHelpBubbleOpen:!1,shouldCollapsePackHelpBubble:!1,isDeckHelpBubbleOpen:!1,shouldCollapseDeckHelpBubble:!1,isCardHelpBubbleOpen:!1,shouldCollapseCardHelpBubble:!1},n._isMounted=!1,n.pulseCreatePackButtonTimeout=null,n.pulseCreateDeckButtonTimeout=null,n.pulseAddCardsButtonTimeout=null,n.PRE_PULSE_CREATE_PACK_BUTTON_DELAY=3e3,n.PRE_PULSE_CREATE_DECK_BUTTON_DELAY=3e3,n.PRE_PULSE_ADD_CARDS_BUTTON_DELAY=3e3,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default.Component),o(t,[{key:"componentDidMount",value:function(){this._isMounted=!0,this.clearTimeoutsAndIntervals(),this.invokeFtue()}},{key:"componentDidUpdate",value:function(e){e.phase!=this.props.phase&&this.managePhaseChange()}},{key:"componentWillUnmount",value:function(){this.clearTimeoutsAndIntervals(),this._isMounted=!1}},{key:"render",value:function(){var e=s.default.toClassStr(["ftue-messaging",this.props.addClasses]);return a.default.createElement("div",{className:e},this.renderPackHelpBubble(),this.renderDeckHelpBubble(),this.renderCardHelpBubble())}},{key:"renderPackHelpBubble",value:function(){if(!this.state.isPackHelpBubbleOpen)return null;var e=this.props.isMobileViewportSize?"small":"medium";return a.default.createElement(i.default,{expansionDelay:1e3,message:"Let's help you set up your first Class, which is a container for your Flashcards. Click the plus sign at the upper left to create your Class.",onClose:this.handlePackHelpBubbleCollapse,size:e,shouldAutoContract:!1,shouldClose:this.state.shouldCollapsePackHelpBubble,shouldContract:!0,shouldExpand:!0,shouldPulseTitle:!1,title:"Welcome!"})}},{key:"renderDeckHelpBubble",value:function(){if(!this.state.isDeckHelpBubbleOpen)return null;var e=this.props.isMobileViewportSize?"topRight":"bottomRight",t=this.props.isMobileViewportSize?"small":"medium";return a.default.createElement(i.default,{corner:e,expansionDelay:1e3,message:"To help organize your Class, you'll create 'Decks' to group Flashcards (like chapters in a book). Click the orange 'Create New Deck' button to create at least one Deck.",onClose:this.handleDeckHelpBubbleCollapse,size:t,shouldAutoContract:!1,shouldClose:this.state.shouldCollapseDeckHelpBubble,shouldContract:!0,shouldExpand:!0,shouldPulseTitle:!1,title:"Great!"})}},{key:"renderCardHelpBubble",value:function(){if(!this.state.isCardHelpBubbleOpen)return null;var e=this.props.isMobileViewportSize?"topRight":"bottomLeft",t=this.props.isMobileViewportSize?"small":"medium";return a.default.createElement(i.default,{corner:e,expansionDelay:1e3,message:"Next, you will use the Flashcard editor to create your Flashcards. Click the green 'Add Cards' button above to continue.",onClose:this.handleCardHelpBubbleCollapse,size:t,shouldAutoContract:!1,shouldClose:this.state.shouldCollapseCardHelpBubble,shouldContract:!0,shouldExpand:!0,shouldPulseTitle:!1,title:"Ready for Flashcards"})}},{key:"pulseAddCardsButton",value:function(){var e=this;clearTimeout(this.pulseAddCardsButtonTimeout),this.pulseAddCardsButtonTimeout=setTimeout(function(){e.props.onPulseAddCardsButtonRequest()},this.PRE_PULSE_ADD_CARDS_BUTTON_DELAY)}},{key:"pulseCreatePackButton",value:function(){var e=this;clearTimeout(this.pulseCreatePackButtonTimeout),this.pulseCreatePackButtonTimeout=setTimeout(function(){e.props.onPulseCreatePackButtonRequest()},this.PRE_PULSE_CREATE_PACK_BUTTON_DELAY)}},{key:"pulseCreateDeckButton",value:function(){var e=this;clearTimeout(this.pulseCreateDeckButtonTimeout),this.pulseCreateDeckButtonTimeout=setTimeout(function(){e.props.onPulseCreateDeckButtonRequest()},this.PRE_PULSE_CREATE_DECK_BUTTON_DELAY)}},{key:"clearTimeoutsAndIntervals",value:function(){clearTimeout(this.pulseCreatePackButtonTimeout),clearTimeout(this.pulseCreateDeckButtonTimeout),clearTimeout(this.pulseAddCardsButtonTimeout)}},{key:"invokeFtue",value:function(){var e=this;this.setState({isPackHelpBubbleOpen:!0},function(){s.default.trackDashboardProgress("ftue_intro_create"),e.pulseCreatePackButton()})}},{key:"managePhaseChange",value:function(){switch(this.props.phase){case"packHelp":this.setState({isPackHelpBubbleOpen:!0});break;case"createPack":this.setState({shouldCollapsePackHelpBubble:!0});break;case"deckHelp":this.setState({isDeckHelpBubbleOpen:!0}),this.pulseCreateDeckButton();break;case"createDeck":this.setState({shouldCollapseDeckHelpBubble:!0});break;case"cardHelp":this.setState({isCardHelpBubbleOpen:!0}),this.pulseAddCardsButton()}}}]),t}();t.default=c,e.exports=t.default},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(7),a=u(n(91)),s=u(n(0)),l=u(n(12)),c=u(n(1));function u(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":r(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={},n._isMounted=!1,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.default.Component),o(t,[{key:"componentDidMount",value:function(){this._isMounted=!0}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"render",value:function(){var e=this,t=c.default.displayNumber(this.props.userPackCount)||"-";return s.default.createElement("div",{className:"dashboard-mobile-topbar"},s.default.createElement("div",{className:"back-button-and-class-count"},s.default.createElement(i.BackButton,{addClasses:"dashboard-back-button",onClick:function(t){return e.handleMobileHomeButtonClick(t)}}),s.default.createElement("div",{className:"class-count",onClick:function(t){return e.handleMobileClassCountClick(t)}},"My Classes (",t,")")),s.default.createElement("div",{className:"branding",onClick:function(t){return e.handleMobileHomeButtonClick(t)}},s.default.createElement("span",{className:"dom-only"},"Brainscape")),this.renderDashboardMobileOptionsButton())}},{key:"renderDashboardMobileOptionsButton",value:function(){return this.props.isLoadingUserInfo?s.default.createElement("div",{className:"options-button image"},s.default.createElement(l.default,null)):s.default.createElement(a.default,{iconImageUrl:this.props.userAvatarUrl,iconType:"image",isUserPro:this.props.isUserPro,openPosition:"bottomLeft",shouldButtonTurn:!1,userAvatarUrl:this.props.userAvatarUrl,userProfilePath:this.props.userProfilePath})}},{key:"handleMobileClassCountClick",value:function(e){e&&e.stopPropagation(),this.props.onShowClassesRequest()}},{key:"handleMobileHomeButtonClick",value:function(e){e&&e.stopPropagation(),this.props.onShowClassesRequest()}}]),t}();t.default=d,e.exports=t.default},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=C(n(74)),a=C(n(59)),s=C(n(116)),l=C(n(60)),c=C(n(61)),u=C(n(62)),d=C(n(126)),p=C(n(77)),f=C(n(128)),h=C(n(131)),m=C(n(133)),g=C(n(3)),b=C(n(0)),v=C(n(143)),y=C(n(144)),k=C(n(86)),_=C(n(148)),w=C(n(51));function C(e){return e&&e.__esModule?e:{default:e}}var S={isUserPro:g.default.bool.isRequired},P=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":r(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={},n._isMounted=!1,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,b.default.Component),o(t,[{key:"componentDidMount",value:function(){this._isMounted=!0}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"render",value:function(){return b.default.createElement("div",{className:"modal-controllers"},b.default.createElement(l.default,null),b.default.createElement(s.default,null),b.default.createElement(u.default,null),b.default.createElement(d.default,null),b.default.createElement(f.default,null),b.default.createElement(h.default,null),b.default.createElement(m.default,null),b.default.createElement(v.default,null),b.default.createElement(y.default,null),b.default.createElement(k.default,null),b.default.createElement(_.default,null),b.default.createElement(a.default,null),b.default.createElement(c.default,null),b.default.createElement(i.default,null),b.default.createElement(p.default,null),b.default.createElement(w.default,null))}}]),t}();P.propTypes=S,t.default=P,e.exports=t.default},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(7),a=y(n(91)),s=y(n(2)),l=y(n(13)),c=y(n(170)),u=y(n(87)),d=y(n(35)),p=y(n(4)),f=y(n(0)),h=y(n(181)),m=y(n(8)),g=y(n(182)),b=y(n(12)),v=y(n(1));function y(e){return e&&e.__esModule?e:{default:e}}var k=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":r(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return Object.defineProperty(n,"handlePaginationButtonClick",{enumerable:!0,writable:!0,value:function(){n.props.onPaginatePacksRequest()}}),Object.defineProperty(n,"handleRemovePackRequest",{enumerable:!0,writable:!0,value:function(e){var t=e.isMarket?". (You can always re-add it using the find classes button)":"",r="remove the "+e.name+" class from your library"+t;n.triggerConfirmRemovePackModalOpen({actionText:r,resolveButtonText:"Yes, remove class",onResolution:function(){return n.props.onRemovePackRequest(e.id)}})}}),Object.defineProperty(n,"handleSeeAllTrendingPacksButtonClick",{enumerable:!0,writable:!0,value:function(){v.default.navigate("/learn","Loading Certified Classes...")}}),Object.defineProperty(n,"manageScrollEvents",{enumerable:!0,writable:!0,value:function(){var e=n.myClassesSection.getBoundingClientRect().top,t=e==n.scrollPosition?"none":e>n.scrollPosition?"up":"down",r=e==n.scrollTop,o=n.state.isHeaderCollapsed;return n.scrollPosition=e,!n.shouldPauseHeaderChanges&&!(t==n.state.scrollDirection&&!r)&&(r&&!n.state.isAtScrollTop?(o=!1,n.shouldPauseHeaderChanges=!0):n.state.isHeaderCollapsed||"down"!=t||n.shouldPauseHeaderChanges||(o=!0),void n.setState({isAtScrollTop:r,isHeaderCollapsed:o,scrollDirection:t}))}}),Object.defineProperty(n,"startScrollMonitor",{enumerable:!0,writable:!0,value:function(){n.scrollTop=n.sidebarSections.getBoundingClientRect().top,n.scrollPosition=n.myClassesSection.getBoundingClientRect().top,n.manageScrollEvents(),n.sidebarSections.addEventListener("scroll",n.manageScrollEvents)}}),Object.defineProperty(n,"stopScrollMonitor",{enumerable:!0,writable:!0,value:function(){n.sidebarSections.removeEventListener("scroll",n.manageScrollEvents)}}),n.state={isAtScrollTop:!1,isFilterUpgradeModalOpen:!1,isHeaderCollapsed:!1,isOpportunitiesModalOpen:!1,isUserPacksFilterEnabled:!1,isSiteMenuOpen:!1,scrollDirection:null},n.sidebarSections=null,n.myClassesSection=null,n.scrollTop=0,n.scrollPosition=0,n.shouldPauseHeaderChanges=!1,n.ENABLE_FILTER_PACK_COUNT=6,n.headerTransitionTimeout=null,n.resumeHeaderChangesTimeout=null,n._isMounted=!1,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,f.default.Component),o(t,[{key:"componentDidMount",value:function(){this._isMounted=!0,this.clearTimeoutsAndIntervals()}},{key:"componentDidUpdate",value:function(e,t){var n=this;!e.shouldMonitorSidebarScrolling&&this.props.shouldMonitorSidebarScrolling&&this.startScrollMonitor(),t.isHeaderCollapsed!=this.state.isHeaderCollapsed&&(this.clearTimeoutsAndIntervals(),this.headerTransitionTimeout=setTimeout(function(){n.scrollTop=n.sidebarSections.getBoundingClientRect().top},500),this.resumeHeaderChangesTimeout=setTimeout(function(){n.shouldPauseHeaderChanges=!1},1e3))}},{key:"componentWillUnmount",value:function(){this.stopScrollMonitor(),this.clearTimeoutsAndIntervals(),this._isMounted=!1}},{key:"render",value:function(){var e=this,t=this.props.isUserPro?"is-pro":"",n=this.state.isHeaderCollapsed?"collapse-header":"",r=v.default.toClassStr(["dashboard-sidebar",t,n,this.props.addClasses]),o=this.props.isMobileViewportSize?"bottomLeft":"bottomRight",s=v.default.displayNumber(this.props.userPackCount)||0;return f.default.createElement("div",{className:r},f.default.createElement("header",{className:"dashboard-sidebar-header"},f.default.createElement("div",{className:"first-row"},f.default.createElement("div",{className:"branding"},f.default.createElement("span",{className:"dom-only"},"Brainscape")),this.renderUser(),f.default.createElement(a.default,{isUserPro:this.props.isUserPro,openPosition:o,shouldButtonTurn:!0,title:"Manage account, log out",userProfilePath:this.props.userProfilePath})),f.default.createElement("div",{className:"second-row"},f.default.createElement("h4",{className:"my-classes-heading"},"My Classes (",s,")"),f.default.createElement("div",{className:"action-buttons"},f.default.createElement(i.AddButton,{addClasses:this.props.shouldPulseCreatePackButton?"pulse":"",onClick:function(){return e.handleCreatePackButtonClick()},title:"Create your own Flashcards"}),f.default.createElement(i.SearchButton,{onClick:function(){return e.handleFindClassButtonClick()},title:"Find Flashcards on Brainscape"})))),f.default.createElement("div",{className:"sidebar-sections",ref:function(t){e.sidebarSections=t}},f.default.createElement("section",{className:"sidebar-section my-classes",ref:function(t){e.myClassesSection=t}},this.renderUserPacksFilter(),this.renderUserPacks(),this.renderUserPacksFooter()),f.default.createElement("section",{className:"sidebar-section trending-classes"},f.default.createElement("header",{className:"sidebar-section-header trending-classes-header"},f.default.createElement("h4",{className:"section-heading trending-classes-heading"},"Trending Certified Classes"),f.default.createElement(l.default,{addClasses:"trending-classes-tooltip"},f.default.createElement("div",{className:"tooltip-content"},f.default.createElement("p",{className:"tooltip-text"},"These are classes created by Brainscape and our content partners."),f.default.createElement("p",{className:"tooltip-text"},"They have been thoroughly reviewed for accuracy, comprehensiveness, and learning effectiveness.")))),this.renderTrendingPacks(),this.renderTrendingPacksFooter())),f.default.createElement("footer",{className:"dashboard-sidebar-footer"},f.default.createElement(i.MoneyButton,{onClick:function(){return e.handleMoneyButtonClick()},title:"Earn money from your flashcards"}),this.renderUpgradeButton(),this.renderGetTheAppButton(),f.default.createElement(u.default,{addClasses:"site-menu-button",iconType:"vertical",onClick:function(){return e.handleSiteMenuButtonClick()},title:"Brainscape Site"})),this.renderSiteMenu(),this.renderOpportunitiesModal())}},{key:"renderEmptyLibrary",value:function(){return f.default.createElement("div",{className:"empty-library-message"},f.default.createElement("p",{className:"main-message"},"Your library is empty."),f.default.createElement("p",{className:"prompt"},"Search for classes to study by using the search icon above, or use the plus icon above to create your own class."))}},{key:"renderFilterUpgradeModal",value:function(){var e=this;return this.props.isUserPro?null:f.default.createElement(d.default,{desiredAction:"Filter Classes",isOpen:this.state.isFilterUpgradeModalOpen,paywall:"filter_classes",onCloseRequest:function(){return e.handleFilterUpgradeModalCloseRequest()},userCategory:this.props.userCategory})}},{key:"renderGetTheAppButton",value:function(){var e=this;return this.props.isLoadingUserInfo||!this.props.isUserPro||this.props.userHasMobileActivity?null:f.default.createElement(p.default,{addClasses:"get-the-app-button",label:"Get the App",onClick:function(){return e.handleGetTheAppButtonClick()}})}},{key:"renderNotificationsCount",value:function(){return this.props.shouldShowNotificationsCount&&this.props.userNotificationsCount&&0!=this.props.userNotificationsCount?f.default.createElement("div",{className:"user-notifications-count"},this.props.userNotificationsCount):null}},{key:"renderOpportunitiesModal",value:function(){var e=this;return f.default.createElement(c.default,{isOpen:this.state.isOpportunitiesModalOpen,onCloseRequest:function(){return e.handleOpportunitiesModalCloseRequest()}})}},{key:"renderSiteMenu",value:function(){var e=this;return f.default.createElement(g.default,{isOpen:this.state.isSiteMenuOpen,isUserBscAdmin:this.props.isUserBscAdmin,onCloseRequest:function(){return e.handleCloseSiteMenuRequest()}})}},{key:"renderSpinner",value:function(){return f.default.createElement(b.default,null)}},{key:"renderTrendingPack",value:function(e,t){var n=this;return f.default.createElement(h.default,{addClasses:"trending-pack",isTrendingPack:!0,isUserPack:!1,isUserPro:this.props.isUserPro,key:e.id,onAddTrendingPackRequest:this.props.onAddTrendingPackRequest,onTrendingPackClick:function(e){return n.handleTrendingPackClick(e)},onTrendingPackDetailRequest:this.props.onTrendingPackDetailRequest,sidebarPack:e})}},{key:"renderTrendingPacks",value:function(){var e=this;if(this.props.isLoadingTrendingPacks)return f.default.createElement("div",{className:"loading-packs"},this.renderSpinner());if(!this.props.trendingPacks||this.props.trendingPacks.length<1)return null;var t=this.props.trendingPacks.map(function(t,n){return e.renderTrendingPack(t,n)});return f.default.createElement("ul",{className:"trending-packs"},t)}},{key:"renderTrendingPacksFooter",value:function(){return f.default.createElement("footer",{className:"trending-packs-footer"},f.default.createElement(m.default,{addClasses:"see-all-trending-packs-button",label:"See all Certified Classes",onClick:this.handleSeeAllTrendingPacksButtonClick}))}},{key:"renderUpgradeButton",value:function(){var e=this;return this.props.isLoadingUserInfo||this.props.isUserPro?null:f.default.createElement(p.default,{addClasses:"upgrade-button",label:"Upgrade to Pro",onClick:function(){return e.handleUpgradeButtonClick()}})}},{key:"renderUser",value:function(){var e=this;if(this.props.isLoadingUserInfo)return f.default.createElement("div",{className:"user"},this.renderSpinner());var t=v.default.displayNumber(this.props.userCardsStudied),n=v.default.displayNumber(this.props.userDecksCreated);return f.default.createElement("div",{className:"user",onClick:function(t){return e.handleUserAvatarClick(t)}},f.default.createElement("div",{className:"user-avatar"},f.default.createElement("img",{className:"user-avatar-image",src:this.props.userAvatarUrl}),this.renderNotificationsCount()),f.default.createElement("h3",{className:"user-name",title:this.props.userName},this.props.userName),f.default.createElement("div",{className:"user-stats"},t," Total Cards Studied \u2022 ",n,"\xa0Decks\xa0Created"))}},{key:"renderUserPack",value:function(e,t){var n=this,r=e.id==this.props.currentPackId,o=e.isMarket?"is-certified":"",i=v.default.toClassStr(["user-pack",o]);return f.default.createElement(h.default,{addClasses:i,isSelected:r,isMarketPack:e.isMarket,isTrendingPack:!1,isUserPack:!0,isUserPro:this.props.isUserPro,key:e.id,onRemovePackRequest:this.handleRemovePackRequest,onUserPackClick:function(e){return n.handleUserPackClick(e)},sidebarPack:e})}},{key:"renderUserPacks",value:function(){var e=this;if(this.props.isLoadingUserPacks)return f.default.createElement("div",{className:"loading-packs"},this.renderSpinner());if(!this.props.userPacks||this.props.userPacks.length<1)return this.renderEmptyLibrary();var t=this.props.locallyFilteredUserPacks.map(function(t,n){return e.renderUserPack(t,n)});return f.default.createElement("ul",{className:"user-packs"},t)}},{key:"renderUserPacksFilter",value:function(){var e=this;if(this.props.isLoadingUserPacks||this.props.hasEmptyLibrary||this.props.userPacks.length<this.ENABLE_FILTER_PACK_COUNT)return null;var t=this.props.userPacksFilterText.length>0?"has-text":"",n=this.props.isUserPro?"":"pro-required",r=this.props.shouldShowUserPacksFilter?"is-showing":"",o=v.default.toClassStr(["filter-box",t,n,r]);return f.default.createElement("div",{className:o},f.default.createElement("input",{className:"filter-text-input",type:"text",onChange:function(t){return e.handleFilterBoxChange(t)},onClick:function(t){return e.handleFilterBoxClick(t)},placeholder:"Filter Classes",value:this.props.userPacksFilterText}),f.default.createElement(i.ClearButton,{addClasses:"clear-filter-text-button",onClick:function(){return e.handleClearFilterTextButtonClick()}}),f.default.createElement(i.CollapseButton,{addClasses:"collapse-filter-text-button",onClick:function(){return e.handleCollapseFilterTextButtonClick()}}),this.renderFilterUpgradeModal())}},{key:"renderUserPacksFooter",value:function(){if(!this.props.userPacks||this.props.userPackCount<=this.props.packsPageSize*this.props.packsPageIndex)return null;var e=v.default.displayNumber(this.props.userPackCount);return f.default.createElement("footer",{className:"user-packs-footer"},f.default.createElement(m.default,{addClasses:"pagination-button",isProcessing:this.props.isProcessingPackPagination,label:"See all "+e+" Classes",onClick:this.handlePaginationButtonClick}))}},{key:"handleClearFilterTextButtonClick",value:function(){this.props.onFilterUserPacksRequest("")}},{key:"handleCollapseFilterTextButtonClick",value:function(){document.querySelector(".sidebar-pack").scrollIntoView()}},{key:"handleCloseSiteMenuRequest",value:function(){this.setState({isSiteMenuOpen:!1})}},{key:"handleCreatePackButtonClick",value:function(e){this.props.onCreatePackRequest()}},{key:"handleFilterBoxChange",value:function(e){var t=e.target.value;this.props.onFilterUserPacksRequest(t)}},{key:"handleFilterBoxClick",value:function(e){if(e.stopPropagation(),this.props.isUserPro)return null;this.setState({isFilterUpgradeModalOpen:!0})}},{key:"handleFilterUpgradeModalCloseRequest",value:function(){this.setState({isFilterUpgradeModalOpen:!1})}},{key:"handleFindClassButtonClick",value:function(e){v.default.navigate("/subjects","Loading Knowledge Genome...")}},{key:"handleGetTheAppButtonClick",value:function(){this.triggerGetTheAppModalOpen({})}},{key:"handleMoneyButtonClick",value:function(){this.setState({isOpportunitiesModalOpen:!0})}},{key:"handleOpportunitiesModalCloseRequest",value:function(){this.setState({isOpportunitiesModalOpen:!1})}},{key:"handleSiteMenuButtonClick",value:function(){this.setState({isSiteMenuOpen:!0})}},{key:"handleTrendingPackClick",value:function(e){this.props.isMobileViewportSize&&this.props.onShowPackDetailRequest(),this.props.onTrendingPackClick(e)}},{key:"handleUpgradeButtonClick",value:function(){v.default.navigate("/pricing?paywall=upgrade")}},{key:"handleUserAvatarClick",value:function(e){e&&e.stopPropagation(),v.default.navigate(this.props.userProfilePath,"Loading your profile...")}},{key:"handleUserPackClick",value:function(e){this.props.isMobileViewportSize&&this.props.onShowPackDetailRequest(),this.props.onUserPackClick(e)}},{key:"triggerConfirmRemovePackModalOpen",value:function(e){s.default.emitEvent("caution-modal:open",e)}},{key:"triggerConfirmRemovePackModalUpdate",value:function(e){s.default.emitEvent("caution-modal:update",e)}},{key:"triggerConfirmRemovePackModalClose",value:function(){s.default.emitEvent("caution-modal:close",{})}},{key:"triggerGetTheAppModalOpen",value:function(e){s.default.emitEvent("get-the-app-modal:open",e)}},{key:"clearTimeoutsAndIntervals",value:function(){clearTimeout(this.headerTransitionTimeout),clearTimeout(this.resumeHeaderChangesTimeout)}}]),t}();t.default=k,e.exports=t.default},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(7),a=d(n(0)),s=d(n(33)),l=d(n(8)),c=d(n(18)),u=d(n(1));function d(e){return e&&e.__esModule?e:{default:e}}var p=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":r(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return Object.defineProperty(n,"handleAddClassButtonClick",{enumerable:!0,writable:!0,value:function(){n.props.onAddTrendingPackRequest&&n.props.onAddTrendingPackRequest(n.props.sidebarPack.id)}}),Object.defineProperty(n,"handlePackClick",{enumerable:!0,writable:!0,value:function(e){e&&e.stopPropagation(),n.props.isUserPack&&n.props.onUserPackClick(n.props.sidebarPack),n.props.isTrendingPack&&n.props.onTrendingPackClick(n.props.sidebarPack)}}),Object.defineProperty(n,"handleRemoveClassButtonClick",{enumerable:!0,writable:!0,value:function(){n.props.onRemovePackRequest&&n.props.onRemovePackRequest(n.props.sidebarPack)}}),n.state={isProcessingTrendingPackDetail:!1},n._isMounted=!1,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default.Component),o(t,[{key:"componentDidMount",value:function(){this._isMounted=!0,this.props.isTrendingPack&&this.setupOnLingerHandler()}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"render",value:function(){return this.props.isTrendingPack?this.renderPackWithTooltip():this.renderPack()}},{key:"renderAddPackButton",value:function(){return this.props.isTrendingPack?a.default.createElement(i.AddButton,{addClasses:"add-class-button",isProcessing:this.state.isProcessingTrendingPackDetail,onClick:this.handleAddClassButtonClick}):null}},{key:"renderPack",value:function(){var e=this,t=this.props.isSelected?"is-selected":"",n=this.props.sidebarPack.isPrivate&&this.props.sidebarPack.isUserInvited&&!this.props.isUserPro?"pro-required":"",r=u.default.toClassStr(["sidebar-pack",t,n,this.props.addClasses]);return a.default.createElement("li",{className:r,onClick:this.handlePackClick,ref:function(t){e.sp=t}},a.default.createElement("div",{className:"pack-icon"},a.default.createElement("img",{className:"pack-icon-image",src:this.props.sidebarPack.iconUrl})),a.default.createElement("div",{className:"name-and-metadata"},a.default.createElement("div",{className:"pack-name",title:this.props.sidebarPack.name},this.props.sidebarPack.name),this.renderProgressBar()),this.renderRemovePackButton(),this.renderAddPackButton())}},{key:"renderPackWithTooltip",value:function(){var e="trending-pack-"+this.props.sidebarPack.id;return a.default.createElement(c.default,{label:e,place:"top",tooltipContent:this.renderTrendingPackTooltip()},this.renderPack())}},{key:"renderProgressBar",value:function(){if(!this.props.isUserPack)return null;var e=100*(this.props.sidebarPack.stats&&this.props.sidebarPack.stats.mastery||0);return a.default.createElement(s.default,{baseValue:100,barValue:e})}},{key:"renderRemovePackButton",value:function(){return this.props.isUserPack?a.default.createElement(i.DismissButton,{addClasses:"remove-class-button",onClick:this.handleRemoveClassButtonClick}):null}},{key:"renderTrendingPackTooltip",value:function(){if(!this.props.sidebarPack.detail)return null;var e=this.props.sidebarPack.detail,t=u.default.displayNumber(e.deckCount),n=u.default.displayNumber(e.cardCount),r=u.default.displayNumber(e.subscriberCount);return a.default.createElement("div",{className:"tooltip-content trending-pack-tooltip"},a.default.createElement("div",{className:"tooltip-heading"},this.props.sidebarPack.name),a.default.createElement("p",{className:"tooltip-text market-headline",dangerouslySetInnerHTML:{__html:e.marketHeadline}}),a.default.createElement("p",{className:"tooltip-text stats"},"Decks: ",t," | Cards: ",n," | Learners: ",r),a.default.createElement(l.default,{addClasses:"add-pack-button",label:"Add To Your Classes",onClick:this.handleAddClassButtonClick}))}},{key:"setupOnLingerHandler",value:function(){var e=this;u.default.onLinger(this.sp,function(t){t.preventDefault(),t.stopPropagation(),e.props.onTrendingPackDetailRequest&&(e.setState({isProcessingTrendingPackDetail:!0}),e.props.onTrendingPackDetailRequest(e.props.sidebarPack,function(){e.setState({isProcessingTrendingPackDetail:!1})}))},500)}}]),t}();t.default=p,e.exports=t.default},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(7),a=c(n(0)),s=c(n(46)),l=c(n(1));function c(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":r(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={shouldRender:n.props.isOpen},n._isMounted=!1,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default.Component),o(t,[{key:"componentDidMount",value:function(){this._isMounted=!0}},{key:"componentDidUpdate",value:function(e){!e.isOpen&&this.props.isOpen&&this.setState({shouldRender:!0})}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"render",value:function(){var e=this;return this.state.shouldRender?a.default.createElement(s.default,{addClasses:"site-menu-transition-wrapper",onTransitionedOut:function(){return e.handleTransitionedOut()},shouldTransitionIn:this.props.isOpen,shouldTransitionOut:!this.props.isOpen,transitionInDelay:100,transitionInDuration:500,transitionOutDuration:500},a.default.createElement("div",{className:"site-menu"},a.default.createElement(i.CollapseDownButton,{addClasses:"close-modal-button",onClick:function(){return e.handleCollapseButtonClick()}}),a.default.createElement("ul",{className:"site-links"},a.default.createElement("li",{className:"site-link help-center",onClick:function(t){return e.handleLinkInNewTabClick(t,"https://www.brainscape.com/faq")}},"Help Center"),a.default.createElement("li",{className:"site-link educators",onClick:function(t){return e.handleLinkClick(t,"/teachers")}},"Educators"),a.default.createElement("li",{className:"site-link companies",onClick:function(t){return e.handleLinkClick(t,"/companies")}},"Companies"),a.default.createElement("li",{className:"site-link about",onClick:function(t){return e.handleLinkClick(t,"/about")}},"About"),a.default.createElement("li",{className:"site-link pricing",onClick:function(t){return e.handleLinkClick(t,"/pricing?paywall=upgrade")}},"Pricing"),a.default.createElement("li",{className:"site-link contact",onClick:function(t){return e.handleLinkInNewTabClick(t,"/contact")}},"Contact"),a.default.createElement("li",{className:"site-link terms",onClick:function(t){return e.handleLinkClick(t,"/terms")}},"Terms"),a.default.createElement("li",{className:"site-link blog",onClick:function(t){return e.handleLinkInNewTabClick(t,"https://www.brainscape.com/blog")}},"Blog"),this.renderAdminLink()))):null}},{key:"renderAdminLink",value:function(){var e=this;return this.props.isUserBscAdmin?a.default.createElement("li",{className:"site-link admin",onClick:function(t){return e.handleLinkInNewTabClick(t,"/admin")}},"Admin"):null}},{key:"handleCollapseButtonClick",value:function(){this.props.onCloseRequest()}},{key:"handleLinkClick",value:function(e,t){e.stopPropagation(),l.default.navigate(t)}},{key:"handleLinkInNewTabClick",value:function(e,t){e.stopPropagation(),window.open(t,"_blank")}},{key:"handleTransitionedOut",value:function(){var e=this;this.setState({shouldRender:!1},function(){e.props.onClosed&&e.props.onClosed()})}}]),t}();t.default=u,e.exports=t.default},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=g(n(25)),a=g(n(48)),s=g(n(184)),l=g(n(195)),c=g(n(200)),u=g(n(202)),d=g(n(209)),p=(g(n(92)),g(n(4))),f=g(n(2)),h=g(n(0)),m=(g(n(18)),g(n(1)));function g(e){return e&&e.__esModule?e:{default:e}}n(30);var b=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":r(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return Object.defineProperty(n,"handleNewLearnerBubbleClosed",{enumerable:!0,writable:!0,value:function(){n.setState({shouldShowNewLearnerPrompt:!1},function(){n.setHasSeenNewLearnerBubblePref(!0)})}}),Object.defineProperty(n,"handlePackDeleted",{enumerable:!0,writable:!0,value:function(e){f.default.emitEvent("page-loading-overlay:open"),n.props.onPackDeleted(function(){e&&e(),f.default.emitEvent("page-loading-overlay:close")})}}),Object.defineProperty(n,"handlePackUpdated",{enumerable:!0,writable:!0,value:function(e){f.default.emitEvent("page-loading-overlay:open"),console.log("overlay should be showing before update"),n.props.onPackUpdated(function(){console.log("pack updated, overlay open"),e&&e(),f.default.emitEvent("page-loading-overlay:close"),console.log("overlay closed")})}}),Object.defineProperty(n,"handleStudyRequest",{enumerable:!0,writable:!0,value:function(e){if(e&&e.stopPropagation(),n.props.selectedDecks.length<1)return n.triggerDialogModalOpen({message:"Study Mix is disabled because there are no decks checked below. Check one or more decks (blue circles) to include them in your Study Mix.",resolveButtonText:"Ok",shouldSuppressCancelButton:!0,title:"Study Mix Disabled"}),null;var t=n.props.pack.userId,r=n.props.pack.packId;r="decks"==n.props.currentTabId?n.getOrderedPackDeckIds():n.props.selectedDecks,f.default.emitEvent("page-loading-overlay:open");var o=n.Library.getPackStudyMixUrl(t,n.props.pack,r);o+="&origin=dashboard",m.default.fireGaEvent("Study_Mix",n.state.studyMixType,r.length),m.default.followUrlDelayed(o)}}),Object.defineProperty(n,"handleUpgradeButtonClick",{enumerable:!0,writable:!0,value:function(){m.default.navigate("/pricing?paywall=private_access")}}),Object.defineProperty(n,"hasPurposeMetadata",{enumerable:!0,writable:!0,value:function(){for(var e=n.props.metadata.purposes,t=Object.keys(e),r=0;r<t.length;r++)if(e[t[r]].value)return!0;return!1}}),n.Library=new i.default,n.state={currentTabId:"decks",isPrivateClassOverlayOpen:!1,packSelectedState:n.getPackSelectedState(),shouldShowAddMetadataPrompt:!1,shouldShowNewLearnerPrompt:!1,studyMixType:n.getPackStudyMixType()},n.tabs={about:{id:"about",label:"About"},decks:{id:"decks",label:"Decks",count:0},learners:{id:"learners",label:n.props.pack.isMarket?"Leaderboard":"Learners",count:0}},n._isMounted=!1,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,h.default.Component),o(t,[{key:"componentDidMount",value:function(){this._isMounted=!0,this.props.isLoadingUserInfo||this.props.isLoadingPackDetail||(this.setupDashboardPackDetail(),this.setupNewLearnerPrompt())}},{key:"componentDidUpdate",value:function(e){(this.props.isLoadingUserInfo&&this.props.isLoadingPackDetail)!=(e.isLoadingUserInfo&&e.isLoadingPackDetail)?this.setupDashboardPackDetail():this.props.pack&&this.props.pack.packId!=e.pack.packId&&this.setupDashboardPackDetail(),e.learners!=this.props.learners&&this.setupNewLearnerPrompt(),e.metadata!=this.props.metadata&&this.setupAddMetadataPrompt()}},{key:"componentWillUnmount",value:function(){this.enablePackDetailClickEvents(),this._isMounted=!1}},{key:"render",value:function(){if(this.props.isLoadingUserInfo||this.props.isLoadingPackDetail)return null;var e=m.default.toClassStr(["pack-detail",this.props.addClasses]),t=(this.props.pack,this.props.learners&&this.props.learners.length||0);return h.default.createElement("div",{className:e},h.default.createElement(c.default,{authenticityToken:this.props.authenticityToken,currentTabId:this.props.currentTabId,isMobileViewportSize:this.props.isMobileViewportSize,learnersCount:t,onPackDeleted:this.handlePackDeleted,onPackUpdated:this.handlePackUpdated,onSetDeckSortability:this.props.onSetDeckSortability,onStudyRequest:this.handleStudyRequest,onTabClick:this.props.onTabClick,pack:this.props.pack,selectedDecks:this.props.selectedDecks,selectedDecksCardCount:this.props.mixStats.cardCount,selectedDecksCardsStudiedCount:this.props.mixStats.cardsStudied,selectedDecksMastery:this.props.mixStats.mastery,shouldShowAddMetadataPrompt:this.state.shouldShowAddMetadataPrompt,shouldShowNewLearnerPrompt:this.state.shouldShowNewLearnerPrompt,tabs:this.getTabsAndCounts()}),h.default.createElement("div",{className:"detail-sections",id:"detail-scroll-element"},this.renderPackAboutSection(),this.renderPackDecksSection(),this.renderPackLearnersSection(),this.renderPackLeaderboardSection()),this.renderPrivateClassOverlay())}},{key:"renderPackAboutSection",value:function(){return"about"!=this.props.currentTabId?null:h.default.createElement(s.default,{authenticityToken:this.props.authenticityToken,isMobileViewportSize:this.props.isMobileViewportSize,metadata:this.props.metadata,onPackMetadataUpdated:this.props.onPackMetadataUpdated,pack:this.props.pack,shouldShowAddMetadataPrompt:this.state.shouldShowAddMetadataPrompt})}},{key:"renderPackDecksSection",value:function(){var e=this;return"decks"!=this.props.currentTabId?null:h.default.createElement(l.default,{authenticityToken:this.props.authenticityToken,decksPageIndex:this.props.decksPageIndex,decksPageSize:this.props.decksPageSize,hasUserStudiedPack:this.props.hasUserStudiedPack,isFtse:this.props.isFtse,isFtue:this.props.isFtue,isMobileViewportSize:this.props.isMobileViewportSize,isProcessingDeckPagination:this.props.isProcessingDeckPagination,isUserPro:this.props.isUserPro,mixStats:this.props.mixStats,onCreateDeckRequest:function(){return e.props.onCreateDeckRequest()},onDeckCheckboxClick:function(t){return e.handleDeckCheckboxClick(t)},onPackCheckboxClick:function(){return e.handlePackCheckboxClick()},onPaginateDecksRequest:this.props.onPaginateDecksRequest,onSetStudyMixTypeRequest:function(t){return e.handleSetStudyMixTypeRequest(t)},onStudyRequest:this.handleStudyRequest,pack:this.props.pack,packSelectedState:this.state.packSelectedState,selectedDecks:this.props.selectedDecks,shouldPulseAddCardsButton:this.props.shouldPulseAddCardsButton,shouldPulseCreateDeckButton:this.props.shouldPulseCreateDeckButton,shouldPulseStudyButton:this.props.shouldPulseStudyButton,studyMixType:this.state.studyMixType})}},{key:"renderPackLeaderboardSection",value:function(){return this.props.pack.isMarket&&"learners"==this.props.currentTabId&&this.props.learners?h.default.createElement(d.default,{leaderboardOrder:this.props.leaderboardOrder,learners:this.props.learners,pack:this.props.pack,shouldRenderAsTiles:this.props.isMobileViewportSize,userId:this.props.userId}):null}},{key:"renderPackLearnersSection",value:function(){var e=this;return this.props.pack.isMarket||"learners"!=this.props.currentTabId||!this.props.learners?null:h.default.createElement(u.default,{areLearnersFullyPaginated:this.props.areLearnersFullyPaginated,areLearnersFullyPopulated:this.props.areLearnersFullyPopulated,authenticityToken:this.props.authenticityToken,hasEmptyLearnerSearchResults:this.props.hasEmptyLearnerSearchResults,isLoadingPackLearners:this.props.isLoadingPackLearners,isMobileViewportSize:this.props.isMobileViewportSize,isProcessingLearnerPagination:this.props.isProcessingLearnerPagination,isUserPro:this.props.isUserPro,learners:this.props.learners,learnersFilterText:this.props.learnersFilterText,learnersPageIndex:this.props.learnersPageIndex,learnersPageSize:this.props.learnersPageSize,learnersSortColumn:this.props.learnersSortColumn,learnersSortDirection:this.props.learnersSortDirection,locallyFilteredLearners:this.props.locallyFilteredLearners,onFilterLearnersRequest:function(t){return e.props.onFilterLearnersRequest(t)},onLearnerSearchBoxChange:this.props.onLearnerSearchBoxChange,onNewLearnerBubbleClosed:this.handleNewLearnerBubbleClosed,onPaginateLearnersRequest:function(){return e.props.onPaginateLearnersRequest()},onRemoveLocalLearnerRequest:this.props.onRemoveLocalLearnerRequest,onSearchLearnersRequest:this.props.onSearchLearnersRequest,onSortLearnersRequest:function(t,n){return e.props.onSortLearnersRequest(t,n)},onUpdateLocalLearnerRequest:this.props.onUpdateLocalLearnerRequest,pack:this.props.pack,shouldShowNewLearnerPrompt:this.state.shouldShowNewLearnerPrompt})}},{key:"renderPrivateClassOverlay",value:function(){return this.state.isPrivateClassOverlayOpen?h.default.createElement(a.default,{addClasses:"private-class-overlay",isOpen:this.state.isPrivateClassOverlayOpen,message:this.renderPrivateClassMessage(),shouldTransitionIn:!0}):null}},{key:"renderPrivateClassMessage",value:function(){return h.default.createElement("div",{className:"private-class-message"},h.default.createElement("div",{className:"private-class-heading"},"Private Class"),this.renderPrivateClassText(),h.default.createElement(p.default,{addClasses:"upgrade-to-pro-button",label:"Upgrade To Pro",onClick:this.handleUpgradeButtonClick}))}},{key:"renderPrivateClassText",value:function(){return this.props.pack.isUserInvited?h.default.createElement("div",{className:"private-class-text"},"You were invited to ",h.default.createElement("strong",null,this.props.pack.name),". It is a Private Class which requires Pro Access to study."):h.default.createElement("div",{className:"private-class-text"},h.default.createElement("strong",null,this.props.pack.name)," is a Private Class which requires Pro Access to study.")}},{key:"handleDeckCheckboxClick",value:function(e){var t=this,n=this.props.pack.userId,r=this.props.pack.packId;-1!=this.props.selectedDecks.indexOf(e)?this.Library.unselectPackDecks(n,r,[e]):this.Library.selectPackDecks(n,r,[e]),this.props.onDeckSelectionChange(function(){t.setState({packSelectedState:t.getPackSelectedState()})})}},{key:"handlePackCheckboxClick",value:function(){var e=this;"none"!=this.state.packSelectedState?this.unselectAllPackDecks():this.selectAllStudyablePackDecks(),this.props.onDeckSelectionChange(function(){e.setState({packSelectedState:e.getPackSelectedState()})})}},{key:"handleSetStudyMixTypeRequest",value:function(e){var t="random"==e?"random":"progressive",n=this.props.pack;this.setState({studyMixType:t}),this.Library.setPackStudyMixType(n.userId,n.packId,t)}},{key:"triggerDialogModalOpen",value:function(e){f.default.emitEvent("dialog-modal:open",e)}},{key:"getDeckSelectionData",value:function(){var e=this.props.pack;this.Library.syncPackDecks(e)}},{key:"getPackSelectedState",value:function(){var e=this.props.pack.deckCount,t=this.props.selectedDecks.length;return 0==t?"none":t==e?"all":"mixed"}},{key:"getPackStudyMixType",value:function(){return this.Library.getPackStudyMixType(this.props.userId,this.props.pack)}},{key:"getOrderedPackDeckIds",value:function(){for(var e=document.querySelectorAll(".deck-list .deck-row:not(.placeholder)"),t=[],n=0;n<e.length;++n)t.push(e[n].id);return t}},{key:"selectAllStudyablePackDecks",value:function(){var e=this.props.pack,t=e.userPackDecks,n=e.deckIds.filter(function(e){return t[e].isStudyable});this.Library.selectPackDecks(this.props.userId,e.packId,n),this.props.onDeckSelectionChange()}},{key:"setupDashboardPackDetail",value:function(){this.managePrivateClassOverlay(),this.getDeckSelectionData()}},{key:"unselectAllPackDecks",value:function(){var e=this.props.pack;this.Library.unselectPackDecks(this.props.userId,e.packId,e.deckIds),this.props.onDeckSelectionChange()}},{key:"managePrivateClassOverlay",value:function(){var e=this,t=this.props.pack;return!!t.isPrivate&&!t.isUserPro&&!t.isUserBscAdmin&&void this.setState({isPrivateClassOverlayOpen:!0},function(){e.disablePackDetailClickEvents()})}},{key:"disablePackDetailClickEvents",value:function(){document.querySelector(".pack-detail").addEventListener("click",this.filterForUpgradeButtonClick,!0)}},{key:"filterForUpgradeButtonClick",value:function(e){e.preventDefault(),e.stopPropagation(),e.target.closest(".pill-button").classList.contains("upgrade-to-pro-button")&&m.default.navigate("/pricing?paywall=private_access")}},{key:"enablePackDetailClickEvents",value:function(){document.querySelector(".pack-detail").removeEventListener("click",this.filterForUpgradeButtonClick,!0)}},{key:"getHasSeenNewLearnerBubblePref",value:function(){return!!this.Library.getUserLocalPref(this.props.pack.userId,"hasSeenNewLearnerBubble")}},{key:"getTabsAndCounts",value:function(){var e=this.tabs;return this.props.pack&&(e.decks.count=m.default.displayNumber(this.props.pack.deckCount)),this.props.learners&&(e.learners.count=m.default.displayNumber(this.props.pack.subscriberCount)),e}},{key:"setHasSeenNewLearnerBubblePref",value:function(e){this.Library.updateUserLocalPrefs(this.props.pack.userId,"hasSeenNewLearnerBubble",e)}},{key:"setupNewLearnerPrompt",value:function(){var e=!this.props.pack.isMarket&&!!this.props.learners&&this.props.learners.length<2&&!this.getHasSeenNewLearnerBubblePref();this.setState({shouldShowNewLearnerPrompt:e})}},{key:"setupAddMetadataPrompt",value:function(){var e=(this.props.metadata||{}).global,t=!this.props.pack.isMarket&&this.props.pack.isUserPackAdmin&&(!e||!e.role.value||!this.hasPurposeMetadata());this.setState({shouldShowAddMetadataPrompt:t})}}]),t}();t.default=b,e.exports=t.default},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=(n(7),k(n(2))),a=(k(n(13)),k(n(185))),s=k(n(186)),l=k(n(188)),c=k(n(189)),u=k(n(190)),d=k(n(191)),p=k(n(192)),f=(k(n(66)),k(n(15))),h=(k(n(4)),k(n(3))),m=k(n(0)),g=k(n(171)),b=k(n(113)),v=k(n(8)),y=(k(n(31)),k(n(1)));function k(e){return e&&e.__esModule?e:{default:e}}function _(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var w={addClasses:h.default.string,authenticityToken:h.default.string,metadata:h.default.object,onPackMetadataUpdated:h.default.func,pack:h.default.object,shouldShowAddMetadataPrompt:h.default.bool},C=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":r(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return S.call(n),n.state={isEditingDescription:!1,isEditingHeadline:!1,isEditingPurpose:!1,isEditingSettings:!1,isEditingSupplemental:!1,isEditingVideo:!1,isMobileViewportSize:!1,isPreviewing:!1,isProcessingDefaultStudyModeUpdate:!1,isProcessingDescriptionUpdate:!1,isProcessingHeadlineUpdate:!1,isProcessingPurposeUpdate:!1,isProcessingRoleUpdate:!1,isProcessingSupplementalUpdate:!1,isProcessingVideoUrlUpdate:!1,selectedMarkdownTab:"write"},n._isMounted=!1,n.Pack=new f.default,n.editSegments=[{id:"video",label:"Intro Video"},{id:"purpose",label:"Purpose"},{id:"supplemental",label:"Supplemental Info"},{id:"headline",label:"Headline"},{id:"description",label:"Description"},{id:"settings",label:"Settings"}],n.showSegments=[{id:"video",label:"Intro Video"},{id:"headline",label:"Headline"},{id:"description",label:"Description"},{id:"purpose",label:"Purpose"},{id:"brainscape",label:"About Brainscape"}],n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,m.default.Component),o(t,[{key:"componentDidMount",value:function(){this._isMounted=!0}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"renderSegments",value:function(){return this.isPackMetadataEditable()&&!this.state.isPreviewing?m.default.createElement("div",{className:"section-content",id:"segments-element"},this.renderAdminBar(),this.renderVideoSegment(),this.renderPurposeSegment(),this.renderSupplementalSegment(),this.renderHeadlineSegment(),this.renderDescriptionSegment(),this.renderSettingsSegment()):m.default.createElement("div",{className:"section-content",id:"segments-element"},this.renderAdminBar(),this.renderVideoSegment(),this.renderHeadlineSegment(),this.renderDescriptionSegment(),this.renderPurposeSegment(),this.renderBrainscapeSegment())}},{key:"renderAdminBar",value:function(){return this.isPackMetadataEditable()?m.default.createElement("div",{className:"admin-bar"},this.renderPreviewToggle(),this.renderEditStatus()):null}},{key:"renderPreviewToggle",value:function(){if(this.isEditingResource())return null;var e=this.state.isPreviewing?"Exit Preview":"Preview",t=this.state.isPreviewing?"is-previewing":"",n=y.default.toClassStr(["preview-toggle-button",t]);return m.default.createElement(v.default,{addClasses:n,isDisabled:this.isEditingResource(),label:e,onClick:this.handlePreviewToggleButtonClick})}},{key:"renderEditStatus",value:function(){return this.isEditingResource()?m.default.createElement("div",{className:"edit-status"},"Editing ",this.getCurrentEditResource()):null}},{key:"renderVideoSegment",value:function(){return this.hasResource("video_url")||this.isPackMetadataEditable()?this.state.isPreviewing&&!this.hasResource("video_url")?null:m.default.createElement(p.default,{hasVideoCaptionResource:this.hasResource("video_caption"),hasVideoUrlResource:this.hasResource("video_url"),isEditingResource:this.isEditingResource(),isEditingVideo:this.state.isEditingVideo,isMobileViewportSize:this.props.isMobileViewportSize,isPackMetadataEditable:this.isPackMetadataEditable(),isPreviewing:this.state.isPreviewing,isProcessing:this.state.isProcessingVideoUpdate,metadata:this.props.metadata,onAddVideoRequest:this.handleAddVideoRequest,onCancelEditVideoRequest:this.handleCancelEditVideoRequest,onEditVideoRequest:this.handleEditVideoRequest,onUpdateVideoRequest:this.handleUpdateVideoRequest,segmentId:"video"}):null}},{key:"renderHeadlineSegment",value:function(){return m.default.createElement(l.default,{hasHeadlineResource:this.hasResource("headline"),isEditingHeadline:this.state.isEditingHeadline,isEditingResource:this.isEditingResource(),isMobileViewportSize:this.props.isMobileViewportSize,isPackMetadataEditable:this.isPackMetadataEditable(),isPreviewing:this.state.isPreviewing,isProcessing:this.state.isProcessingHeadlineUpdate,metadata:this.props.metadata,onCancelEditHeadlineRequest:this.handleCancelEditHeadlineRequest,onEditHeadlineRequest:this.handleEditHeadlineRequest,onUpdateHeadlineRequest:this.handleUpdateHeadlineRequest,pack:this.props.pack,segmentId:"headline"})}},{key:"renderDescriptionSegment",value:function(){return m.default.createElement(s.default,{hasDescriptionResource:this.hasResource("description"),isEditingDescription:this.state.isEditingDescription,isEditingResource:this.isEditingResource(),isMobileViewportSize:this.props.isMobileViewportSize,isPackMetadataEditable:this.isPackMetadataEditable(),isPreviewing:this.state.isPreviewing,isProcessing:this.state.isProcessingDescriptionUpdate,metadata:this.props.metadata,onCancelEditDescriptionRequest:this.handleCancelEditDescriptionRequest,onEditDescriptionRequest:this.handleEditDescriptionRequest,onUpdateDescriptionRequest:this.handleUpdateDescriptionRequest,segmentId:"description"})}},{key:"renderPurposeSegment",value:function(){return m.default.createElement(c.default,{isEditingPurpose:this.state.isEditingPurpose,isEditingResource:this.isEditingResource(),isMobileViewportSize:this.props.isMobileViewportSize,isPackMetadataEditable:this.isPackMetadataEditable(),isPreviewing:this.state.isPreviewing,isProcessing:this.state.isProcessingPurposeUpdate,metadata:this.props.metadata,onAddPurposeRequest:this.handleAddPurposeRequest,onCancelEditPurposeRequest:this.handleCancelEditPurposeRequest,onEditPurposeRequest:this.handleEditPurposeRequest,onUpdatePurposeRequest:this.handleUpdatePurposeRequest,pack:this.props.pack,segmentId:"purpose"})}},{key:"renderSupplementalSegment",value:function(){return m.default.createElement(d.default,{isEditingSupplemental:this.state.isEditingSupplemental,isEditingResource:this.isEditingResource(),isMobileViewportSize:this.props.isMobileViewportSize,isPackMetadataEditable:this.isPackMetadataEditable(),isPreviewing:this.state.isPreviewing,isProcessing:this.state.isProcessingSupplementalUpdate,metadata:this.props.metadata,onCancelEditSupplementalRequest:this.handleCancelEditSupplementalRequest,onEditSupplementalRequest:this.handleEditSupplementalRequest,onUpdateSupplementalRequest:this.handleUpdateSupplementalRequest,segmentId:"supplemental"})}},{key:"renderSettingsSegment",value:function(){return m.default.createElement(u.default,{hasDefaultStudyModeResource:this.hasResource("default_study_mode"),isEditingSettings:this.state.isEditingSettings,isEditingResource:this.isEditingResource(),isMobileViewportSize:this.props.isMobileViewportSize,isPackMetadataEditable:this.isPackMetadataEditable(),isPreviewing:this.state.isPreviewing,isProcessingDefaultStudyModeUpdate:this.state.isProcessingDefaultStudyModeUpdate,isProcessingPrivacyUpdate:this.state.isProcessingPrivacyUpdate,isProcessingRoleUpdate:this.state.isProcessingRoleUpdate,metadata:this.props.metadata,onUpdateRoleRequest:this.handleUpdateRoleRequest,onUpdatePrivacyRequest:this.handleUpdatePrivacyRequest,onUpdateDefaultStudyModeRequest:this.handleUpdateDefaultStudyModeRequest,pack:this.props.pack,segmentId:"settings"})}},{key:"renderBrainscapeSegment",value:function(){return m.default.createElement(a.default,{hasVideo:this.hasResource("video_url"),segmentId:"brainscape"})}},{key:"triggerEditPackPrivacyModalOpen",value:function(e){i.default.emitEvent("edit-pack-privacy-modal:open",{authenticityToken:this.props.authenticityToken,newPrivacyState:e,pack:this.props.pack,onCloseRequest:this.handlePackPrivacyUpdateCancelled,onPackPrivacyChanged:this.handlePackPrivacyChanged})}},{key:"triggerEditPackPrivacyModalClose",value:function(){i.default.emitEvent("edit-pack-privacy-modal:close",{})}},{key:"triggerPrivacyUpgradeModalOpen",value:function(){i.default.emitEvent("upgrade-modal:open",{desiredAction:"Make Class Private",paywall:"privacy"})}},{key:"triggerRefreshPackDetailSection",value:function(){i.default.emitEvent("refresh-pack-detail-section",{})}},{key:"triggerScrollToSegment",value:function(e){i.default.emitEvent("segment-navigator:select-segment",e)}},{key:"getActiveSegments",value:function(){var e=this;return(this.isPackMetadataEditable()&&!this.state.isPreviewing?[].concat(_(this.editSegments)):[].concat(_(this.showSegments))).filter(function(t,n){return!!("video"!=t.id||e.hasResource("video_url")||e.props.pack.isUserPackAdmin&&!e.state.isPreviewing)&&!("settings"==t.id&&(!e.props.pack.isUserPackAdmin||e.state.isPreviewing))})}}]),t}(),S=function(){var e=this;Object.defineProperty(this,"render",{enumerable:!0,writable:!0,value:function(){if(!e.props.metadata)return null;var t=e.isEditingResource()&&!e.state.isEditingSettings?"is-editing":"",n=y.default.toClassStr(["pack-about-section",t,e.props.addClasses]);return m.default.createElement("section",{className:n},m.default.createElement("div",{className:"section-sidebar"},m.default.createElement(b.default,{scrollElementId:"detail-scroll-element",segmentsElementId:"segments-element",segments:e.getActiveSegments()})),e.renderSegments(),m.default.createElement(g.default,{isOpen:e.props.shouldShowAddMetadataPrompt,metadata:e.props.metadata,onUpdatePackMetadataRequest:e.updatePackMetadata,pack:e.props.pack}))}}),Object.defineProperty(this,"handlePreviewToggleButtonClick",{enumerable:!0,writable:!0,value:function(){e.setState({isPreviewing:!e.state.isPreviewing})}}),Object.defineProperty(this,"handleAddVideoRequest",{enumerable:!0,writable:!0,value:function(){e.setState({isEditingVideo:!0},function(){e.scrollToSegment("video")})}}),Object.defineProperty(this,"handleCancelEditVideoRequest",{enumerable:!0,writable:!0,value:function(){e.setState({isEditingVideo:!1})}}),Object.defineProperty(this,"handleEditVideoRequest",{enumerable:!0,writable:!0,value:function(){e.setState({isEditingVideo:!0},function(){e.scrollToSegment("video")})}}),Object.defineProperty(this,"handleUpdateVideoRequest",{enumerable:!0,writable:!0,value:function(t){var n=e.props.metadata.global.video_url.field_id,r=e.props.metadata.global.video_caption.field_id,o=[{field_id:n,value:t.url},{field_id:r,value:t.caption}];e.setState({isProcessingVideoUpdate:!0}),e.updatePackMetadata({metum:o,callback:function(){e.setState({isEditingVideo:!1,isPreviewing:!1,isProcessingVideoUpdate:!1})}})}}),Object.defineProperty(this,"handleCancelEditHeadlineRequest",{enumerable:!0,writable:!0,value:function(){e.setState({isEditingHeadline:!1})}}),Object.defineProperty(this,"handleEditHeadlineRequest",{enumerable:!0,writable:!0,value:function(){e.setState({isEditingHeadline:!0},function(){e.scrollToSegment("headline")})}}),Object.defineProperty(this,"handleUpdateHeadlineRequest",{enumerable:!0,writable:!0,value:function(t){var n=e.props.metadata.global.headline.field_id;e.setState({isProcessingHeadlineUpdate:!0}),e.updatePackMetadata({fieldId:n,value:t,callback:function(){e.setState({isEditingHeadline:!1,isPreviewing:!1,isProcessingHeadlineUpdate:!1})}})}}),Object.defineProperty(this,"handleCancelEditDescriptionRequest",{enumerable:!0,writable:!0,value:function(){e.setState({isEditingDescription:!1})}}),Object.defineProperty(this,"handleEditDescriptionRequest",{enumerable:!0,writable:!0,value:function(){e.setState({isEditingDescription:!0},function(){e.scrollToSegment("description")})}}),Object.defineProperty(this,"handleUpdateDescriptionRequest",{enumerable:!0,writable:!0,value:function(t){var n=e.props.metadata.global.description.field_id;e.setState({isProcessingDescriptionUpdate:!0}),e.updatePackMetadata({fieldId:n,value:t,callback:function(){e.setState({isEditingDescription:!1,isPreviewing:!1,isProcessingDescriptionUpdate:!1})}})}}),Object.defineProperty(this,"handleCancelEditPurposeRequest",{enumerable:!0,writable:!0,value:function(){e.setState({isEditingPurpose:!1})}}),Object.defineProperty(this,"handleEditPurposeRequest",{enumerable:!0,writable:!0,value:function(){e.setState({isEditingPurpose:!0},function(){e.scrollToSegment("purpose")})}}),Object.defineProperty(this,"handleAddPurposeRequest",{enumerable:!0,writable:!0,value:function(t){e.setState({isProcessingPurposeUpdate:!0}),e.updatePackMetadata({fieldId:t,value:!0,callback:function(){e.setState({isEditingPurpose:!0,isPreviewing:!1,isProcessingPurposeUpdate:!1},function(){e.scrollToSegment("purpose")})}})}}),Object.defineProperty(this,"handleUpdatePurposeRequest",{enumerable:!0,writable:!0,value:function(t){e.setState({isProcessingPurposeUpdate:!0}),e.updatePackMetadata({metum:t,callback:function(){e.setState({isEditingPurpose:!1,isPreviewing:!1,isProcessingPurposeUpdate:!1})}})}}),Object.defineProperty(this,"handleCancelEditSupplementalRequest",{enumerable:!0,writable:!0,value:function(){e.setState({isEditingSupplemental:!1})}}),Object.defineProperty(this,"handleEditSupplementalRequest",{enumerable:!0,writable:!0,value:function(){e.setState({isEditingSupplemental:!0},function(){e.scrollToSegment("supplemental")})}}),Object.defineProperty(this,"handleUpdateSupplementalRequest",{enumerable:!0,writable:!0,value:function(t){e.setState({isProcessingSupplementalUpdate:!0}),e.updatePackMetadata({metum:t,callback:function(){e.setState({isEditingSupplemental:!1,isPreviewing:!1,isProcessingSupplementalUpdate:!1})}})}}),Object.defineProperty(this,"handleUpdateRoleRequest",{enumerable:!0,writable:!0,value:function(t){var n=e.props.metadata.global.role.field_id;e.setState({isEditingSettings:!0,isProcessingRoleUpdate:!0}),e.updatePackMetadata({fieldId:n,value:t,callback:function(){e.setState({isEditingSettings:!1,isPreviewing:!1,isProcessingRoleUpdate:!1})}})}}),Object.defineProperty(this,"handleUpdateDefaultStudyModeRequest",{enumerable:!0,writable:!0,value:function(t){var n=e.props.metadata.global.default_study_mode.field_id;e.setState({isEditingSettings:!0,isProcessingDefaultStudyModeUpdate:!0}),e.updatePackMetadata({fieldId:n,value:t,callback:function(){e.setState({isEditingSettings:!1,isPreviewing:!1,isProcessingDefaultStudyModeUpdate:!1})}})}}),Object.defineProperty(this,"handleUpdatePrivacyRequest",{enumerable:!0,writable:!0,value:function(t){var n="private"==t;if(n==e.props.pack.isPrivate)return!1;e.props.pack.isUserPro?(e.setState({isEditingSettings:!0,isProcessingPrivacyUpdate:!0}),e.triggerEditPackPrivacyModalOpen(n)):e.triggerPrivacyUpgradeModalOpen()}}),Object.defineProperty(this,"handlePackPrivacyChanged",{enumerable:!0,writable:!0,value:function(){e.triggerRefreshPackDetailSection(),e.triggerEditPackPrivacyModalClose(),e.setState({isEditingSettings:!1,isProcessingPrivacyUpdate:!1})}}),Object.defineProperty(this,"handlePackPrivacyUpdateCancelled",{enumerable:!0,writable:!0,value:function(){e.setState({isEditingSettings:!1,isProcessingPrivacyUpdate:!1})}}),Object.defineProperty(this,"getCurrentEditResource",{enumerable:!0,writable:!0,value:function(){return e.state.isEditingDescription?"Description":e.state.isEditingVideo?"Video":e.state.isEditingHeadline?"Headline":e.state.isEditingPurpose?"Purpose":e.state.isEditingSupplemental?"Supplemental Info":e.state.isEditingSettings?"Settings":null}}),Object.defineProperty(this,"hasResource",{enumerable:!0,writable:!0,value:function(t,n){var r=n||e.props;return!!(r.metadata&&r.metadata.global&&r.metadata.global[t]&&r.metadata.global[t].value)}}),Object.defineProperty(this,"isEditingResource",{enumerable:!0,writable:!0,value:function(){return e.state.isEditingDescription||e.state.isEditingHeadline||e.state.isEditingVideo||e.state.isEditingPurpose||e.state.isEditingSupplemental||e.state.isEditingSettings}}),Object.defineProperty(this,"isPackMetadataEditable",{enumerable:!0,writable:!0,value:function(){var t=e.props.pack;return t.isUserPackAdmin&&t.isUgs}}),Object.defineProperty(this,"scrollToSegment",{enumerable:!0,writable:!0,value:function(t){e.triggerScrollToSegment({segmentId:t,shouldRefreshSegments:!0})}}),Object.defineProperty(this,"updatePackMetadata",{enumerable:!0,writable:!0,value:function(t){var n=t.metum;n||(n=[{field_id:t.fieldId,value:t.value}]),e.Pack.setMetadata({id:e.props.pack.packId,reqData:{metum:n},done:function(n){e.props.onPackMetadataUpdated(function(){t.callback&&t.callback()})},fail:function(e,t){y.default.handleError({operation:"Update Pack Meta",errorMessage:"There was a problem updating your Class information. Please refresh and try again.",errorObject:e,notifyUser:!0})}})}})};C.propTypes=w,t.default=C,e.exports=t.default},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=c(n(3)),a=c(n(0)),s=c(n(1)),l=c(n(65));function c(e){return e&&e.__esModule?e:{default:e}}var u={addClasses:i.default.string,hasVideo:i.default.bool,segmentId:i.default.node},d=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":r(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default.Component),o(t,[{key:"render",value:function(){var e=s.default.toClassStr(["segment about-tab-segment pack-about-brainscape-segment",this.props.addClasses]);return a.default.createElement("div",{className:e},a.default.createElement("div",{className:"segment-anchor",id:this.props.segmentId}),a.default.createElement("div",{className:"segment-header about-tab-segment-header brainscape-header"},a.default.createElement("div",{className:"segment-heading about-tab-segment-heading brainscape-heading"},"About Brainscape")),a.default.createElement("div",{className:"overview-text"},a.default.createElement("p",{className:"overview-line"},"Brainscape is the most efficient way to study adaptive flashcards.  Our unique Confidence-Based Repetition method is proven by decades of cognitive science research to help you learn twice as fast, and to retain knowledge for longer, than studying with traditional methods."),a.default.createElement("p",{className:"overview-line"},"You can find adaptive flashcards for thousands of other subjects by searching our market.  And if you'd like to make your own flashcards, you can feel free to click the + sign in the left column of your dashboard, and go nuts!  Brainscape makes it easy to collaborate with others and/or just to manage your own knowledge in any way you choose."),a.default.createElement("p",{className:"overview-line"},"However you choose to use this app, Brainscape hopes to help you ",a.default.createElement("strong",null,"Rise to Your Challenge"),".")),this.renderBrainscapeVideo())}},{key:"renderBrainscapeVideo",value:function(){return this.props.hasVideo?null:a.default.createElement(l.default,{shouldAutoPlay:!1,videoUrl:"https://www.youtube.com/embed/mAxlGrrEsYs"})}}]),t}();d.propTypes=u,t.default=d,e.exports=t.default},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var o,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(7),s=g(n(13)),l=g(n(4)),c=g(n(3)),u=g(n(0)),d=g(n(607)),p=g(n(627)),f=g(n(628)),h=g(n(8)),m=g(n(1));function g(e){return e&&e.__esModule?e:{default:e}}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var v=(b(o={addClasses:c.default.string,isEditingDescription:c.default.bool,hasDescriptionResource:c.default.bool},"isEditingDescription",c.default.bool),b(o,"isEditingResource",c.default.bool),b(o,"isPackMetadataEditable",c.default.bool),b(o,"isPreviewing",c.default.bool),b(o,"isProcessing",c.default.bool),b(o,"metadata",c.default.object),b(o,"onCancelEditDescriptionRequest",c.default.func),b(o,"onEditDescriptionRequest",c.default.func),b(o,"onUpdateDescriptionRequest",c.default.func),b(o,"segmentId",c.default.node),o),y=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":r(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return k.call(n),n.state={caption:"",charCount:0,descriptionMarkdown:"",hasInvalidInput:!1,isOverCharLimit:!1,selectedMarkdownTab:"write"},n.CHAR_LIMIT=5e3,n.converter=new f.default.Converter,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u.default.Component),i(t,[{key:"componentDidMount",value:function(){this.setResources()}},{key:"componentDidUpdate",value:function(e){e.metadata!=this.props.metadata&&this.manageResources(e)}},{key:"render",value:function(){if(this.props.isEditingDescription)return this.renderEditableDescription();var e=this.state.descriptionMarkdown||"No description.";this.state.descriptionMarkdown||!this.props.isPackMetadataEditable||this.props.isPreviewing||(e+=" Click the Edit button to add a description.");var t=this.convertMarkdownToHtml(e),n=this.props.hasDescriptionResource?"":"is-empty",r=this.props.isEditingDescription?"is-editing-segment":"",o=m.default.toClassStr(["segment about-tab-segment pack-about-description-segment",r,n]);return u.default.createElement("div",{className:o},u.default.createElement("div",{className:"segment-anchor",id:this.props.segmentId}),this.renderDescriptionHeader(),u.default.createElement("div",{className:"description-markdown"},u.default.createElement("div",{className:"sanitized-html",dangerouslySetInnerHTML:{__html:t}})))}},{key:"renderDescriptionHeader",value:function(){return u.default.createElement("div",{className:"segment-header about-tab-segment-header description-header"},u.default.createElement("div",{className:"segment-heading about-tab-segment-heading description-heading"},"Description"),u.default.createElement("div",{className:"action-buttons"},this.renderDescriptionTooltip(),this.renderEditDescriptionButton()))}},{key:"renderDescriptionTooltip",value:function(){return!this.props.isPackMetadataEditable||this.props.isPreviewing?null:u.default.createElement(s.default,{addClasses:"description-tooltip",label:"description-tooltip",place:"right"},u.default.createElement("div",{className:"tooltip-content"},u.default.createElement("p",{className:"tooltip-text"},"This is the full description of your class, for other people thinking of studying your flashcards, or even just for your own notes."),u.default.createElement("p",{className:"tooltip-text"},"You can mention topics like: What material do these flashcards cover? Why is the content so good? How should people study the flashcards? Etc.")))}},{key:"renderEditDescriptionButton",value:function(){return!this.props.isPackMetadataEditable||this.props.isEditingResource||this.props.isPreviewing?null:u.default.createElement(a.EditButton,{addClasses:"edit-description-button",onClick:this.handleEditButtonClick})}},{key:"renderFieldCaption",value:function(){return u.default.createElement("div",{className:"field-caption"},this.renderCaptionText(),this.renderLimitText())}},{key:"renderCaptionText",value:function(){return this.state.caption?u.default.createElement("span",{className:"caption-text"},this.state.caption):null}},{key:"renderLimitText",value:function(){var e="("+this.state.charCount+" of "+this.CHAR_LIMIT+" char)";return u.default.createElement("span",{className:"limit-text"},e)}}]),t}(),k=function(){var e=this;Object.defineProperty(this,"renderEditableDescription",{enumerable:!0,writable:!0,value:function(){var t=e.props.isEditingDescription?"is-editing-segment":"",n=e.state.isOverCharLimit?"is-over-char-limit":"",r=e.state.hasInvalidInput?"has-invalid-input":"",o=m.default.toClassStr(["segment about-tab-segment pack-about-description-segment",t,n,r]),i=e.props.isMobileViewportSize?"Save":"Save changes";return u.default.createElement("div",{className:o},u.default.createElement("div",{className:"segment-anchor",id:e.props.segmentId}),u.default.createElement("div",{className:"segment-header about-tab-segment-header description-header"},u.default.createElement("div",{className:"segment-heading about-tab-segment-heading description-heading"},"Description"),u.default.createElement("div",{className:"edit-action-buttons"},u.default.createElement(h.default,{addClasses:"help-button markdown-help-button",label:"Markdown Help",onClick:e.handleMarkdownHelpButtonClick}),u.default.createElement(h.default,{addClasses:"cancel-button cancel-edit-description-button",label:"Cancel",onClick:e.handleCancelButtonClick}),u.default.createElement(l.default,{addClasses:"save-button save-description-changes-button",isProcessing:e.props.isProcessing,label:i,onClick:e.handleSaveChangesButtonClick}))),u.default.createElement("div",{className:"description-markdown"},u.default.createElement(d.default,{value:e.state.descriptionMarkdown,onChange:e.handleDescriptionChange,selectedTab:e.state.selectedMarkdownTab,textAreaProps:{placeholder:"Format your description using markdown. (See help above)"},onTabChange:e.handleMarkdownTabChange,generateMarkdownPreview:function(t){return Promise.resolve(e.convertMarkdownToHtml(t))}})),e.renderFieldCaption())}}),Object.defineProperty(this,"handleCancelButtonClick",{enumerable:!0,writable:!0,value:function(){e.setResources(),e.props.onCancelEditDescriptionRequest&&e.props.onCancelEditDescriptionRequest()}}),Object.defineProperty(this,"handleDescriptionChange",{enumerable:!0,writable:!0,value:function(t){var n=t?t.length:0,r=n>e.CHAR_LIMIT;r!=e.state.isOverCharLimit&&e.handleOverCharLimitChange(r),e.setState({charCount:n,descriptionMarkdown:t,hasInvalidInput:!1})}}),Object.defineProperty(this,"handleEditButtonClick",{enumerable:!0,writable:!0,value:function(){e.props.onEditDescriptionRequest&&e.props.onEditDescriptionRequest()}}),Object.defineProperty(this,"handleMarkdownHelpButtonClick",{enumerable:!0,writable:!0,value:function(){window.open("https://www.markdownguide.org/basic-syntax/","_blank")}}),Object.defineProperty(this,"handleMarkdownTabChange",{enumerable:!0,writable:!0,value:function(t){e.setState({selectedMarkdownTab:t})}}),Object.defineProperty(this,"handleOverCharLimitChange",{enumerable:!0,writable:!0,value:function(t){var n=t?"Your description exceeds the character limit":"";e.setState({caption:n,isOverCharLimit:t})}}),Object.defineProperty(this,"handleSaveChangesButtonClick",{enumerable:!0,writable:!0,value:function(){if(e.state.isOverCharLimit)return e.setState({hasInvalidInput:!0}),!1;e.props.onUpdateDescriptionRequest&&e.props.onUpdateDescriptionRequest(e.state.descriptionMarkdown)}}),Object.defineProperty(this,"convertMarkdownToHtml",{enumerable:!0,writable:!0,value:function(t){var n=e.converter.makeHtml(t);return(0,p.default)(n,{allowedTags:["h1","h2","h3","h4","h5","h6","blockquote","p","a","ul","ol","nl","li","b","i","strong","em","strike","code","hr","br","div","table","thead","caption","tbody","tr","th","td","pre"]})}}),Object.defineProperty(this,"hasResource",{enumerable:!0,writable:!0,value:function(t,n){var r=n||e.props;return!!(r.metadata&&r.metadata.global&&r.metadata.global[t]&&r.metadata.global[t].value)}}),Object.defineProperty(this,"hasResourceChanged",{enumerable:!0,writable:!0,value:function(t,n){if(!e.hasResource(t,n)||!e.hasResource(t,e.props))return!1;var r=n.metadata.global[t].value;return e.props.metadata.global[t].value!=r}}),Object.defineProperty(this,"manageResources",{enumerable:!0,writable:!0,value:function(t){e.hasResourceChanged("description",t)&&e.setDescriptionMarkdown()}}),Object.defineProperty(this,"setDescriptionMarkdown",{enumerable:!0,writable:!0,value:function(){e.hasResource("description")&&e.setState({descriptionMarkdown:e.props.metadata.global.description.value||""})}}),Object.defineProperty(this,"setResources",{enumerable:!0,writable:!0,value:function(){e.setDescriptionMarkdown()}})};y.propTypes=v,t.default=y,e.exports=t.default},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),i={tabIndex:-1};t.ToolbarButton=function(e){var t=e.buttonComponentClass,n=e.buttonContent,a=e.buttonProps,s=e.onClick,l=e.readOnly,c=e.name,u=r(r({},i),a||{}),d=t||"button";return o.createElement("li",{className:"mde-header-item"},o.createElement(d,r(r({"data-name":c},u),{onClick:s,disabled:l,type:"button"}),n))}},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(7),a=f(n(13)),s=f(n(4)),l=f(n(3)),c=f(n(0)),u=f(n(8)),d=f(n(31)),p=f(n(1));function f(e){return e&&e.__esModule?e:{default:e}}var h={addClasses:l.default.string,hasHeadlineResource:l.default.bool,isPackMetadataEditable:l.default.bool,isPreviewing:l.default.bool,isProcessing:l.default.bool,isEditingHeadline:l.default.bool,isEditingResource:l.default.bool,metadata:l.default.object,onCancelEditHeadlineRequest:l.default.func,onEditHeadlineRequest:l.default.func,onUpdateHeadlineRequest:l.default.func,pack:l.default.object,segmentId:l.default.node},m=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":r(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return g.call(n),n.state={caption:"",hasInvalidInput:!1,isOverCharLimit:!1,headlineText:""},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,c.default.Component),o(t,[{key:"componentDidMount",value:function(){this.setResources()}},{key:"componentDidUpdate",value:function(e){e.metadata!=this.props.metadata&&this.manageResources(e)}},{key:"render",value:function(){var e=this.props.hasHeadlineResource||!this.props.isPackMetadataEditable||this.props.isPreviewing?"":"is-empty",t=this.props.isEditingHeadline?"is-editing-segment":"",n=this.state.hasInvalidInput?"has-invalid-input":"",r=p.default.toClassStr(["segment about-tab-segment pack-about-headline-segment",t,n,e]);return c.default.createElement("div",{className:r},c.default.createElement("div",{className:"segment-anchor",id:this.props.segmentId}),this.renderHeadlineHeader(),this.renderHeadlineText(),this.renderHeadlineTextareaField())}},{key:"renderHeadlineHeader",value:function(){return c.default.createElement("div",{className:"segment-header about-tab-segment-header headline-header"},c.default.createElement("div",{className:"segment-heading about-tab-segment-heading headline-heading"},"Headline"),c.default.createElement("div",{className:"action-buttons"},this.renderHeadlineTooltip(),this.renderEditHeadlineButton()),this.renderHeadlineEditActionButtons())}},{key:"renderHeadlineTooltip",value:function(){return!this.props.isPackMetadataEditable||this.props.isPreviewing?null:c.default.createElement(a.default,{addClasses:"market-headline-tooltip",label:"market-headline-tooltip",place:"right"},c.default.createElement("div",{className:"tooltip-content"},c.default.createElement("p",{className:"tooltip-text"},"This text appears as a short summary of your class in various places in Brainscape.")))}},{key:"renderEditHeadlineButton",value:function(){return!this.props.isPackMetadataEditable||this.props.isEditingResource||this.props.isPreviewing?null:c.default.createElement(i.EditButton,{addClasses:"edit-headline-button",onClick:this.handleEditButtonClick})}},{key:"renderHeadlineEditActionButtons",value:function(){if(!this.props.isPackMetadataEditable||!this.props.isEditingHeadline)return null;var e=this.props.isMobileViewportSize?"Save":"Save changes";return c.default.createElement("div",{className:"edit-action-buttons"},c.default.createElement(u.default,{addClasses:"cancel-button cancel-edit-headline-button",label:"Cancel",onClick:this.handleCancelButtonClick}),c.default.createElement(s.default,{addClasses:"save-button save-headline-changes-button",isProcessing:this.props.isProcessing,label:e,onClick:this.handleSaveChangesButtonClick}))}},{key:"renderHeadlineText",value:function(){return this.props.isEditingHeadline?null:this.props.hasHeadlineResource||!this.props.isPackMetadataEditable||this.props.isPreviewing?this.props.hasHeadlineResource?c.default.createElement("div",{className:"headline-text"},this.props.metadata.global.headline.value):this.renderDefaultHeadlineText():c.default.createElement("div",{className:"headline-text"},"No headline. Click the Edit button to add a headline.")}},{key:"renderDefaultHeadlineText",value:function(){return this.props.pack.isMarket?c.default.createElement("div",{className:"headline-text"},"This certified class was created by Brainscape or one of our content partners. It has been thoroughly reviewed for accuracy, comprehensiveness, and learning value."):c.default.createElement("div",{className:"headline-text"},"This class was created by Brainscape user ",c.default.createElement("span",{className:"profile-link",onClick:this.handleProfileLinkClick},this.props.pack.creatorName),". Visit their ",c.default.createElement("span",{className:"profile-link",onClick:this.handleProfileLinkClick},"profile")," to learn more about the creator.")}}]),t}(),g=function(){var e=this;Object.defineProperty(this,"renderHeadlineTextareaField",{enumerable:!0,writable:!0,value:function(){return e.props.isEditingHeadline?c.default.createElement(d.default,{addClasses:"pack-headline",caption:e.state.caption,charLimit:280,id:"pack-headline",onChange:e.handleHeadlineTextChange,onOverCharLimitChange:e.handleOverCharLimitChange,placeholder:"Enter a short description of your class",value:e.state.headlineText}):null}}),Object.defineProperty(this,"handleEditButtonClick",{enumerable:!0,writable:!0,value:function(){e.props.onEditHeadlineRequest&&e.props.onEditHeadlineRequest()}}),Object.defineProperty(this,"handleCancelButtonClick",{enumerable:!0,writable:!0,value:function(){e.setResources(),e.setState({caption:"",hasInvalidInput:!1,isOverCharLimit:!1}),e.props.onCancelEditHeadlineRequest&&e.props.onCancelEditHeadlineRequest()}}),Object.defineProperty(this,"handleHeadlineTextChange",{enumerable:!0,writable:!0,value:function(t){e.setState({hasInvalidInput:!1,headlineText:t.target.value})}}),Object.defineProperty(this,"handleOverCharLimitChange",{enumerable:!0,writable:!0,value:function(t){var n=t?"Your headline exceeds the character limit":"";e.setState({caption:n,isOverCharLimit:t})}}),Object.defineProperty(this,"handleSaveChangesButtonClick",{enumerable:!0,writable:!0,value:function(){if(e.state.isOverCharLimit)return e.setState({hasInvalidInput:!0}),!1;e.props.onUpdateHeadlineRequest&&e.props.onUpdateHeadlineRequest(e.state.headlineText)}}),Object.defineProperty(this,"handleProfileLinkClick",{enumerable:!0,writable:!0,value:function(t){t&&t.stopPropagation(),p.default.openInNewTab(e.props.pack.creatorProfilePath)}}),Object.defineProperty(this,"hasResource",{enumerable:!0,writable:!0,value:function(t,n){var r=n||e.props;return!!(r.metadata&&r.metadata.global&&r.metadata.global[t]&&r.metadata.global[t].value)}}),Object.defineProperty(this,"hasResourceChanged",{enumerable:!0,writable:!0,value:function(t,n){if(!e.hasResource(t,n)||!e.hasResource(t,e.props))return!1;var r=n.metadata.global[t].value;return e.props.metadata.global[t].value!=r}}),Object.defineProperty(this,"manageResources",{enumerable:!0,writable:!0,value:function(t){e.hasResourceChanged("headline",t)&&e.setHeadlineText()}}),Object.defineProperty(this,"setHeadlineText",{enumerable:!0,writable:!0,value:function(){var t=e.hasResource("headline")?e.props.metadata.global.headline.value:"";e.setState({headlineText:t})}}),Object.defineProperty(this,"setResources",{enumerable:!0,writable:!0,value:function(){e.setHeadlineText()}})};m.propTypes=h,t.default=m,e.exports=t.default},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(7),s=g(n(2)),l=g(n(13)),c=g(n(66)),u=g(n(4)),d=g(n(3)),p=g(n(26)),f=g(n(0)),h=g(n(8)),m=g(n(1));function g(e){return e&&e.__esModule?e:{default:e}}var b={addClasses:d.default.string,isPackMetadataEditable:d.default.bool,isPreviewing:d.default.bool,isProcessing:d.default.bool,isEditingPurpose:d.default.bool,isEditingResource:d.default.bool,metadata:d.default.object,onAddPurposeRequest:d.default.func,onCancelEditPurposeRequest:d.default.func,onEditPurposeRequest:d.default.func,onUpdatePurposeRequest:d.default.func,pack:d.default.object,segmentId:d.default.node},v=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":r(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return Object.defineProperty(n,"renderPurposeAndAtrributes",{enumerable:!0,writable:!0,value:function(){return n.state.currentPurpose||n.props.pack.isUserPackAdmin&&!n.props.isPreviewing?f.default.createElement("div",{className:"purpose-and-attributes"},n.renderShowablePurposeAndAttributeFields(),n.renderEditablePurposeAndAttributeFields()):n.renderGeneralLearningItem()}}),Object.defineProperty(n,"handleAddPurposePulldownButtonClick",{enumerable:!0,writable:!0,value:function(){var e=n.state.isAddPurposePulldownOpen;e||n.props.onEditPurposeRequest(),n.setState({isAddPurposePulldownOpen:!e})}}),Object.defineProperty(n,"handleAddPurposePulldownOptionClick",{enumerable:!0,writable:!0,value:function(e){n.setState({isAddPurposePulldownOpen:!1});var t=n.props.metadata.purposes[e];t.value||n.props.onAddPurposeRequest(t.field_id)}}),Object.defineProperty(n,"handleAddPurposePulldownOutsideClick",{enumerable:!0,writable:!0,value:function(){n.setState({isAddPurposePulldownOpen:!1})}}),Object.defineProperty(n,"handleCancelButtonClick",{enumerable:!0,writable:!0,value:function(){n.setState({isAddPurposePulldownOpen:!1}),n.managePurposeData(),n.props.onCancelEditPurposeRequest&&n.props.onCancelEditPurposeRequest()}}),Object.defineProperty(n,"handleEditButtonClick",{enumerable:!0,writable:!0,value:function(){n.props.onEditPurposeRequest&&n.props.onEditPurposeRequest()}}),Object.defineProperty(n,"handleFieldChange",{enumerable:!0,writable:!0,value:function(e,t){var r=o({},n.state.currentPurposeAttributes),i=-1!=t?t:"";r[e].fieldValue=i,n.setState({currentPurposeAttributes:r,hasInvalidInput:!1})}}),Object.defineProperty(n,"handleFormSubmit",{enumerable:!0,writable:!0,value:function(e){e&&(e.preventDefault(),e.stopPropagation()),n.handleSaveChanges()}}),Object.defineProperty(n,"handleOverCharLimitChange",{enumerable:!0,writable:!0,value:function(e,t){var r=o({},n.state.currentPurposeAttributes);r[e].isOverLimit=t,n.setState({currentPurposeAttributes:r})}}),Object.defineProperty(n,"handleRemovePurposeRequest",{enumerable:!0,writable:!0,value:function(e){n.triggerCautionModalOpen({actionText:"remove a purpose from your class metadata",cancelButtonText:"No, Cancel",onCloseRequest:function(){n.setState({isProcessing:!1})},onResolution:function(){n.removePurposeAndAttributes(e),n.triggerCautionModalClose()},resolveButtonText:"Yes, continue"})}}),Object.defineProperty(n,"handleSaveChanges",{enumerable:!0,writable:!0,value:function(){var e=n.state.currentPurpose,t=[];t.push({field_id:e.fieldId,value:e.fieldValue});var r=n.state.currentPurposeAttributes;if(r)for(var o=Object.keys(r),i=0;i<o.length;i++){var a=o[i];if(r[a].isOverLimit)return n.setState({hasInvalidInput:!0}),!1;t.push({field_id:r[a].fieldId,value:r[a].fieldValue})}n.props.onUpdatePurposeRequest(t)}}),Object.defineProperty(n,"handleSaveChangesButtonClick",{enumerable:!0,writable:!0,value:function(){n.handleSaveChanges()}}),Object.defineProperty(n,"generateAttributeOptions",{enumerable:!0,writable:!0,value:function(e){var t=[];return e.forEach(function(e,n){t.push({id:e,label:e})}),t.unshift({id:-1,label:"Choose One..."}),t}}),Object.defineProperty(n,"removePurposeAndAttributes",{enumerable:!0,writable:!0,value:function(){var e=n.state.currentPurpose,t=[];t.push({field_id:e.fieldId,value:!1});var r=n.state.currentPurposeAttributes;r&&Object.keys(r).forEach(function(e,n){t.push({field_id:r[e].fieldId,value:""})}),n.props.onUpdatePurposeRequest(t)}}),Object.defineProperty(n,"setPurposeOptions",{enumerable:!0,writable:!0,value:function(){n.setState({purposeOptions:n.generatePurposeOptions()})}}),n.state={currentPurpose:null,currentPurposeAttributes:null,hasInvalidInput:!1,isAddPurposePulldownOpen:!1,purposeOptions:[]},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,f.default.Component),i(t,[{key:"componentDidMount",value:function(){this.setPurposeOptions(),this.managePurposeData()}},{key:"componentDidUpdate",value:function(e){e.metadata.purposes!=this.props.metadata.purposes&&this.managePurposeData()}},{key:"render",value:function(){var e=this.props.isEditingPurpose?"is-editing-segment":"",t=this.state.hasInvalidInput?"has-invalid-input":"",n=m.default.toClassStr(["segment about-tab-segment pack-about-purpose-segment",e,t]);return f.default.createElement("div",{className:n},f.default.createElement("div",{className:"segment-anchor",id:this.props.segmentId}),f.default.createElement("div",{className:"segment-header about-tab-segment-header purpose-header"},f.default.createElement("div",{className:"segment-heading about-tab-segment-heading purpose-heading"},"Purpose"),f.default.createElement("div",{className:"action-buttons"},this.renderPurposeTooltip(),this.renderEditPurposeButton()),this.renderPurposeEditActionButtons()),this.renderPurposeAndAtrributes())}},{key:"renderPurposeTooltip",value:function(){return!this.props.isPackMetadataEditable||this.props.isPreviewing?null:f.default.createElement(l.default,{addClasses:"purpose-tooltip",label:"purpose-tooltip",place:"right"},f.default.createElement("div",{className:"tooltip-content"},f.default.createElement("p",{className:"tooltip-text"},"Your Class Purpose helps us customize your Brainscape experience, and could help other people find your flashcards (if you choose to keep them public).")))}},{key:"renderEditPurposeButton",value:function(){return!this.state.currentPurpose||!this.props.isPackMetadataEditable||this.props.isEditingResource||this.props.isPreviewing?null:f.default.createElement(a.EditButton,{addClasses:"edit-purpose-button",onClick:this.handleEditButtonClick})}},{key:"renderPurposeEditActionButtons",value:function(){if(!this.props.isPackMetadataEditable||!this.props.isEditingPurpose)return null;var e=this.props.isMobileViewportSize?"Save":"Save changes";return f.default.createElement("div",{className:"edit-action-buttons"},f.default.createElement(h.default,{addClasses:"cancel-button cancel-edit-purpose-button",label:"Cancel",onClick:this.handleCancelButtonClick}),f.default.createElement(u.default,{addClasses:"save-button save-purpose-changes-button",isDisabled:!this.state.currentPurpose,isProcessing:this.props.isProcessing,label:e,onClick:this.handleSaveChangesButtonClick}))}},{key:"renderShowablePurposeAndAttributeFields",value:function(){return this.props.isEditingPurpose?null:f.default.createElement("div",{className:"purpose-and-attributes-display"},this.renderPurpose(),this.renderPurposeAttributes(),this.renderAddPurposePrompt())}},{key:"renderEditablePurposeAndAttributeFields",value:function(){return this.props.isEditingPurpose?f.default.createElement("form",{className:"purpose-and-attributes-form",onSubmit:this.handleFormSubmit},this.renderPurpose(),this.renderPurposeAttributes(),this.renderAddPurposePrompt(),f.default.createElement("input",{type:"submit",className:"hidden-submit-button"})):null}},{key:"renderPurpose",value:function(){if(!this.state.currentPurpose)return null;var e=this.state.currentPurpose,t=m.default.toKebobCase(e.fieldLabel),n=m.default.toClassStr(["purpose",t]);return f.default.createElement(c.default,{addClasses:n,fieldId:e.fieldId,fieldKey:e.fieldKey,fieldLabel:null,fieldType:"tag",fieldValue:e.fieldLabel,isEditing:this.props.isEditingPurpose,key:e.fieldKey,onChange:this.handleFieldChange,onRemoveTagRequest:this.handleRemovePurposeRequest,options:e.options,placeholder:e.placeholder,tooltip:e.tooltip})}},{key:"renderPurposeAttributes",value:function(){var e=this;if(!(this.state.currentPurpose&&this.state.currentPurposeAttributes&&Object.keys(this.state.currentPurposeAttributes).length>0))return null;var t=this.state.currentPurposeAttributes,n=Object.keys(t);if(0==n.length)return null;var r=n.map(function(n,r){return e.renderPurposeAttribute(t[n])}),o=m.default.toKebobCase(this.state.currentPurpose.fieldLabel+"-attributes"),i=m.default.toClassStr(["purpose-attributes",o]);return f.default.createElement("div",{className:i,key:o},r)}},{key:"renderPurposeAttribute",value:function(e){var t=m.default.toKebobCase(e.fieldLabel),n=m.default.toClassStr(["purpose-attribute",t]),r=e.pulldownOptions&&e.pulldownOptions.length>0?"pulldown":"textField";return f.default.createElement(c.default,{addClasses:n,fieldId:e.fieldId,fieldKey:e.fieldKey,fieldLabel:e.fieldLabel,fieldType:r,fieldValue:e.fieldValue,isEditing:this.props.isEditingPurpose,key:e.fieldKey,onOverCharLimitChange:this.handleOverCharLimitChange,onChange:this.handleFieldChange,options:e.pulldownOptions,placeholder:e.placeholder,tooltip:e.tooltip})}},{key:"renderGeneralLearningItem",value:function(){return f.default.createElement("div",{className:"purpose-and-attributes"},f.default.createElement(c.default,{addClasses:"purpose general-learning",fieldType:"pulldown",fieldValue:"General Learning",key:"general_learning",label:"Purpose"}))}},{key:"renderAddPurposePrompt",value:function(){return this.props.pack.isUserPackAdmin&&this.props.pack.isUgs?this.state.currentPurpose?null:this.props.isPreviewing?null:this.props.isEditingResource&&!this.props.isEditingPurpose?null:f.default.createElement("div",{className:"add-purpose-prompt"},f.default.createElement("div",{className:"pack-purpose add-new-purpose"},f.default.createElement(p.default,{addClasses:"purpose-pulldown",isOpen:this.state.isAddPurposePulldownOpen,options:this.state.purposeOptions,selectedValue:-1,shouldSuppressNullOption:!0,onButtonClick:this.handleAddPurposePulldownButtonClick,onOptionClick:this.handleAddPurposePulldownOptionClick,onOutsideClick:this.handleAddPurposePulldownOutsideClick,placeholderText:"Add a Class Purpose..."})),f.default.createElement(l.default,{addClasses:"purpose-choice-tooltip",label:"purpose-choice-tooltip",place:"right"},f.default.createElement("div",{className:"tooltip-content"},f.default.createElement("div",{className:"tooltip-heading"},"Purpose"),f.default.createElement("p",{className:"tooltip-text"},f.default.createElement("span",{className:"purpose-label"},"School / University:"),f.default.createElement("span",{className:"purpose-explanation"},"e.g. prep for quizzes and tests.")),f.default.createElement("p",{className:"tooltip-text"},f.default.createElement("span",{className:"purpose-label"},"Standardized Test:"),f.default.createElement("span",{className:"purpose-explanation"},"e.g. entrance exams like SAT or MCAT")),f.default.createElement("p",{className:"tooltip-text"},f.default.createElement("span",{className:"purpose-label"},"Professional Certification:"),f.default.createElement("span",{className:"purpose-explanation"},"e.g. Series 7, USMLE")),f.default.createElement("p",{className:"tooltip-text"},f.default.createElement("span",{className:"purpose-label"},"Job Skills:"),f.default.createElement("span",{className:"purpose-explanation"},"e.g. company training, or other skills not related to a standardized certification")),f.default.createElement("p",{className:"tooltip-text"},f.default.createElement("span",{className:"purpose-label"},"Foreign Language:"),f.default.createElement("span",{className:"purpose-explanation"},"e.g. Arabic (general; NOT for a specific class at school)"))))):null}},{key:"triggerCautionModalOpen",value:function(e){s.default.emitEvent("caution-modal:open",e)}},{key:"triggerCautionModalClose",value:function(e){s.default.emitEvent("caution-modal:close",e)}},{key:"generatePurposeOptions",value:function(){var e=this.props.metadata.purposes,t=[];return Object.keys(e).forEach(function(n,r){var o=e[n];t.push({id:o.field_key,label:o.field_label})}),t}},{key:"managePurposeData",value:function(){for(var e=this,t=this.props.metadata.purposes,n=void 0,r=Object.keys(t),o=null,i=null,a=0;a<r.length;a++)if(1==(n=t[r[a]]).value){o={fieldId:n.field_id,fieldKey:n.field_key,fieldLabel:n.field_label,fieldValue:n.value,placeholder:n.placeholder,pulldownOptions:this.state.purposeOptions,tooltip:n.tool_tip};break}o&&n&&n.children&&(i={},n.children.forEach(function(t,n){var r=t.options?e.generateAttributeOptions(t.options):null;i[t.field_id]={fieldId:t.field_id,fieldKey:t.field_key,fieldLabel:t.field_label,fieldValue:t.value,pulldownOptions:r,placeholder:t.placeholder,tooltip:t.tool_tip}})),this.setState({currentPurpose:o,currentPurposeAttributes:i})}}]),t}();v.propTypes=b,t.default=v,e.exports=t.default},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=(n(7),u(n(2)),u(n(13))),a=u(n(3)),s=u(n(34)),l=u(n(0)),c=u(n(1));function u(e){return e&&e.__esModule?e:{default:e}}var d={addClasses:a.default.string,hasDefaultStudyModeResource:a.default.bool,isEditingResource:a.default.bool,isEditingSettings:a.default.bool,isPackMetadataEditable:a.default.bool,isPreviewing:a.default.bool,isProcessingDefaultStudyModeUpdate:a.default.bool,isProcessingPrivacyUpdate:a.default.bool,isProcessingRoleUpdate:a.default.bool,metadata:a.default.object,onUpdateDefaultStudyModeRequest:a.default.func,onUpdatePrivacyRequest:a.default.func,onUpdateRoleRequest:a.default.func,pack:a.default.object,segmentId:a.default.node},p=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":r(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return Object.defineProperty(n,"handlePrivacyButtonClick",{enumerable:!0,writable:!0,value:function(e){n.props.onUpdatePrivacyRequest(e)}}),Object.defineProperty(n,"handleRoleButtonClick",{enumerable:!0,writable:!0,value:function(e){n.props.onUpdateRoleRequest(e)}}),Object.defineProperty(n,"handleStudyMixButtonClick",{enumerable:!0,writable:!0,value:function(e){n.props.onUpdateDefaultStudyModeRequest(e)}}),Object.defineProperty(n,"isEditingOtherResource",{enumerable:!0,writable:!0,value:function(){return n.props.isEditingResource&&!n.props.isEditingSettings}}),n.state={headlineText:""},n.privacyOptions=[{label:"Public",value:"public",className:"public-option"},{label:"Private",value:"private",className:"private-option"}],n.roleOptions=[{label:"Instructor",value:"Instructor"},{label:"Student",value:"Student"}],n.studyMixOptions=[{value:"progressive",label:"Progressive"},{value:"random",label:"Random"}],n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.default.Component),o(t,[{key:"render",value:function(){return!this.props.isPackMetadataEditable||this.props.isPreviewing?null:(this.props.pack.isUserPro,l.default.createElement("div",{className:"segment about-tab-segment pack-about-settings-segment"},l.default.createElement("div",{className:"segment-anchor",id:this.props.segmentId}),l.default.createElement("div",{className:"segment-header about-tab-segment-header settings-header"},l.default.createElement("div",{className:"segment-heading about-tab-segment-heading settings-heading"},"Settings")),l.default.createElement("div",{className:"settings-controls"},this.renderRoleSettingsControl(),this.renderStudyMixTypeSettingsControl(),this.renderPrivacySettingsControl())))}},{key:"renderRoleSettingsControl",value:function(){var e=this.props.isProcessingRoleUpdate?"is-processing":"",t=c.default.toClassStr(["settings-control role-setting",e]);return l.default.createElement("div",{className:t},l.default.createElement("div",{className:"heading-and-tooltip"},l.default.createElement("div",{className:"setting-heading"},"Your Role"),l.default.createElement(i.default,{addClasses:"class-role-tooltip",label:"class-role-tooltip",place:"right"},l.default.createElement("div",{className:"tooltip-content"},l.default.createElement("p",{className:"tooltip-text"},"This pertains to your role in this particular class.  Are you learning it yourself, or teaching others?")))),l.default.createElement(s.default,{addClasses:"setting-buttons pack-role-buttons",buttons:this.roleOptions,isDisabled:this.isEditingOtherResource(),isInline:!0,name:"roleOption",onClick:this.handleRoleButtonClick,value:this.props.metadata.global.role.value}))}},{key:"renderStudyMixTypeSettingsControl",value:function(){var e=this.props.isProcessingDefaultStudyModeUpdate?"is-processing":"",t=c.default.toClassStr(["settings-control study-mix-type-setting",e]),n=this.props.hasDefaultStudyModeResource&&"random"==this.props.metadata.global.default_study_mode.value?"random":"progressive";return l.default.createElement("div",{className:t},l.default.createElement("div",{className:"heading-and-tooltip"},l.default.createElement("div",{className:"setting-heading"},"Default Study Mix Type"),l.default.createElement(i.default,{addClasses:"study-mix-tooltip",label:"study-mix-tooltip",place:"right"},l.default.createElement("div",{className:"tooltip-content"},l.default.createElement("div",{className:"tooltip-heading"},"About Study Mix Types"),l.default.createElement("p",{className:"tooltip-text"},l.default.createElement("strong",null,"'Progressive'")," selects cards from decks in the order they appear. So, learners will not see cards from the 2nd deck until they've mostly mastered the 1st deck.  Once they've moved to a later deck, cards from earlier decks will still repeat occasionally."),l.default.createElement("p",{className:"tooltip-text"},l.default.createElement("strong",null,"'Random'")," will choose a random deck before selecting each card.  So, learners might see a card from Deck #12, then Deck #3, then Deck #7, etc."),l.default.createElement("p",{className:"tooltip-text"},"This setting sets the default mode. Learners can always switch between mix types.")))),l.default.createElement(s.default,{addClasses:"setting-buttons study-mix-buttons",buttons:this.studyMixOptions,isDisabled:this.isEditingOtherResource(),isInline:!0,name:"studyMixOption",onClick:this.handleStudyMixButtonClick,value:n}))}},{key:"renderPrivacySettingsControl",value:function(){var e=this.props.isProcessingPrivacyUpdate?"is-processing":"",t=this.props.pack.isUserPro?"":"requires-pro",n=c.default.toClassStr(["settings-control privacy-setting",e,t]);return l.default.createElement("div",{className:n},l.default.createElement("div",{className:"heading-and-tooltip"},l.default.createElement("div",{className:"setting-heading"},"Class Visibility"),l.default.createElement(i.default,{addClasses:"class-visibility-tooltip",label:"class-visibility-tooltip",place:"right"},l.default.createElement("div",{className:"tooltip-content"},l.default.createElement("p",{className:"tooltip-text"},"Marking your class as Private will remove it from the Brainscape market and will prevent anyone else from joining without your explicit invitation. Other users will also need Brainscape Pro in order to access it.")))),l.default.createElement(s.default,{addClasses:"setting-buttons pack-privacy-buttons",buttons:this.privacyOptions,isDisabled:this.isEditingOtherResource(),isInline:!0,name:"privacyOption",onClick:this.handlePrivacyButtonClick,value:this.props.pack.isPrivate?"private":"public"}))}}]),t}();p.propTypes=d,t.default=p,e.exports=t.default},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(7),s=m(n(13)),l=m(n(66)),c=m(n(4)),u=m(n(3)),d=m(n(0)),p=m(n(8)),f=m(n(10)),h=m(n(1));function m(e){return e&&e.__esModule?e:{default:e}}var g={addClasses:u.default.string,isEditingResource:u.default.bool,isEditingSupplemental:u.default.bool,isPackMetadataEditable:u.default.bool,isPreviewing:u.default.bool,isProcessing:u.default.bool,metadata:u.default.object,onCancelEditSupplementalRequest:u.default.func,onEditSupplementalRequest:u.default.func,onUpdateSupplementalRequest:u.default.func,pack:u.default.object,segmentId:u.default.node},b=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":r(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return v.call(n),n.state={alternateNames:"",hasInvalidInput:!1,isAlternateNamesOverCharLimit:!1,isAuthorOverCharLimit:!1,isIsbnOverCharLimit:!1,isTitleOverCharLimit:!1,primaryLanguage:"",sourceBookAuthor:"",sourceBookIsbn:"",sourceBookTitle:"",supplementalData:{}},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,d.default.Component),i(t,[{key:"componentDidMount",value:function(){this.setResources()}},{key:"componentDidUpdate",value:function(e){e.metadata!=this.props.metadata&&this.manageResources(e)}},{key:"render",value:function(){if(!this.props.isPackMetadataEditable||this.props.isPreviewing)return null;var e=this.props.isEditingSupplemental?"is-editing-segment":"",t=this.state.hasInvalidInput?"has-invalid-input":"",n=h.default.toClassStr(["segment about-tab-segment pack-about-supplemental-segment",e,t]);return d.default.createElement("div",{className:n},d.default.createElement("div",{className:"segment-anchor",id:this.props.segmentId}),this.renderSupplementalHeader(),this.renderShowableSupplementalFields(),this.renderEditableSupplementalFields())}},{key:"renderSupplementalHeader",value:function(){return d.default.createElement("div",{className:"segment-header about-tab-segment-header supplemental-header"},d.default.createElement("div",{className:"segment-heading about-tab-segment-heading supplemental-heading"},"Supplemental Info"),d.default.createElement("div",{className:"action-buttons"},this.renderSupplementalTooltip(),this.renderEditSupplementalButton()),this.renderSupplementalEditActionButtons())}},{key:"renderSupplementalTooltip",value:function(){return!this.props.isPackMetadataEditable||this.props.isPreviewing?null:d.default.createElement(s.default,{addClasses:"supplemental-tooltip",label:"supplemental-tooltip",place:"right"},d.default.createElement("div",{className:"tooltip-content"},d.default.createElement("p",{className:"tooltip-text"},"This supplemental information helps us customize your Brainscape experience, and can help other people find your flashcards (if you choose to keep them public).")))}},{key:"renderEditSupplementalButton",value:function(){return!this.props.isPackMetadataEditable||this.props.isEditingResource||this.props.isPreviewing?null:d.default.createElement(a.EditButton,{addClasses:"edit-supplemental-button",onClick:this.handleEditButtonClick})}},{key:"renderSupplementalEditActionButtons",value:function(){if(!this.props.isPackMetadataEditable||!this.props.isEditingSupplemental)return null;var e=this.props.isMobileViewportSize?"Save":"Save changes";return d.default.createElement("div",{className:"edit-action-buttons"},d.default.createElement(p.default,{addClasses:"cancel-button cancel-edit-supplemental-button",label:"Cancel",onClick:this.handleCancelButtonClick}),d.default.createElement(c.default,{addClasses:"save-button save-supplemental-changes-button",isProcessing:this.props.isProcessing,label:e,onClick:this.handleSaveChangesButtonClick}))}},{key:"renderShowableSupplementalFields",value:function(){return this.props.isEditingSupplemental?null:d.default.createElement("div",{className:"supplemental-fields-display"},this.renderSupplementalFields())}},{key:"renderEditableSupplementalFields",value:function(){return this.props.isEditingSupplemental?d.default.createElement("form",{className:"supplemental-fields-form",onSubmit:this.handleFormSubmit},this.renderSupplementalFields(),d.default.createElement("input",{type:"submit",className:"hidden-submit-button"})):null}},{key:"renderSupplementalFields",value:function(){return d.default.createElement("div",{className:"supplemental-fields"},d.default.createElement("div",{className:"segment-sub-group sourcing"},d.default.createElement("div",{className:"heading-and-tooltip"},d.default.createElement("div",{className:"segment-sub-heading"},"Sourcing"),d.default.createElement(s.default,{addClasses:"sourcing-tooltip",label:"sourcing-tooltip",place:"right"},d.default.createElement("div",{className:"tooltip-content"},d.default.createElement("p",{className:"tooltip-text"},"If these flashcards are primarily sourced from one book, enter the Title, Author, and ISBN (if you have it) of the book. This will both help other users find your content, and will help Brainscape prioritize which publishers we should try to partner with more formally :)")))),d.default.createElement("div",{className:"sub-group-fields"},this.renderSourceBookTitle(),this.renderSourceBookAuthor(),this.renderSourceBookIsbn())),d.default.createElement("div",{className:"segment-sub-group primary-language"},d.default.createElement("div",{className:"heading-and-tooltip"},d.default.createElement("div",{className:"segment-sub-heading"},"Primary Language"),d.default.createElement(s.default,{addClasses:"primary-language-tooltip",label:"primary-language-tooltip",place:"right"},d.default.createElement("div",{className:"tooltip-content"},d.default.createElement("p",{className:"tooltip-text"},"e.g. If this class's native speakers are all Brazilian, then we're guessing your content is in Portuguese.")))),d.default.createElement("div",{className:"sub-group-fields"},this.renderPrimaryLanguage())),d.default.createElement("div",{className:"segment-sub-group alternate-names"},d.default.createElement("div",{className:"heading-and-tooltip"},d.default.createElement("div",{className:"segment-sub-heading"},"Alternate Names"),d.default.createElement(s.default,{addClasses:"alternate-names-tooltip",label:"alternate-names-tooltip",place:"right"},d.default.createElement("div",{className:"tooltip-content"},d.default.createElement("p",{className:"tooltip-text"},'e.g. If your class name is "Greek History" but some users might be searching for "Ancient Greece", then write "Ancient Greece" as an alternate name. You can separate multiple Alternate Names by comma.')))),d.default.createElement("div",{className:"sub-group-fields"},this.renderAlternateNames())))}},{key:"renderSourceBookTitle",value:function(){var e=this.props.metadata.global.source_book_title,t=this.state.supplementalData[e.field_id];return t?d.default.createElement(l.default,{addClasses:"source-book-title",fieldId:t.fieldId,fieldKey:t.fieldKey,fieldType:"textField",fieldLabel:"Book Title",fieldValue:t.fieldValue,isEditing:this.props.isEditingSupplemental,key:"source-book-title",onOverCharLimitChange:this.handleOverCharLimitChange,onChange:this.handleFieldChange,placeholder:t.placeholder,tooltip:t.tooltip}):null}},{key:"renderSourceBookAuthor",value:function(){var e=this.props.metadata.global.source_book_author,t=this.state.supplementalData[e.field_id];return t?d.default.createElement(l.default,{addClasses:"source-book-author",fieldId:t.fieldId,fieldKey:t.fieldKey,fieldType:"textField",fieldLabel:"Book Author",fieldValue:t.fieldValue,isEditing:this.props.isEditingSupplemental,key:"source-book-author",onOverCharLimitChange:this.handleOverCharLimitChange,onChange:this.handleFieldChange,placeholder:t.placeholder,tooltip:t.tooltip}):null}},{key:"renderSourceBookIsbn",value:function(){var e=this.props.metadata.global.source_book_isbn,t=this.state.supplementalData[e.field_id];return t?d.default.createElement(l.default,{addClasses:"source-book-isbn",fieldId:t.fieldId,fieldKey:t.fieldKey,fieldType:"textField",fieldLabel:"Book ISBN",fieldValue:t.fieldValue,isEditing:this.props.isEditingSupplemental,key:"source-book-isbn",onOverCharLimitChange:this.handleOverCharLimitChange,onChange:this.handleFieldChange,placeholder:t.placeholder,tooltip:t.tooltip}):null}},{key:"renderPrimaryLanguage",value:function(){var e=this.props.metadata.global.language,t=this.state.supplementalData[e.field_id];if(!t)return null;var n=t.options.map(function(e,t){return{id:e,label:e}});return n.unshift({id:-1,label:"Choose One..."}),d.default.createElement(l.default,{addClasses:"primary-language",fieldId:t.fieldId,fieldKey:t.fieldKey,fieldType:"pulldown",fieldLabel:"",fieldValue:t.fieldValue,isEditing:this.props.isEditingSupplemental,key:"primary-language",onChange:this.handleFieldChange,options:n,placeholder:t.placeholder,tooltip:t.tooltip})}},{key:"renderAlternateNames",value:function(){if(this.props.isEditingSupplemental)return this.renderEditableAlternateNames();var e=this.props.metadata.global.alternate_names,t=this.state.supplementalData[e.field_id];return t?d.default.createElement("div",{className:"alternate-names-text"},t.fieldValue):null}},{key:"renderEditableAlternateNames",value:function(){var e=this,t=this.props.metadata.global.alternate_names,n=this.state.supplementalData[t.field_id],r=n.fieldId;return d.default.createElement(f.default,{addClasses:"alternate-names-textfield",charLimit:280,id:"alternate-names",onOverCharLimitChange:function(t){return e.handleOverCharLimitChange(r,t)},onChange:function(t){return e.handleFieldChange(r,t.target.value)},placeholder:"Enter a comma-separated list of alternate names for your class",value:n.fieldValue||""})}},{key:"generateMetaField",value:function(e){var t=this.props.metadata.global[e];return t?{fieldId:t.field_id,fieldKey:t.field_key,fieldLabel:t.field_label,fieldValue:t.value,placeholder:t.placeholder,options:t.options,tooltip:t.tool_tip}:null}}]),t}(),v=function(){var e=this;Object.defineProperty(this,"handleEditButtonClick",{enumerable:!0,writable:!0,value:function(){e.props.onEditSupplementalRequest&&e.props.onEditSupplementalRequest()}}),Object.defineProperty(this,"handleCancelButtonClick",{enumerable:!0,writable:!0,value:function(){e.setResources(),e.props.onCancelEditSupplementalRequest&&e.props.onCancelEditSupplementalRequest()}}),Object.defineProperty(this,"handleFieldChange",{enumerable:!0,writable:!0,value:function(t,n){var r=o({},e.state.supplementalData),i=-1!=n?n:"";r[t].fieldValue=i,e.setState({hasInvalidInput:!1,supplementalData:r})}}),Object.defineProperty(this,"handleFormSubmit",{enumerable:!0,writable:!0,value:function(t){t&&(t.preventDefault(),t.stopPropagation()),e.handleSaveChanges()}}),Object.defineProperty(this,"handleOverCharLimitChange",{enumerable:!0,writable:!0,value:function(t,n){var r=o({},e.state.supplementalData);r[t]&&(r[t].isOverLimit=n,e.setState({supplementalData:r}))}}),Object.defineProperty(this,"handleSaveChangesButtonClick",{enumerable:!0,writable:!0,value:function(){e.handleSaveChanges()}}),Object.defineProperty(this,"handleSaveChanges",{enumerable:!0,writable:!0,value:function(){for(var t=e.state.supplementalData,n=Object.keys(t),r=[],o=0;o<n.length;o++){var i=n[o];if(t[i].isOverLimit)return e.setState({hasInvalidInput:!0}),!1;r.push({field_id:t[i].fieldId,value:t[i].fieldValue})}e.props.onUpdateSupplementalRequest(r)}}),Object.defineProperty(this,"hasResource",{enumerable:!0,writable:!0,value:function(t,n){var r=n||e.props;return!!(r.metadata&&r.metadata.global&&r.metadata.global[t]&&r.metadata.global[t].value)}}),Object.defineProperty(this,"hasResourceChanged",{enumerable:!0,writable:!0,value:function(t,n){if(!e.hasResource(t,n)||!e.hasResource(t,e.props))return!1;var r=n.metadata.global[t].value;return e.props.metadata.global[t].value!=r}}),Object.defineProperty(this,"manageResources",{enumerable:!0,writable:!0,value:function(t){e.hasResourceChanged("alternate_names",t)&&e.setResource("alternate_names"),e.hasResourceChanged("language",t)&&e.setResource("language"),e.hasResourceChanged("source_book_author",t)&&e.setResource("source_book_author"),e.hasResourceChanged("source_book_isbn",t)&&e.setResource("source_book_isbn"),e.hasResourceChanged("source_book_title",t)&&e.setResource("source_book_title")}}),Object.defineProperty(this,"setResource",{enumerable:!0,writable:!0,value:function(t){var n=o({},e.state.supplementalData),r=e.generateMetaField(t);r&&r.fieldId&&(n[r.fieldId]=r,e.setState({supplementalData:n}))}}),Object.defineProperty(this,"setResources",{enumerable:!0,writable:!0,value:function(){var t=o({},e.state.supplementalData),n=e.generateMetaField("alternate_names"),r=e.generateMetaField("language"),i=e.generateMetaField("source_book_author"),a=e.generateMetaField("source_book_isbn"),s=e.generateMetaField("source_book_title");t[n.fieldId]=n,t[r.fieldId]=r,t[i.fieldId]=i,t[a.fieldId]=a,t[s.fieldId]=s,e.setState({hasInvalidInput:!1,supplementalData:t})}})};b.propTypes=g,t.default=b,e.exports=t.default},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(7),a=f(n(13)),s=f(n(3)),l=f(n(0)),c=f(n(1)),u=f(n(65)),d=f(n(193)),p=f(n(194));function f(e){return e&&e.__esModule?e:{default:e}}var h={addClasses:s.default.string,hasVideoCaptionResource:s.default.bool,hasVideoUrlResource:s.default.bool,isEditingResource:s.default.bool,isEditingVideo:s.default.bool,isMobileViewportSize:s.default.bool,isPackMetadataEditable:s.default.bool,isPreviewing:s.default.bool,isProcessing:s.default.bool,metadata:s.default.object,onAddVideoRequest:s.default.func,onCancelEditVideoRequest:s.default.func,onEditVideoRequest:s.default.func,onUpdateVideoRequest:s.default.func,segmentId:s.default.node},m=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":r(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return g.call(n),n.state={videoCaption:"",videoUrl:""},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.default.Component),o(t,[{key:"componentDidMount",value:function(){this.setResources()}},{key:"componentDidUpdate",value:function(e){e.metadata!=this.props.metadata&&this.manageResources(e)}},{key:"render",value:function(){var e=this.getVideoUrl()&&!this.props.isEditingVideo?"is-playable":"",t=this.props.isEditingVideo?"is-editing-segment":"",n=c.default.toClassStr(["segment about-tab-segment pack-about-video-segment",e,t,this.props.addClasses]);return l.default.createElement("div",{className:n},l.default.createElement("div",{className:"segment-anchor",id:this.props.segmentId}),l.default.createElement("div",{className:"segment-header about-tab-segment-header video-header"},l.default.createElement("div",{className:"segment-heading about-tab-segment-heading video-heading"},"Intro Video"),this.renderVideoActionButtons()),this.renderVideoSegmentContent())}},{key:"renderVideoSegmentContent",value:function(){return this.props.isEditingVideo?l.default.createElement(p.default,{isClickable:!this.props.isEditingResource,isEditable:!this.props.isEditingResource,isEditing:this.props.isEditingVideo,isMobileViewportSize:this.props.isMobileViewportSize,isProcessing:this.props.isProcessing,onCancel:this.handleCancelEditVideoRequest,onCaptionChange:this.handleVideoCaptionChange,onPlaceholderClick:this.handleVideoPlaceholderClick,onSubmit:this.handleUpdateVideoRequest,onUrlChange:this.handleVideoUrlChange,shouldShowRemoveButton:this.props.hasVideoUrlResource,videoCaption:this.state.videoCaption,videoUrl:this.state.videoUrl}):this.getVideoUrl()?this.renderVideoPlayer():l.default.createElement("div",{className:"add-video-prompt",onClick:this.handleAddVideoPromptClick},"Add a YouTube Video...")}},{key:"renderVideoPlayer",value:function(){var e=c.default.parseYouTubeUrl(this.getVideoUrl());return e.isValidUrl?"embed"==e.type?l.default.createElement("div",{className:"video-and-caption"},l.default.createElement(u.default,{shouldAutoPlay:!1,videoUrl:e.url}),this.renderVideoCaption()):l.default.createElement("div",{className:"video-and-caption"},l.default.createElement(d.default,{isLink:!0,posterImageUrl:null,shouldAutoPlay:!0,videoUrl:e.url}),this.renderVideoCaption()):this.renderBadVideoUrlPoster()}},{key:"renderVideoCaption",value:function(){return this.props.isEditingVideo?null:this.props.hasVideoCaptionResource?l.default.createElement("div",{className:"video-caption"},this.props.metadata.global.video_caption.value):null}},{key:"renderVideoActionButtons",value:function(){return!this.props.isPackMetadataEditable||this.props.isPreviewing?null:l.default.createElement("div",{className:"action-buttons"},this.renderVideoTooltip(),this.renderEditVideoButton())}},{key:"renderVideoTooltip",value:function(){return!this.props.isPackMetadataEditable||this.props.isPreviewing?null:l.default.createElement(a.default,{addClasses:"pack-video-tooltip",label:"pack-video-tooltip",place:"right"},l.default.createElement("div",{className:"tooltip-content"},l.default.createElement("p",{className:"tooltip-text"},"Embed a YouTube video to introduce users to your Class, or to complement the material covered in your Flashcards.")))}},{key:"renderEditVideoButton",value:function(){return!this.getVideoUrl()||!this.props.isPackMetadataEditable||this.props.isEditingResource||this.props.isPreviewing?null:l.default.createElement(i.EditButton,{addClasses:"edit-video-button",onClick:this.handleEditButtonClick})}},{key:"renderBadVideoUrlPoster",value:function(){return null}}]),t}(),g=function(){var e=this;Object.defineProperty(this,"handleCancelEditVideoRequest",{enumerable:!0,writable:!0,value:function(){e.setResources(),e.props.onCancelEditVideoRequest&&e.props.onCancelEditVideoRequest()}}),Object.defineProperty(this,"handleVideoCaptionChange",{enumerable:!0,writable:!0,value:function(t){e.setState({videoCaption:t})}}),Object.defineProperty(this,"handleVideoUrlChange",{enumerable:!0,writable:!0,value:function(t){e.setState({videoUrl:t})}}),Object.defineProperty(this,"handleEditButtonClick",{enumerable:!0,writable:!0,value:function(){e.props.onEditVideoRequest&&e.props.onEditVideoRequest()}}),Object.defineProperty(this,"handleAddVideoPromptClick",{enumerable:!0,writable:!0,value:function(t){t&&t.stopPropagation(),e.props.onAddVideoRequest&&e.props.onAddVideoRequest()}}),Object.defineProperty(this,"handleVideoPlaceholderClick",{enumerable:!0,writable:!0,value:function(){e.props.onEditVideoRequest&&e.props.onEditVideoRequest()}}),Object.defineProperty(this,"handleUpdateVideoRequest",{enumerable:!0,writable:!0,value:function(t){e.props.onUpdateVideoRequest&&(e.setState({videoUrl:t.url,videoCaption:t.caption}),e.props.onUpdateVideoRequest(t))}}),Object.defineProperty(this,"getVideoUrl",{enumerable:!0,writable:!0,value:function(){return e.hasResource("video_url")?e.props.metadata.global.video_url.value:""}}),Object.defineProperty(this,"hasResource",{enumerable:!0,writable:!0,value:function(t,n){var r=n||e.props;return!!(r.metadata&&r.metadata.global&&r.metadata.global[t]&&r.metadata.global[t].value)}}),Object.defineProperty(this,"hasResourceChanged",{enumerable:!0,writable:!0,value:function(t,n){if(!e.hasResource(t,n)||!e.hasResource(t,e.props))return!1;var r=n.metadata.global[t].value;return e.props.metadata.global[t].value!=r}}),Object.defineProperty(this,"manageResources",{enumerable:!0,writable:!0,value:function(t){e.hasResourceChanged("video_url",t)&&e.setVideoUrl(),e.hasResourceChanged("video_caption",t)&&e.setVideoCaption()}}),Object.defineProperty(this,"setVideoUrl",{enumerable:!0,writable:!0,value:function(){var t=e.hasResource("video_url")?e.props.metadata.global.video_url.value:"";e.setState({videoUrl:t})}}),Object.defineProperty(this,"setVideoCaption",{enumerable:!0,writable:!0,value:function(){var t=e.hasResource("video_caption")?e.props.metadata.global.video_caption.value:"";e.setState({videoCaption:t})}}),Object.defineProperty(this,"setResources",{enumerable:!0,writable:!0,value:function(){e.setVideoUrl(),e.setVideoCaption()}})};m.propTypes=h,t.default=m,e.exports=t.default},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=l(n(0)),a=l(n(90)),s=l(n(1));function l(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":r(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={isOpen:!1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default.Component),o(t,[{key:"render",value:function(){var e=this,t=s.default.toClassStr(["video-modal-poster",this.props.addClasses]),n=this.props.posterImageUrl||"/assets/video-poster-image.jpg";return i.default.createElement("div",{className:t},i.default.createElement("img",{className:"video-poster-image",src:n,onClick:function(t){return e.handleVideoPosterClick(t)}}),i.default.createElement("i",{className:"play-icon ion-ios-play",onClick:function(t){return e.handleVideoPosterClick(t)}}),i.default.createElement(a.default,{isOpen:this.state.isOpen,onCloseRequest:function(){return e.handleCloseVideoModalRequest()},shouldAutoPlay:this.props.shouldAutoPlay,videoUrl:this.props.videoUrl}))}},{key:"handleVideoPosterClick",value:function(e){e&&e.stopPropagation(),this.props.isLink?window.open(this.props.videoUrl,"_blank"):this.setState({isOpen:!0})}},{key:"handleCloseVideoModalRequest",value:function(){this.setState({isOpen:!1})}}]),t}();t.default=c,e.exports=t.default},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=p(n(2)),a=p(n(4)),s=p(n(3)),l=p(n(0)),c=p(n(8)),u=p(n(10)),d=p(n(1));function p(e){return e&&e.__esModule?e:{default:e}}s.default.string,s.default.object,s.default.bool,s.default.bool,s.default.bool,s.default.bool,s.default.bool,s.default.string,s.default.func,s.default.func,s.default.func,s.default.func,s.default.func,s.default.bool,s.default.string,s.default.string;var f=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":r(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return Object.defineProperty(n,"render",{enumerable:!0,writable:!0,value:function(){var e=n.props.isClickable?"is-clickable":"",t=n.props.isEditable?"is-editable":"",r=n.props.isEditing?"is-editing":"",o=n.state.isInvalidCaption?"is-invalid-caption":"",i=n.state.isInvalidUrl?"is-invalid-url":"",a=d.default.toClassStr(["video-placeholder",e,t,r,o,i,n.props.addClasses]);return l.default.createElement("div",{className:a,onClick:n.handlePlaceholderClick},n.renderTitle(),n.renderMessage(),n.renderEditIcon(),n.renderEditForm(),n.props.children)}}),Object.defineProperty(n,"handleCancelEditVideoUrlButtonClick",{enumerable:!0,writable:!0,value:function(){n.props.onCancel&&n.props.onCancel()}}),Object.defineProperty(n,"handleRemoveVideoButtonClick",{enumerable:!0,writable:!0,value:function(){n.triggerCautionModalOpen({actionText:"remove the video from your Class",cancelButtonText:"No, Keep video",onResolution:function(){n.removeVideo(),n.triggerCautionModalClose()},resolveButtonText:"Yes, remove"})}}),Object.defineProperty(n,"handlePlaceholderClick",{enumerable:!0,writable:!0,value:function(e){e&&e.stopPropagation(),n.props.isClickable&&n.props.onPlaceholderClick&&n.props.onPlaceholderClick()}}),Object.defineProperty(n,"handleCaptionOverCharLimitChange",{enumerable:!0,writable:!0,value:function(e){var t=e?"Your caption exceeds the character limit":"";n.setState({isCaptionOverLimit:e,videoCaptionCaption:t})}}),Object.defineProperty(n,"handleVideoFormSubmit",{enumerable:!0,writable:!0,value:function(e){if(e&&(e.preventDefault(),e.stopPropagation()),n.state.isCaptionOverLimit)return n.setState({isInvalidCaption:!0}),!1;if(n.props.onSubmit){var t=d.default.parseYouTubeUrl(n.props.videoUrl);return t.isValidUrl?(t.caption=n.props.videoCaption,n.props.onSubmit(t),!0):(n.setState({isInvalidInput:!0,isInvalidUrl:!0,videoUrlCaption:"This is an invalid YouTube URL. See help above."}),!1)}}}),Object.defineProperty(n,"handleYouTubeHelpButtonClick",{enumerable:!0,writable:!0,value:function(){window.open("https://support.google.com/youtube/answer/57741","_blank")}}),Object.defineProperty(n,"handleCaptionChange",{enumerable:!0,writable:!0,value:function(e){n.state.isInvalidCaption&&n.resetVideoCaptionCaption(),n.props.onCaptionChange&&n.props.onCaptionChange(e.target.value)}}),Object.defineProperty(n,"handleUrlChange",{enumerable:!0,writable:!0,value:function(e){n.state.isInvalidUrl&&n.resetVideoUrlCaption(),n.props.onUrlChange&&n.props.onUrlChange(e.target.value)}}),Object.defineProperty(n,"resetVideoCaptionCaption",{enumerable:!0,writable:!0,value:function(){n.setState({isInvalidCaption:!1,videoCaptionCaption:""})}}),Object.defineProperty(n,"resetVideoUrlCaption",{enumerable:!0,writable:!0,value:function(){n.setState({isInvalidUrl:!1,videoUrlCaption:"Embed or watch video url (YouTube only)"})}}),n.state={isCaptionOverLimit:!1,isInvalidUrl:!1,videoCaptionCaption:"",videoUrlCaption:""},n._isMounted=!1,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.default.Component),o(t,[{key:"componentDidMount",value:function(){this._isMounted=!0,this.resetVideoUrlCaption(),this.resetVideoCaptionCaption()}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"renderTitle",value:function(){return this.props.title?l.default.createElement("div",{className:"placeholder-heading"},title):null}},{key:"renderMessage",value:function(){return!this.props.message||this.props.isEditing?null:l.default.createElement("div",{className:"message"},this.props.message)}},{key:"renderEditIcon",value:function(){return!this.props.isEditable||this.props.isEditing?null:l.default.createElement("i",{className:"edit-icon"})}},{key:"renderEditForm",value:function(){var e=this;if(!this.props.isEditing)return null;var t=this.props.isMobileViewportSize?"Save":"Save changes";return l.default.createElement("form",{className:"edit-video-form",onSubmit:function(t){return e.handleVideoFormSubmit(t)}},l.default.createElement("div",{className:"action-buttons"},l.default.createElement(c.default,{addClasses:"youtube-help-button",label:"YouTube URL Help",onClick:this.handleYouTubeHelpButtonClick}),this.renderRemoveVideoButton(),l.default.createElement(c.default,{addClasses:"cancel-edit-video-url-button",label:"Cancel",onClick:this.handleCancelEditVideoUrlButtonClick}),l.default.createElement(a.default,{addClasses:"save-video-url-changes-button",isDisabled:d.default.isBlank(this.props.videoUrl),isProcessing:this.props.isProcessing,label:t,onClick:this.handleVideoFormSubmit})),l.default.createElement(u.default,{addClasses:"video-url-field",caption:this.state.videoUrlCaption,hasInitialFocus:!0,id:"video-url",isInvalid:this.state.isInvalidUrl,label:"YouTube Video URL",onChange:this.handleUrlChange,placeholder:"cut and paste video url here",value:this.props.videoUrl}),l.default.createElement(u.default,{addClasses:"video-caption-field",caption:this.state.videoCaptionCaption,charLimit:280,hasInitialFocus:!1,id:"video-caption",isInvalid:this.state.isInvalidCaption,label:"Video Caption",onChange:this.handleCaptionChange,onOverCharLimitChange:this.handleCaptionOverCharLimitChange,placeholder:"type text to appear underneath video",value:this.props.videoCaption}),l.default.createElement("input",{type:"submit",className:"hidden-submit-button"}))}},{key:"renderRemoveVideoButton",value:function(){return this.props.shouldShowRemoveButton?l.default.createElement(c.default,{addClasses:"remove-video-button",label:"Remove Video",onClick:this.handleRemoveVideoButtonClick}):null}},{key:"triggerCautionModalOpen",value:function(e){i.default.emitEvent("caution-modal:open",e)}},{key:"triggerCautionModalClose",value:function(e){i.default.emitEvent("caution-modal:close",e)}},{key:"removeVideo",value:function(){this.props.onSubmit({isValidUrl:!0,caption:"",url:"",type:""}),this.resetVideoUrlCaption()}}]),t}();t.default=f,e.exports=t.default},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(7),a=g(n(196)),s=g(n(39)),l=g(n(2)),c=g(n(25)),u=g(n(4)),d=g(n(0)),p=g(n(17)),f=g(n(8)),h=g(n(199)),m=g(n(1));function g(e){return e&&e.__esModule?e:{default:e}}var b=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":r(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return Object.defineProperty(n,"handlePaginationButtonClick",{enumerable:!0,writable:!0,value:function(){n.props.onPaginateDecksRequest()}}),Object.defineProperty(n,"handleImportDeckClick",{enumerable:!0,writable:!0,value:function(){n.props.isUserPro?n.triggerImportDeckModalOpen():n.triggerUpgradeToImportDeckModalOpen()}}),Object.defineProperty(n,"triggerImportDeckModalOpen",{enumerable:!0,writable:!0,value:function(){l.default.emitEvent("import-deck-modal:open",{pack:n.props.pack})}}),Object.defineProperty(n,"triggerUpgradeToImportDeckModalOpen",{enumerable:!0,writable:!0,value:function(){l.default.emitEvent("upgrade-modal:open",{desiredAction:"Import from CSV",paywall:"import_csv",warning:!0})}}),n.Deck=new s.default,n.library=new c.default,n.state={areDecksSortable:!1,isProcessingDeckCreate:!1,isProcessingDeckImport:!1,isStudyMixTypePulldownOpen:!1,newDeckFormIsInvalid:!1},n._isMounted=!1,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,d.default.Component),o(t,[{key:"componentDidMount",value:function(){this._isMounted=!0}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"render",value:function(){var e=this,t=this.props.isFtse?"is-ftse":"",n=this.props.isFtue?"is-ftue":"",r=this.state.areDecksSortable?"is-sorting":"",o=m.default.toClassStr(["pack-decks-section",r,n,t,this.props.addClasses]),i=this.state.areDecksSortable?" Decks (Drag to Sort)":"Decks",a=this.state.areDecksSortable||this.props.pack.deckCount<1;return d.default.createElement("section",{className:o,id:"primary-nav","data-pack-id":this.props.pack.packId},d.default.createElement("div",{className:"dashboard-pack-deck-list-header"},d.default.createElement(p.default,{addClasses:"pack-selected-checkbox",isChecked:this.props.packSelectedState,isDisabled:a,isThreeState:!0,onClick:function(t){return e.handlePackCheckboxClick(t)},state:this.props.packSelectedState,value:this.props.pack.packId}),d.default.createElement("div",{className:"labeling"},d.default.createElement("h5",{className:"deck-list-heading"},i)),this.renderStudyMixButton(),this.renderPackActions()),this.renderDeckList(),this.renderFooter())}},{key:"renderDeckList",value:function(){var e=this,t=this.props.pack;return t.hasDecks?d.default.createElement(a.default,{authenticityToken:this.props.authenticityToken,hasLegacyStyles:this.props.hasLegacyStyles,isMobileViewportSize:this.props.isMobileViewportSize,isSortable:this.state.areDecksSortable,mixStats:this.props.mixStats,onDeckCheckboxClick:function(t){return e.props.onDeckCheckboxClick(t)},pack:t,selectedDecks:this.props.selectedDecks,shouldPulseAddCardsButton:this.props.shouldPulseAddCardsButton}):this.renderNoDecksInfo()}},{key:"renderDisableSortingButton",value:function(){var e=this;return d.default.createElement("div",{className:"pack-actions"},d.default.createElement(u.default,{addClasses:"pack-action done-sorting",label:"Done Sorting",onClick:function(){return e.handleDoneSortingClick()}}))}},{key:"renderFooter",value:function(){return this.props.pack.deckCount<=this.props.decksPageSize*this.props.decksPageIndex?null:d.default.createElement("footer",{className:"pack-deck-list-footer"},d.default.createElement(f.default,{addClasses:"pagination-button",isProcessing:this.props.isProcessingDeckPagination,label:"See all "+m.default.displayNumber(this.props.pack.deckCount)+" Decks",onClick:this.handlePaginationButtonClick}))}},{key:"renderMobilePackActions",value:function(){var e=this;return d.default.createElement("div",{className:"pack-actions"},this.renderReorderDecksButton(),d.default.createElement(i.AddButton,{addClasses:"pack-action create-deck",isProcessing:this.state.isProcessingDeckCreate,onClick:function(){return e.handleCreateDeckClick()},title:"Add a Deck to this Class"}),d.default.createElement(i.ImportButton,{addClasses:"pack-action import-deck",isProcessing:this.state.isProcessingDeckImport,onClick:this.handleImportDeckClick,title:"Import Decks from CSV file"}))}},{key:"renderNoDecksInfo",value:function(){var e=this;return d.default.createElement("div",{className:"pack-no-deck-info"},d.default.createElement("h2",{className:"deck-name"},"This Class has no Decks"),d.default.createElement("p",{className:"deck-name-caption"},"You can create as many Decks as you want in this Class. All users who are sharing this Class with you will be able to see the decks you add here."),d.default.createElement(u.default,{addClasses:this.props.shouldPulseCreateDeckButton?"pulse":"",isProcessing:this.state.isProcessingDeckCreate,label:"Create New Deck",onClick:function(){return e.handleCreateDeckClick()}}))}},{key:"renderPackActions",value:function(){var e=this;if(this.state.areDecksSortable)return this.renderDisableSortingButton();if(!this.props.pack.isAppendable)return null;if(this.props.isMobileViewportSize)return this.renderMobilePackActions();var t=this.props.isUserPro?"":"pro-required",n=m.default.toClassStr(["pack-action import-deck",t]);return d.default.createElement("div",{className:"pack-actions"},this.renderReorderDecksButton(),d.default.createElement(f.default,{addClasses:"pack-action create-deck",isProcessing:this.state.isProcessingDeckCreate,label:"Create",onClick:function(){return e.handleCreateDeckClick()},title:"Add a Deck to this Class"}),d.default.createElement(f.default,{addClasses:n,isProcessing:this.state.isProcessingDeckImport,label:"Import",onClick:this.handleImportDeckClick,title:"Import Decks from CSV file"}))}},{key:"renderPaginationButton",value:function(){return this.props.learnersTotal<=this.props.learnersPageSize*this.props.learnersPageIndex?d.default.createElement("div",{className:"pagination-button"}):d.default.createElement(f.default,{addClasses:"pagination-button",isProcessing:this.props.isProcessingLearnerPagination,label:"See all "+this.props.learnersTotal+" Learners",onClick:this.handlePaginationButtonClick})}},{key:"renderReorderDecksButton",value:function(){var e=this;return!this.props.pack.areDecksEditable||this.props.pack.deckCount<2?null:this.props.isMobileViewportSize?d.default.createElement(i.ReorderButton,{addClasses:"pack-action reorder-decks",onClick:function(){return e.handleReorderDecksClick()},title:"Reorder Decks"}):d.default.createElement(f.default,{addClasses:"pack-action reorder-decks",label:"Reorder",onClick:function(){return e.handleReorderDecksClick()},title:"Reorder Decks"})}},{key:"renderStudyMixButton",value:function(){var e=this;if(this.state.areDecksSortable)return null;var t=this.props.selectedDecks.length<1?"is-disabled":"",n=this.props.shouldPulseStudyButton?"pulse":"",r=m.default.toClassStr(["study-mix-button-container",n,t]),o=1==this.props.selectedDecks.length?"deck":"decks",i=this.props.isMobileViewportSize?"Study":"Study "+this.props.selectedDecks.length+" "+o,a=this.props.isMobileViewportSize?"bottomLeft":"bottomRight";return d.default.createElement("div",{className:r},d.default.createElement("div",{className:"study-mix-button",onClick:function(t){return e.handleStudyButtonClick(t)}},d.default.createElement("i",{className:"study-button-icon"}),d.default.createElement("div",{className:"label"},i),d.default.createElement(h.default,{onSetStudyMixTypeRequest:function(t){return e.props.onSetStudyMixTypeRequest(t)},openPosition:a,studyMixType:this.props.studyMixType})))}},{key:"handleCreateDeckClick",value:function(){this.props.onCreateDeckRequest()}},{key:"handleDeckFilesImported",value:function(e){l.default.emitEvent("refresh-pack-detail-section")}},{key:"handleDoneSortingClick",value:function(){this.setState({areDecksSortable:!1})}},{key:"handlePackCheckboxClick",value:function(e){e&&e.stopPropagation,this.props.onPackCheckboxClick()}},{key:"handleReorderDecksClick",value:function(){this._isMounted&&(this.setState({areDecksSortable:!0}),m.default.fireGaEvent("Library","Reorder",this.props.pack.packId))}},{key:"handleStudyButtonClick",value:function(e){e&&e.stopPropagation(),this.props.onStudyRequest()}}]),t}();t.default=b,e.exports=t.default},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=d(n(9));n(629);var a=d(n(197)),s=d(n(25)),l=d(n(15)),c=d(n(0)),u=d(n(1));function d(e){return e&&e.__esModule?e:{default:e}}var p=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":r(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={isSortableInitialized:!1},n._isMounted=!1,n.Library=new s.default,n.Pack=new l.default,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,c.default.Component),o(t,[{key:"componentDidMount",value:function(){this._isMounted=!0,this.updateSorting()}},{key:"componentDidUpdate",value:function(e){e.isSortable!=this.props.isSortable&&this.updateSorting()}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"render",value:function(){var e=this,t=this.props.hasLegacyStyles?"legacy":"",n=this.props.isSortable?"is-sortable":"",r=this.props.shouldPulseAddCardsButton?"pulse-add-cards-button":"",o=u.default.toClassStr(["deck-list",t,n,r,this.props.addClasses]),i=this.props.pack.deckRows.map(function(t,n){var r=t.deckID,o=e.props.pack,i=o.userPackDecks[r],s=-1!=e.props.selectedDecks.indexOf(r),l=e.Library.getPackDeckStudyMixUrl(o.userId,o,r);return c.default.createElement(a.default,{authenticityToken:e.props.authenticityToken,deck:i,hasLegacyStyles:e.props.hasLegacyStyles,isMobileViewportSize:e.props.isMobileViewportSize,isSelected:s,key:n,mixStats:e.props.mixStats,onCheckboxClick:function(){return e.props.onDeckCheckboxClick(r)},pack:e.props.pack,studyMixPath:l})});return c.default.createElement("ul",{className:o},i)}},{key:"handleDecksSorted",value:function(e,t){var n=t.item[0].id,r=t.item.index()+1;this.Pack.reorderDecks({id:this.props.pack.packId,deckId:n,params:{position:r},done:function(e){console.log("pack decks reordered on server. data:",e)},fail:function(e,t){console.log("something went wrong in Pack.show. jqXHR:",e)}})}},{key:"updateSorting",value:function(){var e=this;(0,i.default)(document).ready(function(){e.props.isSortable?e.enableSorting():e.disableSorting()})}},{key:"enableSorting",value:function(){var e=this;(0,i.default)(".deck-list").sortable({scroll:!0,axis:"y",opacity:.7,placeholder:"deck-row sortable-placeholder",update:function(t,n){return e.handleDecksSorted(t,n)},connectWith:".deck-list"}),(0,i.default)(".deck-list").sortable("enable"),this.setState({isSortableInitialized:!0})}},{key:"disableSorting",value:function(){this.state.isSortableInitialized&&(0,i.default)(".deck-list").sortable("disable")}}]),t}();t.default=p,e.exports=t.default},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(7),a=b(n(123)),s=b(n(39)),l=b(n(198)),c=b(n(2)),u=b(n(6)),d=b(n(4)),p=b(n(3)),f=b(n(0)),h=b(n(17)),m=b(n(33)),g=b(n(1));function b(e){return e&&e.__esModule?e:{default:e}}var v={addClasses:p.default.string,areDecksSortable:p.default.bool,authenticityToken:p.default.string,deck:p.default.object,isMobileViewportSize:p.default.bool,isSelected:p.default.bool,mixStats:p.default.object,onCheckboxClick:p.default.func,onDeckChange:p.default.func,pack:p.default.object,studyMixPath:p.default.string},y=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":r(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return Object.defineProperty(n,"handleAddCardsButtonClick",{enumerable:!0,writable:!0,value:function(){n.setState({isProcessingAddCardsAction:!0}),g.default.navigate(n.props.deck.newCardPath+"?pack_id="+n.props.pack.packId)}}),Object.defineProperty(n,"handleDeckRowClick",{enumerable:!0,writable:!0,value:function(e){e.stopPropagation();var t=n.props.studyMixPath+"&origin=dashboard";return n.props.deck.isLocked?(g.default.trackPaywallWarning("locked_deck"),n.triggerUnlockDeckModalOpen(),!1):n.props.deck.hasCards?n.props.deck.isStudyable?void g.default.navigate(t,"Loading Study Experience"):(g.default.trackPaywallWarning("study_rights"),n.triggerStudyRightsUpgradeModalOpen(),!1):(n.setState({isShowNoCardsModalOpen:!0}),!1)}}),Object.defineProperty(n,"handleEditCardsButtonClick",{enumerable:!0,writable:!0,value:function(){n.setState({isProcessingEditCardsAction:!0}),"html"!=n.props.deck.contentType||n.props.pack.isUserPro?g.default.navigate(n.props.deck.updatePath,"Loading the editor..."):n.triggerAdvancedEditorUpgradeModalOpen(function(){n.setState({isProcessingEditCardsAction:!1})})}}),Object.defineProperty(n,"handleNoCardsModalCloseRequest",{enumerable:!0,writable:!0,value:function(){n.setState({isShowNoCardsModalOpen:!1})}}),Object.defineProperty(n,"handlePreviewCardsButtonClick",{enumerable:!0,writable:!0,value:function(){n.setState({isProcessingPreviewCardsAction:!0}),c.default.emitEvent("deck-preview-modal:open",{deckId:n.props.deck.deckId,onReady:function(){n.setState({isProcessingPreviewCardsAction:!1})},packId:n.props.pack.packId})}}),Object.defineProperty(n,"handleUnlockDeckButtonClick",{enumerable:!0,writable:!0,value:function(){n.setState({isProcessingUnlockDeckAction:!0}),g.default.trackPaywallWarning(n.props.pack.isPremium?"premium_class_unlock":"ugs_unlock"),n.triggerUnlockDeckModalOpen(function(){n.setState({isProcessingUnlockDeckAction:!1})})}}),n.state={canCopyAndPlace:!1,deckCards:[],isDeckEditable:!1,isPreviewCardsModalOpen:!1,isProcessingAddCardsAction:!1,isProcessingEditCardsAction:!1,isProcessingPreviewCardsAction:!1,isProcessingUnlockDeckAction:!1,isShowNoCardsModalOpen:!1},n.Card=new a.default,n.Deck=new s.default,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,f.default.Component),o(t,[{key:"render",value:function(){var e=this,t=this.getMastery(),n=Math.floor(100*t)||0,r=g.default.getMasteryLevel(n),o=this.props.deck.isStudyable?"is-studyable":"",i=g.default.toClassStr(["deck-row",this.props.addClasses,this.props.hasLegacyStyles?"legacy":"",this.props.deck.isLocked?"is-locked":"",o,"mastery-level-"+r]);return f.default.createElement("li",{className:i,id:this.props.deck.deckId,onClick:this.handleDeckRowClick},f.default.createElement("ul",{className:"deck-row-contents"},f.default.createElement("li",{className:"deck-selection-checkbox",title:"These decks will be included in your next Smart Study session, when you click the big blue button",key:"checkbox"},f.default.createElement(h.default,{isChecked:this.props.isSelected,isDisabled:!this.props.deck.isStudyable,value:this.props.deck.deckId,onClick:function(t){return e.handleCheckboxClick(t)}})),this.renderMasteryOrLockIcon(n),f.default.createElement("li",{className:"deck-info"},f.default.createElement("div",{className:"deck-name-and-caption"},f.default.createElement("h4",{className:"deck-name"},this.props.deck.name),f.default.createElement("p",{className:"deck-name-caption"},this.renderDeckNameCaptionText())),this.renderBottomRow()),f.default.createElement("li",{className:"action-buttons"},this.renderRightSideActionButtons()),this.renderNoCardsModal()))}},{key:"renderMasteryOrLockIcon",value:function(e){return this.props.deck.isLocked?f.default.createElement("li",{className:"deck-locked-icon",title:"Unlock this deck to study"}):f.default.createElement("li",{className:"deck-mastery"},e,"%")}},{key:"renderDeckNameCaptionText",value:function(){var e=this.getCardCount();return e<1?"There are no cards in this deck":this.props.deck.isLocked?"Unlock this deck to study":g.default.displayNumber(this.getCardsStudied())+" of "+g.default.displayNumber(e)+" unique cards studied"}},{key:"renderBottomRow",value:function(){return this.props.isMobileViewportSize?f.default.createElement("div",{className:"action-buttons bottom-row-action-buttons"},this.renderAddCardsButton(),this.renderUnlockDeckButton()):this.renderProgressBar()}},{key:"renderProgressBar",value:function(){var e=100*this.getMastery();return f.default.createElement(m.default,{baseValue:100,barValue:e,isLight:!0,shouldDepictLevel:!0})}},{key:"renderRightSideActionButtons",value:function(){var e=[];return this.props.isMobileViewportSize||(e.push(this.renderUnlockDeckButton()),e.push(this.renderAddCardsButton()),e.push(this.renderPreviewCardsButton()),e.push(this.renderEditCardsButton())),e.push(f.default.createElement(l.default,{addClasses:"action-button",authenticityToken:this.props.authenticityToken,deck:this.props.deck,hasLegacyStyles:!1,iconType:"horizontal",key:"deck-options-button",pack:this.props.pack,title:"Edit, Copy, Reset, more"})),e}},{key:"renderUnlockDeckButton",value:function(){return this.props.deck.isLocked?f.default.createElement(d.default,{addClasses:"action-button unlock-deck-button",isProcessing:this.state.isProcessingUnlockDeckAction,key:"unlock-button",label:"Unlock",onClick:this.handleUnlockDeckButtonClick}):null}},{key:"renderAddCardsButton",value:function(){return!this.props.deck.isEditable||this.props.deck.hasCards||this.props.deck.isLocked?null:f.default.createElement(d.default,{addClasses:"action-button add-cards-button",isProcessing:this.state.isProcessingAddCardsAction,key:"add-cards-button",label:"Add Cards",onClick:this.handleAddCardsButtonClick})}},{key:"renderPreviewCardsButton",value:function(){return this.props.deck.isPreviewable&&this.props.deck.hasCards?f.default.createElement(i.BrowseButton,{addClasses:"action-button preview-cards-button",isProcessing:this.state.isProcessingPreviewCardsAction,key:"browse-button",onClick:this.handlePreviewCardsButtonClick,title:"Preview the Cards in this Deck"}):null}},{key:"renderEditCardsButton",value:function(){return this.props.deck.isEditable&&this.props.deck.hasCards?f.default.createElement(i.EditButton,{addClasses:"action-button edit-cards-button",isProcessing:this.state.isProcessingEditCardsAction,key:"edit-button",onClick:this.handleEditCardsButtonClick,title:"Edit the Cards in this Deck"}):null}},{key:"renderNoCardsModal",value:function(){return f.default.createElement(u.default,{addClasses:"no-cards-modal",isOpen:this.state.isShowNoCardsModalOpen,onCloseRequest:this.handleNoCardsModalCloseRequest},f.default.createElement("div",{className:"new-modal-title"},"This Deck Has No Cards"),f.default.createElement("p",{className:"new-modal-message"},"Before you can study this deck, you or the Class creator must add cards to this deck."),f.default.createElement("div",{className:"new-modal-actions"},f.default.createElement(d.default,{addClasses:"resolve-modal-button",label:"Ok",onClick:this.handleNoCardsModalCloseRequest})))}},{key:"handleCheckboxClick",value:function(e){return e.stopPropagation(),this.props.deck.isLocked?(g.default.trackPaywallWarning("locked_deck"),this.triggerUnlockDeckModalOpen(),!1):this.props.deck.hasCards?void this.props.onCheckboxClick():(this.setState({shouldShowNoCardsModal:!0}),!1)}},{key:"triggerAdvancedEditorUpgradeModalOpen",value:function(e){c.default.emitEvent("upgrade-modal:open",{desiredAction:"Editing advanced format cards",onCloseRequest:e,paywall:"advanced_editor"})}},{key:"triggerStudyRightsUpgradeModalOpen",value:function(){c.default.emitEvent("upgrade-modal:open",{message:"This Deck requires Pro to Study.",paywall:"study_rights"})}},{key:"triggerUnlockDeckModalOpen",value:function(e){c.default.emitEvent("unlock-deck-modal:open",{onCloseRequest:e,pack:this.props.pack})}},{key:"getMastery",value:function(){return this.hasStats()&&this.props.mixStats.deckStats[this.props.deck.deckId].mastery||0}},{key:"getCardCount",value:function(){return this.hasStats()&&this.props.mixStats.deckStats[this.props.deck.deckId].cardCount||0}},{key:"getCardsStudied",value:function(){return this.hasStats()&&this.props.mixStats.deckStats[this.props.deck.deckId].cardsStudied||0}},{key:"hasStats",value:function(){return this.props.mixStats&&this.props.mixStats.deckStats&&this.props.deck.deckId&&this.props.mixStats.deckStats[this.props.deck.deckId]}}]),t}();y.propTypes=v,t.default=y,e.exports=t.default},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=g(n(123)),s=g(n(161)),l=g(n(39)),c=g(n(2)),u=g(n(168)),d=g(n(22)),p=g(n(15)),f=g(n(630)),h=g(n(0)),m=g(n(1));function g(e){return e&&e.__esModule?e:{default:e}}var b=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":r(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return Object.defineProperty(n,"render",{enumerable:!0,writable:!0,value:function(){var e=m.default.toClassStr(["deck-options-button",n.props.addClasses]);return h.default.createElement("div",{className:e},h.default.createElement("div",{className:"deck-options-menu-button"},h.default.createElement(d.default,{hasLegacyStyles:n.props.hasLegacyStyles,iconType:n.props.iconType,initialOpenState:n.props.initialOptionsOpenState,isProcessing:n.state.isProcessingOptionAction,isUserPro:n.props.pack.isUserPro,menuOptions:n.state.menuOptions,onOptionClick:function(e){return n.handleOptionClick(e)},openPosition:"bottomLeft",shouldButtonTurn:!1,title:n.props.title})),h.default.createElement("div",{className:"deck-options-modals"},n.renderResourceFormModal(),n.renderCopyAndPlaceDeckModal()))}}),Object.defineProperty(n,"handleOptionClick",{enumerable:!0,writable:!0,value:function(e){if(n.menuOptionHash[e].onlyPro&&!n.props.pack.isUserPro){var t=n.menuOptionHash[e].label||"",r=n.menuOptionHash[e].paywall||"",o=n.menuOptionHash[e].warning;n.triggerUpgradeModalOpen(t,r,o)}else n.handleOptionActionRequest(e)}}),Object.defineProperty(n,"performDeckObjectiveAction",{enumerable:!0,writable:!0,value:function(){n.setState({isProcessingOptionAction:!0}),n.Deck.show({id:n.props.deck.deckId,params:{packID:n.props.pack.packId},done:function(e){var t=e.desc||"No description entered for this deck";n.triggerDialogModalOpen({message:t,resolveButtonText:"Ok",shouldSuppressCancelButton:!0,title:e.name}),n.setState({isProcessingOptionAction:!1})},fail:function(e,t){console.log("something went wrong in Deck.show. message:",e)}})}}),Object.defineProperty(n,"performResetStatsAction",{enumerable:!0,writable:!0,value:function(){n.setState({isProcessingOptionAction:!0});var e=n.menuOptionHash.resetStats.label;n.triggerCautionModalOpen({actionText:e,cancelButtonText:"No, Cancel",onCloseRequest:function(){n.setState({isProcessingOptionAction:!1})},onResolution:function(){n.completeResetStatsAction(),n.triggerCautionModalClose()},resolveButtonText:"Yes, please proceed"})}}),Object.defineProperty(n,"completeResetStatsAction",{enumerable:!0,writable:!0,value:function(){n.Deck.resetStats({id:n.props.deck.deckId,done:function(e){n.triggerDialogModalOpen({message:null,resolveButtonText:"Ok",shouldSuppressCancelButton:!0,title:"Deck Stats Reset",onCloseRequest:function(){n.triggerRefreshPackDetailSection(),n.setState({isProcessingOptionAction:!1})}})},fail:function(e,t){console.log("something went wrong in Deck.resetStats. message:",e)}})}}),Object.defineProperty(n,"performEditDeckInfoAction",{enumerable:!0,writable:!0,value:function(){n.setState({isProcessingOptionAction:!0}),n.Deck.show({id:n.props.deck.deckId,params:{packID:n.props.pack.packId},done:function(e){var t={title:"Edit Deck",operation:"edit",resourceTag:"deck",resourceId:n.props.deck.deckId,fieldsHash:o({},n.Deck.getSchema()),onSubmit:function(){return n.handleDeckInfoFormSubmit()},onChange:function(e,t){return n.handleDeckInfoChange(e,t)},onCancel:function(){return n.handleCloseModalForm()},isInvalid:!1,isDismissable:!1};t.fieldsHash.name.value=e.name,t.fieldsHash.desc.value=e.desc,n.setState({modalFormOpts:t,shouldShowModalForm:!0})},fail:function(e,t){console.log("something went wrong in Deck.show. message:",e)}})}}),Object.defineProperty(n,"handleDeckInfoFormSubmit",{enumerable:!0,writable:!0,value:function(){n.setState({isProcessingModalForm:!0});var e={name:n.state.modalFormOpts.fieldsHash.name.value,desc:n.state.modalFormOpts.fieldsHash.desc.value},t=n.Deck.validate(e);if(!t.isValid){var r=o({},n.state.modalFormOpts);return r.isInvalid=!0,r.validationMessage=t.message,t.invalidFields.forEach(function(e){r.fieldsHash[e].isInvalid=!0}),n.setState({modalFormOpts:r,isProcessingModalForm:!1}),!1}n.Deck.update({id:n.props.deck.deckId,params:{packID:n.props.pack.packId},reqData:t.validData,done:function(e){n.handleCloseModalForm(function(){return n.triggerRefreshPackDetailSection()})},fail:function(e,t){console.log("something went wrong in Deck.update. message:",e)}})}}),Object.defineProperty(n,"performEditCardsAction",{enumerable:!0,writable:!0,value:function(){"html"!=n.props.deck.contentType||n.props.pack.isUserPro?m.default.navigate(n.props.deck.updatePath):n.triggerUpgradeModalOpen("Cards in this deck were created using the Advanced editor and","advanced_editor")}}),Object.defineProperty(n,"performPreviewCardsAction",{enumerable:!0,writable:!0,value:function(){n.setState({isProcessingOptionAction:!0}),c.default.emitEvent("deck-preview-modal:open",{deckId:n.props.deck.deckId,onCloseRequest:function(){n.state.wasDeckOrPackChanged&&n.triggerRefreshPackDetailSection()},onReady:function(){return n.setState({isProcessingOptionAction:!1})},packId:n.props.pack.packId})}}),Object.defineProperty(n,"handleCardUpdated",{enumerable:!0,writable:!0,value:function(e){var t=e.card;t&&t.deckId==n.props.deck.deckId&&n.setState({wasDeckOrPackChanged:!0})}}),Object.defineProperty(n,"handleUserCardUpdated",{enumerable:!0,writable:!0,value:function(e){var t=e.userCard;t&&t.deckId==n.props.deck.deckId&&n.setState({wasDeckOrPackChanged:!0})}}),Object.defineProperty(n,"performExportDeckAction",{enumerable:!0,writable:!0,value:function(){n.setState({isProcessingOptionAction:!0}),location.href=n.props.deck.exportPath,n.triggerDialogModalOpen({message:null,resolveButtonText:"Ok",shouldSuppressCancelButton:!0,title:"Deck Exported",onCloseRequest:function(){n.triggerDialogModalClose(),n.setState({isProcessingOptionAction:!1})}})}}),Object.defineProperty(n,"performCopyAndPlaceDeckAction",{enumerable:!0,writable:!0,value:function(){n.setState({isProcessingOptionAction:!0,shouldShowCopyAndPlaceDeckModal:!0})}}),Object.defineProperty(n,"handleCloseCopyAndPlaceDeckModal",{enumerable:!0,writable:!0,value:function(){n.setState({shouldShowCopyAndPlaceDeckModal:!1,isProcessingOptionAction:!1})}}),Object.defineProperty(n,"performRemoveDeckAction",{enumerable:!0,writable:!0,value:function(){n.setState({isProcessingOptionAction:!0});var e=n.menuOptionHash.removeDeck.label;n.triggerCautionModalOpen({actionText:e,cancelButtonText:"No, Cancel",onCloseRequest:function(){n.setState({isProcessingOptionAction:!1})},onResolution:function(){n.completeRemoveDeckAction(),n.triggerCautionModalClose()},resolveButtonText:"Yes, continue"})}}),Object.defineProperty(n,"completeRemoveDeckAction",{enumerable:!0,writable:!0,value:function(){n.Deck.remove({id:n.props.deck.deckId,packId:n.props.pack.packId,done:function(e){n.triggerDialogModalOpen({message:null,resolveButtonText:"Ok",shouldSuppressCancelButton:!0,title:"Deck Removed",onCloseRequest:function(){n.triggerRefreshPackDetailSection(),n.setState({isProcessingOptionAction:!1})}})},fail:function(e,t){errMessage=e||t.message,m.default.handleError({operation:"Remove Deck",errorMessage:errMessage,errorObject:t,notifyUser:!1})}})}}),Object.defineProperty(n,"performAddToCategoryAction",{enumerable:!0,writable:!0,value:function(){n.setState({isProcessingOptionAction:!0}),n.Deck.deckCategories({id:n.props.deck.deckId,params:{packID:n.props.pack.packId},done:function(e){var t={title:"Add to Certified Category",operation:"edit",resourceTag:"deck",resourceId:n.props.deck.deckId,fieldsHash:o({},n.Deck.getSchema("onlyAdmin")),onSubmit:function(){return n.handleDeckAdminInfoFormSubmit()},onChange:function(e,t){return n.handleDeckAdminInfoChange(e,t)},onCancel:function(){return n.handleCloseModalForm()},isInvalid:!1,isDismissable:!1};t.fieldsHash.categoryIds.value="",n.setState({modalFormOpts:t,shouldShowModalForm:!0,categoryHash:n.buildCategoryHash(e.all_categories)})},fail:function(e,t){console.log("something went wrong in Deck.deckCategories. message:",e)}})}}),Object.defineProperty(n,"handleDeckAdminInfoFormSubmit",{enumerable:!0,writable:!0,value:function(){n.setState({isProcessingModalForm:!0});var e={categoryIds:n.state.modalFormOpts.fieldsHash.categoryIds.value},t=n.Deck.validateCategoryIds(e,n.state.categoryHash);if(!t.isValid){var r=o({},n.state.modalFormOpts);return r.isInvalid=!0,r.validationMessage=t.message,t.invalidFields.forEach(function(e){r.fieldsHash[e].isInvalid=!0}),n.setState({modalFormOpts:r,isProcessingModalForm:!1}),!1}n.Deck.update({id:n.props.deck.deckId,params:{packID:n.props.pack.packId},reqData:t.validData,done:function(e){n.handleCloseModalForm(),n.triggerDialogModalOpen({message:null,resolveButtonText:"Ok",shouldSuppressCancelButton:!0,title:"Added to Category",onCloseRequest:function(){n.triggerRefreshPackDetailSection(),n.setState({isProcessingOptionAction:!1})}})},fail:function(e,t){errMessage=e||t.message,m.default.handleError({operation:"Add to Category",errorMessage:errMessage,errorObject:t,notifyUser:!1})}})}}),n.state={categoryHash:{},isProcessingModalForm:!1,isProcessingOptionAction:!1,modalFormOpts:{},shouldShowCopyAndPlaceDeckModal:!1,shouldShowModalForm:!1,wasDeckOrPackChanged:!1},n.menuOptionHash={deckObjective:{id:"deckObjective",tag:"deck-objective",label:"Deck Objective"},editDeckInfo:{id:"editDeckInfo",tag:"edit-deck-info",label:"Edit Deck Info",onlyEditor:!0},editCards:{id:"editCards",tag:"edit-cards",label:"Edit Cards",onlyEditor:!0,onlyIfHasCards:!0},previewCards:{id:"previewCards",tag:"preview-cards",label:"Preview Cards",onlyPreviewable:!0,onlyIfHasCards:!0},resetStats:{id:"resetStats",tag:"reset-stats",label:"Reset Deck Stats",onlyPro:!0,paywall:"stats_reset_deck",onlyIfHasCards:!0,onlyStudyable:!0},exportDeck:{id:"exportDeck",tag:"export-deck",label:"Export Deck",onlyPro:!0,onlyEditor:!0,paywall:"csv_export_deck"},copyAndPlaceDeck:{id:"copyAndPlaceDeck",label:"Copy & Place Deck",onlyCopyAndPlaceable:!0,onlyPro:!0,paywall:"copy_and_place_deck",tag:"copy-and-place-deck",warning:!0},removeDeck:{id:"removeDeck",tag:"remove-deck",label:"Remove this Deck",onlyRemovable:!0},addToCategory:{id:"addToCategory",tag:"add-to-category",label:"Add to Category",onlyBscAdmin:!0}},n.Pack=new p.default,n.Deck=new l.default,n.Card=new a.default,n._isMounted=!1,n.events=new c.default,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,h.default.Component),i(t,[{key:"UNSAFE_componentWillMount",value:function(){var e=this,t=Object.keys(this.menuOptionHash).reduce(function(t,n){var r=!e.menuOptionHash[n].onlyEditor||e.props.deck.isEditable,o=!e.menuOptionHash[n].onlyRemovable||e.props.deck.isRemovable,i=!e.menuOptionHash[n].onlyPreviewable||e.props.deck.isPreviewable,a=!e.menuOptionHash[n].onlyStudyable||e.props.deck.isStudyable,s=!e.menuOptionHash[n].onlyAdmin||"admin"==e.props.deck.permissionLevel,l=!e.menuOptionHash[n].onlyBscAdmin||e.props.pack.isUserBscAdmin,c=!e.menuOptionHash[n].onlyIfHasCards||e.props.deck.hasCards,u=!e.menuOptionHash[n].onlyCopyAndPlaceable||e.props.deck.isCopyAndPlaceable;return r&&o&&i&&a&&s&&l&&c&&u&&t.push(e.menuOptionHash[n]),t},[]);this.setState({menuOptions:t})}},{key:"componentDidMount",value:function(){var e=this;this._isMounted=!0,f.default.subscribe("deckAction",function(t){if(e._isMounted){var n=e.props.deck;n&&n.deckId==t.deckId&&e.handleOptionClick(t.optionId)}}),this.events.addListeners([["card:updated",this.handleCardUpdated],["userCard:updated",this.handleUserCardUpdated]])}},{key:"componentWillUnmount",value:function(){this._isMounted=!1,this.events.disable()}},{key:"renderResourceFormModal",value:function(){var e=this;return h.default.createElement(u.default,{addClasses:this.state.modalFormOpts.addClasses,fieldsHash:this.state.modalFormOpts.fieldsHash,isDismissable:this.state.modalFormOpts.isDismissable,isInvalid:this.state.modalFormOpts.isInvalid,isOpen:this.state.shouldShowModalForm,isProcessing:this.state.isProcessingModalForm,onCancel:this.state.modalFormOpts.onCancel,onChange:this.state.modalFormOpts.onChange,onClosed:function(){return e.handleModalFormClosed()},onCloseRequest:function(){return e.handleCloseModalForm()},onSubmit:this.state.modalFormOpts.onSubmit,operation:this.state.modalFormOpts.operation,resourceId:this.state.modalFormOpts.resourceId,resourceTag:this.state.modalFormOpts.resourceTag,title:this.state.modalFormOpts.title,validationMessage:this.state.modalFormOpts.validationMessage})}},{key:"renderCopyAndPlaceDeckModal",value:function(){return h.default.createElement(s.default,{authenticityToken:this.props.authenticityToken,deckId:this.props.deck.deckId,packId:this.props.deck.packId,isOpen:this.state.shouldShowCopyAndPlaceDeckModal,onCloseRequest:this.handleCloseCopyAndPlaceDeckModal})}},{key:"handleCloseModalForm",value:function(e){this.setState({shouldShowModalForm:!1,isProcessingModalForm:!1,isProcessingOptionAction:!1},function(){e&&e()})}},{key:"handleOptionActionRequest",value:function(e){switch(e){case"editDeckInfo":this.performEditDeckInfoAction();break;case"editCards":this.performEditCardsAction();break;case"deckObjective":this.performDeckObjectiveAction();break;case"previewCards":this.performPreviewCardsAction();break;case"resetStats":this.performResetStatsAction();break;case"exportDeck":this.performExportDeckAction();break;case"copyAndPlaceDeck":this.performCopyAndPlaceDeckAction();break;case"removeDeck":this.performRemoveDeckAction();break;case"addToCategory":this.performAddToCategoryAction()}}},{key:"handleDeckInfoChange",value:function(e,t){var n=o({},this.state.modalFormOpts);n.fieldsHash[e].value=t,this.setState({modalFormOpts:n})}},{key:"handleDeckAdminInfoChange",value:function(e,t){var n=o({},this.state.modalFormOpts),r=this.state.categoryHash[t];n.fieldsHash[e].value=t,n.fieldsHash[e].caption=r?"Category: "+r.title:"Searching for matching categories...",this.setState({modalFormOpts:n})}},{key:"triggerCautionModalOpen",value:function(e){c.default.emitEvent("caution-modal:open",e)}},{key:"triggerCautionModalClose",value:function(e){c.default.emitEvent("caution-modal:close",e)}},{key:"triggerDialogModalOpen",value:function(e){c.default.emitEvent("dialog-modal:open",e)}},{key:"triggerDialogModalClose",value:function(e){c.default.emitEvent("dialog-modal:close",e)}},{key:"triggerRefreshPackDetailSection",value:function(){c.default.emitEvent("refresh-pack-detail-section",{})}},{key:"triggerUpgradeModalOpen",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;c.default.emitEvent("upgrade-modal:open",{desiredAction:e,paywall:t,warning:n})}},{key:"buildCategoryHash",value:function(e){var t={};return e.forEach(function(e,n){var r=e[1];t[r]={id:e[1],title:e[0]}}),t}}]),t}();t.default=b,e.exports=t.default},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=u(n(6)),a=u(n(22)),s=u(n(4)),l=u(n(0)),c=u(n(1));function u(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":r(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={isStudyMixTypeHelpModalOpen:!1,isProcessingOptionAction:!1,menuOptions:[]},n.menuOptionHash={setProgressiveMix:{id:"setProgressiveMix",tag:"set-progressive-mix",label:"Progressive Mix",persistOnClick:!0},setRandomMix:{id:"setRandomMix",tag:"set-random-mix",label:"Random Mix",persistOnClick:!0},help:{id:"help",tag:"help",label:"What is this?"}},n._isMounted=!1,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.default.Component),o(t,[{key:"UNSAFE_componentWillMount",value:function(){this.updateUserOptions()}},{key:"componentDidMount",value:function(){this._isMounted=!0}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"render",value:function(){var e=this,t="progressive"==this.props.studyMixType?"progressive-mix-enabled":"random-mix-enabled",n=c.default.toClassStr(["mix-type-options-button",t,this.props.addClasses]),r=this.props.openPosition||"bottomRight";return l.default.createElement("div",{className:n},l.default.createElement(a.default,{iconType:this.props.iconType,isProcessing:this.state.isProcessingOptionAction,isUserPro:this.props.isUserPro,menuOptions:this.state.menuOptions,onOptionClick:function(t){return e.handleOptionActionRequest(t)},openPosition:r,shouldButtonTurn:!1,title:"Set Study Mix Type (Currently "+this.props.studyMixType+")"}),this.renderStudyMixTypeHelpModal())}},{key:"renderStudyMixTypeHelpModal",value:function(){var e=this;return l.default.createElement(i.default,{addClasses:"mix-type-help-modal",isOpen:this.state.isStudyMixTypeHelpModalOpen,onCloseRequest:function(){return e.handleHelpModalCloseRequest()}},l.default.createElement("div",{className:"new-modal-title"},"About Brainscape Study Mix Types"),l.default.createElement("div",{className:"new-modal-message"},"You can configure your study session in the following ways:"),l.default.createElement("div",{className:"new-modal-message"},l.default.createElement("strong",null,"'Progressive'")," selects cards from decks in the order they appear. So, you will not see cards from the 2nd deck until you've mostly mastered the 1st deck.  Once you've moved to a later deck, cards from earlier decks can still repeat occasionally."),l.default.createElement("div",{className:"new-modal-message"},l.default.createElement("strong",null,"'Random'")," will choose a random deck before selecting each card.  So, you might see a card from Deck #12, then Deck #3, then Deck #7, etc."),l.default.createElement("div",{className:"new-modal-actions"},l.default.createElement(s.default,{addClasses:"resolve-modal-button",label:"Ok",onClick:function(){return e.handleHelpOkButtonClick()}})))}},{key:"handleOptionActionRequest",value:function(e){switch(e){case"setProgressiveMix":this.performSetProgressiveMixAction();break;case"setRandomMix":this.performSetRandomMixAction();break;case"help":this.performShowHelpAction()}}},{key:"handleHelpModalCloseRequest",value:function(){this.setState({isStudyMixTypeHelpModalOpen:!1})}},{key:"handleHelpOkButtonClick",value:function(){this.setState({isStudyMixTypeHelpModalOpen:!1})}},{key:"performSetProgressiveMixAction",value:function(){this.props.onSetStudyMixTypeRequest("progressive")}},{key:"performSetRandomMixAction",value:function(){this.props.onSetStudyMixTypeRequest("random")}},{key:"performShowHelpAction",value:function(){this.setState({isStudyMixTypeHelpModalOpen:!0})}},{key:"updateUserOptions",value:function(){var e=this,t=this.props.pack,n=Object.keys(this.menuOptionHash).reduce(function(n,r){return(!e.menuOptionHash[r].onlyDeckEditor||t.areDecksEditable)&&n.push(e.menuOptionHash[r]),n},[]);this.setState({menuOptions:n})}}]),t}();t.default=d,e.exports=t.default},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(7),a=v(n(2)),s=v(n(50)),l=v(n(15)),c=v(n(92)),u=v(n(4)),d=v(n(3)),p=v(n(0)),f=(v(n(33)),v(n(201))),h=v(n(73)),m=v(n(10)),g=v(n(18)),b=v(n(1));function v(e){return e&&e.__esModule?e:{default:e}}var y={addClasses:d.default.string,authenticityToken:d.default.string,currentTabId:d.default.node,isMobileViewportSize:d.default.bool,learnersCount:d.default.number,onPackDeleted:d.default.func,onPackUpdated:d.default.func,onSetDeckSortability:d.default.func,onStudyRequest:d.default.func,onTabClick:d.default.func,pack:d.default.object,selectedDecks:d.default.array,selectedDecksCardCount:d.default.number,selectedDecksCardsStudiedCount:d.default.number,selectedDecksMastery:d.default.number,shouldShowNewLearnerPrompt:d.default.bool,tabs:d.default.object},k=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":r(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return Object.defineProperty(n,"handleCustomizeIconButtonClick",{enumerable:!0,writable:!0,value:function(){n.triggerCustomizeClassIconModalOpen()}}),Object.defineProperty(n,"handleEditPackNameButtonClick",{enumerable:!0,writable:!0,value:function(){n.setState({isEditingPackName:!0})}}),Object.defineProperty(n,"handleEditPackNameRequest",{enumerable:!0,writable:!0,value:function(){n.setState({isEditingPackName:!0})}}),Object.defineProperty(n,"handlePackNameChange",{enumerable:!0,writable:!0,value:function(e){n.setState({packName:e.target.value})}}),Object.defineProperty(n,"handlePackNameFormDismissButtonClick",{enumerable:!0,writable:!0,value:function(){n.setState({isEditingPackName:!1,packName:n.state.savedPackName})}}),Object.defineProperty(n,"handlePackNameFormSaveButtonClick",{enumerable:!0,writable:!0,value:function(){n.handlePackNameFormSubmit()}}),Object.defineProperty(n,"handlePackNameFormSubmit",{enumerable:!0,writable:!0,value:function(e){e&&(e.preventDefault(),e.stopPropagation());var t=n.state.packName;""!=t?(n.setState({isProcessingPackNameUpdate:!0}),n.updatePackName(t,function(){n.setState({isEditingPackName:!1,isProcessingPackNameUpdate:!1,savedPackName:t})})):n.setState({packName:n.state.savedPackName})}}),Object.defineProperty(n,"updatePackName",{enumerable:!0,writable:!0,value:function(e,t){n.Pack.update({id:n.props.pack.packId,reqData:{authenticityToken:n.props.authenticityToken,name:e},done:function(e){t&&t()},fail:function(e,t){b.default.handleError({operation:"Update Pack Name",errorMessage:"There was a problem updating your Class information. Please refresh and try again.",errorObject:e,notifyUser:!0})}})}}),n.state={isEditingPackName:!1,isProcessingPackNameUpdate:!1,packName:n.props.pack.name||"",savedPackName:n.props.pack.name||""},n._isMounted=!1,n.Pack=new l.default,n.events=new a.default,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,p.default.Component),o(t,[{key:"componentDidMount",value:function(){var e=this;this._isMounted=!0,this.events.addListener("edit-pack-name-form:open",function(){e.handleEditPackNameRequest()})}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"render",value:function(){var e=this,t=this.props.pack,n=this.props.shouldShowAddMetadataPrompt?"show-add-metadata-prompt":"",r=this.props.shouldShowNewLearnerPrompt?"show-new-learner-prompt":"",o=b.default.toClassStr(["pack-detail-header",n,r,this.props.addClasses]);return p.default.createElement("header",{className:o},p.default.createElement("div",{className:"first-row"},p.default.createElement("div",{className:"pack-icon"},p.default.createElement("img",{className:"pack-icon-image",src:t.iconUrl}),this.renderCustomizeIconButton()),p.default.createElement("div",{className:"pack-header-main"},this.renderPackName(),p.default.createElement("div",{className:"pack-metadata"},this.renderPackCreator(),p.default.createElement("div",{className:"user-pack-stats"},p.default.createElement("span",{className:"stat-value"},b.default.displayNumber(this.props.selectedDecksCardsStudiedCount),"\xa0")," of ",p.default.createElement("span",{className:"stat-value"},"\xa0",b.default.displayNumber(this.props.selectedDecksCardCount),"\xa0")," unique cards studied")),p.default.createElement("div",{className:"pack-actions"},p.default.createElement("div",{className:"pack-action-buttons"},p.default.createElement(f.default,{onClick:function(){return e.handleStudyButtonClick()},title:"Study "+this.props.selectedDecks.length+" selected Decks"}),this.renderShareButton(),p.default.createElement(c.default,{authenticityToken:this.props.authenticityToken,iconType:"horizontal",initialOptionsOpenState:!1,isMobileViewportSize:this.props.isMobileViewportSize,onPackDeleted:this.props.onPackDeleted,onPackUpdated:this.props.onPackUpdated,pack:t,title:"Import/Export, Duplicate, Reset, more"})))),p.default.createElement("div",{className:"mastery-and-mobile-icon"},this.renderMasteryCircle(),p.default.createElement("div",{className:"mobile-pack-icon"},p.default.createElement("img",{className:"pack-icon-image",src:t.iconUrl})))),p.default.createElement("div",{className:"second-row"},p.default.createElement(h.default,{addClasses:"is-light",currentTabId:this.props.currentTabId,onTabClick:this.props.onTabClick,tabs:this.props.tabs})))}},{key:"renderCustomizeIconButton",value:function(){if(!this.props.pack.isUserPackAdmin)return null;var e=b.default.toClassStr(["customize-icon-button"]);return p.default.createElement("div",{className:e,onClick:this.handleCustomizeIconButtonClick},"Customize icon")}},{key:"renderPackName",value:function(){if(this.state.isEditingPackName)return this.renderPackNameForm();var e=this.state.packName;return p.default.createElement("div",{className:"pack-name-and-edit-button"},p.default.createElement("h1",{className:"pack-name",title:e},e),p.default.createElement(i.EditButton,{addClasses:"edit-pack-name-button",onClick:this.handleEditPackNameButtonClick,title:"Edit Class title"}))}},{key:"renderPackNameForm",value:function(){return p.default.createElement("form",{className:"pack-name-form",onSubmit:this.handlePackNameFormSubmit},p.default.createElement(m.default,{addClasses:"pack-name-text-field",buttons:this.renderPackNameFormFieldButtons(),hasInitialFocus:!0,id:"pack-name",onChange:this.handlePackNameChange,placeholder:this.props.placeholder||"Enter Class Name",value:this.state.packName}),p.default.createElement("input",{type:"submit",className:"hidden-submit-button"}))}},{key:"renderPackNameFormFieldButtons",value:function(){return p.default.createElement("div",{className:"pack-name-form-field-buttons"},p.default.createElement(i.DismissButton,{addClasses:"dismiss-pack-name-form-button",onClick:this.handlePackNameFormDismissButtonClick}),p.default.createElement(u.default,{addClasses:"save-pack-name-form-button",isProcessing:this.state.isProcessingPackNameUpdate,label:"Save",onClick:this.handlePackNameFormSaveButtonClick}))}},{key:"renderMasteryCircle",value:function(){var e=void 0,t=void 0;this.props.selectedDecks&&this.props.selectedDecks.length<this.props.pack.deckCount&&(e=this.props.selectedDecks.length+" / "+this.props.pack.deckCount+" Decks",t="subset-selected");var n=b.default.toClassStr(["pack-mastery",t]);return p.default.createElement(g.default,{label:"mastery-circle-tooltip",tooltipContent:this.renderMasteryCircleTooltip()},p.default.createElement(s.default,{addClasses:n,animationDuration:0,key:"packMastery",label:e,isLight:!0,mastery:this.props.selectedDecksMastery,shouldAnimate:!1,shouldCountUpMastery:!1,shouldShowLevels:!1,shouldShowMasteryValue:!0,shouldShowMasteryValueLabel:!0}))}},{key:"renderMasteryCircleTooltip",value:function(){return p.default.createElement("div",{className:"tooltip-content mix-composition"},p.default.createElement("div",{className:"tooltip-heading"},"About the Mastery Circle"),p.default.createElement("p",{className:"tooltip-text"},"This graph displays the weighted average of your self-assessed confidence for all of the cards you have studied in the decks that are presently selected."),p.default.createElement("p",{className:"tooltip-text"},"Tip: To see your mastery of the entire class, select all decks."))}},{key:"renderPackCreator",value:function(){var e=this.props.pack;return e.isMarket?p.default.createElement("div",{className:"certification-label"},"Brainscape Certified Class"):p.default.createElement("div",{className:"pack-creator"},"Creator:\xa0",p.default.createElement("a",{className:"creator-profile-link",href:e.creatorProfilePath,target:"_blank"},e.creatorName))}},{key:"renderShareButton",value:function(){var e=this;return this.props.pack.isSharable?p.default.createElement(i.ShareButton,{onClick:function(){return e.handleShareButtonClick()},title:"Share this Class by e-mail or link"}):null}},{key:"handleShareButtonClick",value:function(){this.props.pack.isUserPackAdmin?this.triggerSharePackModalSetOpen():this.triggerSharePackByLinkModalOpen()}},{key:"handleStudyButtonClick",value:function(){this.props.onStudyRequest()}},{key:"triggerCustomizeClassIconModalOpen",value:function(){a.default.emitEvent("customize-class-icon-modal:open",{authenticityToken:this.props.authenticityToken,pack:this.props.pack})}},{key:"triggerSharePackByLinkModalOpen",value:function(){a.default.emitEvent("share-pack-by-link-modal:open",{authenticityToken:this.props.authenticityToken,pack:this.props.pack})}},{key:"triggerSharePackModalSetOpen",value:function(){a.default.emitEvent("share-pack-modal-set:open",{authenticityToken:this.props.authenticityToken,pack:this.props.pack})}}]),t}();k.propTypes=y,t.default=k,e.exports=t.default},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=l(n(0)),a=l(n(12)),s=l(n(1));function l(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":r(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default.Component),o(t,[{key:"render",value:function(){var e=this,t=s.default.toClassStr(["icon-button","study-button",this.props.addClasses,this.props.isProcessing?"is-processing":""]);return i.default.createElement("div",{className:t,onClick:function(t){return e.handleButtonClick(t)},title:this.props.title},i.default.createElement("i",{className:"study-button-icon"}),this.renderSpinner())}},{key:"renderSpinner",value:function(){return this.props.isProcessing?i.default.createElement(a.default,null):null}},{key:"handleButtonClick",value:function(e){e&&e.stopPropagation(),this.props.onClick&&this.props.onClick()}}]),t}();t.default=c,e.exports=t.default},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(7),a=O(n(63)),s=O(n(2)),l=O(n(13)),c=O(n(203)),u=O(n(89)),d=O(n(25)),p=O(n(40)),f=O(n(204)),h=O(n(205)),m=O(n(206)),g=O(n(207)),b=O(n(208)),v=O(n(6)),y=O(n(35)),k=O(n(64)),_=O(n(4)),w=O(n(26)),C=O(n(34)),S=O(n(0)),P=O(n(17)),E=O(n(8)),x=O(n(1));function O(e){return e&&e.__esModule?e:{default:e}}var T=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":r(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return Object.defineProperty(n,"handleBulkPermissionOutsideClick",{enumerable:!0,writable:!0,value:function(){n.setState({isBulkPermissionPulldownOpen:!1})}}),Object.defineProperty(n,"handleSearchBoxChange",{enumerable:!0,writable:!0,value:function(e){var t=e.target.value;n.props.onLearnerSearchBoxChange(t)}}),Object.defineProperty(n,"handleSearchLearnersRequest",{enumerable:!0,writable:!0,value:function(e){e&&(e.stopPropagation(),e.preventDefault()),n.props.onSearchLearnersRequest()}}),Object.defineProperty(n,"handleSearchBoxClick",{enumerable:!0,writable:!0,value:function(e){if(e.stopPropagation(),n.props.isUserPro)return null;n.setState({isSearchUpgradeModalOpen:!0})}}),Object.defineProperty(n,"handleClearSearchTextButtonClick",{enumerable:!0,writable:!0,value:function(){n.props.onLearnerSearchBoxChange("")}}),Object.defineProperty(n,"handleSearchUpgradeModalCloseRequest",{enumerable:!0,writable:!0,value:function(){n.setState({isSearchUpgradeModalOpen:!1})}}),Object.defineProperty(n,"handleLearnerProgressReportRequest",{enumerable:!0,writable:!0,value:function(e,t){if(!n.props.isUserPro)return x.default.trackPaywallWarning("stats"),s.default.emitEvent("upgrade-modal:open",{desiredAction:"Access to stats and reports on all learners",paywall:"stats"}),void(t&&t());n.getLearnerDeckStats(e,function(){n.setState({isLearnerProgressModalOpen:!0},function(){t&&t()})})}}),Object.defineProperty(n,"handleLearnerProgressModalCloseRequest",{enumerable:!0,writable:!0,value:function(){n.setState({isLearnerProgressModalOpen:!1})}}),Object.defineProperty(n,"handleNewLearnerBubbleClosed",{enumerable:!0,writable:!0,value:function(){n.props.onNewLearnerBubbleClosed()}}),Object.defineProperty(n,"handleNewLearnerBlockClick",{enumerable:!0,writable:!0,value:function(e){e.stopPropagation(),n.props.onNewLearnerBubbleClosed(),n.triggerSharePackModalSetOpen()}}),Object.defineProperty(n,"handlePackPrivacyChanged",{enumerable:!0,writable:!0,value:function(){n.triggerRefreshPackDetailSection(),n.triggerEditPackPrivacyModalClose()}}),Object.defineProperty(n,"handlePaginationButtonClick",{enumerable:!0,writable:!0,value:function(){n.props.onPaginateLearnersRequest()}}),Object.defineProperty(n,"handlePulseAddLearnerButtonRequest",{enumerable:!0,writable:!0,value:function(){n.setState({shouldPulseAddLearnerButton:!0})}}),Object.defineProperty(n,"performBulkAction",{enumerable:!0,writable:!0,value:function(e){n.setState({isProcessingBulkAction:!0});var t=n.state.selectedLearners;n.props.learners.filter(function(e){return t.indexOf(String(e.userId))>-1}).forEach(e)}}),Object.defineProperty(n,"performBulkPermissionsChange",{enumerable:!0,writable:!0,value:function(){n.performBulkAction(function(e){n.performPermissionChange(e,n.state.bulkPermission,function(){n.setState({isProcessingBulkAction:!1,isConfirmBulkActionsModalOpen:!1})})})}}),Object.defineProperty(n,"performBulkRemove",{enumerable:!0,writable:!0,value:function(){n.performBulkAction(function(e){n.performRemoveLearner(e,function(){n.setState({isProcessingBulkAction:!1,isConfirmBulkActionsModalOpen:!1})})})}}),Object.defineProperty(n,"performPermissionChange",{enumerable:!0,writable:!0,value:function(e,t,r){n.Learner.updatePermissions({packConfigId:e.packConfigId,reqData:{authenticity_token:n.props.authenticityToken,extended_permission:!0,pack_config:{permission:t}},done:function(o){n.props.onUpdateLocalLearnerRequest(e.userId,{permission:t,displayPermission:t}),r&&r()},fail:function(e,t){console.log("Something went wrong in learner updatePermissions. jqXHR, status:",e,t)}})}}),Object.defineProperty(n,"performRemoveLearner",{enumerable:!0,writable:!0,value:function(e,t){n.Learner.remove({packConfigId:e.packConfigId,reqData:{authenticity_token:n.props.authenticityToken},done:function(r){n.props.onRemoveLocalLearnerRequest(e.userId),t&&t()},fail:function(e,t){console.log("Something went wrong in learner remove. jqXHR, status:",e,t)}})}}),Object.defineProperty(n,"getLearnerDeckStats",{enumerable:!0,writable:!0,value:function(e,t){n.Learner.deckStats({packId:n.props.pack.packId,userId:e.userId,done:function(r){r.processingStats&&n.state.learnerDeckStatsRetries<n.MAX_STATS_RETRIES?n.retryGetLearnerDeckStats(e,t):n.acceptStatsAndDisplay(e,r.decks,t)},fail:function(e,t){console.log("Something went wrong in show learners deck stats. jqXHR, status:",e,t)}})}}),n.Library=new d.default,n.Learner=new p.default,n.state={bulkPermission:"study",confirmBulkActionsMessage:"",currentLearner:null,isBulkActionsBarOpen:!1,isBulkPermissionPulldownOpen:!1,isConfirmBulkActionsModalOpen:!1,isFilterUpgradeModalOpen:!1,isLearnerProgressModalOpen:!1,isNewLearnerBubbleOpen:!1,isProcessingBulkAction:!1,isProcessingPrivacyRequest:!1,isSearchUpgradeModalOpen:!1,learnerDeckStats:null,learnerDeckStatsRetries:0,packSelectedState:n.getPackSelectedState(),postConfirmModalCallback:function(){},selectedLearners:n.getSelectedLearners(),shouldShowAddNewLearnerBlock:!1,shouldPulseAddLearnerButton:!1},n._isMounted=!1,n.MAX_STATS_RETRIES=6,n.STATS_RETRY_DELAY=1e3,n.statsRetryTimeout=null,n.bulkPermissionOptions=[{id:"preview",label:"Preview"},{id:"study",label:"Full Study"},{id:"edit",label:"Edit"},{id:"admin",label:"Admin"}],n.privacyOptions=[{label:"Public",value:"public",className:"public-option"},{label:"Private",value:"private",className:"private-option"}],n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,S.default.Component),o(t,[{key:"componentDidMount",value:function(){this.clearTimeoutsAndIntervals(),this._isMounted=!0}},{key:"componentWillUnmount",value:function(){this.clearTimeoutsAndIntervals(),this._isMounted=!1}},{key:"render",value:function(){if(!this.props.learners||this.props.isLoadingPackLearners)return null;var e=this.isUserAnAdmin()?"is-admin":"",t=this.props.isMobileViewportSize?"tile-blocks":"row-blocks",n=x.default.toClassStr(["pack-learners-section",t,e,this.props.addClasses]);return S.default.createElement("section",{className:n},this.renderHeader(),this.renderBulkActionsBar(),this.renderLearnerList(),this.renderFooter(),this.renderNewLearnerBubble(),this.renderLearnerProgressModal())}},{key:"renderHeader",value:function(){return this.props.isMobileViewportSize?this.renderTilesHeader():this.renderRowsHeader()}},{key:"renderTilesHeader",value:function(){var e=this;return S.default.createElement("header",{className:"pack-learner-list-header"},S.default.createElement("h5",{className:"learner-list-heading"},"Learners"),S.default.createElement("div",{className:"list-controls"},this.renderFirstNameHeading(),this.renderLastNameHeading()),S.default.createElement("div",{className:"learner-actions"},S.default.createElement(c.default,{iconType:"horizontal",isUserPro:this.props.isUserPro,onShowBulkActionsBarRequest:function(){return e.handleShowBulkActionsBarRequest()},pack:this.props.pack,title:"Export CSV, Bulk Actions"})))}},{key:"renderRowsHeader",value:function(){var e=this;return S.default.createElement("header",{className:"pack-learner-list-header"},S.default.createElement(P.default,{addClasses:"pack-selected-checkbox",isChecked:this.state.packSelectedState,isThreeState:!0,onClick:function(t){return e.handlePackCheckboxClick(t)},state:this.state.packSelectedState,value:this.props.pack.packId}),S.default.createElement("div",{className:"labeling"},S.default.createElement("h5",{className:"learner-list-heading"},"Learners")),S.default.createElement("div",{className:"list-controls-and-mastery-label"},this.renderFirstNameHeading(),this.renderLastNameHeading(),this.renderFilterOrSearchBox(),S.default.createElement("div",{className:"mastery-label"},"% Mastery")),S.default.createElement("div",{className:"learner-stats-and-permissions-headings"},S.default.createElement("div",{className:"cards-studied-headings"},S.default.createElement("div",{className:"cards-studied-heading"},S.default.createElement("span",null,"Cards Studied"),S.default.createElement(l.default,{addClasses:"cards-studied-tooltip",label:"cards-studied-tooltip",place:"bottom"},S.default.createElement("div",{className:"tooltip-content"},S.default.createElement("div",{className:"tooltip-heading"},"Unique Cards Studied"),S.default.createElement("p",{className:"tooltip-text"},'The *unique* number of cards that each learner has studied. (ex. If a learner studies the same 20 cards 100 times, this stat would be "20").'),S.default.createElement("div",{className:"tooltip-heading"},"Total Cards Studied"),S.default.createElement("p",{className:"tooltip-text"},'The *total* number of cards that each learner has viewed and rated, including repeat views.  (ex. If a learner studies 10 cards 5 times each, this stat would be "50").')))),S.default.createElement("div",{className:"sub-headings"},S.default.createElement("div",{className:"unique-sub-heading"},"Unique"),S.default.createElement("div",{className:"total-sub-heading"},"Total"))),S.default.createElement("div",{className:"learner-pack-permission-heading"},S.default.createElement("span",null,"Permission"),S.default.createElement(k.default,{isPackPrivate:this.props.pack.isPrivate}))),S.default.createElement("div",{className:"learner-actions"},S.default.createElement(c.default,{authenticityToken:this.props.authenticityToken,iconType:"horizontal",isUserPro:this.props.isUserPro,onShowBulkActionsBarRequest:function(){return e.handleShowBulkActionsBarRequest()},pack:this.props.pack,title:"Export CSV, Bulk Actions"})))}},{key:"renderFirstNameHeading",value:function(){var e=this,t="firstName"==this.props.learnersSortColumn?"sort":"",n=""!=t?this.props.learnersSortDirection:"",r=x.default.toClassStr(["first-name",t,n]);return S.default.createElement("div",{className:r,onClick:function(t){return e.handleFirstNameHeadingClick(t)}},"First Name")}},{key:"renderLastNameHeading",value:function(){var e=this,t="lastName"==this.props.learnersSortColumn?"sort":"",n=""!=t?this.props.learnersSortDirection:"",r=x.default.toClassStr(["last-name",t,n]);return S.default.createElement("div",{className:r,onClick:function(t){return e.handleLastNameHeadingClick(t)}},"Last Name")}},{key:"renderFilterOrSearchBox",value:function(){return this.props.areLearnersFullyPopulated?this.renderFilterBox():this.renderSearchBox()}},{key:"renderFilterBox",value:function(){var e=this,t=this.props.learnersFilterText.length>0?"has-text":"",n=this.props.isUserPro?"":"pro-required",r=x.default.toClassStr(["filter-box",t,n]);return S.default.createElement("div",{className:r},S.default.createElement("input",{className:"filter-text-input",type:"text",onChange:function(t){return e.handleFilterBoxChange(t)},onClick:function(t){return e.handleFilterBoxClick(t)},placeholder:"Filter learners",value:this.props.learnersFilterText}),S.default.createElement(i.ClearButton,{addClasses:"clear-filter-text-button",onClick:function(){return e.handleClearFilterTextButtonClick()}}),this.renderFilterUpgradeModal())}},{key:"renderFilterUpgradeModal",value:function(){var e=this;return this.props.isUserPro?null:S.default.createElement(y.default,{desiredAction:"Filter Learners",isOpen:this.state.isFilterUpgradeModalOpen,paywall:"filter_learners",onCloseRequest:function(){return e.handleFilterUpgradeModalCloseRequest()}})}},{key:"renderSearchBox",value:function(){var e=this.props.learnersFilterText.length>0?"has-text":"",t=this.props.isUserPro?"":"pro-required",n=x.default.toClassStr(["search-box",e,t]);return S.default.createElement("form",{className:n,onSubmit:this.handleSearchLearnersRequest},S.default.createElement("input",{className:"search-text-input",type:"text",onChange:this.handleSearchBoxChange,onClick:this.handleSearchBoxClick,placeholder:"Search learners",value:this.props.learnersFilterText}),S.default.createElement("div",{className:"search-go-button",onClick:this.handleSearchLearnersRequest},"Go"),S.default.createElement(i.ClearButton,{addClasses:"clear-search-text-button",onClick:this.handleClearSearchTextButtonClick}),this.renderSearchUpgradeModal())}},{key:"renderSearchUpgradeModal",value:function(){var e=this;return this.props.isUserPro?null:S.default.createElement(y.default,{desiredAction:"Search Learners",isOpen:this.state.isSearchUpgradeModalOpen,paywall:"search_learners",onCloseRequest:function(){return e.handleSearchUpgradeModalCloseRequest()}})}},{key:"renderBulkActionsBar",value:function(){var e=this;if(!this.state.isBulkActionsBarOpen||this.props.isMobileViewportSize||!this.isUserAnAdmin())return null;var t=this.state.selectedLearners.length;return S.default.createElement("div",{className:"bulk-actions-bar"},S.default.createElement("div",{className:"selected-count"},"Bulk actions for ",t," selected Learner(s)"),S.default.createElement("div",{className:"bulk-actions"},S.default.createElement(w.default,{addClasses:"bulk-permission-pulldown",isOpen:this.state.isBulkPermissionPulldownOpen,options:this.bulkPermissionOptions,selectedValue:this.state.bulkPermission,shouldSuppressNullOption:!1,onButtonClick:function(){return e.handleBulkPermissionPulldownButtonClick()},onOptionClick:function(t){return e.handleBulkPermissionOptionClick(t)},onOutsideClick:this.handleBulkPermissionOutsideClick}),S.default.createElement(_.default,{addClasses:"bulk-permission-go-button",label:"Go",onClick:function(){return e.handleBulkPermissionGoButtonClick()},title:"Apply Bulk Permissions"}),S.default.createElement(_.default,{addClasses:"bulk-remove-button",label:"Remove",onClick:function(){return e.handleBulkRemoveButtonClick()},title:"Remove selected learners from this Class"})),S.default.createElement(i.CollapseButton,{onClick:function(){return e.handleBulkActionsCollapseButton()},title:"Collapse Bulk Actions Bar"}),this.renderConfirmBulkActionsModal())}},{key:"renderConfirmBulkActionsModal",value:function(){var e=this;return S.default.createElement(v.default,{addClasses:"confirm-bulk-actions-modal",isOpen:this.state.isConfirmBulkActionsModalOpen,onCloseRequest:function(){return e.handleConfirmBulkActionsModalCloseRequest()}},S.default.createElement("div",{className:"new-modal-title"},"Caution"),S.default.createElement("div",{className:"new-modal-message"},this.state.confirmBulkActionsMessage),S.default.createElement("div",{className:"new-modal-actions"},S.default.createElement(_.default,{addClasses:"resolve-modal-button",isProcessing:this.state.isProcessingBulkAction,label:"Ok",onClick:function(){return e.state.postConfirmModalCallback()}}),S.default.createElement(E.default,{addClasses:"cancel-modal-text-button",label:"Cancel",onClick:function(){return e.handleConfirmBulkActionsModalCloseRequest()}})))}},{key:"renderLearnerList",value:function(){var e=this,t=this.props.locallyFilteredLearners.map(function(t,n){return e.renderLearnerBlock(t,n)});return S.default.createElement("ul",{className:"learner-list"},t,this.renderEmptyLearnerSearchResults(),this.renderNewLearnerBlock(),this.renderPaginationButton())}},{key:"renderLearnerBlock",value:function(e,t){var n=this.isUserAnAdmin();return this.props.isMobileViewportSize?n?this.renderLearnerTileAdminView(e,t):this.renderLearnerTile(e,t):n?this.renderLearnerRowAdminView(e,t):this.renderLearnerRow(e,t)}},{key:"renderLearnerRow",value:function(e,t){var n=this,r=String(e.userId),o=this.state.selectedLearners.indexOf(r)>-1;return S.default.createElement(f.default,{authenticityToken:this.props.authenticityToken,learner:e,isSelected:o,key:t,onChangePermissionRequest:this.performPermissionChange,onCheckboxClick:function(){return n.handleLearnerCheckboxClick(e.userId)},onRemoveLearnerRequest:this.performRemoveLearner,pack:this.props.pack})}},{key:"renderLearnerRowAdminView",value:function(e,t){var n=this,r=String(e.userId),o=this.state.selectedLearners.indexOf(r)>-1;return S.default.createElement(h.default,{authenticityToken:this.props.authenticityToken,learner:e,isSelected:o,key:t,onChangePermissionRequest:this.performPermissionChange,onCheckboxClick:function(){return n.handleLearnerCheckboxClick(e.userId)},onLearnerProgressReportRequest:this.handleLearnerProgressReportRequest,onRemoveLearnerRequest:this.performRemoveLearner,pack:this.props.pack})}},{key:"renderLearnerTile",value:function(e,t){var n=this;return S.default.createElement(m.default,{authenticityToken:this.props.authenticityToken,learner:e,key:t,onChangePermissionRequest:this.performPermissionChange,onCheckboxClick:function(){return n.handleLearnerCheckboxClick(e.userId)},onRemoveLearnerRequest:this.performRemoveLearner,pack:this.props.pack})}},{key:"renderLearnerTileAdminView",value:function(e,t){var n=this;return S.default.createElement(g.default,{authenticityToken:this.props.authenticityToken,learner:e,key:t,onChangePermissionRequest:this.performPermissionChange,onCheckboxClick:function(){return n.handleLearnerCheckboxClick(e.userId)},onLearnerProgressReportRequest:this.handleLearnerProgressReportRequest,onRemoveLearnerRequest:this.performRemoveLearner,pack:this.props.pack})}},{key:"renderEmptyLearnerSearchResults",value:function(){return this.props.hasEmptyLearnerSearchResults?S.default.createElement("li",{className:"empty-learner-search-results"},"No search results found for: ",this.props.learnersFilterText):null}},{key:"renderNewLearnerBlock",value:function(){if(this.props.learners.length>1)return null;if(""!=this.props.learnersFilterText)return null;var e=this.state.shouldPulseAddLearnerButton?"pulse":"",t=x.default.toClassStr(["big-plus-button",e]);return S.default.createElement("li",{className:"new-learner-block",onClick:this.handleNewLearnerBlockClick},S.default.createElement("div",{className:"first-section"},S.default.createElement("i",{className:t}),S.default.createElement("div",{className:"label-and-bar"},S.default.createElement("div",{className:"new-learner-label"},"New Learner"),S.default.createElement("div",{className:"new-learner-progress-bar"}))),S.default.createElement("div",{className:"second-section"},S.default.createElement("div",{className:"cards-studied-placeholder"}),S.default.createElement("div",{className:"card-views-placeholder"}),S.default.createElement("div",{className:"permission-placeholder"})))}},{key:"renderPaginationButton",value:function(){return this.props.areLearnersFullyPopulated?null:S.default.createElement(E.default,{addClasses:"pagination-button",isProcessing:this.props.isProcessingLearnerPagination,label:"See all "+x.default.displayNumber(this.props.pack.subscriberCount)+" Learners",onClick:this.handlePaginationButtonClick})}},{key:"renderFooter",value:function(){return S.default.createElement("footer",{className:"pack-learner-list-footer"},this.renderShareLink(),this.renderPrivacyButtons())}},{key:"renderShareLink",value:function(){if(!this.props.pack.isSharable)return S.default.createElement("div",{className:"share-class no-share"});var e=this.props.pack,t=e.isUserAnAdmin?e.shareLink:e.shareCompactLink;return S.default.createElement("div",{className:"share-class",title:"Copy link to share this Class"},S.default.createElement("div",{className:"share-link"},t),S.default.createElement(a.default,{isDisplayedInInputElem:!1,inputElemSelector:null,value:t}))}},{key:"renderPrivacyButtons",value:function(){var e=this;return this.isUserAnAdmin()?S.default.createElement(C.default,{addClasses:"pack-privacy-buttons",buttons:this.privacyOptions,isInline:!0,name:"privacyOption",onClick:function(t){return e.handlePrivacyButtonClick(t)},value:this.props.pack.isPrivate?"private":"public"}):S.default.createElement("div",{className:"pack-privacy-buttons"})}},{key:"renderLearnerProgressModal",value:function(){return this.state.currentLearner?S.default.createElement(u.default,{isOpen:this.state.isLearnerProgressModalOpen,learner:this.state.currentLearner,learnerDeckStats:this.state.learnerDeckStats,onCloseRequest:this.handleLearnerProgressModalCloseRequest,pack:this.props.pack}):null}},{key:"renderNewLearnerBubble",value:function(){return this.props.shouldShowNewLearnerPrompt?S.default.createElement(b.default,{isMobileViewportSize:this.props.isMobileViewportSize,onClose:this.handleNewLearnerBubbleClosed,onPulseAddLearnerButtonRequest:this.handlePulseAddLearnerButtonRequest,shouldClose:!this.state.shouldShowNewLearnerPrompt}):null}},{key:"handleBulkActionsCollapseButton",value:function(){this.setState({isBulkActionsBarOpen:!1})}},{key:"handleBulkPermissionPulldownButtonClick",value:function(){this.setState({isBulkPermissionPulldownOpen:!this.state.isBulkPermissionPulldownOpen})}},{key:"handleBulkPermissionGoButtonClick",value:function(){var e="You are about to change permissions for "+this.state.selectedLearners.length+" Learner(s).";this.setState({confirmBulkActionsMessage:e,isConfirmBulkActionsModalOpen:!0,postConfirmModalCallback:this.performBulkPermissionsChange})}},{key:"handleBulkPermissionOptionClick",value:function(e){this.setState({isBulkPermissionPulldownOpen:!1,bulkPermission:e})}},{key:"handleBulkRemoveButtonClick",value:function(){var e="You are about to remove "+this.state.selectedLearners.length+" Learner(s) from this class. This action cannot be undone.";this.setState({confirmBulkActionsMessage:e,isConfirmBulkActionsModalOpen:!0,postConfirmModalCallback:this.performBulkRemove})}},{key:"handleClearFilterTextButtonClick",value:function(){this.props.onFilterLearnersRequest("")}},{key:"handleConfirmBulkActionsModalCloseRequest",value:function(){this.setState({isConfirmBulkActionsModalOpen:!1})}},{key:"handleFirstNameHeadingClick",value:function(e){e.stopPropagation();var t="firstName"==this.props.learnersSortColumn?this.toggleSortDirection():this.props.learnersSortDirection;this.props.onSortLearnersRequest("firstName",t)}},{key:"handleFilterBoxChange",value:function(e){var t=e.target.value;this.props.onFilterLearnersRequest(t)}},{key:"handleFilterBoxClick",value:function(e){if(e.stopPropagation(),this.props.isUserPro)return null;this.setState({isFilterUpgradeModalOpen:!0})}},{key:"handleFilterUpgradeModalCloseRequest",value:function(){this.setState({isFilterUpgradeModalOpen:!1})}},{key:"handleLastNameHeadingClick",value:function(e){e.stopPropagation();var t="lastName"==this.props.learnersSortColumn?this.toggleSortDirection():this.props.learnersSortDirection;this.props.onSortLearnersRequest("lastName",t)}},{key:"handleLearnerCheckboxClick",value:function(e){var t=this,n=this.props.pack.userId,r=this.props.pack.packId;this.state.selectedLearners.indexOf(String(e))>-1?this.Library.unselectPackLearners(n,r,[e]):this.Library.selectPackLearners(n,r,[e]),this.setState({packSelectedState:this.getPackSelectedState(),selectedLearners:this.getSelectedLearners()},function(){t.state.selectedLearners.length>0&&t.handleShowBulkActionsBarRequest()})}},{key:"handlePackCheckboxClick",value:function(e){var t=this;e.stopPropagation(),"none"!=this.state.packSelectedState?this.unselectAllPackLearners():this.selectAllPackLearners(),this.setState({packSelectedState:this.getPackSelectedState(),selectedLearners:this.getSelectedLearners()},function(){t.state.selectedLearners.length>0&&t.handleShowBulkActionsBarRequest()})}},{key:"handlePrivacyButtonClick",value:function(e){var t=this,n="private"==e;if(n==this.props.pack.isPrivate)return!1;this.props.isUserPro?this.setState({isProcessingPrivacyRequest:!0},function(){t.triggerEditPackPrivacyModalOpen(n)}):this.triggerPrivacyUpgradeModalOpen()}},{key:"handleShowBulkActionsBarRequest",value:function(){this.setState({isBulkActionsBarOpen:!0})}},{key:"triggerEditPackPrivacyModalOpen",value:function(e){s.default.emitEvent("edit-pack-privacy-modal:open",{authenticityToken:this.props.authenticityToken,newPrivacyState:e,pack:this.props.pack,onPackPrivacyChanged:this.handlePackPrivacyChanged})}},{key:"triggerEditPackPrivacyModalClose",value:function(){s.default.emitEvent("edit-pack-privacy-modal:close",{})}},{key:"triggerPrivacyUpgradeModalOpen",value:function(){s.default.emitEvent("upgrade-modal:open",{desiredAction:"Make Class Private",paywall:"privacy"})}},{key:"triggerRefreshPackDetailSection",value:function(){s.default.emitEvent("refresh-pack-detail-section",{})}},{key:"triggerSharePackModalSetOpen",value:function(){s.default.emitEvent("share-pack-modal-set:open",{authenticityToken:this.props.authenticityToken,pack:this.props.pack})}},{key:"getSelectedLearners",value:function(){var e=this.props.pack.userId,t=this.props.pack.packId;return this.Library.getSelectedPackLearners(e,t)}},{key:"getPackSelectedState",value:function(){var e=this.props.learners.length,t=this.getSelectedLearners().length;return 0==t?"none":t==e?"all":"mixed"}},{key:"isUserAnAdmin",value:function(){return this.props.pack.isUserPackAdmin||this.props.pack.isUserBscAdmin}},{key:"selectAllPackLearners",value:function(){var e=this.props.pack,t=this.props.learners.map(function(e,t){return e.userId});this.Library.selectPackLearners(e.userId,e.packId,t)}},{key:"toggleSortDirection",value:function(){return"asc"==this.props.learnersSortDirection?"desc":"asc"}},{key:"unselectAllPackLearners",value:function(){var e=this.props.pack,t=this.props.learners.map(function(e,t){return e.userId});this.Library.unselectPackLearners(e.userId,e.packId,t)}},{key:"retryGetLearnerDeckStats",value:function(e,t){var n=this;clearTimeout(this.statsRetryTimeout);var r=this.state.learnerDeckStatsRetries;this.statsRetryTimeout=setTimeout(function(){n.setState({learnerDeckStatsRetries:r+1},function(){n.getLearnerDeckStats(e,t)})},this.STATS_RETRY_DELAY)}},{key:"acceptStatsAndDisplay",value:function(e,t,n){clearTimeout(this.statsRetryTimeout),this.setState({currentLearner:e,isLearnerProgressModalOpen:!0,learnerDeckStats:t,learnerDeckStatsRetries:0},function(){n&&n()})}},{key:"clearTimeoutsAndIntervals",value:function(){clearTimeout(this.statsRetryTimeout)}}]),t}();t.default=T,e.exports=t.default},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=(f(n(2)),f(n(40))),a=f(n(6)),s=f(n(35)),l=f(n(22)),c=f(n(15)),u=f(n(4)),d=f(n(0)),p=f(n(1));function f(e){return e&&e.__esModule?e:{default:e}}var h=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":r(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={isExportedCsvModalOpen:!1,isProcessingPrivacyRequest:!1,isProcessingOptionAction:!1,isUpgradeModalOpen:!1,menuOptions:[],upgradeModalOpts:{}},n.learner=new i.default,n.Pack=new c.default,n.menuOptionHash={exportCsv:{id:"exportCsv",tag:"export-csv",label:"Export Learners to CSV",onlyDeckEditor:!0,onlyPro:!0,paywall:"csv_export_learners"},bulkActions:{id:"bulkActions",tag:"bulk-actions",label:"Show Bulk Actions",onlyPackAdmin:!0}},n._isMounted=!1,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,d.default.Component),o(t,[{key:"UNSAFE_componentWillMount",value:function(){this.updateUserOptions()}},{key:"componentDidMount",value:function(){this._isMounted=!0}},{key:"componentDidUpdate",value:function(e){this.props.isUserPro!=e.isUserPro&&this.updateUserOptions()}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"render",value:function(){var e=this,t=p.default.toClassStr(["learner-list-options-button",this.props.addClasses]);return d.default.createElement("div",{className:t},d.default.createElement(l.default,{iconType:this.props.iconType,isProcessing:this.state.isProcessingOptionAction,isUserPro:this.props.isUserPro,menuOptions:this.state.menuOptions,onOptionClick:function(t){return e.handleOptionClick(t)},openPosition:"bottomLeft",shouldButtonTurn:!1}),this.renderUpgradeModal(),this.renderExportedCsvModal())}},{key:"renderExportedCsvModal",value:function(){var e=this;return d.default.createElement(a.default,{addClasses:"exported-csv-modal",isOpen:this.state.isExportedCsvModalOpen,onCloseRequest:function(){return e.handleExportedCsvModalCloseRequest()}},d.default.createElement("div",{className:"new-modal-title"},"Learners Exported"),d.default.createElement("div",{className:"new-modal-message"},"Check your browser's downloads folder for a CSV of your classes' learners."),d.default.createElement("div",{className:"new-modal-actions"},d.default.createElement(u.default,{addClasses:"resolve-modal-button",label:"Ok",onClick:function(){return e.handleExportedCsvOkButtonClick()}})))}},{key:"renderUpgradeModal",value:function(){var e=this;return d.default.createElement(s.default,{desiredAction:this.state.upgradeModalOpts.desiredAction,isOpen:this.state.isUpgradeModalOpen,paywall:this.state.upgradeModalOpts.paywall,onCloseRequest:function(){return e.handleUpgradeModalCloseRequest()}})}},{key:"handleOptionActionRequest",value:function(e){switch(e){case"exportCsv":this.performexportCsvAction();break;case"bulkActions":this.performBulkActionsAction()}}},{key:"handleOptionClick",value:function(e){if(this.menuOptionHash[e].onlyPro&&!this.props.isUserPro){var t=this.menuOptionHash[e].label||"",n=this.menuOptionHash[e].paywall||"";this.showUpgradeModal(t,n)}else this.handleOptionActionRequest(e)}},{key:"handleUpgradeModalCloseRequest",value:function(){this.setState({isUpgradeModalOpen:!1})}},{key:"performBulkActionsAction",value:function(){this.props.onShowBulkActionsBarRequest()}},{key:"handleExportedCsvModalCloseRequest",value:function(){this.setState({isExportedCsvModalOpen:!1})}},{key:"handleExportedCsvOkButtonClick",value:function(){this.setState({isExportedCsvModalOpen:!1})}},{key:"performexportCsvAction",value:function(){this.setState({isProcessingOptionAction:!0}),location.href="/packs/"+this.props.pack.packId+"/users.csv",this.setState({isExportedCsvModalOpen:!0,isProcessingOptionAction:!1})}},{key:"showUpgradeModal",value:function(e,t){p.default.trackPaywallWarning(t),this.setState({isUpgradeModalOpen:!0,upgradeModalOpts:{desiredAction:e,paywall:t}})}},{key:"updateUserOptions",value:function(){var e=this,t=this.props.pack,n=Object.keys(this.menuOptionHash).reduce(function(n,r){var o=!e.menuOptionHash[r].onlyDeckEditor||t.areDecksEditable,i=!e.menuOptionHash[r].onlyPackAdmin||t.isUserPackAdmin;return o&&i&&n.push(e.menuOptionHash[r]),n},[]);this.setState({menuOptions:n})}}]),t}();t.default=h,e.exports=t.default},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(40),a=c(n(0)),s=c(n(12)),l=c(n(1));function c(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":r(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={isProcessing:!1},n._isMounted=!1,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default.Component),o(t,[{key:"componentDidMount",value:function(){this._isMounted=!0}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"render",value:function(){var e=this,t=this.props.learner,n="See "+t.firstName+"'s profile",r=(0,i.displayPermission)(this.props.learner),o=(r.permissionValue,r.permissionLabel),s=t.isCurrentUser?t.fullName+" (You)":t.fullName,c=l.default.toClassStr(["learner-row",this.props.addClasses]);return a.default.createElement("li",{className:c,onClick:function(t){return e.handleLearnerRowClick(t)}},a.default.createElement("ul",{className:"learner-row-contents"},a.default.createElement("li",{className:"learner-selection-checkbox"}),a.default.createElement("li",{className:"learner-avatar"},a.default.createElement("img",{className:"learner-avatar-image",src:t.avatarUrl,title:n})),a.default.createElement("li",{className:"learner-name-and-mastery"},a.default.createElement("div",{className:"name-and-mastery-percentage"},a.default.createElement("h4",{className:"learner-name"},s," "))),a.default.createElement("li",{className:"learner-stats-and-permissions"},a.default.createElement("div",{className:"unique-cards-studied"}),a.default.createElement("div",{className:"total-cards-studied"}),a.default.createElement("div",{className:"learner-pack-permission"},o)),a.default.createElement("li",{className:"learner-actions"},this.renderRowIndicator())))}},{key:"renderRowIndicator",value:function(){return this.state.isProcessing?a.default.createElement("div",{className:"row-indicator"},a.default.createElement(s.default,{color:"blue"})):a.default.createElement("i",{className:"forward-icon ion-ios-arrow-right"})}},{key:"handleLearnerRowClick",value:function(e){e.stopPropagation(),this.setState({isProcessing:!0}),l.default.navigate(this.props.learner.profileUrl,"Loading User Profile...")}}]),t}();t.default=u,e.exports=t.default},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(40),a=(n(7),h(n(2))),s=h(n(93)),l=h(n(26)),c=h(n(0)),u=h(n(17)),d=h(n(33)),p=h(n(12)),f=h(n(1));function h(e){return e&&e.__esModule?e:{default:e}}var m=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":r(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return Object.defineProperty(n,"renderNumberOrLock",{enumerable:!0,writable:!0,value:function(e,t){var n;return n=void 0===t||null==t?c.default.createElement("i",{className:"locked-icon"}):f.default.displayNumber(t),c.default.createElement("div",{className:e},n)}}),Object.defineProperty(n,"handleLearnerRowClick",{enumerable:!0,writable:!0,value:function(e){e.stopPropagation(),n.setState({isProcessing:!0},function(){n.props.onLearnerProgressReportRequest(n.props.learner,function(){n.setState({isProcessing:!1})})})}}),Object.defineProperty(n,"handlePermissionButtonClick",{enumerable:!0,writable:!0,value:function(){n.setState({isPermissionPulldownOpen:!n.state.isPermissionPulldownOpen})}}),Object.defineProperty(n,"handlePermissionOptionClick",{enumerable:!0,writable:!0,value:function(e){n.setState({isPermissionPulldownOpen:!1,isProcessingPermissionChange:!0},function(){n.performPermissionChange(e)})}}),Object.defineProperty(n,"handlePermissionOutsideClick",{enumerable:!0,writable:!0,value:function(){n.setState({isPermissionPulldownOpen:!1})}}),Object.defineProperty(n,"performPermissionChange",{enumerable:!0,writable:!0,value:function(e){var t=(0,i.displayPermission)(n.props.learner),r=t.permissionValue,o=void t.permissionLabel;n.props.learner.isCurrentUser&&"admin"==r&&"admin"!=e?(o=c.default.createElement("div",{className:"new-modal-message"},"You are about to remove your own Admin rights. After this change takes place, you will not be able to reassign yourself Admin rights to this Class. Are you sure that you wish to proceed?"),n.triggerCautionModalOpen({message:o,cancelButtonText:"No, Cancel",resolveButtonText:"Yes, I know what I am doing",onCloseRequest:function(){n.setState({isProcessingOptionAction:!1})},onResolution:function(){n.triggerCautionModalClose(),n.completePermissionChange(e)}})):n.completePermissionChange(e)}}),n.state={isPermissionPulldownOpen:!1,isProcessing:!1,learnerDeckStats:null,learnerDeckStatsRetries:0},n.permissionOptions=[{id:"preview",label:"Preview"},{id:"study",label:"Full Study"},{id:"edit",label:"Edit"},{id:"admin",label:"Admin"}],n._isMounted=!1,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,c.default.Component),o(t,[{key:"componentDidMount",value:function(){this._isMounted=!0}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"render",value:function(){var e=this,t=this.props.learner,n=t.stats,r=n&&n.mastery||0,o=n?Math.floor(100*r)+"%":"",i=(f.default.getMasteryLevel(o),n?n.seen_ct:null),a=t.totalCardsStudied,l="See "+t.firstName+"'s profile",d=t.isCurrentUser?t.fullName+" (You)":t.fullName,p=f.default.toClassStr(["learner-row",this.props.addClasses]);return c.default.createElement("li",{className:p,onClick:this.handleLearnerRowClick},c.default.createElement("ul",{className:"learner-row-contents"},c.default.createElement("li",{className:"learner-selection-checkbox"},c.default.createElement(u.default,{isChecked:this.props.isSelected,value:t.id,onClick:function(t){return e.handleCheckboxClick(t)}})),c.default.createElement("li",{className:"learner-avatar"},c.default.createElement("img",{className:"learner-avatar-image",onClick:function(t){return e.handleLearnerAvatarClick(t)},src:t.avatarUrl,title:l})),c.default.createElement("li",{className:"learner-name-and-mastery"},c.default.createElement("div",{className:"name-and-mastery-percentage"},c.default.createElement("h4",{className:"learner-name"},d),c.default.createElement("div",{className:"mastery-percentage"},o)),c.default.createElement("div",{className:"mastery-progress-bar"},this.renderProgressBar())),c.default.createElement("li",{className:"learner-stats-and-permissions"},this.renderNumberOrLock("unique-cards-studied",i),this.renderNumberOrLock("total-cards-studied",a),this.renderPermission()),c.default.createElement("li",{className:"learner-actions"},c.default.createElement(s.default,{iconType:"horizontal",isUserPro:!0,learner:this.props.learner,onRemoveLearnerRequest:function(t,n){return e.props.onRemoveLearnerRequest(t,n)},pack:this.props.pack}),this.renderRowIndicator())))}},{key:"renderPermission",value:function(){var e=(0,i.displayPermission)(this.props.learner),t=e.permissionValue,n=e.permissionLabel;return this.props.pack.isUserAnAdmin?c.default.createElement(l.default,{addClasses:"permission-pulldown",isOpen:this.state.isPermissionPulldownOpen,isProcessing:this.isProcessingPermissionChange,options:this.permissionOptions,selectedValue:t,shouldSuppressNullOption:!0,onButtonClick:this.handlePermissionButtonClick,onOptionClick:this.handlePermissionOptionClick,onOutsideClick:this.handlePermissionOutsideClick}):c.default.createElement("div",{className:"learner-pack-permission"},n)}},{key:"renderProgressBar",value:function(){var e=this.props.learner.stats;if(!e)return null;var t=100*(e.mastery||0);return c.default.createElement(d.default,{baseValue:100,barValue:t,isLight:!0,shouldDepictLevel:!1})}},{key:"renderRowIndicator",value:function(){return this.state.isProcessing?c.default.createElement("div",{className:"row-indicator"},c.default.createElement(p.default,{color:"blue"})):c.default.createElement("i",{className:"forward-icon ion-ios-arrow-right"})}},{key:"handleCheckboxClick",value:function(e){e.stopPropagation(),this.props.onCheckboxClick()}},{key:"handleLearnerAvatarClick",value:function(e){e.stopPropagation(),f.default.navigate(this.props.learner.profileUrl,"Loading User Profile...")}},{key:"triggerCautionModalOpen",value:function(e){a.default.emitEvent("caution-modal:open",e)}},{key:"triggerCautionModalClose",value:function(e){a.default.emitEvent("caution-modal:close",e)}},{key:"completePermissionChange",value:function(e){var t=this;this.props.onChangePermissionRequest(this.props.learner,e,function(){t.setState({isProcessingPermissionChange:!1})})}}]),t}();t.default=m,e.exports=t.default},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(40),a=c(n(0)),s=c(n(12)),l=c(n(1));function c(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":r(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={isProcessing:!1},n._isMounted=!1,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default.Component),o(t,[{key:"componentDidMount",value:function(){this._isMounted=!0}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"render",value:function(){var e=this,t=this.props.learner,n="See "+t.firstName+"'s profile",r=(0,i.displayPermission)(t),o=(r.permissionValue,r.permissionLabel),s=t.isCurrentUser?t.fullName+" (You)":t.fullName,c=l.default.toClassStr(["learner-block tile",this.props.addClasses]);return a.default.createElement("li",{className:c,onClick:function(t){return e.handleLearnerTileClick(t)}},a.default.createElement("div",{className:"tile-content"},a.default.createElement("div",{className:"first-row"},a.default.createElement("div",{className:"learner-avatar"},a.default.createElement("img",{className:"learner-avatar-image",src:t.avatarUrl,title:n})),a.default.createElement("div",{className:"learner-name-and-mastery"},a.default.createElement("div",{className:"name-and-mastery-percentage"},a.default.createElement("h4",{className:"learner-name"},s),a.default.createElement("div",{className:"mastery-percentage"})),a.default.createElement("div",{className:"mastery-progress-bar"}))),a.default.createElement("div",{className:"learner-stats-and-permissions"},a.default.createElement("div",{className:"unique-cards-studied"}),a.default.createElement("div",{className:"total-cards-studied"}),a.default.createElement("div",{className:"permission"},a.default.createElement("span",{className:"stat-label"},"Permission:"),a.default.createElement("div",{className:"learner-pack-permission"},o)))),a.default.createElement("div",{className:"learner-actions"},this.renderRowIndicator()))}},{key:"renderRowIndicator",value:function(){return this.state.isProcessing?a.default.createElement("div",{className:"row-indicator"},a.default.createElement(s.default,{color:"blue"})):a.default.createElement("i",{className:"forward-icon ion-ios-arrow-right"})}},{key:"handleLearnerTileClick",value:function(e){e.stopPropagation(),this.setState({isProcessing:!0}),l.default.navigate(this.props.learner.profileUrl)}}]),t}();t.default=u,e.exports=t.default},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(40),a=(f(i),n(7),f(n(2))),s=f(n(93)),l=f(n(26)),c=f(n(0)),u=(f(n(17)),f(n(33))),d=f(n(12)),p=f(n(1));function f(e){return e&&e.__esModule?e:{default:e}}var h=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":r(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return Object.defineProperty(n,"renderNumberOrLock",{enumerable:!0,writable:!0,value:function(e){return void 0===e||null==e?c.default.createElement("i",{className:"locked-icon"}):p.default.displayNumber(e)}}),Object.defineProperty(n,"handlePermissionOutsideClick",{enumerable:!0,writable:!0,value:function(){n.setState({isPermissionPulldownOpen:!1})}}),Object.defineProperty(n,"performPermissionChange",{enumerable:!0,writable:!0,value:function(e){var t=(0,i.displayPermission)(n.props.learner),r=t.permissionValue,o=void t.permissionLabel;n.props.learner.isCurrentUser&&"admin"==r&&"admin"!=e?(o=c.default.createElement("div",{className:"new-modal-message"},"You are about to remove your own Admin rights. After this change takes place, you will not be able to reassign yourself Admin rights to this Class. Are you sure that you wish to proceed?"),n.triggerCautionModalOpen({message:o,cancelButtonText:"No, Cancel",resolveButtonText:"Yes, I know what I am doing",onCloseRequest:function(){n.setState({isProcessingOptionAction:!1})},onResolution:function(){n.triggerCautionModalClose(),n.completePermissionChange(e)}})):n.completePermissionChange(e)}}),n.state={isPermissionPulldownOpen:!1,isProcessing:!1,learnerDeckStats:null},n.permissionOptions=[{id:"preview",label:"Preview"},{id:"study",label:"Full Study"},{id:"edit",label:"Edit"},{id:"admin",label:"Admin"}],n._isMounted=!1,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,c.default.Component),o(t,[{key:"componentDidMount",value:function(){this._isMounted=!0}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"render",value:function(){var e=this,t=this.props.learner,n=t.stats,r=n&&n.mastery||0,o=n?Math.floor(100*r)+"%":"",i=n?n.seen_ct:null,a=t.totalCardsStudied,l="See "+t.firstName+"'s profile",u=t.isCurrentUser?t.fullName+" (You)":t.fullName,d=p.default.toClassStr(["learner-block tile",this.props.addClasses]);return c.default.createElement("li",{className:d,onClick:function(t){return e.handleLearnerTileClick(t)}},c.default.createElement("div",{className:"tile-content"},c.default.createElement("div",{className:"first-row"},c.default.createElement("div",{className:"learner-avatar"},c.default.createElement("img",{className:"learner-avatar-image",onClick:function(t){return e.handleLearnerAvatarClick(t)},src:t.avatarUrl,title:l})),c.default.createElement("div",{className:"learner-name-and-mastery"},c.default.createElement("div",{className:"name-and-mastery-percentage"},c.default.createElement("h4",{className:"learner-name"},u),c.default.createElement("div",{className:"mastery-percentage"},o)),c.default.createElement("div",{className:"mastery-progress-bar"},this.renderProgressBar()))),c.default.createElement("div",{className:"learner-stats-and-permissions"},c.default.createElement("div",{className:"unique-cards-studied"},c.default.createElement("span",{className:"stat-label"},"Unique Cards Studied:"),this.renderNumberOrLock(i)),c.default.createElement("div",{className:"total-cards-studied"},c.default.createElement("span",{className:"stat-label"},"Total Cards Studied:"),this.renderNumberOrLock(a)),c.default.createElement("div",{className:"permission"},c.default.createElement("span",{className:"stat-label"},"Permission:"),this.renderPermission()))),c.default.createElement("div",{className:"learner-actions"},c.default.createElement(s.default,{iconType:"horizontal",isUserPro:!0,learner:this.props.learner,onRemoveLearnerRequest:function(t,n){return e.props.onRemoveLearnerRequest(t,n)},pack:this.props.pack}),this.renderRowIndicator()))}},{key:"renderProgressBar",value:function(){var e=this.props.learner.stats;if(!e)return null;var t=100*(e.mastery||0);return c.default.createElement(u.default,{baseValue:100,barValue:t,isLight:!0,shouldDepictLevel:!1})}},{key:"renderPermission",value:function(){var e=this,t=(0,i.displayPermission)(this.props.learner),n=t.permissionValue,r=t.permissionLabel;return this.props.pack.isUserPackAdmin||this.props.pack.isUserBscAdmin?c.default.createElement(l.default,{addClasses:"permission-pulldown",isOpen:this.state.isPermissionPulldownOpen,isProcessing:this.isProcessingPermissionChange,options:this.permissionOptions,selectedValue:n,shouldSuppressNullOption:!0,onButtonClick:function(){return e.handlePermissionButtonClick()},onOptionClick:function(t){return e.handlePermissionOptionClick(t)},onOutsideClick:this.handlePermissionOutsideClick}):c.default.createElement("div",{className:"learner-pack-permission"},r)}},{key:"renderRowIndicator",value:function(){return this.state.isProcessing?c.default.createElement("div",{className:"row-indicator"},c.default.createElement(d.default,{color:"blue"})):c.default.createElement("i",{className:"forward-icon ion-ios-arrow-right"})}},{key:"handleCheckboxClick",value:function(e){e.stopPropagation(),this.props.onCheckboxClick()}},{key:"handleLearnerAvatarClick",value:function(e){e.stopPropagation(),p.default.navigate(this.props.learner.profileUrl)}},{key:"handleLearnerTileClick",value:function(e){var t=this;e.stopPropagation(),this.setState({isProcessing:!0},function(){t.props.onLearnerProgressReportRequest(t.props.learner,function(){t.setState({isProcessing:!1})})})}},{key:"handlePermissionButtonClick",value:function(){this.setState({isPermissionPulldownOpen:!this.state.isPermissionPulldownOpen})}},{key:"handlePermissionOptionClick",value:function(e){this.setState({isPermissionPulldownOpen:!1,isProcessingPermissionChange:!0}),this.performPermissionChange(e)}},{key:"triggerCautionModalOpen",value:function(e){a.default.emitEvent("caution-modal:open",e)}},{key:"triggerCautionModalClose",value:function(e){a.default.emitEvent("caution-modal:close",e)}},{key:"completePermissionChange",value:function(e){var t=this;this.props.onChangePermissionRequest(this.props.learner,e,function(){t.setState({isProcessingPermissionChange:!1})})}}]),t}();t.default=h,e.exports=t.default},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=(l(n(27)),l(n(52))),a=l(n(0)),s=l(n(1));function l(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":r(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={shouldCollapseBubble:!1},n._isMounted=!1,n.pulseAddLearnerButtonTimeout=null,n.PRE_PULSE_ADD_LEARNER_BUTTON_DELAY=3e3,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default.Component),o(t,[{key:"componentDidMount",value:function(){this._isMounted=!0,this.clearTimeoutsAndIntervals(),this.pulseAddLearnerButton()}},{key:"componentWillUnmount",value:function(){this._isMounted=!1,this.clearTimeoutsAndIntervals()}},{key:"render",value:function(){s.default.toClassStr(["new-learner-bubble",this.props.addClasses]);var e=this.props.isMobileViewportSize?"small":"medium";return a.default.createElement(i.default,{expansionDelay:1e3,message:"Share with your students, colleagues, and other co-learners. Click the big plus sign to get started.",onClose:this.props.onClose,size:e,shouldAutoContract:!1,shouldClose:this.props.shouldClose,shouldContract:!0,shouldExpand:!0,shouldPulseTitle:!0,title:"Time to Share!"})}},{key:"pulseAddLearnerButton",value:function(){var e=this;clearTimeout(this.pulseAddLearnerButtonTimeout),this.pulseAddLearnerButtonTimeout=setTimeout(function(){e.props.onPulseAddLearnerButtonRequest()},this.PRE_PULSE_ADD_LEARNER_BUTTON_DELAY)}},{key:"clearTimeoutsAndIntervals",value:function(){clearTimeout(this.pulseAddLearnerButtonTimeout)}}]),t}();t.default=c,e.exports=t.default},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=c(n(63)),a=c(n(13)),s=c(n(0)),l=c(n(1));function c(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":r(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return Object.defineProperty(n,"handleLearnerClick",{enumerable:!0,writable:!0,value:function(e,t){e.stopPropagation(),t.profileUrl&&l.default.navigate(t.profileUrl)}}),n.state={},n._isMounted=!1,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.default.Component),o(t,[{key:"componentDidMount",value:function(){this._isMounted=!0}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"render",value:function(){if(!this.props.learners)return null;var e=this.props.shouldRenderAsTiles?"tile-blocks":"row-blocks",t=l.default.toClassStr(["pack-leaderboard-section",e,this.props.addClasses]);return s.default.createElement("section",{className:t},this.renderHeader(),this.renderLeaderboardList(),this.renderFooter())}},{key:"renderHeader",value:function(){return this.props.shouldRenderAsTiles?this.renderTilesHeader():this.renderRowsHeader()}},{key:"renderRowsHeader",value:function(){var e="overall"==this.props.leaderboardOrder,t=e?"Total Cards":"Cards this Mo.";return s.default.createElement("header",{className:"pack-leaderboard-list-header"},s.default.createElement("h5",{className:"leaderboard-list-heading"},"Top Learners"),s.default.createElement("div",{className:"name-and-stats-headings"},s.default.createElement("div",{className:"name-heading"},"Name"),s.default.createElement("div",{className:"stats-headings"},s.default.createElement("div",{className:"card-views-heading"},s.default.createElement("span",null,t),s.default.createElement(a.default,{addClasses:"card-views-tooltip",place:"bottom"},this.renderCardViewsTooltip(e))))))}},{key:"renderCardViewsTooltip",value:function(e){return e?s.default.createElement("div",{className:"tooltip-content"},s.default.createElement("div",{className:"tooltip-heading"},"Total Cards"),s.default.createElement("p",{className:"tooltip-text"},"The cumulative number of cards in this class that the user has viewed across all time, counting repeated cards.")):s.default.createElement("div",{className:"tooltip-content"},s.default.createElement("div",{className:"tooltip-heading"},"Cards this Month"),s.default.createElement("p",{className:"tooltip-text"},"The cumulative number of cards in this class that the user has viewed over the past 30 days, counting repeated cards."))}},{key:"renderTilesHeader",value:function(){return s.default.createElement("header",{className:"pack-leaderboard-list-header"},s.default.createElement("h5",{className:"leaderboard-list-heading"},"Top Learners"))}},{key:"renderLeaderboardList",value:function(){var e=this,t=this.props.learners.map(function(t,n){return e.props.shouldRenderAsTiles?e.renderLeaderboardTile(t,n):e.renderLeaderboardRow(t,n)});return s.default.createElement("ul",{className:"learner-list"},t)}},{key:"renderLeaderboardRow",value:function(e,t){var n=this,r="overall"==this.props.leaderboardOrder?e.overallCt:e.rollingCt,o=e.userId==this.props.userId&&t+1==10?"user-is-last":"",i=l.default.toClassStr(["leaderboard-block row-block",o]);return s.default.createElement("li",{className:i,onClick:function(t){return n.handleLearnerClick(t,e)},key:t},s.default.createElement(h,{index:t}),s.default.createElement(p,{learner:e}),s.default.createElement(f,{learner:e}),s.default.createElement("div",{className:"learner-stats"},s.default.createElement("div",{className:"card-views"},l.default.displayNumber(r))),s.default.createElement(d,null))}},{key:"renderLeaderboardTile",value:function(e,t){var n=this,r="overall"==this.props.leaderboardOrder,o=r?e.overallCt:e.rollingCt,i=r?"Total Cards":"Cards this Mo.",a=e.userId==this.props.userId&&t+1==10?"user-is-last":"",c=l.default.toClassStr(["leaderboard-block tile-block",a]);return s.default.createElement("li",{className:c,onClick:function(t){return n.handleLearnerClick(t,e)},key:t},s.default.createElement("div",{className:"tile-content"},s.default.createElement("div",{className:"first-row"},s.default.createElement(h,{index:t}),s.default.createElement(p,{learner:e}),s.default.createElement(f,{learner:e})),s.default.createElement("div",{className:"learner-stats"},s.default.createElement("div",{className:"card-views"},s.default.createElement("span",{className:"stat-label"},i,":"),o))),s.default.createElement(d,null))}},{key:"renderFooter",value:function(){return s.default.createElement("footer",{className:"pack-leaderboard-list-footer"},s.default.createElement("div",{className:"share-class",title:"Copy link to share this Class"},s.default.createElement("div",{className:"share-link"},this.props.pack.shareLink),s.default.createElement(i.default,{isDisplayedInInputElem:!1,inputElemSelector:null,value:"https://www.brainscape.com/p/K9BF-LH-3PGKS"})))}}]),t}(),d=function(e){return s.default.createElement("div",{className:"learner-actions"},s.default.createElement("i",{className:"forward-icon ion-ios-arrow-right"}))},p=function(e){return s.default.createElement("div",{className:"learner-avatar"},s.default.createElement("img",{className:"learner-avatar-image",src:e.learner.avatarUrl,title:"See "+e.learner.firstName+"'s profile"}))},f=function(e){return s.default.createElement("div",{className:"learner-name"},e.learner.fullName)},h=function(e){return s.default.createElement("div",{className:"learner-rank"},e.index+1,".")};t.default=u,e.exports=t.default},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=(c(n(2)),c(n(4))),a=c(n(3)),s=c(n(0)),l=c(n(1));function c(e){return e&&e.__esModule?e:{default:e}}var u={addClasses:a.default.string,ctaPrompt:a.default.string,heading:a.default.string,message:a.default.string,onNewPackNameEntered:a.default.func,shouldSuppressCtaButtons:a.default.bool},d=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":r(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return Object.defineProperty(n,"renderCtaButtons",{enumerable:!0,writable:!0,value:function(){return n.props.shouldSuppressCtaButtons?null:s.default.createElement("div",{className:"pack-exception-ctas"},s.default.createElement("p",{className:"pack-exception-prompt"},n.props.ctaPrompt),s.default.createElement("div",{className:"cta-buttons"},s.default.createElement(i.default,{addClasses:"create-class-button",key:"createButton",label:"Create a New Class",onClick:n.handleCreateClassButtonClick}),s.default.createElement(i.default,{addClasses:"find-flashcards-button",key:"browseButton",label:"Find Flashcards",onClick:n.handleFindFlashcardsButtonClick})))}}),Object.defineProperty(n,"handleCreateClassButtonClick",{enumerable:!0,writable:!0,value:function(){n.props.onCreatePackRequest()}}),Object.defineProperty(n,"handleFindFlashcardsButtonClick",{enumerable:!0,writable:!0,value:function(){l.default.navigate("/subjects","Loading Knowledge Genome...")}}),n.state={},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.default.Component),o(t,[{key:"render",value:function(){var e=l.default.toClassStr(["pack-exception-messaging",this.props.addClasses]);return s.default.createElement("div",{className:e},s.default.createElement("h3",{className:"pack-exception-heading"},this.props.heading||"There was an issue"),s.default.createElement("p",{className:"pack-exception-message"},this.props.message),this.renderCtaButtons())}}]),t}();d.propTypes=u,t.default=d,e.exports=t.default},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=(l(n(27)),l(n(52))),a=l(n(0)),s=l(n(1));function l(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":r(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return Object.defineProperty(n,"handleClassesHelpBubbleCollapse",{enumerable:!0,writable:!0,value:function(){n.state.shouldCollapseClassesHelpBubble||n.props.onDismissFtueRequest()}}),Object.defineProperty(n,"handleStudyHelp1BubbleCollapse",{enumerable:!0,writable:!0,value:function(){n.state.shouldCollapseStudyHelp1Bubble||n.props.onDismissFtueRequest()}}),Object.defineProperty(n,"handleStudyHelp2BubbleCollapse",{enumerable:!0,writable:!0,value:function(){n.state.shouldCollapseStudyHelp2Bubble||n.props.onDismissFtueRequest()}}),Object.defineProperty(n,"handleDeckHelpBubbleCollapse",{enumerable:!0,writable:!0,value:function(){n.state.shouldCollapseDeckHelpBubble||n.props.onDismissFtueRequest()}}),Object.defineProperty(n,"handleCardHelpBubbleCollapse",{enumerable:!0,writable:!0,value:function(){n.state.shouldCollapseCardHelpBubble||n.props.onDismissFtueRequest()}}),n.state={isClassesHelpBubbleOpen:!1,shouldCollapseClassesHelpBubble:!1,isStudyHelp1BubbleOpen:!1,shouldCollapseStudyHelp1Bubble:!1,isStudyHelp2BubbleOpen:!1,shouldCollapseStudyHelp2Bubble:!1,isDeckHelpBubbleOpen:!1,shouldCollapseDeckHelpBubble:!1,isCardHelpBubbleOpen:!1,shouldCollapseCardHelpBubble:!1},n._isMounted=!1,n.pulseAddCardsButtonTimeout=null,n.pulseCreateDeckButtonTimeout=null,n.pulseStudyButtonTimeout=null,n.PRE_PULSE_ADD_CARDS_BUTTON_DELAY=3e3,n.PRE_PULSE_CREATE_DECK_BUTTON_DELAY=3e3,n.PRE_PULSE_STUDY_BUTTON_DELAY=3e3,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default.Component),o(t,[{key:"componentDidMount",value:function(){this._isMounted=!0,this.clearTimeoutsAndIntervals(),this.invokeFtue()}},{key:"componentDidUpdate",value:function(e){e.phase!=this.props.phase&&this.managePhaseChange()}},{key:"componentWillUnmount",value:function(){this._isMounted=!1,this.clearTimeoutsAndIntervals()}},{key:"render",value:function(){var e=s.default.toClassStr(["ftue-messaging",this.props.addClasses]);return a.default.createElement("div",{className:e},this.renderClassesHelpBubble(),this.renderStudyHelp1Bubble(),this.renderStudyHelp2Bubble(),this.renderDeckHelpBubble(),this.renderCardHelpBubble())}},{key:"renderClassesHelpBubble",value:function(){if(!this.state.isClassesHelpBubbleOpen)return null;var e=this.props.isMobileViewportSize?"small":"medium";return a.default.createElement(i.default,{expansionDelay:1e3,message:"This is your list of Flashcard Classes. Click on any Class to begin.",onClose:this.handleClassesHelpBubbleCollapse,size:e,shouldAutoContract:!1,shouldClose:this.state.shouldCollapseClassesHelpBubble,shouldContract:!0,shouldExpand:!0,shouldPulseTitle:!1,title:"Welcome!"})}},{key:"renderStudyHelp1Bubble",value:function(){if(!this.state.isStudyHelp1BubbleOpen)return null;var e=this.props.isMobileViewportSize?"small":"medium";return a.default.createElement(i.default,{corner:"bottomRight",contractionDelay:11500,expansionDelay:1e3,message:'Click the big blue "Study" button or a single deck.',onClose:this.handleStudyHelp1BubbleCollapse,size:e,shouldAutoContract:!1,shouldClose:this.state.shouldCollapseStudyHelp1Bubble,shouldContract:!0,shouldExpand:!0,shouldPulseTitle:!1,title:"Welcome"})}},{key:"renderStudyHelp2Bubble",value:function(){if(!this.state.isStudyHelp2BubbleOpen)return null;var e=this.props.isMobileViewportSize?"small":"medium";return a.default.createElement(i.default,{corner:"bottomRight",contractionDelay:11500,expansionDelay:1e3,message:'Click the big blue "Study" button or a single deck.',onClose:this.handleStudyHelp2BubbleCollapse,size:e,shouldAutoContract:!1,shouldClose:this.state.shouldCollapseStudyHelp2Bubble,shouldContract:!0,shouldExpand:!0,shouldPulseTitle:!1,title:"Next"})}},{key:"renderDeckHelpBubble",value:function(){if(!this.state.isDeckHelpBubbleOpen)return null;var e=this.props.isMobileViewportSize?"small":"medium",t=this.props.isMobileViewportSize?"topRight":"bottomRight";return a.default.createElement(i.default,{corner:t,expansionDelay:1e3,message:"To study, first create a deck of flashcards. Click the orange 'Create New Deck' button to continue.",onClose:this.handleDeckHelpBubbleCollapse,size:e,shouldAutoContract:!1,shouldClose:this.state.shouldCollapseDeckHelpBubble,shouldContract:!0,shouldExpand:!0,shouldPulseTitle:!1,title:"Set Up"})}},{key:"renderCardHelpBubble",value:function(){if(!this.state.isCardHelpBubbleOpen)return null;var e=this.props.isMobileViewportSize?"small":"medium",t=this.props.isMobileViewportSize?"topRight":"topLeft";return a.default.createElement(i.default,{corner:t,expansionDelay:1e3,message:"Click the green 'Add Cards' button to add Flashcards to Study.",onClose:this.handleCardHelpBubbleCollapse,size:e,shouldAutoContract:!1,shouldClose:this.state.shouldCollapseCardHelpBubble,shouldContract:!0,shouldExpand:!0,shouldPulseTitle:!1,title:"Set Up"})}},{key:"pulseAddCardsButton",value:function(){var e=this;clearTimeout(this.pulseAddCardsButtonTimeout),this.pulseAddCardsButtonTimeout=setTimeout(function(){e.props.onPulseAddCardsButtonRequest()},this.PRE_PULSE_ADD_CARDS_BUTTON_DELAY)}},{key:"pulseCreateDeckButton",value:function(){var e=this;clearTimeout(this.pulseCreateDeckButtonTimeout),this.pulseCreateDeckButtonTimeout=setTimeout(function(){e.props.onPulseCreateDeckButtonRequest()},this.PRE_PULSE_CREATE_DECK_BUTTON_DELAY)}},{key:"pulseStudyButton",value:function(){var e=this;clearTimeout(this.pulseStudyButtonTimeout),this.pulseStudyButtonTimeout=setTimeout(function(){e.props.onPulseStudyButtonRequest()},this.PRE_PULSE_STUDY_BUTTON_DELAY)}},{key:"clearTimeoutsAndIntervals",value:function(){clearTimeout(this.pulseAddCardsButtonTimeout),clearTimeout(this.pulseCreateDeckButtonTimeout),clearTimeout(this.pulseStudyButtonTimeout)}},{key:"invokeFtue",value:function(){return"classesHelp"==this.props.phase?(this.setState({isClassesHelpBubbleOpen:!0},function(){s.default.trackDashboardProgress("ftue_intro_study")}),!0):"deckHelp"==this.props.phase?(this.setState({isDeckHelpBubbleOpen:!0},function(){s.default.trackDashboardProgress("ftue_intro_study")}),this.pulseCreateDeckButton(),!0):"cardHelp"==this.props.phase?(this.setState({isCardHelpBubbleOpen:!0},function(){s.default.trackDashboardProgress("ftue_intro_study")}),this.pulseAddCardsButton(),!0):(this.setState({isStudyHelp1BubbleOpen:!0},function(){s.default.trackDashboardProgress("ftue_intro_study")}),void this.pulseStudyButton())}},{key:"managePhaseChange",value:function(){switch(this.props.phase){case"studyHelp2":this.setState({isStudyHelp2BubbleOpen:!0,shouldCollapseClassesHelpBubble:!0}),this.pulseStudyButton();break;case"deckHelp":this.setState({isDeckHelpBubbleOpen:!0,shouldCollapseClassesHelpBubble:!0,shouldCollapseStudyHelp1Bubble:!0,shouldCollapseStudyHelp2Bubble:!0}),this.pulseCreateDeckButton();break;case"createDeck":this.setState({shouldCollapseDeckHelpBubble:!0});break;case"cardHelp":this.setState({isCardHelpBubbleOpen:!0,shouldCollapseClassesHelpBubble:!0}),this.pulseAddCardsButton()}}}]),t}();t.default=c,e.exports=t.default},function(e,t,n){"use strict";(function(r){var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){return e&&e.__esModule?e:{default:e}}(n(0)),s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":o(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":o(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default.Component),i(t,[{key:"render",value:function(){return"certified"==this.props.classType?this.renderCertifiedClass():this.renderUgcClass()}},{key:"renderCertifiedClass",value:function(){var e=this,t=this.props.classData.category,n=t.id,r="/learn/"+t.key,o=t.subscriber_count>1?"Learners":"Learner";return a.default.createElement("li",{key:t.id,className:"subject-bar class-bar certified"},a.default.createElement("div",{className:"class-link-wrapper",onClick:function(t){e.convertThenVisit(t,r,e.props.searchId,n)}},a.default.createElement("a",{className:"subject-bar-link class-bar-link",href:r},t.name)),a.default.createElement("div",{className:"artwork"},a.default.createElement("img",{className:"subject-icon class-icon",src:t.app_icon_url})),a.default.createElement("div",{className:"metadata"},a.default.createElement("h4",{className:"subject-name class-name"},t.name),a.default.createElement("div",{className:"supplemental-info"},a.default.createElement("h5",{className:"subject-identifier class-identifier"},"Brainscape Certified Class"),a.default.createElement("div",{className:"stats"},a.default.createElement("div",{className:"subject-cards class-cards"},this.numberWithDelimeter(t.card_count)," Cards \u2013\xa0"),a.default.createElement("div",{className:"subject-decks class-decks"},this.numberWithDelimeter(t.deck_count)," Decks \u2013\xa0"),a.default.createElement("div",{className:"subject-learners class-learners"},this.numberWithDelimeter(t.subscriber_count)," ",o))),this.renderSampleCategoryPackDecks(t)),a.default.createElement("div",{className:"actions"},"Show Class"))}},{key:"renderUgcClass",value:function(){var e=this,t=this.props.classData.pack,n=t.id,r="/packs/"+(t.path_and_id||t.id),o=t.subscriber_count>1?"Learners":"Learner",i=t.app_icon_url||"assets/app_icons/ugs.png";return i=0==i.indexOf("assets")?"/"+i:i,a.default.createElement("li",{key:t.id,className:"subject-bar class-bar ugs ugc"},a.default.createElement("div",{className:"class-link-wrapper",onClick:function(t){e.convertThenVisit(t,r,e.props.searchId,n)}},a.default.createElement("a",{className:"subject-bar-link class-bar-link",href:r},t.name)),a.default.createElement("div",{className:"artwork"},a.default.createElement("img",{className:"subject-icon class-icon",src:i})),a.default.createElement("div",{className:"metadata"},a.default.createElement("h4",{className:"subject-name class-name"},t.name),a.default.createElement("div",{className:"supplemental-info"},this.renderCreatorName(t),a.default.createElement("div",{className:"stats"},a.default.createElement("div",{className:"subject-cards class-cards"},this.numberWithDelimeter(t.card_count)," Cards \u2013\xa0"),a.default.createElement("div",{className:"subject-decks class-decks"},this.numberWithDelimeter(t.deck_count)," Decks \u2013\xa0"),a.default.createElement("div",{className:"subject-learners class-learners"},this.numberWithDelimeter(t.subscriber_count)," ",o))),this.renderSampleDecks(t)),a.default.createElement("div",{className:"actions"},"Show Class"))}},{key:"renderCreatorName",value:function(e){if(!e.creator_name)return null;if(e.creator_profile_id){var t="/profiles/"+e.creator_profile_id;return a.default.createElement("h5",{className:"subject-identifier"},"Flashcard Maker: ",a.default.createElement("a",{href:t,className:"creator-link"},e.creator_name))}return a.default.createElement("h5",{className:"subject-identifier"},"Flashcard Maker: ",e.creator_name)}},{key:"renderSampleCategoryPackDecks",value:function(e){return e.pack&&e.pack.decks&&e.pack.decks.length>0?this.renderSampleDecks(e.pack):e.packs&&e.packs[0]&&e.packs[0].decks&&e.packs[0].decks.length>0?this.renderSampleDecks(e.packs[0]):null}},{key:"renderSampleDecks",value:function(e){var t,n=void 0;return e.decks&&e.decks.length>0?(t=(n=e.decks).slice(0,3).map(function(e,t){var r=t+1<3&&t+1<n.length?", ":"";return a.default.createElement("span",{className:"sample-deck",key:e.id},e.name,r)}),a.default.createElement("div",{className:"sample-deck-titles"},a.default.createElement("span",{className:"deck-titles-heading"},"Sample Decks: "),a.default.createElement("span",{className:"deck-titles"},t))):null}},{key:"renderPackDecks",value:function(e){var t,n=this,r=void 0,o=null;return e.decks&&e.decks.length>0?(t=(r=e.decks).slice(0,3).map(function(e){return n.renderPackDeck(e)}),r.length>3&&(o=this.renderMorePackDeckFlag()),a.default.createElement("ul",{className:"pack-decks"},t,o)):null}},{key:"renderPackDeck",value:function(e){var t=1==e.card_count?"card":"cards";return a.default.createElement("li",{className:"pack-deck",key:e.id},a.default.createElement("span",{className:"pack-deck-name"},e.name),a.default.createElement("span",{className:"pack-deck-card-count"},"\xa0(",e.card_count," ",t,")"))}},{key:"renderMorePackDeckFlag",value:function(){return a.default.createElement("div",{className:"pack-deck-more-flag"},"and more...")}},{key:"convertThenVisit",value:function(e,t,n,o){e.preventDefault(),e.stopPropagation();var i=t+"?origin=genome";window.open(i,"_blank"),r.get("/api/search_results/"+n+"/result/"+o+"/convert").always(function(e){console.log("Search Conversion attempted:",e)})}},{key:"numberWithDelimeter",value:function(e){return(e+"").split("").reverse().join("").replace(/(\d{3})(?=\d)/g,"$1,").split("").reverse().join("")}}]),t}();t.default=s,e.exports=t.default}).call(t,n(9))},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=s(n(0)),a=s(n(1));function s(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":r(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default.Component),o(t,[{key:"render",value:function(){var e=this.props.isOpen?"is-open":"is-closed",t="panel-"+this.props.panel,n=a.default.toClassStr(["genome-topbar-panel",t,e,this.props.addClasses]);return i.default.createElement("div",{className:n},i.default.createElement("div",{className:"topbar-panel-header"},this.renderTopbarHeading()),i.default.createElement("ul",{className:"tags-list"},this.renderTags()))}},{key:"renderTopbarHeading",value:function(){return 3==this.props.panel?i.default.createElement("h5",{className:"topbar-panel-heading"},this.renderHeadingLink()):2==this.props.panel?i.default.createElement("h4",{className:"topbar-panel-heading"},this.renderHeadingLink()):i.default.createElement("h3",{className:"topbar-panel-heading"},this.renderHeadingLink())}},{key:"renderHeadingLink",value:function(){var e=this;return i.default.createElement("div",{className:"topbar-panel-heading-link","data-href":this.props.headingPath,onClick:function(){return e.props.onToggle()}},this.props.heading)}},{key:"renderTags",value:function(){var e=this;return this.props.tags&&this.props.tags.length&&this.props.tags.length>0?this.props.tags.map(function(t,n){return e.props.hasSeoTags?e.renderAnchorTag(t,n):e.renderJsTag(t,n)}):null}},{key:"renderAnchorTag",value:function(e,t){var n=this,r=e.isSelected?"selected":"",o=a.default.toClassStr(["tag",r]);return i.default.createElement("li",{className:o,key:t},i.default.createElement("a",{className:"tag-link",href:e.path,title:e.name,"data-id":e.id,"data-key":e.key,"data-path":e.path,onClick:function(e){n.handleTagLinkClick(e)}},e.name))}},{key:"renderJsTag",value:function(e,t){var n=this,r=e.isSelected?"selected":"",o=a.default.toClassStr(["tag",r]);return i.default.createElement("li",{className:o,key:t},i.default.createElement("div",{className:"tag-link tag-js-link",title:e.name,"data-path":e.path,"data-id":e.id,"data-key":e.key,onClick:function(t){n.handleJsTagLinkClick(t,e)}},e.name))}},{key:"handleTagLinkClick",value:function(e,t){e.stopPropagation(),this.showContentLoading()}},{key:"handleJsTagLinkClick",value:function(e,t){e.stopPropagation(),this.showContentLoading(),location.href=t.path}},{key:"showContentLoading",value:function(){document.querySelector(".genome-page .genome-page-content").classList.add("is-loading")}}]),t}();t.default=l,e.exports=t.default},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=c(n(2)),a=c(n(22)),s=c(n(0)),l=c(n(1));function c(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":r(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={isProcessingOptionAction:!1},n.menuOptionHash={continuousStudyByPro:{id:"continuousStudyByPro",tag:"continuous-study-by-pro",label:"Enable Continuous Study",onlyPro:!0,onlyIfMixIsRestricted:!0,paywall:"enable_continuous_study",persistOnClick:!0},continuousStudy:{id:"continuousStudy",tag:"continuous-study",label:"Enable Continuous Study",onlyIfMixIsUnrestricted:!0,persistOnClick:!0}},n._isMounted=!1,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.default.Component),o(t,[{key:"UNSAFE_componentWillMount",value:function(){this.updateUserOptions()}},{key:"componentDidMount",value:function(){this._isMounted=!0}},{key:"componentDidUpdate",value:function(e){this.props.isMixRestricted==e.isMixRestricted&&this.props.isUserPro==e.isUserPro||this.updateUserOptions()}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"render",value:function(){var e=this,t=this.props.isContinuousStudyEnabled?"continuous-study-enabled":"",n=l.default.toClassStr(["checkpoint-options-button",t,this.props.addClasses]),r=this.props.isMobileViewportSize?"bottomLeft":"bottomRight";return s.default.createElement("div",{className:n},s.default.createElement(a.default,{isDisabled:this.props.isDisabled,isProcessing:this.state.isProcessingOptionAction,isUserPro:this.props.isUserPro,menuOptions:this.state.menuOptions,onOptionClick:function(t){return e.handleOptionClick(t)},openPosition:r,shouldButtonTurn:!0}))}},{key:"handleOptionClick",value:function(e){if(this.menuOptionHash[e].onlyPro&&!this.props.isUserPro){var t=this.menuOptionHash[e].label||"",n=this.menuOptionHash[e].paywall||"";this.triggerUpgradeModalOpen(t,n)}else this.handleOptionActionRequest(e)}},{key:"handleOptionActionRequest",value:function(e){switch(e){case"continuousStudy":case"continuousStudyByPro":this.performEnableContinuousStudyAction()}}},{key:"performEnableContinuousStudyAction",value:function(){this.props.onToggleContinuousStudy()}},{key:"triggerUpgradeModalOpen",value:function(e,t){i.default.emitEvent("upgrade-modal:open",{desiredAction:e,paywall:t})}},{key:"updateUserOptions",value:function(){var e=this,t=Object.keys(this.menuOptionHash).reduce(function(t,n){var r=!e.menuOptionHash[n].onlyIfMixIsRestricted||e.props.isMixRestricted,o=!e.menuOptionHash[n].onlyIfMixIsUnrestricted||!e.props.isMixRestricted,i=!e.menuOptionHash[n].onlyIfNotCheckpointButton||!e.props.isCheckpointOptionsButton,a=!e.menuOptionHash[n].onlyMobile||e.props.isMobileViewportSize;return r&&o&&i&&a&&t.push(e.menuOptionHash[n]),t},[]);this.setState({menuOptions:t})}}]),t}();t.default=u,e.exports=t.default},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=u(n(0)),a=u(n(18)),s=u(n(1)),l=u(n(633)),c=u(n(634));function u(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":r(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={oldPosition:0,newPosition:0},n._isMounted=!1,n.postRatingDelay=null,n.rotationInterval=null,n.MAX_ROTATION=140,n.ROTATION_TICK_DURATION=50,n.POST_RATING_DELAY=500,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default.Component),o(t,[{key:"componentDidMount",value:function(){this._isMounted=!0,this.clearTimeoutsAndIntervals(),this.updateNeedlePosition()}},{key:"componentDidUpdate",value:function(e){this.props.confidenceGained!=e.confidenceGained&&this.updateNeedlePosition()}},{key:"componentWillUnmount",value:function(){this.clearTimeoutsAndIntervals(),this._isMounted=!1}},{key:"render",value:function(){var e=this,t=this.props.shouldShowRoundEndConfidence?"show-confidence":"",n=this.props.shouldCompressRoundEndConfidence?"compress-confidence":"",r=this.props.shouldDimRoundEndConfidence?"dim-confidence":"",o=s.default.toClassStr(["confidence-meter",t,n,r,this.props.addClasses]),u=this.props.isMobileViewportSize?"bottom":"right";return i.default.createElement(a.default,{addClasses:"confidence-meter-tooltip-wrapper",isClickDriven:this.props.isMobileViewportSize,label:"confidence-meter-tooltip",place:u,tooltipContent:this.renderConfidenceMeterTooltip()},i.default.createElement("div",{className:o},i.default.createElement("div",{className:"needle-housing",ref:function(t){return e.needleHousing=t}},i.default.createElement("img",{className:"needle",src:l.default}),i.default.createElement("img",{className:"mobile-needle",src:c.default})),i.default.createElement("div",{className:"confidence-gained"},this.renderRoundEndConfidenceGained()),i.default.createElement("div",{className:"limits"},i.default.createElement("div",{className:"min-level"},this.props.minLevel),i.default.createElement("div",{className:"max-level"},this.props.maxLevel)),i.default.createElement("div",{className:"meter-label"},"Confidence Gained")))}},{key:"renderRoundEndConfidenceGained",value:function(){return(this.props.roundEndConfidenceGained>=0?"+":"")+this.props.roundEndConfidenceGained}},{key:"renderConfidenceMeterTooltip",value:function(){return this.props.isAtCheckpoint?i.default.createElement("p",{className:"tooltip-text"},"A meter appears here which depicts the gain or loss in confidence you indicate as you study the cards in each round."):i.default.createElement("div",{className:"tooltip-content"},i.default.createElement("p",{className:"tooltip-text"},"This represents the net change in your confidence levels for this round."),i.default.createElement("p",{className:"tooltip-text"},"e.g. An increase from a 1 to a 3 would be +2."))}},{key:"updateNeedlePosition",value:function(){var e=this;clearTimeout(this.postRatingDelay),this.postRatingDelay=setTimeout(function(){clearTimeout(e.postRatingDelay),e.moveNeedle()},this.POST_RATING_DELAY)}},{key:"moveNeedle",value:function(){var e=this;clearInterval(this.rotationInterval);var t=this.state.oldPosition,n=this.props.confidenceGained,r=0,o=n-t>=0?1:-1,i=0;this.rotationInterval=setInterval(function(){r>=Math.abs(n-t)?(clearInterval(e.rotationInterval),e.setState({oldPosition:n})):(i=(t+ ++r*o)/50*e.MAX_ROTATION,e.needleHousing.style.transform="rotate("+i+"deg)")},this.ROTATION_TICK_DURATION)}},{key:"clearTimeoutsAndIntervals",value:function(){clearInterval(this.rotationInterval),clearTimeout(this.postRatingDelay)}}]),t}();t.default=d,e.exports=t.default},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=l(n(27)),a=l(n(4)),s=l(n(0));function l(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":r(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return Object.defineProperty(n,"handleKeydown",{enumerable:!0,writable:!0,value:function(e){if(!n.props.reminderProcessing)switch(e.keyCode){case 27:case 32:case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:e.stopPropagation(),e.preventDefault()}}}),n.state={questionHover:!1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.default.Component),o(t,[{key:"render",value:function(){return s.default.createElement(i.default,{addClasses:"checkpoint-bubble",expansionDelay:0,isEscapeKeyActive:!0,isScriptedClose:!0,onClose:this.props.onClose,onCloseRequest:this.props.onClose,shouldClose:!1,shouldContract:!1,shouldExpand:!0,size:"full"},s.default.createElement("div",{className:"checkpoint-body"},s.default.createElement("div",{style:{textAlign:"center"}},s.default.createElement("img",{src:"/assets/bsc-sleeping.png",alt:"Brainscape Icon",style:{height:"50vmin",maxWidth:894,maxHeight:912}})),s.default.createElement("div",{style:{textAlign:"center",paddingTop:"1em"}},s.default.createElement("div",{style:{fontSize:"1.2em"}},this.props.message),s.default.createElement("div",{style:{color:"gray",fontSize:"0.8em",fontStyle:"italic"}},"(30 free cards every 2 hours)")),s.default.createElement("div",{style:{textAlign:"center",padding:"1em 10vw"}},"You may still ",s.default.createElement("b",null,"create")," & study your own cards, ",s.default.createElement("b",null,"browse")," other classes, or study classes to which you've been ",s.default.createElement("b",null,"invited"),"."),s.default.createElement("div",{className:"action-buttons"},s.default.createElement("div",{style:{display:"flex",flexDirection:"row",justifyContent:"center"}},s.default.createElement(a.default,{addClasses:"medium-cta-cancel",isProcessing:this.props.reminderProcessing,label:"Set Study Reminder",onClick:this.props.onSetStudyReminder,type:"neutral"}),s.default.createElement(a.default,{addClasses:"medium-cta-action",isProcessing:!1,label:"Skip The Break",onClick:this.props.onSkipTheBreak})))))}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeydown,!0)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeydown,!0)}}]),t}();t.default=c,e.exports=t.default},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(4),a=f(n(218)),s=f(n(27)),l=f(n(52)),c=f(n(95)),u=f(n(219)),d=f(n(0)),p=f(n(1));function f(e){return e&&e.__esModule?e:{default:e}}var h=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":r(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return Object.defineProperty(n,"handleIntroBubbleCtaClick",{enumerable:!0,writable:!0,value:function(){n.setState({shouldCloseIntroBubble:!0},function(){p.default.trackStudyProgress("ftse_study_10_btn")})}}),Object.defineProperty(n,"handleQuestionToolbarClick",{enumerable:!0,writable:!0,value:function(){n.state.shouldShowQuestionPrompts&&n.setState({shouldShowQuestionPrompts:!1,shouldShowAnswerPrompts:!0},function(){n.triggerAnswerCardbarPulse(),p.default.trackStudyProgress("ftse_first_reveal")})}}),Object.defineProperty(n,"handleAnswerToolbarClick",{enumerable:!0,writable:!0,value:function(){n.state.shouldShowAnswerPrompts&&n.setState({shouldShowAnswerPrompts:!1,shouldShowCbrBubble:!0},function(){n.activateKeyboardMonitor(),p.default.trackStudyProgress("ftse_first_rating")})}}),n.state={cardLedger:null,hasHadFirstRepeat:!1,hasSeenMidpointBubble:!1,shouldCloseCbrBubble:!1,shouldCloseIntroBubble:!1,shouldShowAnswerPrompts:!1,shouldShowCbrBubble:!1,shouldShowFirstRepeatBubble:!1,shouldShowIntroBubble:!1,shouldShowQuestionPrompts:!1},n._isMounted=!1,n.boundKeydownHandler=n.handleKeydown.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,d.default.Component),o(t,[{key:"componentDidMount",value:function(){this._isMounted=!0,this.invokeFtse()}},{key:"componentDidUpdate",value:function(e){!e.wasQuestionCardbarClicked&&this.props.wasQuestionCardbarClicked&&this.handleQuestionToolbarClick(),!e.wasAnswerCardbarClicked&&this.props.wasAnswerCardbarClicked&&this.handleAnswerToolbarClick(),(0==this.props.roundStepIndex&&null==this.state.cardLedger||this.props.roundStepIndex!=e.roundStepIndex)&&this.checkAndUpdateCardLedger()}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"render",value:function(){var e=p.default.toClassStr(["ftse-messaging",this.props.addClasses]);return d.default.createElement("div",{className:e},this.renderIntroBubble(),this.renderQuestionBubble(),this.renderAnswerBubble(),this.renderCbrBubble(),this.renderRoundMidpointBubble(),this.renderFirstRepeatBubble(),this.renderPreExitBubble())}},{key:"renderIntroBubble",value:function(){var e=this;return this.state.shouldShowIntroBubble?d.default.createElement(s.default,{addClasses:"intro-bubble",contractionDelay:6e4,expansionDelay:1e3,isEscapeKeyActive:!0,onClose:function(){return e.handleIntroBubbleClose()},shouldAutoContract:!0,shouldClose:this.state.shouldCloseIntroBubble,shouldContract:!0,shouldExpand:!0,size:"full"},d.default.createElement("div",{className:"study-intro"},d.default.createElement(a.default,null),d.default.createElement("div",{className:"about-text"},"Brainscape's Confidence-Based Repetition \xae (CBR)",d.default.createElement("br",null),"system helps you learn faster, using brain science."),d.default.createElement(i.LargeCtaButton,{addClasses:"study",label:"Study 10 Cards",onClick:this.handleIntroBubbleCtaClick}))):null}},{key:"renderQuestionBubble",value:function(){return this.state.shouldShowQuestionPrompts?d.default.createElement(l.default,{addClasses:"question-bubble",expansionDelay:1e4,message:"Reveal the answer when you're ready.",onClose:function(){},size:"small",shouldAutoContract:!1,shouldClose:!this.state.shouldShowQuestionPrompts,shouldContract:!0,shouldExpand:!0,shouldPulseTitle:!1}):null}},{key:"renderAnswerBubble",value:function(){return this.state.shouldShowAnswerPrompts?d.default.createElement(l.default,{addClasses:"answer-bubble",expansionDelay:1e4,message:"Rate how confidently you knew the answer.",onClose:function(){},size:"small",shouldAutoContract:!1,shouldClose:!this.state.shouldShowAnswerPrompts,shouldContract:!0,shouldExpand:!0,shouldPulseTitle:!1}):null}},{key:"renderCbrBubble",value:function(){var e=this;return this.state.shouldShowCbrBubble?d.default.createElement(s.default,{addClasses:"cbr-bubble",contractionDelay:3e4,expansionDelay:100,isEscapeKeyActive:!0,onClose:function(){return e.handleCbrBubbleClose()},shouldAutoContract:!1,shouldClose:this.state.shouldCloseCbrBubble,shouldContract:!0,shouldExpand:!0,size:"full"},d.default.createElement("div",{className:"cbr-info"},d.default.createElement("div",{className:"rating"},"You rated this card a ",this.props.ftseAnswerCardbarRating,"."),d.default.createElement("div",{className:"explanation"},this.renderCbrExplanation()),d.default.createElement(i.LargeCtaButton,{addClasses:"got-it",label:"Got it!",onClick:function(){return e.handleCbrBubbleCtaClick()},title:"Hit [Space Bar] to resume studying"}),d.default.createElement("div",{className:"legends-and-buttons"},d.default.createElement("div",{className:"button-legends-and-arrow"},d.default.createElement("div",{className:"button-legend repeat-often"},"Repeat Often"),d.default.createElement("div",{className:"arrow"},d.default.createElement("div",{className:"left-triangle"}),d.default.createElement("div",{className:"line"}),d.default.createElement("div",{className:"right-triangle"})),d.default.createElement("div",{className:"button-legend repeat-rarely"},"Repeat Rarely")),d.default.createElement(c.default,{highlightedRatingButton:this.props.ftseAnswerCardbarRating,onButtonClick:function(){}})))):null}},{key:"renderCbrExplanation",value:function(){return this.props.ftseAnswerCardbarRating<3?"It will repeat soon.":3==this.props.ftseAnswerCardbarRating?"It will repeat in a while.":this.props.ftseAnswerCardbarRating>3?"It shouldn't repeat for awhile.":void 0}},{key:"renderRoundMidpointBubble",value:function(){var e=this;return!this.props.isAtRoundMidpoint||this.state.hasSeenMidpointBubble?null:d.default.createElement(l.default,{addClasses:"round-midpoint-bubble",contractionDelay:7500,expansionDelay:100,message:"You're halfway there. Just 5 more cards until your goal!",onClose:function(){return e.handleMidpointBubbleClose()},size:"small",shouldAutoContract:!0,shouldClose:!this.props.isAtRoundMidpoint,shouldContract:!0,shouldExpand:!0,shouldPulseTitle:!1})}},{key:"renderFirstRepeatBubble",value:function(){var e=this;return!this.state.shouldShowFirstRepeatBubble||this.state.hasSeenMidpointBubble?null:d.default.createElement(l.default,{addClasses:"first-repeat-bubble",contractionDelay:7500,expansionDelay:1500,message:this.renderFirstRepeatMessage(),onClose:function(){return e.handleFirstRepeatBubbleClose()},size:"small",shouldAutoContract:!0,shouldClose:!this.state.shouldShowFirstRepeatBubble,shouldContract:!0,shouldExpand:!0,shouldPulseTitle:!1})}},{key:"renderFirstRepeatMessage",value:function(){var e=this.state.firstRepeatedRatingLevel,t={1:"often",2:"often",3:"occasionally",4:"rarely",5:"rarely"}[this.state.firstRepeatedRatingLevel];return d.default.createElement("span",{className:"first-repeat-message"},"You're seeing this card again because you rated it a "+e+".",d.default.createElement("br",null),d.default.createElement("br",null),e+"'s repeat "+t+".")}},{key:"renderPreExitBubble",value:function(){var e=this;return this.props.shouldShowPreExitBubble?d.default.createElement(u.default,{onConfirmCloseStudyMix:function(){return e.props.onConfirmCloseStudyMix()},onPreExitBubbleClosed:function(){return e.props.onPreExitBubbleClosed()},onPreExitBubbleDismissed:function(){return e.props.onPreExitBubbleDismissed()},roundStepIndex:this.props.roundStepIndex,shouldClose:this.props.shouldClosePreExitBubble}):null}},{key:"handleIntroBubbleClose",value:function(){var e=this;this.deactivateKeyboardMonitor(),this.setState({shouldShowIntroBubble:!1,shouldShowQuestionPrompts:!0},function(){e.triggerQuestionCardbarPulse()})}},{key:"handleCbrBubbleClose",value:function(){var e=this;this.deactivateKeyboardMonitor(),this.setState({shouldShowCbrBubble:!1},function(){e.props.ftsePostCbrBubbleAction&&e.props.ftsePostCbrBubbleAction()})}},{key:"handleCbrBubbleCtaClick",value:function(){this.setState({shouldCloseCbrBubble:!0})}},{key:"handleFirstRepeatBubbleClose",value:function(){this.setState({shouldShowFirstRepeatBubble:!1})}},{key:"handleMidpointBubbleClose",value:function(){this.setState({hasSeenMidpointBubble:!0})}},{key:"handleKeydown",value:function(e){switch(e.stopPropagation(),e.keyCode){case 27:e.preventDefault(),this.handleEscapeKeyClick();break;case 32:e.preventDefault(),this.handleSpaceBarClick()}}},{key:"handleEscapeKeyClick",value:function(){return this.state.shouldShowIntroBubble?(this.setState({shouldCloseIntroBubble:!0}),!0):this.state.shouldShowCbrBubble?(this.setState({shouldCloseCbrBubble:!0}),!0):void 0}},{key:"handleSpaceBarClick",value:function(){if(this.state.shouldShowCbrBubble)return this.setState({shouldCloseCbrBubble:!0}),!0}},{key:"checkAndUpdateCardLedger",value:function(){if(!this.props.stepCard||this.state.hasHadFirstRepeat)return!1;var e=this.props.stepCard.cardId.toString(),t=this.state.cardLedger||{};e in t&&(this.setState({hasHadFirstRepeat:!0,firstRepeatedRatingLevel:this.props.stepConfidenceLevel,shouldShowFirstRepeatBubble:!0}),p.default.trackStudyProgress("ftse_first_repeat")),t[e]=this.props.stepConfidenceLevel,this.setState({cardLedger:t})}},{key:"triggerAnswerCardbarPulse",value:function(){this.props.onAnswerCardbarPulseTrigger()}},{key:"triggerQuestionCardbarPulse",value:function(){this.props.onQuestionCardbarPulseTrigger()}},{key:"invokeFtse",value:function(){var e=this;this.setState({shouldShowIntroBubble:!0},function(){e.activateKeyboardMonitor(),p.default.trackStudyProgress("ftse_intro")})}},{key:"activateKeyboardMonitor",value:function(){document.addEventListener("keydown",this.boundKeydownHandler,!0)}},{key:"deactivateKeyboardMonitor",value:function(){document.removeEventListener("keydown",this.boundKeydownHandler,!0)}}]),t}();t.default=h,e.exports=t.default},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(e){return e&&e.__esModule?e:{default:e}}(n(0)),a=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":r(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default.Component),o(t,[{key:"render",value:function(){return i.default.createElement("div",{className:"animated-cards"},i.default.createElement("div",{className:"confidenceanimation"},i.default.createElement("div",{className:"confidenceanimation-container"},i.default.createElement("div",{className:"confidenceanimation-card anim-card-1"},i.default.createElement("div",null,'How do you say "Cheese" in French?'),i.default.createElement("div",{className:"confidenceanimation-reveal"},"REVEAL")),i.default.createElement("div",{className:"confidenceanimation-card anim-card-2"},i.default.createElement("div",null,"What is the capital of France?"),i.default.createElement("div",{className:"confidenceanimation-reveal"},"REVEAL")),i.default.createElement("div",{className:"confidenceanimation-card anim-card-3"},i.default.createElement("div",null,"What is the chemical symbol for Water?"),i.default.createElement("div",{className:"confidenceanimation-reveal"},"REVEAL")),i.default.createElement("div",{className:"confidenceanimation-card anim-card-4"},i.default.createElement("div",null,"Define: Odious"),i.default.createElement("div",{className:"confidenceanimation-reveal"},"REVEAL"))),i.default.createElement("div",{className:"confidenceanimation-label"},i.default.createElement("div",null,"How well did you know this?"),i.default.createElement("div",{className:"confidenceanimation-label-confidence confidenceanimation-label-1"},"Not at all"),i.default.createElement("div",{className:"confidenceanimation-label-confidence confidenceanimation-label-2"},"Not really"),i.default.createElement("div",{className:"confidenceanimation-label-confidence confidenceanimation-label-3"},"Well"),i.default.createElement("div",{className:"confidenceanimation-label-confidence confidenceanimation-label-4"},"Very Well"),i.default.createElement("div",{className:"confidenceanimation-label-confidence confidenceanimation-label-5"},"Perfectly"))))}}]),t}();t.default=a,e.exports=t.default},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(4),a=c(n(27)),s=c(n(0)),l=c(n(1));function c(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":r(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={isQuitting:!1,isResuming:!1},n._isMounted=!1,n.boundKeydownHandler=n.handleKeydown.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.default.Component),o(t,[{key:"componentDidMount",value:function(){this._isMounted=!0,this.activateKeyboardMonitor()}},{key:"componentWillUnmount",value:function(){this._isMounted=!1,this.deactivateKeyboardMonitor()}},{key:"render",value:function(){var e=this,t=l.default.toClassStr(["pre-exit-bubble",this.props.addClasses]);return s.default.createElement(a.default,{addClasses:t,expansionDelay:500,isEscapeKeyActive:!0,onClose:function(){return e.props.onPreExitBubbleClosed()},shouldAutoContract:!1,shouldClose:this.props.shouldClose,shouldContract:!0,shouldExpand:!0,size:"full"},s.default.createElement("div",{className:"pre-exit-bubble-body"},s.default.createElement("p",{className:"question"},"Are you sure you want to quit the round before hitting your goal?"),s.default.createElement("p",{className:"aside"},this.renderAsideMessage()),s.default.createElement("div",{className:"action-buttons"},s.default.createElement(i.LargeCtaButton,{addClasses:"resume",isProcessing:this.state.isResuming,label:"Resume",onClick:function(){return e.handleResumeStudyClick()},title:"Hit [Esc] to dismiss and resume"}),s.default.createElement(i.LargeCtaButton,{addClasses:"quit",isProcessing:this.state.isQuitting,label:"Quit",onClick:function(){return e.handleBackToLibraryClick()},title:"Hit [Space Bar] to confirm and quit",type:"neutral"}))))}},{key:"renderAsideMessage",value:function(){return this.props.roundStepIndex<3?"You're just getting started...":this.props.roundStepIndex>6?"You only have a few cards left.":"You're doing great!"}},{key:"handleBackToLibraryClick",value:function(){var e=this;this.setState({isQuitting:!0},function(){e.props.onConfirmCloseStudyMix()})}},{key:"handleResumeStudyClick",value:function(){var e=this;this.setState({isResuming:!0},function(){e.props.onPreExitBubbleDismissed()})}},{key:"handleKeydown",value:function(e){switch(e.stopPropagation(),e.keyCode){case 27:e.preventDefault(),this.handleResumeStudyClick();break;case 32:e.preventDefault(),this.handleBackToLibraryClick()}}},{key:"activateKeyboardMonitor",value:function(){document.addEventListener("keydown",this.boundKeydownHandler,!0)}},{key:"deactivateKeyboardMonitor",value:function(){document.removeEventListener("keydown",this.boundKeydownHandler,!0)}}]),t}();t.default=u,e.exports=t.default},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=(n(7),c(n(50))),a=c(n(0)),s=c(n(18)),l=c(n(1));function c(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":r(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={},n._isMounted=!1,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default.Component),o(t,[{key:"componentDidMount",value:function(){this._isMounted=!0}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"render",value:function(){var e=this.props.isAtCheckpoint?"is-at-checkpoint":"",t=this.props.isClosingCheckpoint?"is-closing-checkpoint":"",n=l.default.toClassStr(["overall-stats-section",e,t,this.props.addClasses]),r=(l.default.percentageStr(this.props.mixMastery),Math.min(this.props.roundStepIndex,this.props.roundStepCount)),o=this.props.isMobileViewportSize?"bottom":"right";return a.default.createElement("div",{className:n},a.default.createElement(s.default,{addClasses:"overall-mastery-tooltip-wrapper",isClickDriven:this.props.isMobileViewportSize,key:"masteryCircle",label:"overall-mastery-tooltip",place:o,tooltipContent:this.renderOverallMasteryCircleTooltip()},a.default.createElement(i.default,{addClasses:"overall-mastery",animationDuration:0,key:"overallMastery",mastery:this.props.mixMastery,shouldAnimate:!1,shouldCountUpMastery:!1,shouldShowLevels:!1,shouldShowMasteryValue:!0,shouldShowMasteryValueLabel:!0}),this.renderCheckpointCircle()),a.default.createElement(s.default,{addClasses:"confidence-ratings-tooltip-wrapper",isClickDriven:this.props.isMobileViewportSize,key:"confidenceRatings",label:"confidence-ratings-tooltip",place:o,tooltipContent:this.renderConfidenceRatingsTooltip()},this.renderConfidenceRatingsBars()),a.default.createElement("footer",{className:"overall-stats-footer"},a.default.createElement("h4",{className:"status-title"},"Cards rated in Round:"),a.default.createElement("div",{className:"card-index"},r+" / "+this.props.roundStepCount)))}},{key:"renderOverallMasteryCircleTooltip",value:function(){return a.default.createElement("div",{className:"tooltip-content"},a.default.createElement("p",{className:"tooltip-text"},"This graph depicts your overall mastery for the cards in your study mix."),a.default.createElement("p",{className:"tooltip-text"},"Overall mastery will reach 100% when you have rated each card with a confidence level of 5."))}},{key:"renderCheckpointCircle",value:function(){return this.props.isAtCheckpoint?a.default.createElement("div",{className:"checkpoint-circle"}):null}},{key:"renderConfidenceRatingsTooltip",value:function(){return a.default.createElement("div",{className:"tooltip-content"},a.default.createElement("p",{className:"tooltip-text"},"These bars show you how many cards you have at each confidence level, for all the decks you have checked in your mix."),a.default.createElement("p",{className:"tooltip-text"},"The top bar shows how many cards you have yet to see and rate."))}},{key:"renderConfidenceRatingsBars",value:function(){var e=this;if(this.props.isMobileViewportSize)return this.renderMobileConfidenceRatingsBars();var t=this.props.mixRatingLevelCounts.map(function(t,n){return e.renderConfidenceRatingsBar(n,t)});return a.default.createElement("div",{className:"confidence-ratings"},a.default.createElement("h4",{className:"confidence-ratings-heading"},"Confidence Ratings"),a.default.createElement("ul",{className:"confidence-ratings-bars"},t))}},{key:"renderConfidenceRatingsBar",value:function(e,t){var n=0==e?"New":e,r=0==e?t+" unrated cards":t+" cards rated as "+e,o=t/this.props.mixCardCount*100;return a.default.createElement("li",{className:"confidence-ratings-bar level-"+e,key:e},a.default.createElement("div",{className:"level-label"},n),a.default.createElement("div",{className:"base-bar"},a.default.createElement("div",{className:"count-bar",style:{width:o+"%"},title:r})),a.default.createElement("div",{className:"level-count"},t))}},{key:"renderMobileConfidenceRatingsBars",value:function(){var e=this,t=this.props.mixRatingLevelCounts.map(function(t,n){if(t>0)return e.renderMobileConfidenceRatingBar(n,t)}),n=t.shift();return t.push(n),a.default.createElement("ul",{className:"mobile-confidence-ratings-bars"},t)}},{key:"renderMobileConfidenceRatingBar",value:function(e,t){var n=t/this.props.mixCardCount*100;return a.default.createElement("li",{className:"mobile-confidence-ratings-bar level-"+e,key:e,style:{width:n+"%"}},this.renderLevelCount(n,t))}},{key:"renderLevelCount",value:function(e,t){return e<8?null:a.default.createElement("div",{className:"level-count"},t)}},{key:"handleBackButtonClick",value:function(e){e&&e.stopPropagation(),this.props.onCloseStudyMixRequest()}}]),t}();t.default=u,e.exports=t.default},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=k(n(0)),a=k(n(18)),s=k(n(1)),l=k(n(635)),c=k(n(636)),u=k(n(637)),d=k(n(638)),p=k(n(639)),f=k(n(640)),h=k(n(641)),m=k(n(642)),g=k(n(643)),b=k(n(644)),v=k(n(645)),y=k(n(646));function k(e){return e&&e.__esModule?e:{default:e}}var _=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":r(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={},n._isMounted=!1,n.chevrons={chevron0:l.default,chevron1:c.default,chevron2:u.default,chevron3:d.default,chevron4:p.default,chevron5:f.default,chevron0Active:h.default,chevron1Active:m.default,chevron2Active:g.default,chevron3Active:b.default,chevron4Active:v.default,chevron5Active:y.default},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default.Component),o(t,[{key:"componentDidMount",value:function(){this._isMounted=!0}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"render",value:function(){for(var e=s.default.toClassStr(["progress-meter",this.props.addClasses]),t=[],n=0;n<this.props.stepCount;n++){var r=this.props.stepRatings[n]||0;t.push(this.renderProgressStep(r,n))}return i.default.createElement(a.default,{addClasses:"progress-meter-tooltip-wrapper",isClickDriven:this.props.isMobileViewportSize,label:"progress-meter-tooltip",place:"right",tooltipContent:this.renderTooltipMessage()},i.default.createElement("ul",{className:e},t))}},{key:"renderProgressStep",value:function(e,t){var n=t==this.props.stepIndex?"is-current-step":"",r=t==this.props.stepIndex-1?"was-last-rated":"",o="confidence-"+e,a=s.default.toClassStr(["progress-step",o,n,r]),l=void 0;if(r){var c=e-this.props.preRoundStepRatings[t];l=c>=0?"+"+c:c}else l=null;return i.default.createElement("li",{className:a,key:t},this.renderChevron(e,n),i.default.createElement("div",{className:"rating-number"},i.default.createElement("div",{className:"digit"},l)))}},{key:"renderChevron",value:function(e,t){var n="chevron"+e+(t&&!this.props.isAtCheckpoint?"Active":"");return i.default.createElement("img",{className:"chevron",src:this.chevrons[n]})}},{key:"renderTooltipMessage",value:function(){return this.props.isAtCheckpoint?i.default.createElement("p",{className:"tooltip-text"},"These bars will light for each card that you rate as you progress through your Study Round."):i.default.createElement("div",{className:"tooltip-messages"},i.default.createElement("p",{className:"tooltip-text"},"You've currently studied ",this.props.stepIndex," out of ",this.props.stepCount," cards this round."),this.renderCardsLeftMessage())}},{key:"renderCardsLeftMessage",value:function(){return this.props.stepCount-this.props.stepIndex<=6?i.default.createElement("p",{className:"tooltip-text"},"Only ",this.props.stepCount-this.props.stepIndex," cards left!"):i.default.createElement("p",{className:"tooltip-text"},"Keep going, you're just getting started!")}}]),t}();t.default=_,e.exports=t.default},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=c(n(223)),a=c(n(0)),s=c(n(224)),l=c(n(1));function c(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":r(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={isFlippingIn:!1},n._isMounted=!1,n.flipTimeout=null,n.FLIP_DURATION=400,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default.Component),o(t,[{key:"componentDidMount",value:function(){this._isMounted=!0,this.clearTimeouts()}},{key:"componentDidUpdate",value:function(e){this.props.card.cardID==e.card.cardID&&this.props.isAnswerShowing!=e.isAnswerShowing&&this.invokeCardFlipAnimation()}},{key:"componentWillUnmount",value:function(){this._isMounted=!1,this.clearTimeouts()}},{key:"render",value:function(){var e=this,t=this.props.isAnswerShowing?"answer-mode":"question-mode",n=this.state.isFlippingIn?"is-flipping-in":"is-placed",r=l.default.toClassStr(["study-card",t,n,this.props.addClasses]);return a.default.createElement("div",{className:r},a.default.createElement(i.default,null,a.default.createElement(s.default,{card:this.props.card,confidenceLevel:this.props.confidenceLevel,currentSound:this.props.currentSound,isAnswerFace:!1,isAnswerShowing:this.props.isAnswerShowing,key:"questionFace",mixName:this.props.mixName,onCardFlipRequest:function(){return e.props.onCardFlipRequest()},onPauseSoundRequest:function(){return e.props.onPauseSoundRequest()},onPlaySoundRequest:function(){return e.props.onPlaySoundRequest()},onViewLargeImageRequest:function(t){return e.props.onViewLargeImageRequest(t)},stepDeckCardCount:this.props.stepDeckCardCount,stepDeckCardIndex:this.props.stepDeckCardIndex,stepDeckName:this.props.stepDeckName}),a.default.createElement(s.default,{card:this.props.card,confidenceLevel:this.props.confidenceLevel,currentSound:this.props.currentSound,isAnswerFace:!0,isAnswerShowing:this.props.isAnswerShowing,key:"answerFace",mixName:this.props.mixName,onCardFlipRequest:function(){return e.props.onCardFlipRequest()},onPauseSoundRequest:function(){return e.props.onPauseSoundRequest()},onPlaySoundRequest:function(){return e.props.onPlaySoundRequest()},onViewLargeImageRequest:function(t){return e.props.onViewLargeImageRequest(t)},stepDeckCardCount:this.props.stepDeckCardCount,stepDeckCardIndex:this.props.stepDeckCardIndex,stepDeckName:this.props.stepDeckName})))}},{key:"invokeCardFlipAnimation",value:function(){var e=this;this.setState({isFlippingIn:!0},function(){e.completeFlipAnimation()})}},{key:"completeFlipAnimation",value:function(){var e=this;this.clearTimeouts(),this.flipTimeout=setTimeout(function(){e.setState({isFlippingIn:!1})},this.FLIP_DURATION)}},{key:"clearTimeouts",value:function(){clearTimeout(this.flipTimeout)}}]),t}();t.default=u,e.exports=t.default},function(e,t,n){"use strict";var r,o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=l(n(3)),s=l(n(0));function l(e){return e&&e.__esModule?e:{default:e}}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":o(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={hasError:!1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":o(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.default.Component),i(t,[{key:"componentDidCatch",value:function(e,t){Util.handleError({errorMessage:e,errorObject:t,notifyUser:this.props.shouldNotifyUser||!1,operation:this.props.operation})}},{key:"render",value:function(){return this.state.hasError?this.renderFallbackUi():this.props.children}},{key:"renderFallbackUi",value:function(){return this.props.fallbackUi?s.default.createElement("div",{className:"fallbackUi"},this.props.fallbackUi):s.default.createElement(s.default.Fragment,null)}}],[{key:"getDerivedStateFromError",value:function(e){return{hasError:!0}}}]),t}();u.propTypes=(c(r={operation:a.default.string,fallbackUi:a.default.object},"operation",a.default.string),c(r,"shouldNotifyUser",a.default.bool),r),t.default=u,e.exports=t.default},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=u(n(2)),a=u(n(0)),s=u(n(18)),l=u(n(1)),c=n(7);function u(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":r(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return Object.defineProperty(n,"handleEditButtonClick",{enumerable:!0,writable:!0,value:function(e){e.stopPropagation(),i.default.emitEvent("edit-card:request",{cardId:n.props.card.cardId,deckId:n.props.card.deckId,packId:n.props.card.packId})}}),n.state={},n._isMounted=!1,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default.Component),o(t,[{key:"componentDidMount",value:function(){this._isMounted=!0}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"render",value:function(){var e=this,t=this.props.isAnswerFace?"answer-face":"question-face",n="confidence-"+this.props.confidenceLevel,r=l.default.toClassStr(["study-card-face",t,n,this.props.addClasses]);return a.default.createElement("div",{className:r,ref:"card",onClick:function(t){return e.handleCardClick(t)}},a.default.createElement("header",{className:"card-face-header"},a.default.createElement("div",{className:"card-type-indicator"},this.props.isAnswerFace?"A":"Q"),a.default.createElement("div",{className:"card-controls"},this.renderPlayPauseToggle(),this.renderEditButton(),this.renderInfoButton())),a.default.createElement("div",{className:"card-content"},this.renderCardPrompt(),this.renderCardBody()))}},{key:"renderPlayPauseToggle",value:function(){var e=this;return this.props.currentSound&&this.props.currentSound.isPresent?this.props.currentSound.isPlaying?a.default.createElement(c.PauseButton,{addClasses:"card-sound-control",onClick:function(){return e.handlePauseSoundClick()}}):a.default.createElement(c.PlayButton,{addClasses:"card-sound-control",onClick:function(){return e.handlePlaySoundClick()}}):null}},{key:"renderEditButton",value:function(){var e="Suggest changes to this card.";return this.props.card.canEdit&&(e="Edit this card."),a.default.createElement(c.EditButton,{addClasses:"edit-card-button",onClick:this.handleEditButtonClick,title:e})}},{key:"renderInfoButton",value:function(){return a.default.createElement(s.default,{addClasses:"info-button-tooltip-wrapper",isClickDriven:!0,label:"info-button-tooltip",place:"bottom",tooltipContent:this.renderInfoButtonTooltip()},a.default.createElement(c.InfoButton,{addClasses:"info-card-button",onClick:function(){},shouldAllowClickPropagation:!0}))}},{key:"renderInfoButtonTooltip",value:function(){return a.default.createElement("div",{className:"tooltip-content full-name-and-description"},a.default.createElement("p",{className:"tooltip-text"},"Mix: ",this.props.mixName),a.default.createElement("p",{className:"tooltip-text"},"Deck: ",this.props.stepDeckName),a.default.createElement("p",{className:"tooltip-text"},"Card: ",this.props.stepDeckCardIndex,"/",this.props.stepDeckCardCount))}},{key:"renderCardPrompt",value:function(){var e=this;return!this.props.card.prompt||this.props.isAnswerFace?null:a.default.createElement("div",{className:"card-prompt",onClick:function(t){return e.handleCardPromptClick(t)}},this.props.card.prompt)}},{key:"renderCardBody",value:function(){var e=this,t=this.props.isAnswerFace?this.props.card.answer:this.props.card.question;return a.default.createElement("div",{className:"card-body",onClick:function(t){return e.handleCardBodyClick(t)}},a.default.createElement("div",{className:"inner-html",dangerouslySetInnerHTML:{__html:this.massageContent(t)}}),this.renderCardImage())}},{key:"renderCardImage",value:function(){var e=this,t=this.props.isAnswerFace?this.props.card.aImageURL||null:this.props.card.qImageURL||null,n=this.props.isAnswerFace?this.props.card.aOriginalImageURL||null:this.props.card.qOriginalImageURL||null;if(!t)return null;var r=n?"is-zoomable":"",o=l.default.toClassStr(["card-image",r]);return a.default.createElement("div",{className:o},a.default.createElement("img",{className:"card-sized-image",src:t,onClick:function(t){return e.handleImageClick(t,n)}}),this.renderExpandButton(n))}},{key:"renderExpandButton",value:function(e){var t=this;return e?a.default.createElement(c.ExpandButton,{addClasses:"card-image-expand-button",onClick:function(){return t.handleImageExpandButtonClick(e)}}):null}},{key:"handleCardBodyClick",value:function(e){e.stopPropagation()}},{key:"handleCardPromptClick",value:function(e){e.stopPropagation()}},{key:"handleCardClick",value:function(e){e.stopPropagation(),this.props.onCardFlipRequest()}},{key:"handleImageClick",value:function(e,t){e.stopPropagation(),t&&this.props.onViewLargeImageRequest(t)}},{key:"handleImageExpandButtonClick",value:function(e){this.props.onViewLargeImageRequest(e)}},{key:"handlePauseSoundClick",value:function(){this.props.onPauseSoundRequest()}},{key:"handlePlaySoundClick",value:function(){this.props.onPlaySoundRequest()}},{key:"massageContent",value:function(e){var t,n="html"!=this.props.card.contentType?l.default.simpleFormat(e):e,r=document.createElement("span");r.innerHTML=n,(t=r.getElementsByTagName("a"))||(t=[]);for(var o=0;o<t.length;o++)t[o].setAttribute("target","_blank");return r.innerHTML}}]),t}();t.default=d,e.exports=t.default},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(6),a=c(n(95)),s=c(n(0)),l=c(n(1));function c(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":r(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={isAnswerBarShowing:!1,isPulsing:!1,isQuestionBarShowing:!1},n._isMounted=!1,n.entryExitTimeout=null,n.pulsationTimeout=null,n.ENTRY_EXIT_DELAY=100,n.ENTRY_EXIT_DURATION=2e3,n.PULSATIOM_DELAY=250,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.default.Component),o(t,[{key:"componentDidMount",value:function(){this._isMounted=!0,this.activateKeyboardMonitor(),this.clearTimeouts(),this.performEntryExitAnimations()}},{key:"componentDidUpdate",value:function(e){clearTimeout(this.pulsationTimeout),this.props.isAnswerShowing!=e.isAnswerShowing&&this.performEntryExitAnimations(),(this.props.shouldPulseQuestionCardbar||this.props.shouldPulseAnswerCardbar)&&this.invokePulsation()}},{key:"componentWillUnmount",value:function(){this._isMounted=!1,this.clearTimeouts(),this.deactivateKeyboardMonitor()}},{key:"render",value:function(){return s.default.createElement("div",{className:"study-card-bars"},this.renderQuestionBar(),this.renderAnswerBar())}},{key:"renderQuestionBar",value:function(){var e=this,t="confidence-"+this.props.confidenceLevel,n=this.state.isQuestionBarShowing?"is-showing":"",r=this.props.isDealingNewCard?"is-dealing":"",o=this.props.shouldPulseQuestionCardbar&&this.state.isPulsing?"pulse":"",i=l.default.toClassStr(["study-card-bar question-bar",t,n,r,o,this.props.addClasses]);return s.default.createElement("div",{className:i,onClick:function(t){return e.handleQuestionBarClick(t)},title:"Press space on your keyboard"},s.default.createElement("div",{className:"bar-text"},"Reveal Answer"))}},{key:"renderAnswerBar",value:function(){var e=this,t="confidence-"+this.props.confidenceLevel,n=this.state.isAnswerBarShowing?"is-showing":"",r=this.props.isDealingNewCard?"is-dealing":"",o=this.props.shouldPulseAnswerCardbar&&this.state.isPulsing?"pulse":"",i=l.default.toClassStr(["study-card-bar answer-bar",t,n,r,o,this.props.addClasses]);return s.default.createElement("div",{className:i},s.default.createElement("div",{className:"card-bar-prompt"},"How well did you know this?"),s.default.createElement(a.default,{highlightedRatingButton:this.props.highlightedRatingButton,onButtonClick:function(t){return e.handleAnswerBarButtonClick(t)}}))}},{key:"handleKeydown",value:function(e){if(!this.props.shouldCaptureKeyboardInput||(0,i.modalCount)()>0)return null;switch(e.stopPropagation(),e.keyCode){case 32:e.preventDefault(),this.handleCardFlipRequest();break;case 97:case 49:e.preventDefault(),this.handleKeyboardRatingInput(1);break;case 98:case 50:e.preventDefault(),this.handleKeyboardRatingInput(2);break;case 99:case 51:e.preventDefault(),this.handleKeyboardRatingInput(3);break;case 100:case 52:e.preventDefault(),this.handleKeyboardRatingInput(4);break;case 101:case 53:e.preventDefault(),this.handleKeyboardRatingInput(5)}}},{key:"handleAnswerBarButtonClick",value:function(e){var t=this;this.props.shouldPulseAnswerCardbar?this.setState({isPulsing:!1},function(){t.props.onAnswerCardbarClick(e,function(){return t.props.onConfidenceRating(e)})}):this.props.onConfidenceRating(e)}},{key:"handleKeyboardRatingInput",value:function(e){this.handleAnswerBarButtonClick(e)}},{key:"handleQuestionBarClick",value:function(e){var t=this;e&&e.stopPropagation(),this.props.shouldPulseQuestionCardbar?this.setState({isPulsing:!1},function(){t.props.onQuestionCardbarClick(),t.props.onCardFlipRequest()}):this.props.onCardFlipRequest()}},{key:"handleCardFlipRequest",value:function(){this.props.isAnswerShowing?this.props.onCardFlipRequest():this.handleQuestionBarClick()}},{key:"performEntryExitAnimations",value:function(){var e=this;clearTimeout(this.entryExitTimeout),this.entryExitTimeout=setTimeout(function(){e.props.isAnswerShowing?e.invokeAnswerBarEntrance():e.invokeQuestionBarEntrance()},this.ENTRY_EXIT_DELAY)}},{key:"invokeQuestionBarEntrance",value:function(){this.setState({isAnswerBarShowing:!1,isQuestionBarShowing:!0})}},{key:"invokeAnswerBarEntrance",value:function(){this.setState({isAnswerBarShowing:!0,isQuestionBarShowing:!1})}},{key:"invokePulsation",value:function(){var e=this;clearTimeout(this.pulsationTimeout),this.pulsationTimeout=setTimeout(function(){e.setState({isPulsing:!0}),clearTimeout(e.pulsationTimeout)},this.PULSATIOM_DELAY)}},{key:"activateKeyboardMonitor",value:function(){var e=this;document.addEventListener("keydown",function(t){return e.handleKeydown(t)})}},{key:"deactivateKeyboardMonitor",value:function(){var e=this;document.removeEventListener("keydown",function(t){return e.handleKeydown(t)})}},{key:"clearTimeouts",value:function(){clearTimeout(this.pulsationTimeout),clearTimeout(this.entryExitTimeout)}}]),t}();t.default=u,e.exports=t.default},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(7),s=h(n(39)),l=h(n(2)),c=h(n(227)),u=(h(n(48)),h(n(0))),d=h(n(222)),p=h(n(225)),f=h(n(1));function h(e){return e&&e.__esModule?e:{default:e}}var m=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":r(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return Object.defineProperty(n,"render",{enumerable:!0,writable:!0,value:function(){var e=f.default.toClassStr(["study-card-table",n.props.addClasses]);return u.default.createElement("div",{className:e},n.renderStudyCardTableContents(),n.renderImageViewer(),n.renderSoundPlayer())}}),Object.defineProperty(n,"handleCardUpdated",{enumerable:!0,writable:!0,value:function(e){var t={},r=e.card,i=n.state.currentStepCard;i&&i.cardId==r.cardId&&(t.currentStepCard=o({},i,{question:r.question,answer:r.answer}));var a=n.state.previousStepCard;a&&a.cardId==r.cardId&&(t.previousStepCard=o({},a,{question:r.question,answer:r.answer})),Object.keys(t).length>0&&n.setState(t)}}),Object.defineProperty(n,"handleUserCardUpdated",{enumerable:!0,writable:!0,value:function(e){var t={},r=e.userCard;if(r){var o=n.state.currentStepCard;o&&o.cardId==r.cardId&&(t.currentStepConfidenceLevel=r.level);var i=n.state.previousStepCard;i&&i.cardId==r.cardId&&(t.previousStepConfidenceLevel=r.level),Object.keys(t).length>0&&n.setState(t)}}}),Object.defineProperty(n,"handleCardFlipRequest",{enumerable:!0,writable:!0,value:function(){n.stopCurrentSound(),n.props.onCardFlipRequest()}}),n.state={areCardsDealing:!1,areCardsLoaded:!1,areCardsPlaced:!1,canCopyAndPlace:!1,currentSound:null,currentStepCard:null,currentStepConfidenceLevel:0,deckCards:null,imageViewerUrl:"",isDealingNewCard:!1,isDeckEditable:!1,isProcessingPreviewCardsAction:!1,previousStepCard:null,previousStepConfidenceLevel:0,shouldCaptureKeyboardInput:!0,shouldOpenImageViewer:!1,shouldRemoveLoadingOverlay:!1,shouldShowLoadingOverlay:!1},n.Deck=new s.default,n.events=new l.default,n.dealAnimationTimeout=null,n.dealNewCardDelay=null,n.DEAL_ANIMATION_DURATION=400,n.DEAL_NEW_CARD_DELAY=100,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u.default.Component),i(t,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.props.stepCard&&this.props.stepCard.cardID!=e.stepCard.cardID&&this.setState({isDealingNewCard:!0})}},{key:"componentDidMount",value:function(){this.clearTimeouts(),this.events.addListeners([["card:updated",this.handleCardUpdated],["userCard:updated",this.handleUserCardUpdated]])}},{key:"componentDidUpdate",value:function(e){!e.isAtCheckpoint&&this.props.isAtCheckpoint&&this.handleIsAtCheckpoint(),e.stepCard||!this.props.stepCard?e.stepCard&&e.stepCard.cardID!=this.props.stepCard.cardID?this.handleReceivedNewCard():(this.props.stepConfidenceLevel!=e.stepConfidenceLevel&&this.handleReceivedNewConfidenceLevelForCurrentCard(),this.props.isAnswerShowing!=e.isAnswerShowing&&this.handleCardFlipPerformed()):this.handleReceivedFirstCard()}},{key:"componentWillUnmount",value:function(){this.events.disable(),this.clearTimeouts()}},{key:"renderStudyCardTableContents",value:function(){var e=this;return this.props.stepCard?u.default.createElement("div",{className:"study-card-table-contents"},u.default.createElement("header",{className:"study-card-table-header"},u.default.createElement("div",{className:"deck-and-card-info"},u.default.createElement("span",{className:"deck-label"},"Deck:\xa0")," ",u.default.createElement("span",{className:"deck-name"},this.props.stepDeckName)," ",u.default.createElement("span",{className:"card-label"},"Card:\xa0")," ",u.default.createElement("span",{className:"deck-card-index"},this.props.stepDeckCardIndex),"/",u.default.createElement("span",{className:"deck-card-count"},this.props.stepDeckCardCount),this.renderPreviewCardsButton()),u.default.createElement(a.CloseButton,{addClasses:"close-study-mix-button",isProcessing:this.props.isClosingStudyMix,onClick:function(){return e.props.onCloseStudyMixRequest()}})),this.renderStudyCards(),u.default.createElement(p.default,{confidenceLevel:this.state.currentStepConfidenceLevel,isAnswerShowing:this.props.isAnswerShowing,isDealingNewCard:this.state.isDealingNewCard,onAnswerCardbarClick:function(t,n){return e.props.onAnswerCardbarClick(t,n)},onConfidenceRating:function(t){return e.handleConfidenceRating(e.props.stepCard.cardID,t)},onCardFlipRequest:this.handleCardFlipRequest,onQuestionCardbarClick:function(){return e.props.onQuestionCardbarClick()},shouldCaptureKeyboardInput:this.state.shouldCaptureKeyboardInput,shouldPulseAnswerCardbar:this.props.shouldPulseAnswerCardbar,shouldPulseQuestionCardbar:this.props.shouldPulseQuestionCardbar})):null}},{key:"renderPreviewCardsButton",value:function(){var e=this;return u.default.createElement(a.BrowseButton,{addClasses:"preview-cards-button",onClick:function(){return e.handlePreviewCardsButtonClick()},title:"Preview the Cards in this Deck"})}},{key:"renderStudyCards",value:function(){var e=this.state.areCardsPlaced?"are-placed":"",t=this.state.areCardsLoaded?"are-loaded":"",n=this.state.areCardsDealing?"are-dealing":"",r=f.default.toClassStr(["study-cards",e,t,n]);return u.default.createElement("div",{className:r},this.renderPreviousCard(),this.renderCurrentCard())}},{key:"renderPreviousCard",value:function(){return this.state.previousStepCard?u.default.createElement(d.default,{addClasses:"previous-card",card:this.state.previousStepCard,confidenceLevel:this.state.previousStepConfidenceLevel,isAnswerShowing:!0,key:"previousCard"}):null}},{key:"renderCurrentCard",value:function(){var e=this;return this.state.currentStepCard?u.default.createElement(d.default,{addClasses:"current-card",card:this.state.currentStepCard,confidenceLevel:this.state.currentStepConfidenceLevel,currentSound:this.state.currentSound,isAnswerShowing:this.props.isAnswerShowing,key:"currentCard",mixName:this.props.mixName,onCardFlipRequest:function(){return e.handleCardFlipRequest()},onPauseSoundRequest:function(){return e.handlePauseSoundRequest()},onPlaySoundRequest:function(){return e.handlePlaySoundRequest()},onViewLargeImageRequest:function(t){return e.handleViewLargeImageRequest(t)},stepDeckCardCount:this.props.stepDeckCardCount,stepDeckCardIndex:this.props.stepDeckCardIndex,stepDeckName:this.props.stepDeckName}):null}},{key:"renderImageViewer",value:function(){var e=this;return this.state.shouldOpenImageViewer?u.default.createElement(c.default,{isOpen:this.state.shouldOpenImageViewer,url:this.state.imageViewerUrl,onClose:function(){return e.handleImageViewerClose()},shouldTransitionIn:!0,shouldTransitionOut:!0}):null}},{key:"renderSoundPlayer",value:function(){var e=this;if(!this.state.currentSound||!this.state.currentSound.soundUrl)return null;var t=this.state.currentSound&&this.state.currentSound.soundUrl?this.state.currentSound.soundUrl:null;return u.default.createElement("audio",{autoPlay:!0,id:"sound-player",onEnded:function(){return e.handleSoundEnded()}},u.default.createElement("source",{src:t}))}},{key:"handlePreviewCardsButtonClick",value:function(){var e=this;this.setState({isProcessingPreviewCardsAction:!0}),l.default.emitEvent("deck-preview-modal:open",{deckId:this.props.stepCard.deckId,onReady:function(){e.setState({isProcessingPreviewCardsAction:!1})},packId:this.props.stepCard.packId})}},{key:"handleReceivedFirstCard",value:function(){var e=this.setupCurrentSound();this.setState({areCardsPlaced:!0,currentSound:e,currentStepCard:this.props.stepCard,currentStepConfidenceLevel:this.props.stepConfidenceLevel,shouldShowLoadingOverlay:!1})}},{key:"handleConfidenceRating",value:function(e,t){this.stopCurrentSound(),this.props.onConfidenceRating(e,t)}},{key:"handleReceivedNewCard",value:function(){this.invokeCardDealAnimation()}},{key:"handleReceivedNewConfidenceLevelForCurrentCard",value:function(){this.setState({currentStepConfidenceLevel:this.props.stepConfidenceLevel})}},{key:"handleViewLargeImageRequest",value:function(e){this.setState({imageViewerUrl:e,shouldOpenImageViewer:!0})}},{key:"handleImageViewerClose",value:function(){this.setState({shouldOpenImageViewer:!1})}},{key:"handleCardFlipPerformed",value:function(){var e=this,t=this.setupCurrentSound();this.setState({currentSound:t},function(){e.playCurrentSound()})}},{key:"handlePlaySoundRequest",value:function(){this.state.currentSound&&this.state.currentSound.isPaused?this.resumeCurrentSound():this.playCurrentSound()}},{key:"handlePauseSoundRequest",value:function(){this.pauseCurrentSound()}},{key:"handleSoundEnded",value:function(){this.stopCurrentSound()}},{key:"handleIsAtCheckpoint",value:function(){this.stopCurrentSound()}},{key:"setupCurrentSound",value:function(){var e=this.props.isAnswerShowing?"aSoundURL":"qSoundURL";return this.props.stepCard&&this.props.stepCard[e]?{isPaused:!1,isPresent:!0,isPlaying:!0,isAnswerFace:this.props.isAnswerShowing,soundUrl:this.props.stepCard[e]}:{isPresent:!1}}},{key:"invokeCardDealAnimation",value:function(){this.clearTimeouts(),this.setupPreviousCard()}},{key:"setupPreviousCard",value:function(){var e=this;this.setState({previousStepCard:this.state.currentStepCard,previousStepConfidenceLevel:this.state.currentStepConfidenceLevel},function(){e.setupCurrentCard()})}},{key:"setupCurrentCard",value:function(){var e=this,t=this.setupCurrentSound();document.querySelector("#sound-player"),this.setState({areCardsLoaded:!0,areCardsDealing:!1,areCardsPlaced:!1,currentSound:t,currentStepCard:this.props.stepCard,currentStepConfidenceLevel:this.props.stepConfidenceLevel},function(){e.dealNewCard(),e.playCurrentSound()})}},{key:"dealNewCard",value:function(){var e=this;this.dealNewCardDelay=setTimeout(function(){e.setState({areCardsLoaded:!1,areCardsDealing:!0,areCardsPlaced:!1},function(){e.completeDealAnimation()})},this.DEAL_NEW_CARD_DELAY)}},{key:"completeDealAnimation",value:function(){var e=this;this.dealAnimationTimeout=setTimeout(function(){e.setState({areCardsLoaded:!1,areCardsDealing:!1,areCardsPlaced:!0,isDealingNewCard:!1})},this.DEAL_ANIMATION_DURATION)}},{key:"playCurrentSound",value:function(){var e=document.querySelector("#sound-player");if(!e||!this.state.currentSound||!this.state.currentSound.soundUrl)return null;document.querySelector("#sound-player source").src=this.state.currentSound.soundUrl,e.load();var t=e.play();null!==t&&t.catch(function(){e.play()});var n=this.state.currentSound;n.isPlaying=!0,this.setState({currentSound:n})}},{key:"pauseCurrentSound",value:function(){var e=document.querySelector("#sound-player");if(!e||!this.state.currentSound||!this.state.currentSound.soundUrl)return null;e.pause();var t=this.state.currentSound;t.isPlaying=!1,t.isPaused=!0,this.setState({currentSound:t})}},{key:"resumeCurrentSound",value:function(){var e=document.querySelector("#sound-player");if(!e||!this.state.currentSound||!this.state.currentSound.soundUrl)return null;e.play();var t=this.state.currentSound;t.isPlaying=!0,t.isPaused=!0,this.setState({currentSound:t})}},{key:"stopCurrentSound",value:function(){var e=document.querySelector("#sound-player");if(!e)return null;var t=document.querySelector("#sound-player source");e.pause(),t.removeAttribute("src"),e.load();var n=this.state.currentSound;n.isPlaying=!1,this.setState({currentSound:n})}},{key:"clearTimeouts",value:function(){clearTimeout(this.dealNewCardDelay),clearTimeout(this.dealAnimationTimeout)}}]),t}();t.default=m,e.exports=t.default},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(7),a=l(n(0)),s=l(n(1));function l(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":r(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={isFullyClosed:!1,isFullyOpen:!1,isInitializing:!0,isTransitioningIn:!1,isTransitioningOut:!1},n.transitionInTimeout=null,n.postTransitionInTimeout=null,n.postTransitionOutTimeout=null,n.TRANSITION_IN_DELAY=100,n.POST_TRANSITION_IN_DELAY=1e3,n.POST_TRANSITION_OUT_DELAY=800,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default.Component),o(t,[{key:"componentDidMount",value:function(){this.clearTimeoutsAndIntervals(),this.props.isOpen&&this.props.shouldTransitionIn?this.invokeTransitionIn():this.props.isOpen&&this.props.shouldTransitionOut?this.invokeTransitionOut():this.setState({isInitializing:!1})}},{key:"componentDidUpdate",value:function(e){this.props.isOpen&&!e.isOpen&&this.props.shouldTransitionIn&&this.invokeTransitionIn(),!this.props.isOpen&&e.isOpen&&this.props.shouldTransitionOut&&this.invokeTransitionOut()}},{key:"componentWillUnmount",value:function(){this.clearTimeoutsAndIntervals()}},{key:"render",value:function(){var e=this,t=s.default.toClassStr(["image-viewer",this.getTransitionClass(),this.props.addClasses]);return a.default.createElement("div",{className:t},a.default.createElement(i.CloseButton,{addClasses:"image-viewer-close-button",onClick:function(){return e.handleClose()}}),a.default.createElement("img",{className:"full-sized-image",src:this.props.url,onClick:function(t){return e.handleImageClick(t)}}))}},{key:"renderMessage",value:function(){return this.props.message?a.default.createElement("div",{className:"loading-message"},this.props.message):null}},{key:"handleImageClick",value:function(e){e.stopPropagation(),this.handleClose()}},{key:"handleClose",value:function(){this.invokeTransitionOut()}},{key:"getTransitionClass",value:function(){return this.state.isTransitioningIn?"is-transitioning-in":this.state.isTransitioningOut?"is-transitioning-out":this.state.isFullyClosed?"is-fully-closed":this.state.isFullyOpen?"is-fully-open":this.state.isInitializing?"is-initializing":"is-static"}},{key:"invokeTransitionIn",value:function(){var e=this;this.transitionInTimeout=setTimeout(function(){e.setState({isTransitioningIn:!0,isInitializing:!1},function(){e.completeTransitionIn()}),clearTimeout(e.transitionInTimeout)},this.TRANSITION_IN_DELAY)}},{key:"completeTransitionIn",value:function(){var e=this;this.postTransitionInTimeout=setTimeout(function(){e.setState({isTransitioningIn:!1,isFullyOpen:!0}),clearTimeout(e.postTransitionInTimeout)},this.POST_TRANSITION_IN_DELAY)}},{key:"invokeTransitionOut",value:function(){var e=this;this.setState({isTransitioningOut:!0,isInitializing:!1},function(){e.postTransitionOutTimeout=setTimeout(function(){e.clearTimeoutsAndIntervals(),e.completeTransitionOut()},e.POST_TRANSITION_OUT_DELAY)})}},{key:"completeTransitionOut",value:function(){var e=this;this.setState({isTransitioningOut:!1,isFullyClosed:!0},function(){e.props.onClose&&e.props.onClose()})}},{key:"clearTimeoutsAndIntervals",value:function(){clearTimeout(this.transitionInTimeout),clearTimeout(this.postTransitionInTimeout),clearTimeout(this.postTransitionOutTimeout)}}]),t}();t.default=c,e.exports=t.default},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=p(n(2)),a=p(n(6)),s=p(n(22)),l=p(n(15)),c=p(n(4)),u=p(n(0)),d=p(n(1));function p(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":r(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return Object.defineProperty(n,"performResetStatsAction",{enumerable:!0,writable:!0,value:function(){n.setState({isProcessingOptionAction:!0});var e=n.menuOptionHash.resetStats.label;n.triggerCautionModalOpen({actionText:e,cancelButtonText:"No, Cancel",onCloseRequest:function(){n.setState({isProcessingOptionAction:!1})},onResolution:function(){n.completeResetStatsAction(),n.triggerCautionModalClose()},resolveButtonText:"Yes, please proceed"})}}),Object.defineProperty(n,"completeResetStatsAction",{enumerable:!0,writable:!0,value:function(){n.Pack.resetStats({id:n.props.stepCard.packId,done:function(e){n.triggerDialogModalOpen({message:null,resolveButtonText:"Ok",shouldSuppressCancelButton:!0,title:"Class Stats Reset",onCloseRequest:function(){n.props.onResetMixStats(),n.setState({isProcessingOptionAction:!1})}})},fail:function(e,t){console.log("something went wrong in Pack.resetStats. message:",e)}})}}),n.Pack=new l.default,n.state={dialogOpts:{},isProcessingOptionAction:!1,isStudyMixTypeHelpModalOpen:!1,shouldShowDialog:!1},n.menuOptionHash={thisRound:{id:"thisRound",tag:"this-round-progress",label:'Display "This Round" Progress',onlyMobile:!0,persistOnClick:!0,onlyIfNotCheckpointButton:!0},overall:{id:"overall",tag:"overall-progress",label:'Display "Overall" Progress',onlyMobile:!0,persistOnClick:!0,onlyIfNotCheckpointButton:!0},continuousStudyByPro:{id:"continuousStudyByPro",tag:"continuous-study-by-pro",label:"Enable Continuous Study",onlyPro:!0,onlyIfMixIsRestricted:!0,paywall:"enable_continuous_study",persistOnClick:!0},continuousStudy:{id:"continuousStudy",tag:"continuous-study",label:"Enable Continuous Study",onlyIfMixIsUnrestricted:!0,persistOnClick:!0},setProgressiveMix:{id:"setProgressiveMix",tag:"set-progressive-mix",label:"Set as Progressive Mix",persistOnClick:!0},setRandomMix:{id:"setRandomMix",tag:"set-random-mix",label:"Set as Random Mix",persistOnClick:!0},mixHelp:{id:"mixHelp",tag:"mix-help",label:"About Mix Types"},resetStats:{id:"resetStats",tag:"reset-stats",label:"Reset Class Stats (for ALL Cards)",onlyPro:!0,onlyIfNotCheckpointButton:!0,paywall:"stats_reset_mix"},logOut:{id:"logOut",tag:"logout",label:"Log Out"}},n._isMounted=!1,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u.default.Component),o(t,[{key:"UNSAFE_componentWillMount",value:function(){this.updateUserOptions()}},{key:"componentDidMount",value:function(){this._isMounted=!0}},{key:"componentDidUpdate",value:function(e){this.props.isMixRestricted==e.isMixRestricted&&this.props.isUserPro==e.isUserPro||this.updateUserOptions()}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"render",value:function(){var e=this,t=this.props.isContinuousStudyEnabled?"continuous-study-enabled":"",n="random"==this.props.mixType?"random-mix":"progressive-mix",r="thisRound"==this.props.progressView?"view-this-round-progress":"view-overall-progress",o=d.default.toClassStr(["study-mix-options-button",t,n,r,this.props.addClasses]),i=this.props.isMobileViewportSize?"bottomLeft":"bottomRight";return u.default.createElement("div",{className:o},u.default.createElement(s.default,{isDisabled:this.props.isDisabled,isProcessing:this.state.isProcessingOptionAction,isUserPro:this.props.isUserPro,menuOptions:this.state.menuOptions,onOptionClick:function(t){return e.handleOptionClick(t)},openPosition:i,shouldButtonTurn:!0}),this.renderStudyMixTypeHelpModal())}},{key:"renderStudyMixTypeHelpModal",value:function(){var e=this;return u.default.createElement(a.default,{addClasses:"mix-type-help-modal",isOpen:this.state.isStudyMixTypeHelpModalOpen,onCloseRequest:function(){return e.handleHelpModalCloseRequest()}},u.default.createElement("div",{className:"new-modal-title"},"About Brainscape Study Mix Types"),u.default.createElement("div",{className:"new-modal-message"},"You can configure your study session in the following ways:"),u.default.createElement("div",{className:"new-modal-message"},u.default.createElement("strong",null,"'Progressive'")," selects cards from decks in the order they appear. So, you will not see cards from the 2nd deck until you've mostly mastered the 1st deck.  Once you've moved to a later deck, cards from earlier decks can still repeat occasionally."),u.default.createElement("div",{className:"new-modal-message"},u.default.createElement("strong",null,"'Random'")," will choose a random deck before selecting each card.  So, you might see a card from Deck #12, then Deck #3, then Deck #7, etc."),u.default.createElement("div",{className:"new-modal-actions"},u.default.createElement(c.default,{addClasses:"resolve-modal-button",label:"Ok",onClick:function(){return e.handleHelpOkButtonClick()}})))}},{key:"handleOptionClick",value:function(e){if(this.menuOptionHash[e].onlyPro&&!this.props.isUserPro){var t=this.menuOptionHash[e].label||"",n=this.menuOptionHash[e].paywall||"";this.triggerUpgradeModalOpen(t,n)}else this.handleOptionActionRequest(e)}},{key:"handleHelpModalCloseRequest",value:function(){this.setState({isStudyMixTypeHelpModalOpen:!1})}},{key:"handleHelpOkButtonClick",value:function(){this.setState({isStudyMixTypeHelpModalOpen:!1})}},{key:"handleOptionActionRequest",value:function(e){switch(e){case"continuousStudy":case"continuousStudyByPro":this.performEnableContinuousStudyAction();break;case"resetStats":this.performResetStatsAction();break;case"thisRound":this.props.onChangeProgressView("thisRound");break;case"overall":this.props.onChangeProgressView("overall");break;case"setProgressiveMix":this.performSetProgressiveMixAction();break;case"setRandomMix":this.performSetRandomMixAction();break;case"mixHelp":this.performShowMixHelpAction();break;case"logOut":this.performLogOutAction()}}},{key:"performEnableContinuousStudyAction",value:function(){this.props.onToggleContinuousStudy()}},{key:"performLogOutAction",value:function(){d.default.navigate("/sign_out")}},{key:"performSetProgressiveMixAction",value:function(){this.props.onSetStudyMixTypeRequest("progressive")}},{key:"performSetRandomMixAction",value:function(){this.props.onSetStudyMixTypeRequest("random")}},{key:"performShowMixHelpAction",value:function(){this.setState({isStudyMixTypeHelpModalOpen:!0})}},{key:"triggerCautionModalOpen",value:function(e){i.default.emitEvent("caution-modal:open",e)}},{key:"triggerCautionModalClose",value:function(e){i.default.emitEvent("caution-modal:close",e)}},{key:"triggerDialogModalOpen",value:function(e){i.default.emitEvent("dialog-modal:open",e)}},{key:"triggerDialogModalClose",value:function(e){i.default.emitEvent("dialog-modal:close",e)}},{key:"triggerUpgradeModalOpen",value:function(e,t){i.default.emitEvent("upgrade-modal:open",{desiredAction:e,paywall:t})}},{key:"updateUserOptions",value:function(){var e=this,t=Object.keys(this.menuOptionHash).reduce(function(t,n){var r=!e.menuOptionHash[n].onlyIfMixIsRestricted||e.props.isMixRestricted,o=!e.menuOptionHash[n].onlyIfMixIsUnrestricted||!e.props.isMixRestricted,i=!e.menuOptionHash[n].onlyIfNotCheckpointButton||!e.props.isCheckpointOptionsButton,a=!e.menuOptionHash[n].onlyMobile||e.props.isMobileViewportSize;return r&&o&&i&&a&&t.push(e.menuOptionHash[n]),t},[]);this.setState({menuOptions:t})}}]),t}();t.default=f,e.exports=t.default},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=m(n(74)),a=m(n(59)),s=m(n(60)),l=m(n(61)),c=m(n(62)),u=m(n(77)),d=m(n(3)),p=m(n(0)),f=m(n(86)),h=m(n(51));function m(e){return e&&e.__esModule?e:{default:e}}var g={isUserPro:d.default.bool.isRequired},b=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":r(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={},n._isMounted=!1,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,p.default.Component),o(t,[{key:"componentDidMount",value:function(){this._isMounted=!0}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"render",value:function(){return p.default.createElement("div",{className:"modal-controllers"},p.default.createElement(s.default,null),p.default.createElement(c.default,null),p.default.createElement(f.default,null),p.default.createElement(a.default,null),p.default.createElement(l.default,null),p.default.createElement(i.default,null),p.default.createElement(u.default,null),p.default.createElement(h.default,null))}}]),t}();b.propTypes=g,t.default=b,e.exports=t.default},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(7),a=g(n(94)),s=g(n(25)),l=g(n(220)),c=g(n(0)),u=g(n(73)),d=g(n(231)),p=g(n(18)),f=g(n(46)),h=g(n(228)),m=g(n(1));function g(e){return e&&e.__esModule?e:{default:e}}var b=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":r(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.Library=new s.default,n.state={currentTabId:null,isCurrentTabLoading:!1},n._isMounted=!1,n.tabs={thisRound:{id:"thisRound",label:"This Round"},overall:{id:"overall",label:"Overall"}},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,c.default.Component),o(t,[{key:"componentDidMount",value:function(){this._isMounted=!0,null!=this.props.userId&&this.setCurrentTabFromPrefs()}},{key:"componentDidUpdate",value:function(e){this.props.userId!=e.userId&&this.setCurrentTabFromPrefs()}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"render",value:function(){var e=this,t=m.default.toClassStr(["study-sidebar",this.props.addClasses]);return c.default.createElement("div",{className:t},c.default.createElement("header",{className:"study-sidebar-header"},c.default.createElement("div",{className:"first-row"},c.default.createElement("div",{className:"branding",onClick:function(t){return e.handleBackButtonClick(t)}},c.default.createElement(i.BackButton,{addClasses:"branding-back-button",onClick:function(t){return e.handleBackButtonClick(t)}}),c.default.createElement("span",{className:"dom-only"},"Brainscape")),c.default.createElement(p.default,{label:"study-mix-name-tooltip",tooltipContent:this.renderStudyMixNameTooltip()},c.default.createElement("div",{className:"study-mix-info"},c.default.createElement("div",{className:"study-mix-icon"},c.default.createElement("img",{className:"study-mix-icon-image",src:this.props.mixIconUrl})),c.default.createElement("h3",{className:"study-mix-name"},this.props.mixName))),c.default.createElement(h.default,{isContinuousStudyEnabled:this.props.isContinuousStudyEnabled,isDisabled:this.props.isAtCheckpoint&&"fullScreen"==this.props.checkpointType,isMixRestricted:this.props.isMixRestricted,isUserPro:this.props.isUserPro,mixType:this.props.mixType,onResetMixStats:function(){return e.props.onResetMixStats()},onSetStudyMixTypeRequest:function(t){return e.props.onSetStudyMixTypeRequest(t)},onToggleContinuousStudy:function(){return e.props.onToggleContinuousStudy()},stepCard:this.props.stepCard})),c.default.createElement("div",{className:"second-row"},c.default.createElement(u.default,{addClasses:"is-dark",currentTabId:this.state.currentTabId,isCurrentTabLoading:this.state.isCurrentTabLoading,onTabClick:function(t){return e.handleTabClick(t)},tabs:this.tabs}))),c.default.createElement("div",{className:"mobile-study-sidebar-header"},c.default.createElement("div",{className:"mobile-back-button"},c.default.createElement(i.BackButton,{onClick:function(t){return e.handleBackButtonClick(t)}}))),c.default.createElement("div",{className:"sidebar-sections"},this.renderThisRoundStatsSection(),this.renderOverallStatsSection(),this.renderCheckpoint()),c.default.createElement("div",{className:"mobile-study-sidebar-footer"},c.default.createElement(h.default,{isContinuousStudyEnabled:this.props.isContinuousStudyEnabled,isDisabled:this.props.isAtCheckpoint&&"fullScreen"==this.props.checkpointType,isMixRestricted:this.props.isMixRestricted,isMobileViewportSize:!0,isUserPro:this.props.isUserPro,mixType:this.props.mixType,onChangeProgressView:function(t){return e.handleChangeProgressView(t)},onResetMixStats:function(){return e.props.onResetMixStats()},onSetStudyMixTypeRequest:function(t){return e.handleSetStudyMixTypeRequest(t)},onToggleContinuousStudy:function(){return e.props.onToggleContinuousStudy()},progressView:this.state.currentTabId,stepCard:this.props.stepCard})))}},{key:"renderStudyMixNameTooltip",value:function(){var e=this;if(!this.props.mixDecks)return null;var t=Object.keys(this.props.mixDecks).map(function(t,n){var r=e.props.mixDecks[t];return c.default.createElement("p",{className:"tooltip-text mix-deck-name",key:n},r.name)});return c.default.createElement("div",{className:"tooltip-content mix-composition"},c.default.createElement("div",{className:"tooltip-heading"},"Decks in mix (",this.props.mixDeckCount,"):"),t)}},{key:"renderThisRoundStatsSection",value:function(){var e=this;return"thisRound"!=this.state.currentTabId?null:c.default.createElement(d.default,{isAtCheckpoint:this.props.isAtCheckpoint,isMobileViewportSize:this.props.isMobileViewportSize,mixRoundCount:this.props.mixRoundCount,onCloseStudyMixRequest:function(){return e.props.onCloseStudyMixRequest()},preRoundStepRatings:this.props.preRoundStepRatings,roundConfidenceGained:this.props.roundConfidenceGained,roundElapsedTime:this.props.roundElapsedTime,roundEndConfidenceGained:this.props.roundEndConfidenceGained,roundStepCount:this.props.roundStepCount,roundStepIndex:this.props.roundStepIndex,roundStepRatings:this.props.roundStepRatings,shouldCompressRoundEndConfidence:this.props.shouldCompressRoundEndConfidence,shouldDimRoundEndConfidence:this.props.shouldDimRoundEndConfidence,shouldShowRoundEndConfidence:this.props.shouldShowRoundEndConfidence})}},{key:"renderOverallStatsSection",value:function(){return"overall"!=this.state.currentTabId?null:c.default.createElement(l.default,{isAtCheckpoint:this.props.isAtCheckpoint,isClosingCheckpoint:this.props.shouldCloseCheckpoint,isMobileViewportSize:this.props.isMobileViewportSize,mixCardCount:this.props.mixCardCount,mixMastery:this.props.mixMastery,mixRatingLevelCounts:this.props.mixRatingLevelCounts,roundStepCount:this.props.roundStepCount,roundStepIndex:this.props.roundStepIndex})}},{key:"renderCheckpoint",value:function(){var e=this;return this.props.isAtCheckpoint&&"fullScreen"!=this.props.checkpointType?c.default.createElement(f.default,{addClasses:"checkpoint-transition-wrapper",onTransitionedOut:function(){return e.props.onCheckpointClosed()},shouldTransitionIn:!0,shouldTransitionOut:this.props.shouldCloseCheckpoint,transitionInDelay:100,transitionInDuration:500,transitionOutDuration:500},c.default.createElement(a.default,{addClasses:"sidebar",buildMasteryDuration:250,checkpointType:this.props.checkpointType,isContinuousStudyEnabled:this.props.isContinuousStudyEnabled,isMixRestricted:this.props.isMixRestricted,isMobileViewportSize:this.props.isMobileViewportSize,isUserPro:this.props.isUserPro,mixCardCount:this.props.mixCardCount,mixCardsStudied:this.props.mixCardsStudied,mixMastery:this.props.mixMastery,mixName:this.props.mixName,mixRatingLevelCounts:this.props.mixRatingLevelCounts,mixRoundCount:this.props.mixRoundCount,mixTimeToComplete:this.props.mixTimeToComplete,onNextRoundRequest:function(){return e.props.onNextRoundRequest()},onCloseStudyMixRequest:function(){return e.props.onCloseStudyMix()},onDismissSidebarCheckpoint:function(){return e.props.onDismissSidebarCheckpoint()},onToggleContinuousStudy:function(){return e.props.onToggleContinuousStudy()},roundElapsedTime:this.props.roundElapsedTime,sessionElapsedTime:this.props.sessionElapsedTime,sessionMastery:this.props.sessionMastery,sessionRatings:this.props.sessionRatings,sessionRatingLevelCounts:this.props.sessionRatingLevelCounts,shouldPulseNextRoundButton:this.props.shouldPulseNextRoundButton,stepCard:this.props.stepCard})):null}},{key:"handleBackButtonClick",value:function(e){e&&e.stopPropagation(),this.props.onCloseStudyMixRequest()}},{key:"handleTabClick",value:function(e){var t=this;this.setState({currentTabId:e},function(){t.updateStudySidebarTabPref(e),t.props.isAtCheckpoint&&t.props.onNextRoundRequest()})}},{key:"handleChangeProgressView",value:function(e){this.handleTabClick(e)}},{key:"handleSetStudyMixTypeRequest",value:function(e){console.log("set study mix type here. studyMixType:",e)}},{key:"hasMixNameTooltipContent",value:function(){return null!=this.props.mixFullname&&this.props.mixFullname!=this.props.mixName||null!=this.props.mixDescription}},{key:"updateStudySidebarTabPref",value:function(e){this.Library.updateUserLocalPrefs(this.props.userId,"studySidebarTabPref",e)}},{key:"getStudySidebarTabPref",value:function(){return this.Library.getUserLocalPref(this.props.userId,"studySidebarTabPref")}},{key:"setCurrentTabFromPrefs",value:function(){this.setState({currentTabId:this.getStudySidebarTabPref()||"thisRound"})}}]),t}();t.default=b,e.exports=t.default},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=(n(7),c(n(215))),a=c(n(221)),s=c(n(0)),l=c(n(1));function c(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":r(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={},n._isMounted=!1,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.default.Component),o(t,[{key:"componentDidMount",value:function(){this._isMounted=!0}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"render",value:function(){var e=this.props.isAtCheckpoint?"is-at-checkpoint":"",t=this.props.isClosingCheckpoint?"is-closing-checkpoint":"",n=l.default.toClassStr(["this-round-stats-section",e,t,this.props.addClasses]),r=l.default.msToClockTime(this.props.roundElapsedTime),o=this.props.mixRoundCount>1?"This Round ( "+this.props.mixRoundCount+" ):":"This Round:";return s.default.createElement("div",{className:n},s.default.createElement(i.default,{confidenceGained:this.props.roundConfidenceGained,isAtCheckpoint:this.props.isAtCheckpoint,isMobileViewportSize:this.props.isMobileViewportSize,minLevel:-50,maxLevel:50,roundEndConfidenceGained:this.props.roundEndConfidenceGained,shouldCompressRoundEndConfidence:this.props.shouldCompressRoundEndConfidence,shouldDimRoundEndConfidence:this.props.shouldDimRoundEndConfidence,shouldShowRoundEndConfidence:this.props.shouldShowRoundEndConfidence}),s.default.createElement(a.default,{isAtCheckpoint:this.props.isAtCheckpoint,isMobileViewportSize:this.props.isMobileViewportSize,preRoundStepRatings:this.props.preRoundStepRatings,stepCount:this.props.roundStepCount,stepIndex:this.props.roundStepIndex,stepRatings:this.props.roundStepRatings}),s.default.createElement("div",{className:"mobile-elapsed-time"},s.default.createElement("div",{className:"elapsed-time"},r)),s.default.createElement("footer",{className:"this-round-stats-footer"},s.default.createElement("h4",{className:"status-title"},o),s.default.createElement("div",{className:"elapsed-time"},r)))}},{key:"handleBackButtonClick",value:function(e){e&&e.stopPropagation(),this.props.onCloseStudyMixRequest()}}]),t}();t.default=u,e.exports=t.default},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=u(n(0)),a=u(n(112)),s=u(n(12)),l=u(n(313)),c=u(n(1));function u(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":r(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={isCollapsed:n.props.isInitiallyCollapsed,hasAppeared:!1,isSidebarFrozen:n.props.isFrozen},n.appearanceTimeout=null,n.Tag=new l.default,n.panel3={},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default.Component),o(t,[{key:"componentDidMount",value:function(){var e=this;this.props.shouldAnimateAppearance&&!this.state.hasAppeared&&(this.appearanceTimeout=setTimeout(function(){e.invokeAppearance(),e.wireOnLingerBehavior(),e.checkIfSidebarIsFrozen(),clearTimeout(e.appearanceTimeout)},300))}},{key:"componentDidUpdate",value:function(){this.wireOnLingerBehavior(),this.checkIfSidebarIsFrozen()}},{key:"render",value:function(){var e=this.props.isOpen?"is-open":"is-closed",t=this.state.isCollapsed?"is-collapsed":"",n=this.props.isLoading?"is-loading":"",r=c.default.toClassStr(["genome-sidebar-panel",t,e,n,this.props.addClasses]);return i.default.createElement("div",{className:r},i.default.createElement("div",{className:"sidebar-panel-header"},this.renderSidebarHeading()),this.renderSpinner(),i.default.createElement("ul",{className:"tags-list"},this.renderTags()))}},{key:"renderSidebarHeading",value:function(){return 3==this.props.panel?i.default.createElement("h5",{className:"sidebar-panel-heading"},i.default.createElement("a",{className:"sidebar-panel-heading-link",href:this.props.headingPath},this.props.heading)):2==this.props.panel?i.default.createElement("h4",{className:"sidebar-panel-heading"},i.default.createElement("a",{className:"sidebar-panel-heading-link",href:this.props.headingPath},this.props.heading)):i.default.createElement("h3",{className:"sidebar-panel-heading"},i.default.createElement("a",{className:"sidebar-panel-heading-link",href:this.props.headingPath},this.props.heading))}},{key:"renderSpinner",value:function(){return this.props.isLoading?i.default.createElement(s.default,null):null}},{key:"renderTags",value:function(){var e=this;return this.props.tags&&this.props.tags.length&&this.props.tags.length>0?this.props.tags.map(function(t,n){return e.props.hasSeoTags?e.renderAnchorTag(t,n):e.renderJsTag(t,n)}):null}},{key:"renderAnchorTag",value:function(e,t){var n=this,r=c.default.toClassStr(["tag",e.role,e.display_type]);return i.default.createElement("li",{className:r,key:t},i.default.createElement("a",{className:"tag-link",href:"/subjects/"+e.path,title:e.name,"data-id":e.tag_id,"data-key":e.key,"data-path":"/subjects/"+e.path,onClick:function(e){n.handleTagLinkClick(e)}},e.name),this.renderSpinner())}},{key:"renderJsTag",value:function(e,t){var n=this,r=c.default.toClassStr(["tag",e.role,e.display_type]);return i.default.createElement("li",{className:r,key:t},i.default.createElement("div",{className:"tag-link tag-js-link",title:e.name,"data-path":"/subjects/"+e.path,"data-id":e.tag_id,"data-key":e.key,onClick:function(t){n.handleJsTagLinkClick(t,e)}},e.name))}},{key:"renderGenomeSidebarPanel3",value:function(e){var n=document.querySelector(".genome-sidebar .genome-sidebar-panels .panel-3.react");a.default.render(i.default.createElement(t,{key:"panel3",panel:3,heading:e.heading,headingPath:e.headingPath,tags:e.tags,isInitiallyCollapsed:!1,isOpen:e.isOpen,isLoading:e.isLoading,isFrozen:this.state.isSidebarFrozen,hasSeoTags:!1,shouldAnimateAppearance:e.shouldAnimateAppearance,onAppear:e.onAppear,onClose:e.onClose,onCollapse:e.onCollapse}),n)}},{key:"handleTagLinkClick",value:function(e,t){e.stopPropagation(),this.showContentLoading(),this.freezeSidebar()}},{key:"handleJsTagLinkClick",value:function(e,t){e.stopPropagation(),this.showContentLoading(),this.freezeSidebar(),location.href="/subjects/"+t.path}},{key:"handlePanel2TagLinger",value:function(e){var t=this;if(this.state.isSidebarFrozen)return!1;var n=document.querySelector(".genome-sidebar .genome-sidebar-panels .panel-3.react .genome-sidebar-panel"),r=e.target.querySelector(".tag-link"),o=r.innerText,i=r.getAttribute("data-path"),a=(r.getAttribute("data-key"),r.getAttribute("data-id"));this.panel3.parentTagId=a,this.renderGenomeSidebarPanel3({heading:o,headingPath:i,tags:[],isOpen:!!n,isLoading:!0,shouldAnimateAppearance:!0,onAppear:function(){t.renderGenomeSidebarPanel3({heading:o,headingPath:i,tags:[],isOpen:!0,isLoading:!0,onClose:function(){t.renderGenomeSidebarPanel3({isOpen:!1})}})},onClose:function(){t.renderGenomeSidebarPanel3({isOpen:!1})}}),this.getTagChildren(a,function(e,n){return t.state.isSidebarFrozen?null:e!=t.panel3.parentTagId?null:void t.renderGenomeSidebarPanel3({heading:o,headingPath:i,tags:n,isOpen:!0,isLoading:!1,onAppear:function(){t.renderGenomeSidebarPanel3({heading:o,headingPath:i,tags:n,isOpen:!0,isLoading:!1,onClose:function(){t.renderGenomeSidebarPanel3({isOpen:!1})}})},onClose:function(){t.renderGenomeSidebarPanel3({isOpen:!1})}})})}},{key:"getTagChildren",value:function(e,t){this.Tag.children({tagId:e,done:function(n){t&&t(e,n)},fail:function(e){console.log("something went wrong in Tag.children. message:",e)}})}},{key:"showContentLoading",value:function(){document.querySelector(".genome-page .genome-page-content").classList.add("is-loading")}},{key:"invokeAppearance",value:function(){this.props.onAppear(),this.setState({hasAppeared:!0})}},{key:"wireOnLingerBehavior",value:function(){var e=this;if(2==this.props.panel){var t=document.querySelectorAll(".genome-sidebar .panel-2.react .genome-sidebar-panel .tags-list .tag");t.length>0&&t.forEach(function(t,n){t.classList.contains("branch")&&c.default.onLinger(t,function(t){e.handlePanel2TagLinger(t)})})}}},{key:"freezeSidebar",value:function(){this.setState({isSidebarFrozen:!0})}},{key:"checkIfSidebarIsFrozen",value:function(){this.props.isFrozen&&this.freezeSidebar()}}]),t}();t.default=d,e.exports=t.default},function(e,t,n){var r,o;r=[n(5),n(69),n(319),n(101),n(240),n(102)],void 0===(o=function(e,t,n,r,o,i){"use strict";return function(a,s,l){var c,u,d,p,f=a.style;return(l=l||o(a))&&(""!==(p=l.getPropertyValue(s)||l[s])||t(a)||(p=e.style(a,s)),!i.pixelBoxStyles()&&r.test(p)&&n.test(s)&&(c=f.width,u=f.minWidth,d=f.maxWidth,f.minWidth=f.maxWidth=f.width=p,p=l.width,f.width=c,f.minWidth=u,f.maxWidth=d)),void 0!==p?p+"":p}}.apply(t,r))||(e.exports=o)},function(e,t,n){var r,o;r=[n(55)],void 0===(o=function(e){"use strict";return e.concat}.apply(t,r))||(e.exports=o)},function(e,t,n){var r,o;r=[n(55)],void 0===(o=function(e){"use strict";return e.push}.apply(t,r))||(e.exports=o)},function(e,t,n){var r,o;r=[n(67)],void 0===(o=function(e){"use strict";return e.toString}.apply(t,r))||(e.exports=o)},function(e,t,n){var r,o;r=[n(98)],void 0===(o=function(e){"use strict";return e.toString}.apply(t,r))||(e.exports=o)},function(e,t,n){var r,o;r=[n(14)],void 0===(o=function(e){"use strict";var t={type:!0,src:!0,nonce:!0,noModule:!0};return function(n,r,o){var i,a,s=(o=o||e).createElement("script");if(s.text=n,r)for(i in t)(a=r[i]||r.getAttribute&&r.getAttribute(i))&&s.setAttribute(i,a);o.head.appendChild(s).parentNode.removeChild(s)}}.apply(t,r))||(e.exports=o)},function(e,t,n){var r;void 0===(r=function(){"use strict";return/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source}.call(t,n,t,e))||(e.exports=r)},function(e,t,n){var r;void 0===(r=function(){"use strict";return function(e){var t=e.ownerDocument.defaultView;return t&&t.opener||(t=window),t.getComputedStyle(e)}}.call(t,n,t,e))||(e.exports=r)},function(e,t,n){var r;void 0===(r=function(){"use strict";return function(e,t,n,r){var o,i,a={};for(i in t)a[i]=e.style[i],e.style[i]=t[i];for(i in o=n.apply(e,r||[]),t)e.style[i]=a[i];return o}}.call(t,n,t,e))||(e.exports=r)},function(e,t,n){var r,o;r=[n(5),n(103)],void 0===(o=function(e,t){"use strict";return function(n,r,o,i){var a,s,l=20,c=i?function(){return i.cur()}:function(){return e.css(n,r,"")},u=c(),d=o&&o[3]||(e.cssNumber[r]?"":"px"),p=n.nodeType&&(e.cssNumber[r]||"px"!==d&&+u)&&t.exec(e.css(n,r));if(p&&p[3]!==d){for(u/=2,d=d||p[3],p=+u||1;l--;)e.style(n,r,p+d),(1-s)*(1-(s=c()/u||.5))<=0&&(l=0),p/=s;p*=2,e.style(n,r,p+d),o=o||[]}return o&&(p=+p||+u||0,a=o[1]?p+(o[1]+1)*o[2]:+o[2],i&&(i.unit=d,i.start=p,i.end=a)),a}}.apply(t,r))||(e.exports=o)},function(e,t,n){var r;void 0===(r=function(){"use strict";return function(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}}.call(t,n,t,e))||(e.exports=r)},function(e,t,n){var r,o;r=[n(14),n(5)],void 0===(o=function(e,t){"use strict";var n=["Webkit","Moz","ms"],r=e.createElement("div").style,o={};return function(e){return t.cssProps[e]||o[e]||(e in r?e:o[e]=function(e){for(var t=e[0].toUpperCase()+e.slice(1),o=n.length;o--;)if((e=n[o]+t)in r)return e}(e)||e)}}.apply(t,r))||(e.exports=o)},function(e,t,n){var r;void 0===(r=function(){"use strict";return/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i}.call(t,n,t,e))||(e.exports=r)},function(e,t,n){var r,o;r=[n(5),n(99),n(11),n(247),n(16)],void 0===(o=function(e,t,n,r){"use strict";function o(r,o,i){return n(o)?e.grep(r,function(e,t){return!!o.call(e,t,e)!==i}):o.nodeType?e.grep(r,function(e){return e===o!==i}):"string"!=typeof o?e.grep(r,function(e){return t.call(o,e)>-1!==i}):e.filter(o,r,i)}e.filter=function(t,n,r){var o=n[0];return r&&(t=":not("+t+")"),1===n.length&&1===o.nodeType?e.find.matchesSelector(o,t)?[o]:[]:e.find.matches(t,e.grep(n,function(e){return 1===e.nodeType}))},e.fn.extend({find:function(t){var n,r,o=this.length,i=this;if("string"!=typeof t)return this.pushStack(e(t).filter(function(){for(n=0;n<o;n++)if(e.contains(i[n],this))return!0}));for(r=this.pushStack([]),n=0;n<o;n++)e.find(t,i[n],r);return o>1?e.uniqueSort(r):r},filter:function(e){return this.pushStack(o(this,e||[],!1))},not:function(e){return this.pushStack(o(this,e||[],!0))},is:function(t){return!!o(this,"string"==typeof t&&r.test(t)?e(t):t||[],!1).length}})}.apply(t,r))||(e.exports=o)},function(e,t,n){var r,o;r=[n(5),n(16)],void 0===(o=function(e){"use strict";return e.expr.match.needsContext}.apply(t,r))||(e.exports=o)},function(e,t,n){var r,o;r=[n(5),n(14),n(320),n(42)],void 0===(o=function(e,t){"use strict";var n=e.Deferred();function r(){t.removeEventListener("DOMContentLoaded",r),window.removeEventListener("load",r),e.ready()}e.fn.ready=function(t){return n.then(t).catch(function(t){e.readyException(t)}),this},e.extend({isReady:!1,readyWait:1,ready:function(r){(!0===r?--e.readyWait:e.isReady)||(e.isReady=!0,!0!==r&&--e.readyWait>0||n.resolveWith(t,[e]))}}),e.ready.then=n.then,"complete"===t.readyState||"loading"!==t.readyState&&!t.documentElement.doScroll?window.setTimeout(e.ready):(t.addEventListener("DOMContentLoaded",r),window.addEventListener("load",r))}.apply(t,r))||(e.exports=o)},function(e,t,n){var r,o;r=[n(5),n(57),n(32),n(105)],void 0===(o=function(e,t,n,r){"use strict";function o(){this.expando=e.expando+o.uid++}return o.uid=1,o.prototype={cache:function(e){var t=e[this.expando];return t||(t={},r(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,n,r){var o,i=this.cache(e);if("string"==typeof n)i[t(n)]=r;else for(o in n)i[t(o)]=n[o];return i},get:function(e,n){return void 0===n?this.cache(e):e[this.expando]&&e[this.expando][t(n)]},access:function(e,t,n){return void 0===t||t&&"string"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(r,o){var i,a=r[this.expando];if(void 0!==a){if(void 0!==o){i=(o=Array.isArray(o)?o.map(t):(o=t(o))in a?[o]:o.match(n)||[]).length;for(;i--;)delete a[o[i]]}(void 0===o||e.isEmptyObject(a))&&(r.nodeType?r[this.expando]=void 0:delete r[this.expando])}},hasData:function(t){var n=t[this.expando];return void 0!==n&&!e.isEmptyObject(n)}},o}.apply(t,r))||(e.exports=o)},function(e,t,n){var r,o;r=[n(249)],void 0===(o=function(e){"use strict";return new e}.apply(t,r))||(e.exports=o)},function(e,t,n){var r,o;r=[n(5),n(69)],void 0===(o=function(e,t){"use strict";return function(n,r){return"none"===(n=r||n).style.display||""===n.style.display&&t(n)&&"none"===e.css(n,"display")}}.apply(t,r))||(e.exports=o)},function(e,t,n){var r,o;r=[n(5),n(41),n(69),n(253),n(254),n(255),n(256),n(257)],void 0===(o=function(e,t,n,r,o,i,a,s){"use strict";var l=/<|&#?\w+;/;return function(c,u,d,p,f){for(var h,m,g,b,v,y,k=u.createDocumentFragment(),_=[],w=0,C=c.length;w<C;w++)if((h=c[w])||0===h)if("object"===t(h))e.merge(_,h.nodeType?[h]:h);else if(l.test(h)){for(m=m||k.appendChild(u.createElement("div")),g=(r.exec(h)||["",""])[1].toLowerCase(),b=i[g]||i._default,m.innerHTML=b[1]+e.htmlPrefilter(h)+b[2],y=b[0];y--;)m=m.lastChild;e.merge(_,m.childNodes),(m=k.firstChild).textContent=""}else _.push(u.createTextNode(h));for(k.textContent="",w=0;h=_[w++];)if(p&&e.inArray(h,p)>-1)f&&f.push(h);else if(v=n(h),m=a(k.appendChild(h),"script"),v&&s(m),d)for(y=0;h=m[y++];)o.test(h.type||"")&&d.push(h);return k}}.apply(t,r))||(e.exports=o)},function(e,t,n){var r;void 0===(r=function(){"use strict";return/<([a-z][^\/\0>\x20\t\r\n\f]*)/i}.call(t,n,t,e))||(e.exports=r)},function(e,t,n){var r;void 0===(r=function(){"use strict";return/^$|^module$|\/(?:java|ecma)script/i}.call(t,n,t,e))||(e.exports=r)},function(e,t,n){var r;void 0===(r=function(){"use strict";var e={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};return e.optgroup=e.option,e.tbody=e.tfoot=e.colgroup=e.caption=e.thead,e.th=e.td,e}.call(t,n,t,e))||(e.exports=r)},function(e,t,n){var r,o;r=[n(5),n(38)],void 0===(o=function(e,t){"use strict";return function(n,r){var o;return o=void 0!==n.getElementsByTagName?n.getElementsByTagName(r||"*"):void 0!==n.querySelectorAll?n.querySelectorAll(r||"*"):[],void 0===r||r&&t(n,r)?e.merge([n],o):o}}.apply(t,r))||(e.exports=o)},function(e,t,n){var r,o;r=[n(24)],void 0===(o=function(e){"use strict";return function(t,n){for(var r=0,o=t.length;r<o;r++)e.set(t[r],"globalEval",!n||e.get(n[r],"globalEval"))}}.apply(t,r))||(e.exports=o)},function(e,t,n){var r,o;r=[n(5),n(37),n(109),n(16)],void 0===(o=function(e,t,n){"use strict";var r=/^(?:input|select|textarea|button)$/i,o=/^(?:a|area)$/i;e.fn.extend({prop:function(n,r){return t(this,e.prop,n,r,arguments.length>1)},removeProp:function(t){return this.each(function(){delete this[e.propFix[t]||t]})}}),e.extend({prop:function(t,n,r){var o,i,a=t.nodeType;if(3!==a&&8!==a&&2!==a)return 1===a&&e.isXMLDoc(t)||(n=e.propFix[n]||n,i=e.propHooks[n]),void 0!==r?i&&"set"in i&&void 0!==(o=i.set(t,r,n))?o:t[n]=r:i&&"get"in i&&null!==(o=i.get(t,n))?o:t[n]},propHooks:{tabIndex:{get:function(t){var n=e.find.attr(t,"tabindex");return n?parseInt(n,10):r.test(t.nodeName)||o.test(t.nodeName)&&t.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),n.optSelected||(e.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),e.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){e.propFix[this.toLowerCase()]=this})}.apply(t,r))||(e.exports=o)},function(e,t,n){var r;void 0===(r=function(){"use strict";return/\?/}.call(t,n,t,e))||(e.exports=r)},function(e,t,n){var r;void 0===(r=function(){"use strict";return Date.now()}.call(t,n,t,e))||(e.exports=r)},function(e,t,n){var r,o;r=[n(5),n(41),n(108),n(11),n(19),n(43),n(258)],void 0===(o=function(e,t,n,r){"use strict";var o=/\[\]$/,i=/\r?\n/g,a=/^(?:submit|button|image|reset|file)$/i,s=/^(?:input|select|textarea|keygen)/i;function l(n,r,i,a){var s;if(Array.isArray(r))e.each(r,function(e,t){i||o.test(n)?a(n,t):l(n+"["+("object"==typeof t&&null!=t?e:"")+"]",t,i,a)});else if(i||"object"!==t(r))a(n,r);else for(s in r)l(n+"["+s+"]",r[s],i,a)}return e.param=function(t,n){var o,i=[],a=function(e,t){var n=r(t)?t():t;i[i.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==n?"":n)};if(null==t)return"";if(Array.isArray(t)||t.jquery&&!e.isPlainObject(t))e.each(t,function(){a(this.name,this.value)});else for(o in t)l(o,t[o],n,a);return i.join("&")},e.fn.extend({serialize:function(){return e.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=e.prop(this,"elements");return t?e.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!e(this).is(":disabled")&&s.test(this.nodeName)&&!a.test(t)&&(this.checked||!n.test(t))}).map(function(t,n){var r=e(this).val();return null==r?null:Array.isArray(r)?e.map(r,function(e){return{name:n.name,value:e.replace(i,"\r\n")}}):{name:n.name,value:r.replace(i,"\r\n")}}).get()}}),e}.apply(t,r))||(e.exports=o)},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=l(n(2)),a=l(n(3)),s=l(n(0));function l(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":r(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.eventEmitted=!1,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.default.Component),o(t,[{key:"render",value:function(){return null}},{key:"componentDidMount",value:function(){this.eventEmitted||(i.default.emitEvent(this.props.eventName,this.props.data),this.eventEmitted=!0)}}]),t}();c.propTypes={eventName:a.default.string.isRequired,data:a.default.object},t.default=c,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Object.defineProperty(this,"shouldForceRepeat",{enumerable:!0,writable:!0,value:function(){var e={},t=null,r=6;return n.cardIDHistory.forEach(function(o){e[o]=!0;var i=(n.cards[o]||{}).level;i&&i<r&&(t=o,r=i)}),Object.keys(e).length<n.cardIDHistory.length?null:t}}),t?(this.cardCount=Object.keys(t.cards).length,this.cards=t.cards,this.deckCount=Object.keys(t.decks).length,this.decks=t.decks,this.isFtse=t.isFtse,this.levels=t.levels,this.mixType=t.mixType,this.packCount=Object.keys(t.packs).length,this.packs=t.packs):(this.cardCount=0,this.cards={},this.deckCount=0,this.decks={},this.isFtse=!1,this.levels=[[],[],[],[],[],[]],this.mixType=null,this.packCount=0,this.packs={}),this.mixType||(this.mixType="progressive"),this.cardIDHistory=[],this.cardsRated=0,this.recentLimits=[0,2,this.cardRange(2,4,20),this.cardRange(2,10,20),this.cardRange(2,10,20),this.cardRange(2,10,20)],this.dfltEpoch=new Date("2000-01-01"),a>1&&console.log("== CBR init: cardCount="+this.cardCount+", recentLimits="+this.recentLimits+", mixType="+this.mixType)}return r(e,[{key:"cardRange",value:function(e,t,n){var r=Math.ceil(this.cardCount/n);return Math.max(e,Math.min(t,r))}},{key:"between",value:function(e,t,n){return Math.max(e,Math.min(t,n))}},{key:"getCards",value:function(){return this.cards}},{key:"getDecks",value:function(){return this.decks}},{key:"getPacks",value:function(){return this.packs}},{key:"getCard",value:function(e){return this.cards[e]}},{key:"getDeck",value:function(e){return this.decks[e]}},{key:"getPack",value:function(e){return this.packs[e]}},{key:"getCardCount",value:function(){return this.cardCount}},{key:"getTotalCardsStudied",value:function(){for(var e=this.confidenceLevelData(),t=0,n=1;n<=5;n++)t+=e[n];return t}},{key:"getMastery",value:function(){return this.mastery()}},{key:"mastery",value:function(){return this.cardCount<1?0:(1*this.levels[1].length+2*this.levels[2].length+3*this.levels[3].length+4*this.levels[4].length+5*this.levels[5].length)/(5*this.cardCount)}},{key:"levelFor",value:function(e){var t=this.cards[e];return t&&t.level||0}},{key:"cardStudied",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=this.cards[e];if(r){t<0&&(t=0),t>5&&(t=5),a>1&&console.log("== cardStudied     card: "+e+", level: "+t),r.studiedAt=n||new Date;var o=r.level,s=this.levels[o].indexOf(e);s>=0&&this.levels[o].splice(s,1),this.levels[t].push(e),r.level=t,this.cardIDHistory.push(e),this.cardIDHistory.length>i&&this.cardIDHistory.shift(),this.cardsRated+=1}}},{key:"confidenceLevelData",value:function(){return this.levels.map(function(e){return e.length})}},{key:"prevCardID",value:function(){return 0==this.cardIDHistory.length?null:this.cardIDHistory[this.cardIDHistory.length-1]}},{key:"nextCardID",value:function(){var e=(new Date).getTime(),t=this.confidenceLevelData(),n=[];if(this.isFtse&&7==this.cardIDHistory.length){var r=this.shouldForceRepeat();if(r)return r}a>2&&console.log("== nextCardID - history: "+this.cardIDHistory.join(", "));for(var o=0;o<200;o++){var i=this.randomLevel(t);if(a>1&&n.push("== nextCardID      loop: "+o+", level: "+i),0==i&&t[1]>=7)a>1&&(n[n.length-1]+=", level 1 >= 7");else{var s=this.lruCardIDForLevel(i,n);if(s)return a>0&&(console.log("== nextCardID     found: "+s+"\n                  level: "+i+"\n                  confs: "+t+"\n                mastery: "+Math.round(1e4*this.mastery())/100+"%\n                   time: "+((new Date).getTime()-e)+"ms"),a>1&&n.forEach(function(e){return console.log(e)})),s;a>1&&(n[n.length-1]+=", 404")}}var l=this.anyCardID();return l?(a>0&&(console.log("== nextCardID -   found: "+l+"\n                  confs: "+t+"\n                mastery: "+Math.round(1e4*this.mastery())/100+"%\n                   time: "+((new Date).getTime()-e)+"ms\n             last-ditch: true"),a>1&&n.forEach(function(e){return console.log(e)})),l):null}},{key:"lruCardIDForLevel",value:function(e,t){var n=this.levels[e];if(n.length<1)return a>1&&t.push("== LRU IDs             : no cards at level "+e),null;if(0==e)return"random"==this.mixType?n[Math.floor(Math.random()*n.length)]:n[0];var r=this.lastNCardIDs(this.recentLimits[e]),o=Math.min(20,Math.ceil(n.length/5)),i=n.slice(0,o).filter(function(e){return!r.includes(e)});return a>2&&t.push("== LRU IDs    level IDs: "+n.join(", ")+"\n           recent limit: "+this.recentLimits[e]+"\n          recent limits: "+this.recentLimits.join(", ")+"\n               skip IDs: "+r.join(", ")+"\n                     ct: "+o+"\n              limit IDs: "+n.slice(0,o).join(", ")+"\n                LRU IDs: "+i.join(", ")+" (len: "+i.length+")"),i.length<1?null:i[Math.floor(Math.random()*i.length)]}},{key:"randomLevel",value:function(e){var t=1+this.randomChoice([0==e[0]&&0==e[1]?0:.63,0==e[2]?0:.22,0==e[3]?0:.1,0==e[4]?0:.04,0==e[5]?0:.01]);if(1==t){if(0==e[0])return 1;switch(e[1]){case 0:t=0;break;case 1:t=this.randomChoice([.9,.1]);break;case 2:t=this.randomChoice([.7,.3]);break;case 3:t=this.randomChoice([.4,.6]);break;case 4:t=this.randomChoice([.18,.82]);break;case 5:t=this.randomChoice([.12,.88]);break;case 6:t=this.randomChoice([.05,.95]);break;default:t=1}}return t}},{key:"randomChoice",value:function(e){for(var t=e.reduce(function(e,t){return e+t}),n=Math.random()*t,r=0,o=0;o<e.length;o++)if(n<=(r+=e[o]))return o;return e.length-1}},{key:"lastNCardIDs",value:function(e){var t=this.cardIDHistory.length;return t<=e?this.cardIDHistory:this.cardIDHistory.slice(t-e,t)}},{key:"anyCardID",value:function(){return this.levels[0].length>0?this.levels[0][0]:this.cardCount<1?null:Object.keys(this.cards)[Math.floor(Math.random()*this.cardCount)]}}]),e}(),i=100,a=0;t.default=o,e.exports=t.default},function(e,t,n){"use strict";var r,o,i,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=w(n(0)),c=w(n(3)),u=w(n(363)),d=w(n(364)),p=w(n(365)),f=w(n(366)),h=w(n(367)),m=w(n(368)),g=w(n(369)),b=w(n(370)),v=w(n(371)),y=n(372),k=w(n(373)),_=w(n(374));function w(e){return e&&e.__esModule?e:{default:e}}var C=(0,d.default)(r=(0,p.default)(r=(0,f.default)(r=(0,h.default)(r=(0,m.default)(r=(0,g.default)((i=o=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={place:e.place||"top",desiredPlace:e.place||"top",type:"dark",effect:"float",show:!1,border:!1,offset:{},extraClass:"",html:!1,delayHide:0,delayShow:0,event:e.event||null,eventOff:e.eventOff||null,currentEvent:null,currentTarget:null,ariaProps:(0,y.parseAria)(e),isEmptyTip:!1,disable:!1,originTooltip:null,isMultiline:!1},n.bind(["showTooltip","updateTooltip","hideTooltip","hideTooltipOnScroll","getTooltipContent","globalRebuild","globalShow","globalHide","onWindowResize","mouseOnToolTip"]),n.mount=!0,n.delayShowLoop=null,n.delayHideLoop=null,n.delayReshow=null,n.intervalUpdateContent=null,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.default.Component),s(t,[{key:"bind",value:function(e){var t=this;e.forEach(function(e){t[e]=t[e].bind(t)})}},{key:"componentDidMount",value:function(){var e=this.props,t=e.insecure,n=e.resizeHide;t&&this.setStyleHeader(),this.bindListener(),this.bindWindowEvents(n)}},{key:"componentWillUnmount",value:function(){this.mount=!1,this.clearTimer(),this.unbindListener(),this.removeScrollListener(),this.unbindWindowEvents()}},{key:"mouseOnToolTip",value:function(){return!(!this.state.show||!this.tooltipRef)&&(this.tooltipRef.matches||(this.tooltipRef.msMatchesSelector?this.tooltipRef.matches=this.tooltipRef.msMatchesSelector:this.tooltipRef.matches=this.tooltipRef.mozMatchesSelector),this.tooltipRef.matches(":hover"))}},{key:"getTargetArray",value:function(e){var t=void 0;if(e){var n=e.replace(/\\/g,"\\\\").replace(/"/g,'\\"');t=document.querySelectorAll('[data-tip][data-for="'+n+'"]')}else t=document.querySelectorAll("[data-tip]:not([data-for])");return(0,k.default)(t)}},{key:"bindListener",value:function(){var e=this,t=this.props,n=t.id,r=t.globalEventOff,o=t.isCapture;this.getTargetArray(n).forEach(function(t){var n=e.isCapture(t),r=e.getEffect(t);null===t.getAttribute("currentItem")&&t.setAttribute("currentItem","false"),e.unbindBasicListener(t),e.isCustomEvent(t)?e.customBindListener(t):(t.addEventListener("mouseenter",e.showTooltip,n),"float"===r&&t.addEventListener("mousemove",e.updateTooltip,n),t.addEventListener("mouseleave",e.hideTooltip,n))}),r&&(window.removeEventListener(r,this.hideTooltip),window.addEventListener(r,this.hideTooltip,o)),this.bindRemovalTracker()}},{key:"unbindListener",value:function(){var e=this,t=this.props,n=t.id,r=t.globalEventOff;this.getTargetArray(n).forEach(function(t){e.unbindBasicListener(t),e.isCustomEvent(t)&&e.customUnbindListener(t)}),r&&window.removeEventListener(r,this.hideTooltip),this.unbindRemovalTracker()}},{key:"unbindBasicListener",value:function(e){var t=this.isCapture(e);e.removeEventListener("mouseenter",this.showTooltip,t),e.removeEventListener("mousemove",this.updateTooltip,t),e.removeEventListener("mouseleave",this.hideTooltip,t)}},{key:"getTooltipContent",value:function(){var e=this.props,t=e.getContent,n=e.children,r=void 0;return t&&(r=Array.isArray(t)?t[0]&&t[0](this.state.originTooltip):t(this.state.originTooltip)),(0,v.default)(this.state.originTooltip,n,r,this.state.isMultiline)}},{key:"isEmptyTip",value:function(e){return"string"==typeof e&&""===e||null===e}},{key:"showTooltip",value:function(e,t){if(!t||this.getTargetArray(this.props.id).some(function(t){return t===e.currentTarget})){var n=this.props,r=n.multiline,o=n.getContent,i=e.currentTarget.getAttribute("data-tip"),a=e.currentTarget.getAttribute("data-multiline")||r||!1,s=e instanceof window.FocusEvent||t,l=!0;e.currentTarget.getAttribute("data-scroll-hide")?l="true"===e.currentTarget.getAttribute("data-scroll-hide"):null!=this.props.scrollHide&&(l=this.props.scrollHide);var c=e.currentTarget.getAttribute("data-place")||this.props.place||"top",u=s?"solid":this.getEffect(e.currentTarget),d=e.currentTarget.getAttribute("data-offset")||this.props.offset||{},p=(0,b.default)(e,e.currentTarget,this.tooltipRef,c,c,u,d);p.position&&this.props.overridePosition&&(p.position=this.props.overridePosition(p.position,e.currentTarget,this.tooltipRef,c,c,u,d));var f=p.isNewState?p.newState.place:c;this.clearTimer();var h=e.currentTarget,m=this.state.show?h.getAttribute("data-delay-update")||this.props.delayUpdate:0,g=this,y=function(){g.setState({originTooltip:i,isMultiline:a,desiredPlace:c,place:f,type:h.getAttribute("data-type")||g.props.type||"dark",effect:u,offset:d,html:h.getAttribute("data-html")?"true"===h.getAttribute("data-html"):g.props.html||!1,delayShow:h.getAttribute("data-delay-show")||g.props.delayShow||0,delayHide:h.getAttribute("data-delay-hide")||g.props.delayHide||0,delayUpdate:h.getAttribute("data-delay-update")||g.props.delayUpdate||0,border:h.getAttribute("data-border")?"true"===h.getAttribute("data-border"):g.props.border||!1,extraClass:h.getAttribute("data-class")||g.props.class||g.props.className||"",disable:h.getAttribute("data-tip-disable")?"true"===h.getAttribute("data-tip-disable"):g.props.disable||!1,currentTarget:h},function(){l&&g.addScrollListener(g.state.currentTarget),g.updateTooltip(e),o&&Array.isArray(o)&&(g.intervalUpdateContent=setInterval(function(){if(g.mount){var e=g.props.getContent,t=(0,v.default)(i,"",e[0](),a),n=g.isEmptyTip(t);g.setState({isEmptyTip:n}),g.updatePosition()}},o[1]))})};m?this.delayReshow=setTimeout(y,m):y()}}},{key:"updateTooltip",value:function(e){var t=this,n=this.state,r=n.delayShow,o=n.disable,i=this.props.afterShow,a=this.getTooltipContent(),s=parseInt(r,10),l=e.currentTarget||e.target;if(!this.mouseOnToolTip()&&!this.isEmptyTip(a)&&!o){var c=function(){if(Array.isArray(a)&&a.length>0||a){var n=!t.state.show;t.setState({currentEvent:e,currentTarget:l,show:!0},function(){t.updatePosition(),n&&i&&i(e)})}};clearTimeout(this.delayShowLoop),r?this.delayShowLoop=setTimeout(c,s):c()}}},{key:"listenForTooltipExit",value:function(){this.state.show&&this.tooltipRef&&this.tooltipRef.addEventListener("mouseleave",this.hideTooltip)}},{key:"removeListenerForTooltipExit",value:function(){this.state.show&&this.tooltipRef&&this.tooltipRef.removeEventListener("mouseleave",this.hideTooltip)}},{key:"hideTooltip",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{isScroll:!1},o=this.state.disable,i=r.isScroll?0:this.state.delayHide,a=this.props.afterHide,s=this.getTooltipContent();if(this.mount&&!this.isEmptyTip(s)&&!o){if(t&&(!this.getTargetArray(this.props.id).some(function(t){return t===e.currentTarget})||!this.state.show))return;var l=function(){var t=n.state.show;n.mouseOnToolTip()?n.listenForTooltipExit():(n.removeListenerForTooltipExit(),n.setState({show:!1},function(){n.removeScrollListener(),t&&a&&a(e)}))};this.clearTimer(),i?this.delayHideLoop=setTimeout(l,parseInt(i,10)):l()}}},{key:"hideTooltipOnScroll",value:function(e,t){this.hideTooltip(e,t,{isScroll:!0})}},{key:"addScrollListener",value:function(e){var t=this.isCapture(e);window.addEventListener("scroll",this.hideTooltipOnScroll,t)}},{key:"removeScrollListener",value:function(){window.removeEventListener("scroll",this.hideTooltipOnScroll)}},{key:"updatePosition",value:function(){var e=this,t=this.state,n=t.currentEvent,r=t.currentTarget,o=t.place,i=t.desiredPlace,a=t.effect,s=t.offset,l=this.tooltipRef,c=(0,b.default)(n,r,l,o,i,a,s);if(c.position&&this.props.overridePosition&&(c.position=this.props.overridePosition(c.position,n,r,l,o,i,a,s)),c.isNewState)return this.setState(c.newState,function(){e.updatePosition()});l.style.left=c.position.left+"px",l.style.top=c.position.top+"px"}},{key:"setStyleHeader",value:function(){var e=document.getElementsByTagName("head")[0];if(!e.querySelector('style[id="react-tooltip"]')){var t=document.createElement("style");t.id="react-tooltip",t.innerHTML=_.default,void 0!==n.nc&&n.nc&&t.setAttribute("nonce",n.nc),e.insertBefore(t,e.firstChild)}}},{key:"clearTimer",value:function(){clearTimeout(this.delayShowLoop),clearTimeout(this.delayHideLoop),clearTimeout(this.delayReshow),clearInterval(this.intervalUpdateContent)}},{key:"render",value:function(){var e=this,n=this.state,r=n.extraClass,o=n.html,i=n.ariaProps,s=n.disable,c=this.getTooltipContent(),d=this.isEmptyTip(c),p=(0,u.default)("__react_component_tooltip",{show:this.state.show&&!s&&!d},{border:this.state.border},{"place-top":"top"===this.state.place},{"place-bottom":"bottom"===this.state.place},{"place-left":"left"===this.state.place},{"place-right":"right"===this.state.place},{"type-dark":"dark"===this.state.type},{"type-success":"success"===this.state.type},{"type-warning":"warning"===this.state.type},{"type-error":"error"===this.state.type},{"type-info":"info"===this.state.type},{"type-light":"light"===this.state.type},{allow_hover:this.props.delayUpdate},{allow_click:this.props.clickable}),f=this.props.wrapper;return t.supportedWrappers.indexOf(f)<0&&(f=t.defaultProps.wrapper),o?l.default.createElement(f,a({className:p+" "+r,id:this.props.id,ref:function(t){return e.tooltipRef=t}},i,{"data-id":"tooltip",dangerouslySetInnerHTML:{__html:c}})):l.default.createElement(f,a({className:p+" "+r,id:this.props.id},i,{ref:function(t){return e.tooltipRef=t},"data-id":"tooltip"}),c)}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=t.ariaProps,r=(0,y.parseAria)(e);return Object.keys(r).some(function(e){return r[e]!==n[e]})?a({},t,{ariaProps:r}):null}}]),t}(),o.propTypes={children:c.default.any,place:c.default.string,type:c.default.string,effect:c.default.string,offset:c.default.object,multiline:c.default.bool,border:c.default.bool,insecure:c.default.bool,class:c.default.string,className:c.default.string,id:c.default.string,html:c.default.bool,delayHide:c.default.number,delayUpdate:c.default.number,delayShow:c.default.number,event:c.default.string,eventOff:c.default.string,watchWindow:c.default.bool,isCapture:c.default.bool,globalEventOff:c.default.string,getContent:c.default.any,afterShow:c.default.func,afterHide:c.default.func,overridePosition:c.default.func,disable:c.default.bool,scrollHide:c.default.bool,resizeHide:c.default.bool,wrapper:c.default.string,clickable:c.default.bool},o.defaultProps={insecure:!0,resizeHide:!0,wrapper:"div",clickable:!1},o.supportedWrappers=["div","span"],o.displayName="ReactTooltip",r=i))||r)||r)||r)||r)||r)||r;e.exports=C},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={GLOBAL:{HIDE:"__react_tooltip_hide_event",REBUILD:"__react_tooltip_rebuild_event",SHOW:"__react_tooltip_show_event"}}},function(e,t,n){var r={"./ad.svg":378,"./ae.svg":379,"./af.svg":380,"./ag.svg":381,"./ai.svg":382,"./al.svg":383,"./am.svg":384,"./ao.svg":385,"./ar.svg":386,"./as.svg":387,"./at.svg":388,"./au.svg":389,"./aw.svg":390,"./az.svg":391,"./ba.svg":392,"./bb.svg":393,"./bd.svg":394,"./be.svg":395,"./bf.svg":396,"./bg.svg":397,"./bh.svg":398,"./bi.svg":399,"./bj.svg":400,"./bm.svg":401,"./bo.svg":402,"./br.svg":403,"./bs.svg":404,"./bt.svg":405,"./bw.svg":406,"./by.svg":407,"./bz.svg":408,"./ca.svg":409,"./cd.svg":410,"./cf.svg":411,"./cg.svg":412,"./ch.svg":413,"./ci.svg":414,"./ck.svg":415,"./cl.svg":416,"./cm.svg":417,"./cn.svg":418,"./co.svg":419,"./cr.svg":420,"./cu.svg":421,"./cv.svg":422,"./cw.svg":423,"./cy.svg":424,"./cz.svg":425,"./de.svg":426,"./dj.svg":427,"./dk.svg":428,"./dm.svg":429,"./do.svg":430,"./dz.svg":431,"./ec.svg":432,"./ee.svg":433,"./eg.svg":434,"./er.svg":435,"./es.svg":436,"./et.svg":437,"./fi.svg":438,"./fj.svg":439,"./fk.svg":440,"./fm.svg":441,"./fo.svg":442,"./fr.svg":443,"./ga.svg":444,"./gb.svg":445,"./gd.svg":446,"./ge.svg":447,"./gg.svg":448,"./gh.svg":449,"./gi.svg":450,"./gl.svg":451,"./gm.svg":452,"./gn.svg":453,"./gq.svg":454,"./gr.svg":455,"./gt.svg":456,"./gu.svg":457,"./gw.svg":458,"./hk.svg":459,"./hn.svg":460,"./hr.svg":461,"./ht.svg":462,"./hu.svg":463,"./id.svg":464,"./ie.svg":465,"./il.svg":466,"./im.svg":467,"./in.svg":468,"./io.svg":469,"./iq.svg":470,"./ir.svg":471,"./is.svg":472,"./it.svg":473,"./je.svg":474,"./jm.svg":475,"./jo.svg":476,"./jp.svg":477,"./ke.svg":478,"./kg.svg":479,"./kh.svg":480,"./ki.svg":481,"./km.svg":482,"./kn.svg":483,"./kp.svg":484,"./kr.svg":485,"./kw.svg":486,"./ky.svg":487,"./kz.svg":488,"./la.svg":489,"./lb.svg":490,"./li.svg":491,"./lk.svg":492,"./lr.svg":493,"./ls.svg":494,"./lt.svg":495,"./lu.svg":496,"./lv.svg":497,"./ly.svg":498,"./ma.svg":499,"./mc.svg":500,"./md.svg":501,"./me.svg":502,"./mg.svg":503,"./mh.svg":504,"./mk.svg":505,"./ml.svg":506,"./mm.svg":507,"./mn.svg":508,"./mo.svg":509,"./mp.svg":510,"./mq.svg":511,"./mr.svg":512,"./ms.svg":513,"./mt.svg":514,"./mu.svg":515,"./mv.svg":516,"./mw.svg":517,"./mx.svg":518,"./my.svg":519,"./mz.svg":520,"./na.svg":521,"./nato.svg":522,"./ne.svg":523,"./nf.svg":524,"./ng.svg":525,"./ni.svg":526,"./nl.svg":527,"./no.svg":528,"./np.svg":529,"./nr.svg":530,"./nu.svg":531,"./nz.svg":532,"./om.svg":533,"./pa.svg":534,"./pe.svg":535,"./pf.svg":536,"./pg.svg":537,"./ph.svg":538,"./pk.svg":539,"./pl.svg":540,"./pn.svg":541,"./pr.svg":542,"./ps.svg":543,"./pt.svg":544,"./pw.svg":545,"./py.svg":546,"./qa.svg":547,"./ro.svg":548,"./rs.svg":549,"./ru.svg":550,"./rw.svg":551,"./sa.svg":552,"./sb.svg":553,"./sc.svg":554,"./sd.svg":555,"./se.svg":556,"./sg.svg":557,"./si.svg":558,"./sk.svg":559,"./sl.svg":560,"./sm.svg":561,"./sn.svg":562,"./so.svg":563,"./sr.svg":564,"./ss.svg":565,"./st.svg":566,"./sv.svg":567,"./sx.svg":568,"./sy.svg":569,"./sz.svg":570,"./tc.svg":571,"./td.svg":572,"./tg.svg":573,"./th.svg":574,"./tibet.svg":575,"./tj.svg":576,"./tk.svg":577,"./tm.svg":578,"./tn.svg":579,"./to.svg":580,"./tr.svg":581,"./tt.svg":582,"./tv.svg":583,"./tw.svg":584,"./tz.svg":585,"./ua.svg":586,"./ug.svg":587,"./us.svg":588,"./uy.svg":589,"./uz.svg":590,"./ve.svg":591,"./vi.svg":592,"./vn.svg":593,"./vu.svg":594,"./ws.svg":595,"./ye.svg":596,"./za.svg":597,"./zm.svg":598,"./zw.svg":599};function o(e){return n(i(e))}function i(e){var t=r[e];if(!(t+1))throw new Error("Cannot find module '"+e+"'.");return t}o.keys=function(){return Object.keys(r)},o.resolve=i,e.exports=o,o.id=266},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(21),s=g(n(78)),l=g(n(72)),c=g(n(2)),u=g(n(135)),d=g(n(137)),p=g(n(3)),f=g(n(0)),h=g(n(140)),m=g(n(1));function g(e){return e&&e.__esModule?e:{default:e}}var b=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":r(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return Object.defineProperty(n,"handleAlertClose",{enumerable:!0,writable:!0,value:function(){n.setState({alert:null})}}),Object.defineProperty(n,"handleCloseRequest",{enumerable:!0,writable:!0,value:function(){n.setState({isForgotModalOpen:!1,isLoginModalOpen:!1,isRegistrationModalOpen:!1})}}),Object.defineProperty(n,"handleClosed",{enumerable:!0,writable:!0,value:function(){var e=n.state.modalProps.onClosed;n.setState({modalProps:null},function(){e&&e()})}}),Object.defineProperty(n,"openLogin",{enumerable:!0,writable:!0,value:function(e){e||(e={});var t=n.initFor(e);m.default.trackModalPageview("signin",t),l.default.publish("web:signin:dialog",{name:t},!0),n.setState({isLoginModalOpen:!0,modalProps:o({},e,{method:"login"})})}}),Object.defineProperty(n,"openRegister",{enumerable:!0,writable:!0,value:function(e){e||(e={});var t=n.initFor(e);m.default.trackModalPageview("reg",t),l.default.publish("web:reg:dialog",{name:t},!0),n.setState({isRegistrationModalOpen:!0,modalProps:o({},e,{method:"reg"})})}}),Object.defineProperty(n,"initFor",{enumerable:!0,writable:!0,value:function(e){return e.source?"initiated-"+e.source:"initiated"}}),Object.defineProperty(n,"openForgot",{enumerable:!0,writable:!0,value:function(e){m.default.trackModalPageview("forgot","initiated"),l.default.publish("web:forgot:dialog",{name:"initiated"},!0),e||(e={}),n.setState({isForgotModalOpen:!0,modalProps:o({},e,{method:"forgot"})})}}),Object.defineProperty(n,"handleSwitch",{enumerable:!0,writable:!0,value:function(e){switch(e){case"forgot":return n.openForgot(n.state.modalProps);case"login":return n.openLogin(n.state.modalProps);case"reg":return n.openRegister(n.state.modalProps)}}}),Object.defineProperty(n,"handleSubmit",{enumerable:!0,writable:!0,value:function(e){var t=n.state.modalProps.categoryId,r=n.state.modalProps.packId,o=n.state.modalProps.returnTo,i=Promise.resolve("OK");if(t||r||o){var s={cat_id:t,pack_id:r,return_to:o};i=i.then(function(){return(0,a.apiPost)("sessions/pre",s)})}i.then(function(){return n.startAuth(e)}).catch(n.alert)}}),Object.defineProperty(n,"startAuth",{enumerable:!0,writable:!0,value:function(e){switch(e){case"apple":AppleID.auth.signIn();break;case"facebook":window.location="/auth/facebook";break;case"google":window.location="/auth/google"}}}),Object.defineProperty(n,"alert",{enumerable:!0,writable:!0,value:function(e){return n.setState({modalProps:null,alert:e})}}),n.state={alert:e.alert,isForgotModalOpen:!1,isLoginModalOpen:!1,isRegistrationModalOpen:!1,modalProps:null},n.events=new c.default,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,f.default.Component),i(t,[{key:"render",value:function(){if(this.state.alert)return f.default.createElement(s.default,{errorMessage:this.state.alert,isOpen:!0,onCloseRequest:this.handleAlertClose,title:"Registration Error"});var e=this.state.modalProps;return e?"forgot"==e.method?f.default.createElement(u.default,{isOpen:this.state.isForgotModalOpen,isProcessing:e.isProcessing,onClosed:this.handleClosed,onCloseRequest:this.handleCloseRequest}):"login"==e.method?f.default.createElement(d.default,{appleFlipper:this.props.appleFlipper,categoryId:e.categoryId,isOpen:this.state.isLoginModalOpen,isProcessing:e.isProcessing,onClosed:this.handleClosed,onCloseRequest:this.handleCloseRequest,onSubmit:this.handleSubmit,onSwitch:this.handleSwitch,packId:e.packId,returnTo:e.returnTo,source:e.source,subject:e.subject}):f.default.createElement(h.default,{appleFlipper:this.props.appleFlipper,categoryId:e.categoryId,isOpen:this.state.isRegistrationModalOpen,isProcessing:e.isProcessing,onClosed:this.handleClosed,onCloseRequest:this.handleCloseRequest,onSubmit:this.handleSubmit,onSwitch:this.handleSwitch,packId:e.packId,returnTo:e.returnTo,source:e.source,subject:e.subject}):null}},{key:"UNSAFE_componentWillMount",value:function(){AppleID.auth.init({clientId:this.props.appleClientId,redirectURI:this.props.appleRedirectUri,scope:"name email",state:this.props.appleBsKey})}},{key:"componentDidMount",value:function(){this.events.addListener("reg:forgot:open",this.openForgot),this.events.addListener("reg:login:open",this.openLogin),this.events.addListener("reg:register:open",this.openRegister),window.openRegisterModal=function(e){c.default.emitEvent("reg:register:open",e)}}},{key:"componentWillUnmount",value:function(){this.events.disable()}}]),t}();b.propTypes={alert:p.default.string,appleBsKey:p.default.string.isRequired,appleClientId:p.default.string.isRequired,appleFlipper:p.default.bool.isRequired,appleRedirectUri:p.default.string.isRequired},t.default=b,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.metaContent=function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1];var t=document.querySelector("meta[name='"+e+"']");return t?t.getAttribute("content"):null}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IDType=void 0;var r=function(e){return e&&e.__esModule?e:{default:e}}(n(3)),o=r.default.oneOfType([r.default.number,r.default.string]);t.IDType=o},function(e,t,n){"use strict"},function(e,t,n){"use strict"},function(e,t,n){"use strict"},function(e,t,n){"use strict"},function(e,t,n){"use strict"},function(e,t,n){"use strict"},function(e,t,n){"use strict"},function(e,t,n){"use strict"},function(e,t,n){"use strict"},function(e,t,n){"use strict"},function(e,t,n){"use strict";(function(r){var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=p(n(2)),s=p(n(6)),l=p(n(4)),c=p(n(0)),u=p(n(8)),d=p(n(1));function p(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":o(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return Object.defineProperty(n,"render",{enumerable:!0,writable:!0,value:function(){return c.default.createElement(s.default,{addClasses:"pre-bounce-modal",isOpen:n.state.isOpen,onCloseRequest:n.handleCloseRequest},c.default.createElement("div",{className:"new-modal-title"},"Now make it stick!"),c.default.createElement("div",{className:"reasons-container"},c.default.createElement("ul",{className:"reasons"},c.default.createElement("li",{className:"reason multi-device"},"Study these Flashcards on any device"),c.default.createElement("li",{className:"reason find"},"Find millions of other flashcards created by students, teachers, & publishers"),c.default.createElement("li",{className:"reason create"},"Create your own!"))),c.default.createElement("div",{className:"new-modal-actions"},c.default.createElement(l.default,{addClasses:"study-flashcards-button resolve-modal-button",isProcessing:n.state.isProcessingStudyRequest,label:"Study These Flashcards",onClick:n.handleStudyFlashcardsButtonClick}),c.default.createElement("p",{className:"or-separator"},"\u2013 or \u2013"),c.default.createElement("div",{className:"secondary-actions"},c.default.createElement(u.default,{addClasses:"resolve-modal-text-button",label:"Browse the catalog",onClick:n.handleBrowseCatalogButtonClick}),c.default.createElement(u.default,{addClasses:"resolve-modal-text-button",label:"Create Flashcards",onClick:n.handleCreateFlashcardsButtonClick}))))}}),Object.defineProperty(n,"handleBrowseCatalogButtonClick",{enumerable:!0,writable:!0,value:function(){n.setState({isOpen:!1,wasDismissed:!0},function(){n.trackAndGo("Flashcards Page","Browse Catalog","/subjects")})}}),Object.defineProperty(n,"handleCloseRequest",{enumerable:!0,writable:!0,value:function(){n.setState({isOpen:!1,wasDismissed:!0})}}),Object.defineProperty(n,"handleCreateFlashcardsButtonClick",{enumerable:!0,writable:!0,value:function(){n.setState({isOpen:!1,wasDismissed:!0},function(){n.triggerGetStartedModal("make-flashcards")})}}),Object.defineProperty(n,"handleStudyFlashcardsButtonClick",{enumerable:!0,writable:!0,value:function(){n.setState({isOpen:!1,wasDismissed:!0},function(){n.triggerGetStartedModal("pre-bounce")})}}),Object.defineProperty(n,"triggerGetStartedModal",{enumerable:!0,writable:!0,value:function(e){a.default.emitEvent("reg:register:open",{categoryId:n.props.categoryId,packId:n.props.packId,returnTo:n.props.returnTo,source:e,subject:n.props.subject})}}),Object.defineProperty(n,"triggerModalOnce",{enumerable:!0,writable:!0,value:function(e){if(n.state.wasDismissed)return!1;n.setState({isOpen:!0,shouldShowModal:!1})}}),Object.defineProperty(n,"wireModalEvents",{enumerable:!0,writable:!0,value:function(){var e=n;r("html").bind("mouseleave",function(){e.triggerModalOnce()}),clearTimeout(n.maxPreviewTimeout),n.maxPreviewTimeout=setTimeout(function(){n.triggerModalOnce()},n.MAX_PREVIEW_TIME),window.onscroll=function(){window.pageYOffset>n.MAX_SCROLL_HEIGHT&&n.triggerModalOnce()}}}),Object.defineProperty(n,"trackAndGo",{enumerable:!0,writable:!0,value:function(e,t,n){d.default.fireGaEvent(e,t),n&&d.default.followUrlDelayed(n)}}),n.state={isOpen:!1,wasDismissed:!1},n.events=new a.default,n.maxPreviewTimeout=null,n.MAX_PREVIEW_TIME=2e4,n.MAX_SCROLL_HEIGHT=2e3,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":o(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,c.default.Component),i(t,[{key:"componentDidMount",value:function(){this.wireModalEvents()}}]),t}();t.default=f,e.exports=t.default}).call(t,n(9))},function(e,t,n){"use strict";(function(r){var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0},s=function(e){return e&&e.__esModule?e:{default:e}}(n(20)),l=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":o(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.memberName="Subscription",a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"generateNomenclature",n).call(n),n.schema={id:{key:"id",type:"text",label:"Id",tag:"id"},planName:{key:"planName",type:"text",label:"Plan Name",tag:"plan-name"},startDate:{key:"startDate",type:"text",label:"Start Date",tag:"start-date"},endDate:{key:"endDate",type:"text",label:"Renewal or End Date",tag:"end-date"},cancelDate:{key:"cancelDate",type:"text",label:"Canceled On",tag:"cancel-date"}},n.nameKey="planName",n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":o(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.default),i(t,[{key:"update",value:function(e){var t=this.buildUrl(this.getResourceUrlBase()+"/update.json",e.params);return r.ajax({type:"PUT",url:t,data:JSON.stringify(e.reqData),contentType:"application/json"}).done(function(t,n){e.done&&"function"==typeof e.done&&e.done(t,n)}).fail(function(t,n){e.fail&&"function"==typeof e.fail&&e.fail(t,n)})}},{key:"delete",value:function(e){var t=this.buildUrl(this.getResourceUrlBase()+"/cancel.json",e.params);return r.ajax({type:"DELETE",url:t,data:JSON.stringify(e.reqData),contentType:"application/json"}).done(function(t,n){e.done&&"function"==typeof e.done&&e.done(t,n)}).fail(function(t,n){e.fail&&"function"==typeof e.fail&&e.fail(t,n)})}}]),t}();t.default=l,e.exports=t.default}).call(t,n(9))},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=d(n(25)),a=d(n(6)),s=d(n(4)),l=d(n(0)),c=d(n(8)),u=d(n(1));function d(e){return e&&e.__esModule?e:{default:e}}var p=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":r(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={isWarningModalOpen:!1,isAcknowledgementModalOpen:!1,isProcessingReset:!1,postModalCallback:function(){}},n.library=new i.default,n._isMounted=!1,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.default.Component),o(t,[{key:"componentDidMount",value:function(){this._isMounted=!0}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"render",value:function(){var e=this,t=u.default.toClassStr(["reset-local-prefs-sidebar-option account-section-item",this.props.addClasses]);return l.default.createElement("li",{className:t,onClick:function(t){return e.handleSidebarOptionClick(t)}},"Reset Local Preferences",this.renderWarningModal(),this.renderAcknowledgementModal())}},{key:"renderWarningModal",value:function(){var e=this;return l.default.createElement(a.default,{addClasses:"warning-modal",isOpen:this.state.isWarningModalOpen,onClosed:function(){return e.state.postModalCallback()},onCloseRequest:function(){return e.handleCloseWarningModalRequest()}},l.default.createElement("div",{className:"new-modal-title"},"Reset Local Preferences"),l.default.createElement("div",{className:"new-modal-message"},"This action will clear your application settings (selected tabs, study type preferences, checked decks, etc) for this device and this device only."),l.default.createElement("div",{className:"new-modal-message"},"Using it may clear up some user interface inconsistencies."),l.default.createElement("div",{className:"new-modal-message"},"WARNING: if you share this device with other Brainscape users, their settings will be reset as well."),l.default.createElement("div",{className:"new-modal-actions"},l.default.createElement(s.default,{addClasses:"cancel-modal-button",label:"Cancel",onClick:function(){return e.handleCancelButtonClick()}}),l.default.createElement(c.default,{addClasses:"resolve-modal-text-button",isProcessing:this.state.isProcessingReset,label:"Yes, please reset my local preferences",onClick:function(){return e.handleConfirmButtonClick()}})))}},{key:"renderAcknowledgementModal",value:function(){var e=this;return l.default.createElement(a.default,{addClasses:"ackowledgement-modal",isOpen:this.state.isAcknowledgementModalOpen,onCloseRequest:function(){return e.handleCloseAcknowledgementModalRequest()}},l.default.createElement("div",{className:"new-modal-title"},"Local Preferences Reset"),l.default.createElement("div",{className:"new-modal-actions"},l.default.createElement(s.default,{addClasses:"resolve-modal-button",label:"Ok",onClick:function(){return e.handleAcknowledgementButtonClick()}})))}},{key:"handleAcknowledgementButtonClick",value:function(){this.setState({isAcknowledgementModalOpen:!1})}},{key:"handleCancelButtonClick",value:function(){this.setState({isWarningModalOpen:!1,postModalCallback:function(){}})}},{key:"handleCloseAcknowledgementModalRequest",value:function(){this.setState({isAcknowledgementModalOpen:!1})}},{key:"handleCloseWarningModalRequest",value:function(){this.setState({isWarningModalOpen:!1})}},{key:"handleConfirmButtonClick",value:function(){var e=this;this.setState({isProcessingReset:!0},function(){e.resetLocalPreferences()})}},{key:"handleOpenAcknowledgementModalRequest",value:function(){this.setState({isAcknowledgementModalOpen:!0})}},{key:"handleSidebarOptionClick",value:function(e){e.stopPropagation(),this.setState({isWarningModalOpen:!0})}},{key:"resetLocalPreferences",value:function(){var e=this;this.library.resetAllUserLibraries(),this.setState({isProcessingReset:!1,isWarningModalOpen:!1,postModalCallback:function(){return e.handleOpenAcknowledgementModalRequest()}})}}]),t}();t.default=p,e.exports=t.default},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=d(n(173)),a=d(n(174)),s=d(n(175)),l=d(n(0)),c=d(n(176)),u=d(n(1));function d(e){return e&&e.__esModule?e:{default:e}}var p=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":r(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={isCancellationError:!1,isCancellationSuccess:!1,isUpdateError:!1,isUpdateSuccess:!1,shouldShowAppleModal:!1,shouldShowGoogleModal:!1,shouldShowCancelModal:!1,shouldShowCancellationErrorModal:!1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.default.Component),o(t,[{key:"render",value:function(){var e=this,t=u.default.toClassStr(["subscription-billing-row",this.props.addClasses]);return l.default.createElement("li",{className:t},l.default.createElement("ul",{className:"subscription-billing-row-items"},l.default.createElement("li",{className:"row-item plan-name",onClick:function(t){return e.handlePlanClick(t)}},l.default.createElement("span",{className:"plan-name"},this.props.planName),l.default.createElement("span",{className:"glyphicon glyphicon-pencil"})),l.default.createElement("li",{className:"row-item start-date"},this.props.startDate),l.default.createElement("li",{className:"row-item end-date"},this.props.endDate),this.renderPaymentMethod(),this.renderCancelInfo()),this.renderAppleModal(),this.renderGoogleModal(),this.renderCancelModal(),this.renderCancellationErrorModal())}},{key:"renderPaymentMethod",value:function(){var e=this,t=void 0,n="Credit or Debit Card";if("Stripe"!=this.props.paymentMethod)return l.default.createElement("li",{className:"row-item payment-method",onClick:function(t){return e.handleMobileGatewayClick(t)}},this.props.paymentMethod);this.state.isUpdateError&&(t="is-error",n="Problem with your card info."),this.state.isUpdateSuccess&&(t="is-success",n="Card successfully updated.");var r=u.default.toClassStr(["row-item payment-method stripe-payment-method",t]);return l.default.createElement("li",{className:r},l.default.createElement(c.default,{authenticityToken:this.props.authenticityToken,buttonLabel:"Update Payment Details",onError:function(){return e.handleUpdateError()},onSuccess:function(){return e.handleUpdateSuccess()},stripeKey:this.props.stripeKey,subscriptionBillingId:this.props.subscriptionBillingId,triggerText:n,userEmail:this.props.userEmail}))}},{key:"renderCancelInfo",value:function(){var e=this;return this.state.isCancellationError?l.default.createElement("li",{className:"row-item cancel-option is-error",onClick:function(t){return e.handleCancelErrorMessageClick(t)}},l.default.createElement("span",{className:"cancel-status"},"Problem canceling your Subscription."),l.default.createElement("span",{className:"glyphicon glyphicon-info-sign"})):this.state.isCancellationSuccess?l.default.createElement("li",{className:"row-item cancel-info is-success"},"Your Subscription was cancelled."):this.props.cancelDate?l.default.createElement("li",{className:"row-item cancel-info canceled-at"},"Cancelled on ",this.props.cancelDate):l.default.createElement("li",{className:"row-item cancel-info cancel-option",onClick:function(t){return e.handleCancelClick(t)}},"Cancel")}},{key:"renderAppleModal",value:function(){var e=this;return this.state.shouldShowAppleModal?l.default.createElement(i.default,{show:this.state.shouldShowAppleModal,onClose:function(){return e.handleCloseModals()}}):null}},{key:"renderGoogleModal",value:function(){var e=this;return this.state.shouldShowGoogleModal?l.default.createElement(s.default,{show:this.state.shouldShowGoogleModal,onClose:function(){return e.handleCloseModals()}}):null}},{key:"renderCancelModal",value:function(){var e=this;return this.state.shouldShowCancelModal?l.default.createElement(a.default,{authenticityToken:this.props.authenticityToken,show:this.state.shouldShowCancelModal,onClose:function(){return e.handleCloseModals()},onError:function(){return e.handleCancellationError()},onSuccess:function(){return e.handleCancellationSuccess()},subscriptionBillingId:this.props.subscriptionBillingId}):null}},{key:"renderCancellationErrorModal",value:function(){var e=this;return this.state.shouldShowCancellationErrorModal?l.default.createElement(a.default,{show:this.state.shouldShowCancellationErrorModal,onClose:function(){return e.handleCloseModals()},initialPhase:3}):null}},{key:"handlePlanClick",value:function(e){e.stopPropagation(),location.href=this.props.upgradePath+"?paywall=upgrade_subscription_from_account"}},{key:"handleMobileGatewayClick",value:function(e){e.stopPropagation(),"Apple"==this.props.paymentMethod?this.setState({shouldShowAppleModal:!0}):this.setState({shouldShowGoogleModal:!0})}},{key:"handleCancelClick",value:function(e){e.stopPropagation(),"Apple"==this.props.paymentMethod?this.setState({shouldShowAppleModal:!0}):"Google"==this.props.paymentMethod?this.setState({shouldShowGoogleModal:!0}):this.setState({shouldShowCancelModal:!0})}},{key:"handleCancellationSuccess",value:function(){this.setState({isCancellationSuccess:!0})}},{key:"handleCancellationError",value:function(){this.setState({isCancellationError:!0})}},{key:"handleCancelErrorMessageClick",value:function(e){e.stopPropagation(),this.setState({shouldShowCancellationErrorModal:!0})}},{key:"handleUpdateSuccess",value:function(){this.setState({isUpdateSuccess:!0})}},{key:"handleUpdateError",value:function(){this.setState({isUpdateError:!0})}},{key:"handleCloseModals",value:function(){this.setState({shouldShowAppleModal:!1,shouldShowGoogleModal:!1,shouldShowCancelModal:!1,shouldShowCancellationErrorModal:!1})}}]),t}();t.default=p,e.exports=t.default},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=T(n(88)),s=T(n(285)),l=T(n(163)),c=T(n(177)),u=T(n(164)),d=T(n(178)),p=T(n(179)),f=T(n(180)),h=T(n(39)),m=T(n(124)),g=T(n(2)),b=T(n(165)),v=T(n(25)),y=T(n(183)),k=T(n(210)),_=T(n(15)),w=T(n(79)),C=T(n(631)),S=T(n(0)),P=T(n(211)),E=T(n(46)),x=T(n(632)),O=T(n(1));function T(e){return e&&e.__esModule?e:{default:e}}function M(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}n(30);var A=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":r(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return Object.defineProperty(n,"renderFtuePromptModal",{enumerable:!0,writable:!0,value:function(){return n.state.showFtuePrompt?n.state.isLoadingPackDetail?null:S.default.createElement(b.default,{onClose:function(){return n.setState({showFtuePrompt:!1})},onCreate:n.handleFtueCreateFlashcards,onGetSmarter:n.handleFtueGetSmarter,onLearn:n.handleFtueFindFlashcards}):null}}),Object.defineProperty(n,"renderEmptyLibraryMessaging",{enumerable:!0,writable:!0,value:function(){return n.state.hasEmptyLibrary?S.default.createElement(k.default,{heading:"Add Classes to your Library",message:"Your library is empty.",ctaPrompt:"You can create your own class, or browse Brainscape's catalog of flashcard classes covering thousands of subjects.",onCreatePackRequest:n.handleCreatePackRequest,shouldShowCtaButtons:!0}):null}}),Object.defineProperty(n,"renderUnownedPackMessaging",{enumerable:!0,writable:!0,value:function(){return n.state.hasRequestedUnownedPack?S.default.createElement(k.default,{heading:"The requested class is not in your library",message:"You might have accidentally removed it from your library on another device, or, the class administrator may have removed it from your library.",ctaPrompt:"Please select another class from your library, create your own class, or browse Brainscape's catalog of flashcard classes covering thousands of subjects.",onCreatePackRequest:n.handleCreatePackRequest,shouldShowCtaButtons:!0}):null}}),Object.defineProperty(n,"handleAddTrendingPackRequest",{enumerable:!0,writable:!0,value:function(e){n.Category.enroll({authenticity_token:n.props.authenticityToken,id:e,done:function(e){e.packId?n.showDashboard(e.packId):console.log("Something went wrong in add trending pack to library")},fail:function(e,t){console.log("Something went wrong in add trending pack to library. jqXHR, status:",e,t)}})}}),Object.defineProperty(n,"handleCreatePackRequest",{enumerable:!0,writable:!0,value:function(){n.setState({isCreatePackModalOpen:!0,shouldPulseCreatePackButton:!1}),n.state.isCreateFtueActive&&"packHelp"==n.state.createFtuePhase&&n.setState({createFtuePhase:"createPack"})}}),Object.defineProperty(n,"handleEmptyLibrary",{enumerable:!0,writable:!0,value:function(){n.setState({isLoadingUserPacks:!1,isLoadingPackDetail:!1,isLoadingPackLearners:!1,hasEmptyLibrary:!0},function(){n.triggerDetailLoadingOverlayClose()})}}),Object.defineProperty(n,"handleFtueFindFlashcards",{enumerable:!0,writable:!0,value:function(){window.location="/learn"}}),Object.defineProperty(n,"handleFtueCreateFlashcards",{enumerable:!0,writable:!0,value:function(){n.setState({showFtuePrompt:!1},n.handleCreatePackRequest)}}),Object.defineProperty(n,"handleFtueGetSmarter",{enumerable:!0,writable:!0,value:function(){var e=n.state.userId,t=n.state.currentPack,r=n.Library.getPackStudyMixUrl(e,t);window.location=r+"&origin=dashboard"}}),Object.defineProperty(n,"handleDashboardPackDetailTabClick",{enumerable:!0,writable:!0,value:function(e){n.setState({dashboardPackDetailCurrentTabId:e},function(){n.updateDashboardPackDetailTabPref(e),n.pushHistory(n.state.currentPack)})}}),Object.defineProperty(n,"handleDeckSelectionChange",{enumerable:!0,writable:!0,value:function(e){n.setState({selectedDecks:n.getSelectedDecks()},function(){var t=n.calculateMixStats(n.state.currentPackStats);n.setState({mixStats:t}),e&&e()})}}),Object.defineProperty(n,"handleDismissFtueRequest",{enumerable:!0,writable:!0,value:function(){n.setState({createFtuePhase:null,isCreateFtueActive:!1,isStudyFtueActive:!1,shouldPulseAddCardsButton:!1,shouldPulseCreateDeckButton:!1,shouldPulseCreatePackButton:!1,studyFtuePhase:!1})}}),Object.defineProperty(n,"handleLearnerSearchBoxChange",{enumerable:!0,writable:!0,value:function(e){var t=n.state.hasEmptyLearnerSearchResults;""==e&&(t=!1),n.setState({hasEmptyLearnerSearchResults:t,learnersFilterText:e})}}),Object.defineProperty(n,"handleSearchLearnersRequest",{enumerable:!0,writable:!0,value:function(){n.setState({currentPackLearners:[]},function(){n.getAllCurrentPackLearnerPages()})}}),Object.defineProperty(n,"handleFilterUserPacksRequest",{enumerable:!0,writable:!0,value:function(e){n.setState({userPacksFilterText:e},function(){n.localFilterUserPacks()})}}),Object.defineProperty(n,"handleNewDeckInfoEntered",{enumerable:!0,writable:!0,value:function(e){n.setState({isProcessingCreateDeck:!0}),n.Deck.create({params:{packID:n.state.currentPackId},reqData:{name:e},done:function(e){n.handleDeckCreated(function(){n.dismissCreateDeckModal(),n.state.isCreateFtueActive&&"createDeck"==n.state.createFtuePhase&&n.setState({createFtuePhase:"cardHelp"}),n.state.isStudyFtueActive&&"createDeck"==n.state.studyFtuePhase&&n.setState({studyFtuePhase:"cardHelp"})})},fail:function(e,t){console.log("Something went wrong in create deck. jqXHR, status:",e,t)}})}}),Object.defineProperty(n,"handleNewPackNameEntered",{enumerable:!0,writable:!0,value:function(e){n.setState({isProcessingCreatePack:!0}),n.Pack.create({reqData:{pack:{name:e}},done:function(e){n.setState({currentPackId:e.packID},function(){n.handlePackCreated(function(){n.dismissCreatePackModal(),n.state.isCreateFtueActive&&"createPack"==n.state.createFtuePhase&&n.setState({createFtuePhase:"deckHelp",currentView:"show"})})})},fail:function(e,t){console.log("Something went wrong in create pack. jqXHR, status:",e,t)}})}}),Object.defineProperty(n,"handlePackCreated",{enumerable:!0,writable:!0,value:function(e){n.getUserPacks(),n.showPackDetail(n.state.currentPackId,"decks",e)}}),Object.defineProperty(n,"handlePackUpdated",{enumerable:!0,writable:!0,value:function(e){n.showPackDetail(n.state.currentPackId,n.state.dashboardPackDetailCurrentTabId,e)}}),Object.defineProperty(n,"handlePackMetadataUpdated",{enumerable:!0,writable:!0,value:function(e){n.showCurrentPackMetadata(e)}}),Object.defineProperty(n,"handlePaginateDecksRequest",{enumerable:!0,writable:!0,value:function(){if(n.INITIAL_DECKS_PAGE_SIZE>=n.state.currentPack.deckCount)return!1;n.setState({isProcessingDeckPagination:!0},function(){n.paginateCurrentPackDecks(n.state.currentPackId)})}}),Object.defineProperty(n,"handlePaginatePacksRequest",{enumerable:!0,writable:!0,value:function(){if(n.INITIAL_PACKS_PAGE_SIZE>=n.state.userPackCount)return!1;n.setState({isProcessingPackPagination:!0},function(){n.getRemainingUserPackPages()})}}),Object.defineProperty(n,"handlePulseAddCardsButtonRequest",{enumerable:!0,writable:!0,value:function(){n.setState({shouldPulseAddCardsButton:!0})}}),Object.defineProperty(n,"handlePulseCreateDeckButtonRequest",{enumerable:!0,writable:!0,value:function(){n.setState({shouldPulseCreateDeckButton:!0})}}),Object.defineProperty(n,"handlePulseCreatePackButtonRequest",{enumerable:!0,writable:!0,value:function(){n.setState({shouldPulseCreatePackButton:!0})}}),Object.defineProperty(n,"handlePulseStudyButtonRequest",{enumerable:!0,writable:!0,value:function(){n.setState({shouldPulseStudyButton:!0})}}),Object.defineProperty(n,"handleRemoveLocalLearnerRequest",{enumerable:!0,writable:!0,value:function(e){var t=[].concat(M(n.state.currentPackLearners)),r=t.findIndex(function(t){return t.userId==e});if(r<0)return!1;t.splice(r,1),n.setState({currentPackLearners:t}),n.Library.unselectPackLearners(n.state.userId,n.state.currentPackId,[e]),n.state.areLearnersFullyPopulated&&(n.localFilterLearners(),n.localSortLearners())}}),Object.defineProperty(n,"handleRemovePackRequest",{enumerable:!0,writable:!0,value:function(e){n.triggerConfirmRemovePackModalUpdate({isProcessing:!0}),n.Pack.show({id:e,done:function(t){t.isRemovable?n.performRemoveOrDeletePack("remove",e):t.isDeletable?n.performRemoveOrDeletePack("delete",e):(console.log("this pack is neither removable or deletable"),n.triggerConfirmRemovePackModalUpdate({isProcessing:!1}),n.triggerConfirmRemovePackModalClose())}})}}),Object.defineProperty(n,"handleUnownedPackRequest",{enumerable:!0,writable:!0,value:function(e){n.setState({hasRequestedUnownedPack:!0})}}),Object.defineProperty(n,"handleTrendingPackDetailRequest",{enumerable:!0,writable:!0,value:function(e,t){for(var r=[].concat(M(n.state.trendingPacks)),o=null,i=-1,a=0;a<r.length;a++)if(r[a].id==e.id){o=r[a],i=a;break}return!(!o&&i<0)&&(o.detail?(t&&t(),!0):void n.Category.show({id:e.id,done:function(e){r[i].detail=e,n.setState({trendingPacks:r},function(){t&&t()})},fail:function(e,t){console.log("Something went wrong in Category show. jqXHR, status:",e,t)}}))}}),Object.defineProperty(n,"handleUpdateLocalLearnerRequest",{enumerable:!0,writable:!0,value:function(e,t){var r=[].concat(M(n.state.currentPackLearners)),i=r.findIndex(function(t){return t.userId==e});if(i<0)return!1;r[i]=o({},r[i],t),n.setState({currentPackLearners:r},function(){n.state.areLearnersFullyPopulated&&(n.localFilterLearners(),n.localSortLearners())})}}),Object.defineProperty(n,"getCurrentPackLeaderboard",{enumerable:!0,writable:!0,value:function(e){n.Pack.leaderboard(n.state.currentPackId).then(function(t){n.setState({currentPackLearners:t.learners,isLoadingPackLearners:!1,leaderboardOrder:t.order},e)}).catch(function(e){return console.log("Pack Leaderboard",e)})}}),Object.defineProperty(n,"pushHistory",{enumerable:!0,writable:!0,value:function(e){var t=n.getValidTabId(n.state.dashboardPackDetailCurrentTabId),r=n.regParamsMaybe(e.dashboardPath+"/"+t);window.history.pushState({packId:e.packId,path:r},null,r)}}),Object.defineProperty(n,"regParamsMaybe",{enumerable:!0,writable:!0,value:function(e){if(n.firstHistory){var t=window.location.search;t.indexOf("reg=")>0&&(e=""+e+t),n.firstHistory=!1}return e}}),Object.defineProperty(n,"removeDetailLoadingOverlay",{enumerable:!0,writable:!0,value:function(){n.setState({shouldRemoveLoadingOverlay:!0})}}),n.INITIAL_DECKS_PAGE_SIZE=30,n.INITIAL_LEARNERS_PAGE_SIZE=30,n.INITIAL_PACKS_PAGE_SIZE=30,n.MORE_DECKS_PAGE_SIZE=30,n.MORE_LEARNERS_PAGE_SIZE=30,n.MORE_PACKS_PAGE_SIZE=30,n.state={areLearnersFullyPaginated:!1,areLearnersFullyPopulated:!1,currentPack:null,currentPackId:n.props.initialPackId,currentPackLearners:[],currentPackMetadata:{},currentPackStats:{},currentView:null,dashboardPackDetailCurrentTabId:"decks",decksPageIndex:1,decksPageSize:n.INITIAL_DECKS_PAGE_SIZE,hasEmptyLearnerSearchResults:!1,hasEmptyLibrary:!1,hasRequestedUnownedPack:!1,hasUserStudiedPack:!1,isCreateDeckModalOpen:!1,isCreatePackModalOpen:!1,isDashboardMobileSidebarOpen:!1,isInitialLoad:!0,isLoadingPackDetail:!0,isLoadingPackLearners:!0,isLoadingTrendingPacks:!0,isLoadingUserInfo:!0,isLoadingUserPacks:!0,isMobileViewportSize:!1,isProcessingCreateDeck:!1,isProcessingCreatePack:!1,isProcessingDeckPagination:!1,isProcessingLearnerPagination:!1,isProcessingPackPagination:!1,isUserBscAdmin:!1,isUserPro:!1,learnersFilterText:"",learnersPageIndex:1,learnersPageSize:n.INITIAL_LEARNERS_PAGE_SIZE,learnersSortColumn:"firstName",learnersSortDirection:"asc",locallyFilteredLearners:[],locallyFilteredUserPacks:[],mixStats:{},packsPageIndex:1,packsPageSize:n.INITIAL_PACKS_PAGE_SIZE,selectedDecks:[],shouldCloseFtueCreateIntroBubble:!1,shouldCloseFtueStudyBubble:!1,shouldMonitorSidebarScrolling:!1,shouldShowUserPacksFilter:!1,showFtuePrompt:e.ftuePrompt,trendingPacks:null,userAvatarUrl:"",userCardsStudied:0,userCategory:"other",userDecksCreated:0,userFullName:"",userHasMobileActivity:!1,userId:"",userNotificationsCount:0,userPackCount:0,userPacks:null,userPacksFilterText:"",userProfilePath:"",createFtuePhase:null,isCreateFtueActive:!1,isStudyFtueActive:!1,shouldPulseAddCardsButton:!1,shouldPulseCreateDeckButton:!1,shouldPulseCreatePackButton:!1,shouldPulseStudyButton:!1,studyFtuePhase:null},n.events=new g.default,n.Category=new s.default,n.Deck=new h.default,n.Library=new v.default,n.Pack=new _.default,n.userProfile=new x.default,n._isMounted=!1,n.firstHistory=!0,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,S.default.Component),i(t,[{key:"componentDidMount",value:function(){var e=this;this._isMounted=!0,this.initDashboard(function(){return e.setupFtue()}),this.manageViewport(),this.startHistoryMonitor(),this.events.addListener("refresh-pack-detail-section",function(t){return e.handleRefreshPackDetailSectionRequest(t)})}},{key:"componentWillUnmount",value:function(){this._isMounted=!1,this.stopHistoryMonitor(),this.events.disable()}},{key:"render",value:function(){var e=O.default.toClassStr(["dashboard-page",this.props.addClasses]);return S.default.createElement("div",{className:e},this.renderDashboardMobileTopbar(),this.renderDashboardMobileSidebar(),this.renderDashboardDesktopSidebar(),this.renderDashboardPackDetail(),this.renderEmptyLibraryMessaging(),this.renderUnownedPackMessaging(),this.renderCreateFtueMessaging(),this.renderStudyFtueMessaging(),this.renderBrowserCompatibilityModal(),this.renderCreatePackModal(),this.renderCreateDeckModal(),this.renderFtuePromptModal(),S.default.createElement(m.default,null),S.default.createElement(w.default,null),S.default.createElement(p.default,{isUserPro:this.state.isUserPro}))}},{key:"renderBrowserCompatibilityModal",value:function(){return this.state.userId?S.default.createElement(a.default,{userId:this.state.userId}):null}},{key:"renderCreateDeckModal",value:function(){var e=this;return S.default.createElement(l.default,{isOpen:this.state.isCreateDeckModalOpen,isProcessing:this.state.isProcessingCreateDeck,onCloseRequest:function(){return e.handleCreateDeckModalCloseRequest()},onNewDeckInfoEntered:function(t){return e.handleNewDeckInfoEntered(t)}})}},{key:"renderCreateFtueMessaging",value:function(){return!this.state.isCreateFtueActive||this.state.isLoadingPackDetail||this.state.hasRequestedUnownedPack?null:S.default.createElement(c.default,{isMobileViewportSize:this.state.isMobileViewportSize,onDismissFtueRequest:this.handleDismissFtueRequest,onPulseAddCardsButtonRequest:this.handlePulseAddCardsButtonRequest,onPulseCreateDeckButtonRequest:this.handlePulseCreateDeckButtonRequest,onPulseCreatePackButtonRequest:this.handlePulseCreatePackButtonRequest,phase:this.state.createFtuePhase})}},{key:"renderCreatePackModal",value:function(){var e=this;return S.default.createElement(u.default,{isOpen:this.state.isCreatePackModalOpen,isProcessing:this.state.isProcessingCreatePack,onCloseRequest:function(){return e.handleCreatePackModalCloseRequest()},onNewPackNameEntered:function(t){return e.handleNewPackNameEntered(t)}})}},{key:"renderDashboardDesktopSidebar",value:function(){return this.state.isMobileViewportSize?null:this.renderDashboardSidebar()}},{key:"renderDashboardMobileTopbar",value:function(){var e=this;if(!this.state.isMobileViewportSize)return null;if("index"==this.state.currentView)return null;var t=this.state.userPackCount||0;return S.default.createElement(d.default,{isLoadingUserInfo:this.state.isLoadingUserInfo,isUserPro:this.props.isUserPro,onShowClassesRequest:function(){return e.handleShowClassesRequest()},userAvatarUrl:this.state.userAvatarUrl,userPackCount:t,userProfilePath:this.state.userProfilePath})}},{key:"renderDashboardMobileSidebar",value:function(){if(!this.state.isMobileViewportSize)return null;if(this.state.isInitialLoad&&"show"==this.state.currentView)return null;var e=this.state.isMobileViewportSize&&"index"==this.state.currentView;return S.default.createElement(E.default,{addClasses:"dashboard-mobile-sidebar-transition-wrapper",onTransitionedOut:function(){},shouldTransitionIn:e,shouldTransitionOut:!e,transitionInDelay:100,transitionInDuration:500,transitionOutDuration:500},this.renderDashboardSidebar())}},{key:"renderDashboardPackDetail",value:function(){var e=this;return this.state.isMobileViewportSize&&"index"==this.state.currentView?null:this.state.isLoadingPackDetail||this.state.hasRequestedUnownedPack||this.state.hasEmptyLibrary||!this.state.currentPack?null:S.default.createElement(y.default,{areLearnersFullyPaginated:this.state.areLearnersFullyPaginated,areLearnersFullyPopulated:this.state.areLearnersFullyPopulated,authenticityToken:this.props.authenticityToken,currentTabId:this.state.dashboardPackDetailCurrentTabId,decksPageIndex:this.state.decksPageIndex,decksPageSize:this.state.decksPageSize,decksTotal:this.state.currentPack.deckCount,ftueIntent:this.props.ftueIntent,hasEmptyLearnerSearchResults:this.state.hasEmptyLearnerSearchResults,hasUserStudiedPack:this.state.isLoahasUserStudiedPackingPackDetail,intent:this.props.ftueIntent,isFtse:this.props.isFtse,isFtue:this.props.isFtue,isLoadingPackDetail:this.state.isLoadingPackDetail,isLoadingPackLearners:this.state.isLoadingPackLearners,isLoadingUserInfo:this.state.isLoadingUserInfo,isMobileViewportSize:this.state.isMobileViewportSize,isProcessingDeckPagination:this.state.isProcessingDeckPagination,isProcessingLearnerPagination:this.state.isProcessingLearnerPagination,isUserPro:this.state.isUserPro,leaderboardOrder:this.state.leaderboardOrder,learners:this.state.currentPackLearners,learnersFilterText:this.state.learnersFilterText,learnersPageIndex:this.state.learnersPageIndex,learnersPageSize:this.state.learnersPageSize,learnersSortColumn:this.state.learnersSortColumn,learnersSortDirection:this.state.learnersSortDirection,locallyFilteredLearners:this.state.locallyFilteredLearners,metadata:this.state.currentPackMetadata,mixStats:this.state.mixStats,onCreateDeckRequest:function(){return e.handleCreateDeckRequest()},onDeckSelectionChange:this.handleDeckSelectionChange,onFilterLearnersRequest:function(t){return e.handleFilterLearnersRequest(t)},onLearnerSearchBoxChange:this.handleLearnerSearchBoxChange,onPackUpdated:function(t){return e.handlePackUpdated(t)},onPackMetadataUpdated:this.handlePackMetadataUpdated,onPaginateDecksRequest:function(){return e.handlePaginateDecksRequest()},onPaginateLearnersRequest:function(){return e.handlePaginateLearnersRequest()},onRemoveLocalLearnerRequest:this.handleRemoveLocalLearnerRequest,onSearchLearnersRequest:this.handleSearchLearnersRequest,onSortLearnersRequest:function(t,n){return e.handleSortLearnersRequest(t,n)},onTabClick:this.handleDashboardPackDetailTabClick,onUpdateLocalLearnerRequest:this.handleUpdateLocalLearnerRequest,pack:this.state.currentPack,remotelySearchedLearners:this.state.remotelySearchedLearners,selectedDecks:this.state.selectedDecks,shouldPulseAddCardsButton:this.state.shouldPulseAddCardsButton,shouldPulseCreateDeckButton:this.state.shouldPulseCreateDeckButton,shouldPulseStudyButton:this.state.shouldPulseStudyButton,userId:this.state.userId})}},{key:"renderDashboardSidebar",value:function(){var e=this;return S.default.createElement(f.default,{currentPackId:this.state.currentPackId,hasEmptyLibrary:this.state.hasEmptyLibrary,isLoadingTrendingPacks:this.state.isLoadingTrendingPacks,isLoadingUserInfo:this.state.isLoadingUserInfo,isLoadingUserPacks:this.state.isLoadingUserPacks,isMobileViewportSize:this.state.isMobileViewportSize,isProcessingPackPagination:this.state.isProcessingPackPagination,isUserMixAdmin:this.state.isUserMixAdmin,isUserBscAdmin:this.state.isUserBscAdmin,isUserPro:this.state.isUserPro,locallyFilteredUserPacks:this.state.locallyFilteredUserPacks,onAddTrendingPackRequest:this.handleAddTrendingPackRequest,onCreatePackRequest:this.handleCreatePackRequest,onFilterUserPacksRequest:this.handleFilterUserPacksRequest,onPaginatePacksRequest:this.handlePaginatePacksRequest,onRemovePackRequest:this.handleRemovePackRequest,onShowClassesRequest:function(){return e.handleShowClassesRequest()},onShowPackDetailRequest:function(){return e.handleShowPackDetailRequest()},onTrendingPackClick:function(t){return e.handleTrendingPackClick(t)},onTrendingPackDetailRequest:this.handleTrendingPackDetailRequest,onUserPackClick:function(t){return e.handleUserPackClick(t)},packsPageIndex:this.state.packsPageIndex,packsPageSize:this.state.packsPageSize,shouldMonitorSidebarScrolling:this.state.shouldMonitorSidebarScrolling,shouldShowNotificationsCount:!1,shouldShowUserPacksFilter:this.state.shouldShowUserPacksFilter,shouldPulseCreatePackButton:this.state.shouldPulseCreatePackButton,trendingPacks:this.state.trendingPacks,userAvatarUrl:this.state.userAvatarUrl,userCardsStudied:this.state.userCardsStudied,userCategory:this.state.userCategory,userDecksCreated:this.state.userDecksCreated,userHasMobileActivity:this.state.userHasMobileActivity,userId:this.state.userId,userName:this.state.userName,userNotificationsCount:this.state.userNotificationsCount,userPackCount:this.state.userPackCount,userPacks:this.state.userPacks,userPacksFilterText:this.state.userPacksFilterText,userProfilePath:this.state.userProfilePath})}},{key:"renderStudyFtueMessaging",value:function(){return this.state.isStudyFtueActive?this.state.isLoadingPackDetail?null:this.state.hasRequestedUnownedPack?null:this.state.showFtuePrompt?null:S.default.createElement(P.default,{currentPack:this.state.currentPack,isMobileViewportSize:this.state.isMobileViewportSize,onDismissFtueRequest:this.handleDismissFtueRequest,onPulseAddCardsButtonRequest:this.handlePulseAddCardsButtonRequest,onPulseCreateDeckButtonRequest:this.handlePulseCreateDeckButtonRequest,onPulseStudyButtonRequest:this.handlePulseStudyButtonRequest,phase:this.state.studyFtuePhase}):null}},{key:"handleCreateDeckRequest",value:function(){this.setState({isCreateDeckModalOpen:!0,shouldPulseCreateDeckButton:!1}),this.state.isCreateFtueActive&&"deckHelp"==this.state.createFtuePhase&&this.setState({createFtuePhase:"createDeck"}),this.state.isStudyFtueActive&&"deckHelp"==this.state.studyFtuePhase&&this.setState({studyFtuePhase:"createDeck"})}},{key:"handleCreateDeckModalCloseRequest",value:function(){this.dismissCreateDeckModal(),this.state.isCreateFtueActive&&"deckHelp"==this.state.createFtuePhase&&this.setState({isCreateFtueActive:!1}),this.state.isStudyFtueActive&&"deckHelp"==this.state.studyFtuePhase&&this.setState({isStudyFtueActive:!1})}},{key:"handleCreatePackModalCloseRequest",value:function(){this.dismissCreatePackModal(),this.state.isCreateFtueActive&&"packHelp"==this.state.createFtuePhase&&this.setState({isCreateFtueActive:!1})}},{key:"handleDeckCreated",value:function(e){this.showPackDetail(this.state.currentPackId,this.state.dashboardPackDetailCurrentTabId,e)}},{key:"handleDeckUpdated",value:function(e){this.showCurrentPack(e)}},{key:"handleSortLearnersRequest",value:function(e,t){var n=this;if(this.state.hasEmptyLearnerSearchResults)return!1;this.state.areLearnersFullyPopulated?this.setState({learnersSortColumn:e,learnersSortDirection:t},function(){n.localSortLearners()}):this.setState({learnersSortColumn:e,learnersSortDirection:t},function(){n.getAllCurrentPackLearnerPages()})}},{key:"handleFilterLearnersRequest",value:function(e){var t=this;this.state.areLearnersFullyPopulated?this.setState({learnersFilterText:e},function(){t.localFilterLearners()}):this.setState({currentPackLearners:[],learnersFilterText:e},function(){t.getAllCurrentPackLearnerPages()})}},{key:"handlePaginateLearnersRequest",value:function(){var e=this,t=""!=this.state.learnersFilterText;this.setState({isProcessingLearnerPagination:!0,learnersFilterText:""},function(){t?e.getAllCurrentPackLearnerPages():e.getRemainingCurrentPackLearnerPages()})}},{key:"handleRefreshPackDetailSectionRequest",value:function(e){var t=this;this.triggerDetailLoadingOverlayOpen(),this.setState({isLoadingPackDetail:!0},function(){t.getUserPacks(),t.showCurrentPack(function(){t.getCurrentMixStats(function(){t.setState({isLoadingPackDetail:!1},function(){t.triggerDetailLoadingOverlayClose(),e.callback&&e.callback()})})})})}},{key:"performRemoveOrDeletePack",value:function(e,t){var n=this;this.Pack[e]({id:t,done:function(e){if(t==n.state.currentPackId){var r=n.getReplacementPackId(t);if(!r)return void O.default.navigate("/");n.setState({currentPackId:r,locallyFilteredUserPacks:n.state.userPacks},function(){n.showPackDetail(n.state.currentPackId,"decks"),n.removePackFromLocalStores(t),n.triggerConfirmRemovePackModalUpdate({isProcessing:!1}),n.triggerConfirmRemovePackModalClose()})}else n.removePackFromLocalStores(t),n.triggerConfirmRemovePackModalUpdate({isProcessing:!1}),n.triggerConfirmRemovePackModalClose()},fail:function(e){console.log("something went wrong in Pack.remove. message:",e)}})}},{key:"handleShowClassesRequest",value:function(){var e=this;this.setState({isCreateFtueActive:!1,isInitialLoad:!1,isStudyFtueActive:!1,currentView:"index"},function(){e.scrollSidebarToCurrentPack()})}},{key:"handleShowPackDetailRequest",value:function(){this.setState({hasRequestedUnownedPack:!1,isInitialLoad:!1,currentView:"show"})}},{key:"handleTrendingPackClick",value:function(e){O.default.navigate(e.browsePath)}},{key:"handleUserPackClick",value:function(e){var t=this;this.triggerDetailLoadingOverlayOpen(),this.setState({currentView:"show",hasRequestedUnownedPack:!1,isInitialLoad:!1}),this.showPackDetail(e.id,"decks",function(){t.state.isStudyFtueActive&&"classesHelp"==t.state.studyFtuePhase&&t.setState({studyFtuePhase:t.getNextStudyFtuePhase()})})}},{key:"triggerConfirmRemovePackModalClose",value:function(){g.default.emitEvent("caution-modal:close",{})}},{key:"triggerConfirmRemovePackModalUpdate",value:function(e){g.default.emitEvent("caution-action-modal:update",e)}},{key:"triggerDetailLoadingOverlayClose",value:function(e){g.default.emitEvent("detail-loading-overlay:close",{callback:e})}},{key:"triggerDetailLoadingOverlayOpen",value:function(e){g.default.emitEvent("detail-loading-overlay:open",{callback:e})}},{key:"triggerGetTheAppModalOpen",value:function(e){g.default.emitEvent("get-the-app-modal:open",e)}},{key:"triggerPageLoadingOverlayClose",value:function(e){g.default.emitEvent("page-loading-overlay:close",{callback:e})}},{key:"triggerPageLoadingOverlayOpen",value:function(e){g.default.emitEvent("page-loading-overlay:open",{callback:e})}},{key:"initDashboard",value:function(e){this.triggerDetailLoadingOverlayOpen(),this.showDashboard(this.props.initialPackId,"decks",function(){e&&e()})}},{key:"showDashboard",value:function(e,t,n){this.showUser(e,t,n),this.getTrendingPacks()}},{key:"showUser",value:function(e,t,n){var r=this;this.userProfile.show({done:function(o){r.setState({isLoadingUserInfo:!1,isUserBscAdmin:o.isAdmin,isUserPro:o.isPro,userAvatarUrl:o.avatarUrl,userCardsStudied:o.cardsStudied||0,userDecksCreated:o.decksCreated||0,userHasMobileActivity:o.hasMobileActivity||!1,userName:o.fullName,userNotificationsCount:o.notificationsCount||0,userPackCount:o.packCount,userProfilePath:o.profilePath},function(){o.packCount,r.getUserPacks(),r.showPackDetail(e,t,n)}),BSC.userId=o.userId},fail:function(e,t){console.log("Something went wrong in show user. jqXHR, status:",e,t)}})}},{key:"getUserPacks",value:function(){var e=this;this.Pack.index({params:{page:1,per_page:this.INITIAL_PACKS_PAGE_SIZE},done:function(t){if(t&&t.length&&0==t.length)return e.handleEmptyLibrary(),!1;e.setState({isLoadingUserPacks:!1,locallyFilteredUserPacks:t,userPacks:t},function(){e.getRemainingUserPackPages(function(){e.scrollSidebarToCurrentPack()})})},fail:function(e,t){console.log("Something went wrong in get packs. jqXHR, status:",e,t)}})}},{key:"getTrendingPacks",value:function(){var e=this;this.Category.index({params:{random:!0,limit:4},done:function(t){e.setState({isLoadingTrendingPacks:!1,trendingPacks:t})},fail:function(e,t){console.log("Something went wrong in Category index. jqXHR, status:",e,t)}})}},{key:"showPackDetail",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"decks",r=arguments[2];if(console.log("In showPackDetail. packId, this.state.currentPackId:",e,this.state.currentPackId),!e&&!this.state.currentPackId)return console.log("In showPackDetail. User has no packs"),this.handleEmptyLibrary(),r&&r(),!1;this.setState({currentPackId:e||this.state.currentPackId,currentPackLearners:[],dashboardPackDetailCurrentTabId:n,decksPageIndex:1,decksPageSize:this.INITIAL_DECKS_PAGE_SIZE,hasEmptyLearnerSearchResults:!1,hasEmptyLibrary:!1,hasRequestedUnownedPack:!1,isLoadingPackDetail:!0,learnersPageIndex:1,learnersPageSize:this.INITIAL_LEARNERS_PAGE_SIZE,locallyFilteredLearners:[]},function(){t.showCurrentPack(function(){t.pushHistory(t.state.currentPack),t.updateLastPackCookie(t.state.currentPack),t.getRemainingCurrentPackDeckPages(function(){t.triggerDetailLoadingOverlayClose(),t.setState({isLoadingPackDetail:!1},function(){t.state.currentPack.isMarket?t.getCurrentPackLeaderboard():t.getInitialPackLearnerPage(),t.showCurrentPackMetadata()})}),r&&r()})})}},{key:"showCurrentPack",value:function(e){var t=this;this.Pack.show({id:this.state.currentPackId,params:{page:1,per_page:this.INITIAL_DECKS_PAGE_SIZE},done:function(n){t.setState({currentPack:n,currentPackId:n.packId,userId:n.userId},function(){e&&e()})},fail:function(e,n){n&&n.error&&"Class in not in user's library"==n.error&&t.handleUnownedPackRequest(t.state.currentPackId),console.log("Something went wrong in show pack. jqXHR, status:",e,n)}})}},{key:"setupCurrentMix",value:function(e){var t=this;this.setState({selectedDecks:this.getSelectedDecks()},function(){t.getCurrentMixStats(e)})}},{key:"getSelectedDecks",value:function(){var e=this.state.userId,t=this.state.currentPackId;return 0==this.state.currentPack.deckCount?[]:(this.Library.isPackMixSet(e,t)||this.selectAllStudyablePackDecks(),this.Library.getSelectedPackDeckIds(e,t))}},{key:"selectAllStudyablePackDecks",value:function(){var e=this.state.currentPack,t=e.userPackDecks,n=e.deckIds.filter(function(e){return t[e].isStudyable});this.Library.selectPackDecks(this.state.userId,e.packId,n)}},{key:"getCurrentMixStats",value:function(e){var t=this,n=(this.state.currentPack.deckIds,{cardCount:0,cardsStudied:0,deckStats:{},mastery:0});if(this.state.currentPack.deckCount<1)return this.setState({currentPackStats:{},mixStats:n},function(){e&&e()}),!1;this.Pack.getStats({packId:this.state.currentPackId,deckIds:this.state.currentPack.deckIds,params:{dashboard_stats:!0},done:function(r,o){n=t.calculateMixStats(r),t.setState({currentPackStats:r,mixStats:n},function(){e&&e()})},fail:function(e,t){console.log("Something went wrong in show pack. jqXHR, status:",e,t)}})}},{key:"calculateMixStats",value:function(e){var t=this,n=this.state.currentPack.deckIds,r=0,o=0,i=0,a={cardCount:0,cardsStudied:0,deckStats:{},mastery:0};return Object.keys(e).length<1?(this.setState({currentPackStats:{},mixStats:a}),a):(n.forEach(function(n,s){var l=e.decks[n],c=t.calculateCardSetStats(e.cards,l.cardIDs),u=c.cardsStudied,d=c.cardSetPoints,p=c.cardSetMastery;a.deckStats[n]={cardCount:l.cardIDs.length,cardsStudied:u,mastery:p},-1!=t.state.selectedDecks.indexOf(n)&&(o+=u,r+=d,i+=l.cardIDs.length)}),a.cardCount=i,a.cardsStudied=o,a.mastery=r/(5*i)||0,a)}},{key:"calculateCardSetStats",value:function(e,t){var n=0,r=0,o=0;return t.length<1?{cardsStudied:n,cardSetPoints:r,cardSetMastery:o}:(t.forEach(function(t,o){var i=e[t].level;r+=i,n+=i>0?1:0}),o=r/(5*t.length),{cardsStudied:n,cardSetPoints:r,cardSetMastery:o})}},{key:"showCurrentPackMetadata",value:function(e){var t=this;this.Pack.getMetadata({id:this.state.currentPackId,done:function(n){t.setState({currentPackMetadata:n},function(){e&&e()})},fail:function(e,t){console.log("Something went wrong with Pack show metadata. jqXHR, status:",e,t)}})}},{key:"updateLastPackCookie",value:function(e){O.default.setCookie("last_pack_id",e.packId.toString(),365)}},{key:"getRemainingUserPackPages",value:function(e){var t=this,n=this.state.userPackCount,r=this.MORE_PACKS_PAGE_SIZE,o=(Math.ceil(n/r),this.INITIAL_PACKS_PAGE_SIZE/r+1),i=function(e,n,r){t.Pack.index({params:{page:n,per_page:e},done:function(e){r&&r(n,e)},fail:function(e,t){console.log("Something went wrong with Pack index. jqXHR, status:",e,t)}})},a=function(e,n){var o=t.state.userPacks?[].concat(M(t.state.userPacks)):[];o=o.concat(n),t.setState({userPacks:o,locallyFilteredUserPacks:o,packsPageIndex:e,packsPageSize:r})},s=function(){t.setState({isProcessingPackPagination:!1},function(){e&&e()})};this.setState({isProcessingPackPagination:!0},function(){C.default.getRemainingPages(i,r,o,n,a,s)})}},{key:"getRemainingCurrentPackDeckPages",value:function(e){var t=this,n=this.state.currentPackId,r=this.state.currentPack.deckCount,i=this.MORE_DECKS_PAGE_SIZE,a=(Math.ceil(r/i),this.INITIAL_DECKS_PAGE_SIZE/i+1),s=function(e,r,o){t.Pack.show({id:n,params:{page:r,per_page:e},done:function(e){o&&o(r,e)},fail:function(e,t){console.log("Something went wrong with Pack show. jqXHR, status:",e,t)}})},l=function(e,n){var r=t.state.currentPack,a=r.deckIds||[],s=r.deckKeys||[],l=r.deckRows||[],c=r.userPackDecks||{},u=o({},r);u.deckIds=a.concat(n.deckIds),u.deckKeys=s.concat(n.deckKeys),u.deckRows=l.concat(n.deckRows),u.userPackDecks=o({},c,n.userPackDecks),t.setState({currentPack:u,decksPageIndex:e,decksPageSize:i})},c=function(){t.getCurrentMixStats(function(){t.handleDeckSelectionChange(),t.setState({isProcessingDeckPagination:!1},function(){e&&e()})})};this.setState({isProcessingDeckPagination:!0},function(){C.default.getRemainingPages(s,i,a,r,l,c)})}},{key:"getInitialPackLearnerPage",value:function(e){this.getCurrentPackLearnerPages(e,!0)}},{key:"getRemainingCurrentPackLearnerPages",value:function(e){this.getCurrentPackLearnerPages(e,!1)}},{key:"getAllCurrentPackLearnerPages",value:function(e){this.getCurrentPackLearnerPages(e,!1,!0)}},{key:"getCurrentPackLearnerPages",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=this.state.currentPackId,i=this.state.currentPack.subscriberCount,a=this.MORE_LEARNERS_PAGE_SIZE,s=(Math.ceil(i/a),n||r?1:this.INITIAL_LEARNERS_PAGE_SIZE/a+1),l="lastName"==this.state.learnersSortColumn?"users.last_name":"users.first_name",c=this.state.learnersSortDirection,u=this.state.learnersFilterText,d=function(e,n,r){var i={direction:c,filter:u,page:n,perPage:e,sort:l};t.Pack.learners(o,i).then(function(e){r&&r(n,e)}).catch(function(e){return console.log("Pack Learners",e)})},p=function(e,r){var o=t.state.currentPackLearners&&e>1?[].concat(M(t.state.currentPackLearners)):[];o=o.concat(r.learners);var s=""==u&&o.length==i;t.setState({areLearnersFullyPopulated:s,currentPackLearners:o,learnersPageIndex:e,learnersPageSize:a,locallyFilteredLearners:o},function(){n&&h()})},f=function(){t.setState({areLearnersFullyPaginated:!0,areLearnersFullyPopulated:""==u,isProcessingLearnerPagination:!1},function(){e&&e()})},h=function(){var e=a>=i;t.setState({areLearnersFullyPaginated:e,isLoadingPackLearners:!1,isProcessingLearnerPagination:!1})};this.setState({isProcessingLearnerPagination:!0},function(){n?C.default.getPage(d,t.INITIAL_LEARNERS_PAGE_SIZE,s,p):r?C.default.getAllPages(d,a,i,p,f):C.default.getRemainingPages(d,a,s,i,p,f)})}},{key:"localSortLearners",value:function(e){var t=this.state.learnersSortDirection||"asc",n=this.state.learnersSortColumn||"lastName",r=(this.state.learnersFilterText?[].concat(M(this.state.locallyFilteredLearners)):[].concat(M(this.state.currentPackLearners))).sort(function(e,r){return"asc"==t?e[n]>r[n]?1:-1:e[n]<r[n]?1:-1});this.setState({locallyFilteredLearners:r},function(){e&&e()})}},{key:"localFilterLearners",value:function(e){var t,n=this.state.learnersFilterText.toLowerCase(),r=[].concat(M(this.state.currentPackLearners));t=n.length>0?r.filter(function(e){return-1!=e.firstName.toLowerCase().indexOf(n)||-1!=e.lastName.toLowerCase().indexOf(n)}):r,this.setState({locallyFilteredLearners:t},function(){e&&e()})}},{key:"localFilterUserPacks",value:function(e){var t,n=this.state.userPacksFilterText.toLowerCase(),r=[].concat(M(this.state.userPacks));t=n.length>0?r.filter(function(e){return-1!=e.name.toLowerCase().indexOf(n)}):r,this.setState({locallyFilteredUserPacks:t},function(){e&&e()})}},{key:"dismissCreateDeckModal",value:function(){this.setState({isCreateDeckModalOpen:!1,isProcessingCreateDeck:!1})}},{key:"dismissCreatePackModal",value:function(){this.setState({isCreatePackModalOpen:!1,isProcessingCreatePack:!1})}},{key:"getFirstStudyFtuePhase",value:function(){return this.state.isMobileViewportSize&&"index"==this.state.currentView?"classesHelp":this.state.currentPack.hasDecks?this.state.currentPack.cardCount<1?"cardHelp":"studyHelp1":"deckHelp"}},{key:"getNextStudyFtuePhase",value:function(){return this.state.currentPack.hasDecks?this.state.currentPack.cardCount<1?"cardHelp":"studyHelp2":"deckHelp"}},{key:"getReplacementPackId",value:function(e){for(var t=this.state.userPacks,n=null,r=0;r<t.length;r++)if(t[r].id!=e){n=t[r].id;break}return n}},{key:"getTabIdFromPath",value:function(e){var t=e.split("/"),n=t.pop()||t.pop();return this.getValidTabId(n)}},{key:"getValidTabId",value:function(e){return-1!="about decks learners".indexOf(e)?e:"decks"}},{key:"manageViewport",value:function(){O.default.adjustViewportHeight();var e=O.default.detectIfMobileSize();this.setState({currentView:this.props.initialView,isMobileViewportSize:e})}},{key:"popHistory",value:function(e){e.stopPropagation();var t=e.state;t&&t.path&&this.showPackDetail(t.packId,this.getTabIdFromPath(t.path))}},{key:"removePackFromLocalStores",value:function(e){for(var t=[].concat(M(this.state.userPacks)),n=0;n<t.length;n++)if(t[n].id==e){t.splice(n,1);break}this.setState({locallyFilteredUserPacks:t,userPacks:t}),this.Library.removePack(this.state.userId,e)}},{key:"scrollSidebarToCurrentPack",value:function(){var e=document.querySelector(".dashboard-sidebar .sidebar-pack.is-selected");e&&(e.scrollIntoView(),this.setState({shouldShowUserPacksFilter:!0,shouldMonitorSidebarScrolling:!0}))}},{key:"setupFtue",value:function(){return this.props.isFtue&&"create"==this.props.intent||"make-flashcards"==this.props.intent?(this.setState({createFtuePhase:"packHelp",currentView:"index",isCreateFtueActive:!0}),!0):this.props.isFtue&&"study"==this.props.intent||"make-me-smarter"==this.props.intent?(this.setState({isStudyFtueActive:!0,studyFtuePhase:this.getFirstStudyFtuePhase()}),!0):!!this.props.shouldShowGetTheAppModal&&(this.triggerGetTheAppModalOpen({}),!0)}},{key:"startHistoryMonitor",value:function(){var e=this;window.addEventListener("popstate",function(t){return e.popHistory(t)})}},{key:"stopHistoryMonitor",value:function(){var e=this;window.removeEventListener("popstate",function(t){return e.popHistory(t)})}},{key:"updateDashboardPackDetailTabPref",value:function(e){this.Library.updateUserLocalPrefs(this.state.userId,"dashboardPackDetailTabPref",e)}}]),t}();t.default=A,e.exports=t.default},function(e,t,n){"use strict";(function(r){var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){return e&&e.__esModule?e:{default:e}}(n(20)),s=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":o(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":o(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),i(t,[{key:"index",value:function(e){var t=this.buildUrl("/api/categories/",e.params);return r.ajax({type:"GET",url:t}).done(function(t,n){var r=t.data.map(function(e,t){return{name:e.name,browsePath:"/learn/"+e.url,iconUrl:e.thumb,id:e.id}});e.done(r)}).fail(function(t,n){e.fail(n)})}},{key:"show",value:function(e){var t=this.buildUrl("/api/categories/"+e.id,e.params);return r.ajax({type:"GET",url:t}).done(function(t,n){e.done(t)}).fail(function(t,n){e.fail(n)})}},{key:"enroll",value:function(e){var t=this.buildUrl("/api/categories/"+e.id+"/enrollment",e.params);return r.ajax({type:"POST",url:t}).done(function(t,n){e.done(t)}).fail(function(t,n){e.fail(n)})}}]),t}();t.default=s,e.exports=t.default}).call(t,n(9))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(608);t.boldCommand=r.boldCommand;var o=n(609);t.italicCommand=o.italicCommand;var i=n(610);t.strikeThroughCommand=i.strikeThroughCommand;var a=n(611);t.headerCommand=a.headerCommand;var s=n(612);t.linkCommand=s.linkCommand;var l=n(613);t.quoteCommand=l.quoteCommand;var c=n(614);t.codeCommand=c.codeCommand;var u=n(615);t.imageCommand=u.imageCommand;var d=n(616);t.checkedListCommand=d.checkedListCommand,t.orderedListCommand=d.orderedListCommand,t.unorderedListCommand=d.unorderedListCommand,t.getDefaultCommands=function(){return[{commands:[a.headerCommand,r.boldCommand,o.italicCommand,i.strikeThroughCommand]},{commands:[s.linkCommand,l.quoteCommand,c.codeCommand,u.imageCommand]},{commands:[d.unorderedListCommand,d.orderedListCommand,d.checkedListCommand]}]}},function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(288)),r(n(187)),r(n(289)),r(n(290)),r(n(617)),r(n(618)),r(n(621)),r(n(622)),r(n(292))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o=n(53);t.ToolbarButtonGroup=function(e){return r.createElement("ul",{className:o.classNames("mde-header-group",{hidden:e.hidden})},e.children)}},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),a=n(187),s={tabIndex:-1},l=function(e){function t(t){var n=e.call(this,t)||this;return n.handleGlobalClick=function(e){n.clickedOutside(e)&&n.closeDropdown()},n.openDropdown=function(){n.setState({open:!0})},n.clickedOutside=function(e){var t=e.target;return n.state.open&&n.dropdown&&n.dropdownOpener&&!n.dropdown.contains(t)&&!n.dropdownOpener.contains(t)},n.handleOnClickCommand=function(e,t){(0,n.props.onCommand)(t),n.closeDropdown()},n.handleClick=function(){n.state.open?n.closeDropdown():n.openDropdown()},n.state={open:!1},n}return r(t,e),t.prototype.componentDidMount=function(){document.addEventListener("click",this.handleGlobalClick,!1)},t.prototype.componentWillUnmount=function(){document.removeEventListener("click",this.handleGlobalClick,!1)},t.prototype.closeDropdown=function(){this.setState({open:!1})},t.prototype.render=function(){var e=this,t=this.props,n=t.getIcon,r=t.commands,l=t.readOnly,c=this.state.open,u=r.map(function(t,r){return i.createElement(a.ToolbarButton,{key:"header-item"+r,name:t.name,buttonProps:t.buttonProps,buttonContent:t.icon?t.icon(n):n(t.name),onClick:function(n){return e.handleOnClickCommand(n,t)},readOnly:l})}),d=c?i.createElement("ul",{className:"react-mde-dropdown",ref:function(t){e.dropdown=t}},u):null,p=this.props,f=p.buttonContent,h=p.buttonProps,m=o(o({},s),h||{});return i.createElement("li",{className:"mde-header-item"},i.createElement("button",o({type:"button"},m,{ref:function(t){e.dropdownOpener=t},onClick:this.handleClick,disabled:l}),f),d)},t}(i.Component);t.ToolbarDropdown=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0);t.MdeFontAwesomeIcon=function(e){var t=e.icon,n=t;switch(t){case"header":n="heading";break;case"quote":n="quote-right";break;case"unordered-list":n="tasks";break;case"ordered-list":n="list-ol";break;case"checked-list":n="tasks";break;default:n=t}return r.createElement("i",{className:"fas fa-"+n,"aria-hidden":"true"})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.insertText=function(e,t){if(e.focus(),document.selection){var n=document.selection.createRange();return n.text=t,n.collapse(!1),void n.select()}if(!document.execCommand("insertText",!1,t)){var r=e.selectionStart,o=e.selectionEnd;if("function"==typeof e.setRangeText)e.setRangeText(t);else if(function(e){if("TEXTAREA"!==e.nodeName)return!1;var t;if(void 0===t){var n=document.createElement("textarea");n.value="1",t=!!n.firstChild}return t}(e)){var i=document.createTextNode(t),a=e.firstChild;if(a){for(var s=0,l=null,c=null,u=document.createRange();a&&(null===l||null===c);){var d=a.nodeValue.length;r>=s&&r<=s+d&&u.setStart(l=a,r-s),o>=s&&o<=s+d&&u.setEnd(c=a,o-s),s+=d,a=a.nextSibling}r!==o&&u.deleteContents(),u.insertNode(i)}else e.appendChild(i)}else{var p=e.value;e.value=p.slice(0,r)+t+p.slice(o)}e.setSelectionRange(r+t.length,r+t.length);var f=document.createEvent("UIEvent");f.initEvent("input",!0,!1),e.dispatchEvent(f)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o=n(0),i=n(53);t.SuggestionsDropdown=function(e){var t=e.classes,n=e.suggestions,a=e.caret,s=e.onSuggestionSelected,l=e.focusIndex,c=o.useCallback(function(e){e.preventDefault();var t=parseInt(e.currentTarget.attributes["data-index"].value);s(t)},[n]),u=o.useCallback(function(e){return e.preventDefault()},[]);return r.createElement("ul",{className:i.classNames("mde-suggestions",t),style:{left:a.left,top:a.top}},n.map(function(e,t){return r.createElement("li",{onClick:c,onMouseDown:u,key:t,"aria-selected":l===t?"true":"false","data-index":""+t},e.preview)}))}},function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(290)),r(n(626))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(30);var r=u(n(118)),o=u(n(60)),i=u(n(62)),a=u(n(158)),s=u(n(3)),l=u(n(0)),c=u(n(85));function u(e){return e&&e.__esModule?e:{default:e}}var d={cards:s.default.array.isRequired,deck:s.default.object.isRequired,flash:s.default.object,initialCard:s.default.object.isRequired,links:s.default.object.isRequired,pack:s.default.object.isRequired},p=function(e){return l.default.createElement("div",{className:"editor-page"},l.default.createElement(a.default,e),l.default.createElement(o.default,null),l.default.createElement(r.default,null),l.default.createElement(i.default,null),l.default.createElement(c.default,null))};p.propTypes=d,t.default=p,e.exports=t.default},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=l(n(213)),a=l(n(0)),s=l(n(1));function l(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":r(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={panelOpenStates:{1:!1,2:!1,3:!1}},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default.Component),o(t,[{key:"render",value:function(){var e=s.default.toClassStr(["genome-topbar",this.props.addClasses]);return a.default.createElement("div",{className:e},a.default.createElement("div",{className:"genome-topbar-panels"},this.renderGenomeTopbarPanel(1),this.renderGenomeTopbarPanel(2),this.renderGenomeTopbarPanel(3)))}},{key:"renderGenomeTopbarPanel",value:function(e){var t=this;if(e>this.props.level)return null;var n=this.getPanelData(e);return n?a.default.createElement(i.default,{key:e,panel:e,level:this.props.level,heading:n.heading,headingPath:n.heading,selectedTag:n.headingPath,tags:n.tags,isOpen:this.state.panelOpenStates[e],hasSeoTags:e==this.props.level,onToggle:function(){return t.handlePanelToggle(e)}}):null}},{key:"handlePanelToggle",value:function(e){var t=this.state.panelOpenStates[e],n={1:!1,2:!1,3:!1};n[e]=!t,this.setState({panelOpenStates:n})}},{key:"getPanelData",value:function(e){var t=document.querySelector(".genome-sidebar .non-react.panel-"+e+" .genome-sidebar-panel .sidebar-panel-heading-link");if(!t)return null;var n=t.innerText,r=t.getAttribute("href"),o=document.querySelectorAll(".genome-sidebar .non-react.panel-"+e+" .genome-sidebar-panel .tags-list .tag");if(o.length<1)return null;var i={},a=[];return o.forEach(function(e,t){var n=e.querySelector(".tag-link"),r={id:n.getAttribute("data-id"),key:n.getAttribute("data-key"),name:n.getAttribute("title"),path:n.getAttribute("data-path")};e.classList.contains("selected")&&(i=r,r.isSelected=!0),a.push(r)}),{heading:n,headingPath:r,selectedTag:i,tags:a}}}]),t}();t.default=c,e.exports=t.default},function(e,t,n){"use strict";(function(r){var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=f(n(59)),s=f(n(61)),l=f(n(2)),c=f(n(4)),u=f(n(3)),d=f(n(0)),p=f(n(51));function f(e){return e&&e.__esModule?e:{default:e}}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":o(t))&&"function"!=typeof t?e:t}var m=function(e){function t(){var e,n,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,a=Array(i),s=0;s<i;s++)a[s]=arguments[s];return n=o=h(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),Object.defineProperty(o,"handleClick",{enumerable:!0,writable:!0,value:function(){if(o.props.isUserPro){var e=[];r(".card-sel:checkbox:checked").map(function(t,n){e.push(String(r(n).data("cardid")))}),e.length<1?l.default.emitEvent("dialog-modal:open",{title:"Copy and Place",message:"Please select at least one card.",shouldSuppressCancelButton:!0}):l.default.emitEvent("copy-and-place-cards-modal-set:open",{cardIds:e,contentType:o.props.contentType,deckId:o.props.deckId,packId:o.props.packId})}else l.default.emitEvent("upgrade-modal:open",{desiredAction:"Copy and place cards",paywall:"copy_and_place_cards_market"})}}),h(o,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":o(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,d.default.Component),i(t,[{key:"render",value:function(){return d.default.createElement("div",null,d.default.createElement(c.default,{addClasses:"market-copy-place-cards-button",label:"Copy/Place Cards",onClick:this.handleClick}),d.default.createElement(a.default,null),d.default.createElement(s.default,null),d.default.createElement(p.default,null))}}]),t}();m.propTypes={contentType:u.default.string.isRequired,deckId:u.default.string.isRequired,isUserPro:u.default.bool.isRequired,packId:u.default.string.isRequired},t.default=m,e.exports=t.default}).call(t,n(9))},function(e,t,n){"use strict";(function(r){var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=l(n(0)),s=l(n(212));function l(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":o(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={certifiedSearchId:"",certifiedResults:[],ugcSearchId:"",ugcResults:[]},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":o(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default.Component),i(t,[{key:"componentDidMount",value:function(){this.fetchSearchResults(this.props.q,this.props.op)}},{key:"render",value:function(){return a.default.createElement("div",null,a.default.createElement("ul",{className:"market-search-results market certified"},this.renderCertifiedClassBars()),a.default.createElement("ul",{className:"market-search-results ugs ugc"},this.renderUgcClassBars()))}},{key:"renderCertifiedClassBars",value:function(){if(this.state.certifiedResults.length<1)return null;var e=this;return this.state.certifiedResults.map(function(t,n){return a.default.createElement(s.default,{key:n,searchId:e.state.certifiedSearchId,classData:t._source,classType:"certified"})})}},{key:"renderUgcClassBars",value:function(){if(this.state.ugcResults.length<1)return null;var e=this;return this.state.ugcResults.map(function(t,n){return a.default.createElement(s.default,{key:n,searchId:e.state.ugcSearchId,classData:t._source,classType:"ugc"})})}},{key:"fetchSearchResults",value:function(e,t){var n=this,o={api_v1_search_result:{indexes:["market","ugs"],q:e,operator:t,page:1,trim_results:!0},format:"json"};arguments.length>2&&void 0!==arguments[2]&&arguments[2]&&(o.api_v1_search_result.stub=!0),r.get("/api/search",o).done(function(e){n.setState({certifiedSearchId:e.market_results.market_search_id,certifiedResults:e.market_results.hits,ugcSearchId:e.ugs_results.ugs_search_id,ugcResults:e.ugs_results.hits})})}},{key:"stubSearchResults",value:function(e,t){console.log('USING code-pollution-free STUB Search (if it doesn\'t work, run "sudo <editor> /etc/hosts" and add "0.0.0.0<tab>localhost.brainscape.com" then visit: "http://localhost.brainscape.com:3000/learn/search?q=...") q: '+e+", op: "+t),this.fetchSearchResults(e,t,!0)}}]),t}();t.default=c,e.exports=t.default}).call(t,n(9))},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=s(n(2)),a=s(n(0));function s(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":r(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={showSignUp:!1,startScreen:""!=n.props.firstAction?1:0},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default.Component),o(t,[{key:"render",value:function(){var e=this;return a.default.createElement("div",null,a.default.createElement("a",{href:"javascript:void(0)",onClick:function(){return e.handleActionClick()},className:"start-action-link"}),a.default.createElement("p",{className:"start-action-text"},this.props.actionText),a.default.createElement("p",{className:"start-action-blurb"},this.props.actionBlurb))}},{key:"handleActionClick",value:function(){"navigate"==this.props.actionType?location.href=this.props.actionPath:this.props.newReg?i.default.emitEvent("reg:register:open",{source:this.props.source}):this.setState({showSignUp:!0})}},{key:"handleSignUpClose",value:function(){this.setState({showSignUp:!1})}}]),t}();t.default=l,e.exports=t.default},function(e,t,n){"use strict";(function(r){var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=C(n(27)),l=C(n(88)),c=C(n(94)),u=C(n(216)),d=C(n(162)),p=C(n(2)),f=C(n(217)),h=C(n(25)),m=C(n(79)),g=C(n(0)),b=C(n(172)),v=C(n(226)),y=C(n(647)),k=C(n(229)),_=C(n(230)),w=C(n(1));function C(e){return e&&e.__esModule?e:{default:e}}n(30);var S=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":o(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return Object.defineProperty(n,"renderSetReminder",{enumerable:!0,writable:!0,value:function(){var e=n.state.reminderDialogInfo;return e?g.default.createElement(b.default,{email:e.email,hours:e.hours,name:n.state.mixName,onClose:n.onSetStudyReminderClose}):null}}),Object.defineProperty(n,"handleCBRCardFailure",{enumerable:!0,writable:!0,value:function(e){var t="Unknown Error";e&&e.responseJSON&&e.responseJSON.error&&(t=e.responseJSON.error),t.indexOf("Study Break")>=0?(n.setState({cramPaywallMessage:t}),w.default.trackPaywallWarning("cram")):(alert("Study Error: "+t),location.href="/")}}),Object.defineProperty(n,"onSetStudyReminder",{enumerable:!0,writable:!0,value:function(){n.setState({reminderProcessing:!0},function(){r.ajax({method:"GET",url:"/api/study/reminder",dataType:"json"}).done(n.handleReminderDone).fail(n.handleReminderFail)})}}),Object.defineProperty(n,"handleReminderDone",{enumerable:!0,writable:!0,value:function(e){n.setState({reminderDialogInfo:e},function(){w.default.trackModalPageview("study","reminder")})}}),Object.defineProperty(n,"handleReminderFail",{enumerable:!0,writable:!0,value:function(e){var t="Unknow Error";e&&e.responseJSON&&e.responseJSON.error&&(t=e.responseJSON.error),alert("Study Reminder Error: "+t)}}),Object.defineProperty(n,"handleCardUpdated",{enumerable:!0,writable:!0,value:function(e){var t={},r=e.card,o=n.state.stepCard;o&&o.cardId==r.cardId&&(t.stepCard=i({},o,{question:r.question,answer:r.answer}));var a=n.state.previousStepCard;a&&a.cardId==r.cardId&&(t.previousStepCard=i({},a,{question:r.question,answer:r.answer})),Object.keys(t).length>0&&n.setState(t)}}),Object.defineProperty(n,"onSetStudyReminderClose",{enumerable:!0,writable:!0,value:function(){n.setState({reminderDialogInfo:null,reminderProcessing:!1})}}),Object.defineProperty(n,"onSkipTheBreak",{enumerable:!0,writable:!0,value:function(){n.setState({showUpgradeDialog:!0,upgradePaywall:"cram_pricing"},function(){w.default.trackPaywallWarning("cram_skip")})}}),Object.defineProperty(n,"handleCramUpgradeCancellation",{enumerable:!0,writable:!0,value:function(){n.setState({showUpgradeDialog:!1},function(){w.default.navigate("/")})}}),Object.defineProperty(n,"handleCramUpgradeResolution",{enumerable:!0,writable:!0,value:function(){n.setState({showUpgradeDialog:!1})}}),Object.defineProperty(n,"finishStudyRound",{enumerable:!0,writable:!0,value:function(e,t){var r=t.card,o=t.cramPaywallMessage,i=n.calculateRoundStats(e),a=i.roundConfidenceGained,s=i.roundElapsedTime,l=i.roundStepRatings,c=n.calculateSessionStats(a,s),u=c.sessionConfidenceGained,d=c.sessionElapsedTime,p=c.sessionMastery,f=c.sessionRatingLevelCounts,h=n.calculateMixStats(u,d),m=h.mixCardsStudied,g=h.mixMastery,b=h.mixRatingLevelCounts,v=h.mixTimeToComplete;n.setState({classCreator:t.classCreator,roundConfidenceGained:a,roundElapsedTime:s,roundStepIndex:n.state.roundStepIndex+1,roundStepRatings:l,mixCardsStudied:m,mixMastery:g,mixRatingLevelCounts:b,mixTimeToComplete:v,nextRoundFirstStepCard:r,sessionConfidenceGained:u,sessionElapsedTime:d,sessionMastery:p,sessionRatingLevelCounts:f},function(){n.openCheckpoint(),n.requestNextStudyRound(),o?(n.setState({cramPaywallMessage:o}),w.default.trackPaywallWarning("cram")):n.props.isFtse&&!n.ftseCheckpointShown?(w.default.trackStudyProgress("ftse_checkpoint"),n.ftseCheckpointShown=!0):w.default.trackStudyProgress("round_checkpoint")})}}),n.state={classCreator:e.classCreator,cramPaywallMessage:null,dashboardPath:"/",firstMixPackId:null,isAnswerShowing:!1,isClosingStudyMix:!1,isContinuousStudyEnabled:!1,isMixRestricted:!1,isMobileViewportSize:!1,isUserMixAdmin:!1,isUserPro:!1,libraryPath:"/",mixCardCount:0,mixCardsStudied:0,mixDeckCount:0,mixDecks:null,mixDescription:null,mixIconUrl:null,mixFullname:null,mixMastery:0,mixName:"Study Mix",mixPackCount:0,mixRatingLevelCounts:[],mixRoundCount:0,mixTimeToComplete:0,mixType:null,nextRoundFirstStepCard:null,preRoundStepRatings:[0],reminderDialogInfo:null,reminderProcessing:!1,roundConfidenceGained:0,roundElapsedTime:0,roundStartTime:null,roundStepCount:10,roundStepIndex:0,roundStepRatings:[0],sessionConfidenceGained:0,sessionElapsedTime:0,sessionMastery:0,sessionRatingLevelCounts:[],sessionRatings:{},showUpgradeDialog:!1,stepCard:null,stepConfidenceLevel:0,stepData:null,stepDeckCardCount:0,stepDeckCardIndex:0,stepDeck:null,upgradePaywall:null,userId:null,checkpointType:"fullScreen",isAtCheckpoint:!1,nextCheckpointType:"fullScreen",roundEndConfidenceGained:0,shouldAnimateCheckpointMessaging:!1,shouldCloseCheckpoint:!1,shouldCompressRoundEndConfidence:!1,shouldDimRoundEndConfidence:!1,shouldPulseNextRoundButton:!1,shouldShowRoundEndConfidence:!1,ftseAnswerCardbarRating:0,ftsePostCbrBubbleAction:null,shouldClosePreExitBubble:!1,shouldPulseAnswerCardbar:!1,shouldPulseQuestionCardbar:!1,shouldShowPreExitBubble:!1,wasAnswerCardbarClicked:!1,wasPreExitBubbleShown:!1,wasQuestionCardbarClicked:!1},n.Library=new h.default,n.StudyMix=new y.default({isFtse:n.props.isFtse}),n.events=new p.default,n._isMounted=!1,n.ftseCheckpointShown=!1,n.postRoundTimeout=null,n.preCheckpointAnimationsTimeout=null,n.preResetMetersTimeout=null,n.preCompressRoundEndConfidenceTimeout=null,n.prePulseNextRoundButtonTimeout=null,n.resetStepRatingsInterval=null,n.STEPS_PER_ROUND=10,n.STEP_RESET_INTERVAL=35,n.MASTERY_COUNT_UP_INTERVAL=150,n.FULL_SCREEN_POST_ROUND_DELAY=400,n.SIDEBAR_POST_ROUND_DELAY=100,n.PRE_CHECKPOINT_ANIMATION_DELAY=750,n.CHECKPOINT_ANIMATION_DURATION=300,n.BUILD_MASTERY_DURATION=1200,n.PRE_COMPRESS_ROUND_END_CONFIDENCE_DELAY=0,n.COMPRESS_ROUND_END_CONFIDENCE_DURATION=300,n.PRE_RESET_METERS_DELAY=0,n.RESET_METERS_DURATION=n.STEP_RESET_INTERVAL*n.STEPS_PER_ROUND,n.PRE_PULSE_NEXT_ROUND_BUTTON_DELAY=1300,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":o(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,g.default.Component),a(t,[{key:"componentDidMount",value:function(){this._isMounted=!0,this.clearTimeoutsAndIntervals(),this.setupNewStudyMix(),this.manageViewport(),this.events.addListener("card:updated",this.handleCardUpdated)}},{key:"componentWillUnmount",value:function(){this.events.disable(),this._isMounted=!1,this.clearTimeoutsAndIntervals()}},{key:"render",value:function(){var e=w.default.toClassStr(["study-page",this.props.addClasses]);return g.default.createElement("div",{className:e},this.renderStudySidebar(),this.renderStudyCardTable(),this.renderBrowserCompatibilityModal(),this.renderCheckpointBubble(),this.renderCramPaywallBubble(),this.renderFtseMessaging(),this.renderUpgradeDialog(),this.renderSetReminder(),g.default.createElement(m.default,null),g.default.createElement(k.default,{isUserPro:this.state.isUserPro}))}},{key:"renderStudySidebar",value:function(){var e=this;return g.default.createElement(_.default,{buildMasteryDuration:this.BUILD_MASTERY_DURATION,checkpointType:this.state.checkpointType,isAtCheckpoint:this.state.isAtCheckpoint,isContinuousStudyEnabled:this.state.isContinuousStudyEnabled,isMixRestricted:this.state.isMixRestricted,isMobileViewportSize:this.state.isMobileViewportSize,isUserMixAdmin:this.state.isUserMixAdmin,isUserPro:this.state.isUserPro,mixCardCount:this.state.mixCardCount,mixCardsStudied:this.state.mixCardsStudied,mixDeckCount:this.state.mixDeckCount,mixDecks:this.state.mixDecks,mixDescription:this.state.mixDescription,mixFullname:this.state.mixFullname,mixIconUrl:this.state.mixIconUrl,mixMastery:this.state.mixMastery,mixName:this.state.mixName,mixRatingLevelCounts:this.state.mixRatingLevelCounts,mixRoundCount:this.state.mixRoundCount,mixTimeToComplete:this.state.mixTimeToComplete,mixType:this.state.mixType,onCheckpointClosed:function(){return e.finishCloseCheckpoint()},onCloseStudyMixRequest:function(){return e.handleBackToLibraryRequest()},onDismissSidebarCheckpoint:function(){return e.handleDismissSidebarCheckpoint()},onResetMixStats:function(){return e.handleResetMixStats()},onSetStudyMixTypeRequest:function(t){return e.handleSetStudyMixTypeRequest(t)},onNextRoundRequest:function(){return e.handleNextRoundRequest()},onToggleContinuousStudy:function(){return e.handleToggleContinuousStudy()},preRoundStepRatings:this.state.preRoundStepRatings,roundConfidenceGained:this.state.roundConfidenceGained,roundElapsedTime:this.state.roundElapsedTime,roundEndConfidenceGained:this.state.roundEndConfidenceGained,roundStepCount:this.state.roundStepCount,roundStepIndex:this.state.roundStepIndex,roundStepRatings:this.state.roundStepRatings,sessionElapsedTime:this.state.sessionElapsedTime,sessionMastery:this.state.sessionMastery,sessionRatings:this.state.sessionRatings,sessionRatingLevelCounts:this.state.sessionRatingLevelCounts,shouldCloseCheckpoint:this.state.shouldCloseCheckpoint,shouldCompressRoundEndConfidence:this.state.shouldCompressRoundEndConfidence,shouldDimRoundEndConfidence:this.state.shouldDimRoundEndConfidence,shouldPulseNextRoundButton:this.state.shouldPulseNextRoundButton,shouldShowRoundEndConfidence:this.state.shouldShowRoundEndConfidence,stepCard:this.state.stepCard,userId:this.state.userId})}},{key:"renderStudyCardTable",value:function(){var e=this;return g.default.createElement(v.default,{authenticityToken:this.props.authenticityToken,isAnswerShowing:this.state.isAnswerShowing,isAtCheckpoint:this.state.isAtCheckpoint,isClosingStudyMix:this.state.isClosingStudyMix,isUserPro:this.state.isUserPro,mixName:this.state.mixName,nextStepCard:this.state.nextStepCard,nextStepConfidenceLevel:this.state.nextStepConfidenceLevel,onAnswerCardbarClick:function(t,n){return e.handleAnswerCardbarClick(t,n)},onCardFlipRequest:function(){return e.handleCardFlipRequest()},onCloseStudyMixRequest:function(){return e.handleBackToLibraryRequest()},onConfidenceRating:function(t,n){return e.handleConfidenceRating(t,n)},onQuestionCardbarClick:function(){return e.handleQuestionCardbarClick()},shouldPulseAnswerCardbar:this.state.shouldPulseAnswerCardbar,shouldPulseQuestionCardbar:this.state.shouldPulseQuestionCardbar,stepCard:this.state.stepCard,stepConfidenceLevel:this.state.stepConfidenceLevel,stepData:this.state.stepData,stepDeckCardCount:this.state.stepDeckCardCount,stepDeckCardIndex:this.state.stepDeckCardIndex,stepDeckName:this.state.stepDeckName})}},{key:"renderBrowserCompatibilityModal",value:function(){return this.state.userId?g.default.createElement(l.default,{userId:this.state.userId}):null}},{key:"renderCheckpointBubble",value:function(){var e=this;if(!this.state.isAtCheckpoint||"sidebar"==this.state.checkpointType)return null;if(this.state.cramPaywallMessage)return null;var t=this.state.shouldAnimateCheckpointMessaging?"animate-messaging":"",n=w.default.toClassStr(["checkpoint-bubble",this.props.addClasses]);return g.default.createElement(s.default,{addClasses:n,expansionDelay:500,isEscapeKeyActive:!0,isScriptedClose:!0,onClose:function(){return e.finishCloseCheckpoint()},onCloseRequest:function(){return e.handleNextRoundRequest()},shouldAutoContract:!1,shouldClose:this.state.shouldCloseCheckpoint,shouldContract:!0,shouldExpand:!0,size:"full"},g.default.createElement(c.default,{addClasses:t,buildMasteryDuration:this.BUILD_MASTERY_DURATION,checkpointType:this.state.checkpointType,isContinuousStudyEnabled:this.state.isContinuousStudyEnabled,isMixRestricted:this.state.isMixRestricted,isMobileViewportSize:this.state.isMobileViewportSize,isUserPro:this.state.isUserPro,mixCardCount:this.state.mixCardCount,mixCardsStudied:this.state.mixCardsStudied,mixMastery:this.state.mixMastery,mixName:this.state.mixName,mixRatingLevelCounts:this.state.mixRatingLevelCounts,mixRoundCount:this.state.mixRoundCount,mixTimeToComplete:this.state.mixTimeToComplete,onNextRoundRequest:function(){return e.handleNextRoundRequest()},onCheckpointClosed:function(){return e.finishCloseCheckpoint()},onCloseStudyMixRequest:function(){return e.handleCloseStudyMix()},onDismissSidebarCheckpoint:function(){return e.handleDismissSidebarCheckpoint()},onToggleContinuousStudy:function(){return e.handleToggleContinuousStudy()},roundElapsedTime:this.state.roundElapsedTime,sessionElapsedTime:this.state.sessionElapsedTime,sessionMastery:this.state.sessionMastery,sessionRatings:this.state.sessionRatings,sessionRatingLevelCounts:this.state.sessionRatingLevelCounts,shouldCloseCheckpoint:this.state.shouldCloseCheckpoint,shouldPulseNextRoundButton:this.state.shouldPulseNextRoundButton,stepCard:this.state.stepCard}))}},{key:"renderCramPaywallBubble",value:function(){var e=this.state.cramPaywallMessage;return e?g.default.createElement(u.default,{message:e,onClose:function(){window.location="/"},onSetStudyReminder:this.onSetStudyReminder,onSkipTheBreak:this.onSkipTheBreak,reminderProcessing:this.state.reminderProcessing}):null}},{key:"renderFtseMessaging",value:function(){var e=this;if(!this.props.isFtse||this.state.mixRoundCount>1)return null;var t=5==this.state.roundStepIndex;return g.default.createElement(f.default,{ftseAnswerCardbarRating:this.state.ftseAnswerCardbarRating,ftsePostCbrBubbleAction:this.state.ftsePostCbrBubbleAction,isAtRoundMidpoint:t,onAnswerCardbarPulseTrigger:function(){return e.handleAnswerCardbarPulseTrigger()},onConfirmCloseStudyMix:function(){return e.handleCloseStudyMix()},onPreExitBubbleClosed:function(){return e.handlePreExitBubbleClosed()},onPreExitBubbleDismissed:function(){return e.handlePreExitBubbleDismissed()},onQuestionCardbarPulseTrigger:function(){return e.handleQuestionCardbarPulseTrigger()},roundStepIndex:this.state.roundStepIndex,shouldClosePreExitBubble:this.state.shouldClosePreExitBubble,shouldShowPreExitBubble:this.state.shouldShowPreExitBubble,stepCard:this.state.stepCard,stepConfidenceLevel:this.state.stepConfidenceLevel,wasAnswerCardbarClicked:this.state.wasAnswerCardbarClicked,wasQuestionCardbarClicked:this.state.wasQuestionCardbarClicked})}},{key:"renderUpgradeDialog",value:function(){if(this.state.showUpgradeDialog)return g.default.createElement(d.default,{classCreator:this.props.classCreator,isHardPaywall:!0,isOpen:this.state.showUpgradeDialog,onCloseRequest:this.handleCramUpgradeCloseRequest,onHardPaywallCancellationRequest:this.handleCramUpgradeCancellation,onHardPaywallResolutionRequest:this.handleCramUpgradeResolution,paywall:"cram_pricing"})}},{key:"handleCardFlipRequest",value:function(){var e=!this.state.isAnswerShowing;this.setState({isAnswerShowing:e}),this.state.isAtCheckpoint&&"sidebar"==this.state.checkpointType&&this.closeCheckpoint()}},{key:"handleConfidenceRating",value:function(e,t){var n=this,r=this.state.sessionRatings;r[e]=t,this.setState({sessionRatings:r,stepConfidenceLevel:t},function(){n.StudyMix.rateAndAdvance({cardId:e,level:t,done:function(e){n.state.roundStepIndex<n.state.roundStepCount-1?n.setupNextStep(t,e):n.handleEndOfRound(t,e)},fail:function(e){return n.handleCBRCardFailure(e)}})})}},{key:"handleEndOfRound",value:function(e,t){var n=this;this.setupNextStep(e,t,function(){clearTimeout(n.postRoundTimeout);var r="fullScreen"==n.state.nextCheckpointType?n.FULL_SCREEN_POST_ROUND_DELAY:n.SIDEBAR_POST_ROUND_DELAY;n.postRoundTimeout=setTimeout(function(){n.finishStudyRound(e,t)},r)})}},{key:"handleNextRoundRequest",value:function(){this.requestNextStudyRound(),this.state.isAtCheckpoint&&this.closeCheckpoint()}},{key:"handleToggleContinuousStudy",value:function(){var e=this,t=!this.state.isContinuousStudyEnabled,n=t?"sidebar":"fullScreen";this.setState({nextCheckpointType:n,isContinuousStudyEnabled:t},function(){e.updateContinuousStudyPref(t)})}},{key:"handleBackToLibraryRequest",value:function(){this.props.isFtse&&!this.state.wasPreExitBubbleShown?this.setState({shouldShowPreExitBubble:!0,wasPreExitBubbleShown:!0}):this.handleCloseStudyMix()}},{key:"handleDismissSidebarCheckpoint",value:function(){this.closeCheckpoint()}},{key:"handleCloseStudyMix",value:function(){var e=this;this.setState({isClosingStudyMix:!0},function(){var t="dashboard"==w.default.getQueryParam(location.href,"origin");location.href=t?e.state.dashboardPath:e.state.libraryPath})}},{key:"handlePreExitBubbleDismissed",value:function(){this.setState({shouldClosePreExitBubble:!0})}},{key:"handlePreExitBubbleClosed",value:function(){this.setState({shouldClosePreExitBubble:!1,shouldShowPreExitBubble:!1})}},{key:"handleAnswerCardbarPulseTrigger",value:function(){this.setState({shouldPulseAnswerCardbar:!0})}},{key:"handleQuestionCardbarPulseTrigger",value:function(){this.setState({shouldPulseQuestionCardbar:!0})}},{key:"handleAnswerCardbarClick",value:function(e,t){this.setState({wasAnswerCardbarClicked:!0,ftseAnswerCardbarRating:e,ftsePostCbrBubbleAction:t,shouldPulseAnswerCardbar:!1})}},{key:"handleQuestionCardbarClick",value:function(){this.setState({wasQuestionCardbarClicked:!0,shouldPulseQuestionCardbar:!1})}},{key:"handleResetMixStats",value:function(){this.setupNewStudyMix()}},{key:"handleSetStudyMixTypeRequest",value:function(e){var t="random"==e?"random":"progressive";this.Library.setPackStudyMixType(this.state.userId,this.state.firstMixPackId,t),this.setupNewStudyMix(t)}},{key:"setupNewStudyMix",value:function(e){var t=this,n=new URLSearchParams(window.location.search),r=n.get("classes"),o=e||n.get("type");this.StudyMix.create({classes:r,mixType:o,done:function(e){w.default.fireGaEvent("study_mix",o),t.setupStudyMixMetadata(e),t.startStudyMix()},fail:this.handleCBRCardFailure})}},{key:"setupStudyMixMetadata",value:function(e){var t=this;this.StudyMix.getMixMetadata(function(n){t.setState({dashboardPath:n.dashboardPath||"/",firstMixPackId:n.firstMixPackId,isMixRestricted:n.isMixRestricted||!1,isUserMixAdmin:n.isUserMixAdmin||!1,isUserPro:n.isUserPro||!1,libraryPath:n.libraryPath||"/",mixCardCount:n.mixCardCount,mixDeckCount:n.mixDeckCount,mixDecks:n.mixDecks,mixDescription:n.mixDescription||null,mixIconUrl:n.mixIconUrl||null,mixFullname:n.mixFullname||null,mixName:t.props.mixName||n.mixName||"Study Mix",mixPackCount:n.mixPackCount,mixType:e.mixType||"progressive",userId:n.userId},function(){BSC.userId=n.userId,t.setupLocalUserStudyPrefs()})})}},{key:"setupLocalUserStudyPrefs",value:function(){var e=this.getContinuousStudyEnabled()||!1,t=e?"sidebar":"fullScreen";this.setState({checkpointType:t,isContinuousStudyEnabled:e,nextCheckpointType:t})}},{key:"startStudyMix",value:function(){var e=this;this.StudyMix.start({done:function(t){e.setState({mixRoundCount:1,shouldShowStudyRoundsIntro:!0}),e.startNewStudyRound(t.card)},fail:function(t){return e.handleCBRCardFailure(t)}})}},{key:"startNewStudyRound",value:function(e){var t=this.StudyMix.getStepData(e.cardID),n=t.card.level,r=t.deck.cardIDs.length,o=t.deck.name,i=e.number,a=(Date.now(),[]),s=[];a[0]=n,s[0]=n;var l=this.StudyMix.getMastery(),c=this.StudyMix.getRatingLevelCounts();this.setState({isAnswerShowing:!1,mixMastery:l,mixRatingLevelCounts:c,preRoundStepRatings:s,roundStartTime:Date.now(),roundStepCount:this.STEPS_PER_ROUND,roundStepIndex:0,roundStepRatings:a,stepCard:e,stepConfidenceLevel:n,stepData:t,stepDeckCardCount:r,stepDeckCardIndex:i,stepDeckName:o})}},{key:"setupNextStep",value:function(e,t,n){var r=this,o=t.card,i=this.StudyMix.getStepData(o.cardID),a=i.card.level,s=i.deck.cardIDs.length,l=i.deck.name,c=o.number,u=Date.now()-this.state.roundStartTime,d=this.state.roundStepIndex,p=d+1,f=this.state.roundStepRatings,h=this.state.preRoundStepRatings;f[d]=e,f[p]=i.card.level,h[p]=i.card.level;for(var m=this.StudyMix.getMastery(),g=this.StudyMix.getRatingLevelCounts(),b=0,v=0;v<f.length;v++)b+=f[v]-h[v];this.setState({classCreator:t.classCreator,isAnswerShowing:!1,mixMastery:m,mixRatingLevelCounts:g,preRoundStepRatings:h,roundConfidenceGained:b,roundElapsedTime:u,roundStepIndex:p,roundStepRatings:f,stepCard:o,stepConfidenceLevel:a,stepData:i,stepDeckCardCount:s,stepDeckCardIndex:c,stepDeckName:l},function(){r.state.isAtCheckpoint&&"sidebar"==r.state.checkpointType&&r.closeCheckpoint(),n&&n()})}},{key:"calculateRoundStats",value:function(e){var t=Date.now()-this.state.roundStartTime,n=this.state.roundStepIndex,r=this.state.roundStepRatings,o=this.state.preRoundStepRatings;r[n]=e;for(var i=0,a=0;a<r.length;a++)i+=r[a]-o[a];return{roundConfidenceGained:i,roundElapsedTime:t,roundStepRatings:r}}},{key:"calculateSessionStats",value:function(e,t){for(var n=this.state.sessionRatings,r=Object.keys(n).map(function(e){return n[e]}).reduce(function(e,t){return e[t]=e[t]?e[t]+1:1,e},{}),o={},i=0,a=0,s=0;s<=5;s++)o[s]=r[s]||0,i+=o[s]*s,a+=5*o[s];return{sessionConfidenceGained:this.state.sessionConfidenceGained+e,sessionElapsedTime:this.state.sessionElapsedTime+t,sessionMastery:i/a,sessionRatingLevelCounts:Object.keys(o).map(function(e){return o[e]})}}},{key:"calculateMixStats",value:function(e,t){var n=this.StudyMix.getTotalCardsStudied(),r=this.StudyMix.getMastery(),o=this.StudyMix.getRatingLevelCounts(),i=void 0;if(e>0){for(var a=5*this.state.mixCardCount,s=e/t,l=0,c=1;c<=5;c++)l+=o[c]*c;i=(a-l)/s}else i=-1;return{mixCardsStudied:n,mixMastery:r,mixRatingLevelCounts:o,mixTimeToComplete:i}}},{key:"openCheckpoint",value:function(){var e=this;this.setState({checkpointType:this.state.nextCheckpointType||"fullScreen",isAtCheckpoint:!0,roundEndConfidenceGained:this.state.roundConfidenceGained,shouldCloseCheckpoint:!1,shouldShowRoundEndConfidence:!0},function(){e.performOpenCheckpointAnimations()})}},{key:"closeCheckpoint",value:function(){this.performCloseCheckpointAnimations()}},{key:"finishCloseCheckpoint",value:function(){this.setState({isAtCheckpoint:!1,mixRoundCount:this.state.mixRoundCount+1,roundConfidenceGained:0,roundElapsedTime:0,roundStartTime:Date.now()})}},{key:"requestNextStudyRound",value:function(){this.startNewStudyRound(this.state.nextRoundFirstStepCard)}},{key:"performOpenCheckpointAnimations",value:function(){var e=this;clearTimeout(this.preCheckpointAnimationsTimeout),this.preCheckpointAnimationsTimeout=setTimeout(function(){e.setState({shouldAnimateCheckpointMessaging:!0},function(){e.compressRoundEndConfidence()})},this.PRE_CHECKPOINT_ANIMATION_DELAY)}},{key:"compressRoundEndConfidence",value:function(){var e=this;clearTimeout(this.preCompressRoundEndConfidenceTimeout),this.preCompressRoundEndConfidenceTimeout=setTimeout(function(){e.setState({shouldCompressRoundEndConfidence:!0},function(){e.resetMeters()})},this.PRE_COMPRESS_ROUND_END_CONFIDENCE_DELAY)}},{key:"resetMeters",value:function(){var e=this;clearTimeout(this.preResetMetersTimeout),this.preResetMetersTimeout=setTimeout(function(){e.setState({roundConfidenceGained:0,shouldDimRoundEndConfidence:!0}),clearInterval(e.resetStepRatingsInterval);var t=e.state.roundStepRatings;e.resetStepRatingsInterval=setInterval(function(){t.pop(),e.setState({roundStepRatings:t}),t.length<=0&&(clearInterval(e.resetStepRatingsInterval),e.pulseNextRoundButton())},e.STEP_RESET_INTERVAL)},this.PRE_RESET_METERS_DELAY)}},{key:"performCloseCheckpointAnimations",value:function(){this.setState({shouldAnimateCheckpointMessaging:!1,shouldCloseCheckpoint:!0,shouldCompressRoundEndConfidence:!1,shouldDimRoundEndConfidence:!1,shouldPulseNextRoundButton:!1,shouldShowRoundEndConfidence:!1})}},{key:"pulseNextRoundButton",value:function(){var e=this;clearTimeout(this.prePulseNextRoundButtonTimeout),this.prePulseNextRoundButtonTimeout=setTimeout(function(){e.setState({shouldPulseNextRoundButton:!0})},this.PRE_PULSE_NEXT_ROUND_BUTTON_DELAY)}},{key:"manageViewport",value:function(){w.default.adjustViewportHeight(),this.setState({isMobileViewportSize:w.default.detectIfMobileSize()})}},{key:"updateContinuousStudyPref",value:function(e){this.Library.updateUserLocalPrefs(this.state.userId,"continuousStudyPref",e)}},{key:"getContinuousStudyEnabled",value:function(){var e=!this.state.isMixRestricted||this.state.isUserPro;return this.getContinuousStudyPref()&&e}},{key:"getContinuousStudyPref",value:function(){return this.Library.getUserLocalPref(this.state.userId,"continuousStudyPref")}},{key:"clearTimeoutsAndIntervals",value:function(){clearTimeout(this.postRoundTimeout),clearTimeout(this.preCheckpointAnimationsTimeout),clearTimeout(this.preResetMetersTimeout),clearTimeout(this.preCompressRoundEndConfidenceTimeout),clearTimeout(this.prePulseNextRoundButtonTimeout),clearInterval(this.resetStepRatingsInterval)}}]),t}();t.default=S,e.exports=t.default}).call(t,n(9))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(3)),o=i(n(0));function i(e){return e&&e.__esModule?e:{default:e}}var a=function(e){var t=e.disabled?null:e.onClick;return o.default.createElement("div",{className:"text-center"},o.default.createElement("button",{className:"bsc-btn bsc-btn-lg","data-disabled":e.disabled,onClick:t},e.children))};a.propTypes={disabled:r.default.bool,onClick:r.default.func.isRequired},t.default=a,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(3)),o=i(n(0));function i(e){return e&&e.__esModule?e:{default:e}}var a=function(e){return o.default.createElement("div",{className:"form-group "+e.className},o.default.createElement("input",{className:"form-control bsc-input bsc-input-lg",name:e.name,onChange:e.onChange,placeholder:e.placeholder,type:e.type||"text",value:e.value}))};a.propTypes={className:r.default.string,name:r.default.string.isRequired,onChange:r.default.func.isRequired,placeholder:r.default.string,type:r.default.string,value:r.default.any.isRequired},t.default=a,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(3)),o=i(n(0));function i(e){return e&&e.__esModule?e:{default:e}}var a=function(e){return o.default.createElement("a",{href:"javascript:;",className:"reg-link",onClick:e.onClick},e.children)};a.propTypes={onClick:r.default.func.isRequired},t.default=a,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=s(n(2)),o=s(n(96)),i=s(n(3)),a=s(n(0));function s(e){return e&&e.__esModule?e:{default:e}}var l=function(e){return a.default.createElement(o.default,{className:"login-link",onClick:function(t){r.default.emitEvent("reg:login:open",{source:e.source,subject:e.subject})}},"Log In")};l.propTypes={source:i.default.string,subject:i.default.string},t.default=l,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(269),o=l(n(2)),i=l(n(96)),a=l(n(3)),s=l(n(0));function l(e){return e&&e.__esModule?e:{default:e}}var c=function(e){var t=e.className||"register-link";return s.default.createElement(i.default,{className:t,onClick:function(t){o.default.emitEvent("reg:register:open",{categoryId:e.categoryId,packId:e.packId,returnTo:e.returnTo,source:e.source,subject:e.subject}),e.afterClick&&e.afterClick()}},e.text||"Get Started")};c.propTypes={afterClick:a.default.func,categoryId:r.IDType,className:a.default.string,packId:r.IDType,returnTo:a.default.string,source:a.default.string,subject:a.default.string,text:a.default.string},t.default=c,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(3)),o=i(n(0));function i(e){return e&&e.__esModule?e:{default:e}}var a=function(e){return o.default.createElement("div",{className:"terms"},o.default.createElement("label",null,o.default.createElement("input",{checked:e.value,name:"terms",onChange:e.onChange,type:"checkbox"}),o.default.createElement("span",null,"\xa0I accept the\xa0",o.default.createElement("a",{rel:"nofollow",href:"/terms",target:"_blank"},"Terms & Agreements"))))};a.propTypes={onChange:r.default.func.isRequired,value:r.default.bool.isRequired},t.default=a,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}(n(0));t.default=function(e){return r.default.createElement("div",{className:"new-modal-title"},e.children)},e.exports=t.default},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=s(n(3)),a=s(n(0));function s(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":r(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return Object.defineProperty(n,"handleMouseEnter",{enumerable:!0,writable:!0,value:function(e){e.stopPropagation(),n.state.isSticky||n.openTooltip()}}),Object.defineProperty(n,"handleMouseLeave",{enumerable:!0,writable:!0,value:function(e){e.stopPropagation(),n.state.isSticky||n.closeTooltip()}}),Object.defineProperty(n,"handleIconClick",{enumerable:!0,writable:!0,value:function(e){e.stopPropagation(),n.state.isOpen&&n.state.isSticky?(n.closeTooltip(),n.setState({isSticky:!1})):(n.openTooltip(),n.setState({isSticky:!0}))}}),Object.defineProperty(n,"toggleTooltip",{enumerable:!0,writable:!0,value:function(){n.setState({isOpen:!n.state.isOpen})}}),Object.defineProperty(n,"openTooltip",{enumerable:!0,writable:!0,value:function(){n.setState({isOpen:!0})}}),Object.defineProperty(n,"closeTooltip",{enumerable:!0,writable:!0,value:function(){n.setState({isOpen:!1,isSticky:!1})}}),n.state={isOpen:!1,isSticky:!1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default.Component),o(t,[{key:"render",value:function(){var e="icon-tooltip"+(this.props.addStyles?" "+this.props.addStyles:"")+(this.state.isOpen?" open":"");return a.default.createElement("div",{className:e},a.default.createElement("button",{className:"icon-tooltip-toggle",onClick:this.handleIconClick,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},"open"),a.default.createElement("div",{className:"icon-tooltip-content",onMouseLeave:this.handleMouseLeave,style:this.props.contentStyles},a.default.createElement("button",{className:"icon-tooltip-close",onClick:this.closeTooltip},"close"),a.default.createElement("h5",{className:"icon-tooltip-header"},this.props.title),this.renderBullets(),this.props.children))}},{key:"renderBullets",value:function(){if(!this.props.bullets)return null;var e=this.props.bullets.map(function(e,t){return a.default.createElement("li",{className:"icon-tooltip-bullet",key:t},e)});return a.default.createElement("ul",{className:"icon-tooltip-bullets"},e)}}]),t}();l.propTypes={addStyles:i.default.array,bullets:i.default.array,contentStyles:i.default.object,title:i.default.string.isRequired},t.default=l,e.exports=t.default},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=u(n(6)),a=u(n(4)),s=u(n(0)),l=u(n(8)),c=u(n(1));function u(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":r(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={},n._isMounted=!1,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.default.Component),o(t,[{key:"componentDidMount",value:function(){this._isMounted=!0}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"render",value:function(){var e=this;return s.default.createElement(i.default,{addClasses:"opportunities-modal",isOpen:this.props.isOpen,onCloseRequest:function(){return e.props.onCloseRequest()}},s.default.createElement("div",{className:"new-modal-title"},"Earn Money"),s.default.createElement("div",{className:"new-modal-message"},"Made some excellent content in Brainscape (or could you)?  Earn money as a Campus Rep or Verified Author!"),s.default.createElement("div",{className:"new-modal-message"},"Are you a company wanting to provide (or sell) content for study in Brainscape? Check out our reseller / licensing program."),s.default.createElement("div",{className:"new-modal-actions"},s.default.createElement(a.default,{addClasses:"resolve-modal-button",label:"Learn More",onClick:function(){return e.handleBreakMeOffButtonClick()}}),s.default.createElement(l.default,{addClasses:"cancel-modal-text-button",label:"No Thanks",onClick:function(){return e.props.onCloseRequest()}})))}},{key:"handleBreakMeOffButtonClick",value:function(){this.props.onCloseRequest(),c.default.navigate("https://brainscape.zendesk.com/hc/en-us/articles/115002370011-Can-I-earn-money-from-my-flashcards-")}}]),t}();t.default=d,e.exports=t.default},function(e,t,n){"use strict";(function(r){var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=l(n(2)),s=l(n(0));function l(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":o(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return Object.defineProperty(n,"handleChange",{enumerable:!0,writable:!0,value:function(e){var t=e.target.value;n.events.onTimeout("handleChange",125,function(){n.getSuggestionObjects(t)})}}),Object.defineProperty(n,"handleKeyDown",{enumerable:!0,writable:!0,value:function(e){switch(e.keyCode){case 13:var t=n.state.selectedSuggestion;if(t>=0)return void(window.location.href=n.state.suggestions[t].route);n.search(r(n.searchInput.current).val());break;case 40:n.selectDown();break;case 38:n.selectUp()}}}),n.state={suggestionObjects:[],suggestions:[],selectedSuggestion:-1,q:n.props.q},n.events=new a.default,n.searchInput=s.default.createRef(),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":o(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.default.Component),i(t,[{key:"handleSearch",value:function(e){void 0!==this.props.onSubmit?(e.preventDefault(),this.props.onSubmit()):this.search(this.state.q)}},{key:"componentDidMount",value:function(){this.getSuggestionObjects(this.props.q),this.searchInput.current.focus(),r(this.searchInput.current).val(this.props.q)}},{key:"componentWillUnmount",value:function(){this.events.disable()}},{key:"render",value:function(){var e,t,n=this;return this.state.suggestions.length>0?(e=this.state.suggestions.map(function(e,t){var r="";return t===n.state.selectedSuggestion&&(r="selected"),s.default.createElement("li",{key:t,className:r},s.default.createElement("a",{href:e.route},e.name))}),t=s.default.createElement("ul",null,e)):(e="",t=""),s.default.createElement("div",{className:"market-search-bar"},s.default.createElement("i",{className:"search-icon ion-ios-search-strong"}),s.default.createElement("input",{className:"search-field bsc-input bsc-input-lg",id:this.props.id,name:this.props.name,onChange:this.handleChange,onKeyDown:this.handleKeyDown,placeholder:"e.g. MCAT, pharma, bar exam, Spanish, Series 7",ref:this.searchInput,type:"text"}),this.renderDismissSuggestionsButton(),this.renderDismissSearchBarButton(),s.default.createElement("button",{className:"search-button bsc-btn bsc-btn-lg",onClick:function(e){return n.handleSearch(e)}},s.default.createElement("span",{className:"search-button-text normal"},"Search"),s.default.createElement("span",{className:"search-button-text small"},"Go")),this.renderSuggestions(e,t))}},{key:"renderDismissSuggestionsButton",value:function(){var e=this;if(this.state.suggestions.length>0)return s.default.createElement("button",{className:"dismiss-suggestions",onClick:function(){return e.dismissSuggestions()}},"Dismiss Suggestions")}},{key:"renderDismissSearchBarButton",value:function(){var e=this;return!this.props.isDismissable||this.state.suggestions.length>0?null:s.default.createElement("button",{className:"dismiss-search-bar",onClick:function(){return e.handleDismissSearchBar()}},"Dismiss Search Bar")}},{key:"renderSuggestions",value:function(e,t){return""==e?null:s.default.createElement("div",{className:"autocomplete-slide"},t)}},{key:"suggestions",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.state.suggestionObjects;return e=e||"",e=this.idempotentEncode(e.toLowerCase(),!0),r.grep(t,function(t,n){return t.name.toLowerCase().indexOf(e)>-1}).sort(function(t,n){return t.name.toLowerCase().indexOf(e)-n.name.toLowerCase().indexOf(e)})}},{key:"getSuggestionObjects",value:function(e){var t=this;e&&""!=e?this.state.suggestionObjects.length>0?this.setState({suggestions:this.suggestions(e),q:e}):r.get("/api/search_results/suggestions",{}).done(function(n){t.setState({suggestionObjects:n,suggestions:t.suggestions(e,n),q:e})}):this.dismissSuggestions()}},{key:"dismissSuggestions",value:function(){this.setState({suggestions:[]})}},{key:"handleDismissSearchBar",value:function(){document.querySelector("body").classList.remove("show-search-bar")}},{key:"idempotentDecode",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e;try{n=decodeURI(e),t&&(n=n.replace(/\%2E/g,".").replace(/\%25/g,"%"))}catch(e){}return n}},{key:"idempotentEncode",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.idempotentDecode(e,t),r=encodeURI(n);return t&&(r=r.replace(/\./g,"%2E").replace(/\%\%/g,"%25%").replace(/\%\s/g,"%25 ").replace(/\%\+/g,"%25+")),r}},{key:"search",value:function(e){var t,n=this;e&&""!=e&&(this.state.suggestions.forEach(function(r,o){r.name.toLowerCase()==e.toLowerCase()&&(t=n.idempotentEncode(r.route))}),t?window.location.href=t:window.location="/subjects/"+this.idempotentEncode(e,!0))}},{key:"selectUp",value:function(){var e=this.state.selectedSuggestion-1;e>=-1&&this.setState({selectedSuggestion:e})}},{key:"selectDown",value:function(){var e=this.state.selectedSuggestion+1;e<this.state.suggestions.length&&this.setState({selectedSuggestion:e})}}]),t}();t.default=c,e.exports=t.default}).call(t,n(9))},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=l(n(0)),a=l(n(90)),s=l(n(1));function l(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":r(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={isOpen:!1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default.Component),o(t,[{key:"render",value:function(){var e=this,t=s.default.toClassStr(["video-modal-button",this.props.addClasses]);return i.default.createElement("div",{className:t},i.default.createElement("div",{className:"play-button",onClick:function(){return e.handlePlayButtonClick()}},i.default.createElement("i",{className:"ion-ios-play"}),"Play Video"),i.default.createElement(a.default,{isOpen:this.state.isOpen,onCloseRequest:function(){return e.handleCloseVideoModalRequest()},shouldAutoPlay:this.props.shouldAutoPlay,videoUrl:this.props.videoUrl}))}},{key:"handlePlayButtonClick",value:function(){this.setState({isOpen:!0})}},{key:"handleCloseVideoModalRequest",value:function(){this.setState({isOpen:!1})}}]),t}();t.default=c,e.exports=t.default},function(module,exports){var topLevel="undefined"==typeof window?this:window;module.exports=function(className){var constructor;return constructor=topLevel[className],constructor||(constructor=eval(className)),constructor&&constructor.default&&(constructor=constructor.default),constructor}},function(e,t,n){"use strict";function r(e){return"[object Object]"===Object.prototype.toString.call(e)}t.c=function(e){switch(Object.prototype.toString.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return e instanceof Error}},t.d=function(e){return"[object ErrorEvent]"===Object.prototype.toString.call(e)},t.a=function(e){return"[object DOMError]"===Object.prototype.toString.call(e)},t.b=function(e){return"[object DOMException]"===Object.prototype.toString.call(e)},t.h=function(e){return"[object String]"===Object.prototype.toString.call(e)},t.f=function(e){return null===e||"object"!=typeof e&&"function"!=typeof e},t.e=r,t.g=function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},t.j=function(e){return Boolean(e&&e.then&&"function"==typeof e.then)},t.i=function(e){return r(e)&&"nativeEvent"in e&&"preventDefault"in e&&"stopPropagation"in e}},function(e,t,n){"use strict";(function(r){var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0},s=function(e){return e&&e.__esModule?e:{default:e}}(n(20)),l=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":o(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.memberName="Tag",a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"generateNomenclature",n).call(n),n.resourceRoute="/tags",n.schema={id:{key:"id",type:"text",label:"Id",tag:"id"},key:{key:"key",type:"text",label:"Key",tag:"key"},name:{key:"name",type:"text",label:"Name",tag:"name"},path:{key:"path",type:"text",label:"Path",tag:"path"}},n.nameKey="name",n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":o(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.default),i(t,[{key:"children",value:function(e){var t=this.buildUrl(this.getResourceUrlBase()+"/"+e.tagId+"/children.json",e.params);return r.ajax({type:"GET",url:t}).done(function(t,n){e.done(t)}).fail(function(t,n){e.fail(n)})}}]),t}();t.default=l,e.exports=t.default}).call(t,n(9))},function(e,t,n){"use strict";(function(e,n){t.c=function(e,t){return e.require(t)},t.e=o,t.g=function(){var e=o(),t=e.crypto||e.msCrypto;if(void 0!==t&&t.getRandomValues){var n=new Uint16Array(8);t.getRandomValues(n),n[3]=4095&n[3]|16384,n[4]=16383&n[4]|32768;var r=function(e){for(var t=e.toString(16);t.length<4;)t="0"+t;return t};return r(n[0])+r(n[1])+r(n[2])+r(n[3])+r(n[4])+r(n[5])+r(n[6])+r(n[7])}return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})},t.f=function(e){if(!e)return{};var t=e.match(/^(([^:\/?#]+):)?(\/\/([^\/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};var n=t[6]||"",r=t[8]||"";return{host:t[4],path:t[5],protocol:t[2],relative:t[5]+n+r}},t.d=function(e){if(e.message)return e.message;if(e.exception&&e.exception.values&&e.exception.values[0]){var t=e.exception.values[0];return t.type&&t.value?t.type+": "+t.value:t.type||t.value||e.event_id||"<unknown>"}return e.event_id||"<unknown>"},t.b=function(e){var t=o();if(!("console"in t))return e();var n=t.console,r={};["debug","info","warn","error","log","assert"].forEach(function(e){e in t.console&&n[e].__sentry__&&(r[e]=n[e].__sentry_wrapped__,n[e]=n[e].__sentry_original__)});var i=e();return Object.keys(r).forEach(function(e){n[e]=r[e]}),i},t.a=function(e,t,n,r){void 0===r&&(r={handled:!0,type:"generic"}),e.exception=e.exception||{},e.exception.values=e.exception.values||[],e.exception.values[0]=e.exception.values[0]||{},e.exception.values[0].value=e.exception.values[0].value||t||"",e.exception.values[0].type=e.exception.values[0].type||n||"Error",e.exception.values[0].mechanism=e.exception.values[0].mechanism||r};var r={};function o(){return"[object process]"===Object.prototype.toString.call(void 0!==e?e:0)?n:"undefined"!=typeof window?window:"undefined"!=typeof self?self:r}}).call(t,n(669),n(97))},function(e,t,n){var r;void 0===(r=function(){"use strict";return Object.getPrototypeOf}.call(t,n,t,e))||(e.exports=r)},function(e,t,n){var r,o;r=[n(237)],void 0===(o=function(e){"use strict";return e.call(Object)}.apply(t,r))||(e.exports=o)},function(e,t,n){var r,o;r=[n(5),n(318)],void 0===(o=function(e,t){"use strict";e.find=t,e.expr=t.selectors,e.expr[":"]=e.expr.pseudos,e.uniqueSort=e.unique=t.uniqueSort,e.text=t.getText,e.isXMLDoc=t.isXML,e.contains=t.contains,e.escapeSelector=t.escape}.apply(t,r))||(e.exports=o)},function(e,t,n){var r;!function(o){var i,a,s,l,c,u,d,p,f,h,m,g,b,v,y,k,_,w,C,S="sizzle"+1*new Date,P=o.document,E=0,x=0,O=pe(),T=pe(),M=pe(),A=pe(),j=function(e,t){return e===t&&(m=!0),0},I={}.hasOwnProperty,N=[],R=N.pop,D=N.push,L=N.push,B=N.slice,F=function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},U="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",q="[\\x20\\t\\r\\n\\f]",z="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",H="\\["+q+"*("+z+")(?:"+q+"*([*^$|!~]?=)"+q+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+z+"))|)"+q+"*\\]",V=":("+z+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+H+")*)|.*)\\)|)",W=new RegExp(q+"+","g"),G=new RegExp("^"+q+"+|((?:^|[^\\\\])(?:\\\\.)*)"+q+"+$","g"),Y=new RegExp("^"+q+"*,"+q+"*"),K=new RegExp("^"+q+"*([>+~]|"+q+")"+q+"*"),$=new RegExp(q+"|>"),Q=new RegExp(V),J=new RegExp("^"+z+"$"),X={ID:new RegExp("^#("+z+")"),CLASS:new RegExp("^\\.("+z+")"),TAG:new RegExp("^("+z+"|[*])"),ATTR:new RegExp("^"+H),PSEUDO:new RegExp("^"+V),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+q+"*(even|odd|(([+-]|)(\\d*)n|)"+q+"*(?:([+-]|)"+q+"*(\\d+)|))"+q+"*\\)|)","i"),bool:new RegExp("^(?:"+U+")$","i"),needsContext:new RegExp("^"+q+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+q+"*((?:-\\d)?\\d*)"+q+"*\\)|)(?=[^-]|$)","i")},Z=/HTML$/i,ee=/^(?:input|select|textarea|button)$/i,te=/^h\d$/i,ne=/^[^{]+\{\s*\[native \w/,re=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,oe=/[+~]/,ie=new RegExp("\\\\([\\da-f]{1,6}"+q+"?|("+q+")|.)","ig"),ae=function(e,t,n){var r="0x"+t-65536;return r!=r||n?t:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)},se=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,le=function(e,t){return t?"\0"===e?"\ufffd":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},ce=function(){g()},ue=Se(function(e){return!0===e.disabled&&"fieldset"===e.nodeName.toLowerCase()},{dir:"parentNode",next:"legend"});try{L.apply(N=B.call(P.childNodes),P.childNodes),N[P.childNodes.length].nodeType}catch(e){L={apply:N.length?function(e,t){D.apply(e,B.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}function de(e,t,n,r){var o,i,s,l,c,d,f,h=t&&t.ownerDocument,m=t?t.nodeType:9;if(n=n||[],"string"!=typeof e||!e||1!==m&&9!==m&&11!==m)return n;if(!r&&((t?t.ownerDocument||t:P)!==b&&g(t),t=t||b,y)){if(11!==m&&(c=re.exec(e)))if(o=c[1]){if(9===m){if(!(s=t.getElementById(o)))return n;if(s.id===o)return n.push(s),n}else if(h&&(s=h.getElementById(o))&&C(t,s)&&s.id===o)return n.push(s),n}else{if(c[2])return L.apply(n,t.getElementsByTagName(e)),n;if((o=c[3])&&a.getElementsByClassName&&t.getElementsByClassName)return L.apply(n,t.getElementsByClassName(o)),n}if(a.qsa&&!A[e+" "]&&(!k||!k.test(e))&&(1!==m||"object"!==t.nodeName.toLowerCase())){if(f=e,h=t,1===m&&$.test(e)){for((l=t.getAttribute("id"))?l=l.replace(se,le):t.setAttribute("id",l=S),i=(d=u(e)).length;i--;)d[i]="#"+l+" "+Ce(d[i]);f=d.join(","),h=oe.test(e)&&_e(t.parentNode)||t}try{return L.apply(n,h.querySelectorAll(f)),n}catch(t){A(e,!0)}finally{l===S&&t.removeAttribute("id")}}}return p(e.replace(G,"$1"),t,n,r)}function pe(){var e=[];return function t(n,r){return e.push(n+" ")>s.cacheLength&&delete t[e.shift()],t[n+" "]=r}}function fe(e){return e[S]=!0,e}function he(e){var t=b.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function me(e,t){for(var n=e.split("|"),r=n.length;r--;)s.attrHandle[n[r]]=t}function ge(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function be(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function ve(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function ye(e){return function(t){return"form"in t?t.parentNode&&!1===t.disabled?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&ue(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function ke(e){return fe(function(t){return t=+t,fe(function(n,r){for(var o,i=e([],n.length,t),a=i.length;a--;)n[o=i[a]]&&(n[o]=!(r[o]=n[o]))})})}function _e(e){return e&&void 0!==e.getElementsByTagName&&e}for(i in a=de.support={},c=de.isXML=function(e){var t=e.namespaceURI,n=(e.ownerDocument||e).documentElement;return!Z.test(t||n&&n.nodeName||"HTML")},g=de.setDocument=function(e){var t,n,r=e?e.ownerDocument||e:P;return r!==b&&9===r.nodeType&&r.documentElement?(v=(b=r).documentElement,y=!c(b),P!==b&&(n=b.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",ce,!1):n.attachEvent&&n.attachEvent("onunload",ce)),a.attributes=he(function(e){return e.className="i",!e.getAttribute("className")}),a.getElementsByTagName=he(function(e){return e.appendChild(b.createComment("")),!e.getElementsByTagName("*").length}),a.getElementsByClassName=ne.test(b.getElementsByClassName),a.getById=he(function(e){return v.appendChild(e).id=S,!b.getElementsByName||!b.getElementsByName(S).length}),a.getById?(s.filter.ID=function(e){var t=e.replace(ie,ae);return function(e){return e.getAttribute("id")===t}},s.find.ID=function(e,t){if(void 0!==t.getElementById&&y){var n=t.getElementById(e);return n?[n]:[]}}):(s.filter.ID=function(e){var t=e.replace(ie,ae);return function(e){var n=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}},s.find.ID=function(e,t){if(void 0!==t.getElementById&&y){var n,r,o,i=t.getElementById(e);if(i){if((n=i.getAttributeNode("id"))&&n.value===e)return[i];for(o=t.getElementsByName(e),r=0;i=o[r++];)if((n=i.getAttributeNode("id"))&&n.value===e)return[i]}return[]}}),s.find.TAG=a.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):a.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,r=[],o=0,i=t.getElementsByTagName(e);if("*"===e){for(;n=i[o++];)1===n.nodeType&&r.push(n);return r}return i},s.find.CLASS=a.getElementsByClassName&&function(e,t){if(void 0!==t.getElementsByClassName&&y)return t.getElementsByClassName(e)},_=[],k=[],(a.qsa=ne.test(b.querySelectorAll))&&(he(function(e){v.appendChild(e).innerHTML="<a id='"+S+"'></a><select id='"+S+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&k.push("[*^$]="+q+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||k.push("\\["+q+"*(?:value|"+U+")"),e.querySelectorAll("[id~="+S+"-]").length||k.push("~="),e.querySelectorAll(":checked").length||k.push(":checked"),e.querySelectorAll("a#"+S+"+*").length||k.push(".#.+[+~]")}),he(function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=b.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&k.push("name"+q+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&k.push(":enabled",":disabled"),v.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&k.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),k.push(",.*:")})),(a.matchesSelector=ne.test(w=v.matches||v.webkitMatchesSelector||v.mozMatchesSelector||v.oMatchesSelector||v.msMatchesSelector))&&he(function(e){a.disconnectedMatch=w.call(e,"*"),w.call(e,"[s!='']:x"),_.push("!=",V)}),k=k.length&&new RegExp(k.join("|")),_=_.length&&new RegExp(_.join("|")),t=ne.test(v.compareDocumentPosition),C=t||ne.test(v.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},j=t?function(e,t){if(e===t)return m=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n||(1&(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!a.sortDetached&&t.compareDocumentPosition(e)===n?e===b||e.ownerDocument===P&&C(P,e)?-1:t===b||t.ownerDocument===P&&C(P,t)?1:h?F(h,e)-F(h,t):0:4&n?-1:1)}:function(e,t){if(e===t)return m=!0,0;var n,r=0,o=e.parentNode,i=t.parentNode,a=[e],s=[t];if(!o||!i)return e===b?-1:t===b?1:o?-1:i?1:h?F(h,e)-F(h,t):0;if(o===i)return ge(e,t);for(n=e;n=n.parentNode;)a.unshift(n);for(n=t;n=n.parentNode;)s.unshift(n);for(;a[r]===s[r];)r++;return r?ge(a[r],s[r]):a[r]===P?-1:s[r]===P?1:0},b):b},de.matches=function(e,t){return de(e,null,null,t)},de.matchesSelector=function(e,t){if((e.ownerDocument||e)!==b&&g(e),a.matchesSelector&&y&&!A[t+" "]&&(!_||!_.test(t))&&(!k||!k.test(t)))try{var n=w.call(e,t);if(n||a.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(e){A(t,!0)}return de(t,b,null,[e]).length>0},de.contains=function(e,t){return(e.ownerDocument||e)!==b&&g(e),C(e,t)},de.attr=function(e,t){(e.ownerDocument||e)!==b&&g(e);var n=s.attrHandle[t.toLowerCase()],r=n&&I.call(s.attrHandle,t.toLowerCase())?n(e,t,!y):void 0;return void 0!==r?r:a.attributes||!y?e.getAttribute(t):(r=e.getAttributeNode(t))&&r.specified?r.value:null},de.escape=function(e){return(e+"").replace(se,le)},de.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},de.uniqueSort=function(e){var t,n=[],r=0,o=0;if(m=!a.detectDuplicates,h=!a.sortStable&&e.slice(0),e.sort(j),m){for(;t=e[o++];)t===e[o]&&(r=n.push(o));for(;r--;)e.splice(n[r],1)}return h=null,e},l=de.getText=function(e){var t,n="",r=0,o=e.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=l(e)}else if(3===o||4===o)return e.nodeValue}else for(;t=e[r++];)n+=l(t);return n},(s=de.selectors={cacheLength:50,createPseudo:fe,match:X,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(ie,ae),e[3]=(e[3]||e[4]||e[5]||"").replace(ie,ae),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||de.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&de.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return X.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&Q.test(n)&&(t=u(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(ie,ae).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=O[e+" "];return t||(t=new RegExp("(^|"+q+")"+e+"("+q+"|$)"))&&O(e,function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,t,n){return function(r){var o=de.attr(r,e);return null==o?"!="===t:!t||(o+="","="===t?o===n:"!="===t?o!==n:"^="===t?n&&0===o.indexOf(n):"*="===t?n&&o.indexOf(n)>-1:"$="===t?n&&o.slice(-n.length)===n:"~="===t?(" "+o.replace(W," ")+" ").indexOf(n)>-1:"|="===t&&(o===n||o.slice(0,n.length+1)===n+"-"))}},CHILD:function(e,t,n,r,o){var i="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===r&&0===o?function(e){return!!e.parentNode}:function(t,n,l){var c,u,d,p,f,h,m=i!==a?"nextSibling":"previousSibling",g=t.parentNode,b=s&&t.nodeName.toLowerCase(),v=!l&&!s,y=!1;if(g){if(i){for(;m;){for(p=t;p=p[m];)if(s?p.nodeName.toLowerCase()===b:1===p.nodeType)return!1;h=m="only"===e&&!h&&"nextSibling"}return!0}if(h=[a?g.firstChild:g.lastChild],a&&v){for(y=(f=(c=(u=(d=(p=g)[S]||(p[S]={}))[p.uniqueID]||(d[p.uniqueID]={}))[e]||[])[0]===E&&c[1])&&c[2],p=f&&g.childNodes[f];p=++f&&p&&p[m]||(y=f=0)||h.pop();)if(1===p.nodeType&&++y&&p===t){u[e]=[E,f,y];break}}else if(v&&(y=f=(c=(u=(d=(p=t)[S]||(p[S]={}))[p.uniqueID]||(d[p.uniqueID]={}))[e]||[])[0]===E&&c[1]),!1===y)for(;(p=++f&&p&&p[m]||(y=f=0)||h.pop())&&((s?p.nodeName.toLowerCase()!==b:1!==p.nodeType)||!++y||(v&&((u=(d=p[S]||(p[S]={}))[p.uniqueID]||(d[p.uniqueID]={}))[e]=[E,y]),p!==t)););return(y-=o)===r||y%r==0&&y/r>=0}}},PSEUDO:function(e,t){var n,r=s.pseudos[e]||s.setFilters[e.toLowerCase()]||de.error("unsupported pseudo: "+e);return r[S]?r(t):r.length>1?(n=[e,e,"",t],s.setFilters.hasOwnProperty(e.toLowerCase())?fe(function(e,n){for(var o,i=r(e,t),a=i.length;a--;)e[o=F(e,i[a])]=!(n[o]=i[a])}):function(e){return r(e,0,n)}):r}},pseudos:{not:fe(function(e){var t=[],n=[],r=d(e.replace(G,"$1"));return r[S]?fe(function(e,t,n,o){for(var i,a=r(e,null,o,[]),s=e.length;s--;)(i=a[s])&&(e[s]=!(t[s]=i))}):function(e,o,i){return t[0]=e,r(t,null,i,n),t[0]=null,!n.pop()}}),has:fe(function(e){return function(t){return de(e,t).length>0}}),contains:fe(function(e){return e=e.replace(ie,ae),function(t){return(t.textContent||l(t)).indexOf(e)>-1}}),lang:fe(function(e){return J.test(e||"")||de.error("unsupported lang: "+e),e=e.replace(ie,ae).toLowerCase(),function(t){var n;do{if(n=y?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(n=n.toLowerCase())===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(e){var t=o.location&&o.location.hash;return t&&t.slice(1)===e.id},root:function(e){return e===v},focus:function(e){return e===b.activeElement&&(!b.hasFocus||b.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:ye(!1),disabled:ye(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!s.pseudos.empty(e)},header:function(e){return te.test(e.nodeName)},input:function(e){return ee.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:ke(function(){return[0]}),last:ke(function(e,t){return[t-1]}),eq:ke(function(e,t,n){return[n<0?n+t:n]}),even:ke(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:ke(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:ke(function(e,t,n){for(var r=n<0?n+t:n>t?t:n;--r>=0;)e.push(r);return e}),gt:ke(function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e})}}).pseudos.nth=s.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})s.pseudos[i]=be(i);for(i in{submit:!0,reset:!0})s.pseudos[i]=ve(i);function we(){}function Ce(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function Se(e,t,n){var r=t.dir,o=t.next,i=o||r,a=n&&"parentNode"===i,s=x++;return t.first?function(t,n,o){for(;t=t[r];)if(1===t.nodeType||a)return e(t,n,o);return!1}:function(t,n,l){var c,u,d,p=[E,s];if(l){for(;t=t[r];)if((1===t.nodeType||a)&&e(t,n,l))return!0}else for(;t=t[r];)if(1===t.nodeType||a)if(u=(d=t[S]||(t[S]={}))[t.uniqueID]||(d[t.uniqueID]={}),o&&o===t.nodeName.toLowerCase())t=t[r]||t;else{if((c=u[i])&&c[0]===E&&c[1]===s)return p[2]=c[2];if(u[i]=p,p[2]=e(t,n,l))return!0}return!1}}function Pe(e){return e.length>1?function(t,n,r){for(var o=e.length;o--;)if(!e[o](t,n,r))return!1;return!0}:e[0]}function Ee(e,t,n,r,o){for(var i,a=[],s=0,l=e.length,c=null!=t;s<l;s++)(i=e[s])&&(n&&!n(i,r,o)||(a.push(i),c&&t.push(s)));return a}function xe(e,t,n,r,o,i){return r&&!r[S]&&(r=xe(r)),o&&!o[S]&&(o=xe(o,i)),fe(function(i,a,s,l){var c,u,d,p=[],f=[],h=a.length,m=i||function(e,t,n){for(var r=0,o=t.length;r<o;r++)de(e,t[r],n);return n}(t||"*",s.nodeType?[s]:s,[]),g=!e||!i&&t?m:Ee(m,p,e,s,l),b=n?o||(i?e:h||r)?[]:a:g;if(n&&n(g,b,s,l),r)for(c=Ee(b,f),r(c,[],s,l),u=c.length;u--;)(d=c[u])&&(b[f[u]]=!(g[f[u]]=d));if(i){if(o||e){if(o){for(c=[],u=b.length;u--;)(d=b[u])&&c.push(g[u]=d);o(null,b=[],c,l)}for(u=b.length;u--;)(d=b[u])&&(c=o?F(i,d):p[u])>-1&&(i[c]=!(a[c]=d))}}else b=Ee(b===a?b.splice(h,b.length):b),o?o(null,a,b,l):L.apply(a,b)})}function Oe(e){for(var t,n,r,o=e.length,i=s.relative[e[0].type],a=i||s.relative[" "],l=i?1:0,c=Se(function(e){return e===t},a,!0),u=Se(function(e){return F(t,e)>-1},a,!0),d=[function(e,n,r){var o=!i&&(r||n!==f)||((t=n).nodeType?c(e,n,r):u(e,n,r));return t=null,o}];l<o;l++)if(n=s.relative[e[l].type])d=[Se(Pe(d),n)];else{if((n=s.filter[e[l].type].apply(null,e[l].matches))[S]){for(r=++l;r<o&&!s.relative[e[r].type];r++);return xe(l>1&&Pe(d),l>1&&Ce(e.slice(0,l-1).concat({value:" "===e[l-2].type?"*":""})).replace(G,"$1"),n,l<r&&Oe(e.slice(l,r)),r<o&&Oe(e=e.slice(r)),r<o&&Ce(e))}d.push(n)}return Pe(d)}we.prototype=s.filters=s.pseudos,s.setFilters=new we,u=de.tokenize=function(e,t){var n,r,o,i,a,l,c,u=T[e+" "];if(u)return t?0:u.slice(0);for(a=e,l=[],c=s.preFilter;a;){for(i in n&&!(r=Y.exec(a))||(r&&(a=a.slice(r[0].length)||a),l.push(o=[])),n=!1,(r=K.exec(a))&&(n=r.shift(),o.push({value:n,type:r[0].replace(G," ")}),a=a.slice(n.length)),s.filter)!(r=X[i].exec(a))||c[i]&&!(r=c[i](r))||(n=r.shift(),o.push({value:n,type:i,matches:r}),a=a.slice(n.length));if(!n)break}return t?a.length:a?de.error(e):T(e,l).slice(0)},d=de.compile=function(e,t){var n,r=[],o=[],i=M[e+" "];if(!i){for(t||(t=u(e)),n=t.length;n--;)(i=Oe(t[n]))[S]?r.push(i):o.push(i);(i=M(e,function(e,t){var n=t.length>0,r=e.length>0,o=function(o,i,a,l,c){var u,d,p,h=0,m="0",v=o&&[],k=[],_=f,w=o||r&&s.find.TAG("*",c),C=E+=null==_?1:Math.random()||.1,S=w.length;for(c&&(f=i===b||i||c);m!==S&&null!=(u=w[m]);m++){if(r&&u){for(d=0,i||u.ownerDocument===b||(g(u),a=!y);p=e[d++];)if(p(u,i||b,a)){l.push(u);break}c&&(E=C)}n&&((u=!p&&u)&&h--,o&&v.push(u))}if(h+=m,n&&m!==h){for(d=0;p=t[d++];)p(v,k,i,a);if(o){if(h>0)for(;m--;)v[m]||k[m]||(k[m]=R.call(l));k=Ee(k)}L.apply(l,k),c&&!o&&k.length>0&&h+t.length>1&&de.uniqueSort(l)}return c&&(E=C,f=_),v};return n?fe(o):o}(o,r))).selector=e}return i},p=de.select=function(e,t,n,r){var o,i,a,l,c,p="function"==typeof e&&e,f=!r&&u(e=p.selector||e);if(n=n||[],1===f.length){if((i=f[0]=f[0].slice(0)).length>2&&"ID"===(a=i[0]).type&&9===t.nodeType&&y&&s.relative[i[1].type]){if(!(t=(s.find.ID(a.matches[0].replace(ie,ae),t)||[])[0]))return n;p&&(t=t.parentNode),e=e.slice(i.shift().value.length)}for(o=X.needsContext.test(e)?0:i.length;o--&&(a=i[o],!s.relative[l=a.type]);)if((c=s.find[l])&&(r=c(a.matches[0].replace(ie,ae),oe.test(i[0].type)&&_e(t.parentNode)||t))){if(i.splice(o,1),!(e=r.length&&Ce(i)))return L.apply(n,r),n;break}}return(p||d(e,f))(r,t,!y,n,!t||oe.test(e)&&_e(t.parentNode)||t),n},a.sortStable=S.split("").sort(j).join("")===S,a.detectDuplicates=!!m,g(),a.sortDetached=he(function(e){return 1&e.compareDocumentPosition(b.createElement("fieldset"))}),he(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||me("type|href|height|width",function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),a.attributes&&he(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||me("value",function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),he(function(e){return null==e.getAttribute("disabled")})||me(U,function(e,t,n){var r;if(!n)return!0===e[t]?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null});var Te=o.Sizzle;de.noConflict=function(){return o.Sizzle===de&&(o.Sizzle=Te),de},void 0===(r=function(){return de}.call(t,n,t,e))||(e.exports=r)}(window)},function(e,t,n){var r,o;r=[n(100)],void 0===(o=function(e){"use strict";return new RegExp(e.join("|"),"i")}.apply(t,r))||(e.exports=o)},function(e,t,n){var r,o;r=[n(5)],void 0===(o=function(e){"use strict";e.readyException=function(e){window.setTimeout(function(){throw e})}}.apply(t,r))||(e.exports=o)},function(e,t,n){var r,o;r=[n(5)],void 0===(o=function(e){"use strict";return function(t,n,r){for(var o=[],i=void 0!==r;(t=t[n])&&9!==t.nodeType;)if(1===t.nodeType){if(i&&e(t).is(r))break;o.push(t)}return o}}.apply(t,r))||(e.exports=o)},function(e,t,n){var r;void 0===(r=function(){"use strict";return function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}}.call(t,n,t,e))||(e.exports=r)},function(e,t,n){var r,o;r=[n(5),n(42)],void 0===(o=function(e){"use strict";var t=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;e.Deferred.exceptionHook=function(e,n){window.console&&window.console.warn&&e&&t.test(e.name)&&window.console.warn("jQuery.Deferred exception: "+e.message,e.stack,n)}}.apply(t,r))||(e.exports=o)},function(e,t,n){var r,o;r=[n(5),n(37),n(57),n(24),n(250)],void 0===(o=function(e,t,n,r,o){"use strict";var i=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,a=/[A-Z]/g;function s(e,t,n){var r;if(void 0===n&&1===e.nodeType)if(r="data-"+t.replace(a,"-$&").toLowerCase(),"string"==typeof(n=e.getAttribute(r))){try{n=function(e){return"true"===e||"false"!==e&&("null"===e?null:e===+e+""?+e:i.test(e)?JSON.parse(e):e)}(n)}catch(e){}o.set(e,t,n)}else n=void 0;return n}return e.extend({hasData:function(e){return o.hasData(e)||r.hasData(e)},data:function(e,t,n){return o.access(e,t,n)},removeData:function(e,t){o.remove(e,t)},_data:function(e,t,n){return r.access(e,t,n)},_removeData:function(e,t){r.remove(e,t)}}),e.fn.extend({data:function(e,i){var a,l,c,u=this[0],d=u&&u.attributes;if(void 0===e){if(this.length&&(c=o.get(u),1===u.nodeType&&!r.get(u,"hasDataAttrs"))){for(a=d.length;a--;)d[a]&&0===(l=d[a].name).indexOf("data-")&&(l=n(l.slice(5)),s(u,l,c[l]));r.set(u,"hasDataAttrs",!0)}return c}return"object"==typeof e?this.each(function(){o.set(this,e)}):t(this,function(t){var n;if(u&&void 0===t)return void 0!==(n=o.get(u,e))?n:void 0!==(n=s(u,e))?n:void 0;this.each(function(){o.set(this,e,t)})},null,i,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){o.remove(this,e)})}}),e}.apply(t,r))||(e.exports=o)},function(e,t,n){var r,o;r=[n(5),n(106),n(107)],void 0===(o=function(e){"use strict";return e.fn.delay=function(t,n){return t=e.fx&&e.fx.speeds[t]||t,n=n||"fx",this.queue(n,function(e,n){var r=window.setTimeout(e,t);n.stop=function(){window.clearTimeout(r)}})},e.fn.delay}.apply(t,r))||(e.exports=o)},function(e,t,n){var r,o;r=[n(5),n(24),n(251)],void 0===(o=function(e,t,n){"use strict";var r={};function o(t){var n,o=t.ownerDocument,i=t.nodeName,a=r[i];return a||(n=o.body.appendChild(o.createElement(i)),a=e.css(n,"display"),n.parentNode.removeChild(n),"none"===a&&(a="block"),r[i]=a,a)}function i(e,r){for(var i,a,s=[],l=0,c=e.length;l<c;l++)(a=e[l]).style&&(i=a.style.display,r?("none"===i&&(s[l]=t.get(a,"display")||null,s[l]||(a.style.display="")),""===a.style.display&&n(a)&&(s[l]=o(a))):"none"!==i&&(s[l]="none",t.set(a,"display",i)));for(l=0;l<c;l++)null!=s[l]&&(e[l].style.display=s[l]);return e}return e.fn.extend({show:function(){return i(this,!0)},hide:function(){return i(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){n(this)?e(this).show():e(this).hide()})}}),i}.apply(t,r))||(e.exports=o)},function(e,t,n){var r,o;r=[n(14),n(36)],void 0===(o=function(e,t){"use strict";return n=e.createDocumentFragment().appendChild(e.createElement("div")),(r=e.createElement("input")).setAttribute("type","radio"),r.setAttribute("checked","checked"),r.setAttribute("name","t"),n.appendChild(r),t.checkClone=n.cloneNode(!0).cloneNode(!0).lastChild.checked,n.innerHTML="<textarea>x</textarea>",t.noCloneChecked=!!n.cloneNode(!0).lastChild.defaultValue,t;var n,r}.apply(t,r))||(e.exports=o)},function(e,t,n){var r,o;r=[n(5),n(244),n(54)],void 0===(o=function(e,t){"use strict";function n(e,t,r,o,i){return new n.prototype.init(e,t,r,o,i)}e.Tween=n,n.prototype={constructor:n,init:function(t,n,r,o,i,a){this.elem=t,this.prop=r,this.easing=i||e.easing._default,this.options=n,this.start=this.now=this.cur(),this.end=o,this.unit=a||(e.cssNumber[r]?"":"px")},cur:function(){var e=n.propHooks[this.prop];return e&&e.get?e.get(this):n.propHooks._default.get(this)},run:function(t){var r,o=n.propHooks[this.prop];return this.options.duration?this.pos=r=e.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=r=t,this.now=(this.end-this.start)*r+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),o&&o.set?o.set(this):n.propHooks._default.set(this),this}},n.prototype.init.prototype=n.prototype,n.propHooks={_default:{get:function(t){var n;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(n=e.css(t.elem,t.prop,""))&&"auto"!==n?n:0},set:function(n){e.fx.step[n.prop]?e.fx.step[n.prop](n):1!==n.elem.nodeType||!e.cssHooks[n.prop]&&null==n.elem.style[t(n.prop)]?n.elem[n.prop]=n.now:e.style(n.elem,n.prop,n.now+n.unit)}}},n.propHooks.scrollTop=n.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},e.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},e.fx=n.prototype.init,e.fx.step={}}.apply(t,r))||(e.exports=o)},function(e,t,n){var r,o;r=[n(5),n(330),n(258),n(331),n(332)],void 0===(o=function(e){"use strict";return e}.apply(t,r))||(e.exports=o)},function(e,t,n){var r,o;r=[n(5),n(37),n(38),n(109),n(32),n(16)],void 0===(o=function(e,t,n,r,o){"use strict";var i,a=e.expr.attrHandle;e.fn.extend({attr:function(n,r){return t(this,e.attr,n,r,arguments.length>1)},removeAttr:function(t){return this.each(function(){e.removeAttr(this,t)})}}),e.extend({attr:function(t,n,r){var o,a,s=t.nodeType;if(3!==s&&8!==s&&2!==s)return void 0===t.getAttribute?e.prop(t,n,r):(1===s&&e.isXMLDoc(t)||(a=e.attrHooks[n.toLowerCase()]||(e.expr.match.bool.test(n)?i:void 0)),void 0!==r?null===r?void e.removeAttr(t,n):a&&"set"in a&&void 0!==(o=a.set(t,r,n))?o:(t.setAttribute(n,r+""),r):a&&"get"in a&&null!==(o=a.get(t,n))?o:null==(o=e.find.attr(t,n))?void 0:o)},attrHooks:{type:{set:function(e,t){if(!r.radioValue&&"radio"===t&&n(e,"input")){var o=e.value;return e.setAttribute("type",t),o&&(e.value=o),t}}}},removeAttr:function(e,t){var n,r=0,i=t&&t.match(o);if(i&&1===e.nodeType)for(;n=i[r++];)e.removeAttribute(n)}}),i={set:function(t,n,r){return!1===n?e.removeAttr(t,r):t.setAttribute(r,r),r}},e.each(e.expr.match.bool.source.match(/\w+/g),function(t,n){var r=a[n]||e.find.attr;a[n]=function(e,t,n){var o,i,s=t.toLowerCase();return n||(i=a[s],a[s]=o,o=null!=r(e,t,n)?s:null,a[s]=i),o}})}.apply(t,r))||(e.exports=o)},function(e,t,n){var r,o;r=[n(5),n(110),n(11),n(32),n(24),n(19)],void 0===(o=function(e,t,n,r,o){"use strict";function i(e){return e.getAttribute&&e.getAttribute("class")||""}function a(e){return Array.isArray(e)?e:"string"==typeof e&&e.match(r)||[]}e.fn.extend({addClass:function(r){var o,s,l,c,u,d,p,f=0;if(n(r))return this.each(function(t){e(this).addClass(r.call(this,t,i(this)))});if((o=a(r)).length)for(;s=this[f++];)if(c=i(s),l=1===s.nodeType&&" "+t(c)+" "){for(d=0;u=o[d++];)l.indexOf(" "+u+" ")<0&&(l+=u+" ");c!==(p=t(l))&&s.setAttribute("class",p)}return this},removeClass:function(r){var o,s,l,c,u,d,p,f=0;if(n(r))return this.each(function(t){e(this).removeClass(r.call(this,t,i(this)))});if(!arguments.length)return this.attr("class","");if((o=a(r)).length)for(;s=this[f++];)if(c=i(s),l=1===s.nodeType&&" "+t(c)+" "){for(d=0;u=o[d++];)for(;l.indexOf(" "+u+" ")>-1;)l=l.replace(" "+u+" "," ");c!==(p=t(l))&&s.setAttribute("class",p)}return this},toggleClass:function(t,r){var s=typeof t,l="string"===s||Array.isArray(t);return"boolean"==typeof r&&l?r?this.addClass(t):this.removeClass(t):n(t)?this.each(function(n){e(this).toggleClass(t.call(this,n,i(this),r),r)}):this.each(function(){var n,r,c,u;if(l)for(r=0,c=e(this),u=a(t);n=u[r++];)c.hasClass(n)?c.removeClass(n):c.addClass(n);else void 0!==t&&"boolean"!==s||((n=i(this))&&o.set(this,"__className__",n),this.setAttribute&&this.setAttribute("class",n||!1===t?"":o.get(this,"__className__")||""))})},hasClass:function(e){var n,r,o=0;for(n=" "+e+" ";r=this[o++];)if(1===r.nodeType&&(" "+t(i(r))+" ").indexOf(n)>-1)return!0;return!1}})}.apply(t,r))||(e.exports=o)},function(e,t,n){var r,o;r=[n(5),n(110),n(109),n(38),n(11),n(19)],void 0===(o=function(e,t,n,r,o){"use strict";var i=/\r/g;e.fn.extend({val:function(t){var n,r,a,s=this[0];return arguments.length?(a=o(t),this.each(function(r){var o;1===this.nodeType&&(null==(o=a?t.call(this,r,e(this).val()):t)?o="":"number"==typeof o?o+="":Array.isArray(o)&&(o=e.map(o,function(e){return null==e?"":e+""})),(n=e.valHooks[this.type]||e.valHooks[this.nodeName.toLowerCase()])&&"set"in n&&void 0!==n.set(this,o,"value")||(this.value=o))})):s?(n=e.valHooks[s.type]||e.valHooks[s.nodeName.toLowerCase()])&&"get"in n&&void 0!==(r=n.get(s,"value"))?r:"string"==typeof(r=s.value)?r.replace(i,""):null==r?"":r:void 0}}),e.extend({valHooks:{option:{get:function(n){var r=e.find.attr(n,"value");return null!=r?r:t(e.text(n))}},select:{get:function(t){var n,o,i,a=t.options,s=t.selectedIndex,l="select-one"===t.type,c=l?null:[],u=l?s+1:a.length;for(i=s<0?u:l?s:0;i<u;i++)if(((o=a[i]).selected||i===s)&&!o.disabled&&(!o.parentNode.disabled||!r(o.parentNode,"optgroup"))){if(n=e(o).val(),l)return n;c.push(n)}return c},set:function(t,n){for(var r,o,i=t.options,a=e.makeArray(n),s=i.length;s--;)((o=i[s]).selected=e.inArray(e.valHooks.option.get(o),a)>-1)&&(r=!0);return r||(t.selectedIndex=-1),a}}}}),e.each(["radio","checkbox"],function(){e.valHooks[this]={set:function(t,n){if(Array.isArray(n))return t.checked=e.inArray(e(t).val(),n)>-1}},n.checkOn||(e.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})})}.apply(t,r))||(e.exports=o)},function(e,t,n){var r,o;r=[n(5),n(24),n(334),n(44),n(111)],void 0===(o=function(e,t,n){"use strict";return n.focusin||e.each({focus:"focusin",blur:"focusout"},function(n,r){var o=function(t){e.event.simulate(r,t.target,e.event.fix(t))};e.event.special[r]={setup:function(){var e=this.ownerDocument||this,i=t.access(e,r);i||e.addEventListener(n,o,!0),t.access(e,r,(i||0)+1)},teardown:function(){var e=this.ownerDocument||this,i=t.access(e,r)-1;i?t.access(e,r,i):(e.removeEventListener(n,o,!0),t.remove(e,r))}}}),e}.apply(t,r))||(e.exports=o)},function(e,t,n){var r,o;r=[n(36)],void 0===(o=function(e){"use strict";return e.focusin="onfocusin"in window,e}.apply(t,r))||(e.exports=o)},function(e,t,n){var r,o;r=[n(45)],void 0===(o=function(e){"use strict";return e._evalUrl=function(t,n){return e.ajax({url:t,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(t){e.globalEval(t,n)}})},e._evalUrl}.apply(t,r))||(e.exports=o)},function(e,t,n){var r;void 0===(r=function(){"use strict";return window.location}.call(t,n,t,e))||(e.exports=r)},function(e,t,n){var r,o;r=[n(5)],void 0===(o=function(e){"use strict";return e.parseXML=function(t){var n;if(!t||"string"!=typeof t)return null;try{n=(new window.DOMParser).parseFromString(t,"text/xml")}catch(e){n=void 0}return n&&!n.getElementsByTagName("parsererror").length||e.error("Invalid XML: "+t),n},e.parseXML}.apply(t,r))||(e.exports=o)},function(e,t,n){var r,o;r=[n(5),n(11),n(19),n(71),n(43)],void 0===(o=function(e,t){"use strict";return e.fn.extend({wrapAll:function(n){var r;return this[0]&&(t(n)&&(n=n.call(this[0])),r=e(n,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&r.insertBefore(this[0]),r.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this},wrapInner:function(n){return t(n)?this.each(function(t){e(this).wrapInner(n.call(this,t))}):this.each(function(){var t=e(this),r=t.contents();r.length?r.wrapAll(n):t.append(n)})},wrap:function(n){var r=t(n);return this.each(function(t){e(this).wrapAll(r?n.call(this,t):n)})},unwrap:function(t){return this.parent(t).not("body").each(function(){e(this).replaceWith(this.childNodes)}),this}}),e}.apply(t,r))||(e.exports=o)},function(e,t,n){var r,o;r=[n(5),n(16)],void 0===(o=function(e){"use strict";e.expr.pseudos.hidden=function(t){return!e.expr.pseudos.visible(t)},e.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)}}.apply(t,r))||(e.exports=o)},function(e,t,n){var r,o;r=[n(5),n(36),n(45)],void 0===(o=function(e,t){"use strict";e.ajaxSettings.xhr=function(){try{return new window.XMLHttpRequest}catch(e){}};var n={0:200,1223:204},r=e.ajaxSettings.xhr();t.cors=!!r&&"withCredentials"in r,t.ajax=r=!!r,e.ajaxTransport(function(e){var o,i;if(t.cors||r&&!e.crossDomain)return{send:function(t,r){var a,s=e.xhr();if(s.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(a in e.xhrFields)s[a]=e.xhrFields[a];for(a in e.mimeType&&s.overrideMimeType&&s.overrideMimeType(e.mimeType),e.crossDomain||t["X-Requested-With"]||(t["X-Requested-With"]="XMLHttpRequest"),t)s.setRequestHeader(a,t[a]);o=function(e){return function(){o&&(o=i=s.onload=s.onerror=s.onabort=s.ontimeout=s.onreadystatechange=null,"abort"===e?s.abort():"error"===e?"number"!=typeof s.status?r(0,"error"):r(s.status,s.statusText):r(n[s.status]||s.status,s.statusText,"text"!==(s.responseType||"text")||"string"!=typeof s.responseText?{binary:s.response}:{text:s.responseText},s.getAllResponseHeaders()))}},s.onload=o(),i=s.onerror=s.ontimeout=o("error"),void 0!==s.onabort?s.onabort=i:s.onreadystatechange=function(){4===s.readyState&&window.setTimeout(function(){o&&i()})},o=o("abort");try{s.send(e.hasContent&&e.data||null)}catch(e){if(o)throw e}},abort:function(){o&&o()}}})}.apply(t,r))||(e.exports=o)},function(e,t,n){var r,o;r=[n(5),n(14),n(45)],void 0===(o=function(e,t){"use strict";e.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),e.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return e.globalEval(t),t}}}),e.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),e.ajaxTransport("script",function(n){var r,o;if(n.crossDomain||n.scriptAttrs)return{send:function(i,a){r=e("<script>").attr(n.scriptAttrs||{}).prop({charset:n.scriptCharset,src:n.url}).on("load error",o=function(e){r.remove(),o=null,e&&a("error"===e.type?404:200,e.type)}),t.head.appendChild(r[0])},abort:function(){o&&o()}}})}.apply(t,r))||(e.exports=o)},function(e,t,n){var r,o;r=[n(5),n(11),n(260),n(259),n(45)],void 0===(o=function(e,t,n,r){"use strict";var o=[],i=/(=)\?(?=&|$)|\?\?/;e.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=o.pop()||e.expando+"_"+n++;return this[t]=!0,t}}),e.ajaxPrefilter("json jsonp",function(n,a,s){var l,c,u,d=!1!==n.jsonp&&(i.test(n.url)?"url":"string"==typeof n.data&&0===(n.contentType||"").indexOf("application/x-www-form-urlencoded")&&i.test(n.data)&&"data");if(d||"jsonp"===n.dataTypes[0])return l=n.jsonpCallback=t(n.jsonpCallback)?n.jsonpCallback():n.jsonpCallback,d?n[d]=n[d].replace(i,"$1"+l):!1!==n.jsonp&&(n.url+=(r.test(n.url)?"&":"?")+n.jsonp+"="+l),n.converters["script json"]=function(){return u||e.error(l+" was not called"),u[0]},n.dataTypes[0]="json",c=window[l],window[l]=function(){u=arguments},s.always(function(){void 0===c?e(window).removeProp(l):window[l]=c,n[l]&&(n.jsonpCallback=a.jsonpCallback,o.push(l)),u&&t(c)&&c(u[0]),u=c=void 0}),"script"})}.apply(t,r))||(e.exports=o)},function(e,t,n){var r,o;r=[n(5),n(110),n(11),n(344),n(45),n(43),n(71),n(16)],void 0===(o=function(e,t,n){"use strict";e.fn.load=function(r,o,i){var a,s,l,c=this,u=r.indexOf(" ");return u>-1&&(a=t(r.slice(u)),r=r.slice(0,u)),n(o)?(i=o,o=void 0):o&&"object"==typeof o&&(s="POST"),c.length>0&&e.ajax({url:r,type:s||"GET",dataType:"html",data:o}).done(function(t){l=arguments,c.html(a?e("<div>").append(e.parseHTML(t)).find(a):t)}).always(i&&function(e,t){c.each(function(){i.apply(this,l||[e.responseText,t,e])})}),this}}.apply(t,r))||(e.exports=o)},function(e,t,n){var r,o;r=[n(5),n(14),n(245),n(252),n(345)],void 0===(o=function(e,t,n,r,o){"use strict";return e.parseHTML=function(i,a,s){return"string"!=typeof i?[]:("boolean"==typeof a&&(s=a,a=!1),a||(o.createHTMLDocument?((l=(a=t.implementation.createHTMLDocument("")).createElement("base")).href=t.location.href,a.head.appendChild(l)):a=t),c=n.exec(i),u=!s&&[],c?[a.createElement(c[1])]:(c=r([i],a,u),u&&u.length&&e(u).remove(),e.merge([],c.childNodes)));var l,c,u},e.parseHTML}.apply(t,r))||(e.exports=o)},function(e,t,n){var r,o;r=[n(14),n(36)],void 0===(o=function(e,t){"use strict";return t.createHTMLDocument=function(){var t=e.implementation.createHTMLDocument("").body;return t.innerHTML="<form></form><form></form>",2===t.childNodes.length}(),t}.apply(t,r))||(e.exports=o)},function(e,t,n){var r,o;r=[n(5),n(44)],void 0===(o=function(e){"use strict";e.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,n){e.fn[n]=function(e){return this.on(n,e)}})}.apply(t,r))||(e.exports=o)},function(e,t,n){var r,o;r=[n(5),n(16),n(107)],void 0===(o=function(e){"use strict";e.expr.pseudos.animated=function(t){return e.grep(e.timers,function(e){return t===e.elem}).length}}.apply(t,r))||(e.exports=o)},function(e,t,n){var r,o;r=[n(5),n(37),n(14),n(70),n(11),n(101),n(233),n(243),n(102),n(56),n(19),n(54),n(16)],void 0===(o=function(e,t,n,r,o,i,a,s,l,c){"use strict";return e.offset={setOffset:function(t,n,r){var i,a,s,l,c,u,d=e.css(t,"position"),p=e(t),f={};"static"===d&&(t.style.position="relative"),c=p.offset(),s=e.css(t,"top"),u=e.css(t,"left"),("absolute"===d||"fixed"===d)&&(s+u).indexOf("auto")>-1?(l=(i=p.position()).top,a=i.left):(l=parseFloat(s)||0,a=parseFloat(u)||0),o(n)&&(n=n.call(t,r,e.extend({},c))),null!=n.top&&(f.top=n.top-c.top+l),null!=n.left&&(f.left=n.left-c.left+a),"using"in n?n.using.call(t,f):p.css(f)}},e.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(n){e.offset.setOffset(this,t,n)});var n,r,o=this[0];return o?o.getClientRects().length?(n=o.getBoundingClientRect(),r=o.ownerDocument.defaultView,{top:n.top+r.pageYOffset,left:n.left+r.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var t,n,r,o=this[0],i={top:0,left:0};if("fixed"===e.css(o,"position"))n=o.getBoundingClientRect();else{for(n=this.offset(),r=o.ownerDocument,t=o.offsetParent||r.documentElement;t&&(t===r.body||t===r.documentElement)&&"static"===e.css(t,"position");)t=t.parentNode;t&&t!==o&&1===t.nodeType&&((i=e(t).offset()).top+=e.css(t,"borderTopWidth",!0),i.left+=e.css(t,"borderLeftWidth",!0))}return{top:n.top-i.top-e.css(o,"marginTop",!0),left:n.left-i.left-e.css(o,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent;t&&"static"===e.css(t,"position");)t=t.offsetParent;return t||r})}}),e.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(n,r){var o="pageYOffset"===r;e.fn[n]=function(e){return t(this,function(e,t,n){var i;if(c(e)?i=e:9===e.nodeType&&(i=e.defaultView),void 0===n)return i?i[r]:e[t];i?i.scrollTo(o?i.pageXOffset:n,o?n:i.pageYOffset):e[t]=n},n,e,arguments.length)}}),e.each(["top","left"],function(t,n){e.cssHooks[n]=s(l.pixelPosition,function(t,r){if(r)return r=a(t,n),i.test(r)?e(t).position()[n]+"px":r})}),e}.apply(t,r))||(e.exports=o)},function(e,t,n){var r,o;r=[n(5),n(37),n(56),n(54)],void 0===(o=function(e,t,n){"use strict";return e.each({Height:"height",Width:"width"},function(r,o){e.each({padding:"inner"+r,content:o,"":"outer"+r},function(i,a){e.fn[a]=function(s,l){var c=arguments.length&&(i||"boolean"!=typeof s),u=i||(!0===s||!0===l?"margin":"border");return t(this,function(t,o,i){var s;return n(t)?0===a.indexOf("outer")?t["inner"+r]:t.document.documentElement["client"+r]:9===t.nodeType?(s=t.documentElement,Math.max(t.body["scroll"+r],s["scroll"+r],t.body["offset"+r],s["offset"+r],s["client"+r])):void 0===i?e.css(t,o,u):e.style(t,o,i,u)},o,c?s:void 0,c)}})}),e}.apply(t,r))||(e.exports=o)},function(e,t,n){var r,o;r=[n(5),n(38),n(57),n(41),n(11),n(56),n(68),n(351)],void 0===(o=function(e,t,n,r,o,i,a){"use strict";e.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}}),e.proxy=function(t,n){var r,i,s;if("string"==typeof n&&(r=t[n],n=t,t=r),o(t))return i=a.call(arguments,2),(s=function(){return t.apply(n||this,i.concat(a.call(arguments)))}).guid=t.guid=t.guid||e.guid++,s},e.holdReady=function(t){t?e.readyWait++:e.ready(!0)},e.isArray=Array.isArray,e.parseJSON=JSON.parse,e.nodeName=t,e.isFunction=o,e.isWindow=i,e.camelCase=n,e.type=r,e.now=Date.now,e.isNumeric=function(t){var n=e.type(t);return("number"===n||"string"===n)&&!isNaN(t-parseFloat(t))}}.apply(t,r))||(e.exports=o)},function(e,t,n){var r,o;r=[n(5),n(44),n(111)],void 0===(o=function(e){"use strict";e.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(t,n){e.fn[n]=function(e,t){return arguments.length>0?this.on(n,null,e,t):this.trigger(n)}}),e.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}})}.apply(t,r))||(e.exports=o)},function(e,t,n){var r,o;r=[n(5)],void 0===(o=function(n){"use strict";void 0===(o=function(){return n}.apply(t,r=[]))||(e.exports=o)}.apply(t,r))||(e.exports=o)},function(e,t,n){var r,o;r=[n(5)],void 0===(o=function(e,t){"use strict";var n=window.jQuery,r=window.$;e.noConflict=function(t){return window.$===e&&(window.$=r),t&&window.jQuery===e&&(window.jQuery=n),e},t||(window.jQuery=window.$=e)}.apply(t,r))||(e.exports=o)},function(e,t,n){var r,o,i;i=function(){function e(){for(var e=0,t={};e<arguments.length;e++){var n=arguments[e];for(var r in n)t[r]=n[r]}return t}function t(e){return e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function n(r){function o(){}function i(t,n,i){if("undefined"!=typeof document){"number"==typeof(i=e({path:"/"},o.defaults,i)).expires&&(i.expires=new Date(1*new Date+864e5*i.expires)),i.expires=i.expires?i.expires.toUTCString():"";try{var a=JSON.stringify(n);/^[\{\[]/.test(a)&&(n=a)}catch(e){}n=r.write?r.write(n,t):encodeURIComponent(String(n)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var s="";for(var l in i)i[l]&&(s+="; "+l,!0!==i[l]&&(s+="="+i[l].split(";")[0]));return document.cookie=t+"="+n+s}}function a(e,n){if("undefined"!=typeof document){for(var o={},i=document.cookie?document.cookie.split("; "):[],a=0;a<i.length;a++){var s=i[a].split("="),l=s.slice(1).join("=");n||'"'!==l.charAt(0)||(l=l.slice(1,-1));try{var c=t(s[0]);if(l=(r.read||r)(l,c)||t(l),n)try{l=JSON.parse(l)}catch(e){}if(o[c]=l,e===c)break}catch(e){}}return e?o[e]:o}}return o.set=i,o.get=function(e){return a(e,!1)},o.getJSON=function(e){return a(e,!0)},o.remove=function(t,n){i(t,"",e(n,{expires:-1}))},o.defaults={},o.withConverter=n,o}(function(){})},void 0===(o="function"==typeof(r=i)?r.call(t,n,t,e):r)||(e.exports=o),e.exports=i()},function(e,t,n){"use strict";var r=n(58),o="function"==typeof Symbol&&Symbol.for,i=o?Symbol.for("react.element"):60103,a=o?Symbol.for("react.portal"):60106,s=o?Symbol.for("react.fragment"):60107,l=o?Symbol.for("react.strict_mode"):60108,c=o?Symbol.for("react.profiler"):60114,u=o?Symbol.for("react.provider"):60109,d=o?Symbol.for("react.context"):60110,p=o?Symbol.for("react.forward_ref"):60112,f=o?Symbol.for("react.suspense"):60113;o&&Symbol.for("react.suspense_list");var h=o?Symbol.for("react.memo"):60115,m=o?Symbol.for("react.lazy"):60116;o&&Symbol.for("react.fundamental"),o&&Symbol.for("react.responder"),o&&Symbol.for("react.scope");var g="function"==typeof Symbol&&Symbol.iterator;function b(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},y={};function k(e,t,n){this.props=e,this.context=t,this.refs=y,this.updater=n||v}function _(){}function w(e,t,n){this.props=e,this.context=t,this.refs=y,this.updater=n||v}k.prototype.isReactComponent={},k.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error(b(85));this.updater.enqueueSetState(this,e,t,"setState")},k.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},_.prototype=k.prototype;var C=w.prototype=new _;C.constructor=w,r(C,k.prototype),C.isPureReactComponent=!0;var S={current:null},P={current:null},E=Object.prototype.hasOwnProperty,x={key:!0,ref:!0,__self:!0,__source:!0};function O(e,t,n){var r,o={},a=null,s=null;if(null!=t)for(r in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)E.call(t,r)&&!x.hasOwnProperty(r)&&(o[r]=t[r]);var l=arguments.length-2;if(1===l)o.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];o.children=c}if(e&&e.defaultProps)for(r in l=e.defaultProps)void 0===o[r]&&(o[r]=l[r]);return{$$typeof:i,type:e,key:a,ref:s,props:o,_owner:P.current}}function T(e){return"object"==typeof e&&null!==e&&e.$$typeof===i}var M=/\/+/g,A=[];function j(e,t,n,r){if(A.length){var o=A.pop();return o.result=e,o.keyPrefix=t,o.func=n,o.context=r,o.count=0,o}return{result:e,keyPrefix:t,func:n,context:r,count:0}}function I(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,10>A.length&&A.push(e)}function N(e,t,n){return null==e?0:function e(t,n,r,o){var s=typeof t;"undefined"!==s&&"boolean"!==s||(t=null);var l=!1;if(null===t)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(t.$$typeof){case i:case a:l=!0}}if(l)return r(o,t,""===n?"."+R(t,0):n),1;if(l=0,n=""===n?".":n+":",Array.isArray(t))for(var c=0;c<t.length;c++){var u=n+R(s=t[c],c);l+=e(s,u,r,o)}else if("function"==typeof(u=null===t||"object"!=typeof t?null:"function"==typeof(u=g&&t[g]||t["@@iterator"])?u:null))for(t=u.call(t),c=0;!(s=t.next()).done;)l+=e(s=s.value,u=n+R(s,c++),r,o);else if("object"===s)throw r=""+t,Error(b(31,"[object Object]"===r?"object with keys {"+Object.keys(t).join(", ")+"}":r,""));return l}(e,"",t,n)}function R(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,function(e){return t[e]})}(e.key):t.toString(36)}function D(e,t){e.func.call(e.context,t,e.count++)}function L(e,t,n){var r=e.result,o=e.keyPrefix;e=e.func.call(e.context,t,e.count++),Array.isArray(e)?B(e,r,n,function(e){return e}):null!=e&&(T(e)&&(e=function(e,t){return{$$typeof:i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(e,o+(!e.key||t&&t.key===e.key?"":(""+e.key).replace(M,"$&/")+"/")+n)),r.push(e))}function B(e,t,n,r,o){var i="";null!=n&&(i=(""+n).replace(M,"$&/")+"/"),N(e,L,t=j(t,i,r,o)),I(t)}function F(){var e=S.current;if(null===e)throw Error(b(321));return e}var U={Children:{map:function(e,t,n){if(null==e)return e;var r=[];return B(e,r,null,t,n),r},forEach:function(e,t,n){if(null==e)return e;N(e,D,t=j(null,null,t,n)),I(t)},count:function(e){return N(e,function(){return null},null)},toArray:function(e){var t=[];return B(e,t,null,function(e){return e}),t},only:function(e){if(!T(e))throw Error(b(143));return e}},createRef:function(){return{current:null}},Component:k,PureComponent:w,createContext:function(e,t){return void 0===t&&(t=null),(e={$$typeof:d,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:u,_context:e},e.Consumer=e},forwardRef:function(e){return{$$typeof:p,render:e}},lazy:function(e){return{$$typeof:m,_ctor:e,_status:-1,_result:null}},memo:function(e,t){return{$$typeof:h,type:e,compare:void 0===t?null:t}},useCallback:function(e,t){return F().useCallback(e,t)},useContext:function(e,t){return F().useContext(e,t)},useEffect:function(e,t){return F().useEffect(e,t)},useImperativeHandle:function(e,t,n){return F().useImperativeHandle(e,t,n)},useDebugValue:function(){},useLayoutEffect:function(e,t){return F().useLayoutEffect(e,t)},useMemo:function(e,t){return F().useMemo(e,t)},useReducer:function(e,t,n){return F().useReducer(e,t,n)},useRef:function(e){return F().useRef(e)},useState:function(e){return F().useState(e)},Fragment:s,Profiler:c,StrictMode:l,Suspense:f,createElement:O,cloneElement:function(e,t,n){if(null===e||void 0===e)throw Error(b(267,e));var o=r({},e.props),a=e.key,s=e.ref,l=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,l=P.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(u in t)E.call(t,u)&&!x.hasOwnProperty(u)&&(o[u]=void 0===t[u]&&void 0!==c?c[u]:t[u])}var u=arguments.length-2;if(1===u)o.children=n;else if(1<u){c=Array(u);for(var d=0;d<u;d++)c[d]=arguments[d+2];o.children=c}return{$$typeof:i,type:e.type,key:a,ref:s,props:o,_owner:l}},createFactory:function(e){var t=O.bind(null,e);return t.type=e,t},isValidElement:T,version:"16.12.0",__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{ReactCurrentDispatcher:S,ReactCurrentBatchConfig:{suspense:null},ReactCurrentOwner:P,IsSomeRendererActing:{current:!1},assign:r}},q={default:U},z=q&&U||q;e.exports=z.default||z},function(e,t,n){"use strict";var r=n(0),o=n(58),i=n(357);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(a(227));var s=null,l={};function c(){if(s)for(var e in l){var t=l[e],n=s.indexOf(e);if(!(-1<n))throw Error(a(96,e));if(!d[n]){if(!t.extractEvents)throw Error(a(97,e));for(var r in d[n]=t,n=t.eventTypes){var o=void 0,i=n[r],c=t,f=r;if(p.hasOwnProperty(f))throw Error(a(99,f));p[f]=i;var h=i.phasedRegistrationNames;if(h){for(o in h)h.hasOwnProperty(o)&&u(h[o],c,f);o=!0}else i.registrationName?(u(i.registrationName,c,f),o=!0):o=!1;if(!o)throw Error(a(98,r,e))}}}}function u(e,t,n){if(f[e])throw Error(a(100,e));f[e]=t,h[e]=t.eventTypes[n].dependencies}var d=[],p={},f={},h={},m=!1,g=null,b=!1,v=null,y={onError:function(e){m=!0,g=e}};var k=null,_=null,w=null;function C(e,t,n){var r=e.type||"unknown-event";e.currentTarget=w(n),function(e,t,n,r,o,i,s,l,c){if(function(e,t,n,r,o,i,a,s,l){m=!1,g=null,function(e,t,n,r,o,i,a,s,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(e){this.onError(e)}}.apply(y,arguments)}.apply(this,arguments),m){if(!m)throw Error(a(198));var u=g;m=!1,g=null,b||(b=!0,v=u)}}(r,t,void 0,e),e.currentTarget=null}function S(e,t){if(null==t)throw Error(a(30));return null==e?t:Array.isArray(e)?Array.isArray(t)?(e.push.apply(e,t),e):(e.push(t),e):Array.isArray(t)?[e].concat(t):[e,t]}function P(e,t,n){Array.isArray(e)?e.forEach(t,n):e&&t.call(n,e)}var E=null;function x(e){if(e){var t=e._dispatchListeners,n=e._dispatchInstances;if(Array.isArray(t))for(var r=0;r<t.length&&!e.isPropagationStopped();r++)C(e,t[r],n[r]);else t&&C(e,t,n);e._dispatchListeners=null,e._dispatchInstances=null,e.isPersistent()||e.constructor.release(e)}}function O(e){if(null!==e&&(E=S(E,e)),e=E,E=null,e){if(P(e,x),E)throw Error(a(95));if(b)throw e=v,b=!1,v=null,e}}var T={injectEventPluginOrder:function(e){if(s)throw Error(a(101));s=Array.prototype.slice.call(e),c()},injectEventPluginsByName:function(e){var t,n=!1;for(t in e)if(e.hasOwnProperty(t)){var r=e[t];if(!l.hasOwnProperty(t)||l[t]!==r){if(l[t])throw Error(a(102,t));l[t]=r,n=!0}}n&&c()}};function M(e,t){var n=e.stateNode;if(!n)return null;var r=k(n);if(!r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(a(231,t,typeof n));return n}var A=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;A.hasOwnProperty("ReactCurrentDispatcher")||(A.ReactCurrentDispatcher={current:null}),A.hasOwnProperty("ReactCurrentBatchConfig")||(A.ReactCurrentBatchConfig={suspense:null});var j=/^(.*)[\\\/]/,I="function"==typeof Symbol&&Symbol.for,N=I?Symbol.for("react.element"):60103,R=I?Symbol.for("react.portal"):60106,D=I?Symbol.for("react.fragment"):60107,L=I?Symbol.for("react.strict_mode"):60108,B=I?Symbol.for("react.profiler"):60114,F=I?Symbol.for("react.provider"):60109,U=I?Symbol.for("react.context"):60110,q=I?Symbol.for("react.concurrent_mode"):60111,z=I?Symbol.for("react.forward_ref"):60112,H=I?Symbol.for("react.suspense"):60113,V=I?Symbol.for("react.suspense_list"):60120,W=I?Symbol.for("react.memo"):60115,G=I?Symbol.for("react.lazy"):60116;I&&Symbol.for("react.fundamental"),I&&Symbol.for("react.responder"),I&&Symbol.for("react.scope");var Y="function"==typeof Symbol&&Symbol.iterator;function K(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=Y&&e[Y]||e["@@iterator"])?e:null}function $(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case D:return"Fragment";case R:return"Portal";case B:return"Profiler";case L:return"StrictMode";case H:return"Suspense";case V:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case U:return"Context.Consumer";case F:return"Context.Provider";case z:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case W:return $(e.type);case G:if(e=1===e._status?e._result:null)return $(e)}return null}function Q(e){var t="";do{e:switch(e.tag){case 3:case 4:case 6:case 7:case 10:case 9:var n="";break e;default:var r=e._debugOwner,o=e._debugSource,i=$(e.type);n=null,r&&(n=$(r.type)),r=i,i="",o?i=" (at "+o.fileName.replace(j,"")+":"+o.lineNumber+")":n&&(i=" (created by "+n+")"),n="\n    in "+(r||"Unknown")+i}t+=n,e=e.return}while(e);return t}var J=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),X=null,Z=null,ee=null;function te(e){if(e=_(e)){if("function"!=typeof X)throw Error(a(280));var t=k(e.stateNode);X(e.stateNode,e.type,t)}}function ne(e){Z?ee?ee.push(e):ee=[e]:Z=e}function re(){if(Z){var e=Z,t=ee;if(ee=Z=null,te(e),t)for(e=0;e<t.length;e++)te(t[e])}}function oe(e,t){return e(t)}function ie(e,t,n,r){return e(t,n,r)}function ae(){}var se=oe,le=!1,ce=!1;function ue(){null===Z&&null===ee||(ae(),re())}new Map;var de=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,pe=Object.prototype.hasOwnProperty,fe={},he={};function me(e,t,n,r,o,i){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i}var ge={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ge[e]=new me(e,0,!1,e,null,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ge[t]=new me(t,1,!1,e[1],null,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){ge[e]=new me(e,2,!1,e.toLowerCase(),null,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ge[e]=new me(e,2,!1,e,null,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ge[e]=new me(e,3,!1,e.toLowerCase(),null,!1)}),["checked","multiple","muted","selected"].forEach(function(e){ge[e]=new me(e,3,!0,e,null,!1)}),["capture","download"].forEach(function(e){ge[e]=new me(e,4,!1,e,null,!1)}),["cols","rows","size","span"].forEach(function(e){ge[e]=new me(e,6,!1,e,null,!1)}),["rowSpan","start"].forEach(function(e){ge[e]=new me(e,5,!1,e.toLowerCase(),null,!1)});var be=/[\-:]([a-z])/g;function ve(e){return e[1].toUpperCase()}function ye(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function ke(e,t,n,r){var o=ge.hasOwnProperty(t)?ge[t]:null;(null!==o?0===o.type:!r&&2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1]))||(function(e,t,n,r){if(null===t||void 0===t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,o,r)&&(n=null),r||null===o?function(e){return!!pe.call(he,e)||!pe.call(fe,e)&&(de.test(e)?he[e]=!0:(fe[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=null===n?3!==o.type&&"":n:(t=o.attributeName,r=o.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(o=o.type)||4===o&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}function _e(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function we(e){e._valueTracker||(e._valueTracker=function(e){var t=_e(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var o=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(e){r=""+e,i.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Ce(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=_e(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Se(e,t){var n=t.checked;return o({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Pe(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=ye(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Ee(e,t){null!=(t=t.checked)&&ke(e,"checked",t,!1)}function xe(e,t){Ee(e,t);var n=ye(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?Te(e,t.type,n):t.hasOwnProperty("defaultValue")&&Te(e,t.type,ye(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Oe(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!e.defaultChecked,e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function Te(e,t,n){"number"===t&&e.ownerDocument.activeElement===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function Me(e,t){return e=o({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,function(e){null!=e&&(t+=e)}),t}(t.children))&&(e.children=t),e}function Ae(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ye(n),t=null,o=0;o<e.length;o++){if(e[o].value===n)return e[o].selected=!0,void(r&&(e[o].defaultSelected=!0));null!==t||e[o].disabled||(t=e[o])}null!==t&&(t.selected=!0)}}function je(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return o({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Ie(e,t){var n=t.value;if(null==n){if(n=t.defaultValue,null!=(t=t.children)){if(null!=n)throw Error(a(92));if(Array.isArray(t)){if(!(1>=t.length))throw Error(a(93));t=t[0]}n=t}null==n&&(n="")}e._wrapperState={initialValue:ye(n)}}function Ne(e,t){var n=ye(t.value),r=ye(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function Re(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(be,ve);ge[t]=new me(t,1,!1,e,null,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(be,ve);ge[t]=new me(t,1,!1,e,"http://www.w3.org/1999/xlink",!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(be,ve);ge[t]=new me(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1)}),["tabIndex","crossOrigin"].forEach(function(e){ge[e]=new me(e,1,!1,e.toLowerCase(),null,!1)}),ge.xlinkHref=new me("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0),["src","href","action","formAction"].forEach(function(e){ge[e]=new me(e,1,!1,e.toLowerCase(),null,!0)});var De={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function Le(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Be(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?Le(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var Fe,Ue=function(e){return"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,n,r,o){MSApp.execUnsafeLocalFunction(function(){return e(t,n)})}:e}(function(e,t){if(e.namespaceURI!==De.svg||"innerHTML"in e)e.innerHTML=t;else{for((Fe=Fe||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Fe.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function qe(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}function ze(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var He={animationend:ze("Animation","AnimationEnd"),animationiteration:ze("Animation","AnimationIteration"),animationstart:ze("Animation","AnimationStart"),transitionend:ze("Transition","TransitionEnd")},Ve={},We={};function Ge(e){if(Ve[e])return Ve[e];if(!He[e])return e;var t,n=He[e];for(t in n)if(n.hasOwnProperty(t)&&t in We)return Ve[e]=n[t];return e}J&&(We=document.createElement("div").style,"AnimationEvent"in window||(delete He.animationend.animation,delete He.animationiteration.animation,delete He.animationstart.animation),"TransitionEvent"in window||delete He.transitionend.transition);var Ye=Ge("animationend"),Ke=Ge("animationiteration"),$e=Ge("animationstart"),Qe=Ge("transitionend"),Je="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" ");function Xe(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!=(1026&(t=e).effectTag)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Ze(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&null!==(e=e.alternate)&&(t=e.memoizedState),null!==t)return t.dehydrated}return null}function et(e){if(Xe(e)!==e)throw Error(a(188))}function tt(e){if(!(e=function(e){var t=e.alternate;if(!t){if(null===(t=Xe(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(null===o)break;var i=o.alternate;if(null===i){if(null!==(r=o.return)){n=r;continue}break}if(o.child===i.child){for(i=o.child;i;){if(i===n)return et(o),e;if(i===r)return et(o),t;i=i.sibling}throw Error(a(188))}if(n.return!==r.return)n=o,r=i;else{for(var s=!1,l=o.child;l;){if(l===n){s=!0,n=o,r=i;break}if(l===r){s=!0,r=o,n=i;break}l=l.sibling}if(!s){for(l=i.child;l;){if(l===n){s=!0,n=i,r=o;break}if(l===r){s=!0,r=i,n=o;break}l=l.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}var nt,rt,ot,it=!1,at=[],st=null,lt=null,ct=null,ut=new Map,dt=new Map,pt=[],ft="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput close cancel copy cut paste click change contextmenu reset submit".split(" "),ht="focus blur dragenter dragleave mouseover mouseout pointerover pointerout gotpointercapture lostpointercapture".split(" ");function mt(e,t,n,r){return{blockedOn:e,topLevelType:t,eventSystemFlags:32|n,nativeEvent:r}}function gt(e,t){switch(e){case"focus":case"blur":st=null;break;case"dragenter":case"dragleave":lt=null;break;case"mouseover":case"mouseout":ct=null;break;case"pointerover":case"pointerout":ut.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":dt.delete(t.pointerId)}}function bt(e,t,n,r,o){return null===e||e.nativeEvent!==o?(e=mt(t,n,r,o),null!==t&&null!==(t=cr(t))&&rt(t),e):(e.eventSystemFlags|=r,e)}function vt(e){var t=lr(e.target);if(null!==t){var n=Xe(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Ze(n)))return e.blockedOn=t,void i.unstable_runWithPriority(e.priority,function(){ot(n)})}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function yt(e){if(null!==e.blockedOn)return!1;var t=xn(e.topLevelType,e.eventSystemFlags,e.nativeEvent);if(null!==t){var n=cr(t);return null!==n&&rt(n),e.blockedOn=t,!1}return!0}function kt(e,t,n){yt(e)&&n.delete(t)}function _t(){for(it=!1;0<at.length;){var e=at[0];if(null!==e.blockedOn){null!==(e=cr(e.blockedOn))&&nt(e);break}var t=xn(e.topLevelType,e.eventSystemFlags,e.nativeEvent);null!==t?e.blockedOn=t:at.shift()}null!==st&&yt(st)&&(st=null),null!==lt&&yt(lt)&&(lt=null),null!==ct&&yt(ct)&&(ct=null),ut.forEach(kt),dt.forEach(kt)}function wt(e,t){e.blockedOn===t&&(e.blockedOn=null,it||(it=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,_t)))}function Ct(e){function t(t){return wt(t,e)}if(0<at.length){wt(at[0],e);for(var n=1;n<at.length;n++){var r=at[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==st&&wt(st,e),null!==lt&&wt(lt,e),null!==ct&&wt(ct,e),ut.forEach(t),dt.forEach(t),n=0;n<pt.length;n++)(r=pt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<pt.length&&null===(n=pt[0]).blockedOn;)vt(n),null===n.blockedOn&&pt.shift()}function St(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}function Pt(e){do{e=e.return}while(e&&5!==e.tag);return e||null}function Et(e,t,n){(t=M(e,n.dispatchConfig.phasedRegistrationNames[t]))&&(n._dispatchListeners=S(n._dispatchListeners,t),n._dispatchInstances=S(n._dispatchInstances,e))}function xt(e){if(e&&e.dispatchConfig.phasedRegistrationNames){for(var t=e._targetInst,n=[];t;)n.push(t),t=Pt(t);for(t=n.length;0<t--;)Et(n[t],"captured",e);for(t=0;t<n.length;t++)Et(n[t],"bubbled",e)}}function Ot(e,t,n){e&&n&&n.dispatchConfig.registrationName&&(t=M(e,n.dispatchConfig.registrationName))&&(n._dispatchListeners=S(n._dispatchListeners,t),n._dispatchInstances=S(n._dispatchInstances,e))}function Tt(e){e&&e.dispatchConfig.registrationName&&Ot(e._targetInst,null,e)}function Mt(e){P(e,xt)}function At(){return!0}function jt(){return!1}function It(e,t,n,r){for(var o in this.dispatchConfig=e,this._targetInst=t,this.nativeEvent=n,e=this.constructor.Interface)e.hasOwnProperty(o)&&((t=e[o])?this[o]=t(n):"target"===o?this.target=r:this[o]=n[o]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?At:jt,this.isPropagationStopped=jt,this}function Nt(e,t,n,r){if(this.eventPool.length){var o=this.eventPool.pop();return this.call(o,e,t,n,r),o}return new this(e,t,n,r)}function Rt(e){if(!(e instanceof this))throw Error(a(279));e.destructor(),10>this.eventPool.length&&this.eventPool.push(e)}function Dt(e){e.eventPool=[],e.getPooled=Nt,e.release=Rt}o(It.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=At)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=At)},persist:function(){this.isPersistent=At},isPersistent:jt,destructor:function(){var e,t=this.constructor.Interface;for(e in t)this[e]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=jt,this._dispatchInstances=this._dispatchListeners=null}}),It.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},It.extend=function(e){function t(){}function n(){return r.apply(this,arguments)}var r=this;t.prototype=r.prototype;var i=new t;return o(i,n.prototype),n.prototype=i,n.prototype.constructor=n,n.Interface=o({},r.Interface,e),n.extend=r.extend,Dt(n),n},Dt(It);var Lt=It.extend({animationName:null,elapsedTime:null,pseudoElement:null}),Bt=It.extend({clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Ft=It.extend({view:null,detail:null}),Ut=Ft.extend({relatedTarget:null});function qt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}var zt={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ht={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Vt={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Wt(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Vt[e])&&!!t[e]}function Gt(){return Wt}for(var Yt=Ft.extend({key:function(e){if(e.key){var t=zt[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=qt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Ht[e.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:Gt,charCode:function(e){return"keypress"===e.type?qt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?qt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Kt=0,$t=0,Qt=!1,Jt=!1,Xt=Ft.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:Gt,button:null,buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)},movementX:function(e){if("movementX"in e)return e.movementX;var t=Kt;return Kt=e.screenX,Qt?"mousemove"===e.type?e.screenX-t:0:(Qt=!0,0)},movementY:function(e){if("movementY"in e)return e.movementY;var t=$t;return $t=e.screenY,Jt?"mousemove"===e.type?e.screenY-t:0:(Jt=!0,0)}}),Zt=Xt.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),en=Xt.extend({dataTransfer:null}),tn=Ft.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:Gt}),nn=It.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),rn=Xt.extend({deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null}),on=[["blur","blur",0],["cancel","cancel",0],["click","click",0],["close","close",0],["contextmenu","contextMenu",0],["copy","copy",0],["cut","cut",0],["auxclick","auxClick",0],["dblclick","doubleClick",0],["dragend","dragEnd",0],["dragstart","dragStart",0],["drop","drop",0],["focus","focus",0],["input","input",0],["invalid","invalid",0],["keydown","keyDown",0],["keypress","keyPress",0],["keyup","keyUp",0],["mousedown","mouseDown",0],["mouseup","mouseUp",0],["paste","paste",0],["pause","pause",0],["play","play",0],["pointercancel","pointerCancel",0],["pointerdown","pointerDown",0],["pointerup","pointerUp",0],["ratechange","rateChange",0],["reset","reset",0],["seeked","seeked",0],["submit","submit",0],["touchcancel","touchCancel",0],["touchend","touchEnd",0],["touchstart","touchStart",0],["volumechange","volumeChange",0],["drag","drag",1],["dragenter","dragEnter",1],["dragexit","dragExit",1],["dragleave","dragLeave",1],["dragover","dragOver",1],["mousemove","mouseMove",1],["mouseout","mouseOut",1],["mouseover","mouseOver",1],["pointermove","pointerMove",1],["pointerout","pointerOut",1],["pointerover","pointerOver",1],["scroll","scroll",1],["toggle","toggle",1],["touchmove","touchMove",1],["wheel","wheel",1],["abort","abort",2],[Ye,"animationEnd",2],[Ke,"animationIteration",2],[$e,"animationStart",2],["canplay","canPlay",2],["canplaythrough","canPlayThrough",2],["durationchange","durationChange",2],["emptied","emptied",2],["encrypted","encrypted",2],["ended","ended",2],["error","error",2],["gotpointercapture","gotPointerCapture",2],["load","load",2],["loadeddata","loadedData",2],["loadedmetadata","loadedMetadata",2],["loadstart","loadStart",2],["lostpointercapture","lostPointerCapture",2],["playing","playing",2],["progress","progress",2],["seeking","seeking",2],["stalled","stalled",2],["suspend","suspend",2],["timeupdate","timeUpdate",2],[Qe,"transitionEnd",2],["waiting","waiting",2]],an={},sn={},ln=0;ln<on.length;ln++){var cn=on[ln],un=cn[0],dn=cn[1],pn=cn[2],fn="on"+(dn[0].toUpperCase()+dn.slice(1)),hn={phasedRegistrationNames:{bubbled:fn,captured:fn+"Capture"},dependencies:[un],eventPriority:pn};an[dn]=hn,sn[un]=hn}var mn={eventTypes:an,getEventPriority:function(e){return void 0!==(e=sn[e])?e.eventPriority:2},extractEvents:function(e,t,n,r){var o=sn[e];if(!o)return null;switch(e){case"keypress":if(0===qt(n))return null;case"keydown":case"keyup":e=Yt;break;case"blur":case"focus":e=Ut;break;case"click":if(2===n.button)return null;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":e=Xt;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":e=en;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":e=tn;break;case Ye:case Ke:case $e:e=Lt;break;case Qe:e=nn;break;case"scroll":e=Ft;break;case"wheel":e=rn;break;case"copy":case"cut":case"paste":e=Bt;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":e=Zt;break;default:e=It}return Mt(t=e.getPooled(o,t,n,r)),t}},gn=i.unstable_UserBlockingPriority,bn=i.unstable_runWithPriority,vn=mn.getEventPriority,yn=10,kn=[];function _n(e){var t=e.targetInst,n=t;do{if(!n){e.ancestors.push(n);break}var r=n;if(3===r.tag)r=r.stateNode.containerInfo;else{for(;r.return;)r=r.return;r=3!==r.tag?null:r.stateNode.containerInfo}if(!r)break;5!==(t=n.tag)&&6!==t||e.ancestors.push(n),n=lr(r)}while(n);for(n=0;n<e.ancestors.length;n++){t=e.ancestors[n];var o=St(e.nativeEvent);r=e.topLevelType;for(var i=e.nativeEvent,a=e.eventSystemFlags,s=null,l=0;l<d.length;l++){var c=d[l];c&&(c=c.extractEvents(r,t,i,o,a))&&(s=S(s,c))}O(s)}}var wn=!0;function Cn(e,t){Sn(t,e,!1)}function Sn(e,t,n){switch(vn(t)){case 0:var r=function(e,t,n){le||ae();var r=En,o=le;le=!0;try{ie(r,e,t,n)}finally{(le=o)||ue()}}.bind(null,t,1);break;case 1:r=function(e,t,n){bn(gn,En.bind(null,e,t,n))}.bind(null,t,1);break;default:r=En.bind(null,t,1)}n?e.addEventListener(t,r,!0):e.addEventListener(t,r,!1)}function Pn(e,t,n,r){if(kn.length){var o=kn.pop();o.topLevelType=e,o.eventSystemFlags=t,o.nativeEvent=n,o.targetInst=r,e=o}else e={topLevelType:e,eventSystemFlags:t,nativeEvent:n,targetInst:r,ancestors:[]};try{if(t=_n,n=e,ce)t(n,void 0);else{ce=!0;try{se(t,n,void 0)}finally{ce=!1,ue()}}}finally{e.topLevelType=null,e.nativeEvent=null,e.targetInst=null,e.ancestors.length=0,kn.length<yn&&kn.push(e)}}function En(e,t,n){if(wn)if(0<at.length&&-1<ft.indexOf(e))e=mt(null,e,t,n),at.push(e);else{var r=xn(e,t,n);null===r?gt(e,n):-1<ft.indexOf(e)?(e=mt(r,e,t,n),at.push(e)):function(e,t,n,r){switch(t){case"focus":return st=bt(st,e,t,n,r),!0;case"dragenter":return lt=bt(lt,e,t,n,r),!0;case"mouseover":return ct=bt(ct,e,t,n,r),!0;case"pointerover":var o=r.pointerId;return ut.set(o,bt(ut.get(o)||null,e,t,n,r)),!0;case"gotpointercapture":return o=r.pointerId,dt.set(o,bt(dt.get(o)||null,e,t,n,r)),!0}return!1}(r,e,t,n)||(gt(e,n),Pn(e,t,n,null))}}function xn(e,t,n){var r=St(n);if(null!==(r=lr(r))){var o=Xe(r);if(null===o)r=null;else{var i=o.tag;if(13===i){if(null!==(r=Ze(o)))return r;r=null}else if(3===i){if(o.stateNode.hydrate)return 3===o.tag?o.stateNode.containerInfo:null;r=null}else o!==r&&(r=null)}}return Pn(e,t,n,r),null}function On(e){if(!J)return!1;var t=(e="on"+e)in document;return t||((t=document.createElement("div")).setAttribute(e,"return;"),t="function"==typeof t[e]),t}var Tn=new("function"==typeof WeakMap?WeakMap:Map);function Mn(e){var t=Tn.get(e);return void 0===t&&(t=new Set,Tn.set(e,t)),t}function An(e,t,n){if(!n.has(e)){switch(e){case"scroll":Sn(t,"scroll",!0);break;case"focus":case"blur":Sn(t,"focus",!0),Sn(t,"blur",!0),n.add("blur"),n.add("focus");break;case"cancel":case"close":On(e)&&Sn(t,e,!0);break;case"invalid":case"submit":case"reset":break;default:-1===Je.indexOf(e)&&Cn(e,t)}n.add(e)}}var jn={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},In=["Webkit","ms","Moz","O"];function Nn(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||jn.hasOwnProperty(e)&&jn[e]?(""+t).trim():t+"px"}function Rn(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),o=Nn(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,o):e[n]=o}}Object.keys(jn).forEach(function(e){In.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),jn[t]=jn[e]})});var Dn=o({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ln(e,t){if(t){if(Dn[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e,""));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if(!("object"==typeof t.dangerouslySetInnerHTML&&"__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(a(62,""))}}function Bn(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Fn(e,t){var n=Mn(e=9===e.nodeType||11===e.nodeType?e:e.ownerDocument);t=h[t];for(var r=0;r<t.length;r++)An(t[r],e,n)}function Un(){}function qn(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function zn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Hn(e,t){var n,r=zn(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=zn(r)}}function Vn(){for(var e=window,t=qn();t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(e){n=!1}if(!n)break;t=qn((e=t.contentWindow).document)}return t}function Wn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var Gn="$",Yn="/$",Kn="$?",$n="$!",Qn=null,Jn=null;function Xn(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function Zn(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var er="function"==typeof setTimeout?setTimeout:void 0,tr="function"==typeof clearTimeout?clearTimeout:void 0;function nr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function rr(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if(n===Gn||n===$n||n===Kn){if(0===t)return e;t--}else n===Yn&&t++}e=e.previousSibling}return null}var or=Math.random().toString(36).slice(2),ir="__reactInternalInstance$"+or,ar="__reactEventHandlers$"+or,sr="__reactContainere$"+or;function lr(e){var t=e[ir];if(t)return t;for(var n=e.parentNode;n;){if(t=n[sr]||n[ir]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=rr(e);null!==e;){if(n=e[ir])return n;e=rr(e)}return t}n=(e=n).parentNode}return null}function cr(e){return!(e=e[ir]||e[sr])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ur(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function dr(e){return e[ar]||null}var pr=null,fr=null,hr=null;function mr(){if(hr)return hr;var e,t,n=fr,r=n.length,o="value"in pr?pr.value:pr.textContent,i=o.length;for(e=0;e<r&&n[e]===o[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===o[i-t];t++);return hr=o.slice(e,1<t?1-t:void 0)}var gr=It.extend({data:null}),br=It.extend({data:null}),vr=[9,13,27,32],yr=J&&"CompositionEvent"in window,kr=null;J&&"documentMode"in document&&(kr=document.documentMode);var _r=J&&"TextEvent"in window&&!kr,wr=J&&(!yr||kr&&8<kr&&11>=kr),Cr=String.fromCharCode(32),Sr={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},Pr=!1;function Er(e,t){switch(e){case"keyup":return-1!==vr.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function xr(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var Or=!1,Tr={eventTypes:Sr,extractEvents:function(e,t,n,r){var o;if(yr)e:{switch(e){case"compositionstart":var i=Sr.compositionStart;break e;case"compositionend":i=Sr.compositionEnd;break e;case"compositionupdate":i=Sr.compositionUpdate;break e}i=void 0}else Or?Er(e,n)&&(i=Sr.compositionEnd):"keydown"===e&&229===n.keyCode&&(i=Sr.compositionStart);return i?(wr&&"ko"!==n.locale&&(Or||i!==Sr.compositionStart?i===Sr.compositionEnd&&Or&&(o=mr()):(fr="value"in(pr=r)?pr.value:pr.textContent,Or=!0)),i=gr.getPooled(i,t,n,r),o?i.data=o:null!==(o=xr(n))&&(i.data=o),Mt(i),o=i):o=null,(e=_r?function(e,t){switch(e){case"compositionend":return xr(t);case"keypress":return 32!==t.which?null:(Pr=!0,Cr);case"textInput":return(e=t.data)===Cr&&Pr?null:e;default:return null}}(e,n):function(e,t){if(Or)return"compositionend"===e||!yr&&Er(e,t)?(e=mr(),hr=fr=pr=null,Or=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return wr&&"ko"!==t.locale?null:t.data;default:return null}}(e,n))?((t=br.getPooled(Sr.beforeInput,t,n,r)).data=e,Mt(t)):t=null,null===o?t:null===t?o:[o,t]}},Mr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ar(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Mr[e.type]:"textarea"===t}var jr={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}};function Ir(e,t,n){return(e=It.getPooled(jr.change,e,t,n)).type="change",ne(n),Mt(e),e}var Nr=null,Rr=null;function Dr(e){O(e)}function Lr(e){if(Ce(ur(e)))return e}function Br(e,t){if("change"===e)return t}var Fr=!1;function Ur(){Nr&&(Nr.detachEvent("onpropertychange",qr),Rr=Nr=null)}function qr(e){if("value"===e.propertyName&&Lr(Rr))if(e=Ir(Rr,e,St(e)),le)O(e);else{le=!0;try{oe(Dr,e)}finally{le=!1,ue()}}}function zr(e,t,n){"focus"===e?(Ur(),Rr=n,(Nr=t).attachEvent("onpropertychange",qr)):"blur"===e&&Ur()}function Hr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Lr(Rr)}function Vr(e,t){if("click"===e)return Lr(t)}function Wr(e,t){if("input"===e||"change"===e)return Lr(t)}J&&(Fr=On("input")&&(!document.documentMode||9<document.documentMode));var Gr,Yr={eventTypes:jr,_isInputEventSupported:Fr,extractEvents:function(e,t,n,r){var o=t?ur(t):window,i=o.nodeName&&o.nodeName.toLowerCase();if("select"===i||"input"===i&&"file"===o.type)var a=Br;else if(Ar(o))if(Fr)a=Wr;else{a=Hr;var s=zr}else(i=o.nodeName)&&"input"===i.toLowerCase()&&("checkbox"===o.type||"radio"===o.type)&&(a=Vr);if(a&&(a=a(e,t)))return Ir(a,n,r);s&&s(e,o,t),"blur"===e&&(e=o._wrapperState)&&e.controlled&&"number"===o.type&&Te(o,"number",o.value)}},Kr={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},$r={eventTypes:Kr,extractEvents:function(e,t,n,r,o){var i="mouseover"===e||"pointerover"===e,a="mouseout"===e||"pointerout"===e;if(i&&0==(32&o)&&(n.relatedTarget||n.fromElement)||!a&&!i)return null;if(o=r.window===r?r:(o=r.ownerDocument)?o.defaultView||o.parentWindow:window,a?(a=t,null!==(t=(t=n.relatedTarget||n.toElement)?lr(t):null)&&(t!==(i=Xe(t))||5!==t.tag&&6!==t.tag)&&(t=null)):a=null,a===t)return null;if("mouseout"===e||"mouseover"===e)var s=Xt,l=Kr.mouseLeave,c=Kr.mouseEnter,u="mouse";else"pointerout"!==e&&"pointerover"!==e||(s=Zt,l=Kr.pointerLeave,c=Kr.pointerEnter,u="pointer");if(e=null==a?o:ur(a),o=null==t?o:ur(t),(l=s.getPooled(l,a,n,r)).type=u+"leave",l.target=e,l.relatedTarget=o,(r=s.getPooled(c,t,n,r)).type=u+"enter",r.target=o,r.relatedTarget=e,u=t,(s=a)&&u)e:{for(e=u,a=0,t=c=s;t;t=Pt(t))a++;for(t=0,o=e;o;o=Pt(o))t++;for(;0<a-t;)c=Pt(c),a--;for(;0<t-a;)e=Pt(e),t--;for(;a--;){if(c===e||c===e.alternate)break e;c=Pt(c),e=Pt(e)}c=null}else c=null;for(e=c,c=[];s&&s!==e&&(null===(a=s.alternate)||a!==e);)c.push(s),s=Pt(s);for(s=[];u&&u!==e&&(null===(a=u.alternate)||a!==e);)s.push(u),u=Pt(u);for(u=0;u<c.length;u++)Ot(c[u],"bubbled",l);for(u=s.length;0<u--;)Ot(s[u],"captured",r);return n===Gr?(Gr=null,[l]):(Gr=n,[l,r])}},Qr="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},Jr=Object.prototype.hasOwnProperty;function Xr(e,t){if(Qr(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!Jr.call(t,n[r])||!Qr(e[n[r]],t[n[r]]))return!1;return!0}var Zr=J&&"documentMode"in document&&11>=document.documentMode,eo={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},to=null,no=null,ro=null,oo=!1;function io(e,t){var n=t.window===t?t.document:9===t.nodeType?t:t.ownerDocument;return oo||null==to||to!==qn(n)?null:(n="selectionStart"in(n=to)&&Wn(n)?{start:n.selectionStart,end:n.selectionEnd}:{anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},ro&&Xr(ro,n)?null:(ro=n,(e=It.getPooled(eo.select,no,e,t)).type="select",e.target=to,Mt(e),e))}var ao={eventTypes:eo,extractEvents:function(e,t,n,r){var o,i=r.window===r?r.document:9===r.nodeType?r:r.ownerDocument;if(!(o=!i)){e:{i=Mn(i),o=h.onSelect;for(var a=0;a<o.length;a++)if(!i.has(o[a])){i=!1;break e}i=!0}o=!i}if(o)return null;switch(i=t?ur(t):window,e){case"focus":(Ar(i)||"true"===i.contentEditable)&&(to=i,no=t,ro=null);break;case"blur":ro=no=to=null;break;case"mousedown":oo=!0;break;case"contextmenu":case"mouseup":case"dragend":return oo=!1,io(n,r);case"selectionchange":if(Zr)break;case"keydown":case"keyup":return io(n,r)}return null}};T.injectEventPluginOrder("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),k=dr,_=cr,w=ur,T.injectEventPluginsByName({SimpleEventPlugin:mn,EnterLeaveEventPlugin:$r,ChangeEventPlugin:Yr,SelectEventPlugin:ao,BeforeInputEventPlugin:Tr}),new Set;var so=[],lo=-1;function co(e){0>lo||(e.current=so[lo],so[lo]=null,lo--)}function uo(e,t){so[++lo]=e.current,e.current=t}var po={},fo={current:po},ho={current:!1},mo=po;function go(e,t){var n=e.type.contextTypes;if(!n)return po;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o,i={};for(o in n)i[o]=t[o];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function bo(e){return null!==(e=e.childContextTypes)&&void 0!==e}function vo(e){co(ho),co(fo)}function yo(e){co(ho),co(fo)}function ko(e,t,n){if(fo.current!==po)throw Error(a(168));uo(fo,t),uo(ho,n)}function _o(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!=typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in e))throw Error(a(108,$(t)||"Unknown",i));return o({},n,{},r)}function wo(e){var t=e.stateNode;return t=t&&t.__reactInternalMemoizedMergedChildContext||po,mo=fo.current,uo(fo,t),uo(ho,ho.current),!0}function Co(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(t=_o(e,t,mo),r.__reactInternalMemoizedMergedChildContext=t,co(ho),co(fo),uo(fo,t)):co(ho),uo(ho,n)}var So=i.unstable_runWithPriority,Po=i.unstable_scheduleCallback,Eo=i.unstable_cancelCallback,xo=i.unstable_shouldYield,Oo=i.unstable_requestPaint,To=i.unstable_now,Mo=i.unstable_getCurrentPriorityLevel,Ao=i.unstable_ImmediatePriority,jo=i.unstable_UserBlockingPriority,Io=i.unstable_NormalPriority,No=i.unstable_LowPriority,Ro=i.unstable_IdlePriority,Do={},Lo=void 0!==Oo?Oo:function(){},Bo=null,Fo=null,Uo=!1,qo=To(),zo=1e4>qo?To:function(){return To()-qo};function Ho(){switch(Mo()){case Ao:return 99;case jo:return 98;case Io:return 97;case No:return 96;case Ro:return 95;default:throw Error(a(332))}}function Vo(e){switch(e){case 99:return Ao;case 98:return jo;case 97:return Io;case 96:return No;case 95:return Ro;default:throw Error(a(332))}}function Wo(e,t){return e=Vo(e),So(e,t)}function Go(e,t,n){return e=Vo(e),Po(e,t,n)}function Yo(e){return null===Bo?(Bo=[e],Fo=Po(Ao,$o)):Bo.push(e),Do}function Ko(){if(null!==Fo){var e=Fo;Fo=null,Eo(e)}$o()}function $o(){if(!Uo&&null!==Bo){Uo=!0;var e=0;try{var t=Bo;Wo(99,function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}}),Bo=null}catch(t){throw null!==Bo&&(Bo=Bo.slice(e+1)),Po(Ao,Ko),t}finally{Uo=!1}}}var Qo=3;function Jo(e,t,n){return 1073741821-(1+((1073741821-e+t/10)/(n/=10)|0))*n}function Xo(e,t){if(e&&e.defaultProps)for(var n in t=o({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}var Zo={current:null},ei=null,ti=null,ni=null;function ri(){ni=ti=ei=null}function oi(e,t){var n=e.type._context;uo(Zo,n._currentValue),n._currentValue=t}function ii(e){var t=Zo.current;co(Zo),e.type._context._currentValue=t}function ai(e,t){for(;null!==e;){var n=e.alternate;if(e.childExpirationTime<t)e.childExpirationTime=t,null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t);else{if(!(null!==n&&n.childExpirationTime<t))break;n.childExpirationTime=t}e=e.return}}function si(e,t){ei=e,ni=ti=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(e.expirationTime>=t&&(qa=!0),e.firstContext=null)}function li(e,t){if(ni!==e&&!1!==t&&0!==t)if("number"==typeof t&&1073741823!==t||(ni=e,t=1073741823),t={context:e,observedBits:t,next:null},null===ti){if(null===ei)throw Error(a(308));ti=t,ei.dependencies={expirationTime:0,firstContext:t,responders:null}}else ti=ti.next=t;return e._currentValue}var ci=!1;function ui(e){return{baseState:e,firstUpdate:null,lastUpdate:null,firstCapturedUpdate:null,lastCapturedUpdate:null,firstEffect:null,lastEffect:null,firstCapturedEffect:null,lastCapturedEffect:null}}function di(e){return{baseState:e.baseState,firstUpdate:e.firstUpdate,lastUpdate:e.lastUpdate,firstCapturedUpdate:null,lastCapturedUpdate:null,firstEffect:null,lastEffect:null,firstCapturedEffect:null,lastCapturedEffect:null}}function pi(e,t){return{expirationTime:e,suspenseConfig:t,tag:0,payload:null,callback:null,next:null,nextEffect:null}}function fi(e,t){null===e.lastUpdate?e.firstUpdate=e.lastUpdate=t:(e.lastUpdate.next=t,e.lastUpdate=t)}function hi(e,t){var n=e.alternate;if(null===n){var r=e.updateQueue,o=null;null===r&&(r=e.updateQueue=ui(e.memoizedState))}else r=e.updateQueue,o=n.updateQueue,null===r?null===o?(r=e.updateQueue=ui(e.memoizedState),o=n.updateQueue=ui(n.memoizedState)):r=e.updateQueue=di(o):null===o&&(o=n.updateQueue=di(r));null===o||r===o?fi(r,t):null===r.lastUpdate||null===o.lastUpdate?(fi(r,t),fi(o,t)):(fi(r,t),o.lastUpdate=t)}function mi(e,t){var n=e.updateQueue;null===(n=null===n?e.updateQueue=ui(e.memoizedState):gi(e,n)).lastCapturedUpdate?n.firstCapturedUpdate=n.lastCapturedUpdate=t:(n.lastCapturedUpdate.next=t,n.lastCapturedUpdate=t)}function gi(e,t){var n=e.alternate;return null!==n&&t===n.updateQueue&&(t=e.updateQueue=di(t)),t}function bi(e,t,n,r,i,a){switch(n.tag){case 1:return"function"==typeof(e=n.payload)?e.call(a,r,i):e;case 3:e.effectTag=-4097&e.effectTag|64;case 0:if(null===(i="function"==typeof(e=n.payload)?e.call(a,r,i):e)||void 0===i)break;return o({},r,i);case 2:ci=!0}return r}function vi(e,t,n,r,o){ci=!1;for(var i=(t=gi(e,t)).baseState,a=null,s=0,l=t.firstUpdate,c=i;null!==l;){var u=l.expirationTime;u<o?(null===a&&(a=l,i=c),s<u&&(s=u)):(wl(u,l.suspenseConfig),c=bi(e,0,l,c,n,r),null!==l.callback&&(e.effectTag|=32,l.nextEffect=null,null===t.lastEffect?t.firstEffect=t.lastEffect=l:(t.lastEffect.nextEffect=l,t.lastEffect=l))),l=l.next}for(u=null,l=t.firstCapturedUpdate;null!==l;){var d=l.expirationTime;d<o?(null===u&&(u=l,null===a&&(i=c)),s<d&&(s=d)):(c=bi(e,0,l,c,n,r),null!==l.callback&&(e.effectTag|=32,l.nextEffect=null,null===t.lastCapturedEffect?t.firstCapturedEffect=t.lastCapturedEffect=l:(t.lastCapturedEffect.nextEffect=l,t.lastCapturedEffect=l))),l=l.next}null===a&&(t.lastUpdate=null),null===u?t.lastCapturedUpdate=null:e.effectTag|=32,null===a&&null===u&&(i=c),t.baseState=i,t.firstUpdate=a,t.firstCapturedUpdate=u,Cl(s),e.expirationTime=s,e.memoizedState=c}function yi(e,t,n){null!==t.firstCapturedUpdate&&(null!==t.lastUpdate&&(t.lastUpdate.next=t.firstCapturedUpdate,t.lastUpdate=t.lastCapturedUpdate),t.firstCapturedUpdate=t.lastCapturedUpdate=null),ki(t.firstEffect,n),t.firstEffect=t.lastEffect=null,ki(t.firstCapturedEffect,n),t.firstCapturedEffect=t.lastCapturedEffect=null}function ki(e,t){for(;null!==e;){var n=e.callback;if(null!==n){e.callback=null;var r=t;if("function"!=typeof n)throw Error(a(191,n));n.call(r)}e=e.nextEffect}}var _i=A.ReactCurrentBatchConfig,wi=(new r.Component).refs;function Ci(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:o({},t,n),e.memoizedState=n,null!==(r=e.updateQueue)&&0===e.expirationTime&&(r.baseState=n)}var Si={isMounted:function(e){return!!(e=e._reactInternalFiber)&&Xe(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternalFiber;var r=ul(),o=_i.suspense;(o=pi(r=dl(r,e,o),o)).payload=t,void 0!==n&&null!==n&&(o.callback=n),hi(e,o),pl(e,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternalFiber;var r=ul(),o=_i.suspense;(o=pi(r=dl(r,e,o),o)).tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),hi(e,o),pl(e,r)},enqueueForceUpdate:function(e,t){e=e._reactInternalFiber;var n=ul(),r=_i.suspense;(r=pi(n=dl(n,e,r),r)).tag=2,void 0!==t&&null!==t&&(r.callback=t),hi(e,r),pl(e,n)}};function Pi(e,t,n,r,o,i,a){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,i,a):!t.prototype||!t.prototype.isPureReactComponent||!Xr(n,r)||!Xr(o,i)}function Ei(e,t,n){var r=!1,o=po,i=t.contextType;return"object"==typeof i&&null!==i?i=li(i):(o=bo(t)?mo:fo.current,i=(r=null!==(r=t.contextTypes)&&void 0!==r)?go(e,o):po),t=new t(n,i),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Si,e.stateNode=t,t._reactInternalFiber=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=i),t}function xi(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Si.enqueueReplaceState(t,t.state,null)}function Oi(e,t,n,r){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs=wi;var i=t.contextType;"object"==typeof i&&null!==i?o.context=li(i):(i=bo(t)?mo:fo.current,o.context=go(e,i)),null!==(i=e.updateQueue)&&(vi(e,i,n,o,r),o.state=e.memoizedState),"function"==typeof(i=t.getDerivedStateFromProps)&&(Ci(e,t,i,n),o.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof o.getSnapshotBeforeUpdate||"function"!=typeof o.UNSAFE_componentWillMount&&"function"!=typeof o.componentWillMount||(t=o.state,"function"==typeof o.componentWillMount&&o.componentWillMount(),"function"==typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount(),t!==o.state&&Si.enqueueReplaceState(o,o.state,null),null!==(i=e.updateQueue)&&(vi(e,i,n,o,r),o.state=e.memoizedState)),"function"==typeof o.componentDidMount&&(e.effectTag|=4)}var Ti=Array.isArray;function Mi(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var o=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===o?t.ref:((t=function(e){var t=r.refs;t===wi&&(t=r.refs={}),null===e?delete t[o]:t[o]=e})._stringRef=o,t)}if("string"!=typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Ai(e,t){if("textarea"!==e.type)throw Error(a(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t,""))}function ji(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.effectTag=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function o(e,t,n){return(e=Ul(e,t)).index=0,e.sibling=null,e}function i(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.effectTag=2,n):r:(t.effectTag=2,n):n}function s(t){return e&&null===t.alternate&&(t.effectTag=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Hl(n,e.mode,r)).return=e,t):((t=o(t,n)).return=e,t)}function c(e,t,n,r){return null!==t&&t.elementType===n.type?((r=o(t,n.props)).ref=Mi(e,t,n),r.return=e,r):((r=ql(n.type,n.key,n.props,null,e.mode,r)).ref=Mi(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Vl(n,e.mode,r)).return=e,t):((t=o(t,n.children||[])).return=e,t)}function d(e,t,n,r,i){return null===t||7!==t.tag?((t=zl(n,e.mode,r,i)).return=e,t):((t=o(t,n)).return=e,t)}function p(e,t,n){if("string"==typeof t||"number"==typeof t)return(t=Hl(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case N:return(n=ql(t.type,t.key,t.props,null,e.mode,n)).ref=Mi(e,null,t),n.return=e,n;case R:return(t=Vl(t,e.mode,n)).return=e,t}if(Ti(t)||K(t))return(t=zl(t,e.mode,n,null)).return=e,t;Ai(e,t)}return null}function f(e,t,n,r){var o=null!==t?t.key:null;if("string"==typeof n||"number"==typeof n)return null!==o?null:l(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case N:return n.key===o?n.type===D?d(e,t,n.props.children,r,o):c(e,t,n,r):null;case R:return n.key===o?u(e,t,n,r):null}if(Ti(n)||K(n))return null!==o?null:d(e,t,n,r,null);Ai(e,n)}return null}function h(e,t,n,r,o){if("string"==typeof r||"number"==typeof r)return l(t,e=e.get(n)||null,""+r,o);if("object"==typeof r&&null!==r){switch(r.$$typeof){case N:return e=e.get(null===r.key?n:r.key)||null,r.type===D?d(t,e,r.props.children,o,r.key):c(t,e,r,o);case R:return u(t,e=e.get(null===r.key?n:r.key)||null,r,o)}if(Ti(r)||K(r))return d(t,e=e.get(n)||null,r,o,null);Ai(t,r)}return null}function m(o,a,s,l){for(var c=null,u=null,d=a,m=a=0,g=null;null!==d&&m<s.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var b=f(o,d,s[m],l);if(null===b){null===d&&(d=g);break}e&&d&&null===b.alternate&&t(o,d),a=i(b,a,m),null===u?c=b:u.sibling=b,u=b,d=g}if(m===s.length)return n(o,d),c;if(null===d){for(;m<s.length;m++)null!==(d=p(o,s[m],l))&&(a=i(d,a,m),null===u?c=d:u.sibling=d,u=d);return c}for(d=r(o,d);m<s.length;m++)null!==(g=h(d,o,m,s[m],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),a=i(g,a,m),null===u?c=g:u.sibling=g,u=g);return e&&d.forEach(function(e){return t(o,e)}),c}function g(o,s,l,c){var u=K(l);if("function"!=typeof u)throw Error(a(150));if(null==(l=u.call(l)))throw Error(a(151));for(var d=u=null,m=s,g=s=0,b=null,v=l.next();null!==m&&!v.done;g++,v=l.next()){m.index>g?(b=m,m=null):b=m.sibling;var y=f(o,m,v.value,c);if(null===y){null===m&&(m=b);break}e&&m&&null===y.alternate&&t(o,m),s=i(y,s,g),null===d?u=y:d.sibling=y,d=y,m=b}if(v.done)return n(o,m),u;if(null===m){for(;!v.done;g++,v=l.next())null!==(v=p(o,v.value,c))&&(s=i(v,s,g),null===d?u=v:d.sibling=v,d=v);return u}for(m=r(o,m);!v.done;g++,v=l.next())null!==(v=h(m,o,g,v.value,c))&&(e&&null!==v.alternate&&m.delete(null===v.key?g:v.key),s=i(v,s,g),null===d?u=v:d.sibling=v,d=v);return e&&m.forEach(function(e){return t(o,e)}),u}return function(e,r,i,l){var c="object"==typeof i&&null!==i&&i.type===D&&null===i.key;c&&(i=i.props.children);var u="object"==typeof i&&null!==i;if(u)switch(i.$$typeof){case N:e:{for(u=i.key,c=r;null!==c;){if(c.key===u){if(7===c.tag?i.type===D:c.elementType===i.type){n(e,c.sibling),(r=o(c,i.type===D?i.props.children:i.props)).ref=Mi(e,c,i),r.return=e,e=r;break e}n(e,c);break}t(e,c),c=c.sibling}i.type===D?((r=zl(i.props.children,e.mode,l,i.key)).return=e,e=r):((l=ql(i.type,i.key,i.props,null,e.mode,l)).ref=Mi(e,r,i),l.return=e,e=l)}return s(e);case R:e:{for(c=i.key;null!==r;){if(r.key===c){if(4===r.tag&&r.stateNode.containerInfo===i.containerInfo&&r.stateNode.implementation===i.implementation){n(e,r.sibling),(r=o(r,i.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Vl(i,e.mode,l)).return=e,e=r}return s(e)}if("string"==typeof i||"number"==typeof i)return i=""+i,null!==r&&6===r.tag?(n(e,r.sibling),(r=o(r,i)).return=e,e=r):(n(e,r),(r=Hl(i,e.mode,l)).return=e,e=r),s(e);if(Ti(i))return m(e,r,i,l);if(K(i))return g(e,r,i,l);if(u&&Ai(e,i),void 0===i&&!c)switch(e.tag){case 1:case 0:throw e=e.type,Error(a(152,e.displayName||e.name||"Component"))}return n(e,r)}}var Ii=ji(!0),Ni=ji(!1),Ri={},Di={current:Ri},Li={current:Ri},Bi={current:Ri};function Fi(e){if(e===Ri)throw Error(a(174));return e}function Ui(e,t){uo(Bi,t),uo(Li,e),uo(Di,Ri);var n=t.nodeType;switch(n){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Be(null,"");break;default:t=Be(t=(n=8===n?t.parentNode:t).namespaceURI||null,n=n.tagName)}co(Di),uo(Di,t)}function qi(e){co(Di),co(Li),co(Bi)}function zi(e){Fi(Bi.current);var t=Fi(Di.current),n=Be(t,e.type);t!==n&&(uo(Li,e),uo(Di,n))}function Hi(e){Li.current===e&&(co(Di),co(Li))}var Vi={current:0};function Wi(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||n.data===Kn||n.data===$n))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!=(64&t.effectTag))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function Gi(e,t){return{responder:e,props:t}}var Yi=A.ReactCurrentDispatcher,Ki=A.ReactCurrentBatchConfig,$i=0,Qi=null,Ji=null,Xi=null,Zi=null,ea=null,ta=null,na=0,ra=null,oa=0,ia=!1,aa=null,sa=0;function la(){throw Error(a(321))}function ca(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Qr(e[n],t[n]))return!1;return!0}function ua(e,t,n,r,o,i){if($i=i,Qi=t,Xi=null!==e?e.memoizedState:null,Yi.current=null===Xi?Ta:Ma,t=n(r,o),ia){do{ia=!1,sa+=1,Xi=null!==e?e.memoizedState:null,ta=Zi,ra=ea=Ji=null,Yi.current=Ma,t=n(r,o)}while(ia);aa=null,sa=0}if(Yi.current=Oa,(e=Qi).memoizedState=Zi,e.expirationTime=na,e.updateQueue=ra,e.effectTag|=oa,e=null!==Ji&&null!==Ji.next,$i=0,ta=ea=Zi=Xi=Ji=Qi=null,na=0,ra=null,oa=0,e)throw Error(a(300));return t}function da(){Yi.current=Oa,$i=0,ta=ea=Zi=Xi=Ji=Qi=null,na=0,ra=null,oa=0,ia=!1,aa=null,sa=0}function pa(){var e={memoizedState:null,baseState:null,queue:null,baseUpdate:null,next:null};return null===ea?Zi=ea=e:ea=ea.next=e,ea}function fa(){if(null!==ta)ta=(ea=ta).next,Xi=null!==(Ji=Xi)?Ji.next:null;else{if(null===Xi)throw Error(a(310));var e={memoizedState:(Ji=Xi).memoizedState,baseState:Ji.baseState,queue:Ji.queue,baseUpdate:Ji.baseUpdate,next:null};ea=null===ea?Zi=e:ea.next=e,Xi=Ji.next}return ea}function ha(e,t){return"function"==typeof t?t(e):t}function ma(e){var t=fa(),n=t.queue;if(null===n)throw Error(a(311));if(n.lastRenderedReducer=e,0<sa){var r=n.dispatch;if(null!==aa){var o=aa.get(n);if(void 0!==o){aa.delete(n);var i=t.memoizedState;do{i=e(i,o.action),o=o.next}while(null!==o);return Qr(i,t.memoizedState)||(qa=!0),t.memoizedState=i,t.baseUpdate===n.last&&(t.baseState=i),n.lastRenderedState=i,[i,r]}}return[t.memoizedState,r]}r=n.last;var s=t.baseUpdate;if(i=t.baseState,null!==s?(null!==r&&(r.next=null),r=s.next):r=null!==r?r.next:null,null!==r){var l=o=null,c=r,u=!1;do{var d=c.expirationTime;d<$i?(u||(u=!0,l=s,o=i),d>na&&Cl(na=d)):(wl(d,c.suspenseConfig),i=c.eagerReducer===e?c.eagerState:e(i,c.action)),s=c,c=c.next}while(null!==c&&c!==r);u||(l=s,o=i),Qr(i,t.memoizedState)||(qa=!0),t.memoizedState=i,t.baseUpdate=l,t.baseState=o,n.lastRenderedState=i}return[t.memoizedState,n.dispatch]}function ga(e){var t=pa();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={last:null,dispatch:null,lastRenderedReducer:ha,lastRenderedState:e}).dispatch=xa.bind(null,Qi,e),[t.memoizedState,e]}function ba(e){return ma(ha)}function va(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===ra?(ra={lastEffect:null}).lastEffect=e.next=e:null===(t=ra.lastEffect)?ra.lastEffect=e.next=e:(n=t.next,t.next=e,e.next=n,ra.lastEffect=e),e}function ya(e,t,n,r){var o=pa();oa|=e,o.memoizedState=va(t,n,void 0,void 0===r?null:r)}function ka(e,t,n,r){var o=fa();r=void 0===r?null:r;var i=void 0;if(null!==Ji){var a=Ji.memoizedState;if(i=a.destroy,null!==r&&ca(r,a.deps))return void va(0,n,i,r)}oa|=e,o.memoizedState=va(t,n,i,r)}function _a(e,t){return ya(516,192,e,t)}function wa(e,t){return ka(516,192,e,t)}function Ca(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Sa(){}function Pa(e,t){return pa().memoizedState=[e,void 0===t?null:t],e}function Ea(e,t){var n=fa();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ca(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function xa(e,t,n){if(!(25>sa))throw Error(a(301));var r=e.alternate;if(e===Qi||null!==r&&r===Qi)if(ia=!0,e={expirationTime:$i,suspenseConfig:null,action:n,eagerReducer:null,eagerState:null,next:null},null===aa&&(aa=new Map),void 0===(n=aa.get(t)))aa.set(t,e);else{for(t=n;null!==t.next;)t=t.next;t.next=e}else{var o=ul(),i=_i.suspense;i={expirationTime:o=dl(o,e,i),suspenseConfig:i,action:n,eagerReducer:null,eagerState:null,next:null};var s=t.last;if(null===s)i.next=i;else{var l=s.next;null!==l&&(i.next=l),s.next=i}if(t.last=i,0===e.expirationTime&&(null===r||0===r.expirationTime)&&null!==(r=t.lastRenderedReducer))try{var c=t.lastRenderedState,u=r(c,n);if(i.eagerReducer=r,i.eagerState=u,Qr(u,c))return}catch(e){}pl(e,o)}}var Oa={readContext:li,useCallback:la,useContext:la,useEffect:la,useImperativeHandle:la,useLayoutEffect:la,useMemo:la,useReducer:la,useRef:la,useState:la,useDebugValue:la,useResponder:la,useDeferredValue:la,useTransition:la},Ta={readContext:li,useCallback:Pa,useContext:li,useEffect:_a,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,ya(4,36,Ca.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ya(4,36,e,t)},useMemo:function(e,t){var n=pa();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=pa();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={last:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=xa.bind(null,Qi,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},pa().memoizedState=e},useState:ga,useDebugValue:Sa,useResponder:Gi,useDeferredValue:function(e,t){var n=ga(e),r=n[0],o=n[1];return _a(function(){i.unstable_next(function(){var n=Ki.suspense;Ki.suspense=void 0===t?null:t;try{o(e)}finally{Ki.suspense=n}})},[e,t]),r},useTransition:function(e){var t=ga(!1),n=t[0],r=t[1];return[Pa(function(t){r(!0),i.unstable_next(function(){var n=Ki.suspense;Ki.suspense=void 0===e?null:e;try{r(!1),t()}finally{Ki.suspense=n}})},[e,n]),n]}},Ma={readContext:li,useCallback:Ea,useContext:li,useEffect:wa,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,ka(4,36,Ca.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ka(4,36,e,t)},useMemo:function(e,t){var n=fa();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ca(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)},useReducer:ma,useRef:function(){return fa().memoizedState},useState:ba,useDebugValue:Sa,useResponder:Gi,useDeferredValue:function(e,t){var n=ba(),r=n[0],o=n[1];return wa(function(){i.unstable_next(function(){var n=Ki.suspense;Ki.suspense=void 0===t?null:t;try{o(e)}finally{Ki.suspense=n}})},[e,t]),r},useTransition:function(e){var t=ba(),n=t[0],r=t[1];return[Ea(function(t){r(!0),i.unstable_next(function(){var n=Ki.suspense;Ki.suspense=void 0===e?null:e;try{r(!1),t()}finally{Ki.suspense=n}})},[e,n]),n]}},Aa=null,ja=null,Ia=!1;function Na(e,t){var n=Bl(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.effectTag=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function Ra(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);case 13:default:return!1}}function Da(e){if(Ia){var t=ja;if(t){var n=t;if(!Ra(e,t)){if(!(t=nr(n.nextSibling))||!Ra(e,t))return e.effectTag=-1025&e.effectTag|2,Ia=!1,void(Aa=e);Na(Aa,n)}Aa=e,ja=nr(t.firstChild)}else e.effectTag=-1025&e.effectTag|2,Ia=!1,Aa=e}}function La(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Aa=e}function Ba(e){if(e!==Aa)return!1;if(!Ia)return La(e),Ia=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!Zn(t,e.memoizedProps))for(t=ja;t;)Na(e,t),t=nr(t.nextSibling);if(La(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if(n===Yn){if(0===t){ja=nr(e.nextSibling);break e}t--}else n!==Gn&&n!==$n&&n!==Kn||t++}e=e.nextSibling}ja=null}}else ja=Aa?nr(e.stateNode.nextSibling):null;return!0}function Fa(){ja=Aa=null,Ia=!1}var Ua=A.ReactCurrentOwner,qa=!1;function za(e,t,n,r){t.child=null===e?Ni(t,null,n,r):Ii(t,e.child,n,r)}function Ha(e,t,n,r,o){n=n.render;var i=t.ref;return si(t,o),r=ua(e,t,n,r,i,o),null===e||qa?(t.effectTag|=1,za(e,t,r,o),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=o&&(e.expirationTime=0),as(e,t,o))}function Va(e,t,n,r,o,i){if(null===e){var a=n.type;return"function"!=typeof a||Fl(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=ql(n.type,null,r,null,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Wa(e,t,a,r,o,i))}return a=e.child,o<i&&(o=a.memoizedProps,(n=null!==(n=n.compare)?n:Xr)(o,r)&&e.ref===t.ref)?as(e,t,i):(t.effectTag|=1,(e=Ul(a,r)).ref=t.ref,e.return=t,t.child=e)}function Wa(e,t,n,r,o,i){return null!==e&&Xr(e.memoizedProps,r)&&e.ref===t.ref&&(qa=!1,o<i)?as(e,t,i):Ya(e,t,n,r,i)}function Ga(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.effectTag|=128)}function Ya(e,t,n,r,o){var i=bo(n)?mo:fo.current;return i=go(t,i),si(t,o),n=ua(e,t,n,r,i,o),null===e||qa?(t.effectTag|=1,za(e,t,n,o),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=o&&(e.expirationTime=0),as(e,t,o))}function Ka(e,t,n,r,o){if(bo(n)){var i=!0;wo(t)}else i=!1;if(si(t,o),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),Ei(t,n,r),Oi(t,n,r,o),r=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var l=a.context,c=n.contextType;c="object"==typeof c&&null!==c?li(c):go(t,c=bo(n)?mo:fo.current);var u=n.getDerivedStateFromProps,d="function"==typeof u||"function"==typeof a.getSnapshotBeforeUpdate;d||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==r||l!==c)&&xi(t,a,r,c),ci=!1;var p=t.memoizedState;l=a.state=p;var f=t.updateQueue;null!==f&&(vi(t,f,r,a,o),l=t.memoizedState),s!==r||p!==l||ho.current||ci?("function"==typeof u&&(Ci(t,n,u,r),l=t.memoizedState),(s=ci||Pi(t,n,s,r,p,l,c))?(d||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||("function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"==typeof a.componentDidMount&&(t.effectTag|=4)):("function"==typeof a.componentDidMount&&(t.effectTag|=4),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=c,r=s):("function"==typeof a.componentDidMount&&(t.effectTag|=4),r=!1)}else a=t.stateNode,s=t.memoizedProps,a.props=t.type===t.elementType?s:Xo(t.type,s),l=a.context,c="object"==typeof(c=n.contextType)&&null!==c?li(c):go(t,c=bo(n)?mo:fo.current),(d="function"==typeof(u=n.getDerivedStateFromProps)||"function"==typeof a.getSnapshotBeforeUpdate)||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==r||l!==c)&&xi(t,a,r,c),ci=!1,l=t.memoizedState,p=a.state=l,null!==(f=t.updateQueue)&&(vi(t,f,r,a,o),p=t.memoizedState),s!==r||l!==p||ho.current||ci?("function"==typeof u&&(Ci(t,n,u,r),p=t.memoizedState),(u=ci||Pi(t,n,s,r,l,p,c))?(d||"function"!=typeof a.UNSAFE_componentWillUpdate&&"function"!=typeof a.componentWillUpdate||("function"==typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,c),"function"==typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,c)),"function"==typeof a.componentDidUpdate&&(t.effectTag|=4),"function"==typeof a.getSnapshotBeforeUpdate&&(t.effectTag|=256)):("function"!=typeof a.componentDidUpdate||s===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=256),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=c,r=u):("function"!=typeof a.componentDidUpdate||s===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=256),r=!1);return $a(e,t,n,r,i,o)}function $a(e,t,n,r,o,i){Ga(e,t);var a=0!=(64&t.effectTag);if(!r&&!a)return o&&Co(t,n,!1),as(e,t,i);r=t.stateNode,Ua.current=t;var s=a&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return t.effectTag|=1,null!==e&&a?(t.child=Ii(t,e.child,null,i),t.child=Ii(t,null,s,i)):za(e,t,s,i),t.memoizedState=r.state,o&&Co(t,n,!0),t.child}function Qa(e){var t=e.stateNode;t.pendingContext?ko(0,t.pendingContext,t.pendingContext!==t.context):t.context&&ko(0,t.context,!1),Ui(e,t.containerInfo)}var Ja,Xa,Za,es,ts={dehydrated:null,retryTime:0};function ns(e,t,n){var r,o=t.mode,i=t.pendingProps,a=Vi.current,s=!1;if((r=0!=(64&t.effectTag))||(r=0!=(2&a)&&(null===e||null!==e.memoizedState)),r?(s=!0,t.effectTag&=-65):null!==e&&null===e.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(a|=1),uo(Vi,1&a),null===e){if(void 0!==i.fallback&&Da(t),s){if(s=i.fallback,(i=zl(null,o,0,null)).return=t,0==(2&t.mode))for(e=null!==t.memoizedState?t.child.child:t.child,i.child=e;null!==e;)e.return=i,e=e.sibling;return(n=zl(s,o,n,null)).return=t,i.sibling=n,t.memoizedState=ts,t.child=i,n}return o=i.children,t.memoizedState=null,t.child=Ni(t,null,o,n)}if(null!==e.memoizedState){if(o=(e=e.child).sibling,s){if(i=i.fallback,(n=Ul(e,e.pendingProps)).return=t,0==(2&t.mode)&&(s=null!==t.memoizedState?t.child.child:t.child)!==e.child)for(n.child=s;null!==s;)s.return=n,s=s.sibling;return(o=Ul(o,i,o.expirationTime)).return=t,n.sibling=o,n.childExpirationTime=0,t.memoizedState=ts,t.child=n,o}return n=Ii(t,e.child,i.children,n),t.memoizedState=null,t.child=n}if(e=e.child,s){if(s=i.fallback,(i=zl(null,o,0,null)).return=t,i.child=e,null!==e&&(e.return=i),0==(2&t.mode))for(e=null!==t.memoizedState?t.child.child:t.child,i.child=e;null!==e;)e.return=i,e=e.sibling;return(n=zl(s,o,n,null)).return=t,i.sibling=n,n.effectTag|=2,i.childExpirationTime=0,t.memoizedState=ts,t.child=i,n}return t.memoizedState=null,t.child=Ii(t,e,i.children,n)}function rs(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t),ai(e.return,t)}function os(e,t,n,r,o,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,last:r,tail:n,tailExpiration:0,tailMode:o,lastEffect:i}:(a.isBackwards=t,a.rendering=null,a.last=r,a.tail=n,a.tailExpiration=0,a.tailMode=o,a.lastEffect=i)}function is(e,t,n){var r=t.pendingProps,o=r.revealOrder,i=r.tail;if(za(e,t,r.children,n),0!=(2&(r=Vi.current)))r=1&r|2,t.effectTag|=64;else{if(null!==e&&0!=(64&e.effectTag))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&rs(e,n);else if(19===e.tag)rs(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(uo(Vi,r),0==(2&t.mode))t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;null!==n;)null!==(e=n.alternate)&&null===Wi(e)&&(o=n),n=n.sibling;null===(n=o)?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),os(t,!1,o,n,i,t.lastEffect);break;case"backwards":for(n=null,o=t.child,t.child=null;null!==o;){if(null!==(e=o.alternate)&&null===Wi(e)){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}os(t,!0,n,null,i,t.lastEffect);break;case"together":os(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function as(e,t,n){null!==e&&(t.dependencies=e.dependencies);var r=t.expirationTime;if(0!==r&&Cl(r),t.childExpirationTime<n)return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Ul(e=t.child,e.pendingProps,e.expirationTime),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Ul(e,e.pendingProps,e.expirationTime)).return=t;n.sibling=null}return t.child}function ss(e){e.effectTag|=4}function ls(e,t){switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function cs(e){switch(e.tag){case 1:bo(e.type)&&vo();var t=e.effectTag;return 4096&t?(e.effectTag=-4097&t|64,e):null;case 3:if(qi(),yo(),0!=(64&(t=e.effectTag)))throw Error(a(285));return e.effectTag=-4097&t|64,e;case 5:return Hi(e),null;case 13:return co(Vi),4096&(t=e.effectTag)?(e.effectTag=-4097&t|64,e):null;case 19:return co(Vi),null;case 4:return qi(),null;case 10:return ii(e),null;default:return null}}function us(e,t){return{value:e,source:t,stack:Q(t)}}Ja=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Xa=function(){},Za=function(e,t,n,r,i){var a=e.memoizedProps;if(a!==r){var s,l,c=t.stateNode;switch(Fi(Di.current),e=null,n){case"input":a=Se(c,a),r=Se(c,r),e=[];break;case"option":a=Me(c,a),r=Me(c,r),e=[];break;case"select":a=o({},a,{value:void 0}),r=o({},r,{value:void 0}),e=[];break;case"textarea":a=je(c,a),r=je(c,r),e=[];break;default:"function"!=typeof a.onClick&&"function"==typeof r.onClick&&(c.onclick=Un)}for(s in Ln(n,r),n=null,a)if(!r.hasOwnProperty(s)&&a.hasOwnProperty(s)&&null!=a[s])if("style"===s)for(l in c=a[s])c.hasOwnProperty(l)&&(n||(n={}),n[l]="");else"dangerouslySetInnerHTML"!==s&&"children"!==s&&"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(f.hasOwnProperty(s)?e||(e=[]):(e=e||[]).push(s,null));for(s in r){var u=r[s];if(c=null!=a?a[s]:void 0,r.hasOwnProperty(s)&&u!==c&&(null!=u||null!=c))if("style"===s)if(c){for(l in c)!c.hasOwnProperty(l)||u&&u.hasOwnProperty(l)||(n||(n={}),n[l]="");for(l in u)u.hasOwnProperty(l)&&c[l]!==u[l]&&(n||(n={}),n[l]=u[l])}else n||(e||(e=[]),e.push(s,n)),n=u;else"dangerouslySetInnerHTML"===s?(u=u?u.__html:void 0,c=c?c.__html:void 0,null!=u&&c!==u&&(e=e||[]).push(s,""+u)):"children"===s?c===u||"string"!=typeof u&&"number"!=typeof u||(e=e||[]).push(s,""+u):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&(f.hasOwnProperty(s)?(null!=u&&Fn(i,s),e||c===u||(e=[])):(e=e||[]).push(s,u))}n&&(e=e||[]).push("style",n),i=e,(t.updateQueue=i)&&ss(t)}},es=function(e,t,n,r){n!==r&&ss(t)};var ds="function"==typeof WeakSet?WeakSet:Set;function ps(e,t){var n=t.source,r=t.stack;null===r&&null!==n&&(r=Q(n)),null!==n&&$(n.type),t=t.value,null!==e&&1===e.tag&&$(e.type);try{console.error(t)}catch(e){setTimeout(function(){throw e})}}function fs(e){var t=e.ref;if(null!==t)if("function"==typeof t)try{t(null)}catch(t){Nl(e,t)}else t.current=null}function hs(e,t){switch(t.tag){case 0:case 11:case 15:ms(2,0,t);break;case 1:if(256&t.effectTag&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Xo(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}break;case 3:case 5:case 6:case 4:case 17:break;default:throw Error(a(163))}}function ms(e,t,n){if(null!==(n=null!==(n=n.updateQueue)?n.lastEffect:null)){var r=n=n.next;do{if(0!=(r.tag&e)){var o=r.destroy;r.destroy=void 0,void 0!==o&&o()}0!=(r.tag&t)&&(o=r.create,r.destroy=o()),r=r.next}while(r!==n)}}function gs(e,t,n){switch("function"==typeof Ll&&Ll(t),t.tag){case 0:case 11:case 14:case 15:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var r=e.next;Wo(97<n?97:n,function(){var e=r;do{var n=e.destroy;if(void 0!==n){var o=t;try{n()}catch(e){Nl(o,e)}}e=e.next}while(e!==r)})}break;case 1:fs(t),"function"==typeof(n=t.stateNode).componentWillUnmount&&function(e,t){try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(t){Nl(e,t)}}(t,n);break;case 5:fs(t);break;case 4:ks(e,t,n)}}function bs(e){var t=e.alternate;e.return=null,e.child=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.alternate=null,e.firstEffect=null,e.lastEffect=null,e.pendingProps=null,e.memoizedProps=null,null!==t&&bs(t)}function vs(e){return 5===e.tag||3===e.tag||4===e.tag}function ys(e){e:{for(var t=e.return;null!==t;){if(vs(t)){var n=t;break e}t=t.return}throw Error(a(160))}switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(a(161))}16&n.effectTag&&(qe(t,""),n.effectTag&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||vs(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.effectTag)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.effectTag)){n=n.stateNode;break e}}for(var o=e;;){var i=5===o.tag||6===o.tag;if(i){var s=i?o.stateNode:o.stateNode.instance;if(n)if(r){var l=s;s=n,8===(i=t).nodeType?i.parentNode.insertBefore(l,s):i.insertBefore(l,s)}else t.insertBefore(s,n);else r?(8===(l=t).nodeType?(i=l.parentNode).insertBefore(s,l):(i=l).appendChild(s),null!==(l=l._reactRootContainer)&&void 0!==l||null!==i.onclick||(i.onclick=Un)):t.appendChild(s)}else if(4!==o.tag&&null!==o.child){o.child.return=o,o=o.child;continue}if(o===e)break;for(;null===o.sibling;){if(null===o.return||o.return===e)return;o=o.return}o.sibling.return=o.return,o=o.sibling}}function ks(e,t,n){for(var r,o,i=t,s=!1;;){if(!s){s=i.return;e:for(;;){if(null===s)throw Error(a(160));switch(r=s.stateNode,s.tag){case 5:o=!1;break e;case 3:case 4:r=r.containerInfo,o=!0;break e}s=s.return}s=!0}if(5===i.tag||6===i.tag){e:for(var l=e,c=i,u=n,d=c;;)if(gs(l,d,u),null!==d.child&&4!==d.tag)d.child.return=d,d=d.child;else{if(d===c)break;for(;null===d.sibling;){if(null===d.return||d.return===c)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}o?(l=r,c=i.stateNode,8===l.nodeType?l.parentNode.removeChild(c):l.removeChild(c)):r.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){r=i.stateNode.containerInfo,o=!0,i.child.return=i,i=i.child;continue}}else if(gs(e,i,n),null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;4===(i=i.return).tag&&(s=!1)}i.sibling.return=i.return,i=i.sibling}}function _s(e,t){switch(t.tag){case 0:case 11:case 14:case 15:ms(4,8,t);break;case 1:break;case 5:var n=t.stateNode;if(null!=n){var r=t.memoizedProps,o=null!==e?e.memoizedProps:r;e=t.type;var i=t.updateQueue;if(t.updateQueue=null,null!==i){for(n[ar]=r,"input"===e&&"radio"===r.type&&null!=r.name&&Ee(n,r),Bn(e,o),t=Bn(e,r),o=0;o<i.length;o+=2){var s=i[o],l=i[o+1];"style"===s?Rn(n,l):"dangerouslySetInnerHTML"===s?Ue(n,l):"children"===s?qe(n,l):ke(n,s,l,t)}switch(e){case"input":xe(n,r);break;case"textarea":Ne(n,r);break;case"select":t=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(e=r.value)?Ae(n,!!r.multiple,e,!1):t!==!!r.multiple&&(null!=r.defaultValue?Ae(n,!!r.multiple,r.defaultValue,!0):Ae(n,!!r.multiple,r.multiple?[]:"",!1))}}}break;case 6:if(null===t.stateNode)throw Error(a(162));t.stateNode.nodeValue=t.memoizedProps;break;case 3:(t=t.stateNode).hydrate&&(t.hydrate=!1,Ct(t.containerInfo));break;case 12:break;case 13:if(n=t,null===t.memoizedState?r=!1:(r=!0,n=t.child,Js=zo()),null!==n)e:for(e=n;;){if(5===e.tag)i=e.stateNode,r?"function"==typeof(i=i.style).setProperty?i.setProperty("display","none","important"):i.display="none":(i=e.stateNode,o=void 0!==(o=e.memoizedProps.style)&&null!==o&&o.hasOwnProperty("display")?o.display:null,i.style.display=Nn("display",o));else if(6===e.tag)e.stateNode.nodeValue=r?"":e.memoizedProps;else{if(13===e.tag&&null!==e.memoizedState&&null===e.memoizedState.dehydrated){(i=e.child.sibling).return=e,e=i;continue}if(null!==e.child){e.child.return=e,e=e.child;continue}}if(e===n)break e;for(;null===e.sibling;){if(null===e.return||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}ws(t);break;case 19:ws(t);break;case 17:case 20:case 21:break;default:throw Error(a(163))}}function ws(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new ds),t.forEach(function(t){var r=function(e,t){var n=e.stateNode;null!==n&&n.delete(t),0==(t=0)&&(t=dl(t=ul(),e,null)),null!==(e=fl(e,t))&&ml(e)}.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}}var Cs="function"==typeof WeakMap?WeakMap:Map;function Ss(e,t,n){(n=pi(n,null)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){el||(el=!0,tl=r),ps(e,t)},n}function Ps(e,t,n){(n=pi(n,null)).tag=3;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var o=t.value;n.payload=function(){return ps(e,t),r(o)}}var i=e.stateNode;return null!==i&&"function"==typeof i.componentDidCatch&&(n.callback=function(){"function"!=typeof r&&(null===nl?nl=new Set([this]):nl.add(this),ps(e,t));var n=t.stack;this.componentDidCatch(t.value,{componentStack:null!==n?n:""})}),n}var Es,xs=Math.ceil,Os=A.ReactCurrentDispatcher,Ts=A.ReactCurrentOwner,Ms=0,As=8,js=16,Is=32,Ns=0,Rs=1,Ds=2,Ls=3,Bs=4,Fs=5,Us=Ms,qs=null,zs=null,Hs=0,Vs=Ns,Ws=null,Gs=1073741823,Ys=1073741823,Ks=null,$s=0,Qs=!1,Js=0,Xs=500,Zs=null,el=!1,tl=null,nl=null,rl=!1,ol=null,il=90,al=null,sl=0,ll=null,cl=0;function ul(){return(Us&(js|Is))!==Ms?1073741821-(zo()/10|0):0!==cl?cl:cl=1073741821-(zo()/10|0)}function dl(e,t,n){if(0==(2&(t=t.mode)))return 1073741823;var r=Ho();if(0==(4&t))return 99===r?1073741823:1073741822;if((Us&js)!==Ms)return Hs;if(null!==n)e=Jo(e,0|n.timeoutMs||5e3,250);else switch(r){case 99:e=1073741823;break;case 98:e=Jo(e,150,100);break;case 97:case 96:e=Jo(e,5e3,250);break;case 95:e=2;break;default:throw Error(a(326))}return null!==qs&&e===Hs&&--e,e}function pl(e,t){if(50<sl)throw sl=0,ll=null,Error(a(185));if(null!==(e=fl(e,t))){var n=Ho();1073741823===t?(Us&As)!==Ms&&(Us&(js|Is))===Ms?gl(e):(ml(e),Us===Ms&&Ko()):ml(e),(4&Us)===Ms||98!==n&&99!==n||(null===al?al=new Map([[e,t]]):(void 0===(n=al.get(e))||n>t)&&al.set(e,t))}}function fl(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t);var r=e.return,o=null;if(null===r&&3===e.tag)o=e.stateNode;else for(;null!==r;){if(n=r.alternate,r.childExpirationTime<t&&(r.childExpirationTime=t),null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t),null===r.return&&3===r.tag){o=r.stateNode;break}r=r.return}return null!==o&&(qs===o&&(Cl(t),Vs===Bs&&Gl(o,Hs)),Yl(o,t)),o}function hl(e){var t=e.lastExpiredTime;return 0!==t?t:Wl(e,t=e.firstPendingTime)?(t=e.lastPingedTime)>(e=e.nextKnownPendingLevel)?t:e:t}function ml(e){if(0!==e.lastExpiredTime)e.callbackExpirationTime=1073741823,e.callbackPriority=99,e.callbackNode=Yo(gl.bind(null,e));else{var t=hl(e),n=e.callbackNode;if(0===t)null!==n&&(e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90);else{var r=ul();if(r=1073741823===t?99:1===t||2===t?95:0>=(r=10*(1073741821-t)-10*(1073741821-r))?99:250>=r?98:5250>=r?97:95,null!==n){var o=e.callbackPriority;if(e.callbackExpirationTime===t&&o>=r)return;n!==Do&&Eo(n)}e.callbackExpirationTime=t,e.callbackPriority=r,t=1073741823===t?Yo(gl.bind(null,e)):Go(r,function e(t,n){if(cl=0,n)return Kl(t,n=ul()),ml(t),null;var r=hl(t);if(0!==r){if(n=t.callbackNode,(Us&(js|Is))!==Ms)throw Error(a(327));if(Al(),t===qs&&r===Hs||yl(t,r),null!==zs){var o=Us;Us|=js;for(var i=_l();;)try{Pl();break}catch(e){kl(t,e)}if(ri(),Us=o,Os.current=i,Vs===Rs)throw n=Ws,yl(t,r),Gl(t,r),ml(t),n;if(null===zs)switch(i=t.finishedWork=t.current.alternate,t.finishedExpirationTime=r,o=Vs,qs=null,o){case Ns:case Rs:throw Error(a(345));case Ds:Kl(t,2<r?2:r);break;case Ls:if(Gl(t,r),r===(o=t.lastSuspendedTime)&&(t.nextKnownPendingLevel=Ol(i)),1073741823===Gs&&10<(i=Js+Xs-zo())){if(Qs){var s=t.lastPingedTime;if(0===s||s>=r){t.lastPingedTime=r,yl(t,r);break}}if(0!==(s=hl(t))&&s!==r)break;if(0!==o&&o!==r){t.lastPingedTime=o;break}t.timeoutHandle=er(Tl.bind(null,t),i);break}Tl(t);break;case Bs:if(Gl(t,r),r===(o=t.lastSuspendedTime)&&(t.nextKnownPendingLevel=Ol(i)),Qs&&(0===(i=t.lastPingedTime)||i>=r)){t.lastPingedTime=r,yl(t,r);break}if(0!==(i=hl(t))&&i!==r)break;if(0!==o&&o!==r){t.lastPingedTime=o;break}if(1073741823!==Ys?o=10*(1073741821-Ys)-zo():1073741823===Gs?o=0:(o=10*(1073741821-Gs)-5e3,r=10*(1073741821-r)-(i=zo()),0>(o=i-o)&&(o=0),r<(o=(120>o?120:480>o?480:1080>o?1080:1920>o?1920:3e3>o?3e3:4320>o?4320:1960*xs(o/1960))-o)&&(o=r)),10<o){t.timeoutHandle=er(Tl.bind(null,t),o);break}Tl(t);break;case Fs:if(1073741823!==Gs&&null!==Ks){s=Gs;var l=Ks;if(0>=(o=0|l.busyMinDurationMs)?o=0:(i=0|l.busyDelayMs,o=(s=zo()-(10*(1073741821-s)-(0|l.timeoutMs||5e3)))<=i?0:i+o-s),10<o){Gl(t,r),t.timeoutHandle=er(Tl.bind(null,t),o);break}}Tl(t);break;default:throw Error(a(329))}if(ml(t),t.callbackNode===n)return e.bind(null,t)}}return null}.bind(null,e),{timeout:10*(1073741821-t)-zo()}),e.callbackNode=t}}}function gl(e){var t=e.lastExpiredTime;if(t=0!==t?t:1073741823,e.finishedExpirationTime===t)Tl(e);else{if((Us&(js|Is))!==Ms)throw Error(a(327));if(Al(),e===qs&&t===Hs||yl(e,t),null!==zs){var n=Us;Us|=js;for(var r=_l();;)try{Sl();break}catch(t){kl(e,t)}if(ri(),Us=n,Os.current=r,Vs===Rs)throw n=Ws,yl(e,t),Gl(e,t),ml(e),n;if(null!==zs)throw Error(a(261));e.finishedWork=e.current.alternate,e.finishedExpirationTime=t,qs=null,Tl(e),ml(e)}}return null}function bl(e,t){var n=Us;Us|=1;try{return e(t)}finally{(Us=n)===Ms&&Ko()}}function vl(e,t){var n=Us;Us&=-2,Us|=As;try{return e(t)}finally{(Us=n)===Ms&&Ko()}}function yl(e,t){e.finishedWork=null,e.finishedExpirationTime=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,tr(n)),null!==zs)for(n=zs.return;null!==n;){var r=n;switch(r.tag){case 1:var o=r.type.childContextTypes;null!==o&&void 0!==o&&vo();break;case 3:qi(),yo();break;case 5:Hi(r);break;case 4:qi();break;case 13:case 19:co(Vi);break;case 10:ii(r)}n=n.return}qs=e,zs=Ul(e.current,null),Hs=t,Vs=Ns,Ws=null,Ys=Gs=1073741823,Ks=null,$s=0,Qs=!1}function kl(e,t){for(;;){try{if(ri(),da(),null===zs||null===zs.return)return Vs=Rs,Ws=t,null;e:{var n=e,r=zs.return,o=zs,i=t;if(t=Hs,o.effectTag|=2048,o.firstEffect=o.lastEffect=null,null!==i&&"object"==typeof i&&"function"==typeof i.then){var a=i,s=0!=(1&Vi.current),l=r;do{var c;if(c=13===l.tag){var u=l.memoizedState;if(null!==u)c=null!==u.dehydrated;else{var d=l.memoizedProps;c=void 0!==d.fallback&&(!0!==d.unstable_avoidThisFallback||!s)}}if(c){var p=l.updateQueue;if(null===p){var f=new Set;f.add(a),l.updateQueue=f}else p.add(a);if(0==(2&l.mode)){if(l.effectTag|=64,o.effectTag&=-2981,1===o.tag)if(null===o.alternate)o.tag=17;else{var h=pi(1073741823,null);h.tag=2,hi(o,h)}o.expirationTime=1073741823;break e}i=void 0,o=t;var m=n.pingCache;if(null===m?(m=n.pingCache=new Cs,i=new Set,m.set(a,i)):void 0===(i=m.get(a))&&(i=new Set,m.set(a,i)),!i.has(o)){i.add(o);var g=Rl.bind(null,n,a,o);a.then(g,g)}l.effectTag|=4096,l.expirationTime=t;break e}l=l.return}while(null!==l);i=Error(($(o.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display."+Q(o))}Vs!==Fs&&(Vs=Ds),i=us(i,o),l=r;do{switch(l.tag){case 3:a=i,l.effectTag|=4096,l.expirationTime=t,mi(l,Ss(l,a,t));break e;case 1:a=i;var b=l.type,v=l.stateNode;if(0==(64&l.effectTag)&&("function"==typeof b.getDerivedStateFromError||null!==v&&"function"==typeof v.componentDidCatch&&(null===nl||!nl.has(v)))){l.effectTag|=4096,l.expirationTime=t,mi(l,Ps(l,a,t));break e}}l=l.return}while(null!==l)}zs=xl(zs)}catch(e){t=e;continue}break}}function _l(){var e=Os.current;return Os.current=Oa,null===e?Oa:e}function wl(e,t){e<Gs&&2<e&&(Gs=e),null!==t&&e<Ys&&2<e&&(Ys=e,Ks=t)}function Cl(e){e>$s&&($s=e)}function Sl(){for(;null!==zs;)zs=El(zs)}function Pl(){for(;null!==zs&&!xo();)zs=El(zs)}function El(e){var t=Es(e.alternate,e,Hs);return e.memoizedProps=e.pendingProps,null===t&&(t=xl(e)),Ts.current=null,t}function xl(e){zs=e;do{var t=zs.alternate;if(e=zs.return,0==(2048&zs.effectTag)){e:{var n=t,r=Hs,i=(t=zs).pendingProps;switch(t.tag){case 2:case 16:break;case 15:case 0:break;case 1:bo(t.type)&&vo();break;case 3:qi(),yo(),(i=t.stateNode).pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(null===n||null===n.child)&&Ba(t)&&ss(t),Xa(t);break;case 5:Hi(t),r=Fi(Bi.current);var s=t.type;if(null!==n&&null!=t.stateNode)Za(n,t,s,i,r),n.ref!==t.ref&&(t.effectTag|=128);else if(i){var l=Fi(Di.current);if(Ba(t)){var c=(i=t).stateNode;n=i.type;var u=i.memoizedProps,d=r;switch(c[ir]=i,c[ar]=u,s=void 0,r=c,n){case"iframe":case"object":case"embed":Cn("load",r);break;case"video":case"audio":for(c=0;c<Je.length;c++)Cn(Je[c],r);break;case"source":Cn("error",r);break;case"img":case"image":case"link":Cn("error",r),Cn("load",r);break;case"form":Cn("reset",r),Cn("submit",r);break;case"details":Cn("toggle",r);break;case"input":Pe(r,u),Cn("invalid",r),Fn(d,"onChange");break;case"select":r._wrapperState={wasMultiple:!!u.multiple},Cn("invalid",r),Fn(d,"onChange");break;case"textarea":Ie(r,u),Cn("invalid",r),Fn(d,"onChange")}for(s in Ln(n,u),c=null,u)u.hasOwnProperty(s)&&(l=u[s],"children"===s?"string"==typeof l?r.textContent!==l&&(c=["children",l]):"number"==typeof l&&r.textContent!==""+l&&(c=["children",""+l]):f.hasOwnProperty(s)&&null!=l&&Fn(d,s));switch(n){case"input":we(r),Oe(r,u,!0);break;case"textarea":we(r),Re(r);break;case"select":case"option":break;default:"function"==typeof u.onClick&&(r.onclick=Un)}s=c,i.updateQueue=s,(i=null!==s)&&ss(t)}else{n=t,d=s,u=i,c=9===r.nodeType?r:r.ownerDocument,l===De.html&&(l=Le(d)),l===De.html?"script"===d?((u=c.createElement("div")).innerHTML="<script><\/script>",c=u.removeChild(u.firstChild)):"string"==typeof u.is?c=c.createElement(d,{is:u.is}):(c=c.createElement(d),"select"===d&&(d=c,u.multiple?d.multiple=!0:u.size&&(d.size=u.size))):c=c.createElementNS(l,d),(u=c)[ir]=n,u[ar]=i,Ja(u,t,!1,!1),t.stateNode=u;var p=r,h=Bn(d=s,n=i);switch(d){case"iframe":case"object":case"embed":Cn("load",u),r=n;break;case"video":case"audio":for(r=0;r<Je.length;r++)Cn(Je[r],u);r=n;break;case"source":Cn("error",u),r=n;break;case"img":case"image":case"link":Cn("error",u),Cn("load",u),r=n;break;case"form":Cn("reset",u),Cn("submit",u),r=n;break;case"details":Cn("toggle",u),r=n;break;case"input":Pe(u,n),r=Se(u,n),Cn("invalid",u),Fn(p,"onChange");break;case"option":r=Me(u,n);break;case"select":u._wrapperState={wasMultiple:!!n.multiple},r=o({},n,{value:void 0}),Cn("invalid",u),Fn(p,"onChange");break;case"textarea":Ie(u,n),r=je(u,n),Cn("invalid",u),Fn(p,"onChange");break;default:r=n}Ln(d,r),c=void 0,l=d;var m=u,g=r;for(c in g)if(g.hasOwnProperty(c)){var b=g[c];"style"===c?Rn(m,b):"dangerouslySetInnerHTML"===c?null!=(b=b?b.__html:void 0)&&Ue(m,b):"children"===c?"string"==typeof b?("textarea"!==l||""!==b)&&qe(m,b):"number"==typeof b&&qe(m,""+b):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(f.hasOwnProperty(c)?null!=b&&Fn(p,c):null!=b&&ke(m,c,b,h))}switch(d){case"input":we(u),Oe(u,n,!1);break;case"textarea":we(u),Re(u);break;case"option":null!=n.value&&u.setAttribute("value",""+ye(n.value));break;case"select":(r=u).multiple=!!n.multiple,null!=(u=n.value)?Ae(r,!!n.multiple,u,!1):null!=n.defaultValue&&Ae(r,!!n.multiple,n.defaultValue,!0);break;default:"function"==typeof r.onClick&&(u.onclick=Un)}(i=Xn(s,i))&&ss(t)}null!==t.ref&&(t.effectTag|=128)}else if(null===t.stateNode)throw Error(a(166));break;case 6:if(n&&null!=t.stateNode)es(n,t,n.memoizedProps,i);else{if("string"!=typeof i&&null===t.stateNode)throw Error(a(166));r=Fi(Bi.current),Fi(Di.current),Ba(t)?(s=(i=t).stateNode,r=i.memoizedProps,s[ir]=i,(i=s.nodeValue!==r)&&ss(t)):(s=t,(i=(9===r.nodeType?r:r.ownerDocument).createTextNode(i))[ir]=s,t.stateNode=i)}break;case 11:break;case 13:if(co(Vi),i=t.memoizedState,0!=(64&t.effectTag)){t.expirationTime=r;break e}i=null!==i,s=!1,null===n?void 0!==t.memoizedProps.fallback&&Ba(t):(s=null!==(r=n.memoizedState),i||null===r||null!==(r=n.child.sibling)&&(null!==(u=t.firstEffect)?(t.firstEffect=r,r.nextEffect=u):(t.firstEffect=t.lastEffect=r,r.nextEffect=null),r.effectTag=8)),i&&!s&&0!=(2&t.mode)&&(null===n&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!=(1&Vi.current)?Vs===Ns&&(Vs=Ls):(Vs!==Ns&&Vs!==Ls||(Vs=Bs),0!==$s&&null!==qs&&(Gl(qs,Hs),Yl(qs,$s)))),(i||s)&&(t.effectTag|=4);break;case 7:case 8:case 12:break;case 4:qi(),Xa(t);break;case 10:ii(t);break;case 9:case 14:break;case 17:bo(t.type)&&vo();break;case 19:if(co(Vi),null===(i=t.memoizedState))break;if(s=0!=(64&t.effectTag),null===(u=i.rendering)){if(s)ls(i,!1);else if(Vs!==Ns||null!==n&&0!=(64&n.effectTag))for(n=t.child;null!==n;){if(null!==(u=Wi(n))){for(t.effectTag|=64,ls(i,!1),null!==(s=u.updateQueue)&&(t.updateQueue=s,t.effectTag|=4),null===i.lastEffect&&(t.firstEffect=null),t.lastEffect=i.lastEffect,i=r,s=t.child;null!==s;)n=i,(r=s).effectTag&=2,r.nextEffect=null,r.firstEffect=null,r.lastEffect=null,null===(u=r.alternate)?(r.childExpirationTime=0,r.expirationTime=n,r.child=null,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null):(r.childExpirationTime=u.childExpirationTime,r.expirationTime=u.expirationTime,r.child=u.child,r.memoizedProps=u.memoizedProps,r.memoizedState=u.memoizedState,r.updateQueue=u.updateQueue,n=u.dependencies,r.dependencies=null===n?null:{expirationTime:n.expirationTime,firstContext:n.firstContext,responders:n.responders}),s=s.sibling;uo(Vi,1&Vi.current|2),t=t.child;break e}n=n.sibling}}else{if(!s)if(null!==(n=Wi(u))){if(t.effectTag|=64,s=!0,null!==(r=n.updateQueue)&&(t.updateQueue=r,t.effectTag|=4),ls(i,!0),null===i.tail&&"hidden"===i.tailMode&&!u.alternate){null!==(t=t.lastEffect=i.lastEffect)&&(t.nextEffect=null);break}}else zo()>i.tailExpiration&&1<r&&(t.effectTag|=64,s=!0,ls(i,!1),t.expirationTime=t.childExpirationTime=r-1);i.isBackwards?(u.sibling=t.child,t.child=u):(null!==(r=i.last)?r.sibling=u:t.child=u,i.last=u)}if(null!==i.tail){0===i.tailExpiration&&(i.tailExpiration=zo()+500),r=i.tail,i.rendering=r,i.tail=r.sibling,i.lastEffect=t.lastEffect,r.sibling=null,i=Vi.current,uo(Vi,i=s?1&i|2:1&i),t=r;break e}break;case 20:case 21:break;default:throw Error(a(156,t.tag))}t=null}if(i=zs,1===Hs||1!==i.childExpirationTime){for(s=0,r=i.child;null!==r;)n=r.expirationTime,u=r.childExpirationTime,n>s&&(s=n),u>s&&(s=u),r=r.sibling;i.childExpirationTime=s}if(null!==t)return t;null!==e&&0==(2048&e.effectTag)&&(null===e.firstEffect&&(e.firstEffect=zs.firstEffect),null!==zs.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=zs.firstEffect),e.lastEffect=zs.lastEffect),1<zs.effectTag&&(null!==e.lastEffect?e.lastEffect.nextEffect=zs:e.firstEffect=zs,e.lastEffect=zs))}else{if(null!==(t=cs(zs)))return t.effectTag&=2047,t;null!==e&&(e.firstEffect=e.lastEffect=null,e.effectTag|=2048)}if(null!==(t=zs.sibling))return t;zs=e}while(null!==zs);return Vs===Ns&&(Vs=Fs),null}function Ol(e){var t=e.expirationTime;return t>(e=e.childExpirationTime)?t:e}function Tl(e){var t=Ho();return Wo(99,function(e,t){do{Al()}while(null!==ol);if((Us&(js|Is))!==Ms)throw Error(a(327));var n=e.finishedWork,r=e.finishedExpirationTime;if(null===n)return null;if(e.finishedWork=null,e.finishedExpirationTime=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90,e.nextKnownPendingLevel=0;var o=Ol(n);if(e.firstPendingTime=o,r<=e.lastSuspendedTime?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:r<=e.firstSuspendedTime&&(e.firstSuspendedTime=r-1),r<=e.lastPingedTime&&(e.lastPingedTime=0),r<=e.lastExpiredTime&&(e.lastExpiredTime=0),e===qs&&(zs=qs=null,Hs=0),1<n.effectTag?null!==n.lastEffect?(n.lastEffect.nextEffect=n,o=n.firstEffect):o=n:o=n.firstEffect,null!==o){var i=Us;Us|=Is,Ts.current=null,Qn=wn;var s=Vn();if(Wn(s)){if("selectionStart"in s)var l={start:s.selectionStart,end:s.selectionEnd};else e:{var c=(l=(l=s.ownerDocument)&&l.defaultView||window).getSelection&&l.getSelection();if(c&&0!==c.rangeCount){l=c.anchorNode;var u=c.anchorOffset,d=c.focusNode;c=c.focusOffset;try{l.nodeType,d.nodeType}catch(e){l=null;break e}var p=0,f=-1,h=-1,m=0,g=0,b=s,v=null;t:for(;;){for(var y;b!==l||0!==u&&3!==b.nodeType||(f=p+u),b!==d||0!==c&&3!==b.nodeType||(h=p+c),3===b.nodeType&&(p+=b.nodeValue.length),null!==(y=b.firstChild);)v=b,b=y;for(;;){if(b===s)break t;if(v===l&&++m===u&&(f=p),v===d&&++g===c&&(h=p),null!==(y=b.nextSibling))break;v=(b=v).parentNode}b=y}l=-1===f||-1===h?null:{start:f,end:h}}else l=null}l=l||{start:0,end:0}}else l=null;Jn={focusedElem:s,selectionRange:l},wn=!1,Zs=o;do{try{Ml()}catch(e){if(null===Zs)throw Error(a(330));Nl(Zs,e),Zs=Zs.nextEffect}}while(null!==Zs);Zs=o;do{try{for(s=e,l=t;null!==Zs;){var k=Zs.effectTag;if(16&k&&qe(Zs.stateNode,""),128&k){var _=Zs.alternate;if(null!==_){var w=_.ref;null!==w&&("function"==typeof w?w(null):w.current=null)}}switch(1038&k){case 2:ys(Zs),Zs.effectTag&=-3;break;case 6:ys(Zs),Zs.effectTag&=-3,_s(Zs.alternate,Zs);break;case 1024:Zs.effectTag&=-1025;break;case 1028:Zs.effectTag&=-1025,_s(Zs.alternate,Zs);break;case 4:_s(Zs.alternate,Zs);break;case 8:ks(s,u=Zs,l),bs(u)}Zs=Zs.nextEffect}}catch(e){if(null===Zs)throw Error(a(330));Nl(Zs,e),Zs=Zs.nextEffect}}while(null!==Zs);if(w=Jn,_=Vn(),k=w.focusedElem,l=w.selectionRange,_!==k&&k&&k.ownerDocument&&function e(t,n){return!(!t||!n)&&(t===n||(!t||3!==t.nodeType)&&(n&&3===n.nodeType?e(t,n.parentNode):"contains"in t?t.contains(n):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(n))))}(k.ownerDocument.documentElement,k)){null!==l&&Wn(k)&&(_=l.start,void 0===(w=l.end)&&(w=_),"selectionStart"in k?(k.selectionStart=_,k.selectionEnd=Math.min(w,k.value.length)):(w=(_=k.ownerDocument||document)&&_.defaultView||window).getSelection&&(w=w.getSelection(),u=k.textContent.length,s=Math.min(l.start,u),l=void 0===l.end?s:Math.min(l.end,u),!w.extend&&s>l&&(u=l,l=s,s=u),u=Hn(k,s),d=Hn(k,l),u&&d&&(1!==w.rangeCount||w.anchorNode!==u.node||w.anchorOffset!==u.offset||w.focusNode!==d.node||w.focusOffset!==d.offset)&&((_=_.createRange()).setStart(u.node,u.offset),w.removeAllRanges(),s>l?(w.addRange(_),w.extend(d.node,d.offset)):(_.setEnd(d.node,d.offset),w.addRange(_))))),_=[];for(w=k;w=w.parentNode;)1===w.nodeType&&_.push({element:w,left:w.scrollLeft,top:w.scrollTop});for("function"==typeof k.focus&&k.focus(),k=0;k<_.length;k++)(w=_[k]).element.scrollLeft=w.left,w.element.scrollTop=w.top}Jn=null,wn=!!Qn,Qn=null,e.current=n,Zs=o;do{try{for(k=r;null!==Zs;){var C=Zs.effectTag;if(36&C){var S=Zs.alternate;switch(w=k,(_=Zs).tag){case 0:case 11:case 15:ms(16,32,_);break;case 1:var P=_.stateNode;if(4&_.effectTag)if(null===S)P.componentDidMount();else{var E=_.elementType===_.type?S.memoizedProps:Xo(_.type,S.memoizedProps);P.componentDidUpdate(E,S.memoizedState,P.__reactInternalSnapshotBeforeUpdate)}var x=_.updateQueue;null!==x&&yi(0,x,P);break;case 3:var O=_.updateQueue;if(null!==O){if(s=null,null!==_.child)switch(_.child.tag){case 5:s=_.child.stateNode;break;case 1:s=_.child.stateNode}yi(0,O,s)}break;case 5:var T=_.stateNode;null===S&&4&_.effectTag&&Xn(_.type,_.memoizedProps)&&T.focus();break;case 6:case 4:case 12:break;case 13:if(null===_.memoizedState){var M=_.alternate;if(null!==M){var A=M.memoizedState;if(null!==A){var j=A.dehydrated;null!==j&&Ct(j)}}}break;case 19:case 17:case 20:case 21:break;default:throw Error(a(163))}}if(128&C){_=void 0;var I=Zs.ref;if(null!==I){var N=Zs.stateNode;switch(Zs.tag){case 5:_=N;break;default:_=N}"function"==typeof I?I(_):I.current=_}}Zs=Zs.nextEffect}}catch(e){if(null===Zs)throw Error(a(330));Nl(Zs,e),Zs=Zs.nextEffect}}while(null!==Zs);Zs=null,Lo(),Us=i}else e.current=n;if(rl)rl=!1,ol=e,il=t;else for(Zs=o;null!==Zs;)t=Zs.nextEffect,Zs.nextEffect=null,Zs=t;if(0===(t=e.firstPendingTime)&&(nl=null),1073741823===t?e===ll?sl++:(sl=0,ll=e):sl=0,"function"==typeof Dl&&Dl(n.stateNode,r),ml(e),el)throw el=!1,e=tl,tl=null,e;return(Us&As)!==Ms?null:(Ko(),null)}.bind(null,e,t)),null}function Ml(){for(;null!==Zs;){var e=Zs.effectTag;0!=(256&e)&&hs(Zs.alternate,Zs),0==(512&e)||rl||(rl=!0,Go(97,function(){return Al(),null})),Zs=Zs.nextEffect}}function Al(){if(90!==il){var e=97<il?97:il;return il=90,Wo(e,jl)}}function jl(){if(null===ol)return!1;var e=ol;if(ol=null,(Us&(js|Is))!==Ms)throw Error(a(331));var t=Us;for(Us|=Is,e=e.current.firstEffect;null!==e;){try{var n=e;if(0!=(512&n.effectTag))switch(n.tag){case 0:case 11:case 15:ms(128,0,n),ms(0,64,n)}}catch(t){if(null===e)throw Error(a(330));Nl(e,t)}n=e.nextEffect,e.nextEffect=null,e=n}return Us=t,Ko(),!0}function Il(e,t,n){hi(e,t=Ss(e,t=us(n,t),1073741823)),null!==(e=fl(e,1073741823))&&ml(e)}function Nl(e,t){if(3===e.tag)Il(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){Il(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"==typeof n.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===nl||!nl.has(r))){hi(n,e=Ps(n,e=us(t,e),1073741823)),null!==(n=fl(n,1073741823))&&ml(n);break}}n=n.return}}function Rl(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),qs===e&&Hs===n?Vs===Bs||Vs===Ls&&1073741823===Gs&&zo()-Js<Xs?yl(e,Hs):Qs=!0:Wl(e,n)&&(0!==(t=e.lastPingedTime)&&t<n||(e.lastPingedTime=n,e.finishedExpirationTime===n&&(e.finishedExpirationTime=0,e.finishedWork=null),ml(e)))}Es=function(e,t,n){var r=t.expirationTime;if(null!==e){var o=t.pendingProps;if(e.memoizedProps!==o||ho.current)qa=!0;else{if(r<n){switch(qa=!1,t.tag){case 3:Qa(t),Fa();break;case 5:if(zi(t),4&t.mode&&1!==n&&o.hidden)return t.expirationTime=t.childExpirationTime=1,null;break;case 1:bo(t.type)&&wo(t);break;case 4:Ui(t,t.stateNode.containerInfo);break;case 10:oi(t,t.memoizedProps.value);break;case 13:if(null!==t.memoizedState)return 0!==(r=t.child.childExpirationTime)&&r>=n?ns(e,t,n):(uo(Vi,1&Vi.current),null!==(t=as(e,t,n))?t.sibling:null);uo(Vi,1&Vi.current);break;case 19:if(r=t.childExpirationTime>=n,0!=(64&e.effectTag)){if(r)return is(e,t,n);t.effectTag|=64}if(null!==(o=t.memoizedState)&&(o.rendering=null,o.tail=null),uo(Vi,Vi.current),!r)return null}return as(e,t,n)}qa=!1}}else qa=!1;switch(t.expirationTime=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,o=go(t,fo.current),si(t,n),o=ua(null,t,r,e,o,n),t.effectTag|=1,"object"==typeof o&&null!==o&&"function"==typeof o.render&&void 0===o.$$typeof){if(t.tag=1,da(),bo(r)){var i=!0;wo(t)}else i=!1;t.memoizedState=null!==o.state&&void 0!==o.state?o.state:null;var s=r.getDerivedStateFromProps;"function"==typeof s&&Ci(t,r,s,e),o.updater=Si,t.stateNode=o,o._reactInternalFiber=t,Oi(t,r,e,n),t=$a(null,t,r,!0,i,n)}else t.tag=0,za(null,t,o,n),t=t.child;return t;case 16:if(o=t.elementType,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,function(e){if(-1===e._status){e._status=0;var t=e._ctor;t=t(),e._result=t,t.then(function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)},function(t){0===e._status&&(e._status=2,e._result=t)})}}(o),1!==o._status)throw o._result;switch(o=o._result,t.type=o,i=t.tag=function(e){if("function"==typeof e)return Fl(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===z)return 11;if(e===W)return 14}return 2}(o),e=Xo(o,e),i){case 0:t=Ya(null,t,o,e,n);break;case 1:t=Ka(null,t,o,e,n);break;case 11:t=Ha(null,t,o,e,n);break;case 14:t=Va(null,t,o,Xo(o.type,e),r,n);break;default:throw Error(a(306,o,""))}return t;case 0:return r=t.type,o=t.pendingProps,Ya(e,t,r,o=t.elementType===r?o:Xo(r,o),n);case 1:return r=t.type,o=t.pendingProps,Ka(e,t,r,o=t.elementType===r?o:Xo(r,o),n);case 3:if(Qa(t),null===(r=t.updateQueue))throw Error(a(282));if(o=null!==(o=t.memoizedState)?o.element:null,vi(t,r,t.pendingProps,null,n),(r=t.memoizedState.element)===o)Fa(),t=as(e,t,n);else{if((o=t.stateNode.hydrate)&&(ja=nr(t.stateNode.containerInfo.firstChild),Aa=t,o=Ia=!0),o)for(n=Ni(t,null,r,n),t.child=n;n;)n.effectTag=-3&n.effectTag|1024,n=n.sibling;else za(e,t,r,n),Fa();t=t.child}return t;case 5:return zi(t),null===e&&Da(t),r=t.type,o=t.pendingProps,i=null!==e?e.memoizedProps:null,s=o.children,Zn(r,o)?s=null:null!==i&&Zn(r,i)&&(t.effectTag|=16),Ga(e,t),4&t.mode&&1!==n&&o.hidden?(t.expirationTime=t.childExpirationTime=1,t=null):(za(e,t,s,n),t=t.child),t;case 6:return null===e&&Da(t),null;case 13:return ns(e,t,n);case 4:return Ui(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ii(t,null,r,n):za(e,t,r,n),t.child;case 11:return r=t.type,o=t.pendingProps,Ha(e,t,r,o=t.elementType===r?o:Xo(r,o),n);case 7:return za(e,t,t.pendingProps,n),t.child;case 8:case 12:return za(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,o=t.pendingProps,s=t.memoizedProps,oi(t,i=o.value),null!==s){var l=s.value;if(0===(i=Qr(l,i)?0:0|("function"==typeof r._calculateChangedBits?r._calculateChangedBits(l,i):1073741823))){if(s.children===o.children&&!ho.current){t=as(e,t,n);break e}}else for(null!==(l=t.child)&&(l.return=t);null!==l;){var c=l.dependencies;if(null!==c){s=l.child;for(var u=c.firstContext;null!==u;){if(u.context===r&&0!=(u.observedBits&i)){1===l.tag&&((u=pi(n,null)).tag=2,hi(l,u)),l.expirationTime<n&&(l.expirationTime=n),null!==(u=l.alternate)&&u.expirationTime<n&&(u.expirationTime=n),ai(l.return,n),c.expirationTime<n&&(c.expirationTime=n);break}u=u.next}}else s=10===l.tag&&l.type===t.type?null:l.child;if(null!==s)s.return=l;else for(s=l;null!==s;){if(s===t){s=null;break}if(null!==(l=s.sibling)){l.return=s.return,s=l;break}s=s.return}l=s}}za(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,r=(i=t.pendingProps).children,si(t,n),r=r(o=li(o,i.unstable_observedBits)),t.effectTag|=1,za(e,t,r,n),t.child;case 14:return i=Xo(o=t.type,t.pendingProps),Va(e,t,o,i=Xo(o.type,i),r,n);case 15:return Wa(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:Xo(r,o),null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),t.tag=1,bo(r)?(e=!0,wo(t)):e=!1,si(t,n),Ei(t,r,o),Oi(t,r,o,n),$a(null,t,r,!0,e,n);case 19:return is(e,t,n)}throw Error(a(156,t.tag))};var Dl=null,Ll=null;function Bl(e,t,n,r){return new function(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}(e,t,n,r)}function Fl(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Ul(e,t){var n=e.alternate;return null===n?((n=Bl(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.effectTag=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childExpirationTime=e.childExpirationTime,n.expirationTime=e.expirationTime,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{expirationTime:t.expirationTime,firstContext:t.firstContext,responders:t.responders},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function ql(e,t,n,r,o,i){var s=2;if(r=e,"function"==typeof e)Fl(e)&&(s=1);else if("string"==typeof e)s=5;else e:switch(e){case D:return zl(n.children,o,i,t);case q:s=8,o|=7;break;case L:s=8,o|=1;break;case B:return(e=Bl(12,n,t,8|o)).elementType=B,e.type=B,e.expirationTime=i,e;case H:return(e=Bl(13,n,t,o)).type=H,e.elementType=H,e.expirationTime=i,e;case V:return(e=Bl(19,n,t,o)).elementType=V,e.expirationTime=i,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case F:s=10;break e;case U:s=9;break e;case z:s=11;break e;case W:s=14;break e;case G:s=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Bl(s,n,t,o)).elementType=e,t.type=r,t.expirationTime=i,t}function zl(e,t,n,r){return(e=Bl(7,e,r,t)).expirationTime=n,e}function Hl(e,t,n){return(e=Bl(6,e,null,t)).expirationTime=n,e}function Vl(e,t,n){return(t=Bl(4,null!==e.children?e.children:[],e.key,t)).expirationTime=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Wl(e,t){var n=e.firstSuspendedTime;return e=e.lastSuspendedTime,0!==n&&n>=t&&e<=t}function Gl(e,t){var n=e.firstSuspendedTime,r=e.lastSuspendedTime;n<t&&(e.firstSuspendedTime=t),(r>t||0===n)&&(e.lastSuspendedTime=t),t<=e.lastPingedTime&&(e.lastPingedTime=0),t<=e.lastExpiredTime&&(e.lastExpiredTime=0)}function Yl(e,t){t>e.firstPendingTime&&(e.firstPendingTime=t);var n=e.firstSuspendedTime;0!==n&&(t>=n?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:t>=e.lastSuspendedTime&&(e.lastSuspendedTime=t+1),t>e.nextKnownPendingLevel&&(e.nextKnownPendingLevel=t))}function Kl(e,t){var n=e.lastExpiredTime;(0===n||n>t)&&(e.lastExpiredTime=t)}function $l(e,t,n,r){var o=t.current,i=ul(),s=_i.suspense;i=dl(i,o,s);e:if(n){n=n._reactInternalFiber;t:{if(Xe(n)!==n||1!==n.tag)throw Error(a(170));var l=n;do{switch(l.tag){case 3:l=l.stateNode.context;break t;case 1:if(bo(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break t}}l=l.return}while(null!==l);throw Error(a(171))}if(1===n.tag){var c=n.type;if(bo(c)){n=_o(n,c,l);break e}}n=l}else n=po;return null===t.context?t.context=n:t.pendingContext=n,(t=pi(i,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),hi(o,t),pl(o,i),i}function Ql(e){if(!(e=e.current).child)return null;switch(e.child.tag){case 5:default:return e.child.stateNode}}function Jl(e,t){null!==(e=e.memoizedState)&&null!==e.dehydrated&&e.retryTime<t&&(e.retryTime=t)}function Xl(e,t){Jl(e,t),(e=e.alternate)&&Jl(e,t)}function Zl(e,t,n){var r=new function(e,t,n){this.tag=t,this.current=null,this.containerInfo=e,this.pingCache=this.pendingChildren=null,this.finishedExpirationTime=0,this.finishedWork=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=90,this.lastExpiredTime=this.lastPingedTime=this.nextKnownPendingLevel=this.lastSuspendedTime=this.firstSuspendedTime=this.firstPendingTime=0}(e,t,n=null!=n&&!0===n.hydrate),o=Bl(3,null,null,2===t?7:1===t?3:0);r.current=o,o.stateNode=r,e[sr]=r.current,n&&0!==t&&function(e){var t=Mn(e);ft.forEach(function(n){An(n,e,t)}),ht.forEach(function(n){An(n,e,t)})}(9===e.nodeType?e:e.ownerDocument),this._internalRoot=r}function ec(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function tc(e,t,n,r,o){var i=n._reactRootContainer;if(i){var a=i._internalRoot;if("function"==typeof o){var s=o;o=function(){var e=Ql(a);s.call(e)}}$l(t,a,e,o)}else{if(i=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new Zl(e,0,t?{hydrate:!0}:void 0)}(n,r),a=i._internalRoot,"function"==typeof o){var l=o;o=function(){var e=Ql(a);l.call(e)}}vl(function(){$l(t,a,e,o)})}return Ql(a)}function nc(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!ec(t))throw Error(a(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:R,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)}Zl.prototype.render=function(e,t){$l(e,this._internalRoot,null,void 0===t?null:t)},Zl.prototype.unmount=function(e){var t=this._internalRoot,n=void 0===e?null:e,r=t.containerInfo;$l(null,t,null,function(){r[sr]=null,null!==n&&n()})},nt=function(e){if(13===e.tag){var t=Jo(ul(),150,100);pl(e,t),Xl(e,t)}},rt=function(e){if(13===e.tag){ul();var t=Qo++;pl(e,t),Xl(e,t)}},ot=function(e){if(13===e.tag){var t=ul();pl(e,t=dl(t,e,null)),Xl(e,t)}},X=function(e,t,n){switch(t){case"input":if(xe(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=dr(r);if(!o)throw Error(a(90));Ce(r),xe(r,o)}}}break;case"textarea":Ne(e,n);break;case"select":null!=(t=n.value)&&Ae(e,!!n.multiple,t,!1)}},oe=bl,ie=function(e,t,n,r){var o=Us;Us|=4;try{return Wo(98,e.bind(null,t,n,r))}finally{(Us=o)===Ms&&Ko()}},ae=function(){(Us&(1|js|Is))===Ms&&(function(){if(null!==al){var e=al;al=null,e.forEach(function(e,t){Kl(t,e),ml(t)}),Ko()}}(),Al())},se=function(e,t){var n=Us;Us|=2;try{return e(t)}finally{(Us=n)===Ms&&Ko()}};var rc={createPortal:nc,findDOMNode:function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternalFiber;if(void 0===t){if("function"==typeof e.render)throw Error(a(188));throw Error(a(268,Object.keys(e)))}return null===(e=tt(t))?null:e.stateNode},hydrate:function(e,t,n){if(!ec(t))throw Error(a(200));return tc(null,e,t,!0,n)},render:function(e,t,n){if(!ec(t))throw Error(a(200));return tc(null,e,t,!1,n)},unstable_renderSubtreeIntoContainer:function(e,t,n,r){if(!ec(n))throw Error(a(200));if(null==e||void 0===e._reactInternalFiber)throw Error(a(38));return tc(e,t,n,!1,r)},unmountComponentAtNode:function(e){if(!ec(e))throw Error(a(40));return!!e._reactRootContainer&&(vl(function(){tc(null,null,e,!1,function(){e._reactRootContainer=null,e[sr]=null})}),!0)},unstable_createPortal:function(){return nc.apply(void 0,arguments)},unstable_batchedUpdates:bl,flushSync:function(e,t){if((Us&(js|Is))!==Ms)throw Error(a(187));var n=Us;Us|=1;try{return Wo(99,e.bind(null,t))}finally{Us=n,Ko()}},__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{Events:[cr,ur,dr,T.injectEventPluginsByName,p,Mt,function(e){P(e,Tt)},ne,re,En,O,Al,{current:!1}]}};!function(e){var t=e.findFiberByHostInstance;!function(e){if("undefined"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)return!0;try{var n=t.inject(e);Dl=function(e){try{t.onCommitFiberRoot(n,e,void 0,64==(64&e.current.effectTag))}catch(e){}},Ll=function(e){try{t.onCommitFiberUnmount(n,e)}catch(e){}}}catch(e){}}(o({},e,{overrideHookState:null,overrideProps:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:A.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=tt(e))?null:e.stateNode},findFiberByHostInstance:function(e){return t?t(e):null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null}))}({findFiberByHostInstance:lr,bundleType:0,version:"16.12.0",rendererPackageName:"react-dom"});var oc={default:rc},ic=oc&&rc||oc;e.exports=ic.default||ic},function(e,t,n){"use strict";e.exports=n(358)},function(e,t,n){"use strict";var r,o,i,a,s;if(Object.defineProperty(t,"__esModule",{value:!0}),"undefined"==typeof window||"function"!=typeof MessageChannel){var l=null,c=null,u=function(){if(null!==l)try{var e=t.unstable_now();l(!0,e),l=null}catch(e){throw setTimeout(u,0),e}},d=Date.now();t.unstable_now=function(){return Date.now()-d},r=function(e){null!==l?setTimeout(r,0,e):(l=e,setTimeout(u,0))},o=function(e,t){c=setTimeout(e,t)},i=function(){clearTimeout(c)},a=function(){return!1},s=t.unstable_forceFrameRate=function(){}}else{var p=window.performance,f=window.Date,h=window.setTimeout,m=window.clearTimeout;if("undefined"!=typeof console){var g=window.cancelAnimationFrame;"function"!=typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!=typeof g&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills")}if("object"==typeof p&&"function"==typeof p.now)t.unstable_now=function(){return p.now()};else{var b=f.now();t.unstable_now=function(){return f.now()-b}}var v=!1,y=null,k=-1,_=5,w=0;a=function(){return t.unstable_now()>=w},s=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing framerates higher than 125 fps is not unsupported"):_=0<e?Math.floor(1e3/e):5};var C=new MessageChannel,S=C.port2;C.port1.onmessage=function(){if(null!==y){var e=t.unstable_now();w=e+_;try{y(!0,e)?S.postMessage(null):(v=!1,y=null)}catch(e){throw S.postMessage(null),e}}else v=!1},r=function(e){y=e,v||(v=!0,S.postMessage(null))},o=function(e,n){k=h(function(){e(t.unstable_now())},n)},i=function(){m(k),k=-1}}function P(e,t){var n=e.length;e.push(t);e:for(;;){var r=Math.floor((n-1)/2),o=e[r];if(!(void 0!==o&&0<O(o,t)))break e;e[r]=t,e[n]=o,n=r}}function E(e){return void 0===(e=e[0])?null:e}function x(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,o=e.length;r<o;){var i=2*(r+1)-1,a=e[i],s=i+1,l=e[s];if(void 0!==a&&0>O(a,n))void 0!==l&&0>O(l,a)?(e[r]=l,e[s]=n,r=s):(e[r]=a,e[i]=n,r=i);else{if(!(void 0!==l&&0>O(l,n)))break e;e[r]=l,e[s]=n,r=s}}}return t}return null}function O(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var T=[],M=[],A=1,j=null,I=3,N=!1,R=!1,D=!1;function L(e){for(var t=E(M);null!==t;){if(null===t.callback)x(M);else{if(!(t.startTime<=e))break;x(M),t.sortIndex=t.expirationTime,P(T,t)}t=E(M)}}function B(e){if(D=!1,L(e),!R)if(null!==E(T))R=!0,r(F);else{var t=E(M);null!==t&&o(B,t.startTime-e)}}function F(e,n){R=!1,D&&(D=!1,i()),N=!0;var r=I;try{for(L(n),j=E(T);null!==j&&(!(j.expirationTime>n)||e&&!a());){var s=j.callback;if(null!==s){j.callback=null,I=j.priorityLevel;var l=s(j.expirationTime<=n);n=t.unstable_now(),"function"==typeof l?j.callback=l:j===E(T)&&x(T),L(n)}else x(T);j=E(T)}if(null!==j)var c=!0;else{var u=E(M);null!==u&&o(B,u.startTime-n),c=!1}return c}finally{j=null,I=r,N=!1}}function U(e){switch(e){case 1:return-1;case 2:return 250;case 5:return 1073741823;case 4:return 1e4;default:return 5e3}}var q=s;t.unstable_ImmediatePriority=1,t.unstable_UserBlockingPriority=2,t.unstable_NormalPriority=3,t.unstable_IdlePriority=5,t.unstable_LowPriority=4,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=I;I=e;try{return t()}finally{I=n}},t.unstable_next=function(e){switch(I){case 1:case 2:case 3:var t=3;break;default:t=I}var n=I;I=t;try{return e()}finally{I=n}},t.unstable_scheduleCallback=function(e,n,a){var s=t.unstable_now();if("object"==typeof a&&null!==a){var l=a.delay;l="number"==typeof l&&0<l?s+l:s,a="number"==typeof a.timeout?a.timeout:U(e)}else a=U(e),l=s;return e={id:A++,callback:n,priorityLevel:e,startTime:l,expirationTime:a=l+a,sortIndex:-1},l>s?(e.sortIndex=l,P(M,e),null===E(T)&&e===E(M)&&(D?i():D=!0,o(B,l-s))):(e.sortIndex=a,P(T,e),R||N||(R=!0,r(F))),e},t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_wrapCallback=function(e){var t=I;return function(){var n=I;I=t;try{return e.apply(this,arguments)}finally{I=n}}},t.unstable_getCurrentPriorityLevel=function(){return I},t.unstable_shouldYield=function(){var e=t.unstable_now();L(e);var n=E(T);return n!==j&&null!==j&&null!==n&&null!==n.callback&&n.startTime<=e&&n.expirationTime<j.expirationTime||a()},t.unstable_requestPaint=q,t.unstable_continueExecution=function(){R||N||(R=!0,r(F))},t.unstable_pauseExecution=function(){},t.unstable_getFirstCallbackNode=function(){return E(T)},t.unstable_Profiling=null},function(e,t,n){var r={"./blocks/EventEmitter":262,"./blocks/EventEmitter.js":262,"./blocks/SegmentNavigator":113,"./blocks/SegmentNavigator.js":113,"./blocks/TabSwitcher":73,"./blocks/TabSwitcher.js":73,"./controllers/CautionModalController":74,"./controllers/CautionModalController.js":74,"./controllers/CopyAndPlaceCardsModalSetController":59,"./controllers/CopyAndPlaceCardsModalSetController.js":59,"./controllers/CustomizeClassIconModalController":116,"./controllers/CustomizeClassIconModalController.js":116,"./controllers/DeckInfoModalController":118,"./controllers/DeckInfoModalController.js":118,"./controllers/DeckPreviewModalController":60,"./controllers/DeckPreviewModalController.js":60,"./controllers/DetailLoadingOverlayController":124,"./controllers/DetailLoadingOverlayController.js":124,"./controllers/DialogModalController":61,"./controllers/DialogModalController.js":61,"./controllers/EditCardController":62,"./controllers/EditCardController.js":62,"./controllers/EditPackPrivacyModalController":126,"./controllers/EditPackPrivacyModalController.js":126,"./controllers/ErrorModalController":77,"./controllers/ErrorModalController.js":77,"./controllers/GetTheAppModalController":128,"./controllers/GetTheAppModalController.js":128,"./controllers/ImportDeckModalController":131,"./controllers/ImportDeckModalController.js":131,"./controllers/MessageAuthorModalSetController":133,"./controllers/MessageAuthorModalSetController.js":133,"./controllers/PageLoadingOverlayController":79,"./controllers/PageLoadingOverlayController.js":79,"./controllers/RegistrationController":267,"./controllers/RegistrationController.js":267,"./controllers/SharePackByLinkModalController":143,"./controllers/SharePackByLinkModalController.js":143,"./controllers/SharePackModalSetController":144,"./controllers/SharePackModalSetController.js":144,"./controllers/StandardModalsController":85,"./controllers/StandardModalsController.js":85,"./controllers/SuggestEditModalSetController":86,"./controllers/SuggestEditModalSetController.js":86,"./controllers/UnlockDeckModalController":148,"./controllers/UnlockDeckModalController.js":148,"./controllers/UpgradeModalController":51,"./controllers/UpgradeModalController.js":51,"./deprecated/Button":270,"./deprecated/Button.js":270,"./deprecated/CheckButton":271,"./deprecated/CheckButton.js":271,"./deprecated/ConfidenceButtons":272,"./deprecated/ConfidenceButtons.js":272,"./deprecated/ContactForm":273,"./deprecated/ContactForm.js":273,"./deprecated/DeckProgressTable":274,"./deprecated/DeckProgressTable.js":274,"./deprecated/DeckProgressTableRow":275,"./deprecated/DeckProgressTableRow.js":275,"./deprecated/Popover":276,"./deprecated/Popover.js":276,"./deprecated/RadioButton":277,"./deprecated/RadioButton.js":277,"./deprecated/StartAction":278,"./deprecated/StartAction.js":278,"./deprecated/SuggestionButton":279,"./deprecated/SuggestionButton.js":279,"./editor/CardActions":150,"./editor/CardActions.js":150,"./editor/CardActionsDropdown":151,"./editor/CardActionsDropdown.js":151,"./editor/CardEditorField":152,"./editor/CardEditorField.js":152,"./editor/CardList":153,"./editor/CardList.js":153,"./editor/CardPane":155,"./editor/CardPane.js":155,"./editor/CardTile":154,"./editor/CardTile.js":154,"./editor/DeckStatusTile":156,"./editor/DeckStatusTile.js":156,"./editor/EditorFlashTile":157,"./editor/EditorFlashTile.js":157,"./editor/EditorPane":158,"./editor/EditorPane.js":158,"./editor/EditorPaneHeader":159,"./editor/EditorPaneHeader.js":159,"./editor/HiddenSection":160,"./editor/HiddenSection.js":160,"./modals/BrowserCompatibilityModal":88,"./modals/BrowserCompatibilityModal.js":88,"./modals/CautionModal":114,"./modals/CautionModal.js":114,"./modals/CopyAndPlaceCardsModalSet":115,"./modals/CopyAndPlaceCardsModalSet.js":115,"./modals/CopyAndPlaceDeckModalSet":161,"./modals/CopyAndPlaceDeckModalSet.js":161,"./modals/CramPaywallUpgradeModal":162,"./modals/CramPaywallUpgradeModal.js":162,"./modals/CreateDeckModal":163,"./modals/CreateDeckModal.js":163,"./modals/CreatePackModal":164,"./modals/CreatePackModal.js":164,"./modals/CustomizeClassIconModal":117,"./modals/CustomizeClassIconModal.js":117,"./modals/DeckPreviewModal":119,"./modals/DeckPreviewModal.js":119,"./modals/EditCardModal":125,"./modals/EditCardModal.js":125,"./modals/EditPackPrivacyModal":127,"./modals/EditPackPrivacyModal.js":127,"./modals/ErrorModal":78,"./modals/ErrorModal.js":78,"./modals/FtuePromptModal":165,"./modals/FtuePromptModal.js":165,"./modals/GetTheAppModal":129,"./modals/GetTheAppModal.js":129,"./modals/ImportDeckModal":132,"./modals/ImportDeckModal.js":132,"./modals/LearnerProgressModal":89,"./modals/LearnerProgressModal.js":89,"./modals/MessageAuthorModalSet":134,"./modals/MessageAuthorModalSet.js":134,"./modals/NewDialogModal":76,"./modals/NewDialogModal.js":76,"./modals/NewResourceFormModal":168,"./modals/NewResourceFormModal.js":168,"./modals/NewUpgradeModal":35,"./modals/NewUpgradeModal.js":35,"./modals/OpportunitiesModal":170,"./modals/OpportunitiesModal.js":170,"./modals/PreBounceModal":280,"./modals/PreBounceModal.js":280,"./modals/RequiredPackMetadataModalSet":171,"./modals/RequiredPackMetadataModalSet.js":171,"./modals/SetReminderModal":172,"./modals/SetReminderModal.js":172,"./modals/SharePackByEmailModal":146,"./modals/SharePackByEmailModal.js":146,"./modals/SharePackByLinkModal":84,"./modals/SharePackByLinkModal.js":84,"./modals/SharePackModalSet":145,"./modals/SharePackModalSet.js":145,"./modals/SuggestEditModalSet":147,"./modals/SuggestEditModalSet.js":147,"./modals/UnlockDeckModal":149,"./modals/UnlockDeckModal.js":149,"./modals/VideoModal":90,"./modals/VideoModal.js":90,"./pages/account/ApplePaymentModal":173,"./pages/account/ApplePaymentModal.js":173,"./pages/account/CancelSubscriptionModal":174,"./pages/account/CancelSubscriptionModal.js":174,"./pages/account/GooglePaymentModal":175,"./pages/account/GooglePaymentModal.js":175,"./pages/account/ResetLocalPrefsSidebarOption":282,"./pages/account/ResetLocalPrefsSidebarOption.js":282,"./pages/account/StripeCheckoutWidget":176,"./pages/account/StripeCheckoutWidget.js":176,"./pages/account/SubscriptionBillingRow":283,"./pages/account/SubscriptionBillingRow.js":283,"./pages/dashboard/CreateFtueMessaging":177,"./pages/dashboard/CreateFtueMessaging.js":177,"./pages/dashboard/DashboardMobileTopbar":178,"./pages/dashboard/DashboardMobileTopbar.js":178,"./pages/dashboard/DashboardModalControllers":179,"./pages/dashboard/DashboardModalControllers.js":179,"./pages/dashboard/DashboardOptionsButton":91,"./pages/dashboard/DashboardOptionsButton.js":91,"./pages/dashboard/DashboardPage":284,"./pages/dashboard/DashboardPage.js":284,"./pages/dashboard/DashboardSidebar":180,"./pages/dashboard/DashboardSidebar.js":180,"./pages/dashboard/DeckList":196,"./pages/dashboard/DeckList.js":196,"./pages/dashboard/DeckOptionsButton":198,"./pages/dashboard/DeckOptionsButton.js":198,"./pages/dashboard/DeckRow":197,"./pages/dashboard/DeckRow.js":197,"./pages/dashboard/LearnerListOptionsButton":203,"./pages/dashboard/LearnerListOptionsButton.js":203,"./pages/dashboard/LearnerOptionsButton":93,"./pages/dashboard/LearnerOptionsButton.js":93,"./pages/dashboard/LearnerRow":204,"./pages/dashboard/LearnerRow.js":204,"./pages/dashboard/LearnerRowAdminView":205,"./pages/dashboard/LearnerRowAdminView.js":205,"./pages/dashboard/LearnerTile":206,"./pages/dashboard/LearnerTile.js":206,"./pages/dashboard/LearnerTileAdminView":207,"./pages/dashboard/LearnerTileAdminView.js":207,"./pages/dashboard/NewLearnerBubble":208,"./pages/dashboard/NewLearnerBubble.js":208,"./pages/dashboard/OldLearnersProgressBar":167,"./pages/dashboard/OldLearnersProgressBar.js":167,"./pages/dashboard/PackAboutBrainscapeSegment":185,"./pages/dashboard/PackAboutBrainscapeSegment.js":185,"./pages/dashboard/PackAboutDescriptionSegment":186,"./pages/dashboard/PackAboutDescriptionSegment.js":186,"./pages/dashboard/PackAboutHeadlineSegment":188,"./pages/dashboard/PackAboutHeadlineSegment.js":188,"./pages/dashboard/PackAboutPurposeSegment":189,"./pages/dashboard/PackAboutPurposeSegment.js":189,"./pages/dashboard/PackAboutSection":184,"./pages/dashboard/PackAboutSection.js":184,"./pages/dashboard/PackAboutSettingsSegment":190,"./pages/dashboard/PackAboutSettingsSegment.js":190,"./pages/dashboard/PackAboutSupplementalSegment":191,"./pages/dashboard/PackAboutSupplementalSegment.js":191,"./pages/dashboard/PackAboutVideoSegment":192,"./pages/dashboard/PackAboutVideoSegment.js":192,"./pages/dashboard/PackDecksSection":195,"./pages/dashboard/PackDecksSection.js":195,"./pages/dashboard/PackDetail":183,"./pages/dashboard/PackDetail.js":183,"./pages/dashboard/PackDetailHeader":200,"./pages/dashboard/PackDetailHeader.js":200,"./pages/dashboard/PackExceptionMessaging":210,"./pages/dashboard/PackExceptionMessaging.js":210,"./pages/dashboard/PackLeaderboardSection":209,"./pages/dashboard/PackLeaderboardSection.js":209,"./pages/dashboard/PackLearnersSection":202,"./pages/dashboard/PackLearnersSection.js":202,"./pages/dashboard/PackMetaField":66,"./pages/dashboard/PackMetaField.js":66,"./pages/dashboard/PackOptionsButton":92,"./pages/dashboard/PackOptionsButton.js":92,"./pages/dashboard/SidebarPack":181,"./pages/dashboard/SidebarPack.js":181,"./pages/dashboard/StudyFtueMessaging":211,"./pages/dashboard/StudyFtueMessaging.js":211,"./pages/dashboard/StudyMixTypeOptionsButton":199,"./pages/dashboard/StudyMixTypeOptionsButton.js":199,"./pages/editor/EditorPage":294,"./pages/editor/EditorPage.js":294,"./pages/genome/ClassBar":212,"./pages/genome/ClassBar.js":212,"./pages/genome/GenomeSidebarPanel":232,"./pages/genome/GenomeSidebarPanel.js":232,"./pages/genome/GenomeTopbar":295,"./pages/genome/GenomeTopbar.js":295,"./pages/genome/GenomeTopbarPanel":213,"./pages/genome/GenomeTopbarPanel.js":213,"./pages/genome/MarketCopyPlaceCardsButton":296,"./pages/genome/MarketCopyPlaceCardsButton.js":296,"./pages/genome/SearchResults":297,"./pages/genome/SearchResults.js":297,"./pages/landing/StartAction":298,"./pages/landing/StartAction.js":298,"./pages/study/Checkpoint":94,"./pages/study/Checkpoint.js":94,"./pages/study/CheckpointOptionsButton":214,"./pages/study/CheckpointOptionsButton.js":214,"./pages/study/ConfidenceLevelButtons":95,"./pages/study/ConfidenceLevelButtons.js":95,"./pages/study/ConfidenceMeter":215,"./pages/study/ConfidenceMeter.js":215,"./pages/study/CramPaywallBubble":216,"./pages/study/CramPaywallBubble.js":216,"./pages/study/FtseMessaging":217,"./pages/study/FtseMessaging.js":217,"./pages/study/OverallStatsSection":220,"./pages/study/OverallStatsSection.js":220,"./pages/study/PreExitBubble":219,"./pages/study/PreExitBubble.js":219,"./pages/study/ProgressMeter":221,"./pages/study/ProgressMeter.js":221,"./pages/study/StudyCard":222,"./pages/study/StudyCard.js":222,"./pages/study/StudyCardBar":225,"./pages/study/StudyCardBar.js":225,"./pages/study/StudyCardFace":224,"./pages/study/StudyCardFace.js":224,"./pages/study/StudyCardTable":226,"./pages/study/StudyCardTable.js":226,"./pages/study/StudyMixOptionsButton":228,"./pages/study/StudyMixOptionsButton.js":228,"./pages/study/StudyModalControllers":229,"./pages/study/StudyModalControllers.js":229,"./pages/study/StudyPage":299,"./pages/study/StudyPage.js":299,"./pages/study/StudySidebar":230,"./pages/study/StudySidebar.js":230,"./pages/study/ThisRoundStatsSection":231,"./pages/study/ThisRoundStatsSection.js":231,"./registration/ContinueWithApple":81,"./registration/ContinueWithApple.js":81,"./registration/ContinueWithFacebook":138,"./registration/ContinueWithFacebook.js":138,"./registration/ContinueWithGoogle":82,"./registration/ContinueWithGoogle.js":82,"./registration/ForgotForm":136,"./registration/ForgotForm.js":136,"./registration/ForgotModal":135,"./registration/ForgotModal.js":135,"./registration/FormButton":300,"./registration/FormButton.js":300,"./registration/FormError":80,"./registration/FormError.js":80,"./registration/FormField":301,"./registration/FormField.js":301,"./registration/Link":302,"./registration/Link.js":302,"./registration/LoginForm":139,"./registration/LoginForm.js":139,"./registration/LoginLink":303,"./registration/LoginLink.js":303,"./registration/LoginModal":137,"./registration/LoginModal.js":137,"./registration/Misc":49,"./registration/Misc.js":49,"./registration/NavLink":96,"./registration/NavLink.js":96,"./registration/RegisterLink":304,"./registration/RegisterLink.js":304,"./registration/RegistrationForm":141,"./registration/RegistrationForm.js":141,"./registration/RegistrationModal":140,"./registration/RegistrationModal.js":140,"./registration/RegistrationPanel":142,"./registration/RegistrationPanel.js":142,"./registration/TermsAndAgreements":305,"./registration/TermsAndAgreements.js":305,"./registration/Title":306,"./registration/Title.js":306,"./shared/AnimatedCards":218,"./shared/AnimatedCards.js":218,"./shared/Bubble":27,"./shared/Bubble.js":27,"./shared/BubbleDialog":52,"./shared/BubbleDialog.js":52,"./shared/CopyToClipboardLink":63,"./shared/CopyToClipboardLink.js":63,"./shared/EditCardButton":122,"./shared/EditCardButton.js":122,"./shared/ErrorBoundary":223,"./shared/ErrorBoundary.js":223,"./shared/FileDropZoneField":75,"./shared/FileDropZoneField.js":75,"./shared/IconButton":7,"./shared/IconButton.js":7,"./shared/ImageViewer":227,"./shared/ImageViewer.js":227,"./shared/InfoButtonTooltip":13,"./shared/InfoButtonTooltip.js":13,"./shared/Link":166,"./shared/Link.js":166,"./shared/LoadingOverlay":48,"./shared/LoadingOverlay.js":48,"./shared/MasteryCircle":50,"./shared/MasteryCircle.js":50,"./shared/NewModal":6,"./shared/NewModal.js":6,"./shared/OldIconTooltip":307,"./shared/OldIconTooltip.js":307,"./shared/OpportunitiesModal":308,"./shared/OpportunitiesModal.js":308,"./shared/OptionsButton":87,"./shared/OptionsButton.js":87,"./shared/OptionsMenuButton":22,"./shared/OptionsMenuButton.js":22,"./shared/PermissionsTooltip":64,"./shared/PermissionsTooltip.js":64,"./shared/PillButton":4,"./shared/PillButton.js":4,"./shared/PreviewCard":121,"./shared/PreviewCard.js":121,"./shared/PreviewCardTable":120,"./shared/PreviewCardTable.js":120,"./shared/Pulldown":26,"./shared/Pulldown.js":26,"./shared/RadioButtonsField":34,"./shared/RadioButtonsField.js":34,"./shared/ResourceForm":169,"./shared/ResourceForm.js":169,"./shared/RoundCheckbox":17,"./shared/RoundCheckbox.js":17,"./shared/SearchBar":309,"./shared/SearchBar.js":309,"./shared/SimpleProgressBar":33,"./shared/SimpleProgressBar.js":33,"./shared/SimpleTextButton":8,"./shared/SimpleTextButton.js":8,"./shared/SiteMenu":182,"./shared/SiteMenu.js":182,"./shared/SmsField":130,"./shared/SmsField.js":130,"./shared/Spinner":12,"./shared/Spinner.js":12,"./shared/StudyButton":201,"./shared/StudyButton.js":201,"./shared/TextField":10,"./shared/TextField.js":10,"./shared/TextareaField":31,"./shared/TextareaField.js":31,"./shared/TooltipWrapper":18,"./shared/TooltipWrapper.js":18,"./shared/TransitionWrapper":46,"./shared/TransitionWrapper.js":46,"./shared/VideoEmbed":65,"./shared/VideoEmbed.js":65,"./shared/VideoModalButton":310,"./shared/VideoModalButton.js":310,"./shared/VideoModalPoster":193,"./shared/VideoModalPoster.js":193,"./shared/VideoPlaceholder":194,"./shared/VideoPlaceholder.js":194,"./shared/WordyHr":83,"./shared/WordyHr.js":83};function o(e){return n(i(e))}function i(e){var t=r[e];if(!(t+1))throw new Error("Cannot find module '"+e+"'.");return t}o.keys=function(){return Object.keys(r)},o.resolve=i,e.exports=o,o.id=359},function(e,t,n){"use strict";var r=n(361);function o(){}function i(){}i.resetWarningCache=o,e.exports=function(){function e(e,t,n,o,i,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:o};return n.PropTypes=n,n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){!function(){"use strict";e.exports={polyfill:function(){var e=window,t=document;if(!("scrollBehavior"in t.documentElement.style&&!0!==e.__forceSmoothScrollPolyfill__)){var n=e.HTMLElement||e.Element,r=468,o={scroll:e.scroll||e.scrollTo,scrollBy:e.scrollBy,elementScroll:n.prototype.scroll||s,scrollIntoView:n.prototype.scrollIntoView},i=e.performance&&e.performance.now?e.performance.now.bind(e.performance):Date.now,a=function(e){return new RegExp(["MSIE ","Trident/","Edge/"].join("|")).test(e)}(e.navigator.userAgent)?1:0;e.scroll=e.scrollTo=function(){void 0!==arguments[0]&&(!0!==l(arguments[0])?f.call(e,t.body,void 0!==arguments[0].left?~~arguments[0].left:e.scrollX||e.pageXOffset,void 0!==arguments[0].top?~~arguments[0].top:e.scrollY||e.pageYOffset):o.scroll.call(e,void 0!==arguments[0].left?arguments[0].left:"object"!=typeof arguments[0]?arguments[0]:e.scrollX||e.pageXOffset,void 0!==arguments[0].top?arguments[0].top:void 0!==arguments[1]?arguments[1]:e.scrollY||e.pageYOffset))},e.scrollBy=function(){void 0!==arguments[0]&&(l(arguments[0])?o.scrollBy.call(e,void 0!==arguments[0].left?arguments[0].left:"object"!=typeof arguments[0]?arguments[0]:0,void 0!==arguments[0].top?arguments[0].top:void 0!==arguments[1]?arguments[1]:0):f.call(e,t.body,~~arguments[0].left+(e.scrollX||e.pageXOffset),~~arguments[0].top+(e.scrollY||e.pageYOffset)))},n.prototype.scroll=n.prototype.scrollTo=function(){if(void 0!==arguments[0])if(!0!==l(arguments[0])){var e=arguments[0].left,t=arguments[0].top;f.call(this,this,void 0===e?this.scrollLeft:~~e,void 0===t?this.scrollTop:~~t)}else{if("number"==typeof arguments[0]&&void 0===arguments[1])throw new SyntaxError("Value could not be converted");o.elementScroll.call(this,void 0!==arguments[0].left?~~arguments[0].left:"object"!=typeof arguments[0]?~~arguments[0]:this.scrollLeft,void 0!==arguments[0].top?~~arguments[0].top:void 0!==arguments[1]?~~arguments[1]:this.scrollTop)}},n.prototype.scrollBy=function(){void 0!==arguments[0]&&(!0!==l(arguments[0])?this.scroll({left:~~arguments[0].left+this.scrollLeft,top:~~arguments[0].top+this.scrollTop,behavior:arguments[0].behavior}):o.elementScroll.call(this,void 0!==arguments[0].left?~~arguments[0].left+this.scrollLeft:~~arguments[0]+this.scrollLeft,void 0!==arguments[0].top?~~arguments[0].top+this.scrollTop:~~arguments[1]+this.scrollTop))},n.prototype.scrollIntoView=function(){if(!0!==l(arguments[0])){var n=function(e){for(;e!==t.body&&!1===d(e);)e=e.parentNode||e.host;return e}(this),r=n.getBoundingClientRect(),i=this.getBoundingClientRect();n!==t.body?(f.call(this,n,n.scrollLeft+i.left-r.left,n.scrollTop+i.top-r.top),"fixed"!==e.getComputedStyle(n).position&&e.scrollBy({left:r.left,top:r.top,behavior:"smooth"})):e.scrollBy({left:i.left,top:i.top,behavior:"smooth"})}else o.scrollIntoView.call(this,void 0===arguments[0]||arguments[0])}}function s(e,t){this.scrollLeft=e,this.scrollTop=t}function l(e){if(null===e||"object"!=typeof e||void 0===e.behavior||"auto"===e.behavior||"instant"===e.behavior)return!0;if("object"==typeof e&&"smooth"===e.behavior)return!1;throw new TypeError("behavior member of ScrollOptions "+e.behavior+" is not a valid value for enumeration ScrollBehavior.")}function c(e,t){return"Y"===t?e.clientHeight+a<e.scrollHeight:"X"===t?e.clientWidth+a<e.scrollWidth:void 0}function u(t,n){var r=e.getComputedStyle(t,null)["overflow"+n];return"auto"===r||"scroll"===r}function d(e){var t=c(e,"Y")&&u(e,"Y"),n=c(e,"X")&&u(e,"X");return t||n}function p(t){var n,o,a,s=(i()-t.startTime)/r;n=function(e){return.5*(1-Math.cos(Math.PI*e))}(s=s>1?1:s),o=t.startX+(t.x-t.startX)*n,a=t.startY+(t.y-t.startY)*n,t.method.call(t.scrollable,o,a),o===t.x&&a===t.y||e.requestAnimationFrame(p.bind(e,t))}function f(n,r,a){var l,c,u,d,f=i();n===t.body?(l=e,c=e.scrollX||e.pageXOffset,u=e.scrollY||e.pageYOffset,d=o.scroll):(l=n,c=n.scrollLeft,u=n.scrollTop,d=s),p({scrollable:l,method:d,startTime:f,startX:c,startY:u,x:r,y:a})}}}}()},function(e,t,n){var r;!function(){"use strict";var n={}.hasOwnProperty;function o(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var i=typeof r;if("string"===i||"number"===i)e.push(r);else if(Array.isArray(r)&&r.length){var a=o.apply(null,r);a&&e.push(a)}else if("object"===i)for(var s in r)n.call(r,s)&&r[s]&&e.push(s)}}return e.join(" ")}void 0!==e&&e.exports?(o.default=o,e.exports=o):void 0===(r=function(){return o}.apply(t,[]))||(e.exports=r)}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){e.hide=function(e){o(r.default.GLOBAL.HIDE,{target:e})},e.rebuild=function(){o(r.default.GLOBAL.REBUILD)},e.show=function(e){o(r.default.GLOBAL.SHOW,{target:e})},e.prototype.globalRebuild=function(){this.mount&&(this.unbindListener(),this.bindListener())},e.prototype.globalShow=function(e){if(this.mount){var t={currentTarget:e.detail.target};this.showTooltip(t,!0)}},e.prototype.globalHide=function(e){if(this.mount){var t=!!(e&&e.detail&&e.detail.target);this.hideTooltip({currentTarget:t&&e.detail.target},t)}}};var r=function(e){return e&&e.__esModule?e:{default:e}}(n(265)),o=function(e,t){var n=void 0;"function"==typeof window.CustomEvent?n=new window.CustomEvent(e,{detail:t}):((n=document.createEvent("Event")).initEvent(e,!1,!0),n.detail=t),window.dispatchEvent(n)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){e.prototype.bindWindowEvents=function(e){window.removeEventListener(r.default.GLOBAL.HIDE,this.globalHide),window.addEventListener(r.default.GLOBAL.HIDE,this.globalHide,!1),window.removeEventListener(r.default.GLOBAL.REBUILD,this.globalRebuild),window.addEventListener(r.default.GLOBAL.REBUILD,this.globalRebuild,!1),window.removeEventListener(r.default.GLOBAL.SHOW,this.globalShow),window.addEventListener(r.default.GLOBAL.SHOW,this.globalShow,!1),e&&(window.removeEventListener("resize",this.onWindowResize),window.addEventListener("resize",this.onWindowResize,!1))},e.prototype.unbindWindowEvents=function(){window.removeEventListener(r.default.GLOBAL.HIDE,this.globalHide),window.removeEventListener(r.default.GLOBAL.REBUILD,this.globalRebuild),window.removeEventListener(r.default.GLOBAL.SHOW,this.globalShow),window.removeEventListener("resize",this.onWindowResize)},e.prototype.onWindowResize=function(){this.mount&&this.hideTooltip()}};var r=function(e){return e&&e.__esModule?e:{default:e}}(n(265))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){e.prototype.isCustomEvent=function(e){return this.state.event||!!e.getAttribute("data-event")},e.prototype.customBindListener=function(e){var t=this,n=this.state,o=n.event,a=n.eventOff,s=e.getAttribute("data-event")||o,l=e.getAttribute("data-event-off")||a;s.split(" ").forEach(function(n){e.removeEventListener(n,i.get(e,n));var o=r.bind(t,l);i.set(e,n,o),e.addEventListener(n,o,!1)}),l&&l.split(" ").forEach(function(n){e.removeEventListener(n,t.hideTooltip),e.addEventListener(n,t.hideTooltip,!1)})},e.prototype.customUnbindListener=function(e){var t=this.state,n=t.event,r=t.eventOff,o=n||e.getAttribute("data-event"),a=r||e.getAttribute("data-event-off");e.removeEventListener(o,i.get(e,n)),a&&e.removeEventListener(a,this.hideTooltip)}};var r=function(e,t){var n=this.state.show,r=this.props.id,i=t.currentTarget.getAttribute("data-iscapture"),a=i&&"true"===i||this.props.isCapture,s=t.currentTarget.getAttribute("currentItem");a||t.stopPropagation(),n&&"true"===s?e||this.hideTooltip(t):(t.currentTarget.setAttribute("currentItem","true"),o(t.currentTarget,this.getTargetArray(r)),this.showTooltip(t))},o=function(e,t){for(var n=0;n<t.length;n++)e!==t[n]?t[n].setAttribute("currentItem","false"):t[n].setAttribute("currentItem","true")},i={id:"9b69f92e-d3fe-498b-b1b4-c5e63a51b0cf",set:function(e,t,n){this.id in e?e[this.id][t]=n:Object.defineProperty(e,this.id,{configurable:!0,value:function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},t,n)})},get:function(e,t){var n=e[this.id];if(void 0!==n)return n[t]}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){e.prototype.isCapture=function(e){return e&&"true"===e.getAttribute("data-iscapture")||this.props.isCapture||!1}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){e.prototype.getEffect=function(e){return e.getAttribute("data-effect")||this.props.effect||"float"}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){e.prototype.bindRemovalTracker=function(){var e=this,t=r();if(null!=t){var n=new t(function(t){for(var n=0;n<t.length;n++)for(var r=t[n],o=0;o<r.removedNodes.length;o++)if(r.removedNodes[o]===e.state.currentTarget)return void e.hideTooltip()});n.observe(window.document,{childList:!0,subtree:!0}),this.removalTracker=n}},e.prototype.unbindRemovalTracker=function(){this.removalTracker&&(this.removalTracker.disconnect(),this.removalTracker=null)}};var r=function(){return window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n,l,c,u,d){for(var p=r(n),f=p.width,h=p.height,m=r(t),g=m.width,b=m.height,v=o(e,t,u),y=v.mouseX,k=v.mouseY,_=i(u,g,b,f,h),w=a(d),C=w.extraOffset_X,S=w.extraOffset_Y,P=window.innerWidth,E=window.innerHeight,x=s(n),O=x.parentTop,T=x.parentLeft,M=function(e){var t=_[e].l;return y+t+C},A=function(e){var t=_[e].t;return k+t+S},j=function(e){return function(e){return M(e)<0}(e)||function(e){return function(e){var t=_[e].r;return y+t+C}(e)>P}(e)||function(e){return A(e)<0}(e)||function(e){return function(e){var t=_[e].b;return k+t+S}(e)>E}(e)},I=function(e){return!j(e)},N=["top","bottom","left","right"],R=[],D=0;D<4;D++){var L=N[D];I(L)&&R.push(L)}var B=!1,F=void 0;return I(c)&&c!==l?(B=!0,F=c):R.length>0&&j(c)&&j(l)&&(B=!0,F=R[0]),B?{isNewState:!0,newState:{place:F}}:{isNewState:!1,position:{left:parseInt(M(l)-T,10),top:parseInt(A(l)-O,10)}}};var r=function(e){var t=e.getBoundingClientRect(),n=t.height,r=t.width;return{height:parseInt(n,10),width:parseInt(r,10)}},o=function(e,t,n){var o=t.getBoundingClientRect(),i=o.top,a=o.left,s=r(t),l=s.width,c=s.height;return"float"===n?{mouseX:e.clientX,mouseY:e.clientY}:{mouseX:a+l/2,mouseY:i+c/2}},i=function(e,t,n,r,o){var i=void 0,a=void 0,s=void 0,l=void 0;return"float"===e?(i={l:-r/2,r:r/2,t:-(o+3+2),b:-3},s={l:-r/2,r:r/2,t:15,b:o+3+2+12},l={l:-(r+3+2),r:-3,t:-o/2,b:o/2},a={l:3,r:r+3+2,t:-o/2,b:o/2}):"solid"===e&&(i={l:-r/2,r:r/2,t:-(n/2+o+2),b:-n/2},s={l:-r/2,r:r/2,t:n/2,b:n/2+o+2},l={l:-(r+t/2+2),r:-t/2,t:-o/2,b:o/2},a={l:t/2,r:r+t/2+2,t:-o/2,b:o/2}),{top:i,bottom:s,left:l,right:a}},a=function(e){var t=0,n=0;for(var r in"[object String]"===Object.prototype.toString.apply(e)&&(e=JSON.parse(e.toString().replace(/\'/g,'"'))),e)"top"===r?n-=parseInt(e[r],10):"bottom"===r?n+=parseInt(e[r],10):"left"===r?t-=parseInt(e[r],10):"right"===r&&(t+=parseInt(e[r],10));return{extraOffset_X:t,extraOffset_Y:n}},s=function(e){for(var t=e;t&&"none"===window.getComputedStyle(t).getPropertyValue("transform");)t=t.parentElement;return{parentTop:t&&t.getBoundingClientRect().top||0,parentLeft:t&&t.getBoundingClientRect().left||0}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n,o){if(t)return t;if(void 0!==n&&null!==n)return n;if(null===n)return null;var i=/<br\s*\/?>/;return o&&"false"!==o&&i.test(e)?e.split(i).map(function(e,t){return r.default.createElement("span",{key:t,className:"multi-line"},e)}):e};var r=function(e){return e&&e.__esModule?e:{default:e}}(n(0))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseAria=function(e){var t={};return Object.keys(e).filter(function(e){return/(^aria-\w+$|^role$)/.test(e)}).forEach(function(n){t[n]=e[n]}),t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.length;return e.hasOwnProperty?Array.prototype.slice.call(e):new Array(t).fill().map(function(t){return e[t]})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default='.__react_component_tooltip{border-radius:3px;display:inline-block;font-size:13px;left:-999em;opacity:0;padding:8px 21px;position:fixed;pointer-events:none;transition:opacity 0.3s ease-out;top:-999em;visibility:hidden;z-index:999}.__react_component_tooltip.allow_hover,.__react_component_tooltip.allow_click{pointer-events:auto}.__react_component_tooltip:before,.__react_component_tooltip:after{content:"";width:0;height:0;position:absolute}.__react_component_tooltip.show{opacity:0.9;margin-top:0px;margin-left:0px;visibility:visible}.__react_component_tooltip.type-dark{color:#fff;background-color:#222}.__react_component_tooltip.type-dark.place-top:after{border-top-color:#222;border-top-style:solid;border-top-width:6px}.__react_component_tooltip.type-dark.place-bottom:after{border-bottom-color:#222;border-bottom-style:solid;border-bottom-width:6px}.__react_component_tooltip.type-dark.place-left:after{border-left-color:#222;border-left-style:solid;border-left-width:6px}.__react_component_tooltip.type-dark.place-right:after{border-right-color:#222;border-right-style:solid;border-right-width:6px}.__react_component_tooltip.type-dark.border{border:1px solid #fff}.__react_component_tooltip.type-dark.border.place-top:before{border-top:8px solid #fff}.__react_component_tooltip.type-dark.border.place-bottom:before{border-bottom:8px solid #fff}.__react_component_tooltip.type-dark.border.place-left:before{border-left:8px solid #fff}.__react_component_tooltip.type-dark.border.place-right:before{border-right:8px solid #fff}.__react_component_tooltip.type-success{color:#fff;background-color:#8DC572}.__react_component_tooltip.type-success.place-top:after{border-top-color:#8DC572;border-top-style:solid;border-top-width:6px}.__react_component_tooltip.type-success.place-bottom:after{border-bottom-color:#8DC572;border-bottom-style:solid;border-bottom-width:6px}.__react_component_tooltip.type-success.place-left:after{border-left-color:#8DC572;border-left-style:solid;border-left-width:6px}.__react_component_tooltip.type-success.place-right:after{border-right-color:#8DC572;border-right-style:solid;border-right-width:6px}.__react_component_tooltip.type-success.border{border:1px solid #fff}.__react_component_tooltip.type-success.border.place-top:before{border-top:8px solid #fff}.__react_component_tooltip.type-success.border.place-bottom:before{border-bottom:8px solid #fff}.__react_component_tooltip.type-success.border.place-left:before{border-left:8px solid #fff}.__react_component_tooltip.type-success.border.place-right:before{border-right:8px solid #fff}.__react_component_tooltip.type-warning{color:#fff;background-color:#F0AD4E}.__react_component_tooltip.type-warning.place-top:after{border-top-color:#F0AD4E;border-top-style:solid;border-top-width:6px}.__react_component_tooltip.type-warning.place-bottom:after{border-bottom-color:#F0AD4E;border-bottom-style:solid;border-bottom-width:6px}.__react_component_tooltip.type-warning.place-left:after{border-left-color:#F0AD4E;border-left-style:solid;border-left-width:6px}.__react_component_tooltip.type-warning.place-right:after{border-right-color:#F0AD4E;border-right-style:solid;border-right-width:6px}.__react_component_tooltip.type-warning.border{border:1px solid #fff}.__react_component_tooltip.type-warning.border.place-top:before{border-top:8px solid #fff}.__react_component_tooltip.type-warning.border.place-bottom:before{border-bottom:8px solid #fff}.__react_component_tooltip.type-warning.border.place-left:before{border-left:8px solid #fff}.__react_component_tooltip.type-warning.border.place-right:before{border-right:8px solid #fff}.__react_component_tooltip.type-error{color:#fff;background-color:#BE6464}.__react_component_tooltip.type-error.place-top:after{border-top-color:#BE6464;border-top-style:solid;border-top-width:6px}.__react_component_tooltip.type-error.place-bottom:after{border-bottom-color:#BE6464;border-bottom-style:solid;border-bottom-width:6px}.__react_component_tooltip.type-error.place-left:after{border-left-color:#BE6464;border-left-style:solid;border-left-width:6px}.__react_component_tooltip.type-error.place-right:after{border-right-color:#BE6464;border-right-style:solid;border-right-width:6px}.__react_component_tooltip.type-error.border{border:1px solid #fff}.__react_component_tooltip.type-error.border.place-top:before{border-top:8px solid #fff}.__react_component_tooltip.type-error.border.place-bottom:before{border-bottom:8px solid #fff}.__react_component_tooltip.type-error.border.place-left:before{border-left:8px solid #fff}.__react_component_tooltip.type-error.border.place-right:before{border-right:8px solid #fff}.__react_component_tooltip.type-info{color:#fff;background-color:#337AB7}.__react_component_tooltip.type-info.place-top:after{border-top-color:#337AB7;border-top-style:solid;border-top-width:6px}.__react_component_tooltip.type-info.place-bottom:after{border-bottom-color:#337AB7;border-bottom-style:solid;border-bottom-width:6px}.__react_component_tooltip.type-info.place-left:after{border-left-color:#337AB7;border-left-style:solid;border-left-width:6px}.__react_component_tooltip.type-info.place-right:after{border-right-color:#337AB7;border-right-style:solid;border-right-width:6px}.__react_component_tooltip.type-info.border{border:1px solid #fff}.__react_component_tooltip.type-info.border.place-top:before{border-top:8px solid #fff}.__react_component_tooltip.type-info.border.place-bottom:before{border-bottom:8px solid #fff}.__react_component_tooltip.type-info.border.place-left:before{border-left:8px solid #fff}.__react_component_tooltip.type-info.border.place-right:before{border-right:8px solid #fff}.__react_component_tooltip.type-light{color:#222;background-color:#fff}.__react_component_tooltip.type-light.place-top:after{border-top-color:#fff;border-top-style:solid;border-top-width:6px}.__react_component_tooltip.type-light.place-bottom:after{border-bottom-color:#fff;border-bottom-style:solid;border-bottom-width:6px}.__react_component_tooltip.type-light.place-left:after{border-left-color:#fff;border-left-style:solid;border-left-width:6px}.__react_component_tooltip.type-light.place-right:after{border-right-color:#fff;border-right-style:solid;border-right-width:6px}.__react_component_tooltip.type-light.border{border:1px solid #222}.__react_component_tooltip.type-light.border.place-top:before{border-top:8px solid #222}.__react_component_tooltip.type-light.border.place-bottom:before{border-bottom:8px solid #222}.__react_component_tooltip.type-light.border.place-left:before{border-left:8px solid #222}.__react_component_tooltip.type-light.border.place-right:before{border-right:8px solid #222}.__react_component_tooltip.place-top{margin-top:-10px}.__react_component_tooltip.place-top:before{border-left:10px solid transparent;border-right:10px solid transparent;bottom:-8px;left:50%;margin-left:-10px}.__react_component_tooltip.place-top:after{border-left:8px solid transparent;border-right:8px solid transparent;bottom:-6px;left:50%;margin-left:-8px}.__react_component_tooltip.place-bottom{margin-top:10px}.__react_component_tooltip.place-bottom:before{border-left:10px solid transparent;border-right:10px solid transparent;top:-8px;left:50%;margin-left:-10px}.__react_component_tooltip.place-bottom:after{border-left:8px solid transparent;border-right:8px solid transparent;top:-6px;left:50%;margin-left:-8px}.__react_component_tooltip.place-left{margin-left:-10px}.__react_component_tooltip.place-left:before{border-top:6px solid transparent;border-bottom:6px solid transparent;right:-8px;top:50%;margin-top:-5px}.__react_component_tooltip.place-left:after{border-top:5px solid transparent;border-bottom:5px solid transparent;right:-6px;top:50%;margin-top:-4px}.__react_component_tooltip.place-right{margin-left:10px}.__react_component_tooltip.place-right:before{border-top:6px solid transparent;border-bottom:6px solid transparent;left:-8px;top:50%;margin-top:-5px}.__react_component_tooltip.place-right:after{border-top:5px solid transparent;border-bottom:5px solid transparent;left:-6px;top:50%;margin-top:-4px}.__react_component_tooltip .multi-line{display:block;padding:2px 0px;text-align:center}'},function(e,t,n){e.exports=function(e){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=6)}([function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){"use strict";e.exports=function(e,t,n,r,o,i,a,s){if(!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,o,i,a,s],u=0;(l=new Error(t.replace(/%s/g,function(){return c[u++]}))).name="Invariant Violation"}throw l.framesToPop=1,l}}},function(e,t,n){"use strict";function r(e){return function(){return e}}var o=function(){};o.thatReturns=r,o.thatReturnsFalse=r(!1),o.thatReturnsTrue=r(!0),o.thatReturnsNull=r(null),o.thatReturnsThis=function(){return this},o.thatReturnsArgument=function(e){return e},e.exports=o},function(e,t,n){"use strict";var r=n(2),o=n(1),i=n(0);e.exports=function(){function e(e,t,n,r,a,s){s!==i&&o(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return n.checkPropTypes=r,n.PropTypes=n,n}},function(e,t,n){e.exports=n(3)()},function(t,n){t.exports=e},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(5)),o=i(n(4));function i(e){return e&&e.__esModule?e:{default:e}}function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var l=/^(application|audio|example|image|message|model|multipart|text|video)\/[a-z0-9\.\+\*-]+$/,c=/\.[a-zA-Z0-9]*$/,u=function(e){function t(e,n){var r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=!(o=(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n))||"object"!==a(o)&&"function"!=typeof o?s(this):o).onDrop=r.onDrop.bind(s(r)),r.onDragEnter=r.onDragEnter.bind(s(r)),r.onDragLeave=r.onDragLeave.bind(s(r)),r.openFileChooser=r.openFileChooser.bind(s(r)),r.id=1,r.state={files:[]},r}var n;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default.Component),(n=[{key:"onDrop",value:function(e){var t=this;e.preventDefault(),this.onDragLeave(e);var n=e.dataTransfer?e.dataTransfer.files:e.target.files;!1===this.props.multiple&&n.length>1&&(n=[n[0]]);for(var r=[],o=0;o<n.length;o++){var i=n[o];if(i.id="files-"+this.id++,i.extension=this.fileExtension(i),i.sizeReadable=this.fileSizeReadable(i.size),i.type&&"image"===this.mimeTypeLeft(i.type)?i.preview={type:"image",url:window.URL.createObjectURL(i)}:i.preview={type:"file"},this.state.files.length+r.length>=this.props.maxFiles){this.onError({code:4,message:"maximum file count reached"},i);break}this.fileTypeAcceptable(i)&&this.fileSizeAcceptable(i)&&r.push(i)}this.setState({files:!1===this.props.multiple?r:function(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}(this.state.files).concat(r)},function(){t.props.onChange.call(t,t.state.files)})}},{key:"onDragOver",value:function(e){e.preventDefault(),e.stopPropagation()}},{key:"onDragEnter",value:function(e){this.dropzone.className+=" "+this.props.dropActiveClassName}},{key:"onDragLeave",value:function(e){var t=this.dropzone;this.dropzone.className=t.className.replace(" "+this.props.dropActiveClassName,"")}},{key:"openFileChooser",value:function(){this.inputElement.value=null,this.inputElement.click()}},{key:"fileTypeAcceptable",value:function(e){var t=this,n=this.props.accepts;if(!n)return!0;var r=n.some(function(n){if(e.type&&n.match(l)){var r=t.mimeTypeLeft(e.type),o=t.mimeTypeRight(e.type),i=n.split("/")[0],a=n.split("/")[1];if(i&&a){if(i===r&&"*"===a)return!0;if(i===r&&a===o)return!0}}else if(e.extension&&n.match(c)){var s=n.substr(1);return e.extension.toLowerCase()===s.toLowerCase()}return!1});return r||this.onError({code:1,message:e.name+" is not a valid file type"},e),r}},{key:"fileSizeAcceptable",value:function(e){return e.size>this.props.maxFileSize?(this.onError({code:2,message:e.name+" is too large"},e),!1):!(e.size<this.props.minFileSize&&(this.onError({code:3,message:e.name+" is too small"},e),1))}},{key:"mimeTypeLeft",value:function(e){return e.split("/")[0]}},{key:"mimeTypeRight",value:function(e){return e.split("/")[1]}},{key:"fileExtension",value:function(e){var t=e.name.split(".");return t.length>1?t[t.length-1]:"none"}},{key:"fileSizeReadable",value:function(e){return e>=1e9?Math.ceil(e/1e9)+"GB":e>=1e6?Math.ceil(e/1e6)+"MB":e>=1e3?Math.ceil(e/1e3)+"kB":Math.ceil(e)+"B"}},{key:"onError",value:function(e,t){this.props.onError.call(this,e,t)}},{key:"removeFile",value:function(e){var t=this;this.setState({files:this.state.files.filter(function(t){return t.id!==e.id})},function(){t.props.onChange.call(t,t.state.files)})}},{key:"removeFiles",value:function(){var e=this;this.setState({files:[]},function(){e.props.onChange.call(e,e.state.files)})}},{key:"render",value:function(){var e=this,t={type:"file",accept:this.props.accepts?this.props.accepts.join():"",multiple:this.props.multiple,name:this.props.name,style:{display:"none"},ref:function(t){e.inputElement=t},onChange:this.onDrop};return r.default.createElement("div",null,r.default.createElement("input",t),r.default.createElement("div",{className:this.props.className,onClick:!0===this.props.clickable?this.openFileChooser:null,onDrop:this.onDrop,onDragOver:this.onDragOver,onDragEnter:this.onDragEnter,onDragLeave:this.onDragLeave,ref:function(t){e.dropzone=t},style:this.props.style},this.props.children))}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,n),t}();u.propTypes={children:o.default.oneOfType([o.default.arrayOf(o.default.node),o.default.node]),className:o.default.string.isRequired,dropActiveClassName:o.default.string,onChange:o.default.func,onError:o.default.func,accepts:o.default.array,multiple:o.default.bool,maxFiles:o.default.number,maxFileSize:o.default.number,minFileSize:o.default.number,clickable:o.default.bool,name:o.default.string,style:o.default.object},u.defaultProps={onChange:function(e){console.log(e)},onError:function(e,t){console.log("error code "+e.code+": "+e.message)},className:"files-dropzone",dropActiveClassName:"files-dropzone-active",accepts:null,multiple:!0,maxFiles:1/0,maxFileSize:1/0,minFileSize:0,name:"file",clickable:!0};var d=u;t.default=d}])}(n(0))},function(e,t,n){"use strict";t.__esModule=!0;var r=n(0),o=a(r),i=(a(n(3)),a(n(377)));function a(e){return e&&e.__esModule?e:{default:e}}var s=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n)),a=i.default[r.props.defaultCountry]&&r.props.defaultCountry;return r.state={openOptions:!1,defaultCountry:a,filteredCountries:[]},r.toggleOptions=r.toggleOptions.bind(r),r.closeOptions=r.closeOptions.bind(r),r.onSelect=r.onSelect.bind(r),r.filterSearch=r.filterSearch.bind(r),r.setCountries=r.setCountries.bind(r),r.selectedFlag=o.default.createRef(),r.flagOptions=o.default.createRef(),r.filterText=o.default.createRef(),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.toggleOptions=function(){!this.state.disabled&&this.setState({openOptions:!this.state.openOptions})},t.prototype.toggleOptionsWithKeyboard=function(e){e.preventDefault(),13===e.keyCode?this.toggleOptions():27===e.keyCode&&!this.state.disabled&&this.setState({openOptions:!1})},t.prototype.closeOptions=function(e){e.target!==this.selectedFlag.current&&e.target!==this.flagOptions.current&&e.target!==this.filterText.current&&this.setState({openOptions:!1})},t.prototype.onSelect=function(e){this.setState({selected:e,filter:""}),this.props.onSelect&&this.props.onSelect(e)},t.prototype.onSelectWithKeyboard=function(e,t){e.preventDefault(),13===e.keyCode?(this.onSelect(t),this.closeOptions(e)):27===e.keyCode&&this.toggleOptions()},t.prototype.updateSelected=function(e){i.default[e]&&this.setState({selected:e})},t.prototype.filterSearch=function(e){var t=this,n=e.target.value,r=n&&this.state.countries.filter(function(e){var r=t.props.customLabels[e]||i.default[e];return r&&r.match(new RegExp(n,"i"))});this.setState({filter:n,filteredCountries:r})},t.prototype.setCountries=function(){var e=this,t=Object.keys(i.default),n=this.props.countries&&this.props.countries.filter(function(e){return i.default[e]});this.props.blackList&&n&&(n=t.filter(function(e){return 0===n.filter(function(t){return e===t}).length})),this.setState({countries:n||t},function(){var t=e.state.selected;t&&!e.state.countries.includes(t)&&e.setState({selected:null})})},t.prototype.componentDidMount=function(){this.setCountries(),!this.props.disabled&&window.addEventListener("click",this.closeOptions)},t.prototype.componentDidUpdate=function(e){e.countries===this.props.countries&&e.blackList===this.props.blackList||this.setCountries()},t.prototype.componentWillUnmount=function(){!this.props.disabled&&window.removeEventListener("click",this.closeOptions)},t.prototype.render=function(){var e=this,t=this.state.selected||this.state.defaultCountry,r=this.props.selectedSize,a=this.props.optionsSize,s="left"===this.props.alignOptions.toLowerCase()?"to--left":"";return o.default.createElement("div",{className:"flag-select "+(this.props.className?this.props.className:"")},o.default.createElement("div",{ref:this.selectedFlag,style:{fontSize:r+"px"},className:"selected--flag--option "+(this.props.disabled?"no--focus":""),tabIndex:"0",onClick:this.toggleOptions,onKeyUp:function(t){return e.toggleOptionsWithKeyboard(t)}},t&&o.default.createElement("span",{className:"country-flag",style:{width:r+"px",height:r+"px"}},o.default.createElement("img",{src:n(266)("./"+t.toLowerCase()+".svg")}),this.props.showSelectedLabel&&o.default.createElement("span",{className:"country-label"},this.props.customLabels[t]||i.default[t])),!t&&o.default.createElement("span",{className:"country-label"},this.props.placeholder),o.default.createElement("span",{className:"arrow-down "+(this.props.disabled?"hidden":"")},"\u25be")),this.state.openOptions&&o.default.createElement("div",{ref:this.flagOptions,style:{fontSize:a+"px"},className:"flag-options "+s},this.props.searchable&&o.default.createElement("div",{className:"filterBox"},o.default.createElement("input",{type:"text",placeholder:this.props.searchPlaceholder,ref:this.filterText,onChange:this.filterSearch})),(this.state.filter?this.state.filteredCountries:this.state.countries).map(function(t){return o.default.createElement("div",{className:"flag-option "+(e.props.showOptionLabel?"has-label":""),key:t,tabIndex:"0",onClick:function(){return e.onSelect(t)},onKeyUp:function(n){return e.onSelectWithKeyboard(n,t)}},o.default.createElement("span",{className:"country-flag",style:{width:a+"px",height:a+"px"}},o.default.createElement("img",{src:n(266)("./"+t.toLowerCase()+".svg")}),e.props.showOptionLabel&&o.default.createElement("span",{className:"country-label"},e.props.customLabels[t]||i.default[t])))})))},t}(r.Component);s.defaultProps={selectedSize:16,optionsSize:14,placeholder:"Select a country",showSelectedLabel:!0,showOptionLabel:!0,alignOptions:"right",customLabels:{},disabled:!1,blackList:!1,searchable:!1,searchPlaceholder:"Search"},s.propTypes={},t.default=s,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default={AF:"Afghanistan",AL:"Albania",DZ:"Algeria",AS:"American Samoa",AD:"Andorra",AO:"Angola",AI:"Anguilla",AG:"Antigua and Barbuda",AR:"Argentina",AM:"Armenia",AW:"Aruba",AU:"Australia",AT:"Austria",AZ:"Azerbaijan",BS:"Bahamas",BD:"Bangladesh",BB:"Barbados",BY:"Belarus",BE:"Belgium",BZ:"Belize",BJ:"Benin",BM:"Bermuda",BT:"Bhutan",BO:"Bolivia, Plurinational State of",BA:"Bosnia and Herzegovina",BW:"Botswana",BR:"Brazil",IO:"British Indian Ocean Territory",BG:"Bulgaria",BF:"Burkina Faso",BI:"Burundi",KH:"Cambodia",CM:"Cameroon",CA:"Canada",CV:"Cape Verde",KY:"Cayman Islands",CF:"Central African Republic",TD:"Chad",CL:"Chile",CN:"China",CO:"Colombia",KM:"Comoros",CG:"Congo",CD:"Democratic Republic of the Congo",CK:"Cook Islands",CR:"Costa Rica",CI:"C\xf4te d'Ivoire",HR:"Croatia",CU:"Cuba",CW:"Cura\xe7ao",CY:"Cyprus",CZ:"Czech Republic",DK:"Denmark",DJ:"Djibouti",DM:"Dominica",DO:"Dominican Republic",EC:"Ecuador",EG:"Egypt",SV:"El Salvador",GQ:"Equatorial Guinea",ER:"Eritrea",EE:"Estonia",ET:"Ethiopia",FK:"Falkland Islands (Malvinas)",FO:"Faroe Islands",FJ:"Fiji",FI:"Finland",FR:"France",PF:"French Polynesia",GA:"Gabon",GM:"Gambia",GE:"Georgia",DE:"Germany",GH:"Ghana",GI:"Gibraltar",GR:"Greece",GL:"Greenland",GD:"Grenada",GU:"Guam",GT:"Guatemala",GG:"Guernsey",GN:"Guinea",GW:"Guinea-Bissau",HT:"Haiti",HN:"Honduras",HK:"Hong Kong",HU:"Hungary",IS:"Iceland",IN:"India",ID:"Indonesia",IR:"Iran, Islamic Republic of",IQ:"Iraq",IE:"Ireland",IM:"Isle of Man",IL:"Israel",IT:"Italy",JM:"Jamaica",JP:"Japan",JE:"Jersey",JO:"Jordan",KZ:"Kazakhstan",KE:"Kenya",KI:"Kiribati",KP:"North Korea",KR:"South Korea",KW:"Kuwait",KG:"Kyrgyzstan",LA:"Lao People's Democratic Republic",LV:"Latvia",LB:"Lebanon",LS:"Lesotho",LR:"Liberia",LY:"Libya",LI:"Liechtenstein",LT:"Lithuania",LU:"Luxembourg",MO:"Macao",MK:"Republic of Macedonia",MG:"Madagascar",MW:"Malawi",MY:"Malaysia",MV:"Maldives",ML:"Mali",MT:"Malta",MH:"Marshall Islands",MQ:"Martinique",MR:"Mauritania",MU:"Mauritius",MX:"Mexico",FM:"Micronesia, Federated States of",MD:"Republic of Moldova",MC:"Monaco",MN:"Mongolia",ME:"Montenegro",MS:"Montserrat",MA:"Morocco",MZ:"Mozambique",MM:"Myanmar",NA:"Namibia",NR:"Nauru",NP:"Nepal",NL:"Netherlands",NZ:"New Zealand",NI:"Nicaragua",NE:"Niger",NG:"Nigeria",NU:"Niue",NF:"Norfolk Island",MP:"Northern Mariana Islands",NO:"Norway",OM:"Oman",PK:"Pakistan",PW:"Palau",PS:"Palestinian Territory",PA:"Panama",PG:"Papua New Guinea",PY:"Paraguay",PE:"Peru",PH:"Philippines",PN:"Pitcairn",PL:"Poland",PT:"Portugal",PR:"Puerto Rico",QA:"Qatar",RO:"Romania",RU:"Russian",RW:"Rwanda",KN:"Saint Kitts and Nevis",WS:"Samoa",SM:"San Marino",ST:"Sao Tome and Principe",SA:"Saudi Arabia",SN:"Senegal",RS:"Serbia",SC:"Seychelles",SL:"Sierra Leone",SG:"Singapore",SX:"Sint Maarten",SK:"Slovakia",SI:"Slovenia",SB:"Solomon Islands",SO:"Somalia",ZA:"South Africa",SS:"South Sudan",ES:"Spain",LK:"Sri Lanka",SD:"Sudan",SR:"Suriname",SZ:"Swaziland",SE:"Sweden",CH:"Switzerland",SY:"Syria",TW:"Taiwan, Province of China",TJ:"Tajikistan",TZ:"Tanzania",TH:"Thailand",TG:"Togo",TK:"Tokelau",TO:"Tonga",TT:"Trinidad and Tobago",TN:"Tunisia",TR:"Turkey",TM:"Turkmenistan",TC:"Turks and Caicos Islands",TV:"Tuvalu",UG:"Uganda",UA:"Ukraine",AE:"United Arab Emirates",GB:"United Kingdom",US:"United States",UY:"Uruguay",UZ:"Uzbekistan",VU:"Vanuatu",VE:"Venezuela, Bolivarian Republic of",VN:"Viet Nam",VI:"Virgin Islands",YE:"Yemen",ZM:"Zambia",ZW:"Zimbabwe"},e.exports=t.default},function(e,t,n){e.exports=n.p+"_/_/node_modules/react-flags-select/flags/ad-f54a24d29bcaa41e713b5fdef95414de.svg"},function(e,t,n){e.exports=n.p+"_/_/node_modules/react-flags-select/flags/ae-d3d1653a7c34a1ede2d1e6eb8dd04160.svg"},function(e,t,n){e.exports=n.p+"_/_/node_modules/react-flags-select/flags/af-81ea5c112c202e4c09f03c13351bf46f.svg"},function(e,t,n){e.exports=n.p+"_/_/node_modules/react-flags-select/flags/ag-e45175f4e188d20f127c7fa98892eb66.svg"},function(e,t,n){e.exports=n.p+"_/_/node_modules/react-flags-select/flags/ai-97171fd63f7f8c5f7dd5bee9cd667c21.svg"},function(e,t,n){e.exports=n.p+"_/_/node_modules/react-flags-select/flags/al-a4b34f8097583129f1d1e3c23864035f.svg"},function(e,t,n){e.exports=n.p+"_/_/node_modules/react-flags-select/flags/am-3bcfa4ad21a0f2589c7069e9f3cc2ea5.svg"},function(e,t,n){e.exports=n.p+"_/_/node_modules/react-flags-select/flags/ao-4f43867f68500949eb6b1f730d990ac3.svg"},function(e,t,n){e.exports=n.p+"_/_/node_modules/react-flags-select/flags/ar-5a7b57c41f0e1ac922e509c30aff11a0.svg"},function(e,t,n){e.exports=n.p+"_/_/node_modules/react-flags-select/flags/as-9b64c5901ce9e75d91c7f7c7b76e15b3.svg"},function(e,t,n){e.exports=n.p+"_/_/node_modules/react-flags-select/flags/at-dd11d23b24f2c88181012458e6dfee75.svg"},function(e,t,n){e.exports=n.p+"_/_/node_modules/react-flags-select/flags/au-186ee49ee944c143a2a628fd7a71871f.svg"},function(e,t,n){e.exports=n.p+"_/_/node_modules/react-flags-select/flags/aw-a7c647c35abceb2876b2c21b1b7570a3.svg"},function(e,t,n){e.exports=n.p+"_/_/node_modules/react-flags-select/flags/az-3bbb7a770a417fceea7db6931a0b7eb3.svg"},function(e,t,n){e.exports=n.p+"_/_/node_modules/react-flags-select/flags/ba-80db369e229ccbc0e715c811505fedc2.svg"},function(e,t,n){e.exports=n.p+"_/_/node_modules/react-flags-select/flags/bb-1d35c9c480bff2c8b72fc668633de237.svg"},function(e,t,n){e.exports=n.p+"_/_/node_modules/react-flags-select/flags/bd-274a6925eafe99cb2d842bbec879dec8.svg"},function(e,t,n){e.exports=n.p+"_/_/node_modules/react-flags-select/flags/be-29c965234789ae65ad68f481216d3d94.svg"},function(e,t,n){e.exports=n.p+"_/_/node_modules/react-flags-select/flags/bf-048afb9932ee0f7b0220e8858d15a5c5.svg"},function(e,t,n){e.exports=n.p+"_/_/node_modules/react-flags-select/flags/bg-58fff247814e6a2495c5ccbcf09adbdb.svg"},function(e,t,n){e.exports=n.p+"_/_/node_modules/react-flags-select/flags/bh-888cc21c4646590650245baca1988933.svg"},function(e,t,n){e.exports=n.p+"_/_/node_modules/react-flags-select/flags/bi-aaa0be4d40b777f0055919b29796fdee.svg"},function(e,t,n){e.exports=n.p+"_/_/node_modules/react-flags-select/flags/bj-91931f251c9cfebb8b14c5b9c8b956a5.svg"},function(e,t,n){e.exports=n.p+"_/_/node_modules/react-flags-select/flags/bm-983adcb8efbe10e9612be5164d72303b.svg"},function(e,t,n){e.exports=n.p+"_/_/node_modules/react-flags-select/flags/bo-ca05d6f06df58df554e3287bc8300405.svg"},function(e,t,n){e.exports=n.p+"_/_/node_modules/react-flags-select/flags/br-46d00db1ed7b880d5374701b5ac10c7c.svg"},function(e,t,n){e.exports=n.p+"_/_/node_modules/react-flags-select/flags/bs-544e1faf8a2851a1670a5a938430cbc6.svg"},function(e,t,n){e.exports=n.p+"_/_/node_modules/react-flags-select/flags/bt-ad0691b2e3616f993195d12eadb8f0fb.svg"},function(e,t,n){e.exports=n.p+"_/_/node_modules/react-flags-select/flags/bw-dc5c813bee0a6f61174938fc4f70d609.svg"},function(e,t,n){e.exports=n.p+"_/_/node_modules/react-flags-select/flags/by-76e49e5866d7d0b99bd5c7eab57afd84.svg"},function(e,t,n){e.exports=n.p+"_/_/node_modules/react-flags-select/flags/bz-ecbe86bbdbc945d900ce23d24cb0dec0.svg"},function(e,t,n){e.exports=n.p+"_/_/node_modules/react-flags-select/flags/ca-b87a932d79160be09f10e8de3483f854.svg"},function(e,t,n){e.exports=n.p+"_/_/node_modules/react-flags-select/flags/cd-9a863931caa39ffa70dc35217d322243.svg"},function(e,t,n){e.exports=n.p+"_/_/node_modules/react-flags-select/flags/cf-ef296947a89e42f51a49c9f18eccf2db.svg"},function(e,t,n){e.exports=n.p+"_/_/node_modules/react-flags-select/flags/cg-46462618c2198d4b09b0948486fc919a.svg"},function(e,t,n){e.exports=n.p+"_/_/node_modules/react-flags-select/flags/ch-edb9e8f1c4984594a4f283f00f29aa90.svg"},function(e,t,n){e.exports=n.p+"_/_/node_modules/react-flags-select/flags/ci-d7c363c52e37d0942dc730a6992a27b5.svg"},function(e,t,n){e.exports=n.p+"_/_/node_modules/react-flags-select/flags/ck-6ab8f4f6acf03634e299cbdc54f167c1.svg"},function(e,t,n){e.exports=n.p+"_/_/node_modules/react-flags-select/flags/cl-44057a82e03e9574d985fc8d4d01b80e.svg"},function(e,t,n){e.exports=n.p+"_/_/node_modules/react-flags-select/flags/cm-0ceaad18a0c35542f431251373277f8b.svg"},function(e,t,n){e.exports=n.p+"_/_/node_modules/react-flags-select/flags/cn-d09f389e0103807549552d1d3a5ed524.svg"},function(e,t,n){e.exports=n.p+"_/_/node_modules/react-flags-select/flags/co-03db6da56746818f11da261bf9fa771b.svg"},function(e,t,n){e.exports=n.p+"_/_/node_modules/react-flags-select/flags/cr-fdb730f2edcd8f4bdc2752ab73fee531.svg"},function(e,t,n){e.exports=n.p+"_/_/node_modules/react-flags-select/flags/cu-aa3432864cc6b0282a68b1d276625dac.svg"},function(e,t,n){e.exports=n.p+"_/_/node_modules/react-flags-select/flags/cv-6952a02af0523e3873b4296946093248.svg"},function(e,t,n){e.exports=n.p+"_/_/node_modules/react-flags-select/flags/cw-f8e767c5a630828b2005d5be34aea7e0.svg"},function(e,t,n){e.exports=n.p+"_/_/node_modules/react-flags-select/flags/cy-2d8320b25b3817700bccf912550b11d3.svg"},function(e,t,n){e.exports=n.p+"_/_/node_modules/react-flags-select/flags/cz-07c46781b05ac6e34219adbc995cebf2.svg"},function(e,t,n){e.exports=n.p+"_/_/node_modules/react-flags-select/flags/de-63382628c924e066822765a418e45017.svg"},function(e,t,n){e.exports=n.p+"_/_/node_modules/react-flags-select/flags/dj-880bdfa174ef9ef86be3f8ceedb779ce.svg"},function(e,t,n){e.exports=n.p+"_/_/node_modules/react-flags-select/flags/dk-0666b2742be773f1b65e879c6ea9533e.svg"},function(e,t,n){e.exports=n.p+"_/_/node_modules/react-flags-select/flags/dm-395b272f4d9c5edfbdea914ad23f8c58.svg"},function(e,t,n){e.exports=n.p+"_/_/node_modules/react-flags-select/flags/do-2468708c7155a1936c4173314d7b8e16.svg"},function(e,t,n){e.exports=n.p+"_/_/node_modules/react-flags-select/flags/dz-60e836dc05864d10fbbe875fcd99dbc1.svg"},function(e,t,n){e.exports=n.p+"_/_/node_modules/react-flags-select/flags/ec-6d1f067e96f1133c3d581befa9cc0f3f.svg"},function(e,t,n){e.exports=n.p+"_/_/node_modules/react-flags-select/flags/ee-99102b4a2f638457e4b924a087dd0464.svg"},function(e,t,n){e.exports=n.p+"_/_/node_modules/react-flags-select/flags/eg-ce676814d971516b4f3485921ead5e3d.svg"},function(e,t,n){e.exports=n.p+"_/_/node_modules/react-flags-select/flags/er-9ac1b3f45224262a373f0e416a8d38fd.svg"},function(e,t,n){e.exports=n.p+"_/_/node_modules/react-flags-select/flags/es-2d6ddad0b16b470f9ec9a5cdfdef25c4.svg"},function(e,t,n){e.exports=n.p+"_/_/node_modules/react-flags-select/flags/et-80e33e46ac39bcf4df0b484197953d7d.svg"},function(e,t,n){e.exports=n.p+"_/_/node_modules/react-flags-select/flags/fi-0361140ee4ea64f36ce82dd5dd8d94d1.svg"},function(e,t,n){e.exports=n.p+"_/_/node_modules/react-flags-select/flags/fj-c18b1479986c7a3ba0ac7d51969d5581.svg"},function(e,t,n){e.exports=n.p+"_/_/node_modules/react-flags-select/flags/fk-bbd2971f84af4231951df9907593dd01.svg"},function(e,t,n){e.exports=n.p+"_/_/node_modules/react-flags-select/flags/fm-801f0f9a8764b7b209a62ecc309c4ec7.svg"},function(e,t,n){e.exports=n.p+"_/_/node_modules/react-flags-select/flags/fo-1d0e9fb50ea9bec1a0e8bcd76983f0cb.svg"},function(e,t,n){e.exports=n.p+"_/_/node_modules/react-flags-select/flags/fr-06aaed6de5073f89d720a1cb2851e7fa.svg"},function(e,t,n){e.exports=n.p+"_/_/node_modules/react-flags-select/flags/ga-02fbb25334d15662494d0bf58f2981b0.svg"},function(e,t,n){e.exports=n.p+"_/_/node_modules/react-flags-select/flags/gb-05e392da62ef4e32611ebe2b412f3d33.svg"},function(e,t,n){e.exports=n.p+"_/_/node_modules/react-flags-select/flags/gd-6219a1cae358665ec76be747df4aa983.svg"},function(e,t,n){e.exports=n.p+"_/_/node_modules/react-flags-select/flags/ge-09dade9d50f3916d90fc287322733ac3.svg"},function(e,t,n){e.exports=n.p+"_/_/node_modules/react-flags-select/flags/gg-7beacfe472716af5ddab9ca12902d15d.svg"},function(e,t,n){e.exports=n.p+"_/_/node_modules/react-flags-select/flags/gh-3dbb47815067b65ad4481fe6968dae11.svg"},function(e,t,n){e.exports=n.p+"_/_/node_modules/react-flags-select/flags/gi-06692140f3be5519f85787fd4de45491.svg"},function(e,t,n){e.exports=n.p+"_/_/node_modules/react-flags-select/flags/gl-df7247c92b4630fccec4d9fb0eec67e5.svg"},function(e,t,n){e.exports=n.p+"_/_/node_modules/react-flags-select/flags/gm-eab02478c40875ae7ce9b58b10c17a9b.svg"},function(e,t,n){e.exports=n.p+"_/_/node_modules/react-flags-select/flags/gn-dab67d0c6f2abf7a8e54f25cd8cfb3b1.svg"},function(e,t,n){e.exports=n.p+"_/_/node_modules/react-flags-select/flags/gq-450fc5f1cacb7a5a441f7789f38c3f06.svg"},function(e,t,n){e.exports=n.p+"_/_/node_modules/react-flags-select/flags/gr-3ea5b96427546788e2989a1bf35b0b08.svg"},function(e,t,n){e.exports=n.p+"_/_/node_modules/react-flags-select/flags/gt-ed4b7f77f6c4e5316452bfc7ec7f7acc.svg"},function(e,t,n){e.exports=n.p+"_/_/node_modules/react-flags-select/flags/gu-1a167daa201785b45369223160f7a946.svg"},function(e,t,n){e.exports=n.p+"_/_/node_modules/react-flags-select/flags/gw-df5e99ae1bf8fdd2e0b6f7e68e216b73.svg"},function(e,t,n){e.exports=n.p+"_/_/node_modules/react-flags-select/flags/hk-2f704d251bfae7c6f9c65ed406a20004.svg"},function(e,t,n){e.exports=n.p+"_/_/node_modules/react-flags-select/flags/hn-d2ad3a990b63d9e00dab22f488ab8398.svg"},function(e,t,n){e.exports=n.p+"_/_/node_modules/react-flags-select/flags/hr-dd86fba5bd49b03c7524a415ed152810.svg"},function(e,t,n){e.exports=n.p+"_/_/node_modules/react-flags-select/flags/ht-62d3ea0b9d192871b0ca26a211171955.svg"},function(e,t,n){e.exports=n.p+"_/_/node_modules/react-flags-select/flags/hu-cc4edf3b0b3f6d3373d5df649aca9af8.svg"},function(e,t,n){e.exports=n.p+"_/_/node_modules/react-flags-select/flags/id-46af39773316166382bdff7d3a7df1f0.svg"},function(e,t,n){e.exports=n.p+"_/_/node_modules/react-flags-select/flags/ie-3a4c4325eae9a08ca9337f17de9674a0.svg"},function(e,t,n){e.exports=n.p+"_/_/node_modules/react-flags-select/flags/il-37eb709da18170dde3d71370839262d0.svg"},function(e,t,n){e.exports=n.p+"_/_/node_modules/react-flags-select/flags/im-775ed2e1f9fc9fcf10d6c42c5ede1ee2.svg"},function(e,t,n){e.exports=n.p+"_/_/node_modules/react-flags-select/flags/in-dcd52e09929d310d03ecd1111cba05f2.svg"},function(e,t,n){e.exports=n.p+"_/_/node_modules/react-flags-select/flags/io-9bdce175f8deae6ab13e28c57ddab7c2.svg"},function(e,t,n){e.exports=n.p+"_/_/node_modules/react-flags-select/flags/iq-ec59ec76e49063932b0a120db9132b2c.svg"},function(e,t,n){e.exports=n.p+"_/_/node_modules/react-flags-select/flags/ir-ed3de0f543ffa76ecf33697a680c5dbd.svg"},function(e,t,n){e.exports=n.p+"_/_/node_modules/react-flags-select/flags/is-7d3e4b120a2a9f644a4cbb0b21e8d807.svg"},function(e,t,n){e.exports=n.p+"_/_/node_modules/react-flags-select/flags/it-1264f3cfda6082c01b6a687da14935c1.svg"},function(e,t,n){e.exports=n.p+"_/_/node_modules/react-flags-select/flags/je-7e5795cff03c9ce9311c005aa422330f.svg"},function(e,t,n){e.exports=n.p+"_/_/node_modules/react-flags-select/flags/jm-0e586ac86c14c6316d9b28f9c2fe1282.svg"},function(e,t,n){e.exports=n.p+"_/_/node_modules/react-flags-select/flags/jo-97f77f12740ab5b04e3c2c9afd94be7a.svg"},function(e,t,n){e.exports=n.p+"_/_/node_modules/react-flags-select/flags/jp-6de1711ce5648f554c16f50116efbafa.svg"},function(e,t,n){e.exports=n.p+"_/_/node_modules/react-flags-select/flags/ke-29bef569f1547773e22dc8776a198c90.svg"},function(e,t,n){e.exports=n.p+"_/_/node_modules/react-flags-select/flags/kg-e8f22dc3b3419c047861da9441b97a09.svg"},function(e,t,n){e.exports=n.p+"_/_/node_modules/react-flags-select/flags/kh-ceb12d57fb0bf36baf5075f147076d8a.svg"},function(e,t,n){e.exports=n.p+"_/_/node_modules/react-flags-select/flags/ki-51ced81afde9e563630e03bd8efb95e8.svg"},function(e,t,n){e.exports=n.p+"_/_/node_modules/react-flags-select/flags/km-23f7183cce5c065a9fd156cd355bae38.svg"},function(e,t,n){e.exports=n.p+"_/_/node_modules/react-flags-select/flags/kn-37575b90d084f225726c169555870508.svg"},function(e,t,n){e.exports=n.p+"_/_/node_modules/react-flags-select/flags/kp-a8ad547e941a7efbbc538c02ed49d783.svg"},function(e,t,n){e.exports=n.p+"_/_/node_modules/react-flags-select/flags/kr-8f11b4750366ffe6d7028ddcd033fa74.svg"},function(e,t,n){e.exports=n.p+"_/_/node_modules/react-flags-select/flags/kw-6398282a0da839c623584d348ed5a2d8.svg"},function(e,t,n){e.exports=n.p+"_/_/node_modules/react-flags-select/flags/ky-96d7cc25d02927518e551c27dc8c0372.svg"},function(e,t,n){e.exports=n.p+"_/_/node_modules/react-flags-select/flags/kz-7dc54aa2d495163ec3f3eba5d7573abc.svg"},function(e,t,n){e.exports=n.p+"_/_/node_modules/react-flags-select/flags/la-826e1710c26c90932108d709892438e5.svg"},function(e,t,n){e.exports=n.p+"_/_/node_modules/react-flags-select/flags/lb-9d9481f97c897ea8bc079be6e39f4476.svg"},function(e,t,n){e.exports=n.p+"_/_/node_modules/react-flags-select/flags/li-c0f4e698275af8da79faa1f3e0cceaa6.svg"},function(e,t,n){e.exports=n.p+"_/_/node_modules/react-flags-select/flags/lk-d53b60dcb8dd847bd8c1f8d7514155a7.svg"},function(e,t,n){e.exports=n.p+"_/_/node_modules/react-flags-select/flags/lr-086aea4841b5ae7b09a98e8fde784297.svg"},function(e,t,n){e.exports=n.p+"_/_/node_modules/react-flags-select/flags/ls-693e16a8480e9a4af10a754c1d497c69.svg"},function(e,t,n){e.exports=n.p+"_/_/node_modules/react-flags-select/flags/lt-a4e8c05e93db9631fa253d742d534d63.svg"},function(e,t,n){e.exports=n.p+"_/_/node_modules/react-flags-select/flags/lu-1b60232248f4880575385a7029e4b5e2.svg"},function(e,t,n){e.exports=n.p+"_/_/node_modules/react-flags-select/flags/lv-9243ae82c5af36e3d3f9a8001cd80803.svg"},function(e,t,n){e.exports=n.p+"_/_/node_modules/react-flags-select/flags/ly-25d53dded512cdf946745e4e76fa169c.svg"},function(e,t,n){e.exports=n.p+"_/_/node_modules/react-flags-select/flags/ma-da2a6dcc2a42af37228122afc97f7577.svg"},function(e,t,n){e.exports=n.p+"_/_/node_modules/react-flags-select/flags/mc-de8308f1efa0e608f599933c54442879.svg"},function(e,t,n){e.exports=n.p+"_/_/node_modules/react-flags-select/flags/md-af1d5589b8282b588bfa21740945a466.svg"},function(e,t,n){e.exports=n.p+"_/_/node_modules/react-flags-select/flags/me-6a9ff78b7543eebbf62d931a27e698a2.svg"},function(e,t,n){e.exports=n.p+"_/_/node_modules/react-flags-select/flags/mg-6f5094552eb6669df3cebfa25e3d5dc8.svg"},function(e,t,n){e.exports=n.p+"_/_/node_modules/react-flags-select/flags/mh-2a02af850befa97f0e40d8fb2aa4a89b.svg"},function(e,t,n){e.exports=n.p+"_/_/node_modules/react-flags-select/flags/mk-74974773ebdc6ccbae909a2289f26e5d.svg"},function(e,t,n){e.exports=n.p+"_/_/node_modules/react-flags-select/flags/ml-d3aacee085a61fe48c35e8364497565c.svg"},function(e,t,n){e.exports=n.p+"_/_/node_modules/react-flags-select/flags/mm-a2a8202113c9e52bc045da03ae808b1a.svg"},function(e,t,n){e.exports=n.p+"_/_/node_modules/react-flags-select/flags/mn-60217659bb7b4f654d52bbcf471845b7.svg"},function(e,t,n){e.exports=n.p+"_/_/node_modules/react-flags-select/flags/mo-ffdadb738e953fbbf357a48f1cfb5ebe.svg"},function(e,t,n){e.exports=n.p+"_/_/node_modules/react-flags-select/flags/mp-0b32daee5ae92506c77d257aa42ddbe1.svg"},function(e,t,n){e.exports=n.p+"_/_/node_modules/react-flags-select/flags/mq-2c5a49b05612875dfeaff8f8f6bb31fd.svg"},function(e,t,n){e.exports=n.p+"_/_/node_modules/react-flags-select/flags/mr-6390ec014da77ca9b171b19a275c931e.svg"},function(e,t,n){e.exports=n.p+"_/_/node_modules/react-flags-select/flags/ms-527a993417e3e677f10723e7ede6b029.svg"},function(e,t,n){e.exports=n.p+"_/_/node_modules/react-flags-select/flags/mt-cb88a36dffea4431eb3f5fc9858a2ec7.svg"},function(e,t,n){e.exports=n.p+"_/_/node_modules/react-flags-select/flags/mu-113b304cb258113af3539f60bc85ad08.svg"},function(e,t,n){e.exports=n.p+"_/_/node_modules/react-flags-select/flags/mv-896b59cdf9c9bb8b1b79c1c454c20961.svg"},function(e,t,n){e.exports=n.p+"_/_/node_modules/react-flags-select/flags/mw-a097ecc5ca8be39601be5c3fa557e07c.svg"},function(e,t,n){e.exports=n.p+"_/_/node_modules/react-flags-select/flags/mx-9cbc6a4d17740f5abf3167610888f36b.svg"},function(e,t,n){e.exports=n.p+"_/_/node_modules/react-flags-select/flags/my-25f0898c1dfa1dcd990847bdcdf5b725.svg"},function(e,t,n){e.exports=n.p+"_/_/node_modules/react-flags-select/flags/mz-0b0814e8c768ccb4ea1cc1e27393a2b8.svg"},function(e,t,n){e.exports=n.p+"_/_/node_modules/react-flags-select/flags/na-5ea1a4325af3c0e090e8127912528779.svg"},function(e,t,n){e.exports=n.p+"_/_/node_modules/react-flags-select/flags/nato-55474920c2d31dc87bed26d051663dbf.svg"},function(e,t,n){e.exports=n.p+"_/_/node_modules/react-flags-select/flags/ne-9d501eb6bcd8fed5bbd2e5c159e78453.svg"},function(e,t,n){e.exports=n.p+"_/_/node_modules/react-flags-select/flags/nf-1ac92a89850dca8160f34d3522ddb973.svg"},function(e,t,n){e.exports=n.p+"_/_/node_modules/react-flags-select/flags/ng-e752bb6acf44baf8424ce62d3deb62cd.svg"},function(e,t,n){e.exports=n.p+"_/_/node_modules/react-flags-select/flags/ni-7c10d0c7beb319017c89e5d79889ece7.svg"},function(e,t,n){e.exports=n.p+"_/_/node_modules/react-flags-select/flags/nl-cedccc2ec9db4735fb4939f0ff980d69.svg"},function(e,t,n){e.exports=n.p+"_/_/node_modules/react-flags-select/flags/no-fb65c11493ec870a7d9c4c6908add89a.svg"},function(e,t,n){e.exports=n.p+"_/_/node_modules/react-flags-select/flags/np-5206f5fb206d022a5413a6241aa2fa00.svg"},function(e,t,n){e.exports=n.p+"_/_/node_modules/react-flags-select/flags/nr-434904de2174babdc71c3ba633d06dd0.svg"},function(e,t,n){e.exports=n.p+"_/_/node_modules/react-flags-select/flags/nu-c4f76fcb1ddf9eff8706bc416f12ab09.svg"},function(e,t,n){e.exports=n.p+"_/_/node_modules/react-flags-select/flags/nz-1d5f459818a4c1f222417db47b661dc0.svg"},function(e,t,n){e.exports=n.p+"_/_/node_modules/react-flags-select/flags/om-0e22e9d8538660aded82b54e8f75c6b0.svg"},function(e,t,n){e.exports=n.p+"_/_/node_modules/react-flags-select/flags/pa-c423385498701cd1ccc1d47c332ec4dc.svg"},function(e,t,n){e.exports=n.p+"_/_/node_modules/react-flags-select/flags/pe-7b3a96ccb243d0c5bd18942800a2a836.svg"},function(e,t,n){e.exports=n.p+"_/_/node_modules/react-flags-select/flags/pf-141b03614615e10a4eaf6270e66c2ff9.svg"},function(e,t,n){e.exports=n.p+"_/_/node_modules/react-flags-select/flags/pg-9fb81100a311bf478020eb0b0e12df7f.svg"},function(e,t,n){e.exports=n.p+"_/_/node_modules/react-flags-select/flags/ph-71128d4ee91081ead9ee807b789ce34e.svg"},function(e,t,n){e.exports=n.p+"_/_/node_modules/react-flags-select/flags/pk-0ddc1b8d1108abd375384224f272688b.svg"},function(e,t,n){e.exports=n.p+"_/_/node_modules/react-flags-select/flags/pl-e22f07b16629e08aaf60f0b622a2537e.svg"},function(e,t,n){e.exports=n.p+"_/_/node_modules/react-flags-select/flags/pn-3db9944f91dbb228f897999ad081f1d7.svg"},function(e,t,n){e.exports=n.p+"_/_/node_modules/react-flags-select/flags/pr-159fd0331c52d98ade022193acf75dae.svg"},function(e,t,n){e.exports=n.p+"_/_/node_modules/react-flags-select/flags/ps-1cde6f324200045a14e48a477de6f57c.svg"},function(e,t,n){e.exports=n.p+"_/_/node_modules/react-flags-select/flags/pt-2e1cc5e45dada715ce049ade7a2820f0.svg"},function(e,t,n){e.exports=n.p+"_/_/node_modules/react-flags-select/flags/pw-9772c55d8adaafb5fda6b44c706bf220.svg"},function(e,t,n){e.exports=n.p+"_/_/node_modules/react-flags-select/flags/py-6b530772eff844409d42a0b63a7b2acf.svg"},function(e,t,n){e.exports=n.p+"_/_/node_modules/react-flags-select/flags/qa-b63f6f252b85d94135e91155b3d966df.svg"},function(e,t,n){e.exports=n.p+"_/_/node_modules/react-flags-select/flags/ro-2d32a154b0337def57501b775dbfaf62.svg"},function(e,t,n){e.exports=n.p+"_/_/node_modules/react-flags-select/flags/rs-7bb204a08c5d93ba7a2467aed6032f0a.svg"},function(e,t,n){e.exports=n.p+"_/_/node_modules/react-flags-select/flags/ru-51e78aeef5edb867740ce564bad501ba.svg"},function(e,t,n){e.exports=n.p+"_/_/node_modules/react-flags-select/flags/rw-7898069113be04c75631e9df99e3a35a.svg"},function(e,t,n){e.exports=n.p+"_/_/node_modules/react-flags-select/flags/sa-144084855fbf52943a029c628696e505.svg"},function(e,t,n){e.exports=n.p+"_/_/node_modules/react-flags-select/flags/sb-9ebf90e7aef6ea9e6d180db7a24cd4c1.svg"},function(e,t,n){e.exports=n.p+"_/_/node_modules/react-flags-select/flags/sc-bc5125a2102ab18233aa1c97856baa92.svg"},function(e,t,n){e.exports=n.p+"_/_/node_modules/react-flags-select/flags/sd-a16b59007b0b5571be2f4b65e37ba58e.svg"},function(e,t,n){e.exports=n.p+"_/_/node_modules/react-flags-select/flags/se-7167df83b61cec2cd4e28464a30633c2.svg"},function(e,t,n){e.exports=n.p+"_/_/node_modules/react-flags-select/flags/sg-5049744e5e6c52965e5ab57b278c7ca4.svg"},function(e,t,n){e.exports=n.p+"_/_/node_modules/react-flags-select/flags/si-181cb6b0e57713e40ac5e347dffb4f80.svg"},function(e,t,n){e.exports=n.p+"_/_/node_modules/react-flags-select/flags/sk-12f5803d0e2fa806e9be74cf3c190075.svg"},function(e,t,n){e.exports=n.p+"_/_/node_modules/react-flags-select/flags/sl-db3557fbf364a4881a1687cc34eb52f9.svg"},function(e,t,n){e.exports=n.p+"_/_/node_modules/react-flags-select/flags/sm-90073202dcaa0aa583e965a4610a079f.svg"},function(e,t,n){e.exports=n.p+"_/_/node_modules/react-flags-select/flags/sn-01fc886ad077efeecba536bd6c0c1000.svg"},function(e,t,n){e.exports=n.p+"_/_/node_modules/react-flags-select/flags/so-40cc58ef31762e3279c2fd3d654be37d.svg"},function(e,t,n){e.exports=n.p+"_/_/node_modules/react-flags-select/flags/sr-07abdb382476c2e9fa1c6df17f108416.svg"},function(e,t,n){e.exports=n.p+"_/_/node_modules/react-flags-select/flags/ss-8d10b401c76590e6999fbaadeb9cc289.svg"},function(e,t,n){e.exports=n.p+"_/_/node_modules/react-flags-select/flags/st-00cca93c3e89be4a0146ce9530b98884.svg"},function(e,t,n){e.exports=n.p+"_/_/node_modules/react-flags-select/flags/sv-2b59b54c818ef792a1fc27ee645dbf1a.svg"},function(e,t,n){e.exports=n.p+"_/_/node_modules/react-flags-select/flags/sx-215fd41746699886286731def7a16594.svg"},function(e,t,n){e.exports=n.p+"_/_/node_modules/react-flags-select/flags/sy-84c17ae81bb0830072a2d24c72193a76.svg"},function(e,t,n){e.exports=n.p+"_/_/node_modules/react-flags-select/flags/sz-464385ade1f0a0fb7eddb09efcb1510b.svg"},function(e,t,n){e.exports=n.p+"_/_/node_modules/react-flags-select/flags/tc-6cb2c745147cac057396863bcde2982a.svg"},function(e,t,n){e.exports=n.p+"_/_/node_modules/react-flags-select/flags/td-33aca553d4d9a9bdb655215285541f27.svg"},function(e,t,n){e.exports=n.p+"_/_/node_modules/react-flags-select/flags/tg-210dfafe9623224a14ba46ca68a7ade1.svg"},function(e,t,n){e.exports=n.p+"_/_/node_modules/react-flags-select/flags/th-5ea2f80cb87979fed15c70f122a905fb.svg"},function(e,t,n){e.exports=n.p+"_/_/node_modules/react-flags-select/flags/tibet-23082c02150614ae07ea1df95e783b89.svg"},function(e,t,n){e.exports=n.p+"_/_/node_modules/react-flags-select/flags/tj-719b17ffec0c07aaa2ee691ce30e16c4.svg"},function(e,t,n){e.exports=n.p+"_/_/node_modules/react-flags-select/flags/tk-e64b097700ca48134208ba69f0c41e30.svg"},function(e,t,n){e.exports=n.p+"_/_/node_modules/react-flags-select/flags/tm-cc63fa32fa7d642abcdc9a409c4de68a.svg"},function(e,t,n){e.exports=n.p+"_/_/node_modules/react-flags-select/flags/tn-a87559430a999949e4a41360b44400d7.svg"},function(e,t,n){e.exports=n.p+"_/_/node_modules/react-flags-select/flags/to-2aed425cce0c8e89ef1c0304518a13d9.svg"},function(e,t,n){e.exports=n.p+"_/_/node_modules/react-flags-select/flags/tr-1a22d1276026c2ae7daaf2459520e07f.svg"},function(e,t,n){e.exports=n.p+"_/_/node_modules/react-flags-select/flags/tt-0fcd53b83dfa3db5b809e70d6124a2bb.svg"},function(e,t,n){e.exports=n.p+"_/_/node_modules/react-flags-select/flags/tv-3d842cc9e0f9d68308097298ff0fa24d.svg"},function(e,t,n){e.exports=n.p+"_/_/node_modules/react-flags-select/flags/tw-bbb044fc41174748b5397870e2fdfd60.svg"},function(e,t,n){e.exports=n.p+"_/_/node_modules/react-flags-select/flags/tz-9b0ba0bad30319bd8d076ec78ce73a06.svg"},function(e,t,n){e.exports=n.p+"_/_/node_modules/react-flags-select/flags/ua-55aaf64f4126493b8c1d9ac288c9350b.svg"},function(e,t,n){e.exports=n.p+"_/_/node_modules/react-flags-select/flags/ug-404ab22cc328750831e41dd49ae257b7.svg"},function(e,t,n){e.exports=n.p+"_/_/node_modules/react-flags-select/flags/us-026a8970e863d32e6fb829b2a7e51c0e.svg"},function(e,t,n){e.exports=n.p+"_/_/node_modules/react-flags-select/flags/uy-82e79aac0a2d5176bea1ff377b2e8478.svg"},function(e,t,n){e.exports=n.p+"_/_/node_modules/react-flags-select/flags/uz-bd8a19dfe728c52e0b97bbd9dad7890c.svg"},function(e,t,n){e.exports=n.p+"_/_/node_modules/react-flags-select/flags/ve-da0049c4bc1d1f7b23355c977f677b18.svg"},function(e,t,n){e.exports=n.p+"_/_/node_modules/react-flags-select/flags/vi-24789c934b5a142b5244a3d73700ba6a.svg"},function(e,t,n){e.exports=n.p+"_/_/node_modules/react-flags-select/flags/vn-55421cd5790f6ec68343f8e1a7057e66.svg"},function(e,t,n){e.exports=n.p+"_/_/node_modules/react-flags-select/flags/vu-2a5330425f9e68bf83e8aeafe04d4fe1.svg"},function(e,t,n){e.exports=n.p+"_/_/node_modules/react-flags-select/flags/ws-13edfcff23b79a16c117373d758e1fb2.svg"},function(e,t,n){e.exports=n.p+"_/_/node_modules/react-flags-select/flags/ye-ad22a6ef9ed1ddbe44b3cf959eccc99a.svg"},function(e,t,n){e.exports=n.p+"_/_/node_modules/react-flags-select/flags/za-97ae15ae59dec0913a5f8be2751c8bfd.svg"},function(e,t,n){e.exports=n.p+"_/_/node_modules/react-flags-select/flags/zm-0c05257970d1a63c4177460f14ba37c6.svg"},function(e,t,n){e.exports=n.p+"_/_/node_modules/react-flags-select/flags/zw-9519a51926c46e8eba18b159398a10db.svg"},function(e,t,n){!function(e,t,n){"use strict";var r="default"in t?t.default:t;n=n&&n.hasOwnProperty("default")?n.default:n;var o=Math.PI;function i(e){return e*o/180}function a(e,t,n){return e>n?n:e<t?t:e}function s(e,t){return e*t/100}var l=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n},d=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},p=function(e,t,n,r,o){var s=a(r,-359.999,359.999);return function(e,t,n,r,o){var i=o-r;if(0===i)return[];var a=n*Math.cos(r)+e,s=n*Math.sin(r)+t,l=n*Math.cos(o)+e,c=n*Math.sin(o)+t;return[["M",a,s],["A",n,n,0,Math.abs(i)<=Math.PI?"0":"1",i<0?"0":"1",l,c]]}(e,t,o,i(n),i(n+s)).map(function(e){return e.join(" ")}).join(" ")};function f(e){var t=e.cx,n=e.cy,o=e.startAngle,a=e.lengthAngle,l=e.radius,d=e.lineWidth,f=e.reveal,h=e.title,m=u(e,["cx","cy","startAngle","lengthAngle","radius","lineWidth","reveal","title"]),g=l-d/2,b=p(t,n,o,a,g),v=void 0,y=void 0;return"number"==typeof f&&(y=(v=i(g)*Math.abs(a))+s(v,f)),r.createElement("path",c({d:b,strokeWidth:d,strokeDasharray:v,strokeDashoffset:y},m),h&&r.createElement("title",null,h))}f.displayName="ReactMinimalPieChartPath",f.propTypes={cx:n.number.isRequired,cy:n.number.isRequired,startAngle:n.number,lengthAngle:n.number,radius:n.number,lineWidth:n.number,reveal:n.number,title:n.oneOfType([n.number,n.string])},f.defaultProps={startAngle:0,lengthAngle:0,lineWidth:100,radius:100};var h=n.arrayOf(n.shape({title:n.oneOfType([n.number,n.string]),value:n.number.isRequired,key:n.oneOfType([n.number,n.string]),color:n.string})),m=n.objectOf(n.oneOfType([n.number,n.string]));function g(e){e.data,e.dataIndex;var t=e.color,n=u(e,["data","dataIndex","color"]);return r.createElement("text",c({textAnchor:"middle",alignmentBaseline:"middle",fill:t},n))}g.displayName="ReactMinimalPieChartLabel",g.propTypes={data:h,dataIndex:n.number,color:n.string};var b=function(e){function t(n){l(this,t);var r=d(this,e.call(this,n));return!0===r.props.animate&&(r.hideSegments=!0),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){var e=this;!0===this.props.animate&&requestAnimationFrame&&(this.initialAnimationTimerId=setTimeout(function(){e.initialAnimationTimerId=null,e.initialAnimationRAFId=requestAnimationFrame(function(){e.initialAnimationRAFId=null,e.startAnimation()})}))},t.prototype.componentWillUnmount=function(){this.initialAnimationTimerId&&clearTimeout(this.initialAnimationTimerId),this.initialAnimationRAFId&&cancelAnimationFrame(this.initialAnimationRAFId)},t.prototype.startAnimation=function(){this.hideSegments=!1,this.forceUpdate()},t.prototype.render=function(){if(void 0===this.props.data)return null;var e=function(e,t,n){var r=n||function(e){return e.reduce(function(e,t){return e+t.value},0)}(e),o=a(t,-360,360);return e.map(function(e){var t=e.value/r*100;return c({percentage:t,degrees:s(o,t)},e)})}(this.props.data,this.props.lengthAngle,this.props.totalValue);return r.createElement("div",{className:this.props.className,style:this.props.style},r.createElement("svg",{viewBox:function(e,t){return e>1?"0 0 100 "+t/e:"0 0 "+t*e+" "+t}(this.props.ratio,100),width:"100%",height:"100%",style:{display:"block"}},function(e,t,n){var o=t.startAngle,i=t.paddingAngle*Math.sign(t.lengthAngle),a=void 0,l=t.segmentsStyle;if(t.animate){var c=function(e,t){return{transition:["stroke-dashoffset "+e+"ms "+t,(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).transition].filter(Boolean).join(",")}}(t.animationDuration,t.animationEasing,l);l=Object.assign({},l,c)}return!0===n?a=0:"number"==typeof t.reveal?a=t.reveal:!1===n&&(a=100),e.map(function(e,n){var c=o,u=e.degrees;return o+=u,r.createElement(f,{key:e.key||n,cx:t.cx,cy:t.cy,startAngle:c,lengthAngle:u-i,radius:t.radius,lineWidth:s(t.radius,t.lineWidth),reveal:a,title:e.title,style:l,stroke:e.color,strokeLinecap:t.rounded?"round":void 0,fill:"none",onMouseOver:t.onMouseOver&&function(e){return t.onMouseOver(e,t.data,n)},onMouseOut:t.onMouseOut&&function(e){return t.onMouseOut(e,t.data,n)},onClick:t.onClick&&function(e){return t.onClick(e,t.data,n)}})})}(e,this.props,this.hideSegments),this.props.label&&function(e,t){var n=t.startAngle,o=t.paddingAngle*Math.sign(t.lengthAngle),a=s(t.radius,t.labelPosition);return e.map(function(s,l){var c=n,u=s.degrees;n+=u;var d=i(c+(u-o)/2),p=Math.cos(d)*a,f=Math.sin(d)*a,h={key:"label-"+(s.key||l),x:t.cx,y:t.cy,dx:p,dy:f,textAnchor:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.labelPosition,n=e.lineWidth,r=e.labelHorizontalShift;return 0===r?"middle":t>100?r>0?"start":"end":t<100-n?r>0?"end":"start":"middle"}({lineWidth:t.lineWidth,labelPosition:t.labelPosition,labelHorizontalShift:p}),data:e,dataIndex:l,color:s.color,style:t.labelStyle};return function(e,t,n){if(r.isValidElement(e))return r.cloneElement(e,t);var o=n;return"function"==typeof e&&(o=e(t),r.isValidElement(o))?o:r.createElement(g,t,o)}(t.label,h,s.value)})}(e,this.props),this.props.injectSvg&&this.props.injectSvg()),this.props.children)},t}(t.PureComponent);b.displayName="ReactMinimalPieChart",b.propTypes={data:h,cx:n.number,cy:n.number,ratio:n.number,totalValue:n.number,className:n.string,style:m,segmentsStyle:m,startAngle:n.number,lengthAngle:n.number,paddingAngle:n.number,lineWidth:n.number,radius:n.number,rounded:n.bool,animate:n.bool,animationDuration:n.number,animationEasing:n.string,reveal:n.number,children:n.node,injectSvg:n.func,label:n.oneOfType([n.func,n.element,n.bool]),labelPosition:n.number,labelStyle:m,onMouseOver:n.func,onMouseOut:n.func,onClick:n.func},b.defaultProps={cx:50,cy:50,ratio:1,startAngle:0,lengthAngle:360,paddingAngle:0,lineWidth:100,radius:50,rounded:!1,animate:!1,animationDuration:500,animationEasing:"ease-out",label:!1,labelPosition:50,onMouseOver:void 0,onMouseOut:void 0,onClick:void 0},e.default=b,Object.defineProperty(e,"__esModule",{value:!0})}(t,n(0),n(3))},function(e,t,n){"use strict";(function(r){var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0},s=function(e){return e&&e.__esModule?e:{default:e}}(n(20)),l=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":o(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return Object.defineProperty(n,"show",{enumerable:!0,writable:!0,value:function(e){return n.ajax({type:"GET",url:"/api/cards/"+e.cardId+"/suggestion",data:{packId:e.packId}})}}),Object.defineProperty(n,"ajax",{enumerable:!0,writable:!0,value:function(e){return new Promise(function(t,n){r.ajax(e).done(function(e){e.error?n(e.error):t(e)}).fail(function(e){var t=(e.responseJSON||{}).error;t||(t=e.responseText),t||(t="Unknown Error"),n(t)})})}}),n.memberName="Suggestion",a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"generateNomenclature",n).call(n),n.schema={cardId:{key:"cardId",type:"hidden",label:"cardId",tag:"card-id"},deckId:{key:"deckId",type:"hidden",label:"deckId",tag:"deck-id"},packId:{key:"packId",type:"hidden",label:"packId",tag:"pack-id"},text:{key:"text",type:"textarea",label:"Suggestion",tag:"text"}},n.nameKey="text",n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":o(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.default),i(t,[{key:"create",value:function(e){return this.ajax({type:"POST",url:"/api/cards/"+e.cardId+"/suggestion",data:{packId:e.packId,text:e.text}})}}]),t}();t.default=l,e.exports=t.default}).call(t,n(9))},function(e,t,n){window,e.exports=function(e){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=2)}([function(e,t,n){e.exports=n(3)()},function(t,n){t.exports=e},function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return s});var r=n(1),o=n.n(r),i=n(0),a=n.n(i);class s extends o.a.Component{constructor(e){super(e),this.editor=null,this.domContainer=o.a.createRef()}shouldComponentUpdate(e){return!!this.editor&&(this._shouldUpdateContent(e)&&this.editor.setData(e.data),"disabled"in e&&(this.editor.isReadOnly=e.disabled),!1)}componentDidMount(){this._initializeEditor()}componentWillUnmount(){this._destroyEditor()}render(){return o.a.createElement("div",{ref:this.domContainer,dangerouslySetInnerHTML:{__html:this.props.data||""}})}_initializeEditor(){this.props.editor.create(this.domContainer.current,this.props.config).then(e=>{this.editor=e,"disabled"in this.props&&(e.isReadOnly=this.props.disabled),this.props.onInit&&this.props.onInit(e);const t=e.model.document,n=e.editing.view.document;t.on("change:data",t=>{this.props.onChange&&this.props.onChange(t,e)}),n.on("focus",t=>{this.props.onFocus&&this.props.onFocus(t,e)}),n.on("blur",t=>{this.props.onBlur&&this.props.onBlur(t,e)})}).catch(e=>{(this.props.onError||console.error)(e)})}_destroyEditor(){this.editor&&this.editor.destroy().then(()=>{this.editor=null})}_shouldUpdateContent(e){return this.props.data!==e.data&&this.editor.getData()!==e.data}}s.propTypes={editor:a.a.func.isRequired,data:a.a.string,config:a.a.object,onChange:a.a.func,onInit:a.a.func,onFocus:a.a.func,onBlur:a.a.func,onError:a.a.func,disabled:a.a.bool},s.defaultProps={config:{}}},function(e,t,n){"use strict";var r=n(4);function o(){}function i(){}i.resetWarningCache=o,e.exports=function(){function e(e,t,n,o,i,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:o};return n.PropTypes=n,n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"}]).default}(n(0))},function(e,t,n){!function(e){e.en=Object.assign(e.en||{},{a:"Cannot upload file:",b:"Image toolbar",c:"Table toolbar",d:"Bold",e:"Full size image",f:"Side image",g:"Left aligned image",h:"Centered image",i:"Right aligned image",j:"Block quote",k:"Insert image or file",l:"Insert image",m:"Insert table",n:"Header column",o:"Insert column left",p:"Insert column right",q:"Delete column",r:"Column",s:"Header row",t:"Insert row below",u:"Insert row above",v:"Delete row",w:"Row",x:"Merge cell up",y:"Merge cell right",z:"Merge cell down",aa:"Merge cell left",ab:"Split cell vertically",ac:"Split cell horizontally",ad:"Merge cells",ae:"Numbered List",af:"Bulleted List",ag:"Increase indent",ah:"Decrease indent",ai:"Italic",aj:"image widget",ak:"Choose heading",al:"Heading",am:"Upload failed",an:"Enter image caption",ao:"Insert media",ap:"The URL must not be empty.",aq:"This media URL is not supported.",ar:"media widget",as:"Link",at:"Widget toolbar",au:"Upload in progress",av:"Open in a new tab",aw:"Downloadable",ax:"Unlink",ay:"Edit link",az:"Open link in new tab",ba:"This link has no URL",bb:"Save",bc:"Cancel",bd:"Paste the media URL in the input.",be:"Tip: Paste the URL into the content to embed faster.",bf:"Media URL",bg:"Link URL",bh:"Undo",bi:"Redo",bj:"Rich Text Editor",bk:"Dropdown toolbar",bl:"%0 of %1",bm:"Previous",bn:"Next",bo:"Editor toolbar",bp:"Show more items",bq:"Paragraph",br:"Heading 1",bs:"Heading 2",bt:"Heading 3",bu:"Heading 4",bv:"Heading 5",bw:"Heading 6",bx:"Change image text alternative",by:"Rich Text Editor, %0",bz:"Could not obtain resized image URL.",ca:"Selecting resized image failed",cb:"Could not insert image at the current position.",cc:"Inserting image failed",cd:"Text alternative"})}(window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={})),function(t,n){e.exports=n()}(window,function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=92)}([function(e,t,n){"use strict";n.d(t,"b",function(){return r}),n.d(t,"a",function(){return o});class r extends Error{constructor(e,t,n){e=o(e),n&&(e+=" "+JSON.stringify(n)),super(e),this.name="CKEditorError",this.context=t,this.data=n}is(e){return"CKEditorError"===e}static rethrowUnexpectedError(e,t){if(e.is&&e.is("CKEditorError"))throw e;const n=new r(e.message,t);throw n.stack=e.stack,n}}function o(e){const t=e.match(/^([^:]+):/);return t?e+` Read more: https://ckeditor.com/docs/ckeditor5/latest/framework/guides/support/error-codes.html#error-${t[1]}\n`:e}},function(e,t,n){"use strict";var r,o=function(){var e={};return function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}e[t]=n}return e[t]}}(),i=[];function a(e){for(var t=-1,n=0;n<i.length;n++)if(i[n].identifier===e){t=n;break}return t}function s(e,t){for(var n={},r=[],o=0;o<e.length;o++){var s=e[o],l=t.base?s[0]+t.base:s[0],c=n[l]||0,u="".concat(l," ").concat(c);n[l]=c+1;var d=a(u),p={css:s[1],media:s[2],sourceMap:s[3]};-1!==d?(i[d].references++,i[d].updater(p)):i.push({identifier:u,updater:h(p,t),references:1}),r.push(u)}return r}function l(e){var t=document.createElement("style"),r=e.attributes||{};if(void 0===r.nonce){var i=n.nc;i&&(r.nonce=i)}if(Object.keys(r).forEach(function(e){t.setAttribute(e,r[e])}),"function"==typeof e.insert)e.insert(t);else{var a=o(e.insert||"head");if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");a.appendChild(t)}return t}var c,u=(c=[],function(e,t){return c[e]=t,c.filter(Boolean).join("\n")});function d(e,t,n,r){var o=n?"":r.media?"@media ".concat(r.media," {").concat(r.css,"}"):r.css;if(e.styleSheet)e.styleSheet.cssText=u(t,o);else{var i=document.createTextNode(o),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(i,a[t]):e.appendChild(i)}}var p=null,f=0;function h(e,t){var n,r,o;if(t.singleton){var i=f++;n=p||(p=l(t)),r=d.bind(null,n,i,!1),o=d.bind(null,n,i,!0)}else n=l(t),r=function(e,t,n){var r=n.css,o=n.media,i=n.sourceMap;if(o?e.setAttribute("media",o):e.removeAttribute("media"),i&&btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),e.styleSheet)e.styleSheet.cssText=r;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(r))}}.bind(null,n,t),o=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)};return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else o()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=(void 0===r&&(r=Boolean(window&&document&&document.all&&!window.atob)),r));var n=s(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var r=0;r<n.length;r++){var o=a(n[r]);i[o].references--}for(var l=s(e,t),c=0;c<n.length;c++){var u=a(n[c]);0===i[u].references&&(i[u].updater(),i.splice(u,1))}n=l}}}},,function(e,t,n){"use strict";var r=n(7),o="object"==typeof self&&self&&self.Object===Object&&self,i=r.a||o||Function("return this")();t.a=i},function(e,n,r){"use strict";(function(e){var o=r(3),i=r(12),a="object"==typeof t&&t&&!t.nodeType&&t,s=a&&"object"==typeof e&&e&&!e.nodeType&&e,l=s&&s.exports===a?o.a.Buffer:void 0,c=(l?l.isBuffer:void 0)||i.a;n.a=c}).call(this,r(9)(e))},function(e,n,r){"use strict";(function(e){var o=r(7),i="object"==typeof t&&t&&!t.nodeType&&t,a=i&&"object"==typeof e&&e&&!e.nodeType&&e,s=a&&a.exports===i&&o.a.process,l=function(){try{return a&&a.require&&a.require("util").types||s&&s.binding&&s.binding("util")}catch(e){}}();n.a=l}).call(this,r(9)(e))},function(e,t,n){"use strict";(function(e){var t=n(0);const r="object"==typeof window?window:e;if(r.CKEDITOR_VERSION)throw new t.b("ckeditor-duplicated-modules: Some CKEditor 5 modules are duplicated.",null);r.CKEDITOR_VERSION="18.0.0"}).call(this,n(10))},function(e,t,n){"use strict";(function(e){var n="object"==typeof e&&e&&e.Object===Object&&e;t.a=n}).call(this,n(10))},function(e,n,r){"use strict";(function(e){var o=r(3),i="object"==typeof t&&t&&!t.nodeType&&t,a=i&&"object"==typeof e&&e&&!e.nodeType&&e,s=a&&a.exports===i?o.a.Buffer:void 0,l=s?s.allocUnsafe:void 0;n.a=function(e,t){if(t)return e.slice();var n=e.length,r=l?l(n):new e.constructor(n);return e.copy(r),r}}).call(this,r(9)(e))},function(e,t){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1}return t}},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){var r=n(1),o=n(69);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var i=(r(o,{injectType:"singletonStyleTag",insert:"head",singleton:!0}),o.locals?o.locals:{});e.exports=i},function(e,t,n){"use strict";t.a=function(){return!1}},function(e,t,n){var r=n(1),o=n(14);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var i=(r(o,{injectType:"singletonStyleTag",insert:"head",singleton:!0}),o.locals?o.locals:{});e.exports=i},function(e,t){e.exports=".ck.ck-placeholder:before,.ck .ck-placeholder:before{content:attr(data-placeholder);pointer-events:none}.ck.ck-read-only .ck-placeholder:before{display:none}.ck.ck-placeholder:before,.ck .ck-placeholder:before{cursor:text;color:var(--ck-color-engine-placeholder-text)}"},function(e,t,n){var r=n(1),o=n(16);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var i=(r(o,{injectType:"singletonStyleTag",insert:"head",singleton:!0}),o.locals?o.locals:{});e.exports=i},function(e,t){e.exports=".ck-hidden{display:none!important}.ck.ck-reset,.ck.ck-reset_all,.ck.ck-reset_all *{box-sizing:border-box;width:auto;height:auto;position:static}:root{--ck-z-default:1;--ck-z-modal:calc(var(--ck-z-default) + 999);--ck-color-base-foreground:#fafafa;--ck-color-base-background:#fff;--ck-color-base-border:#c4c4c4;--ck-color-base-action:#61b045;--ck-color-base-focus:#6cb5f9;--ck-color-base-text:#333;--ck-color-base-active:#198cf0;--ck-color-base-active-focus:#0e7fe1;--ck-color-base-error:#db3700;--ck-color-focus-border:#1f89e5;--ck-color-focus-outer-shadow:#bcdefb;--ck-color-focus-disabled-shadow:rgba(119,186,248,0.3);--ck-color-focus-error-shadow:rgba(255,64,31,0.3);--ck-color-text:var(--ck-color-base-text);--ck-color-shadow-drop:rgba(0,0,0,0.15);--ck-color-shadow-drop-active:rgba(0,0,0,0.2);--ck-color-shadow-inner:rgba(0,0,0,0.1);--ck-color-button-default-background:transparent;--ck-color-button-default-hover-background:#e6e6e6;--ck-color-button-default-active-background:#d9d9d9;--ck-color-button-default-active-shadow:#bfbfbf;--ck-color-button-default-disabled-background:transparent;--ck-color-button-on-background:#dedede;--ck-color-button-on-hover-background:#c4c4c4;--ck-color-button-on-active-background:#bababa;--ck-color-button-on-active-shadow:#a1a1a1;--ck-color-button-on-disabled-background:#dedede;--ck-color-button-action-background:var(--ck-color-base-action);--ck-color-button-action-hover-background:#579e3d;--ck-color-button-action-active-background:#53973b;--ck-color-button-action-active-shadow:#498433;--ck-color-button-action-disabled-background:#7ec365;--ck-color-button-action-text:var(--ck-color-base-background);--ck-color-button-save:#008a00;--ck-color-button-cancel:#db3700;--ck-color-switch-button-off-background:#b0b0b0;--ck-color-switch-button-off-hover-background:#a3a3a3;--ck-color-switch-button-on-background:var(--ck-color-button-action-background);--ck-color-switch-button-on-hover-background:#579e3d;--ck-color-switch-button-inner-background:var(--ck-color-base-background);--ck-color-switch-button-inner-shadow:rgba(0,0,0,0.1);--ck-color-dropdown-panel-background:var(--ck-color-base-background);--ck-color-dropdown-panel-border:var(--ck-color-base-border);--ck-color-input-background:var(--ck-color-base-background);--ck-color-input-border:#c7c7c7;--ck-color-input-error-border:var(--ck-color-base-error);--ck-color-input-text:var(--ck-color-base-text);--ck-color-input-disabled-background:#f2f2f2;--ck-color-input-disabled-border:#c7c7c7;--ck-color-input-disabled-text:#5c5c5c;--ck-color-list-background:var(--ck-color-base-background);--ck-color-list-button-hover-background:var(--ck-color-button-default-hover-background);--ck-color-list-button-on-background:var(--ck-color-base-active);--ck-color-list-button-on-background-focus:var(--ck-color-base-active-focus);--ck-color-list-button-on-text:var(--ck-color-base-background);--ck-color-panel-background:var(--ck-color-base-background);--ck-color-panel-border:var(--ck-color-base-border);--ck-color-toolbar-background:var(--ck-color-base-foreground);--ck-color-toolbar-border:var(--ck-color-base-border);--ck-color-tooltip-background:var(--ck-color-base-text);--ck-color-tooltip-text:var(--ck-color-base-background);--ck-color-engine-placeholder-text:#707070;--ck-color-upload-bar-background:#6cb5f9;--ck-color-link-default:#0000f0;--ck-color-link-selected-background:rgba(31,177,255,0.1);--ck-disabled-opacity:.5;--ck-focus-outer-shadow-geometry:0 0 0 3px;--ck-focus-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-outer-shadow);--ck-focus-disabled-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-disabled-shadow);--ck-focus-error-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-error-shadow);--ck-focus-ring:1px solid var(--ck-color-focus-border);--ck-font-size-base:13px;--ck-line-height-base:1.84615;--ck-font-face:Helvetica,Arial,Tahoma,Verdana,Sans-Serif;--ck-font-size-tiny:0.7em;--ck-font-size-small:0.75em;--ck-font-size-normal:1em;--ck-font-size-big:1.4em;--ck-font-size-large:1.8em;--ck-ui-component-min-height:2.3em}.ck.ck-reset,.ck.ck-reset_all,.ck.ck-reset_all *{margin:0;padding:0;border:0;background:transparent;text-decoration:none;vertical-align:middle;transition:none;word-wrap:break-word}.ck.ck-reset_all,.ck.ck-reset_all *{border-collapse:collapse;font:normal normal normal var(--ck-font-size-base)/var(--ck-line-height-base) var(--ck-font-face);color:var(--ck-color-text);text-align:left;white-space:nowrap;cursor:auto;float:none}.ck.ck-reset_all .ck-rtl *{text-align:right}.ck.ck-reset_all iframe{vertical-align:inherit}.ck.ck-reset_all textarea{white-space:pre-wrap}.ck.ck-reset_all input[type=password],.ck.ck-reset_all input[type=text],.ck.ck-reset_all textarea{cursor:text}.ck.ck-reset_all input[type=password][disabled],.ck.ck-reset_all input[type=text][disabled],.ck.ck-reset_all textarea[disabled]{cursor:default}.ck.ck-reset_all fieldset{padding:10px;border:2px groove #dfdee3}.ck.ck-reset_all button::-moz-focus-inner{padding:0;border:0}.ck[dir=rtl],.ck[dir=rtl] .ck{text-align:right}:root{--ck-border-radius:2px;--ck-inner-shadow:2px 2px 3px var(--ck-color-shadow-inner) inset;--ck-drop-shadow:0 1px 2px 1px var(--ck-color-shadow-drop);--ck-drop-shadow-active:0 3px 6px 1px var(--ck-color-shadow-drop-active);--ck-spacing-unit:0.6em;--ck-spacing-large:calc(var(--ck-spacing-unit)*1.5);--ck-spacing-standard:var(--ck-spacing-unit);--ck-spacing-medium:calc(var(--ck-spacing-unit)*0.8);--ck-spacing-small:calc(var(--ck-spacing-unit)*0.5);--ck-spacing-tiny:calc(var(--ck-spacing-unit)*0.3);--ck-spacing-extra-tiny:calc(var(--ck-spacing-unit)*0.16)}"},function(e,t,n){var r=n(1),o=n(18);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var i=(r(o,{injectType:"singletonStyleTag",insert:"head",singleton:!0}),o.locals?o.locals:{});e.exports=i},function(e,t){e.exports=".ck.ck-editor__editable:not(.ck-editor__nested-editable){border-radius:0}.ck-rounded-corners .ck.ck-editor__editable:not(.ck-editor__nested-editable),.ck.ck-editor__editable:not(.ck-editor__nested-editable).ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-editor__editable:not(.ck-editor__nested-editable).ck-focused{outline:none;border:var(--ck-focus-ring);box-shadow:var(--ck-inner-shadow),0 0}.ck.ck-editor__editable_inline{overflow:auto;padding:0 var(--ck-spacing-standard);border:1px solid transparent}.ck.ck-editor__editable_inline[dir=ltr]{text-align:left}.ck.ck-editor__editable_inline[dir=rtl]{text-align:right}.ck.ck-editor__editable_inline>:first-child{margin-top:var(--ck-spacing-large)}.ck.ck-editor__editable_inline>:last-child{margin-bottom:var(--ck-spacing-large)}.ck.ck-balloon-panel.ck-toolbar-container[class*=arrow_n]:after{border-bottom-color:var(--ck-color-base-foreground)}.ck.ck-balloon-panel.ck-toolbar-container[class*=arrow_s]:after{border-top-color:var(--ck-color-base-foreground)}"},function(e,t,n){var r=n(1),o=n(20);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var i=(r(o,{injectType:"singletonStyleTag",insert:"head",singleton:!0}),o.locals?o.locals:{});e.exports=i},function(e,t){e.exports=".ck.ck-label{display:block}.ck.ck-voice-label{display:none}.ck.ck-label{font-weight:700}"},function(e,t,n){var r=n(1),o=n(22);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var i=(r(o,{injectType:"singletonStyleTag",insert:"head",singleton:!0}),o.locals?o.locals:{});e.exports=i},function(e,t){e.exports=".ck.ck-sticky-panel .ck-sticky-panel__content_sticky{z-index:var(--ck-z-modal);position:fixed;top:0}.ck.ck-sticky-panel .ck-sticky-panel__content_sticky_bottom-limit{top:auto;position:absolute}.ck.ck-sticky-panel .ck-sticky-panel__content_sticky{box-shadow:var(--ck-drop-shadow),0 0;border-width:0 1px 1px;border-top-left-radius:0;border-top-right-radius:0}"},function(e,t,n){var r=n(1),o=n(24);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var i=(r(o,{injectType:"singletonStyleTag",insert:"head",singleton:!0}),o.locals?o.locals:{});e.exports=i},function(e,t){e.exports=".ck.ck-dropdown{display:inline-block;position:relative}.ck.ck-dropdown .ck-dropdown__arrow{pointer-events:none;z-index:var(--ck-z-default)}.ck.ck-dropdown .ck-button.ck-dropdown__button{width:100%}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on .ck-tooltip{display:none}.ck.ck-dropdown .ck-dropdown__panel{-webkit-backface-visibility:hidden;display:none;z-index:var(--ck-z-modal);position:absolute}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel-visible{display:inline-block}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_ne,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nw{bottom:100%}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_se,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sw{top:100%;bottom:auto}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_ne,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_se{left:0}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sw{right:0}:root{--ck-dropdown-arrow-size:calc(0.5*var(--ck-icon-size))}.ck.ck-dropdown{font-size:inherit}.ck.ck-dropdown .ck-dropdown__arrow{width:var(--ck-dropdown-arrow-size)}[dir=ltr] .ck.ck-dropdown .ck-dropdown__arrow{right:var(--ck-spacing-standard);margin-left:var(--ck-spacing-small)}[dir=rtl] .ck.ck-dropdown .ck-dropdown__arrow{left:var(--ck-spacing-standard);margin-right:var(--ck-spacing-small)}.ck.ck-dropdown.ck-disabled .ck-dropdown__arrow{opacity:var(--ck-disabled-opacity)}[dir=ltr] .ck.ck-dropdown .ck-button.ck-dropdown__button:not(.ck-button_with-text){padding-left:var(--ck-spacing-small)}[dir=rtl] .ck.ck-dropdown .ck-button.ck-dropdown__button:not(.ck-button_with-text){padding-right:var(--ck-spacing-small)}.ck.ck-dropdown .ck-button.ck-dropdown__button .ck-button__label{width:7em;overflow:hidden;text-overflow:ellipsis}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-disabled .ck-button__label{opacity:var(--ck-disabled-opacity)}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on{border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-dropdown__panel{border-radius:0}.ck-rounded-corners .ck.ck-dropdown__panel,.ck.ck-dropdown__panel.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-dropdown__panel{box-shadow:var(--ck-drop-shadow),0 0;background:var(--ck-color-dropdown-panel-background);border:1px solid var(--ck-color-dropdown-panel-border);bottom:0;min-width:100%}.ck.ck-dropdown__panel.ck-dropdown__panel_se{border-top-left-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_sw{border-top-right-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_ne{border-bottom-left-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_nw{border-bottom-right-radius:0}"},function(e,t,n){var r=n(1),o=n(26);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var i=(r(o,{injectType:"singletonStyleTag",insert:"head",singleton:!0}),o.locals?o.locals:{});e.exports=i},function(e,t){e.exports=".ck.ck-icon{vertical-align:middle}:root{--ck-icon-size:calc(var(--ck-line-height-base)*var(--ck-font-size-normal))}.ck.ck-icon{width:var(--ck-icon-size);height:var(--ck-icon-size);font-size:.8333350694em;will-change:transform}.ck.ck-icon,.ck.ck-icon *{color:inherit;cursor:inherit}.ck.ck-icon :not([fill]){fill:currentColor}"},function(e,t,n){var r=n(1),o=n(28);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var i=(r(o,{injectType:"singletonStyleTag",insert:"head",singleton:!0}),o.locals?o.locals:{});e.exports=i},function(e,t){e.exports='.ck.ck-tooltip,.ck.ck-tooltip .ck-tooltip__text:after{position:absolute;pointer-events:none;-webkit-backface-visibility:hidden}.ck.ck-tooltip{visibility:hidden;opacity:0;display:none;z-index:var(--ck-z-modal)}.ck.ck-tooltip .ck-tooltip__text{display:inline-block}.ck.ck-tooltip .ck-tooltip__text:after{content:"";width:0;height:0}:root{--ck-tooltip-arrow-size:5px}.ck.ck-tooltip{left:50%;top:0;transition:opacity .2s ease-in-out .2s}.ck.ck-tooltip .ck-tooltip__text{border-radius:0}.ck-rounded-corners .ck.ck-tooltip .ck-tooltip__text,.ck.ck-tooltip .ck-tooltip__text.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-tooltip .ck-tooltip__text{font-size:.9em;line-height:1.5;color:var(--ck-color-tooltip-text);padding:var(--ck-spacing-small) var(--ck-spacing-medium);background:var(--ck-color-tooltip-background);position:relative;left:-50%}.ck.ck-tooltip .ck-tooltip__text:after{transition:opacity .2s ease-in-out .2s;border-style:solid;left:50%}.ck.ck-tooltip.ck-tooltip_s{bottom:calc(-1*var(--ck-tooltip-arrow-size));transform:translateY(100%)}.ck.ck-tooltip.ck-tooltip_s .ck-tooltip__text:after{top:calc(-1*var(--ck-tooltip-arrow-size));transform:translateX(-50%);border-left-color:transparent;border-bottom-color:var(--ck-color-tooltip-background);border-right-color:transparent;border-top-color:transparent;border-left-width:var(--ck-tooltip-arrow-size);border-bottom-width:var(--ck-tooltip-arrow-size);border-right-width:var(--ck-tooltip-arrow-size);border-top-width:0}.ck.ck-tooltip.ck-tooltip_n{top:calc(-1*var(--ck-tooltip-arrow-size));transform:translateY(-100%)}.ck.ck-tooltip.ck-tooltip_n .ck-tooltip__text:after{bottom:calc(-1*var(--ck-tooltip-arrow-size));transform:translateX(-50%);border-left-color:transparent;border-bottom-color:transparent;border-right-color:transparent;border-top-color:var(--ck-color-tooltip-background);border-left-width:var(--ck-tooltip-arrow-size);border-bottom-width:0;border-right-width:var(--ck-tooltip-arrow-size);border-top-width:var(--ck-tooltip-arrow-size)}'},function(e,t,n){var r=n(1),o=n(30);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var i=(r(o,{injectType:"singletonStyleTag",insert:"head",singleton:!0}),o.locals?o.locals:{});e.exports=i},function(e,t){e.exports=".ck.ck-button,a.ck.ck-button{-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.ck.ck-button .ck-tooltip,a.ck.ck-button .ck-tooltip{display:block}@media (hover:none){.ck.ck-button .ck-tooltip,a.ck.ck-button .ck-tooltip{display:none}}.ck.ck-button,a.ck.ck-button{position:relative;display:inline-flex;align-items:center;justify-content:left}.ck.ck-button .ck-button__label,a.ck.ck-button .ck-button__label{display:none}.ck.ck-button.ck-button_with-text .ck-button__label,a.ck.ck-button.ck-button_with-text .ck-button__label{display:inline-block}.ck.ck-button:not(.ck-button_with-text),a.ck.ck-button:not(.ck-button_with-text){justify-content:center}.ck.ck-button:hover .ck-tooltip,a.ck.ck-button:hover .ck-tooltip{visibility:visible;opacity:1}.ck.ck-button:focus:not(:hover) .ck-tooltip,a.ck.ck-button:focus:not(:hover) .ck-tooltip{display:none}.ck.ck-button,a.ck.ck-button{background:var(--ck-color-button-default-background)}.ck.ck-button:not(.ck-disabled):hover,a.ck.ck-button:not(.ck-disabled):hover{background:var(--ck-color-button-default-hover-background)}.ck.ck-button:not(.ck-disabled):active,a.ck.ck-button:not(.ck-disabled):active{background:var(--ck-color-button-default-active-background);box-shadow:inset 0 2px 2px var(--ck-color-button-default-active-shadow)}.ck.ck-button.ck-disabled,a.ck.ck-button.ck-disabled{background:var(--ck-color-button-default-disabled-background)}.ck.ck-button,a.ck.ck-button{border-radius:0}.ck-rounded-corners .ck.ck-button,.ck-rounded-corners a.ck.ck-button,.ck.ck-button.ck-rounded-corners,a.ck.ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-button,a.ck.ck-button{white-space:nowrap;cursor:default;vertical-align:middle;padding:var(--ck-spacing-tiny);text-align:center;min-width:var(--ck-ui-component-min-height);min-height:var(--ck-ui-component-min-height);line-height:1;font-size:inherit;border:1px solid transparent;transition:box-shadow .2s ease-in-out,border .2s ease-in-out;-webkit-appearance:none}.ck.ck-button:active,.ck.ck-button:focus,a.ck.ck-button:active,a.ck.ck-button:focus{outline:none;border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),0 0}.ck.ck-button .ck-button__icon use,.ck.ck-button .ck-button__icon use *,a.ck.ck-button .ck-button__icon use,a.ck.ck-button .ck-button__icon use *{color:inherit}.ck.ck-button .ck-button__label,a.ck.ck-button .ck-button__label{font-size:inherit;font-weight:inherit;color:inherit;cursor:inherit;vertical-align:middle}[dir=ltr] .ck.ck-button .ck-button__label,[dir=ltr] a.ck.ck-button .ck-button__label{text-align:left}[dir=rtl] .ck.ck-button .ck-button__label,[dir=rtl] a.ck.ck-button .ck-button__label{text-align:right}.ck.ck-button .ck-button__keystroke,a.ck.ck-button .ck-button__keystroke{color:inherit}[dir=ltr] .ck.ck-button .ck-button__keystroke,[dir=ltr] a.ck.ck-button .ck-button__keystroke{margin-left:var(--ck-spacing-large)}[dir=rtl] .ck.ck-button .ck-button__keystroke,[dir=rtl] a.ck.ck-button .ck-button__keystroke{margin-right:var(--ck-spacing-large)}.ck.ck-button .ck-button__keystroke,a.ck.ck-button .ck-button__keystroke{font-weight:700;opacity:.7}.ck.ck-button.ck-disabled:active,.ck.ck-button.ck-disabled:focus,a.ck.ck-button.ck-disabled:active,a.ck.ck-button.ck-disabled:focus{box-shadow:var(--ck-focus-disabled-outer-shadow),0 0}.ck.ck-button.ck-disabled .ck-button__icon,a.ck.ck-button.ck-disabled .ck-button__icon{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-disabled .ck-button__label,a.ck.ck-button.ck-disabled .ck-button__label{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-disabled .ck-button__keystroke,a.ck.ck-button.ck-disabled .ck-button__keystroke{opacity:.3}.ck.ck-button.ck-button_with-text,a.ck.ck-button.ck-button_with-text{padding:var(--ck-spacing-tiny) var(--ck-spacing-standard)}[dir=ltr] .ck.ck-button.ck-button_with-text .ck-button__icon,[dir=ltr] a.ck.ck-button.ck-button_with-text .ck-button__icon{margin-left:calc(-1*var(--ck-spacing-small));margin-right:var(--ck-spacing-small)}[dir=rtl] .ck.ck-button.ck-button_with-text .ck-button__icon,[dir=rtl] a.ck.ck-button.ck-button_with-text .ck-button__icon{margin-right:calc(-1*var(--ck-spacing-small));margin-left:var(--ck-spacing-small)}.ck.ck-button.ck-button_with-keystroke .ck-button__label,a.ck.ck-button.ck-button_with-keystroke .ck-button__label{flex-grow:1}.ck.ck-button.ck-on,a.ck.ck-button.ck-on{background:var(--ck-color-button-on-background)}.ck.ck-button.ck-on:not(.ck-disabled):hover,a.ck.ck-button.ck-on:not(.ck-disabled):hover{background:var(--ck-color-button-on-hover-background)}.ck.ck-button.ck-on:not(.ck-disabled):active,a.ck.ck-button.ck-on:not(.ck-disabled):active{background:var(--ck-color-button-on-active-background);box-shadow:inset 0 2px 2px var(--ck-color-button-on-active-shadow)}.ck.ck-button.ck-on.ck-disabled,a.ck.ck-button.ck-on.ck-disabled{background:var(--ck-color-button-on-disabled-background)}.ck.ck-button.ck-button-save,a.ck.ck-button.ck-button-save{color:var(--ck-color-button-save)}.ck.ck-button.ck-button-cancel,a.ck.ck-button.ck-button-cancel{color:var(--ck-color-button-cancel)}.ck.ck-button-action,a.ck.ck-button-action{background:var(--ck-color-button-action-background)}.ck.ck-button-action:not(.ck-disabled):hover,a.ck.ck-button-action:not(.ck-disabled):hover{background:var(--ck-color-button-action-hover-background)}.ck.ck-button-action:not(.ck-disabled):active,a.ck.ck-button-action:not(.ck-disabled):active{background:var(--ck-color-button-action-active-background);box-shadow:inset 0 2px 2px var(--ck-color-button-action-active-shadow)}.ck.ck-button-action.ck-disabled,a.ck.ck-button-action.ck-disabled{background:var(--ck-color-button-action-disabled-background)}.ck.ck-button-action,a.ck.ck-button-action{color:var(--ck-color-button-action-text)}.ck.ck-button-bold,a.ck.ck-button-bold{font-weight:700}"},function(e,t,n){var r=n(1),o=n(32);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var i=(r(o,{injectType:"singletonStyleTag",insert:"head",singleton:!0}),o.locals?o.locals:{});e.exports=i},function(e,t){e.exports=".ck.ck-list{-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none;display:flex;flex-direction:column}.ck.ck-list .ck-list__item,.ck.ck-list .ck-list__separator{display:block}.ck.ck-list .ck-list__item>:focus{position:relative;z-index:var(--ck-z-default)}.ck.ck-list{border-radius:0}.ck-rounded-corners .ck.ck-list,.ck.ck-list.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-list{list-style-type:none;background:var(--ck-color-list-background)}.ck.ck-list__item{cursor:default;min-width:12em}.ck.ck-list__item .ck-button{min-height:unset;width:100%;text-align:left;border-radius:0;padding:calc(0.2*var(--ck-line-height-base)*var(--ck-font-size-base)) calc(0.4*var(--ck-line-height-base)*var(--ck-font-size-base))}.ck.ck-list__item .ck-button .ck-button__label{line-height:calc(1.2*var(--ck-line-height-base)*var(--ck-font-size-base))}.ck.ck-list__item .ck-button:active{box-shadow:none}.ck.ck-list__item .ck-button.ck-on{background:var(--ck-color-list-button-on-background);color:var(--ck-color-list-button-on-text)}.ck.ck-list__item .ck-button.ck-on:active{box-shadow:none}.ck.ck-list__item .ck-button.ck-on:hover:not(.ck-disabled){background:var(--ck-color-list-button-on-background-focus)}.ck.ck-list__item .ck-button.ck-on:focus:not(.ck-disabled){border-color:var(--ck-color-base-background)}.ck.ck-list__item .ck-button:hover:not(.ck-disabled){background:var(--ck-color-list-button-hover-background)}.ck.ck-list__item .ck-switchbutton.ck-on{background:var(--ck-color-list-background);color:inherit}.ck.ck-list__item .ck-switchbutton.ck-on:hover:not(.ck-disabled){background:var(--ck-color-list-button-hover-background);color:inherit}.ck.ck-list__separator{height:1px;width:100%;background:var(--ck-color-base-border)}"},function(e,t,n){var r=n(1),o=n(34);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var i=(r(o,{injectType:"singletonStyleTag",insert:"head",singleton:!0}),o.locals?o.locals:{});e.exports=i},function(e,t){e.exports=".ck.ck-button.ck-switchbutton .ck-button__toggle,.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{display:block}:root{--ck-switch-button-toggle-width:2.6153846154em;--ck-switch-button-toggle-inner-size:1.0769230769em;--ck-switch-button-toggle-spacing:1px;--ck-switch-button-translation:1.3846153847em}[dir=ltr] .ck.ck-button.ck-switchbutton .ck-button__label{margin-right:calc(2*var(--ck-spacing-large))}[dir=rtl] .ck.ck-button.ck-switchbutton .ck-button__label{margin-left:calc(2*var(--ck-spacing-large))}.ck.ck-button.ck-switchbutton .ck-button__toggle{border-radius:0}.ck-rounded-corners .ck.ck-button.ck-switchbutton .ck-button__toggle,.ck.ck-button.ck-switchbutton .ck-button__toggle.ck-rounded-corners{border-radius:var(--ck-border-radius)}[dir=ltr] .ck.ck-button.ck-switchbutton .ck-button__toggle{margin-left:auto}[dir=rtl] .ck.ck-button.ck-switchbutton .ck-button__toggle{margin-right:auto}.ck.ck-button.ck-switchbutton .ck-button__toggle{transition:background .4s ease;width:var(--ck-switch-button-toggle-width);background:var(--ck-color-switch-button-off-background)}.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{border-radius:0}.ck-rounded-corners .ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner,.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner.ck-rounded-corners{border-radius:var(--ck-border-radius);border-radius:calc(0.5*var(--ck-border-radius))}.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{margin:var(--ck-switch-button-toggle-spacing);width:var(--ck-switch-button-toggle-inner-size);height:var(--ck-switch-button-toggle-inner-size);background:var(--ck-color-switch-button-inner-background);transition:all .3s ease}.ck.ck-button.ck-switchbutton .ck-button__toggle:hover{background:var(--ck-color-switch-button-off-hover-background)}.ck.ck-button.ck-switchbutton .ck-button__toggle:hover .ck-button__toggle__inner{box-shadow:0 0 0 5px var(--ck-color-switch-button-inner-shadow)}.ck.ck-button.ck-switchbutton.ck-disabled .ck-button__toggle{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle{background:var(--ck-color-switch-button-on-background)}.ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle:hover{background:var(--ck-color-switch-button-on-hover-background)}[dir=ltr] .ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle .ck-button__toggle__inner{transform:translateX(var(--ck-switch-button-translation))}[dir=rtl] .ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle .ck-button__toggle__inner{transform:translateX(calc(-1*var(--ck-switch-button-translation)))}"},function(e,t,n){var r=n(1),o=n(36);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var i=(r(o,{injectType:"singletonStyleTag",insert:"head",singleton:!0}),o.locals?o.locals:{});e.exports=i},function(e,t){e.exports=".ck.ck-toolbar-dropdown .ck.ck-toolbar .ck.ck-toolbar__items{flex-wrap:nowrap}.ck.ck-toolbar-dropdown .ck-dropdown__panel .ck-button:focus{z-index:calc(var(--ck-z-default) + 1)}.ck.ck-toolbar-dropdown .ck-toolbar{border:0}"},function(e,t,n){var r=n(1),o=n(38);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var i=(r(o,{injectType:"singletonStyleTag",insert:"head",singleton:!0}),o.locals?o.locals:{});e.exports=i},function(e,t){e.exports=".ck.ck-dropdown .ck-dropdown__panel .ck-list{border-radius:0}.ck-rounded-corners .ck.ck-dropdown .ck-dropdown__panel .ck-list,.ck.ck-dropdown .ck-dropdown__panel .ck-list.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0}.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:first-child .ck-button{border-radius:0}.ck-rounded-corners .ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:first-child .ck-button,.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:first-child .ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0;border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:last-child .ck-button{border-radius:0}.ck-rounded-corners .ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:last-child .ck-button,.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:last-child .ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0;border-top-right-radius:0}"},function(e,t,n){var r=n(1),o=n(40);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var i=(r(o,{injectType:"singletonStyleTag",insert:"head",singleton:!0}),o.locals?o.locals:{});e.exports=i},function(e,t){e.exports=".ck.ck-toolbar{-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none;display:flex;flex-flow:row nowrap;align-items:center}.ck.ck-toolbar>.ck-toolbar__items{display:flex;flex-flow:row wrap;align-items:center;flex-grow:1}.ck.ck-toolbar .ck.ck-toolbar__separator{display:inline-block}.ck.ck-toolbar .ck.ck-toolbar__separator:first-child,.ck.ck-toolbar .ck.ck-toolbar__separator:last-child{display:none}.ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items{flex-wrap:nowrap}.ck.ck-toolbar.ck-toolbar_vertical>.ck-toolbar__items{flex-direction:column}.ck.ck-toolbar.ck-toolbar_floating>.ck-toolbar__items{flex-wrap:nowrap}.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown>.ck-dropdown__button .ck-dropdown__arrow{display:none}.ck.ck-toolbar{border-radius:0}.ck-rounded-corners .ck.ck-toolbar,.ck.ck-toolbar.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-toolbar{background:var(--ck-color-toolbar-background);padding:0 var(--ck-spacing-small);border:1px solid var(--ck-color-toolbar-border)}.ck.ck-toolbar .ck.ck-toolbar__separator{align-self:stretch;width:1px;min-width:1px;margin-top:0;margin-bottom:0;background:var(--ck-color-toolbar-border)}.ck.ck-toolbar>.ck-toolbar__items>*{margin-top:var(--ck-spacing-small);margin-bottom:var(--ck-spacing-small);margin-right:var(--ck-spacing-small)}.ck.ck-toolbar>.ck-toolbar__items:empty+.ck.ck-toolbar__separator{display:none}.ck.ck-toolbar>.ck-toolbar__items>*,.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown{margin-top:var(--ck-spacing-small);margin-bottom:var(--ck-spacing-small)}.ck.ck-toolbar.ck-toolbar_vertical{padding:0}.ck.ck-toolbar.ck-toolbar_vertical>.ck-toolbar__items>.ck{width:100%;margin:0;border-radius:0;border:0}.ck.ck-toolbar.ck-toolbar_compact{padding:0}.ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>*{margin:0}.ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>:not(:first-child):not(:last-child){border-radius:0}.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown>.ck.ck-button.ck-dropdown__button{padding-left:var(--ck-spacing-tiny)}.ck-toolbar-container .ck.ck-toolbar{border:0}.ck.ck-toolbar[dir=rtl]>.ck-toolbar__items>.ck,[dir=rtl] .ck.ck-toolbar>.ck-toolbar__items>.ck{margin-right:0}.ck.ck-toolbar[dir=rtl]:not(.ck-toolbar_compact)>.ck-toolbar__items>.ck,[dir=rtl] .ck.ck-toolbar:not(.ck-toolbar_compact)>.ck-toolbar__items>.ck{margin-left:var(--ck-spacing-small)}.ck.ck-toolbar[dir=rtl]>.ck-toolbar__items>.ck:last-child,[dir=rtl] .ck.ck-toolbar>.ck-toolbar__items>.ck:last-child{margin-left:0}.ck.ck-toolbar[dir=rtl].ck-toolbar_compact>.ck-toolbar__items>.ck:first-child,[dir=rtl] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:first-child{border-top-left-radius:0;border-bottom-left-radius:0}.ck.ck-toolbar[dir=rtl].ck-toolbar_compact>.ck-toolbar__items>.ck:last-child,[dir=rtl] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:last-child{border-top-right-radius:0;border-bottom-right-radius:0}.ck.ck-toolbar[dir=rtl]>.ck.ck-toolbar__separator,[dir=rtl] .ck.ck-toolbar>.ck.ck-toolbar__separator{margin-left:var(--ck-spacing-small)}.ck.ck-toolbar[dir=rtl].ck-toolbar_grouping>.ck-toolbar__items:not(:empty):not(:only-child),[dir=rtl] .ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items:not(:empty):not(:only-child){margin-left:var(--ck-spacing-small)}.ck.ck-toolbar[dir=ltr]>.ck-toolbar__items>.ck:last-child,[dir=ltr] .ck.ck-toolbar>.ck-toolbar__items>.ck:last-child{margin-right:0}.ck.ck-toolbar[dir=ltr].ck-toolbar_compact>.ck-toolbar__items>.ck:first-child,[dir=ltr] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:first-child{border-top-right-radius:0;border-bottom-right-radius:0}.ck.ck-toolbar[dir=ltr].ck-toolbar_compact>.ck-toolbar__items>.ck:last-child,[dir=ltr] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:last-child{border-top-left-radius:0;border-bottom-left-radius:0}.ck.ck-toolbar[dir=ltr]>.ck.ck-toolbar__separator,[dir=ltr] .ck.ck-toolbar>.ck.ck-toolbar__separator{margin-right:var(--ck-spacing-small)}.ck.ck-toolbar[dir=ltr].ck-toolbar_grouping>.ck-toolbar__items:not(:empty):not(:only-child),[dir=ltr] .ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items:not(:empty):not(:only-child){margin-right:var(--ck-spacing-small)}"},function(e,t,n){var r=n(1),o=n(42);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var i=(r(o,{injectType:"singletonStyleTag",insert:"head",singleton:!0}),o.locals?o.locals:{});e.exports=i},function(e,t){e.exports=".ck.ck-editor{position:relative}.ck.ck-editor .ck-editor__top .ck-sticky-panel .ck-toolbar{z-index:var(--ck-z-modal)}.ck.ck-editor__top .ck-sticky-panel .ck-toolbar{border-radius:0}.ck-rounded-corners .ck.ck-editor__top .ck-sticky-panel .ck-toolbar,.ck.ck-editor__top .ck-sticky-panel .ck-toolbar.ck-rounded-corners{border-radius:var(--ck-border-radius);border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-editor__top .ck-sticky-panel .ck-toolbar{border-bottom-width:0}.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content_sticky .ck-toolbar{border-bottom-width:1px;border-radius:0}.ck-rounded-corners .ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content_sticky .ck-toolbar,.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content_sticky .ck-toolbar.ck-rounded-corners{border-radius:var(--ck-border-radius);border-radius:0}.ck.ck-editor__main>.ck-editor__editable{background:var(--ck-color-base-background);border-radius:0}.ck-rounded-corners .ck.ck-editor__main>.ck-editor__editable,.ck.ck-editor__main>.ck-editor__editable.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0;border-top-right-radius:0}.ck.ck-editor__main>.ck-editor__editable:not(.ck-focused){border-color:var(--ck-color-base-border)}"},function(e,t,n){var r=n(1),o=n(44);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var i=(r(o,{injectType:"singletonStyleTag",insert:"head",singleton:!0}),o.locals?o.locals:{});e.exports=i},function(e,t){e.exports=".ck-content blockquote{overflow:hidden;padding-right:1.5em;padding-left:1.5em;margin-left:0;margin-right:0;font-style:italic;border-left:5px solid #ccc}.ck-content[dir=rtl] blockquote{border-left:0;border-right:5px solid #ccc}"},function(e,t,n){var r=n(1),o=n(46);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var i=(r(o,{injectType:"singletonStyleTag",insert:"head",singleton:!0}),o.locals?o.locals:{});e.exports=i},function(e,t){e.exports=".ck .ck-link_selected{background:var(--ck-color-link-selected-background)}"},function(e,t,n){var r=n(1),o=n(48);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var i=(r(o,{injectType:"singletonStyleTag",insert:"head",singleton:!0}),o.locals?o.locals:{});e.exports=i},function(e,t){e.exports=":root{--ck-color-resizer:var(--ck-color-focus-border);--ck-resizer-size:10px;--ck-resizer-border-width:1px;--ck-resizer-border-radius:2px;--ck-resizer-offset:calc(var(--ck-resizer-size)/-2 - 2px);--ck-resizer-tooltip-offset:10px;--ck-color-resizer-tooltip-background:#262626;--ck-color-resizer-tooltip-text:#f2f2f2}.ck .ck-widget.ck-widget_with-selection-handle{position:relative}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{position:absolute}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon{display:block}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected .ck-widget__selection-handle,.ck .ck-widget.ck-widget_with-selection-handle:hover .ck-widget__selection-handle{visibility:visible}.ck .ck-size-view{background:var(--ck-color-resizer-tooltip-background);color:var(--ck-color-resizer-tooltip-text);border:1px solid var(--ck-color-resizer-tooltip-text);border-radius:var(--ck-resizer-border-radius);font-size:var(--ck-font-size-tiny);display:block;padding:var(--ck-spacing-small)}.ck .ck-size-view.ck-orientation-bottom-left,.ck .ck-size-view.ck-orientation-bottom-right,.ck .ck-size-view.ck-orientation-top-left,.ck .ck-size-view.ck-orientation-top-right{position:absolute}.ck .ck-size-view.ck-orientation-top-left{top:var(--ck-resizer-tooltip-offset);left:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-top-right{top:var(--ck-resizer-tooltip-offset);right:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-bottom-right{bottom:var(--ck-resizer-tooltip-offset);right:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-bottom-left{bottom:var(--ck-resizer-tooltip-offset);left:var(--ck-resizer-tooltip-offset)}:root{--ck-widget-outline-thickness:3px;--ck-widget-handler-icon-size:16px;--ck-widget-handler-animation-duration:200ms;--ck-widget-handler-animation-curve:ease;--ck-color-widget-blurred-border:#dedede;--ck-color-widget-hover-border:#ffc83d;--ck-color-widget-editable-focus-background:var(--ck-color-base-background);--ck-color-widget-drag-handler-icon-color:var(--ck-color-base-background)}.ck .ck-widget{outline-width:var(--ck-widget-outline-thickness);outline-style:solid;outline-color:transparent;transition:outline-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve)}.ck .ck-widget.ck-widget_selected,.ck .ck-widget.ck-widget_selected:hover{outline:var(--ck-widget-outline-thickness) solid var(--ck-color-focus-border)}.ck .ck-widget:hover{outline-color:var(--ck-color-widget-hover-border)}.ck .ck-editor__nested-editable{border:1px solid transparent}.ck .ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck .ck-editor__nested-editable:focus{outline:none;border:var(--ck-focus-ring);box-shadow:var(--ck-inner-shadow),0 0;background-color:var(--ck-color-widget-editable-focus-background)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{padding:4px;box-sizing:border-box;background-color:transparent;opacity:0;transition:background-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),visibility var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);border-radius:var(--ck-border-radius) var(--ck-border-radius) 0 0;transform:translateY(-100%);left:calc(0px - var(--ck-widget-outline-thickness))}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon{width:var(--ck-widget-handler-icon-size);height:var(--ck-widget-handler-icon-size);color:var(--ck-color-widget-drag-handler-icon-color)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator{opacity:0;transition:opacity .3s var(--ck-widget-handler-animation-curve)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle:hover .ck-icon .ck-icon__selected-indicator{opacity:1}.ck .ck-widget.ck-widget_with-selection-handle:hover .ck-widget__selection-handle{opacity:1;background-color:var(--ck-color-widget-hover-border)}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected .ck-widget__selection-handle,.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected:hover .ck-widget__selection-handle{opacity:1;background-color:var(--ck-color-focus-border)}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected .ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator,.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected:hover .ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator{opacity:1}.ck-editor__editable>.ck-widget.ck-widget_with-selection-handle:first-child,.ck-editor__editable blockquote>.ck-widget.ck-widget_with-selection-handle:first-child{margin-top:calc(1em + var(--ck-widget-handler-icon-size))}.ck[dir=rtl] .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{left:auto;right:calc(0px - var(--ck-widget-outline-thickness))}.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected,.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected:hover{outline-color:var(--ck-color-widget-blurred-border)}.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle .ck-widget__selection-handle,.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle .ck-widget__selection-handle:hover,.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected:hover.ck-widget_with-selection-handle .ck-widget__selection-handle,.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected:hover.ck-widget_with-selection-handle .ck-widget__selection-handle:hover{background:var(--ck-color-widget-blurred-border)}.ck-editor__editable.ck-read-only .ck-widget{--ck-widget-outline-thickness:0}"},function(e,t,n){var r=n(1),o=n(50);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var i=(r(o,{injectType:"singletonStyleTag",insert:"head",singleton:!0}),o.locals?o.locals:{});e.exports=i},function(e,t){e.exports=".ck.ck-labeled-input .ck-labeled-input__status{font-size:var(--ck-font-size-small);margin-top:var(--ck-spacing-small);white-space:normal}.ck.ck-labeled-input .ck-labeled-input__status_error{color:var(--ck-color-base-error)}"},function(e,t,n){var r=n(1),o=n(52);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var i=(r(o,{injectType:"singletonStyleTag",insert:"head",singleton:!0}),o.locals?o.locals:{});e.exports=i},function(e,t){e.exports=":root{--ck-input-text-width:18em}.ck.ck-input-text{border-radius:0}.ck-rounded-corners .ck.ck-input-text,.ck.ck-input-text.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-input-text{box-shadow:var(--ck-inner-shadow),0 0;background:var(--ck-color-input-background);border:1px solid var(--ck-color-input-border);padding:var(--ck-spacing-extra-tiny) var(--ck-spacing-medium);min-width:var(--ck-input-text-width);min-height:var(--ck-ui-component-min-height);transition:box-shadow .2s ease-in-out,border .2s ease-in-out}.ck.ck-input-text:focus{outline:none;border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),var(--ck-inner-shadow)}.ck.ck-input-text[readonly]{border:1px solid var(--ck-color-input-disabled-border);background:var(--ck-color-input-disabled-background);color:var(--ck-color-input-disabled-text)}.ck.ck-input-text[readonly]:focus{box-shadow:var(--ck-focus-disabled-outer-shadow),var(--ck-inner-shadow)}.ck.ck-input-text.ck-error{border-color:var(--ck-color-input-error-border);animation:ck-text-input-shake .3s ease both}.ck.ck-input-text.ck-error:focus{box-shadow:var(--ck-focus-error-outer-shadow),var(--ck-inner-shadow)}@keyframes ck-text-input-shake{20%{transform:translateX(-2px)}40%{transform:translateX(2px)}60%{transform:translateX(-1px)}80%{transform:translateX(1px)}}"},function(e,t,n){var r=n(1),o=n(54);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var i=(r(o,{injectType:"singletonStyleTag",insert:"head",singleton:!0}),o.locals?o.locals:{});e.exports=i},function(e,t){e.exports=".ck.ck-text-alternative-form{display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-text-alternative-form .ck-labeled-input{display:inline-block}.ck.ck-text-alternative-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-text-alternative-form{flex-wrap:wrap}.ck.ck-text-alternative-form .ck-labeled-input{flex-basis:100%}.ck.ck-text-alternative-form .ck-button{flex-basis:50%}}.ck.ck-text-alternative-form{padding:var(--ck-spacing-standard)}.ck.ck-text-alternative-form:focus{outline:none}[dir=ltr] .ck.ck-text-alternative-form>:not(:first-child),[dir=rtl] .ck.ck-text-alternative-form>:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-text-alternative-form{padding:0;width:calc(0.8*var(--ck-input-text-width))}.ck.ck-text-alternative-form .ck-labeled-input{margin:var(--ck-spacing-standard) var(--ck-spacing-standard) 0}.ck.ck-text-alternative-form .ck-labeled-input .ck-input-text{min-width:0;width:100%}.ck.ck-text-alternative-form .ck-button{padding:var(--ck-spacing-standard);margin-top:var(--ck-spacing-standard);border-radius:0;border:0;border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-text-alternative-form .ck-button{margin-left:0}[dir=ltr] .ck.ck-text-alternative-form .ck-button:first-of-type{border-right:1px solid var(--ck-color-base-border)}[dir=rtl] .ck.ck-text-alternative-form .ck-button{margin-left:0}[dir=rtl] .ck.ck-text-alternative-form .ck-button:last-of-type{border-right:1px solid var(--ck-color-base-border)}}"},function(e,t,n){var r=n(1),o=n(56);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var i=(r(o,{injectType:"singletonStyleTag",insert:"head",singleton:!0}),o.locals?o.locals:{});e.exports=i},function(e,t){e.exports=':root{--ck-balloon-panel-arrow-z-index:calc(var(--ck-z-default) - 3)}.ck.ck-balloon-panel{display:none;position:absolute;z-index:var(--ck-z-modal)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after,.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{content:"";position:absolute}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel[class*=arrow_n]:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel[class*=arrow_n]:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel[class*=arrow_s]:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel[class*=arrow_s]:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel.ck-balloon-panel_visible{display:block}:root{--ck-balloon-arrow-offset:2px;--ck-balloon-arrow-height:10px;--ck-balloon-arrow-half-width:8px}.ck.ck-balloon-panel{border-radius:0}.ck-rounded-corners .ck.ck-balloon-panel,.ck.ck-balloon-panel.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-balloon-panel{box-shadow:var(--ck-drop-shadow),0 0;min-height:15px;background:var(--ck-color-panel-background);border:1px solid var(--ck-color-panel-border)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after,.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{width:0;height:0;border-style:solid}.ck.ck-balloon-panel[class*=arrow_n]:after,.ck.ck-balloon-panel[class*=arrow_n]:before{border-left-width:var(--ck-balloon-arrow-half-width);border-bottom-width:var(--ck-balloon-arrow-height);border-right-width:var(--ck-balloon-arrow-half-width);border-top-width:0}.ck.ck-balloon-panel[class*=arrow_n]:before{border-bottom-color:var(--ck-color-panel-border)}.ck.ck-balloon-panel[class*=arrow_n]:after,.ck.ck-balloon-panel[class*=arrow_n]:before{border-left-color:transparent;border-right-color:transparent;border-top-color:transparent}.ck.ck-balloon-panel[class*=arrow_n]:after{border-bottom-color:var(--ck-color-panel-background);margin-top:var(--ck-balloon-arrow-offset)}.ck.ck-balloon-panel[class*=arrow_s]:after,.ck.ck-balloon-panel[class*=arrow_s]:before{border-left-width:var(--ck-balloon-arrow-half-width);border-bottom-width:0;border-right-width:var(--ck-balloon-arrow-half-width);border-top-width:var(--ck-balloon-arrow-height)}.ck.ck-balloon-panel[class*=arrow_s]:before{border-top-color:var(--ck-color-panel-border)}.ck.ck-balloon-panel[class*=arrow_s]:after,.ck.ck-balloon-panel[class*=arrow_s]:before{border-left-color:transparent;border-bottom-color:transparent;border-right-color:transparent}.ck.ck-balloon-panel[class*=arrow_s]:after{border-top-color:var(--ck-color-panel-background);margin-bottom:var(--ck-balloon-arrow-offset)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_n:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_n:before{left:50%;margin-left:calc(-1*var(--ck-balloon-arrow-half-width));top:calc(-1*var(--ck-balloon-arrow-height))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nw:before{left:calc(2*var(--ck-balloon-arrow-half-width));top:calc(-1*var(--ck-balloon-arrow-height))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_ne:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_ne:before{right:calc(2*var(--ck-balloon-arrow-half-width));top:calc(-1*var(--ck-balloon-arrow-height))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_s:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_s:before{left:50%;margin-left:calc(-1*var(--ck-balloon-arrow-half-width));bottom:calc(-1*var(--ck-balloon-arrow-height))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_sw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_sw:before{left:calc(2*var(--ck-balloon-arrow-half-width));bottom:calc(-1*var(--ck-balloon-arrow-height))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_se:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_se:before{right:calc(2*var(--ck-balloon-arrow-half-width));bottom:calc(-1*var(--ck-balloon-arrow-height))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_sme:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_sme:before{right:25%;margin-right:calc(2*var(--ck-balloon-arrow-half-width));bottom:calc(-1*var(--ck-balloon-arrow-height))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_smw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_smw:before{left:25%;margin-left:calc(2*var(--ck-balloon-arrow-half-width));bottom:calc(-1*var(--ck-balloon-arrow-height))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nme:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nme:before{right:25%;margin-right:calc(2*var(--ck-balloon-arrow-half-width));top:calc(-1*var(--ck-balloon-arrow-height))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nmw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nmw:before{left:25%;margin-left:calc(2*var(--ck-balloon-arrow-half-width));top:calc(-1*var(--ck-balloon-arrow-height))}'},function(e,t,n){var r=n(1),o=n(58);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var i=(r(o,{injectType:"singletonStyleTag",insert:"head",singleton:!0}),o.locals?o.locals:{});e.exports=i},function(e,t){e.exports=".ck .ck-balloon-rotator__navigation{display:flex;align-items:center;justify-content:center}.ck .ck-balloon-rotator__content .ck-toolbar{justify-content:center}.ck .ck-balloon-rotator__navigation{background:var(--ck-color-toolbar-background);border-bottom:1px solid var(--ck-color-toolbar-border);padding:0 var(--ck-spacing-small)}.ck .ck-balloon-rotator__navigation>*{margin-right:var(--ck-spacing-small);margin-top:var(--ck-spacing-small);margin-bottom:var(--ck-spacing-small)}.ck .ck-balloon-rotator__navigation .ck-balloon-rotator__counter{margin-right:var(--ck-spacing-standard);margin-left:var(--ck-spacing-small)}.ck .ck-balloon-rotator__content .ck.ck-annotation-wrapper{box-shadow:none}"},function(e,t,n){var r=n(1),o=n(60);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var i=(r(o,{injectType:"singletonStyleTag",insert:"head",singleton:!0}),o.locals?o.locals:{});e.exports=i},function(e,t){e.exports=".ck .ck-fake-panel{position:absolute;z-index:calc(var(--ck-z-modal) - 1)}.ck .ck-fake-panel div{position:absolute}.ck .ck-fake-panel div:first-child{z-index:2}.ck .ck-fake-panel div:nth-child(2){z-index:1}:root{--ck-balloon-fake-panel-offset-horizontal:6px;--ck-balloon-fake-panel-offset-vertical:6px}.ck .ck-fake-panel div{box-shadow:var(--ck-drop-shadow),0 0;min-height:15px;background:var(--ck-color-panel-background);border:1px solid var(--ck-color-panel-border);border-radius:var(--ck-border-radius);width:100%;height:100%}.ck .ck-fake-panel div:first-child{margin-left:var(--ck-balloon-fake-panel-offset-horizontal);margin-top:var(--ck-balloon-fake-panel-offset-vertical)}.ck .ck-fake-panel div:nth-child(2){margin-left:calc(var(--ck-balloon-fake-panel-offset-horizontal)*2);margin-top:calc(var(--ck-balloon-fake-panel-offset-vertical)*2)}.ck .ck-fake-panel div:nth-child(3){margin-left:calc(var(--ck-balloon-fake-panel-offset-horizontal)*3);margin-top:calc(var(--ck-balloon-fake-panel-offset-vertical)*3)}.ck .ck-balloon-panel_arrow_s+.ck-fake-panel,.ck .ck-balloon-panel_arrow_se+.ck-fake-panel,.ck .ck-balloon-panel_arrow_sw+.ck-fake-panel{--ck-balloon-fake-panel-offset-vertical:-6px}"},function(e,t,n){var r=n(1),o=n(62);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var i=(r(o,{injectType:"singletonStyleTag",insert:"head",singleton:!0}),o.locals?o.locals:{});e.exports=i},function(e,t){e.exports=".ck-content .image{display:table;clear:both;text-align:center;margin:1em auto}.ck-content .image>img{display:block;margin:0 auto;max-width:100%;min-width:50px}"},function(e,t,n){var r=n(1),o=n(64);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var i=(r(o,{injectType:"singletonStyleTag",insert:"head",singleton:!0}),o.locals?o.locals:{});e.exports=i},function(e,t){e.exports=".ck.ck-editor__editable .image{position:relative}.ck.ck-editor__editable .image .ck-progress-bar{position:absolute;top:0;left:0}.ck.ck-editor__editable .image.ck-appear{animation:fadeIn .7s}.ck.ck-editor__editable .image .ck-progress-bar{height:2px;width:0;background:var(--ck-color-upload-bar-background);transition:width .1s}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}"},function(e,t,n){var r=n(1),o=n(66);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var i=(r(o,{injectType:"singletonStyleTag",insert:"head",singleton:!0}),o.locals?o.locals:{});e.exports=i},function(e,t){e.exports='.ck-image-upload-complete-icon{display:block;position:absolute;top:10px;right:10px;border-radius:50%}.ck-image-upload-complete-icon:after{content:"";position:absolute}:root{--ck-color-image-upload-icon:#fff;--ck-color-image-upload-icon-background:#008a00;--ck-image-upload-icon-size:20px;--ck-image-upload-icon-width:2px}.ck-image-upload-complete-icon{width:var(--ck-image-upload-icon-size);height:var(--ck-image-upload-icon-size);opacity:0;background:var(--ck-color-image-upload-icon-background);animation-name:ck-upload-complete-icon-show,ck-upload-complete-icon-hide;animation-fill-mode:forwards,forwards;animation-duration:.5s,.5s;font-size:var(--ck-image-upload-icon-size);animation-delay:0ms,3s}.ck-image-upload-complete-icon:after{left:25%;top:50%;opacity:0;height:0;width:0;transform:scaleX(-1) rotate(135deg);transform-origin:left top;border-top:var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);border-right:var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);animation-name:ck-upload-complete-icon-check;animation-duration:.5s;animation-delay:.5s;animation-fill-mode:forwards;box-sizing:border-box}@keyframes ck-upload-complete-icon-show{0%{opacity:0}to{opacity:1}}@keyframes ck-upload-complete-icon-hide{0%{opacity:1}to{opacity:0}}@keyframes ck-upload-complete-icon-check{0%{opacity:1;width:0;height:0}33%{width:.3em;height:0}to{opacity:1;width:.3em;height:.45em}}'},function(e,t,n){var r=n(1),o=n(68);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var i=(r(o,{injectType:"singletonStyleTag",insert:"head",singleton:!0}),o.locals?o.locals:{});e.exports=i},function(e,t){e.exports='.ck .ck-upload-placeholder-loader{position:absolute;display:flex;align-items:center;justify-content:center;top:0;left:0}.ck .ck-upload-placeholder-loader:before{content:"";position:relative}:root{--ck-color-upload-placeholder-loader:#b3b3b3;--ck-upload-placeholder-loader-size:32px}.ck .ck-image-upload-placeholder{width:100%;margin:0}.ck .ck-upload-placeholder-loader{width:100%;height:100%}.ck .ck-upload-placeholder-loader:before{width:var(--ck-upload-placeholder-loader-size);height:var(--ck-upload-placeholder-loader-size);border-radius:50%;border-top:3px solid var(--ck-color-upload-placeholder-loader);border-right:2px solid transparent;animation:ck-upload-placeholder-loader 1s linear infinite}@keyframes ck-upload-placeholder-loader{to{transform:rotate(1turn)}}'},function(e,t){e.exports=".ck.ck-heading_heading1{font-size:20px}.ck.ck-heading_heading2{font-size:17px}.ck.ck-heading_heading3{font-size:14px}.ck[class*=ck-heading_heading]{font-weight:700}.ck.ck-dropdown.ck-heading-dropdown .ck-dropdown__button .ck-button__label{width:8em}.ck.ck-dropdown.ck-heading-dropdown .ck-dropdown__panel .ck-list__item{min-width:18em}"},function(e,t,n){var r=n(1),o=n(71);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var i=(r(o,{injectType:"singletonStyleTag",insert:"head",singleton:!0}),o.locals?o.locals:{});e.exports=i},function(e,t){e.exports=".ck-content .image>figcaption{display:table-caption;caption-side:bottom;word-break:break-word;color:#333;background-color:#f7f7f7;padding:.6em;font-size:.75em;outline-offset:-1px}"},function(e,t,n){var r=n(1),o=n(73);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var i=(r(o,{injectType:"singletonStyleTag",insert:"head",singleton:!0}),o.locals?o.locals:{});e.exports=i},function(e,t){e.exports=":root{--ck-image-style-spacing:1.5em}.ck-content .image-style-align-center,.ck-content .image-style-align-left,.ck-content .image-style-align-right,.ck-content .image-style-side{max-width:50%}.ck-content .image-style-side{float:right;margin-left:var(--ck-image-style-spacing)}.ck-content .image-style-align-left{float:left;margin-right:var(--ck-image-style-spacing)}.ck-content .image-style-align-center{margin-left:auto;margin-right:auto}.ck-content .image-style-align-right{float:right;margin-left:var(--ck-image-style-spacing)}"},function(e,t,n){var r=n(1),o=n(75);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var i=(r(o,{injectType:"singletonStyleTag",insert:"head",singleton:!0}),o.locals?o.locals:{});e.exports=i},function(e,t){e.exports=".ck.ck-link-form{display:flex}.ck.ck-link-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-link-form{flex-wrap:wrap}.ck.ck-link-form .ck-labeled-input{flex-basis:100%}.ck.ck-link-form .ck-button{flex-basis:50%}}.ck.ck-link-form_layout-vertical{display:block}.ck.ck-link-form{padding:var(--ck-spacing-standard)}.ck.ck-link-form:focus{outline:none}[dir=ltr] .ck.ck-link-form>:not(:first-child),[dir=rtl] .ck.ck-link-form>:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-link-form{padding:0;width:calc(0.8*var(--ck-input-text-width))}.ck.ck-link-form .ck-labeled-input{margin:var(--ck-spacing-standard) var(--ck-spacing-standard) 0}.ck.ck-link-form .ck-labeled-input .ck-input-text{min-width:0;width:100%}.ck.ck-link-form .ck-button{padding:var(--ck-spacing-standard);margin-top:var(--ck-spacing-standard);border-radius:0;border:0;border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-link-form .ck-button{margin-left:0}[dir=ltr] .ck.ck-link-form .ck-button:first-of-type{border-right:1px solid var(--ck-color-base-border)}[dir=rtl] .ck.ck-link-form .ck-button{margin-left:0}[dir=rtl] .ck.ck-link-form .ck-button:last-of-type{border-right:1px solid var(--ck-color-base-border)}}.ck.ck-link-form_layout-vertical{padding:0;min-width:var(--ck-input-text-width)}.ck.ck-link-form_layout-vertical .ck-labeled-input{margin:var(--ck-spacing-standard) var(--ck-spacing-standard) var(--ck-spacing-small)}.ck.ck-link-form_layout-vertical .ck-labeled-input .ck-input-text{min-width:0;width:100%}.ck.ck-link-form_layout-vertical .ck-button{padding:var(--ck-spacing-standard);margin:0;border-radius:0;border:0;border-top:1px solid var(--ck-color-base-border);width:50%}[dir=ltr] .ck.ck-link-form_layout-vertical .ck-button{margin-left:0}[dir=ltr] .ck.ck-link-form_layout-vertical .ck-button:first-of-type{border-right:1px solid var(--ck-color-base-border)}[dir=rtl] .ck.ck-link-form_layout-vertical .ck-button{margin-left:0}[dir=rtl] .ck.ck-link-form_layout-vertical .ck-button:last-of-type{border-right:1px solid var(--ck-color-base-border)}.ck.ck-link-form_layout-vertical .ck.ck-list{margin-left:0}.ck.ck-link-form_layout-vertical .ck.ck-list .ck-button.ck-switchbutton{border:0;width:100%}.ck.ck-link-form_layout-vertical .ck.ck-list .ck-button.ck-switchbutton:hover{background:none}"},function(e,t,n){var r=n(1),o=n(77);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var i=(r(o,{injectType:"singletonStyleTag",insert:"head",singleton:!0}),o.locals?o.locals:{});e.exports=i},function(e,t){e.exports=".ck.ck-link-actions{display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-link-actions .ck-link-actions__preview{display:inline-block}.ck.ck-link-actions .ck-link-actions__preview .ck-button__label{overflow:hidden}@media screen and (max-width:600px){.ck.ck-link-actions{flex-wrap:wrap}.ck.ck-link-actions .ck-link-actions__preview{flex-basis:100%}.ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){flex-basis:50%}}.ck.ck-link-actions{padding:var(--ck-spacing-standard)}.ck.ck-link-actions .ck-button.ck-link-actions__preview{padding-left:0;padding-right:0}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label{padding:0 var(--ck-spacing-medium);color:var(--ck-color-link-default);text-overflow:ellipsis;cursor:pointer;max-width:var(--ck-input-text-width);min-width:3em;text-align:center}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label:hover{text-decoration:underline}.ck.ck-link-actions .ck-button.ck-link-actions__preview,.ck.ck-link-actions .ck-button.ck-link-actions__preview:active,.ck.ck-link-actions .ck-button.ck-link-actions__preview:focus,.ck.ck-link-actions .ck-button.ck-link-actions__preview:hover{background:none}.ck.ck-link-actions .ck-button.ck-link-actions__preview:active{box-shadow:none}.ck.ck-link-actions .ck-button.ck-link-actions__preview:focus .ck-button__label{text-decoration:underline}.ck.ck-link-actions:focus{outline:none}[dir=ltr] .ck.ck-link-actions .ck-button:not(:first-child),[dir=rtl] .ck.ck-link-actions .ck-button:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-link-actions{padding:0;width:calc(0.8*var(--ck-input-text-width))}.ck.ck-link-actions .ck-button.ck-link-actions__preview{margin:var(--ck-spacing-standard) var(--ck-spacing-standard) 0}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label{min-width:0;max-width:100%}.ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){padding:var(--ck-spacing-standard);margin-top:var(--ck-spacing-standard);border-radius:0;border:0;border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){margin-left:0}[dir=ltr] .ck.ck-link-actions .ck-button:not(.ck-link-actions__preview):first-of-type{border-right:1px solid var(--ck-color-base-border)}[dir=rtl] .ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){margin-left:0}[dir=rtl] .ck.ck-link-actions .ck-button:not(.ck-link-actions__preview):last-of-type{border-right:1px solid var(--ck-color-base-border)}}"},function(e,t,n){var r=n(1),o=n(79);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var i=(r(o,{injectType:"singletonStyleTag",insert:"head",singleton:!0}),o.locals?o.locals:{});e.exports=i},function(e,t){e.exports='.ck-media__wrapper .ck-media__placeholder{display:flex;flex-direction:column;align-items:center}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url .ck-tooltip{display:block}@media (hover:none){.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url .ck-tooltip{display:none}}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url{max-width:100%;position:relative}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url:hover .ck-tooltip{visibility:visible;opacity:1}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url .ck-media__placeholder__url__text{overflow:hidden;display:block}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="google.com/maps"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck-media__placeholder__icon *{display:none}.ck-editor__editable:not(.ck-read-only) .ck-media__wrapper>:not(.ck-media__placeholder),.ck-editor__editable:not(.ck-read-only) .ck-widget:not(.ck-widget_selected) .ck-media__placeholder{pointer-events:none}:root{--ck-media-embed-placeholder-icon-size:3em;--ck-color-media-embed-placeholder-url-text:#757575;--ck-color-media-embed-placeholder-url-text-hover:var(--ck-color-base-text)}.ck-media__wrapper{margin:0 auto}.ck-media__wrapper .ck-media__placeholder{padding:calc(3*var(--ck-spacing-standard));background:var(--ck-color-base-foreground)}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__icon{min-width:var(--ck-media-embed-placeholder-icon-size);height:var(--ck-media-embed-placeholder-icon-size);margin-bottom:var(--ck-spacing-large);background-position:50%;background-size:cover}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__icon .ck-icon{width:100%;height:100%}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url__text{color:var(--ck-color-media-embed-placeholder-url-text);white-space:nowrap;text-align:center;font-style:italic;text-overflow:ellipsis}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:var(--ck-color-media-embed-placeholder-url-text-hover);cursor:pointer;text-decoration:underline}.ck-media__wrapper[data-oembed-url*="open.spotify.com"]{max-width:300px;max-height:380px}.ck-media__wrapper[data-oembed-url*="google.com/maps"] .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNTAuMzc4IiBoZWlnaHQ9IjI1NC4xNjciIHZpZXdCb3g9IjAgMCA2Ni4yNDYgNjcuMjQ4Ij48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTcyLjUzMSAtMjE4LjQ1NSkgc2NhbGUoLjk4MDEyKSI+PHJlY3Qgcnk9IjUuMjM4IiByeD0iNS4yMzgiIHk9IjIzMS4zOTkiIHg9IjE3Ni4wMzEiIGhlaWdodD0iNjAuMDk5IiB3aWR0aD0iNjAuMDk5IiBmaWxsPSIjMzRhNjY4IiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxwYXRoIGQ9Ik0yMDYuNDc3IDI2MC45bC0yOC45ODcgMjguOTg3YTUuMjE4IDUuMjE4IDAgMDAzLjc4IDEuNjFoNDkuNjIxYzEuNjk0IDAgMy4xOS0uNzk4IDQuMTQ2LTIuMDM3eiIgZmlsbD0iIzVjODhjNSIvPjxwYXRoIGQ9Ik0yMjYuNzQyIDIyMi45ODhjLTkuMjY2IDAtMTYuNzc3IDcuMTctMTYuNzc3IDE2LjAxNC4wMDcgMi43NjIuNjYzIDUuNDc0IDIuMDkzIDcuODc1LjQzLjcwMy44MyAxLjQwOCAxLjE5IDIuMTA3LjMzMy41MDIuNjUgMS4wMDUuOTUgMS41MDguMzQzLjQ3Ny42NzMuOTU3Ljk4OCAxLjQ0IDEuMzEgMS43NjkgMi41IDMuNTAyIDMuNjM3IDUuMTY4Ljc5MyAxLjI3NSAxLjY4MyAyLjY0IDIuNDY2IDMuOTkgMi4zNjMgNC4wOTQgNC4wMDcgOC4wOTIgNC42IDEzLjkxNHYuMDEyYy4xODIuNDEyLjUxNi42NjYuODc5LjY2Ny40MDMtLjAwMS43NjgtLjMxNC45My0uNzk5LjYwMy01Ljc1NiAyLjIzOC05LjcyOSA0LjU4NS0xMy43OTQuNzgyLTEuMzUgMS42NzMtMi43MTUgMi40NjUtMy45OSAxLjEzNy0xLjY2NiAyLjMyOC0zLjQgMy42MzgtNS4xNjkuMzE1LS40ODIuNjQ1LS45NjIuOTg4LTEuNDM5LjMtLjUwMy42MTctMS4wMDYuOTUtMS41MDguMzU5LS43Ljc2LTEuNDA0IDEuMTktMi4xMDcgMS40MjYtMi40MDIgMi01LjExNCAyLjAwNC03Ljg3NSAwLTguODQ0LTcuNTExLTE2LjAxNC0xNi43NzYtMTYuMDE0eiIgZmlsbD0iI2RkNGIzZSIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48ZWxsaXBzZSByeT0iNS41NjQiIHJ4PSI1LjgyOCIgY3k9IjIzOS4wMDIiIGN4PSIyMjYuNzQyIiBmaWxsPSIjODAyZDI3IiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxwYXRoIGQ9Ik0xOTAuMzAxIDIzNy4yODNjLTQuNjcgMC04LjQ1NyAzLjg1My04LjQ1NyA4LjYwNnMzLjc4NiA4LjYwNyA4LjQ1NyA4LjYwN2MzLjA0MyAwIDQuODA2LS45NTggNi4zMzctMi41MTYgMS41My0xLjU1NyAyLjA4Ny0zLjkxMyAyLjA4Ny02LjI5IDAtLjM2Mi0uMDIzLS43MjItLjA2NC0xLjA3OWgtOC4yNTd2My4wNDNoNC44NWMtLjE5Ny43NTktLjUzMSAxLjQ1LTEuMDU4IDEuOTg2LS45NDIuOTU4LTIuMDI4IDEuNTQ4LTMuOTAxIDEuNTQ4LTIuODc2IDAtNS4yMDgtMi4zNzItNS4yMDgtNS4yOTkgMC0yLjkyNiAyLjMzMi01LjI5OSA1LjIwOC01LjI5OSAxLjM5OSAwIDIuNjE4LjQwNyAzLjU4NCAxLjI5M2wyLjM4MS0yLjM4YzAtLjAwMi0uMDAzLS4wMDQtLjAwNC0uMDA1LTEuNTg4LTEuNTI0LTMuNjItMi4yMTUtNS45NTUtMi4yMTV6bTQuNDMgNS42NmwuMDAzLjAwNnYtLjAwM3oiIGZpbGw9IiNmZmYiIHBhaW50LW9yZGVyPSJtYXJrZXJzIHN0cm9rZSBmaWxsIi8+PHBhdGggZD0iTTIxNS4xODQgMjUxLjkyOWwtNy45OCA3Ljk3OSAyOC40NzcgMjguNDc1YTUuMjMzIDUuMjMzIDAgMDAuNDQ5LTIuMTIzdi0zMS4xNjVjLS40NjkuNjc1LS45MzQgMS4zNDktMS4zODIgMi4wMDUtLjc5MiAxLjI3NS0xLjY4MiAyLjY0LTIuNDY1IDMuOTktMi4zNDcgNC4wNjUtMy45ODIgOC4wMzgtNC41ODUgMTMuNzk0LS4xNjIuNDg1LS41MjcuNzk4LS45My43OTktLjM2My0uMDAxLS42OTctLjI1NS0uODc5LS42Njd2LS4wMTJjLS41OTMtNS44MjItMi4yMzctOS44Mi00LjYtMTMuOTE0LS43ODMtMS4zNS0xLjY3My0yLjcxNS0yLjQ2Ni0zLjk5LTEuMTM3LTEuNjY2LTIuMzI3LTMuNC0zLjYzNy01LjE2OWwtLjAwMi0uMDAzeiIgZmlsbD0iI2MzYzNjMyIvPjxwYXRoIGQ9Ik0yMTIuOTgzIDI0OC40OTVsLTM2Ljk1MiAzNi45NTN2LjgxMmE1LjIyNyA1LjIyNyAwIDAwNS4yMzggNS4yMzhoMS4wMTVsMzUuNjY2LTM1LjY2NmExMzYuMjc1IDEzNi4yNzUgMCAwMC0yLjc2NC0zLjkgMzcuNTc1IDM3LjU3NSAwIDAwLS45ODktMS40NCAzNS4xMjcgMzUuMTI3IDAgMDAtLjk1LTEuNTA4Yy0uMDgzLS4xNjItLjE3Ni0uMzI2LS4yNjQtLjQ4OXoiIGZpbGw9IiNmZGRjNGYiIHBhaW50LW9yZGVyPSJtYXJrZXJzIHN0cm9rZSBmaWxsIi8+PHBhdGggZD0iTTIxMS45OTggMjYxLjA4M2wtNi4xNTIgNi4xNTEgMjQuMjY0IDI0LjI2NGguNzgxYTUuMjI3IDUuMjI3IDAgMDA1LjIzOS01LjIzOHYtMS4wNDV6IiBmaWxsPSIjZmZmIiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjwvZz48L3N2Zz4=)}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder{background:#4268b3}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAyNCIgaGVpZ2h0PSIxMDI0IiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxwYXRoIGQ9Ik05NjcuNDg0IDBINTYuNTE3QzI1LjMwNCAwIDAgMjUuMzA0IDAgNTYuNTE3djkxMC45NjZDMCA5OTguNjk0IDI1LjI5NyAxMDI0IDU2LjUyMiAxMDI0SDU0N1Y2MjhINDE0VjQ3M2gxMzNWMzU5LjAyOWMwLTEzMi4yNjIgODAuNzczLTIwNC4yODIgMTk4Ljc1Ni0yMDQuMjgyIDU2LjUxMyAwIDEwNS4wODYgNC4yMDggMTE5LjI0NCA2LjA4OVYyOTlsLTgxLjYxNi4wMzdjLTYzLjk5MyAwLTc2LjM4NCAzMC40OTItNzYuMzg0IDc1LjIzNlY0NzNoMTUzLjQ4N2wtMTkuOTg2IDE1NUg3MDd2Mzk2aDI2MC40ODRjMzEuMjEzIDAgNTYuNTE2LTI1LjMwMyA1Ni41MTYtNTYuNTE2VjU2LjUxNUMxMDI0IDI1LjMwMyA5OTguNjk3IDAgOTY3LjQ4NCAwIiBmaWxsPSIjRkZGRkZFIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__url__text{color:#cdf}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder{background:linear-gradient(-135deg,#1400c8,#b900b4,#f50000)}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTA0IiBoZWlnaHQ9IjUwNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+PGRlZnM+PHBhdGggaWQ9ImEiIGQ9Ik0wIC4xNTloNTAzLjg0MVY1MDMuOTRIMHoiLz48L2RlZnM+PGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj48bWFzayBpZD0iYiIgZmlsbD0iI2ZmZiI+PHVzZSB4bGluazpocmVmPSIjYSIvPjwvbWFzaz48cGF0aCBkPSJNMjUxLjkyMS4xNTljLTY4LjQxOCAwLTc2Ljk5Ny4yOS0xMDMuODY3IDEuNTE2LTI2LjgxNCAxLjIyMy00NS4xMjcgNS40ODItNjEuMTUxIDExLjcxLTE2LjU2NiA2LjQzNy0zMC42MTUgMTUuMDUxLTQ0LjYyMSAyOS4wNTYtMTQuMDA1IDE0LjAwNi0yMi42MTkgMjguMDU1LTI5LjA1NiA0NC42MjEtNi4yMjggMTYuMDI0LTEwLjQ4NyAzNC4zMzctMTEuNzEgNjEuMTUxQy4yOSAxNzUuMDgzIDAgMTgzLjY2MiAwIDI1Mi4wOGMwIDY4LjQxNy4yOSA3Ni45OTYgMS41MTYgMTAzLjg2NiAxLjIyMyAyNi44MTQgNS40ODIgNDUuMTI3IDExLjcxIDYxLjE1MSA2LjQzNyAxNi41NjYgMTUuMDUxIDMwLjYxNSAyOS4wNTYgNDQuNjIxIDE0LjAwNiAxNC4wMDUgMjguMDU1IDIyLjYxOSA0NC42MjEgMjkuMDU3IDE2LjAyNCA2LjIyNyAzNC4zMzcgMTAuNDg2IDYxLjE1MSAxMS43MDkgMjYuODcgMS4yMjYgMzUuNDQ5IDEuNTE2IDEwMy44NjcgMS41MTYgNjguNDE3IDAgNzYuOTk2LS4yOSAxMDMuODY2LTEuNTE2IDI2LjgxNC0xLjIyMyA0NS4xMjctNS40ODIgNjEuMTUxLTExLjcwOSAxNi41NjYtNi40MzggMzAuNjE1LTE1LjA1MiA0NC42MjEtMjkuMDU3IDE0LjAwNS0xNC4wMDYgMjIuNjE5LTI4LjA1NSAyOS4wNTctNDQuNjIxIDYuMjI3LTE2LjAyNCAxMC40ODYtMzQuMzM3IDExLjcwOS02MS4xNTEgMS4yMjYtMjYuODcgMS41MTYtMzUuNDQ5IDEuNTE2LTEwMy44NjYgMC02OC40MTgtLjI5LTc2Ljk5Ny0xLjUxNi0xMDMuODY3LTEuMjIzLTI2LjgxNC01LjQ4Mi00NS4xMjctMTEuNzA5LTYxLjE1MS02LjQzOC0xNi41NjYtMTUuMDUyLTMwLjYxNS0yOS4wNTctNDQuNjIxLTE0LjAwNi0xNC4wMDUtMjguMDU1LTIyLjYxOS00NC42MjEtMjkuMDU2LTE2LjAyNC02LjIyOC0zNC4zMzctMTAuNDg3LTYxLjE1MS0xMS43MUMzMjguOTE3LjQ0OSAzMjAuMzM4LjE1OSAyNTEuOTIxLjE1OXptMCA0NS4zOTFjNjcuMjY1IDAgNzUuMjMzLjI1NyAxMDEuNzk3IDEuNDY5IDI0LjU2MiAxLjEyIDM3LjkwMSA1LjIyNCA0Ni43NzggOC42NzQgMTEuNzU5IDQuNTcgMjAuMTUxIDEwLjAyOSAyOC45NjYgMTguODQ1IDguODE2IDguODE1IDE0LjI3NSAxNy4yMDcgMTguODQ1IDI4Ljk2NiAzLjQ1IDguODc3IDcuNTU0IDIyLjIxNiA4LjY3NCA0Ni43NzggMS4yMTIgMjYuNTY0IDEuNDY5IDM0LjUzMiAxLjQ2OSAxMDEuNzk4IDAgNjcuMjY1LS4yNTcgNzUuMjMzLTEuNDY5IDEwMS43OTctMS4xMiAyNC41NjItNS4yMjQgMzcuOTAxLTguNjc0IDQ2Ljc3OC00LjU3IDExLjc1OS0xMC4wMjkgMjAuMTUxLTE4Ljg0NSAyOC45NjYtOC44MTUgOC44MTYtMTcuMjA3IDE0LjI3NS0yOC45NjYgMTguODQ1LTguODc3IDMuNDUtMjIuMjE2IDcuNTU0LTQ2Ljc3OCA4LjY3NC0yNi41NiAxLjIxMi0zNC41MjcgMS40NjktMTAxLjc5NyAxLjQ2OS02Ny4yNzEgMC03NS4yMzctLjI1Ny0xMDEuNzk4LTEuNDY5LTI0LjU2Mi0xLjEyLTM3LjkwMS01LjIyNC00Ni43NzgtOC42NzQtMTEuNzU5LTQuNTctMjAuMTUxLTEwLjAyOS0yOC45NjYtMTguODQ1LTguODE1LTguODE1LTE0LjI3NS0xNy4yMDctMTguODQ1LTI4Ljk2Ni0zLjQ1LTguODc3LTcuNTU0LTIyLjIxNi04LjY3NC00Ni43NzgtMS4yMTItMjYuNTY0LTEuNDY5LTM0LjUzMi0xLjQ2OS0xMDEuNzk3IDAtNjcuMjY2LjI1Ny03NS4yMzQgMS40NjktMTAxLjc5OCAxLjEyLTI0LjU2MiA1LjIyNC0zNy45MDEgOC42NzQtNDYuNzc4IDQuNTctMTEuNzU5IDEwLjAyOS0yMC4xNTEgMTguODQ1LTI4Ljk2NiA4LjgxNS04LjgxNiAxNy4yMDctMTQuMjc1IDI4Ljk2Ni0xOC44NDUgOC44NzctMy40NSAyMi4yMTYtNy41NTQgNDYuNzc4LTguNjc0IDI2LjU2NC0xLjIxMiAzNC41MzItMS40NjkgMTAxLjc5OC0xLjQ2OXoiIGZpbGw9IiNGRkYiIG1hc2s9InVybCgjYikiLz48cGF0aCBkPSJNMjUxLjkyMSAzMzYuMDUzYy00Ni4zNzggMC04My45NzQtMzcuNTk2LTgzLjk3NC04My45NzMgMC00Ni4zNzggMzcuNTk2LTgzLjk3NCA4My45NzQtODMuOTc0IDQ2LjM3NyAwIDgzLjk3MyAzNy41OTYgODMuOTczIDgzLjk3NCAwIDQ2LjM3Ny0zNy41OTYgODMuOTczLTgzLjk3MyA4My45NzN6bTAtMjEzLjMzOGMtNzEuNDQ3IDAtMTI5LjM2NSA1Ny45MTgtMTI5LjM2NSAxMjkuMzY1IDAgNzEuNDQ2IDU3LjkxOCAxMjkuMzY0IDEyOS4zNjUgMTI5LjM2NCA3MS40NDYgMCAxMjkuMzY0LTU3LjkxOCAxMjkuMzY0LTEyOS4zNjQgMC03MS40NDctNTcuOTE4LTEyOS4zNjUtMTI5LjM2NC0xMjkuMzY1ek00MTYuNjI3IDExNy42MDRjMCAxNi42OTYtMTMuNTM1IDMwLjIzLTMwLjIzMSAzMC4yMy0xNi42OTUgMC0zMC4yMy0xMy41MzQtMzAuMjMtMzAuMjMgMC0xNi42OTYgMTMuNTM1LTMwLjIzMSAzMC4yMy0zMC4yMzEgMTYuNjk2IDAgMzAuMjMxIDEzLjUzNSAzMC4yMzEgMzAuMjMxIiBmaWxsPSIjRkZGIi8+PC9nPjwvc3ZnPg==)}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__url__text{color:#ffe0fe}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder{background:linear-gradient(90deg,#71c6f4,#0d70a5)}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0MDAgNDAwIj48cGF0aCBkPSJNNDAwIDIwMGMwIDExMC41LTg5LjUgMjAwLTIwMCAyMDBTMCAzMTAuNSAwIDIwMCA4OS41IDAgMjAwIDBzMjAwIDg5LjUgMjAwIDIwMHpNMTYzLjQgMzA1LjVjODguNyAwIDEzNy4yLTczLjUgMTM3LjItMTM3LjIgMC0yLjEgMC00LjItLjEtNi4yIDkuNC02LjggMTcuNi0xNS4zIDI0LjEtMjUtOC42IDMuOC0xNy45IDYuNC0yNy43IDcuNiAxMC02IDE3LjYtMTUuNCAyMS4yLTI2LjctOS4zIDUuNS0xOS42IDkuNS0zMC42IDExLjctOC44LTkuNC0yMS4zLTE1LjItMzUuMi0xNS4yLTI2LjYgMC00OC4yIDIxLjYtNDguMiA0OC4yIDAgMy44LjQgNy41IDEuMyAxMS00MC4xLTItNzUuNi0yMS4yLTk5LjQtNTAuNC00LjEgNy4xLTYuNSAxNS40LTYuNSAyNC4yIDAgMTYuNyA4LjUgMzEuNSAyMS41IDQwLjEtNy45LS4yLTE1LjMtMi40LTIxLjgtNnYuNmMwIDIzLjQgMTYuNiA0Mi44IDM4LjcgNDcuMy00IDEuMS04LjMgMS43LTEyLjcgMS43LTMuMSAwLTYuMS0uMy05LjEtLjkgNi4xIDE5LjIgMjMuOSAzMy4xIDQ1IDMzLjUtMTYuNSAxMi45LTM3LjMgMjAuNi01OS45IDIwLjYtMy45IDAtNy43LS4yLTExLjUtLjcgMjEuMSAxMy44IDQ2LjUgMjEuOCA3My43IDIxLjgiIGZpbGw9IiNmZmYiLz48L3N2Zz4=)}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__url__text{color:#b8e6ff}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}'},function(e,t,n){var r=n(1),o=n(81);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var i=(r(o,{injectType:"singletonStyleTag",insert:"head",singleton:!0}),o.locals?o.locals:{});e.exports=i},function(e,t){e.exports=".ck.ck-media-form{display:flex;align-items:flex-start;flex-direction:row;flex-wrap:nowrap}.ck.ck-media-form .ck-labeled-input{display:inline-block}.ck.ck-media-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-media-form{flex-wrap:wrap}.ck.ck-media-form .ck-labeled-input{flex-basis:100%}.ck.ck-media-form .ck-button{flex-basis:50%}}.ck.ck-media-form{padding:var(--ck-spacing-standard)}.ck.ck-media-form:focus{outline:none}[dir=ltr] .ck.ck-media-form>:not(:first-child),[dir=rtl] .ck.ck-media-form>:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-media-form{padding:0;width:calc(0.8*var(--ck-input-text-width))}.ck.ck-media-form .ck-labeled-input{margin:var(--ck-spacing-standard) var(--ck-spacing-standard) 0}.ck.ck-media-form .ck-labeled-input .ck-input-text{min-width:0;width:100%}.ck.ck-media-form .ck-labeled-input .ck-labeled-input__error{white-space:normal}.ck.ck-media-form .ck-button{padding:var(--ck-spacing-standard);margin-top:var(--ck-spacing-standard);border-radius:0;border:0;border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-media-form .ck-button{margin-left:0}[dir=ltr] .ck.ck-media-form .ck-button:first-of-type{border-right:1px solid var(--ck-color-base-border)}[dir=rtl] .ck.ck-media-form .ck-button{margin-left:0}[dir=rtl] .ck.ck-media-form .ck-button:last-of-type{border-right:1px solid var(--ck-color-base-border)}}"},function(e,t,n){var r=n(1),o=n(83);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var i=(r(o,{injectType:"singletonStyleTag",insert:"head",singleton:!0}),o.locals?o.locals:{});e.exports=i},function(e,t){e.exports=".ck-content .media{clear:both;margin:1em 0;display:block;min-width:15em}"},function(e,t,n){var r=n(1),o=n(85);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var i=(r(o,{injectType:"singletonStyleTag",insert:"head",singleton:!0}),o.locals?o.locals:{});e.exports=i},function(e,t){e.exports=":root{--ck-color-table-focused-cell-background:rgba(158,207,250,0.3)}.ck-widget.table td.ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck-widget.table td.ck-editor__nested-editable:focus,.ck-widget.table th.ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck-widget.table th.ck-editor__nested-editable:focus{background:var(--ck-color-table-focused-cell-background);border-style:none;outline:1px solid var(--ck-color-focus-border);outline-offset:-1px}"},function(e,t,n){var r=n(1),o=n(87);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var i=(r(o,{injectType:"singletonStyleTag",insert:"head",singleton:!0}),o.locals?o.locals:{});e.exports=i},function(e,t){e.exports=".ck .ck-insert-table-dropdown__grid{display:flex;flex-direction:row;flex-wrap:wrap}:root{--ck-insert-table-dropdown-padding:10px;--ck-insert-table-dropdown-box-height:11px;--ck-insert-table-dropdown-box-width:12px;--ck-insert-table-dropdown-box-margin:1px}.ck .ck-insert-table-dropdown__grid{width:calc(var(--ck-insert-table-dropdown-box-width)*10 + var(--ck-insert-table-dropdown-box-margin)*20 + var(--ck-insert-table-dropdown-padding)*2);padding:var(--ck-insert-table-dropdown-padding) var(--ck-insert-table-dropdown-padding) 0}.ck .ck-insert-table-dropdown__label{text-align:center}.ck .ck-insert-table-dropdown-grid-box{width:var(--ck-insert-table-dropdown-box-width);height:var(--ck-insert-table-dropdown-box-height);margin:var(--ck-insert-table-dropdown-box-margin);border:1px solid var(--ck-color-base-border);border-radius:1px}.ck .ck-insert-table-dropdown-grid-box.ck-on{border-color:var(--ck-color-focus-border);background:var(--ck-color-focus-outer-shadow)}"},function(e,t,n){var r=n(1),o=n(89);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var i=(r(o,{injectType:"singletonStyleTag",insert:"head",singleton:!0}),o.locals?o.locals:{});e.exports=i},function(e,t){e.exports=":root{--ck-table-selected-cell-background:#cee5fd}.ck.ck-editor__editable .table table td.ck-editor__editable_selected,.ck.ck-editor__editable .table table th.ck-editor__editable_selected{background-color:var(--ck-table-selected-cell-background)!important;caret-color:transparent;outline:unset;box-shadow:unset}.ck.ck-editor__editable .table table td.ck-editor__editable_selected ::selection,.ck.ck-editor__editable .table table th.ck-editor__editable_selected ::selection{background-color:transparent}.ck.ck-editor__editable .table table td.ck-editor__editable_selected .ck-widget_selected,.ck.ck-editor__editable .table table th.ck-editor__editable_selected .ck-widget_selected{outline:unset}"},function(e,t,n){var r=n(1),o=n(91);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var i=(r(o,{injectType:"singletonStyleTag",insert:"head",singleton:!0}),o.locals?o.locals:{});e.exports=i},function(e,t){e.exports=".ck-content .table{margin:1em auto;display:table}.ck-content .table table{border-collapse:collapse;border-spacing:0;width:100%;height:100%;border:1px double #b3b3b3}.ck-content .table table td,.ck-content .table table th{min-width:2em;padding:.4em;border-color:#bfbfbf}.ck-content .table table th{font-weight:700;background:hsla(0,0%,0%,5%)}"},function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return Nh});var r=n(3),o=r.a.Symbol,i=Object.prototype,a=i.hasOwnProperty,s=i.toString,l=o?o.toStringTag:void 0,c=Object.prototype.toString,u=o?o.toStringTag:void 0,d=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":u&&u in Object(e)?function(e){var t=a.call(e,l),n=e[l];try{e[l]=void 0;var r=!0}catch(e){}var o=s.call(e);return r&&(t?e[l]=n:delete e[l]),o}(e):function(e){return c.call(e)}(e)},p=function(e,t){return function(n){return e(t(n))}},f=p(Object.getPrototypeOf,Object),h=function(e){return null!=e&&"object"==typeof e},m=Function.prototype,g=Object.prototype,b=m.toString,v=g.hasOwnProperty,y=b.call(Object),k=function(e){if(!h(e)||"[object Object]"!=d(e))return!1;var t=f(e);if(null===t)return!0;var n=v.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&b.call(n)==y},_=function(e,t){return e===t||e!=e&&t!=t},w=function(e,t){for(var n=e.length;n--;)if(_(e[n][0],t))return n;return-1},C=Array.prototype.splice;function S(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}S.prototype.clear=function(){this.__data__=[],this.size=0},S.prototype.delete=function(e){var t=this.__data__,n=w(t,e);return!(n<0||(n==t.length-1?t.pop():C.call(t,n,1),--this.size,0))},S.prototype.get=function(e){var t=this.__data__,n=w(t,e);return n<0?void 0:t[n][1]},S.prototype.has=function(e){return w(this.__data__,e)>-1},S.prototype.set=function(e,t){var n=this.__data__,r=w(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this};var P,E=S,x=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)},O=function(e){if(!x(e))return!1;var t=d(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t},T=r.a["__core-js_shared__"],M=(P=/[^.]+$/.exec(T&&T.keys&&T.keys.IE_PROTO||""))?"Symbol(src)_1."+P:"",A=Function.prototype.toString,j=function(e){if(null!=e){try{return A.call(e)}catch(e){}try{return e+""}catch(e){}}return""},I=/^\[object .+?Constructor\]$/,N=Function.prototype,R=Object.prototype,D=N.toString,L=R.hasOwnProperty,B=RegExp("^"+D.call(L).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),F=function(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return function(e){return!(!x(e)||function(e){return!!M&&M in e}(e))&&(O(e)?B:I).test(j(e))}(n)?n:void 0},U=F(r.a,"Map"),q=F(Object,"create"),z=Object.prototype.hasOwnProperty,H=Object.prototype.hasOwnProperty;function V(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}V.prototype.clear=function(){this.__data__=q?q(null):{},this.size=0},V.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},V.prototype.get=function(e){var t=this.__data__;if(q){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return z.call(t,e)?t[e]:void 0},V.prototype.has=function(e){var t=this.__data__;return q?void 0!==t[e]:H.call(t,e)},V.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=q&&void 0===t?"__lodash_hash_undefined__":t,this};var W=V,G=function(e,t){var n=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?n["string"==typeof t?"string":"hash"]:n.map};function Y(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Y.prototype.clear=function(){this.size=0,this.__data__={hash:new W,map:new(U||E),string:new W}},Y.prototype.delete=function(e){var t=G(this,e).delete(e);return this.size-=t?1:0,t},Y.prototype.get=function(e){return G(this,e).get(e)},Y.prototype.has=function(e){return G(this,e).has(e)},Y.prototype.set=function(e,t){var n=G(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this};var K=Y;function $(e){var t=this.__data__=new E(e);this.size=t.size}$.prototype.clear=function(){this.__data__=new E,this.size=0},$.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},$.prototype.get=function(e){return this.__data__.get(e)},$.prototype.has=function(e){return this.__data__.has(e)},$.prototype.set=function(e,t){var n=this.__data__;if(n instanceof E){var r=n.__data__;if(!U||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new K(r)}return n.set(e,t),this.size=n.size,this};var Q=$,J=function(){try{var e=F(Object,"defineProperty");return e({},"",{}),e}catch(e){}}(),X=function(e,t,n){"__proto__"==t&&J?J(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n},Z=Object.prototype.hasOwnProperty,ee=function(e,t,n){var r=e[t];Z.call(e,t)&&_(r,n)&&(void 0!==n||t in e)||X(e,t,n)},te=function(e,t,n,r){var o=!n;n||(n={});for(var i=-1,a=t.length;++i<a;){var s=t[i],l=r?r(n[s],e[s],s,n,e):void 0;void 0===l&&(l=e[s]),o?X(n,s,l):ee(n,s,l)}return n},ne=function(e){return h(e)&&"[object Arguments]"==d(e)},re=Object.prototype,oe=re.hasOwnProperty,ie=re.propertyIsEnumerable,ae=ne(function(){return arguments}())?ne:function(e){return h(e)&&oe.call(e,"callee")&&!ie.call(e,"callee")},se=Array.isArray,le=n(4),ce=/^(?:0|[1-9]\d*)$/,ue=function(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&ce.test(e))&&e>-1&&e%1==0&&e<t},de=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991},pe={};pe["[object Float32Array]"]=pe["[object Float64Array]"]=pe["[object Int8Array]"]=pe["[object Int16Array]"]=pe["[object Int32Array]"]=pe["[object Uint8Array]"]=pe["[object Uint8ClampedArray]"]=pe["[object Uint16Array]"]=pe["[object Uint32Array]"]=!0,pe["[object Arguments]"]=pe["[object Array]"]=pe["[object ArrayBuffer]"]=pe["[object Boolean]"]=pe["[object DataView]"]=pe["[object Date]"]=pe["[object Error]"]=pe["[object Function]"]=pe["[object Map]"]=pe["[object Number]"]=pe["[object Object]"]=pe["[object RegExp]"]=pe["[object Set]"]=pe["[object String]"]=pe["[object WeakMap]"]=!1;var fe=function(e){return function(t){return e(t)}},he=n(5),me=he.a&&he.a.isTypedArray,ge=me?fe(me):function(e){return h(e)&&de(e.length)&&!!pe[d(e)]},be=Object.prototype.hasOwnProperty,ve=function(e,t){var n=se(e),r=!n&&ae(e),o=!n&&!r&&Object(le.a)(e),i=!n&&!r&&!o&&ge(e),a=n||r||o||i,s=a?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],l=s.length;for(var c in e)!t&&!be.call(e,c)||a&&("length"==c||o&&("offset"==c||"parent"==c)||i&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||ue(c,l))||s.push(c);return s},ye=Object.prototype,ke=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||ye)},_e=p(Object.keys,Object),we=Object.prototype.hasOwnProperty,Ce=function(e){return null!=e&&de(e.length)&&!O(e)},Se=function(e){return Ce(e)?ve(e):function(e){if(!ke(e))return _e(e);var t=[];for(var n in Object(e))we.call(e,n)&&"constructor"!=n&&t.push(n);return t}(e)},Pe=Object.prototype.hasOwnProperty,Ee=function(e){return Ce(e)?ve(e,!0):function(e){if(!x(e))return function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}(e);var t=ke(e),n=[];for(var r in e)("constructor"!=r||!t&&Pe.call(e,r))&&n.push(r);return n}(e)},xe=n(8),Oe=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t},Te=function(){return[]},Me=Object.prototype.propertyIsEnumerable,Ae=Object.getOwnPropertySymbols,je=Ae?function(e){return null==e?[]:(e=Object(e),function(e,t){for(var n=-1,r=null==e?0:e.length,o=0,i=[];++n<r;){var a=e[n];t(a)&&(i[o++]=a)}return i}(Ae(e),function(t){return Me.call(e,t)}))}:Te,Ie=function(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e},Ne=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)Ie(t,je(e)),e=f(e);return t}:Te,Re=function(e,t,n){var r=t(e);return se(e)?r:Ie(r,n(e))},De=function(e){return Re(e,Se,je)},Le=function(e){return Re(e,Ee,Ne)},Be=F(r.a,"DataView"),Fe=F(r.a,"Promise"),Ue=F(r.a,"Set"),qe=F(r.a,"WeakMap"),ze=j(Be),He=j(U),Ve=j(Fe),We=j(Ue),Ge=j(qe),Ye=d;(Be&&"[object DataView]"!=Ye(new Be(new ArrayBuffer(1)))||U&&"[object Map]"!=Ye(new U)||Fe&&"[object Promise]"!=Ye(Fe.resolve())||Ue&&"[object Set]"!=Ye(new Ue)||qe&&"[object WeakMap]"!=Ye(new qe))&&(Ye=function(e){var t=d(e),n="[object Object]"==t?e.constructor:void 0,r=n?j(n):"";if(r)switch(r){case ze:return"[object DataView]";case He:return"[object Map]";case Ve:return"[object Promise]";case We:return"[object Set]";case Ge:return"[object WeakMap]"}return t});var Ke=Ye,$e=Object.prototype.hasOwnProperty,Qe=r.a.Uint8Array,Je=function(e){var t=new e.constructor(e.byteLength);return new Qe(t).set(new Qe(e)),t},Xe=/\w*$/,Ze=o?o.prototype:void 0,et=Ze?Ze.valueOf:void 0,tt=function(e,t){var n=t?Je(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)},nt=Object.create,rt=function(){function e(){}return function(t){if(!x(t))return{};if(nt)return nt(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}(),ot=function(e){return"function"!=typeof e.constructor||ke(e)?{}:rt(f(e))},it=he.a&&he.a.isMap,at=it?fe(it):function(e){return h(e)&&"[object Map]"==Ke(e)},st=he.a&&he.a.isSet,lt=st?fe(st):function(e){return h(e)&&"[object Set]"==Ke(e)},ct={};ct["[object Arguments]"]=ct["[object Array]"]=ct["[object ArrayBuffer]"]=ct["[object DataView]"]=ct["[object Boolean]"]=ct["[object Date]"]=ct["[object Float32Array]"]=ct["[object Float64Array]"]=ct["[object Int8Array]"]=ct["[object Int16Array]"]=ct["[object Int32Array]"]=ct["[object Map]"]=ct["[object Number]"]=ct["[object Object]"]=ct["[object RegExp]"]=ct["[object Set]"]=ct["[object String]"]=ct["[object Symbol]"]=ct["[object Uint8Array]"]=ct["[object Uint8ClampedArray]"]=ct["[object Uint16Array]"]=ct["[object Uint32Array]"]=!0,ct["[object Error]"]=ct["[object Function]"]=ct["[object WeakMap]"]=!1;var ut=function e(t,n,r,o,i,a){var s,l=1&n,c=2&n,u=4&n;if(r&&(s=i?r(t,o,i,a):r(t)),void 0!==s)return s;if(!x(t))return t;var d=se(t);if(d){if(s=function(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&$e.call(e,"index")&&(n.index=e.index,n.input=e.input),n}(t),!l)return Oe(t,s)}else{var p=Ke(t),f="[object Function]"==p||"[object GeneratorFunction]"==p;if(Object(le.a)(t))return Object(xe.a)(t,l);if("[object Object]"==p||"[object Arguments]"==p||f&&!i){if(s=c||f?{}:ot(t),!l)return c?function(e,t){return te(e,Ne(e),t)}(t,function(e,t){return e&&te(t,Ee(t),e)}(s,t)):function(e,t){return te(e,je(e),t)}(t,function(e,t){return e&&te(t,Se(t),e)}(s,t))}else{if(!ct[p])return i?t:{};s=function(e,t,n){var r=e.constructor;switch(t){case"[object ArrayBuffer]":return Je(e);case"[object Boolean]":case"[object Date]":return new r(+e);case"[object DataView]":return function(e,t){var n=t?Je(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return tt(e,n);case"[object Map]":return new r;case"[object Number]":case"[object String]":return new r(e);case"[object RegExp]":return function(e){var t=new e.constructor(e.source,Xe.exec(e));return t.lastIndex=e.lastIndex,t}(e);case"[object Set]":return new r;case"[object Symbol]":return function(e){return et?Object(et.call(e)):{}}(e)}}(t,p,l)}}a||(a=new Q);var h=a.get(t);if(h)return h;a.set(t,s),lt(t)?t.forEach(function(o){s.add(e(o,n,r,o,t,a))}):at(t)&&t.forEach(function(o,i){s.set(i,e(o,n,r,i,t,a))});var m=u?c?Le:De:c?keysIn:Se,g=d?void 0:m(t);return function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n););}(g||t,function(o,i){g&&(o=t[i=o]),ee(s,i,e(o,n,r,i,t,a))}),s},dt=function(e,t){return ut(e,5,t="function"==typeof t?t:void 0)},pt=function(e){return h(e)&&1===e.nodeType&&!k(e)};class ft{constructor(e,t){this._config={},t&&this.define(ht(t)),e&&this._setObjectToTarget(this._config,e)}set(e,t){this._setToTarget(this._config,e,t)}define(e,t){this._setToTarget(this._config,e,t,!0)}get(e){return this._getFromSource(this._config,e)}*names(){for(const e of Object.keys(this._config))yield e}_setToTarget(e,t,n,r=!1){if(k(t))return void this._setObjectToTarget(e,t,r);const o=t.split(".");t=o.pop();for(const i of o)k(e[i])||(e[i]={}),e=e[i];if(k(n))return k(e[t])||(e[t]={}),e=e[t],void this._setObjectToTarget(e,n,r);r&&void 0!==e[t]||(e[t]=n)}_getFromSource(e,t){const n=t.split(".");t=n.pop();for(const r of n){if(!k(e[r])){e=null;break}e=e[r]}return e?ht(e[t]):void 0}_setObjectToTarget(e,t,n){Object.keys(t).forEach(r=>{this._setToTarget(e,r,t[r],n)})}}function ht(e){return dt(e,mt)}function mt(e){return pt(e)?e:void 0}var gt=function(){return function e(){e.called=!0}};class bt{constructor(e,t){this.source=e,this.name=t,this.path=[],this.stop=gt(),this.off=gt()}}const vt=new Array(256).fill().map((e,t)=>("0"+t.toString(16)).slice(-2));function yt(){const e=4294967296*Math.random()>>>0,t=4294967296*Math.random()>>>0,n=4294967296*Math.random()>>>0,r=4294967296*Math.random()>>>0;return"e"+vt[e>>0&255]+vt[e>>8&255]+vt[e>>16&255]+vt[e>>24&255]+vt[t>>0&255]+vt[t>>8&255]+vt[t>>16&255]+vt[t>>24&255]+vt[n>>0&255]+vt[n>>8&255]+vt[n>>16&255]+vt[n>>24&255]+vt[r>>0&255]+vt[r>>8&255]+vt[r>>16&255]+vt[r>>24&255]}var kt={get(e){return"number"!=typeof e?this[e]||this.normal:e},highest:1e5,high:1e3,normal:0,low:-1e3,lowest:-1e5},_t=(n(6),n(0));const wt=Symbol("listeningTo"),Ct=Symbol("emitterId");var St={on(e,t,n={}){this.listenTo(this,e,t,n)},once(e,t,n){let r=!1;this.listenTo(this,e,function(e,...n){r||(r=!0,e.off(),t.call(this,e,...n))},n)},off(e,t){this.stopListening(this,e,t)},listenTo(e,t,n,r={}){let o,i;this[wt]||(this[wt]={});const a=this[wt];Et(e)||Pt(e);const s=Et(e);(o=a[s])||(o=a[s]={emitter:e,callbacks:{}}),(i=o.callbacks[t])||(i=o.callbacks[t]=[]),i.push(n),function(e,t){const n=xt(e);if(n[t])return;let r=t,o=null;const i=[];for(;""!==r&&!n[r];)n[r]={callbacks:[],childEvents:[]},i.push(n[r]),o&&n[r].childEvents.push(o),o=r,r=r.substr(0,r.lastIndexOf(":"));if(""!==r){for(const e of i)e.callbacks=n[r].callbacks.slice();n[r].childEvents.push(o)}}(e,t);const l=Ot(e,t),c=kt.get(r.priority),u={callback:n,priority:c};for(const d of l){let e=!1;for(let t=0;t<d.length;t++)if(d[t].priority<c){d.splice(t,0,u),e=!0;break}e||d.push(u)}},stopListening(e,t,n){const r=this[wt];let o=e&&Et(e);const i=r&&o&&r[o],a=i&&t&&i.callbacks[t];if(!(!r||e&&!i||t&&!a))if(n)Mt(e,t,n);else if(a){for(;n=a.pop();)Mt(e,t,n);delete i.callbacks[t]}else if(i){for(t in i.callbacks)this.stopListening(e,t);delete r[o]}else{for(o in r)this.stopListening(r[o].emitter);delete this[wt]}},fire(e,...t){try{const n=e instanceof bt?e:new bt(this,e),r=n.name;let o=function e(t,n){let r;return t._events&&(r=t._events[n])&&r.callbacks.length?r.callbacks:n.indexOf(":")>-1?e(t,n.substr(0,n.lastIndexOf(":"))):null}(this,r);if(n.path.push(this),o){const e=[n,...t];o=Array.from(o);for(let t=0;t<o.length&&(o[t].callback.apply(this,e),n.off.called&&(delete n.off.called,Mt(this,r,o[t].callback)),!n.stop.called);t++);}if(this._delegations){const e=this._delegations.get(r),o=this._delegations.get("*");e&&Tt(e,n,t),o&&Tt(o,n,t)}return n.return}catch(e){_t.b.rethrowUnexpectedError(e,this)}},delegate(...e){return{to:(t,n)=>{this._delegations||(this._delegations=new Map),e.forEach(e=>{const r=this._delegations.get(e);r?r.set(t,n):this._delegations.set(e,new Map([[t,n]]))})}}},stopDelegating(e,t){if(this._delegations)if(e)if(t){const n=this._delegations.get(e);n&&n.delete(t)}else this._delegations.delete(e);else this._delegations.clear()}};function Pt(e,t){e[Ct]||(e[Ct]=t||yt())}function Et(e){return e[Ct]}function xt(e){return e._events||Object.defineProperty(e,"_events",{value:{}}),e._events}function Ot(e,t){const n=xt(e)[t];if(!n)return[];let r=[n.callbacks];for(let o=0;o<n.childEvents.length;o++){const t=Ot(e,n.childEvents[o]);r=r.concat(t)}return r}function Tt(e,t,n){for(let[r,o]of e){o?"function"==typeof o&&(o=o(t.name)):o=t.name;const e=new bt(t.source,o);e.path=[...t.path],r.fire(e,...n)}}function Mt(e,t,n){const r=Ot(e,t);for(const o of r)for(let e=0;e<o.length;e++)o[e].callback==n&&(o.splice(e,1),e--)}function At(e,...t){t.forEach(t=>{Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t)).forEach(n=>{if(n in e.prototype)return;const r=Object.getOwnPropertyDescriptor(t,n);r.enumerable=!1,Object.defineProperty(e.prototype,n,r)})})}class jt{constructor(e={}){this._items=[],this._itemMap=new Map,this._idProperty=e.idProperty||"id",this._bindToExternalToInternalMap=new WeakMap,this._bindToInternalToExternalMap=new WeakMap,this._skippedIndexesFromExternal=[]}get length(){return this._items.length}get first(){return this._items[0]||null}get last(){return this._items[this.length-1]||null}add(e,t){let n;const r=this._idProperty;if(r in e){if("string"!=typeof(n=e[r]))throw new _t.b("collection-add-invalid-id",this);if(this.get(n))throw new _t.b("collection-add-item-already-exists",this)}else e[r]=n=yt();if(void 0===t)t=this._items.length;else if(t>this._items.length||t<0)throw new _t.b("collection-add-item-invalid-index",this);return this._items.splice(t,0,e),this._itemMap.set(n,e),this.fire("add",e,t),this}get(e){let t;if("string"==typeof e)t=this._itemMap.get(e);else{if("number"!=typeof e)throw new _t.b("collection-get-invalid-arg: Index or id must be given.",this);t=this._items[e]}return t||null}has(e){if("string"==typeof e)return this._itemMap.has(e);{const t=e[this._idProperty];return this._itemMap.has(t)}}getIndex(e){let t;return t="string"==typeof e?this._itemMap.get(e):e,this._items.indexOf(t)}remove(e){let t,n,r,o=!1;const i=this._idProperty;if("string"==typeof e?(n=e,o=!(r=this._itemMap.get(n)),r&&(t=this._items.indexOf(r))):"number"==typeof e?(t=e,o=!(r=this._items[t]),r&&(n=r[i])):(n=(r=e)[i],o=-1==(t=this._items.indexOf(r))||!this._itemMap.get(n)),o)throw new _t.b("collection-remove-404: Item not found.",this);this._items.splice(t,1),this._itemMap.delete(n);const a=this._bindToInternalToExternalMap.get(r);return this._bindToInternalToExternalMap.delete(r),this._bindToExternalToInternalMap.delete(a),this.fire("remove",r,t),r}map(e,t){return this._items.map(e,t)}find(e,t){return this._items.find(e,t)}filter(e,t){return this._items.filter(e,t)}clear(){for(this._bindToCollection&&(this.stopListening(this._bindToCollection),this._bindToCollection=null);this.length;)this.remove(0)}bindTo(e){if(this._bindToCollection)throw new _t.b("collection-bind-to-rebind: The collection cannot be bound more than once.",this);return this._bindToCollection=e,{as:e=>{this._setUpBindToBinding(t=>new e(t))},using:e=>{"function"==typeof e?this._setUpBindToBinding(t=>e(t)):this._setUpBindToBinding(t=>t[e])}}}_setUpBindToBinding(e){const t=this._bindToCollection,n=(n,r,o)=>{const i=t._bindToCollection==this,a=t._bindToInternalToExternalMap.get(r);if(i&&a)this._bindToExternalToInternalMap.set(r,a),this._bindToInternalToExternalMap.set(a,r);else{const n=e(r);if(!n)return void this._skippedIndexesFromExternal.push(o);let i=o;for(const e of this._skippedIndexesFromExternal)o>e&&i--;for(const e of t._skippedIndexesFromExternal)i>=e&&i++;this._bindToExternalToInternalMap.set(r,n),this._bindToInternalToExternalMap.set(n,r),this.add(n,i);for(let e=0;e<t._skippedIndexesFromExternal.length;e++)i<=t._skippedIndexesFromExternal[e]&&t._skippedIndexesFromExternal[e]++}};for(const r of t)n(0,r,t.getIndex(r));this.listenTo(t,"add",n),this.listenTo(t,"remove",(e,t,n)=>{const r=this._bindToExternalToInternalMap.get(t);r&&this.remove(r),this._skippedIndexesFromExternal=this._skippedIndexesFromExternal.reduce((e,t)=>(n<t&&e.push(t-1),n>t&&e.push(t),e),[])})}[Symbol.iterator](){return this._items[Symbol.iterator]()}}At(jt,St);class It{constructor(e,t=[],n=[]){this._context=e,this._plugins=new Map,this._availablePlugins=new Map;for(const r of t)r.pluginName&&this._availablePlugins.set(r.pluginName,r);this._contextPlugins=new Map;for(const[r,o]of n)this._contextPlugins.set(r,o),this._contextPlugins.set(o,r),r.pluginName&&this._availablePlugins.set(r.pluginName,r)}*[Symbol.iterator](){for(const e of this._plugins)"function"==typeof e[0]&&(yield e)}get(e){const t=this._plugins.get(e);if(!t){const t="plugincollection-plugin-not-loaded: The requested plugin is not loaded.";let n=e;throw"function"==typeof e&&(n=e.pluginName||e.name),new _t.b(t,this._context,{plugin:n})}return t}has(e){return this._plugins.has(e)}init(e,t=[]){const n=this,r=this._context,o=new Set,i=[],a=d(e),s=d(t),l=function(e){const t=[];for(const n of e)u(n)||t.push(n);return t.length?t:null}(e);if(l){const e="plugincollection-plugin-not-found: Some plugins are not available and could not be loaded.";return console.error(Object(_t.a)(e),{plugins:l}),Promise.reject(new _t.b(e,r,{plugins:l}))}return Promise.all(a.map(function e(a){if(!s.includes(a)&&!n._plugins.has(a)&&!o.has(a))return function(a){return new Promise(s=>{o.add(a),a.requires&&a.requires.forEach(n=>{const o=u(n);if(a.isContextPlugin&&!o.isContextPlugin)throw new _t.b("plugincollection-context-required: Context plugin can not require plugin which is not a context plugin",null,{plugin:o.name,requiredBy:a.name});if(t.includes(o))throw new _t.b("plugincollection-required: Cannot load a plugin because one of its dependencies is listed inthe `removePlugins` option.",r,{plugin:o.name,requiredBy:a.name});e(o)});const l=n._contextPlugins.get(a)||new a(r);n._add(a,l),i.push(l),s()})}(a).catch(e=>{throw console.error(Object(_t.a)("plugincollection-load: It was not possible to load the plugin."),{plugin:a}),e})})).then(()=>c(i,"init")).then(()=>c(i,"afterInit")).then(()=>i);function c(e,t){return e.reduce((e,r)=>r[t]?n._contextPlugins.has(r)?e:e.then(r[t].bind(r)):e,Promise.resolve())}function u(e){return"function"==typeof e?e:n._availablePlugins.get(e)}function d(e){return e.map(e=>u(e)).filter(e=>!!e)}}destroy(){const e=[];for(const[,t]of this)"function"!=typeof t.destroy||this._contextPlugins.has(t)||e.push(t.destroy());return Promise.all(e)}_add(e,t){this._plugins.set(e,t);const n=e.pluginName;if(n){if(this._plugins.has(n))throw new _t.b("plugincollection-plugin-name-conflict: Two plugins with the same name were loaded.",null,{pluginName:n,plugin1:this._plugins.get(n).constructor,plugin2:e});this._plugins.set(n,t)}}}At(It,St),window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={});const Nt=["ar","fa","he","ku","ug"];class Rt{constructor(e={}){this.uiLanguage=e.uiLanguage||"en",this.contentLanguage=e.contentLanguage||this.uiLanguage,this.uiLanguageDirection=Dt(this.uiLanguage),this.contentLanguageDirection=Dt(this.contentLanguage),this.t=((...e)=>this._t(...e))}get language(){return console.warn("locale-deprecated-language-property: The Locale#language property has been deprecated and will be removed in the near future. Please use #uiLanguage and #contentLanguage properties instead."),this.uiLanguage}_t(e,t){let n=function(e,t){const n=Object.keys(window.CKEDITOR_TRANSLATIONS).length;return 1===n&&(e=Object.keys(window.CKEDITOR_TRANSLATIONS)[0]),0!==n&&function(e,t){return e in window.CKEDITOR_TRANSLATIONS&&t in window.CKEDITOR_TRANSLATIONS[e]}(e,t)?window.CKEDITOR_TRANSLATIONS[e][t].replace(/ \[context: [^\]]+\]$/,""):t.replace(/ \[context: [^\]]+\]$/,"")}(this.uiLanguage,e);return t&&(n=n.replace(/%(\d+)/g,(e,n)=>n<t.length?t[n]:e)),n}}function Dt(e){return Nt.includes(e)?"rtl":"ltr"}class Lt{constructor(e){this.config=new ft(e,this.constructor.defaultConfig);const t=this.constructor.builtinPlugins;this.config.define("plugins",t),this.plugins=new It(this,t);const n=this.config.get("language")||{};this.locale=new Rt({uiLanguage:"string"==typeof n?n:n.ui,contentLanguage:this.config.get("language.content")}),this.t=this.locale.t,this.editors=new jt,this._contextOwner=null}initPlugins(){const e=this.config.get("plugins")||[];for(const t of e){if("function"!=typeof t)throw new _t.b("context-initplugins-constructor-only: Only a constructor function is allowed as a context plugin.",null,{Plugin:t});if(!0!==t.isContextPlugin)throw new _t.b("context-initplugins-invalid-plugin: Only a plugin marked as a context plugin is allowed to be used with a context.",null,{Plugin:t})}return this.plugins.init(e)}destroy(){return Promise.all(Array.from(this.editors,e=>e.destroy())).then(()=>this.plugins.destroy())}_addEditor(e,t){if(this._contextOwner)throw new _t.b("context-addEditor-private-context: Cannot add multiple editors to the context which is created by the editor.");this.editors.add(e),t&&(this._contextOwner=e)}_removeEditor(e){return this.editors.has(e)&&this.editors.remove(e),this._contextOwner===e?this.destroy():Promise.resolve()}_getEditorConfig(){const e={};for(const t of this.config.names())["plugins","removePlugins","extraPlugins"].includes(t)||(e[t]=this.config.get(t));return e}static create(e){return new Promise(t=>{const n=new this(e);t(n.initPlugins().then(()=>n))})}}function Bt(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++)if(e[r]!=t[r])return r;return e.length==t.length?"same":e.length<t.length?"prefix":"extension"}var Ft=function(e){return ut(e,4)};class Ut{constructor(e){this.document=e,this.parent=null}get index(){let e;if(!this.parent)return null;if(-1==(e=this.parent.getChildIndex(this)))throw new _t.b("view-node-not-found-in-parent: The node's parent does not contain this node.",this);return e}get nextSibling(){const e=this.index;return null!==e&&this.parent.getChild(e+1)||null}get previousSibling(){const e=this.index;return null!==e&&this.parent.getChild(e-1)||null}get root(){let e=this;for(;e.parent;)e=e.parent;return e}isAttached(){return this.root.is("rootElement")}getPath(){const e=[];let t=this;for(;t.parent;)e.unshift(t.index),t=t.parent;return e}getAncestors(e={includeSelf:!1,parentFirst:!1}){const t=[];let n=e.includeSelf?this:this.parent;for(;n;)t[e.parentFirst?"push":"unshift"](n),n=n.parent;return t}getCommonAncestor(e,t={}){const n=this.getAncestors(t),r=e.getAncestors(t);let o=0;for(;n[o]==r[o]&&n[o];)o++;return 0===o?null:n[o-1]}isBefore(e){if(this==e)return!1;if(this.root!==e.root)return!1;const t=this.getPath(),n=e.getPath(),r=Bt(t,n);switch(r){case"prefix":return!0;case"extension":return!1;default:return t[r]<n[r]}}isAfter(e){return this!=e&&this.root===e.root&&!this.isBefore(e)}_remove(){this.parent._removeChildren(this.index)}_fireChange(e,t){this.fire("change:"+e,t),this.parent&&this.parent._fireChange(e,t)}toJSON(){const e=Ft(this);return delete e.parent,e}is(e){return"node"==e||"view:node"==e}}At(Ut,St);class qt extends Ut{constructor(e,t){super(e),this._textData=t}is(e){return"text"==e||"view:text"==e||super.is(e)}get data(){return this._textData}get _data(){return this.data}set _data(e){this._fireChange("text",this),this._textData=e}isSimilar(e){return e instanceof qt&&(this===e||this.data===e.data)}_clone(){return new qt(this.document,this.data)}}class zt{constructor(e,t,n){if(this.textNode=e,t<0||t>e.data.length)throw new _t.b("view-textproxy-wrong-offsetintext: Given offsetInText value is incorrect.",this);if(n<0||t+n>e.data.length)throw new _t.b("view-textproxy-wrong-length: Given length value is incorrect.",this);this.data=e.data.substring(t,t+n),this.offsetInText=t}get offsetSize(){return this.data.length}get isPartial(){return this.data.length!==this.textNode.data.length}get parent(){return this.textNode.parent}get root(){return this.textNode.root}get document(){return this.textNode.document}is(e){return"textProxy"==e||"view:textProxy"==e}getAncestors(e={includeSelf:!1,parentFirst:!1}){const t=[];let n=e.includeSelf?this.textNode:this.parent;for(;null!==n;)t[e.parentFirst?"push":"unshift"](n),n=n.parent;return t}}function Ht(e){return!(!e||!e[Symbol.iterator])}function Vt(e){return Ht(e)?new Map(e):function(e){const t=new Map;for(const n in e)t.set(n,e[n]);return t}(e)}class Wt{constructor(...e){this._patterns=[],this.add(...e)}add(...e){for(let t of e)("string"==typeof t||t instanceof RegExp)&&(t={name:t}),t.classes&&("string"==typeof t.classes||t.classes instanceof RegExp)&&(t.classes=[t.classes]),this._patterns.push(t)}match(...e){for(const t of e)for(const e of this._patterns){const n=Gt(t,e);if(n)return{element:t,pattern:e,match:n}}return null}matchAll(...e){const t=[];for(const n of e)for(const e of this._patterns){const r=Gt(n,e);r&&t.push({element:n,pattern:e,match:r})}return t.length>0?t:null}getElementName(){if(1!==this._patterns.length)return null;const e=this._patterns[0],t=e.name;return"function"==typeof e||!t||t instanceof RegExp?null:t}}function Gt(e,t){if("function"==typeof t)return t(e);const n={};return t.name&&(n.name=function(e,t){return e instanceof RegExp?e.test(t):e===t}(t.name,e.name),!n.name)||t.attributes&&(n.attributes=function(e,t){const n=[];for(const r in e){const o=e[r];if(!t.hasAttribute(r))return null;{const e=t.getAttribute(r);if(!0===o)n.push(r);else if(o instanceof RegExp){if(!o.test(e))return null;n.push(r)}else{if(e!==o)return null;n.push(r)}}}return n}(t.attributes,e),!n.attributes)?null:!(t.classes&&(n.classes=function(e,t){const n=[];for(const r of e)if(r instanceof RegExp){const e=t.getClassNames();for(const t of e)r.test(t)&&n.push(t);if(0===n.length)return null}else{if(!t.hasClass(r))return null;n.push(r)}return n}(t.classes,e),!n.classes))&&!(t.styles&&(n.styles=function(e,t){const n=[];for(const r in e){const o=e[r];if(!t.hasStyle(r))return null;{const e=t.getStyle(r);if(o instanceof RegExp){if(!o.test(e))return null;n.push(r)}else{if(e!==o)return null;n.push(r)}}}return n}(t.styles,e),!n.styles))&&n}var Yt=function(e){return"symbol"==typeof e||h(e)&&"[object Symbol]"==d(e)},Kt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,$t=/^\w*$/;function Qt(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var r=arguments,o=t?t.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var a=e.apply(this,r);return n.cache=i.set(o,a)||i,a};return n.cache=new(Qt.Cache||K),n}Qt.Cache=K;var Jt=Qt,Xt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Zt=/\\(\\)?/g,en=function(e){var t=Jt(function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(Xt,function(e,n,r,o){t.push(r?o.replace(Zt,"$1"):n||e)}),t},function(e){return 500===n.size&&n.clear(),e}),n=t.cache;return t}(),tn=o?o.prototype:void 0,nn=tn?tn.toString:void 0,rn=function(e){return null==e?"":function e(t){if("string"==typeof t)return t;if(se(t))return function(e,t){for(var n=-1,r=null==e?0:e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o}(t,e)+"";if(Yt(t))return nn?nn.call(t):"";var n=t+"";return"0"==n&&1/t==-1/0?"-0":n}(e)},on=function(e,t){return se(e)?e:function(e,t){if(se(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!Yt(e))||$t.test(e)||!Kt.test(e)||null!=t&&e in Object(t)}(e,t)?[e]:en(rn(e))},an=function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0},sn=function(e){if("string"==typeof e||Yt(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t},ln=function(e,t){for(var n=0,r=(t=on(t,e)).length;null!=e&&n<r;)e=e[sn(t[n++])];return n&&n==r?e:void 0},cn=function(e,t,n){var r=-1,o=e.length;t<0&&(t=-t>o?0:o+t),(n=n>o?o:n)<0&&(n+=o),o=t>n?0:n-t>>>0,t>>>=0;for(var i=Array(o);++r<o;)i[r]=e[r+t];return i},un=function(e,t){return null==e||function(e,t){return null==(e=function(e,t){return t.length<2?e:ln(e,cn(t,0,-1))}(e,t=on(t,e)))||delete e[sn(an(t))]}(e,t)},dn=function(e,t,n){var r=null==e?void 0:ln(e,t);return void 0===r?n:r},pn=function(e,t,n){(void 0!==n&&!_(e[t],n)||void 0===n&&!(t in e))&&X(e,t,n)},fn=function(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]},hn=function(e){return e},mn=Math.max,gn=J?function(e,t){return J(e,"toString",{configurable:!0,enumerable:!1,value:function(e){return function(){return e}}(t),writable:!0})}:hn,bn=Date.now,vn=function(e){var t=0,n=0;return function(){var r=bn(),o=16-(r-n);if(n=r,o>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}(gn),yn=function(e){return function(e,t){return vn(function(e,t,n){return t=mn(void 0===t?e.length-1:t,0),function(){for(var r=arguments,o=-1,i=mn(r.length-t,0),a=Array(i);++o<i;)a[o]=r[t+o];o=-1;for(var s=Array(t+1);++o<t;)s[o]=r[o];return s[t]=n(a),function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}(e,this,s)}}(e,t,hn),e+"")}(function(t,n){var r=-1,o=n.length,i=o>1?n[o-1]:void 0,a=o>2?n[2]:void 0;for(i=e.length>3&&"function"==typeof i?(o--,i):void 0,a&&function(e,t,n){if(!x(n))return!1;var r=typeof t;return!!("number"==r?Ce(n)&&ue(t,n.length):"string"==r&&t in n)&&_(n[t],e)}(n[0],n[1],a)&&(i=o<3?void 0:i,o=1),t=Object(t);++r<o;){var s=n[r];s&&e(t,s,r,i)}return t})},kn=yn(function(e,t,n){!function e(t,n,r,o,i){t!==n&&function(e,t,n){for(var r=-1,o=Object(e),i=n(e),a=i.length;a--;){var s=i[++r];if(!1===t(o[s],s,o))break}}(n,function(a,s){if(i||(i=new Q),x(a))!function(e,t,n,r,o,i,a){var s=fn(e,n),l=fn(t,n),c=a.get(l);if(c)pn(e,n,c);else{var u=i?i(s,l,n+"",e,t,a):void 0,d=void 0===u;if(d){var p=se(l),f=!p&&Object(le.a)(l),m=!p&&!f&&ge(l);u=l,p||f||m?se(s)?u=s:function(e){return h(e)&&Ce(e)}(s)?u=Oe(s):f?(d=!1,u=Object(xe.a)(l,!0)):m?(d=!1,u=tt(l,!0)):u=[]:k(l)||ae(l)?(u=s,ae(s)?u=te(s,Ee(s)):x(s)&&!O(s)||(u=ot(l))):d=!1}d&&(a.set(l,u),o(u,l,r,i,a),a.delete(l)),pn(e,n,u)}}(t,n,s,r,e,o,i);else{var l=o?o(fn(t,s),a,s+"",t,n,i):void 0;void 0===l&&(l=a),pn(t,s,l)}},Ee)}(e,t,n)}),_n=function(e,t,n){return null==e?e:function(e,t,n,r){if(!x(e))return e;for(var o=-1,i=(t=on(t,e)).length,a=i-1,s=e;null!=s&&++o<i;){var l=sn(t[o]),c=n;if(o!=a){var u=s[l];void 0===(c=void 0)&&(c=x(u)?u:ue(t[o+1])?[]:{})}ee(s,l,c),s=s[l]}return e}(e,t,n)};class wn{constructor(e){this._styles={},this._styleProcessor=e}get isEmpty(){const e=Object.entries(this._styles);return!Array.from(e).length}get size(){return this.isEmpty?0:this.getStyleNames().length}setTo(e){this.clear();const t=Array.from(function(e){let t=null,n=0,r=0,o=null;const i=new Map;if(""===e)return i;";"!=e.charAt(e.length-1)&&(e+=";");for(let a=0;a<e.length;a++){const s=e.charAt(a);if(null===t)switch(s){case":":o||(o=e.substr(n,a-n),r=a+1);break;case'"':case"'":t=s;break;case";":{const t=e.substr(r,a-r);o&&i.set(o.trim(),t.trim()),o=null,n=a+1;break}}else s===t&&(t=null)}return i}(e).entries());for(const[n,r]of t)this._styleProcessor.toNormalizedForm(n,r,this._styles)}has(e){if(this.isEmpty)return!1;const t=this._styleProcessor.getReducedForm(e,this._styles).find(([t])=>t===e);return Array.isArray(t)}set(e,t){if(x(e))for(const[n,r]of Object.entries(e))this._styleProcessor.toNormalizedForm(n,r,this._styles);else this._styleProcessor.toNormalizedForm(e,t,this._styles)}remove(e){const t=Sn(e);un(this._styles,t),delete this._styles[e],this._cleanEmptyObjectsOnPath(t)}getNormalized(e){return this._styleProcessor.getNormalized(e,this._styles)}toString(){return this.isEmpty?"":this._getStylesEntries().map(e=>e.join(":")).sort().join(";")+";"}getAsString(e){if(this.isEmpty)return;if(this._styles[e]&&!x(this._styles[e]))return this._styles[e];const t=this._styleProcessor.getReducedForm(e,this._styles).find(([t])=>t===e);return Array.isArray(t)?t[1]:void 0}getStyleNames(){return this.isEmpty?[]:this._getStylesEntries().map(([e])=>e)}clear(){this._styles={}}_getStylesEntries(){const e=[],t=Object.keys(this._styles);for(const n of t)e.push(...this._styleProcessor.getReducedForm(n,this._styles));return e}_cleanEmptyObjectsOnPath(e){const t=e.split(".");if(!(t.length>1))return;const n=t.splice(0,t.length-1).join("."),r=dn(this._styles,n);r&&!Array.from(Object.keys(r)).length&&this.remove(n)}}class Cn{constructor(){this._normalizers=new Map,this._extractors=new Map,this._reducers=new Map,this._consumables=new Map}toNormalizedForm(e,t,n){if(x(t))Pn(n,Sn(e),t);else if(this._normalizers.has(e)){const r=this._normalizers.get(e),{path:o,value:i}=r(t);Pn(n,o,i)}else Pn(n,e,t)}getNormalized(e,t){if(!e)return kn({},t);if(void 0!==t[e])return t[e];if(this._extractors.has(e)){const n=this._extractors.get(e);if("string"==typeof n)return dn(t,n);const r=n(e,t);if(r)return r}return dn(t,Sn(e))}getReducedForm(e,t){const n=this.getNormalized(e,t);return void 0===n?[]:this._reducers.has(e)?this._reducers.get(e)(n):[[e,n]]}getRelatedStyles(e){return this._consumables.get(e)||[]}setNormalizer(e,t){this._normalizers.set(e,t)}setExtractor(e,t){this._extractors.set(e,t)}setReducer(e,t){this._reducers.set(e,t)}setStyleRelation(e,t){this._mapStyleNames(e,t);for(const n of t)this._mapStyleNames(n,[e])}_mapStyleNames(e,t){this._consumables.has(e)||this._consumables.set(e,[]),this._consumables.get(e).push(...t)}}function Sn(e){return e.replace("-",".")}function Pn(e,t,n){let r=n;x(n)&&(r=kn({},dn(e,t),n)),_n(e,t,r)}class En extends Ut{constructor(e,t,n,r){if(super(e),this.name=t,this._attrs=function(e){e=Vt(e);for(const[t,n]of e)null===n?e.delete(t):"string"!=typeof n&&e.set(t,String(n));return e}(n),this._children=[],r&&this._insertChild(0,r),this._classes=new Set,this._attrs.has("class")){const e=this._attrs.get("class");xn(this._classes,e),this._attrs.delete("class")}this._styles=new wn(this.document.stylesProcessor),this._attrs.has("style")&&(this._styles.setTo(this._attrs.get("style")),this._attrs.delete("style")),this._customProperties=new Map}get childCount(){return this._children.length}get isEmpty(){return 0===this._children.length}is(e,t=null){const n=e.replace(/^view:/,"");return t?"element"==n&&t==this.name:"element"==n||n==this.name||super.is(e)}getChild(e){return this._children[e]}getChildIndex(e){return this._children.indexOf(e)}getChildren(){return this._children[Symbol.iterator]()}*getAttributeKeys(){this._classes.size>0&&(yield"class"),this._styles.isEmpty||(yield"style"),yield*this._attrs.keys()}*getAttributes(){yield*this._attrs.entries(),this._classes.size>0&&(yield["class",this.getAttribute("class")]),this._styles.isEmpty||(yield["style",this.getAttribute("style")])}getAttribute(e){if("class"==e)return this._classes.size>0?[...this._classes].join(" "):void 0;if("style"==e){const e=this._styles.toString();return""==e?void 0:e}return this._attrs.get(e)}hasAttribute(e){return"class"==e?this._classes.size>0:"style"==e?!this._styles.isEmpty:this._attrs.has(e)}isSimilar(e){if(!(e instanceof En))return!1;if(this===e)return!0;if(this.name!=e.name)return!1;if(this._attrs.size!==e._attrs.size||this._classes.size!==e._classes.size||this._styles.size!==e._styles.size)return!1;for(const[t,n]of this._attrs)if(!e._attrs.has(t)||e._attrs.get(t)!==n)return!1;for(const t of this._classes)if(!e._classes.has(t))return!1;for(const t of this._styles.getStyleNames())if(!e._styles.has(t)||e._styles.getAsString(t)!==this._styles.getAsString(t))return!1;return!0}hasClass(...e){for(const t of e)if(!this._classes.has(t))return!1;return!0}getClassNames(){return this._classes.keys()}getStyle(e){return this._styles.getAsString(e)}getNormalizedStyle(e){return this._styles.getNormalized(e)}getStyleNames(){return this._styles.getStyleNames()}hasStyle(...e){for(const t of e)if(!this._styles.has(t))return!1;return!0}findAncestor(...e){const t=new Wt(...e);let n=this.parent;for(;n;){if(t.match(n))return n;n=n.parent}return null}getCustomProperty(e){return this._customProperties.get(e)}*getCustomProperties(){yield*this._customProperties.entries()}getIdentity(){const e=Array.from(this._classes).sort().join(","),t=this._styles.toString(),n=Array.from(this._attrs).map(e=>`${e[0]}="${e[1]}"`).sort().join(" ");return this.name+(""==e?"":` class="${e}"`)+(t?` style="${t}"`:"")+(""==n?"":` ${n}`)}_clone(e=!1){const t=[];if(e)for(const r of this.getChildren())t.push(r._clone(e));const n=new this.constructor(this.document,this.name,this._attrs,t);return n._classes=new Set(this._classes),n._styles.set(this._styles.getNormalized()),n._customProperties=new Map(this._customProperties),n.getFillerOffset=this.getFillerOffset,n}_appendChild(e){return this._insertChild(this.childCount,e)}_insertChild(e,t){this._fireChange("children",this);let n=0;const r=function(e,t){return"string"==typeof t?[new qt(e,t)]:(Ht(t)||(t=[t]),Array.from(t).map(t=>"string"==typeof t?new qt(e,t):t instanceof zt?new qt(e,t.data):t))}(this.document,t);for(const o of r)null!==o.parent&&o._remove(),o.parent=this,o.document=this.document,this._children.splice(e,0,o),e++,n++;return n}_removeChildren(e,t=1){this._fireChange("children",this);for(let n=e;n<e+t;n++)this._children[n].parent=null;return this._children.splice(e,t)}_setAttribute(e,t){t=String(t),this._fireChange("attributes",this),"class"==e?xn(this._classes,t):"style"==e?this._styles.setTo(t):this._attrs.set(e,t)}_removeAttribute(e){return this._fireChange("attributes",this),"class"==e?this._classes.size>0&&(this._classes.clear(),!0):"style"==e?!this._styles.isEmpty&&(this._styles.clear(),!0):this._attrs.delete(e)}_addClass(e){this._fireChange("attributes",this),(e=Array.isArray(e)?e:[e]).forEach(e=>this._classes.add(e))}_removeClass(e){this._fireChange("attributes",this),(e=Array.isArray(e)?e:[e]).forEach(e=>this._classes.delete(e))}_setStyle(e,t){this._fireChange("attributes",this),this._styles.set(e,t)}_removeStyle(e){this._fireChange("attributes",this),(e=Array.isArray(e)?e:[e]).forEach(e=>this._styles.remove(e))}_setCustomProperty(e,t){this._customProperties.set(e,t)}_removeCustomProperty(e){return this._customProperties.delete(e)}}function xn(e,t){const n=t.split(/\s+/);e.clear(),n.forEach(t=>e.add(t))}class On extends En{constructor(e,t,n,r){super(e,t,n,r),this.getFillerOffset=Tn}is(e,t=null){const n=e&&e.replace(/^view:/,"");return t?"containerElement"==n&&t==this.name||super.is(e,t):"containerElement"==n||super.is(e)}}function Tn(){const e=[...this.getChildren()],t=e[this.childCount-1];if(t&&t.is("element","br"))return this.childCount;for(const n of e)if(!n.is("uiElement"))return null;return this.childCount}var Mn=yn(function(e,t){te(t,Ee(t),e)});const An=Symbol("observableProperties"),jn=Symbol("boundObservables"),In=Symbol("boundProperties"),Nn={set(e,t){if(x(e))return void Object.keys(e).forEach(t=>{this.set(t,e[t])},this);Dn(this);const n=this[An];if(e in this&&!n.has(e))throw new _t.b("observable-set-cannot-override: Cannot override an existing property.",this);Object.defineProperty(this,e,{enumerable:!0,configurable:!0,get:()=>n.get(e),set(t){const r=n.get(e);let o=this.fire("set:"+e,e,t,r);void 0===o&&(o=t),r===o&&n.has(e)||(n.set(e,o),this.fire("change:"+e,e,o,r))}}),this[e]=t},bind(...e){if(!e.length||!Fn(e))throw new _t.b("observable-bind-wrong-properties: All properties must be strings.",this);if(new Set(e).size!==e.length)throw new _t.b("observable-bind-duplicate-properties: Properties must be unique.",this);Dn(this);const t=this[In];e.forEach(e=>{if(t.has(e))throw new _t.b("observable-bind-rebind: Cannot bind the same property more than once.",this)});const n=new Map;return e.forEach(e=>{const r={property:e,to:[]};t.set(e,r),n.set(e,r)}),{to:Ln,toMany:Bn,_observable:this,_bindProperties:e,_to:[],_bindings:n}},unbind(...e){if(!(An in this))return;const t=this[In],n=this[jn];if(e.length){if(!Fn(e))throw new _t.b("observable-unbind-wrong-properties: Properties must be strings.",this);e.forEach(e=>{const r=t.get(e);if(!r)return;let o,i,a,s;r.to.forEach(e=>{o=e[0],i=e[1],a=n.get(o),(s=a[i]).delete(r),s.size||delete a[i],Object.keys(a).length||(n.delete(o),this.stopListening(o,"change"))}),t.delete(e)})}else n.forEach((e,t)=>{this.stopListening(t,"change")}),n.clear(),t.clear()},decorate(e){const t=this[e];if(!t)throw new _t.b("observablemixin-cannot-decorate-undefined: Cannot decorate an undefined method.",this,{object:this,methodName:e});this.on(e,(e,n)=>{e.return=t.apply(this,n)}),this[e]=function(...t){return this.fire(e,t)}}};Mn(Nn,St);var Rn=Nn;function Dn(e){An in e||(Object.defineProperty(e,An,{value:new Map}),Object.defineProperty(e,jn,{value:new Map}),Object.defineProperty(e,In,{value:new Map}))}function Ln(...e){const t=function(...e){if(!e.length)throw new _t.b("observable-bind-to-parse-error: Invalid argument syntax in `to()`.",null);const t={to:[]};let n;return"function"==typeof e[e.length-1]&&(t.callback=e.pop()),e.forEach(e=>{if("string"==typeof e)n.properties.push(e);else{if("object"!=typeof e)throw new _t.b("observable-bind-to-parse-error: Invalid argument syntax in `to()`.",null);n={observable:e,properties:[]},t.to.push(n)}}),t}(...e),n=Array.from(this._bindings.keys()),r=n.length;if(!t.callback&&t.to.length>1)throw new _t.b("observable-bind-to-no-callback: Binding multiple observables only possible with callback.",this);if(r>1&&t.callback)throw new _t.b("observable-bind-to-extra-callback: Cannot bind multiple properties and use a callback in one binding.",this);var o;t.to.forEach(e=>{if(e.properties.length&&e.properties.length!==r)throw new _t.b("observable-bind-to-properties-length: The number of properties must match.",this);e.properties.length||(e.properties=this._bindProperties)}),this._to=t.to,t.callback&&(this._bindings.get(n[0]).callback=t.callback),o=this._observable,this._to.forEach(e=>{const t=o[jn];let n;t.get(e.observable)||o.listenTo(e.observable,"change",(r,i)=>{(n=t.get(e.observable)[i])&&n.forEach(e=>{Un(o,e.property)})})}),function(e){let t;e._bindings.forEach((n,r)=>{e._to.forEach(o=>{t=o.properties[n.callback?0:e._bindProperties.indexOf(r)],n.to.push([o.observable,t]),function(e,t,n,r){const o=e[jn],i=o.get(n),a=i||{};a[r]||(a[r]=new Set),a[r].add(t),i||o.set(n,a)}(e._observable,n,o.observable,t)})})}(this),this._bindProperties.forEach(e=>{Un(this._observable,e)})}function Bn(e,t,n){if(this._bindings.size>1)throw new _t.b("observable-bind-to-many-not-one-binding: Cannot bind multiple properties with toMany().",this);this.to(...function(e,t){const n=e.map(e=>[e,t]);return Array.prototype.concat.apply([],n)}(e,t),n)}function Fn(e){return e.every(e=>"string"==typeof e)}function Un(e,t){const n=e[In].get(t);let r;r=n.callback?n.callback.apply(e,n.to.map(e=>e[0][e[1]])):(r=n.to[0])[0][r[1]],e.hasOwnProperty(t)?e[t]=r:e.set(t,r)}class qn extends On{constructor(e,t,n,r){super(e,t,n,r),this.set("isReadOnly",!1),this.set("isFocused",!1),this.bind("isReadOnly").to(e),this.bind("isFocused").to(e,"isFocused",t=>t&&e.selection.editableElement==this),this.listenTo(e.selection,"change",()=>{this.isFocused=e.isFocused&&e.selection.editableElement==this})}is(e,t=null){const n=e&&e.replace(/^view:/,"");return t?"editableElement"==n&&t==this.name||super.is(e,t):"editableElement"==n||super.is(e)}destroy(){this.stopListening()}}At(qn,Rn);const zn=Symbol("rootName");class Hn extends qn{constructor(e,t){super(e,t),this.rootName="main"}is(e,t=null){const n=e.replace(/^view:/,"");return t?"rootElement"==n&&t==this.name||super.is(e,t):"rootElement"==n||super.is(e)}get rootName(){return this.getCustomProperty(zn)}set rootName(e){this._setCustomProperty(zn,e)}set _name(e){this.name=e}}class Vn{constructor(e={}){if(!e.boundaries&&!e.startPosition)throw new _t.b("view-tree-walker-no-start-position: Neither boundaries nor starting position have been defined.",null);if(e.direction&&"forward"!=e.direction&&"backward"!=e.direction)throw new _t.b("view-tree-walker-unknown-direction: Only `backward` and `forward` direction allowed.",e.startPosition,{direction:e.direction});this.boundaries=e.boundaries||null,e.startPosition?this.position=Wn._createAt(e.startPosition):this.position=Wn._createAt(e.boundaries["backward"==e.direction?"end":"start"]),this.direction=e.direction||"forward",this.singleCharacters=!!e.singleCharacters,this.shallow=!!e.shallow,this.ignoreElementEnd=!!e.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null}[Symbol.iterator](){return this}skip(e){let t,n,r;do{r=this.position,({done:t,value:n}=this.next())}while(!t&&e(n));t||(this.position=r)}next(){return"forward"==this.direction?this._next():this._previous()}_next(){let e=this.position.clone();const t=this.position,n=e.parent;if(null===n.parent&&e.offset===n.childCount)return{done:!0};if(n===this._boundaryEndParent&&e.offset==this.boundaries.end.offset)return{done:!0};let r;if(n instanceof qt){if(e.isAtEnd)return this.position=Wn._createAfter(n),this._next();r=n.data[e.offset]}else r=n.getChild(e.offset);if(r instanceof En)return this.shallow?e.offset++:e=new Wn(r,0),this.position=e,this._formatReturnValue("elementStart",r,t,e,1);if(r instanceof qt){if(this.singleCharacters)return e=new Wn(r,0),this.position=e,this._next();{let n,o=r.data.length;return r==this._boundaryEndParent?(o=this.boundaries.end.offset,n=new zt(r,0,o),e=Wn._createAfter(n)):(n=new zt(r,0,r.data.length),e.offset++),this.position=e,this._formatReturnValue("text",n,t,e,o)}}if("string"==typeof r){let r;r=this.singleCharacters?1:(n===this._boundaryEndParent?this.boundaries.end.offset:n.data.length)-e.offset;const o=new zt(n,e.offset,r);return e.offset+=r,this.position=e,this._formatReturnValue("text",o,t,e,r)}return e=Wn._createAfter(n),this.position=e,this.ignoreElementEnd?this._next():this._formatReturnValue("elementEnd",n,t,e)}_previous(){let e=this.position.clone();const t=this.position,n=e.parent;if(null===n.parent&&0===e.offset)return{done:!0};if(n==this._boundaryStartParent&&e.offset==this.boundaries.start.offset)return{done:!0};let r;if(n instanceof qt){if(e.isAtStart)return this.position=Wn._createBefore(n),this._previous();r=n.data[e.offset-1]}else r=n.getChild(e.offset-1);if(r instanceof En)return this.shallow?(e.offset--,this.position=e,this._formatReturnValue("elementStart",r,t,e,1)):(e=new Wn(r,r.childCount),this.position=e,this.ignoreElementEnd?this._previous():this._formatReturnValue("elementEnd",r,t,e));if(r instanceof qt){if(this.singleCharacters)return e=new Wn(r,r.data.length),this.position=e,this._previous();{let n,o=r.data.length;if(r==this._boundaryStartParent){const t=this.boundaries.start.offset;o=(n=new zt(r,t,r.data.length-t)).data.length,e=Wn._createBefore(n)}else n=new zt(r,0,r.data.length),e.offset--;return this.position=e,this._formatReturnValue("text",n,t,e,o)}}if("string"==typeof r){let r;if(this.singleCharacters)r=1;else{const t=n===this._boundaryStartParent?this.boundaries.start.offset:0;r=e.offset-t}e.offset-=r;const o=new zt(n,e.offset,r);return this.position=e,this._formatReturnValue("text",o,t,e,r)}return e=Wn._createBefore(n),this.position=e,this._formatReturnValue("elementStart",n,t,e,1)}_formatReturnValue(e,t,n,r,o){return t instanceof zt&&(t.offsetInText+t.data.length==t.textNode.data.length&&("forward"!=this.direction||this.boundaries&&this.boundaries.end.isEqual(this.position)?n=Wn._createAfter(t.textNode):(r=Wn._createAfter(t.textNode),this.position=r)),0===t.offsetInText&&("backward"!=this.direction||this.boundaries&&this.boundaries.start.isEqual(this.position)?n=Wn._createBefore(t.textNode):(r=Wn._createBefore(t.textNode),this.position=r))),{done:!1,value:{type:e,item:t,previousPosition:n,nextPosition:r,length:o}}}}class Wn{constructor(e,t){this.parent=e,this.offset=t}get nodeAfter(){return this.parent.is("text")?null:this.parent.getChild(this.offset)||null}get nodeBefore(){return this.parent.is("text")?null:this.parent.getChild(this.offset-1)||null}get isAtStart(){return 0===this.offset}get isAtEnd(){const e=this.parent.is("text")?this.parent.data.length:this.parent.childCount;return this.offset===e}get root(){return this.parent.root}get editableElement(){let e=this.parent;for(;!(e instanceof qn);){if(!e.parent)return null;e=e.parent}return e}getShiftedBy(e){const t=Wn._createAt(this),n=t.offset+e;return t.offset=n<0?0:n,t}getLastMatchingPosition(e,t={}){t.startPosition=this;const n=new Vn(t);return n.skip(e),n.position}getAncestors(){return this.parent.is("documentFragment")?[this.parent]:this.parent.getAncestors({includeSelf:!0})}getCommonAncestor(e){const t=this.getAncestors(),n=e.getAncestors();let r=0;for(;t[r]==n[r]&&t[r];)r++;return 0===r?null:t[r-1]}is(e){return"position"==e||"view:position"==e}isEqual(e){return this.parent==e.parent&&this.offset==e.offset}isBefore(e){return"before"==this.compareWith(e)}isAfter(e){return"after"==this.compareWith(e)}compareWith(e){if(this.root!==e.root)return"different";if(this.isEqual(e))return"same";const t=this.parent.is("node")?this.parent.getPath():[],n=e.parent.is("node")?e.parent.getPath():[];t.push(this.offset),n.push(e.offset);const r=Bt(t,n);switch(r){case"prefix":return"before";case"extension":return"after";default:return t[r]<n[r]?"before":"after"}}getWalker(e={}){return e.startPosition=this,new Vn(e)}clone(){return new Wn(this.parent,this.offset)}static _createAt(e,t){if(e instanceof Wn)return new this(e.parent,e.offset);{const n=e;if("end"==t)t=n.is("text")?n.data.length:n.childCount;else{if("before"==t)return this._createBefore(n);if("after"==t)return this._createAfter(n);if(0!==t&&!t)throw new _t.b("view-createPositionAt-offset-required: View#createPositionAt() requires the offset when the first parameter is a view item.",n)}return new Wn(n,t)}}static _createAfter(e){if(e.is("textProxy"))return new Wn(e.textNode,e.offsetInText+e.data.length);if(!e.parent)throw new _t.b("view-position-after-root: You can not make position after root.",e,{root:e});return new Wn(e.parent,e.index+1)}static _createBefore(e){if(e.is("textProxy"))return new Wn(e.textNode,e.offsetInText);if(!e.parent)throw new _t.b("view-position-before-root: You can not make position before root.",e,{root:e});return new Wn(e.parent,e.index)}}class Gn{constructor(e,t=null){this.start=e.clone(),this.end=t?t.clone():e.clone()}*[Symbol.iterator](){yield*new Vn({boundaries:this,ignoreElementEnd:!0})}get isCollapsed(){return this.start.isEqual(this.end)}get isFlat(){return this.start.parent===this.end.parent}get root(){return this.start.root}getEnlarged(){let e=this.start.getLastMatchingPosition(Yn,{direction:"backward"}),t=this.end.getLastMatchingPosition(Yn);return e.parent.is("text")&&e.isAtStart&&(e=Wn._createBefore(e.parent)),t.parent.is("text")&&t.isAtEnd&&(t=Wn._createAfter(t.parent)),new Gn(e,t)}getTrimmed(){let e=this.start.getLastMatchingPosition(Yn);if(e.isAfter(this.end)||e.isEqual(this.end))return new Gn(e,e);let t=this.end.getLastMatchingPosition(Yn,{direction:"backward"});const n=e.nodeAfter,r=t.nodeBefore;return n&&n.is("text")&&(e=new Wn(n,0)),r&&r.is("text")&&(t=new Wn(r,r.data.length)),new Gn(e,t)}isEqual(e){return this==e||this.start.isEqual(e.start)&&this.end.isEqual(e.end)}containsPosition(e){return e.isAfter(this.start)&&e.isBefore(this.end)}containsRange(e,t=!1){e.isCollapsed&&(t=!1);const n=this.containsPosition(e.start)||t&&this.start.isEqual(e.start),r=this.containsPosition(e.end)||t&&this.end.isEqual(e.end);return n&&r}getDifference(e){const t=[];return this.isIntersecting(e)?(this.containsPosition(e.start)&&t.push(new Gn(this.start,e.start)),this.containsPosition(e.end)&&t.push(new Gn(e.end,this.end))):t.push(this.clone()),t}getIntersection(e){if(this.isIntersecting(e)){let t=this.start,n=this.end;return this.containsPosition(e.start)&&(t=e.start),this.containsPosition(e.end)&&(n=e.end),new Gn(t,n)}return null}getWalker(e={}){return e.boundaries=this,new Vn(e)}getCommonAncestor(){return this.start.getCommonAncestor(this.end)}getContainedElement(){if(this.isCollapsed)return null;let e=this.start.nodeAfter,t=this.end.nodeBefore;return this.start.parent.is("text")&&this.start.isAtEnd&&this.start.parent.nextSibling&&(e=this.start.parent.nextSibling),this.end.parent.is("text")&&this.end.isAtStart&&this.end.parent.previousSibling&&(t=this.end.parent.previousSibling),e&&e.is("element")&&e===t?e:null}clone(){return new Gn(this.start,this.end)}*getItems(e={}){e.boundaries=this,e.ignoreElementEnd=!0;const t=new Vn(e);for(const n of t)yield n.item}*getPositions(e={}){e.boundaries=this;const t=new Vn(e);yield t.position;for(const n of t)yield n.nextPosition}is(e){return"range"==e||"view:range"==e}isIntersecting(e){return this.start.isBefore(e.end)&&this.end.isAfter(e.start)}static _createFromParentsAndOffsets(e,t,n,r){return new this(new Wn(e,t),new Wn(n,r))}static _createFromPositionAndShift(e,t){const n=e,r=e.getShiftedBy(t);return t>0?new this(n,r):new this(r,n)}static _createIn(e){return this._createFromParentsAndOffsets(e,0,e,e.childCount)}static _createOn(e){const t=e.is("textProxy")?e.offsetSize:1;return this._createFromPositionAndShift(Wn._createBefore(e),t)}}function Yn(e){return!(!e.item.is("attributeElement")&&!e.item.is("uiElement"))}function Kn(e){let t=0;for(const n of e)t++;return t}class $n{constructor(e=null,t,n){this._ranges=[],this._lastRangeBackward=!1,this._isFake=!1,this._fakeSelectionLabel="",this.setTo(e,t,n)}get isFake(){return this._isFake}get fakeSelectionLabel(){return this._fakeSelectionLabel}get anchor(){if(!this._ranges.length)return null;const e=this._ranges[this._ranges.length-1];return(this._lastRangeBackward?e.end:e.start).clone()}get focus(){if(!this._ranges.length)return null;const e=this._ranges[this._ranges.length-1];return(this._lastRangeBackward?e.start:e.end).clone()}get isCollapsed(){return 1===this.rangeCount&&this._ranges[0].isCollapsed}get rangeCount(){return this._ranges.length}get isBackward(){return!this.isCollapsed&&this._lastRangeBackward}get editableElement(){return this.anchor?this.anchor.editableElement:null}*getRanges(){for(const e of this._ranges)yield e.clone()}getFirstRange(){let e=null;for(const t of this._ranges)e&&!t.start.isBefore(e.start)||(e=t);return e?e.clone():null}getLastRange(){let e=null;for(const t of this._ranges)e&&!t.end.isAfter(e.end)||(e=t);return e?e.clone():null}getFirstPosition(){const e=this.getFirstRange();return e?e.start.clone():null}getLastPosition(){const e=this.getLastRange();return e?e.end.clone():null}isEqual(e){if(this.isFake!=e.isFake)return!1;if(this.isFake&&this.fakeSelectionLabel!=e.fakeSelectionLabel)return!1;if(this.rangeCount!=e.rangeCount)return!1;if(0===this.rangeCount)return!0;if(!this.anchor.isEqual(e.anchor)||!this.focus.isEqual(e.focus))return!1;for(const t of this._ranges){let n=!1;for(const r of e._ranges)if(t.isEqual(r)){n=!0;break}if(!n)return!1}return!0}isSimilar(e){if(this.isBackward!=e.isBackward)return!1;const t=Kn(this.getRanges());if(t!=Kn(e.getRanges()))return!1;if(0==t)return!0;for(let n of this.getRanges()){n=n.getTrimmed();let t=!1;for(let r of e.getRanges())if(r=r.getTrimmed(),n.start.isEqual(r.start)&&n.end.isEqual(r.end)){t=!0;break}if(!t)return!1}return!0}getSelectedElement(){return 1!==this.rangeCount?null:this.getFirstRange().getContainedElement()}setTo(e,t,n){if(null===e)this._setRanges([]),this._setFakeOptions(t);else if(e instanceof $n||e instanceof Qn)this._setRanges(e.getRanges(),e.isBackward),this._setFakeOptions({fake:e.isFake,label:e.fakeSelectionLabel});else if(e instanceof Gn)this._setRanges([e],t&&t.backward),this._setFakeOptions(t);else if(e instanceof Wn)this._setRanges([new Gn(e)]),this._setFakeOptions(t);else if(e instanceof Ut){const r=!!n&&!!n.backward;let o;if(void 0===t)throw new _t.b("view-selection-setTo-required-second-parameter: selection.setTo requires the second parameter when the first parameter is a node.",this);o="in"==t?Gn._createIn(e):"on"==t?Gn._createOn(e):new Gn(Wn._createAt(e,t)),this._setRanges([o],r),this._setFakeOptions(n)}else{if(!Ht(e))throw new _t.b("view-selection-setTo-not-selectable: Cannot set selection to given place.",this);this._setRanges(e,t&&t.backward),this._setFakeOptions(t)}this.fire("change")}setFocus(e,t){if(null===this.anchor)throw new _t.b("view-selection-setFocus-no-ranges: Cannot set selection focus if there are no ranges in selection.",this);const n=Wn._createAt(e,t);if("same"==n.compareWith(this.focus))return;const r=this.anchor;this._ranges.pop(),"before"==n.compareWith(r)?this._addRange(new Gn(n,r),!0):this._addRange(new Gn(r,n)),this.fire("change")}is(e){return"selection"==e||"view:selection"==e}_setRanges(e,t=!1){e=Array.from(e),this._ranges=[];for(const n of e)this._addRange(n);this._lastRangeBackward=!!t}_setFakeOptions(e={}){this._isFake=!!e.fake,this._fakeSelectionLabel=e.fake&&e.label||""}_addRange(e,t=!1){if(!(e instanceof Gn))throw new _t.b("view-selection-add-range-not-range: Selection range set to an object that is not an instance of view.Range",this);this._pushRange(e),this._lastRangeBackward=!!t}_pushRange(e){for(const t of this._ranges)if(e.isIntersecting(t))throw new _t.b("view-selection-range-intersects: Trying to add a range that intersects with another range from selection.",this,{addedRange:e,intersectingRange:t});this._ranges.push(new Gn(e.start,e.end))}}At($n,St);class Qn{constructor(e=null,t,n){this._selection=new $n,this._selection.delegate("change").to(this),this._selection.setTo(e,t,n)}get isFake(){return this._selection.isFake}get fakeSelectionLabel(){return this._selection.fakeSelectionLabel}get anchor(){return this._selection.anchor}get focus(){return this._selection.focus}get isCollapsed(){return this._selection.isCollapsed}get rangeCount(){return this._selection.rangeCount}get isBackward(){return this._selection.isBackward}get editableElement(){return this._selection.editableElement}get _ranges(){return this._selection._ranges}*getRanges(){yield*this._selection.getRanges()}getFirstRange(){return this._selection.getFirstRange()}getLastRange(){return this._selection.getLastRange()}getFirstPosition(){return this._selection.getFirstPosition()}getLastPosition(){return this._selection.getLastPosition()}getSelectedElement(){return this._selection.getSelectedElement()}isEqual(e){return this._selection.isEqual(e)}isSimilar(e){return this._selection.isSimilar(e)}is(e){return"selection"==e||"documentSelection"==e||"view:selection"==e||"view:documentSelection"==e}_setTo(e,t,n){this._selection.setTo(e,t,n)}_setFocus(e,t){this._selection.setFocus(e,t)}}At(Qn,St);class Jn{constructor(e){this.selection=new Qn,this.roots=new jt({idProperty:"rootName"}),this.stylesProcessor=e,this.set("isReadOnly",!1),this.set("isFocused",!1),this.set("isComposing",!1),this._postFixers=new Set}getRoot(e="main"){return this.roots.get(e)}registerPostFixer(e){this._postFixers.add(e)}destroy(){this.roots.map(e=>e.destroy()),this.stopListening()}_callPostFixers(e){let t=!1;do{for(const n of this._postFixers)if(t=n(e))break}while(t)}}At(Jn,Rn);class Xn extends En{constructor(e,t,n,r){super(e,t,n,r),this.getFillerOffset=Zn,this._priority=10,this._id=null,this._clonesGroup=null}get priority(){return this._priority}get id(){return this._id}getElementsWithSameId(){if(null===this.id)throw new _t.b("attribute-element-get-elements-with-same-id-no-id: Cannot get elements with the same id for an attribute element without id.",this);return new Set(this._clonesGroup)}is(e,t=null){const n=e&&e.replace(/^view:/,"");return t?"attributeElement"==n&&t==this.name||super.is(e,t):"attributeElement"==n||super.is(e)}isSimilar(e){return null!==this.id||null!==e.id?this.id===e.id:super.isSimilar(e)&&this.priority==e.priority}_clone(e){const t=super._clone(e);return t._priority=this._priority,t._id=this._id,t}}function Zn(){if(er(this))return null;let e=this.parent;for(;e&&e.is("attributeElement");){if(er(e)>1)return null;e=e.parent}return!e||er(e)>1?null:this.childCount}function er(e){return Array.from(e.getChildren()).filter(e=>!e.is("uiElement")).length}Xn.DEFAULT_PRIORITY=10;class tr extends En{constructor(e,t,n,r){super(e,t,n,r),this.getFillerOffset=nr}is(e,t=null){const n=e.replace(/^view:/,"");return t?"emptyElement"==n&&t==this.name||super.is(e,t):"emptyElement"==n||super.is(e)}_insertChild(e,t){if(t&&(t instanceof Ut||Array.from(t).length>0))throw new _t.b("view-emptyelement-cannot-add: Cannot add child nodes to EmptyElement instance.",[this,t])}}function nr(){return null}const rr=navigator.userAgent.toLowerCase();var or={isMac:rr.indexOf("macintosh")>-1,isEdge:!!rr.match(/edge\/(\d+.?\d*)/),isGecko:!!rr.match(/gecko\/\d+/),isSafari:function(e){return e.indexOf(" applewebkit/")>-1&&-1===e.indexOf("chrome")}(rr),isAndroid:rr.indexOf("android")>-1,features:{isRegExpUnicodePropertySupported:function(){let e=!1;try{e=0==="\u0107".search(new RegExp("[\\p{L}]","u"))}catch(e){}return e}()}};const ir={"\u2318":"ctrl","\u21e7":"shift","\u2325":"alt"},ar={ctrl:"\u2318",shift:"\u21e7",alt:"\u2325"},sr=function(){const e={arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,backspace:8,delete:46,enter:13,space:32,esc:27,tab:9,ctrl:1114112,cmd:1114112,shift:2228224,alt:4456448};for(let t=65;t<=90;t++)e[String.fromCharCode(t).toLowerCase()]=t;for(let t=48;t<=57;t++)e[t-48]=t;for(let t=112;t<=123;t++)e["f"+(t-111)]=t;return e}();function lr(e){let t;if("string"==typeof e){if(!(t=sr[e.toLowerCase()]))throw new _t.b("keyboard-unknown-key: Unknown key name.",null,{key:e})}else t=e.keyCode+(e.altKey?sr.alt:0)+(e.ctrlKey?sr.ctrl:0)+(e.shiftKey?sr.shift:0);return t}function cr(e){return"string"==typeof e&&(e=dr(e)),e.map(e=>"string"==typeof e?lr(e):e).reduce((e,t)=>t+e,0)}function ur(e){return or.isMac?dr(e).map(e=>ar[e.toLowerCase()]||e).reduce((e,t)=>e.slice(-1)in ir?e+t:e+"+"+t):e}function dr(e){return e.split(/\s*\+\s*/)}class pr extends En{constructor(e,t,n,r){super(e,t,n,r),this.getFillerOffset=fr}is(e,t=null){const n=e.replace(/^view:/,"");return t?"uiElement"==n&&t==this.name||super.is(e,t):"uiElement"==n||super.is(e)}_insertChild(e,t){if(t&&(t instanceof Ut||Array.from(t).length>0))throw new _t.b("view-uielement-cannot-add: Cannot add child nodes to UIElement instance.",this)}render(e){return this.toDomElement(e)}toDomElement(e){const t=e.createElement(this.name);for(const n of this.getAttributeKeys())t.setAttribute(n,this.getAttribute(n));return t}}function fr(){return null}class hr{constructor(e,t){this.document=e,this._children=[],t&&this._insertChild(0,t)}[Symbol.iterator](){return this._children[Symbol.iterator]()}get childCount(){return this._children.length}get isEmpty(){return 0===this.childCount}get root(){return this}get parent(){return null}is(e){return"documentFragment"==e||"view:documentFragment"==e}_appendChild(e){return this._insertChild(this.childCount,e)}getChild(e){return this._children[e]}getChildIndex(e){return this._children.indexOf(e)}getChildren(){return this._children[Symbol.iterator]()}_insertChild(e,t){this._fireChange("children",this);let n=0;const r=function(e,t){return"string"==typeof t?[new qt(e,t)]:(Ht(t)||(t=[t]),Array.from(t).map(t=>"string"==typeof t?new qt(e,t):t instanceof zt?new qt(e,t.data):t))}(this.document,t);for(const o of r)null!==o.parent&&o._remove(),o.parent=this,this._children.splice(e,0,o),e++,n++;return n}_removeChildren(e,t=1){this._fireChange("children",this);for(let n=e;n<e+t;n++)this._children[n].parent=null;return this._children.splice(e,t)}_fireChange(e,t){this.fire("change:"+e,t)}}At(hr,St);class mr{constructor(e){this.document=e,this._cloneGroups=new Map}setSelection(e,t,n){this.document.selection._setTo(e,t,n)}setSelectionFocus(e,t){this.document.selection._setFocus(e,t)}createText(e){return new qt(this.document,e)}createAttributeElement(e,t,n={}){const r=new Xn(this.document,e,t);return n.priority&&(r._priority=n.priority),n.id&&(r._id=n.id),r}createContainerElement(e,t){return new On(this.document,e,t)}createEditableElement(e,t){const n=new qn(this.document,e,t);return n._document=this.document,n}createEmptyElement(e,t){return new tr(this.document,e,t)}createUIElement(e,t,n){const r=new pr(this.document,e,t);return n&&(r.render=n),r}setAttribute(e,t,n){n._setAttribute(e,t)}removeAttribute(e,t){t._removeAttribute(e)}addClass(e,t){t._addClass(e)}removeClass(e,t){t._removeClass(e)}setStyle(e,t,n){k(e)&&void 0===n&&(n=t),n._setStyle(e,t)}removeStyle(e,t){t._removeStyle(e)}setCustomProperty(e,t,n){n._setCustomProperty(e,t)}removeCustomProperty(e,t){return t._removeCustomProperty(e)}breakAttributes(e){return e instanceof Wn?this._breakAttributes(e):this._breakAttributesRange(e)}breakContainer(e){const t=e.parent;if(!t.is("containerElement"))throw new _t.b("view-writer-break-non-container-element: Trying to break an element which is not a container element.",this.document);if(!t.parent)throw new _t.b("view-writer-break-root: Trying to break root element.",this.document);if(e.isAtStart)return Wn._createBefore(t);if(!e.isAtEnd){const n=t._clone(!1);this.insert(Wn._createAfter(t),n);const r=new Gn(e,Wn._createAt(t,"end")),o=new Wn(n,0);this.move(r,o)}return Wn._createAfter(t)}mergeAttributes(e){const t=e.offset,n=e.parent;if(n.is("text"))return e;if(n.is("attributeElement")&&0===n.childCount){const e=n.parent,t=n.index;return n._remove(),this._removeFromClonedElementsGroup(n),this.mergeAttributes(new Wn(e,t))}const r=n.getChild(t-1),o=n.getChild(t);if(!r||!o)return e;if(r.is("text")&&o.is("text"))return kr(r,o);if(r.is("attributeElement")&&o.is("attributeElement")&&r.isSimilar(o)){const e=r.childCount;return r._appendChild(o.getChildren()),o._remove(),this._removeFromClonedElementsGroup(o),this.mergeAttributes(new Wn(r,e))}return e}mergeContainers(e){const t=e.nodeBefore,n=e.nodeAfter;if(!(t&&n&&t.is("containerElement")&&n.is("containerElement")))throw new _t.b("view-writer-merge-containers-invalid-position: Element before and after given position cannot be merged.",this.document);const r=t.getChild(t.childCount-1),o=r instanceof qt?Wn._createAt(r,"end"):Wn._createAt(t,"end");return this.move(Gn._createIn(n),Wn._createAt(t,"end")),this.remove(Gn._createOn(n)),o}insert(e,t){!function e(t,n){for(const r of t){if(!_r.some(e=>r instanceof e))throw new _t.b("view-writer-insert-invalid-node",n);r.is("text")||e(r.getChildren(),n)}}(t=Ht(t)?[...t]:[t],this.document);const n=gr(e);if(!n)throw new _t.b("view-writer-invalid-position-container",this.document);const r=this._breakAttributes(e,!0),o=n._insertChild(r.offset,t);for(const s of t)this._addToClonedElementsGroup(s);const i=r.getShiftedBy(o),a=this.mergeAttributes(r);if(0===o)return new Gn(a,a);{a.isEqual(r)||i.offset--;const e=this.mergeAttributes(i);return new Gn(a,e)}}remove(e){const t=e instanceof Gn?e:Gn._createOn(e);if(Cr(t,this.document),t.isCollapsed)return new hr(this.document);const{start:n,end:r}=this._breakAttributesRange(t,!0),o=n.parent,i=r.offset-n.offset,a=o._removeChildren(n.offset,i);for(const l of a)this._removeFromClonedElementsGroup(l);const s=this.mergeAttributes(n);return t.start=s,t.end=s.clone(),new hr(this.document,a)}clear(e,t){Cr(e,this.document);const n=e.getWalker({direction:"backward",ignoreElementEnd:!0});for(const r of n){const n=r.item;let o;if(n.is("element")&&t.isSimilar(n))o=Gn._createOn(n);else if(!r.nextPosition.isAfter(e.start)&&n.is("textProxy")){const e=n.getAncestors().find(e=>e.is("element")&&t.isSimilar(e));e&&(o=Gn._createIn(e))}o&&(o.end.isAfter(e.end)&&(o.end=e.end),o.start.isBefore(e.start)&&(o.start=e.start),this.remove(o))}}move(e,t){let n;if(t.isAfter(e.end)){const r=(t=this._breakAttributes(t,!0)).parent,o=r.childCount;e=this._breakAttributesRange(e,!0),n=this.remove(e),t.offset+=r.childCount-o}else n=this.remove(e);return this.insert(t,n)}wrap(e,t){if(!(t instanceof Xn))throw new _t.b("view-writer-wrap-invalid-attribute",this.document);if(Cr(e,this.document),e.isCollapsed){let r=e.start;r.parent.is("element")&&(n=r.parent,!Array.from(n.getChildren()).some(e=>!e.is("uiElement")))&&(r=r.getLastMatchingPosition(e=>e.item.is("uiElement"))),r=this._wrapPosition(r,t);const o=this.document.selection;return o.isCollapsed&&o.getFirstPosition().isEqual(e.start)&&this.setSelection(r),new Gn(r)}return this._wrapRange(e,t);var n}unwrap(e,t){if(!(t instanceof Xn))throw new _t.b("view-writer-unwrap-invalid-attribute",this.document);if(Cr(e,this.document),e.isCollapsed)return e;const{start:n,end:r}=this._breakAttributesRange(e,!0),o=n.parent,i=this._unwrapChildren(o,n.offset,r.offset,t),a=this.mergeAttributes(i.start);a.isEqual(i.start)||i.end.offset--;const s=this.mergeAttributes(i.end);return new Gn(a,s)}rename(e,t){const n=new On(this.document,e,t.getAttributes());return this.insert(Wn._createAfter(t),n),this.move(Gn._createIn(t),Wn._createAt(n,0)),this.remove(Gn._createOn(t)),n}clearClonedElementsGroup(e){this._cloneGroups.delete(e)}createPositionAt(e,t){return Wn._createAt(e,t)}createPositionAfter(e){return Wn._createAfter(e)}createPositionBefore(e){return Wn._createBefore(e)}createRange(e,t){return new Gn(e,t)}createRangeOn(e){return Gn._createOn(e)}createRangeIn(e){return Gn._createIn(e)}createSelection(e,t,n){return new $n(e,t,n)}_wrapChildren(e,t,n,r){let o=t;const i=[];for(;o<n;){const t=e.getChild(o),n=t.is("text"),a=t.is("attributeElement"),s=t.is("emptyElement"),l=t.is("uiElement");if(a&&this._wrapAttributeElement(r,t))i.push(new Wn(e,o));else if(n||s||l||a&&br(r,t)){const n=r._clone();t._remove(),n._appendChild(t),e._insertChild(o,n),this._addToClonedElementsGroup(n),i.push(new Wn(e,o))}else a&&this._wrapChildren(t,0,t.childCount,r);o++}let a=0;for(const s of i)s.offset-=a,s.offset!=t&&(this.mergeAttributes(s).isEqual(s)||(a++,n--));return Gn._createFromParentsAndOffsets(e,t,e,n)}_unwrapChildren(e,t,n,r){let o=t;const i=[];for(;o<n;){const t=e.getChild(o);if(t.is("attributeElement"))if(t.isSimilar(r)){const r=t.getChildren(),a=t.childCount;t._remove(),e._insertChild(o,r),this._removeFromClonedElementsGroup(t),i.push(new Wn(e,o),new Wn(e,o+a)),o+=a,n+=a-1}else this._unwrapAttributeElement(r,t)?(i.push(new Wn(e,o),new Wn(e,o+1)),o++):(this._unwrapChildren(t,0,t.childCount,r),o++);else o++}let a=0;for(const s of i)s.offset-=a,s.offset!=t&&s.offset!=n&&(this.mergeAttributes(s).isEqual(s)||(a++,n--));return Gn._createFromParentsAndOffsets(e,t,e,n)}_wrapRange(e,t){const{start:n,end:r}=this._breakAttributesRange(e,!0),o=n.parent,i=this._wrapChildren(o,n.offset,r.offset,t),a=this.mergeAttributes(i.start);a.isEqual(i.start)||i.end.offset--;const s=this.mergeAttributes(i.end);return new Gn(a,s)}_wrapPosition(e,t){if(t.isSimilar(e.parent))return vr(e.clone());e.parent.is("text")&&(e=yr(e));const n=this.createAttributeElement();n._priority=Number.POSITIVE_INFINITY,n.isSimilar=(()=>!1),e.parent._insertChild(e.offset,n);const r=new Gn(e,e.getShiftedBy(1));this.wrap(r,t);const o=new Wn(n.parent,n.index);n._remove();const i=o.nodeBefore,a=o.nodeAfter;return i instanceof qt&&a instanceof qt?kr(i,a):vr(o)}_wrapAttributeElement(e,t){if(!Sr(e,t))return!1;if(e.name!==t.name||e.priority!==t.priority)return!1;for(const n of e.getAttributeKeys())if("class"!==n&&"style"!==n&&t.hasAttribute(n)&&t.getAttribute(n)!==e.getAttribute(n))return!1;for(const n of e.getStyleNames())if(t.hasStyle(n)&&t.getStyle(n)!==e.getStyle(n))return!1;for(const n of e.getAttributeKeys())"class"!==n&&"style"!==n&&(t.hasAttribute(n)||this.setAttribute(n,e.getAttribute(n),t));for(const n of e.getStyleNames())t.hasStyle(n)||this.setStyle(n,e.getStyle(n),t);for(const n of e.getClassNames())t.hasClass(n)||this.addClass(n,t);return!0}_unwrapAttributeElement(e,t){if(!Sr(e,t))return!1;if(e.name!==t.name||e.priority!==t.priority)return!1;for(const n of e.getAttributeKeys())if("class"!==n&&"style"!==n&&(!t.hasAttribute(n)||t.getAttribute(n)!==e.getAttribute(n)))return!1;if(!t.hasClass(...e.getClassNames()))return!1;for(const n of e.getStyleNames())if(!t.hasStyle(n)||t.getStyle(n)!==e.getStyle(n))return!1;for(const n of e.getAttributeKeys())"class"!==n&&"style"!==n&&this.removeAttribute(n,t);return this.removeClass(Array.from(e.getClassNames()),t),this.removeStyle(Array.from(e.getStyleNames()),t),!0}_breakAttributesRange(e,t=!1){const n=e.start,r=e.end;if(Cr(e,this.document),e.isCollapsed){const n=this._breakAttributes(e.start,t);return new Gn(n,n)}const o=this._breakAttributes(r,t),i=o.parent.childCount,a=this._breakAttributes(n,t);return o.offset+=o.parent.childCount-i,new Gn(a,o)}_breakAttributes(e,t=!1){const n=e.offset,r=e.parent;if(e.parent.is("emptyElement"))throw new _t.b("view-writer-cannot-break-empty-element",this.document);if(e.parent.is("uiElement"))throw new _t.b("view-writer-cannot-break-ui-element",this.document);if(!t&&r.is("text")&&wr(r.parent))return e.clone();if(wr(r))return e.clone();if(r.is("text"))return this._breakAttributes(yr(e),t);if(n==r.childCount){const e=new Wn(r.parent,r.index+1);return this._breakAttributes(e,t)}if(0===n){const e=new Wn(r.parent,r.index);return this._breakAttributes(e,t)}{const e=r.index+1,o=r._clone();r.parent._insertChild(e,o),this._addToClonedElementsGroup(o);const i=r.childCount-n,a=r._removeChildren(n,i);o._appendChild(a);const s=new Wn(r.parent,e);return this._breakAttributes(s,t)}}_addToClonedElementsGroup(e){if(!e.root.is("rootElement"))return;if(e.is("element"))for(const r of e.getChildren())this._addToClonedElementsGroup(r);const t=e.id;if(!t)return;let n=this._cloneGroups.get(t);n||(n=new Set,this._cloneGroups.set(t,n)),n.add(e),e._clonesGroup=n}_removeFromClonedElementsGroup(e){if(e.is("element"))for(const r of e.getChildren())this._removeFromClonedElementsGroup(r);const t=e.id;if(!t)return;const n=this._cloneGroups.get(t);n&&n.delete(e)}}function gr(e){let t=e.parent;for(;!wr(t);){if(!t)return;t=t.parent}return t}function br(e,t){return e.priority<t.priority||!(e.priority>t.priority)&&e.getIdentity()<t.getIdentity()}function vr(e){const t=e.nodeBefore;if(t&&t.is("text"))return new Wn(t,t.data.length);const n=e.nodeAfter;return n&&n.is("text")?new Wn(n,0):e}function yr(e){if(e.offset==e.parent.data.length)return new Wn(e.parent.parent,e.parent.index+1);if(0===e.offset)return new Wn(e.parent.parent,e.parent.index);const t=e.parent.data.slice(e.offset);return e.parent._data=e.parent.data.slice(0,e.offset),e.parent.parent._insertChild(e.parent.index+1,new qt(e.root.document,t)),new Wn(e.parent.parent,e.parent.index+1)}function kr(e,t){const n=e.data.length;return e._data+=t.data,t._remove(),new Wn(e,n)}const _r=[qt,Xn,On,tr,pr];function wr(e){return e&&(e.is("containerElement")||e.is("documentFragment"))}function Cr(e,t){const n=gr(e.start),r=gr(e.end);if(!n||!r||n!==r)throw new _t.b("view-writer-invalid-range-container",t)}function Sr(e,t){return null===e.id&&null===t.id}function Pr(e){return"[object Text]"==Object.prototype.toString.call(e)}const Er=e=>e.createTextNode("\xa0"),xr=e=>{const t=e.createElement("br");return t.dataset.ckeFiller=!0,t},Or=(()=>{let e="";for(let t=0;t<7;t++)e+="\u200b";return e})();function Tr(e){return Pr(e)&&e.data.substr(0,7)===Or}function Mr(e){return 7==e.data.length&&Tr(e)}function Ar(e){return Tr(e)?e.data.slice(7):e.data}function jr(e,t){if(t.keyCode==sr.arrowleft){const e=t.domTarget.ownerDocument.defaultView.getSelection();if(1==e.rangeCount&&e.getRangeAt(0).collapsed){const t=e.getRangeAt(0).startContainer,n=e.getRangeAt(0).startOffset;Tr(t)&&n<=7&&e.collapse(t,0)}}}function Ir(e,t,n,r=!1){n=n||function(e,t){return e===t},Array.isArray(e)||(e=Array.from(e)),Array.isArray(t)||(t=Array.from(t));const o=function(e,t,n){const r=Nr(e,t,n);if(-1===r)return{firstIndex:-1,lastIndexOld:-1,lastIndexNew:-1};const o=Nr(Rr(e,r),Rr(t,r),n);return{firstIndex:r,lastIndexOld:e.length-o,lastIndexNew:t.length-o}}(e,t,n);return r?function(e,t){const{firstIndex:n,lastIndexOld:r,lastIndexNew:o}=e;if(-1===n)return Array(t).fill("equal");let i=[];return n>0&&(i=i.concat(Array(n).fill("equal"))),o-n>0&&(i=i.concat(Array(o-n).fill("insert"))),r-n>0&&(i=i.concat(Array(r-n).fill("delete"))),o<t&&(i=i.concat(Array(t-o).fill("equal"))),i}(o,t.length):function(e,t){const n=[],{firstIndex:r,lastIndexOld:o,lastIndexNew:i}=t;return i-r>0&&n.push({index:r,type:"insert",values:e.slice(r,i)}),o-r>0&&n.push({index:r+(i-r),type:"delete",howMany:o-r}),n}(t,o)}function Nr(e,t,n){for(let r=0;r<Math.max(e.length,t.length);r++)if(void 0===e[r]||void 0===t[r]||!n(e[r],t[r]))return r;return-1}function Rr(e,t){return e.slice(t).reverse()}function Dr(e,t,n){n=n||function(e,t){return e===t};const r=e.length,o=t.length;if(r>200||o>200||r+o>300)return Dr.fastDiff(e,t,n,!0);let i,a;if(o<r){const n=e;e=t,t=n,i="delete",a="insert"}else i="insert",a="delete";const s=e.length,l=t.length,c=l-s,u={},d={};function p(r){const o=(void 0!==d[r-1]?d[r-1]:-1)+1,c=void 0!==d[r+1]?d[r+1]:-1,p=o>c?-1:1;u[r+p]&&(u[r]=u[r+p].slice(0)),u[r]||(u[r]=[]),u[r].push(o>c?i:a);let f=Math.max(o,c),h=f-r;for(;h<s&&f<l&&n(e[h],t[f]);)h++,f++,u[r].push("equal");return f}let f,h=0;do{for(f=-h;f<c;f++)d[f]=p(f);for(f=c+h;f>c;f--)d[f]=p(f);d[c]=p(c),h++}while(d[c]!==l);return u[c].slice(1)}function Lr(e,t,n){e.insertBefore(n,e.childNodes[t]||null)}function Br(e){const t=e.parentNode;t&&t.removeChild(e)}function Fr(e){if(e){if(e.defaultView)return e instanceof e.defaultView.Document;if(e.ownerDocument&&e.ownerDocument.defaultView)return e instanceof e.ownerDocument.defaultView.Node}return!1}Dr.fastDiff=Ir;class Ur{constructor(e,t){this.domDocuments=new Set,this.domConverter=e,this.markedAttributes=new Set,this.markedChildren=new Set,this.markedTexts=new Set,this.selection=t,this.isFocused=!1,this._inlineFiller=null,this._fakeSelectionContainer=null}markToSync(e,t){if("text"===e)this.domConverter.mapViewToDom(t.parent)&&this.markedTexts.add(t);else{if(!this.domConverter.mapViewToDom(t))return;if("attributes"===e)this.markedAttributes.add(t);else{if("children"!==e)throw new _t.b("view-renderer-unknown-type: Unknown type passed to Renderer.markToSync.",this);this.markedChildren.add(t)}}}render(){let e;for(const t of this.markedChildren)this._updateChildrenMappings(t);this._inlineFiller&&!this._isSelectionInInlineFiller()&&this._removeInlineFiller(),this._inlineFiller?e=this._getInlineFillerPosition():this._needsInlineFillerAtSelection()&&(e=this.selection.getFirstPosition(),this.markedChildren.add(e.parent));for(const t of this.markedAttributes)this._updateAttrs(t);for(const t of this.markedChildren)this._updateChildren(t,{inlineFillerPosition:e});for(const t of this.markedTexts)!this.markedChildren.has(t.parent)&&this.domConverter.mapViewToDom(t.parent)&&this._updateText(t,{inlineFillerPosition:e});if(e){const t=this.domConverter.viewPositionToDom(e),n=t.parent.ownerDocument;Tr(t.parent)?this._inlineFiller=t.parent:this._inlineFiller=qr(n,t.parent,t.offset)}else this._inlineFiller=null;this._updateSelection(),this._updateFocus(),this.markedTexts.clear(),this.markedAttributes.clear(),this.markedChildren.clear()}_updateChildrenMappings(e){const t=this.domConverter.mapViewToDom(e);if(!t)return;const n=this.domConverter.mapViewToDom(e).childNodes,r=Array.from(this.domConverter.viewChildrenToDom(e,t.ownerDocument,{withChildren:!1})),o=this._diffNodeLists(n,r),i=this._findReplaceActions(o,n,r);if(-1!==i.indexOf("replace")){const t={equal:0,insert:0,delete:0};for(const o of i)if("replace"===o){const o=t.equal+t.insert,i=t.equal+t.delete,a=e.getChild(o);a&&!a.is("uiElement")&&this._updateElementMappings(a,n[i]),Br(r[o]),t.equal++}else t[o]++}}_updateElementMappings(e,t){this.domConverter.unbindDomElement(t),this.domConverter.bindElements(t,e),this.markedChildren.add(e),this.markedAttributes.add(e)}_getInlineFillerPosition(){const e=this.selection.getFirstPosition();return e.parent.is("text")?Wn._createBefore(this.selection.getFirstPosition().parent):e}_isSelectionInInlineFiller(){if(1!=this.selection.rangeCount||!this.selection.isCollapsed)return!1;const e=this.selection.getFirstPosition(),t=this.domConverter.viewPositionToDom(e);return!!(t&&Pr(t.parent)&&Tr(t.parent))}_removeInlineFiller(){const e=this._inlineFiller;if(!Tr(e))throw new _t.b("view-renderer-filler-was-lost: The inline filler node was lost.",this);Mr(e)?e.parentNode.removeChild(e):e.data=e.data.substr(7),this._inlineFiller=null}_needsInlineFillerAtSelection(){if(1!=this.selection.rangeCount||!this.selection.isCollapsed)return!1;const e=this.selection.getFirstPosition(),t=e.parent,n=e.offset;if(!this.domConverter.mapViewToDom(t.root))return!1;if(!t.is("element"))return!1;if(!function(e){if("false"==e.getAttribute("contenteditable"))return!1;const t=e.findAncestor(e=>e.hasAttribute("contenteditable"));return!t||"true"==t.getAttribute("contenteditable")}(t))return!1;if(n===t.getFillerOffset())return!1;const r=e.nodeBefore,o=e.nodeAfter;return!(r instanceof qt||o instanceof qt)}_updateText(e,t){const n=this.domConverter.findCorrespondingDomText(e),r=this.domConverter.viewToDom(e,n.ownerDocument),o=n.data;let i=r.data;const a=t.inlineFillerPosition;if(a&&a.parent==e.parent&&a.offset==e.index&&(i=Or+i),o!=i){const e=Ir(o,i);for(const t of e)"insert"===t.type?n.insertData(t.index,t.values.join("")):n.deleteData(t.index,t.howMany)}}_updateAttrs(e){const t=this.domConverter.mapViewToDom(e);if(!t)return;const n=Array.from(t.attributes).map(e=>e.name),r=e.getAttributeKeys();for(const o of r)t.setAttribute(o,e.getAttribute(o));for(const o of n)e.hasAttribute(o)||t.removeAttribute(o)}_updateChildren(e,t){const n=this.domConverter.mapViewToDom(e);if(!n)return;const r=t.inlineFillerPosition,o=this.domConverter.mapViewToDom(e).childNodes,i=Array.from(this.domConverter.viewChildrenToDom(e,n.ownerDocument,{bind:!0,inlineFillerPosition:r}));r&&r.parent===e&&qr(n.ownerDocument,i,r.offset);const a=this._diffNodeLists(o,i);let s=0;const l=new Set;for(const c of a)"delete"===c?(l.add(o[s]),Br(o[s])):"equal"===c&&s++;s=0;for(const c of a)"insert"===c?(Lr(n,s,i[s]),s++):"equal"===c&&(this._markDescendantTextToSync(this.domConverter.domToView(i[s])),s++);for(const c of l)c.parentNode||this.domConverter.unbindDomElement(c)}_diffNodeLists(e,t){return Dr(e=function(e,t){const n=Array.from(e);return 0!=n.length&&t?(n[n.length-1]==t&&n.pop(),n):n}(e,this._fakeSelectionContainer),t,function(e,t,n){return t===n||(Pr(t)&&Pr(n)?t.data===n.data:!(!e.isBlockFiller(t)||!e.isBlockFiller(n)))}.bind(null,this.domConverter))}_findReplaceActions(e,t,n){if(-1===e.indexOf("insert")||-1===e.indexOf("delete"))return e;let r=[],o=[],i=[];const a={equal:0,insert:0,delete:0};for(const s of e)"insert"===s?i.push(n[a.equal+a.insert]):"delete"===s?o.push(t[a.equal+a.delete]):((r=r.concat(Dr(o,i,zr).map(e=>"equal"===e?"replace":e))).push("equal"),o=[],i=[]),a[s]++;return r.concat(Dr(o,i,zr).map(e=>"equal"===e?"replace":e))}_markDescendantTextToSync(e){if(e)if(e.is("text"))this.markedTexts.add(e);else if(e.is("element"))for(const t of e.getChildren())this._markDescendantTextToSync(t)}_updateSelection(){if(0===this.selection.rangeCount)return this._removeDomSelection(),void this._removeFakeSelection();const e=this.domConverter.mapViewToDom(this.selection.editableElement);this.isFocused&&e&&(this.selection.isFake?this._updateFakeSelection(e):(this._removeFakeSelection(),this._updateDomSelection(e)))}_updateFakeSelection(e){const t=e.ownerDocument;this._fakeSelectionContainer||(this._fakeSelectionContainer=function(e){const t=e.createElement("div");return Object.assign(t.style,{position:"fixed",top:0,left:"-9999px",width:"42px"}),t.textContent="\xa0",t}(t));const n=this._fakeSelectionContainer;if(this.domConverter.bindFakeSelection(n,this.selection),!this._fakeSelectionNeedsUpdate(e))return;n.parentElement&&n.parentElement==e||e.appendChild(n),n.textContent=this.selection.fakeSelectionLabel||"\xa0";const r=t.getSelection(),o=t.createRange();r.removeAllRanges(),o.selectNodeContents(n),r.addRange(o)}_updateDomSelection(e){const t=e.ownerDocument.defaultView.getSelection();if(!this._domSelectionNeedsUpdate(t))return;const n=this.domConverter.viewPositionToDom(this.selection.anchor),r=this.domConverter.viewPositionToDom(this.selection.focus);e.focus(),t.collapse(n.parent,n.offset),t.extend(r.parent,r.offset),or.isGecko&&function(e,t){const n=e.parent;if(n.nodeType!=Node.ELEMENT_NODE||e.offset!=n.childNodes.length-1)return;const r=n.childNodes[e.offset];r&&"BR"==r.tagName&&t.addRange(t.getRangeAt(0))}(r,t)}_domSelectionNeedsUpdate(e){if(!this.domConverter.isDomSelectionCorrect(e))return!0;const t=e&&this.domConverter.domSelectionToView(e);return!(t&&this.selection.isEqual(t)||!this.selection.isCollapsed&&this.selection.isSimilar(t))}_fakeSelectionNeedsUpdate(e){const t=this._fakeSelectionContainer,n=e.ownerDocument.getSelection();return!t||t.parentElement!==e||n.anchorNode!==t&&!t.contains(n.anchorNode)||t.textContent!==this.selection.fakeSelectionLabel}_removeDomSelection(){for(const e of this.domDocuments)if(e.getSelection().rangeCount){const t=e.activeElement,n=this.domConverter.mapDomToView(t);t&&n&&e.getSelection().removeAllRanges()}}_removeFakeSelection(){const e=this._fakeSelectionContainer;e&&e.remove()}_updateFocus(){if(this.isFocused){const e=this.selection.editableElement;e&&this.domConverter.focus(e)}}}function qr(e,t,n){const r=t instanceof Array?t:t.childNodes,o=r[n];if(Pr(o))return o.data=Or+o.data,o;{const o=e.createTextNode(Or);return Array.isArray(t)?r.splice(n,0,o):Lr(t,n,o),o}}function zr(e,t){return Fr(e)&&Fr(t)&&!Pr(e)&&!Pr(t)&&e.tagName.toLowerCase()===t.tagName.toLowerCase()}At(Ur,Rn);var Hr={window:window,document:document};function Vr(e){let t=0;for(;e.previousSibling;)e=e.previousSibling,t++;return t}function Wr(e){const t=[];for(;e&&e.nodeType!=Node.DOCUMENT_NODE;)t.unshift(e),e=e.parentNode;return t}const Gr=xr(document);class Yr{constructor(e,t={}){this.document=e,this.blockFillerMode=t.blockFillerMode||"br",this.preElements=["pre"],this.blockElements=["p","div","h1","h2","h3","h4","h5","h6","li","dd","dt","figcaption"],this._blockFiller="br"==this.blockFillerMode?xr:Er,this._domToViewMapping=new WeakMap,this._viewToDomMapping=new WeakMap,this._fakeSelectionMapping=new WeakMap}bindFakeSelection(e,t){this._fakeSelectionMapping.set(e,new $n(t))}fakeSelectionToView(e){return this._fakeSelectionMapping.get(e)}bindElements(e,t){this._domToViewMapping.set(e,t),this._viewToDomMapping.set(t,e)}unbindDomElement(e){const t=this._domToViewMapping.get(e);if(t){this._domToViewMapping.delete(e),this._viewToDomMapping.delete(t);for(const t of Array.from(e.childNodes))this.unbindDomElement(t)}}bindDocumentFragments(e,t){this._domToViewMapping.set(e,t),this._viewToDomMapping.set(t,e)}viewToDom(e,t,n={}){if(e.is("text")){const n=this._processDataFromViewText(e);return t.createTextNode(n)}{if(this.mapViewToDom(e))return this.mapViewToDom(e);let r;if(e.is("documentFragment"))r=t.createDocumentFragment(),n.bind&&this.bindDocumentFragments(r,e);else{if(e.is("uiElement"))return r=e.render(t),n.bind&&this.bindElements(r,e),r;r=e.hasAttribute("xmlns")?t.createElementNS(e.getAttribute("xmlns"),e.name):t.createElement(e.name),n.bind&&this.bindElements(r,e);for(const t of e.getAttributeKeys())r.setAttribute(t,e.getAttribute(t))}if(n.withChildren||void 0===n.withChildren)for(const o of this.viewChildrenToDom(e,t,n))r.appendChild(o);return r}}*viewChildrenToDom(e,t,n={}){const r=e.getFillerOffset&&e.getFillerOffset();let o=0;for(const i of e.getChildren())r===o&&(yield this._blockFiller(t)),yield this.viewToDom(i,t,n),o++;r===o&&(yield this._blockFiller(t))}viewRangeToDom(e){const t=this.viewPositionToDom(e.start),n=this.viewPositionToDom(e.end),r=document.createRange();return r.setStart(t.parent,t.offset),r.setEnd(n.parent,n.offset),r}viewPositionToDom(e){const t=e.parent;if(t.is("text")){const n=this.findCorrespondingDomText(t);if(!n)return null;let r=e.offset;return Tr(n)&&(r+=7),{parent:n,offset:r}}{let n,r,o;if(0===e.offset){if(!(n=this.mapViewToDom(t)))return null;o=n.childNodes[0]}else{const t=e.nodeBefore;if(!(r=t.is("text")?this.findCorrespondingDomText(t):this.mapViewToDom(e.nodeBefore)))return null;n=r.parentNode,o=r.nextSibling}return Pr(o)&&Tr(o)?{parent:o,offset:7}:{parent:n,offset:r?Vr(r)+1:0}}}domToView(e,t={}){if(this.isBlockFiller(e,this.blockFillerMode))return null;const n=this.getParentUIElement(e,this._domToViewMapping);if(n)return n;if(Pr(e)){if(Mr(e))return null;{const t=this._processDataFromDomText(e);return""===t?null:new qt(this.document,t)}}if(this.isComment(e))return null;{if(this.mapDomToView(e))return this.mapDomToView(e);let n;if(this.isDocumentFragment(e))n=new hr(this.document),t.bind&&this.bindDocumentFragments(e,n);else{const r=t.keepOriginalCase?e.tagName:e.tagName.toLowerCase();n=new En(this.document,r),t.bind&&this.bindElements(e,n);const o=e.attributes;for(let e=o.length-1;e>=0;e--)n._setAttribute(o[e].name,o[e].value)}if(t.withChildren||void 0===t.withChildren)for(const r of this.domChildrenToView(e,t))n._appendChild(r);return n}}*domChildrenToView(e,t={}){for(let n=0;n<e.childNodes.length;n++){const r=e.childNodes[n],o=this.domToView(r,t);null!==o&&(yield o)}}domSelectionToView(e){if(1===e.rangeCount){let t=e.getRangeAt(0).startContainer;Pr(t)&&(t=t.parentNode);const n=this.fakeSelectionToView(t);if(n)return n}const t=this.isDomSelectionBackward(e),n=[];for(let r=0;r<e.rangeCount;r++){const t=e.getRangeAt(r),o=this.domRangeToView(t);o&&n.push(o)}return new $n(n,{backward:t})}domRangeToView(e){const t=this.domPositionToView(e.startContainer,e.startOffset),n=this.domPositionToView(e.endContainer,e.endOffset);return t&&n?new Gn(t,n):null}domPositionToView(e,t){if(this.isBlockFiller(e,this.blockFillerMode))return this.domPositionToView(e.parentNode,Vr(e));const n=this.mapDomToView(e);if(n&&n.is("uiElement"))return Wn._createBefore(n);if(Pr(e)){if(Mr(e))return this.domPositionToView(e.parentNode,Vr(e));const n=this.findCorrespondingViewText(e);let r=t;return n?(Tr(e)&&(r=(r-=7)<0?0:r),new Wn(n,r)):null}if(0===t){const t=this.mapDomToView(e);if(t)return new Wn(t,0)}else{const n=e.childNodes[t-1],r=Pr(n)?this.findCorrespondingViewText(n):this.mapDomToView(n);if(r&&r.parent)return new Wn(r.parent,r.index+1)}return null}mapDomToView(e){return this.getParentUIElement(e)||this._domToViewMapping.get(e)}findCorrespondingViewText(e){if(Mr(e))return null;const t=this.getParentUIElement(e);if(t)return t;const n=e.previousSibling;if(n){if(!this.isElement(n))return null;const e=this.mapDomToView(n);if(e)return e.nextSibling instanceof qt?e.nextSibling:null}else{const t=this.mapDomToView(e.parentNode);if(t){const e=t.getChild(0);return e instanceof qt?e:null}}return null}mapViewToDom(e){return this._viewToDomMapping.get(e)}findCorrespondingDomText(e){const t=e.previousSibling;return t&&this.mapViewToDom(t)?this.mapViewToDom(t).nextSibling:!t&&e.parent&&this.mapViewToDom(e.parent)?this.mapViewToDom(e.parent).childNodes[0]:null}focus(e){const t=this.mapViewToDom(e);if(t&&t.ownerDocument.activeElement!==t){const{scrollX:e,scrollY:n}=Hr.window,r=[];$r(t,e=>{const{scrollLeft:t,scrollTop:n}=e;r.push([t,n])}),t.focus(),$r(t,e=>{const[t,n]=r.shift();e.scrollLeft=t,e.scrollTop=n}),Hr.window.scrollTo(e,n)}}isElement(e){return e&&e.nodeType==Node.ELEMENT_NODE}isDocumentFragment(e){return e&&e.nodeType==Node.DOCUMENT_FRAGMENT_NODE}isComment(e){return e&&e.nodeType==Node.COMMENT_NODE}isBlockFiller(e){return"br"==this.blockFillerMode?e.isEqualNode(Gr):!("BR"!==e.tagName||!Qr(e,this.blockElements)||1!==e.parentNode.childNodes.length)||function(e,t){return Pr(e)&&"\xa0"==e.data&&Qr(e,t)&&1===e.parentNode.childNodes.length}(e,this.blockElements)}isDomSelectionBackward(e){if(e.isCollapsed)return!1;const t=document.createRange();t.setStart(e.anchorNode,e.anchorOffset),t.setEnd(e.focusNode,e.focusOffset);const n=t.collapsed;return t.detach(),n}getParentUIElement(e){const t=Wr(e);for(t.pop();t.length;){const e=t.pop(),n=this._domToViewMapping.get(e);if(n&&n.is("uiElement"))return n}return null}isDomSelectionCorrect(e){return this._isDomSelectionPositionCorrect(e.anchorNode,e.anchorOffset)&&this._isDomSelectionPositionCorrect(e.focusNode,e.focusOffset)}_isDomSelectionPositionCorrect(e,t){if(Pr(e)&&Tr(e)&&t<7)return!1;if(this.isElement(e)&&Tr(e.childNodes[t]))return!1;const n=this.mapDomToView(e);return!n||!n.is("uiElement")}_processDataFromViewText(e){let t=e.data;if(e.getAncestors().some(e=>this.preElements.includes(e.name)))return t;if(" "==t.charAt(0)){const n=this._getTouchingViewTextNode(e,!1);(!n||!this._nodeEndsWithSpace(n))&&n||(t="\xa0"+t.substr(1))}if(" "==t.charAt(t.length-1)){const n=this._getTouchingViewTextNode(e,!0);" "!=t.charAt(t.length-2)&&n&&" "!=n.data.charAt(0)||(t=t.substr(0,t.length-1)+"\xa0")}return t.replace(/ {2}/g," \xa0")}_nodeEndsWithSpace(e){if(e.getAncestors().some(e=>this.preElements.includes(e.name)))return!1;const t=this._processDataFromViewText(e);return" "==t.charAt(t.length-1)}_processDataFromDomText(e){let t=e.data;if(Kr(e,this.preElements))return Ar(e);t=t.replace(/[ \n\t\r]{1,}/g," ");const n=this._getTouchingInlineDomNode(e,!1),r=this._getTouchingInlineDomNode(e,!0),o=this._checkShouldLeftTrimDomText(n),i=this._checkShouldRightTrimDomText(e,r);return o&&(t=t.replace(/^ /,"")),i&&(t=t.replace(/ $/,"")),t=(t=Ar(new Text(t))).replace(/ \u00A0/g,"  "),(/( |\u00A0)\u00A0$/.test(t)||!r||r.data&&" "==r.data.charAt(0))&&(t=t.replace(/\u00A0$/," ")),o&&(t=t.replace(/^\u00A0/," ")),t}_checkShouldLeftTrimDomText(e){return!e||!!pt(e)||/[^\S\u00A0]/.test(e.data.charAt(e.data.length-1))}_checkShouldRightTrimDomText(e,t){return!t&&!Tr(e)}_getTouchingViewTextNode(e,t){const n=new Vn({startPosition:t?Wn._createAfter(e):Wn._createBefore(e),direction:t?"forward":"backward"});for(const r of n){if(r.item.is("containerElement"))return null;if(r.item.is("br"))return null;if(r.item.is("textProxy"))return r.item}return null}_getTouchingInlineDomNode(e,t){if(!e.parentNode)return null;const n=t?"nextNode":"previousNode",r=e.ownerDocument,o=Wr(e)[0],i=r.createTreeWalker(o,NodeFilter.SHOW_TEXT|NodeFilter.SHOW_ELEMENT,{acceptNode:e=>Pr(e)||"BR"==e.tagName?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP});i.currentNode=e;const a=i[n]();if(null!==a){const t=function(e,t){const n=Wr(e),r=Wr(t);let o=0;for(;n[o]==r[o]&&n[o];)o++;return 0===o?null:n[o-1]}(e,a);if(t&&!Kr(e,this.blockElements,t)&&!Kr(a,this.blockElements,t))return a}return null}}function Kr(e,t,n){let r=Wr(e);return n&&(r=r.slice(r.indexOf(n)+1)),r.some(e=>e.tagName&&t.includes(e.tagName.toLowerCase()))}function $r(e,t){for(;e&&e!=Hr.document;)t(e),e=e.parentNode}function Qr(e,t){const n=e.parentNode;return n&&n.tagName&&t.includes(n.tagName.toLowerCase())}function Jr(e){const t=Object.prototype.toString.apply(e);return"[object Window]"==t||"[object global]"==t}var Xr=Mn({},St,{listenTo(e,...t){if(Fr(e)||Jr(e)){const n=this._getProxyEmitter(e)||new Zr(e);n.attach(...t),e=n}St.listenTo.call(this,e,...t)},stopListening(e,t,n){if(Fr(e)||Jr(e)){const t=this._getProxyEmitter(e);if(!t)return;e=t}St.stopListening.call(this,e,t,n),e instanceof Zr&&e.detach(t)},_getProxyEmitter(e){return t=this,n=eo(e),t[wt]&&t[wt][n]?t[wt][n].emitter:null;var t,n}});class Zr{constructor(e){Pt(this,eo(e)),this._domNode=e}}function eo(e){return e["data-ck-expando"]||(e["data-ck-expando"]=yt())}Mn(Zr.prototype,St,{attach(e,t,n={}){if(this._domListeners&&this._domListeners[e])return;const r=this._createDomListener(e,!!n.useCapture);this._domNode.addEventListener(e,r,!!n.useCapture),this._domListeners||(this._domListeners={}),this._domListeners[e]=r},detach(e){let t;!this._domListeners[e]||(t=this._events[e])&&t.callbacks.length||this._domListeners[e].removeListener()},_createDomListener(e,t){const n=t=>{this.fire(e,t)};return n.removeListener=(()=>{this._domNode.removeEventListener(e,n,t),delete this._domListeners[e]}),n}});class to{constructor(e){this.view=e,this.document=e.document,this.isEnabled=!1}enable(){this.isEnabled=!0}disable(){this.isEnabled=!1}destroy(){this.disable(),this.stopListening()}}function no(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new K;++t<n;)this.add(e[t])}At(to,Xr),no.prototype.add=no.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},no.prototype.has=function(e){return this.__data__.has(e)};var ro=no,oo=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1},io=function(e,t){return e.has(t)},ao=function(e,t,n,r,o,i){var a=1&n,s=e.length,l=t.length;if(s!=l&&!(a&&l>s))return!1;var c=i.get(e);if(c&&i.get(t))return c==t;var u=-1,d=!0,p=2&n?new ro:void 0;for(i.set(e,t),i.set(t,e);++u<s;){var f=e[u],h=t[u];if(r)var m=a?r(h,f,u,t,e,i):r(f,h,u,e,t,i);if(void 0!==m){if(m)continue;d=!1;break}if(p){if(!oo(t,function(e,t){if(!io(p,t)&&(f===e||o(f,e,n,r,i)))return p.push(t)})){d=!1;break}}else if(f!==h&&!o(f,h,n,r,i)){d=!1;break}}return i.delete(e),i.delete(t),d},so=function(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n},lo=function(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n},co=o?o.prototype:void 0,uo=co?co.valueOf:void 0,po=Object.prototype.hasOwnProperty,fo=Object.prototype.hasOwnProperty,ho=function e(t,n,r,o,i){return t===n||(null==t||null==n||!h(t)&&!h(n)?t!=t&&n!=n:function(e,t,n,r,o,i){var a=se(e),s=se(t),l=a?"[object Array]":Ke(e),c=s?"[object Array]":Ke(t),u="[object Object]"==(l="[object Arguments]"==l?"[object Object]":l),d="[object Object]"==(c="[object Arguments]"==c?"[object Object]":c),p=l==c;if(p&&Object(le.a)(e)){if(!Object(le.a)(t))return!1;a=!0,u=!1}if(p&&!u)return i||(i=new Q),a||ge(e)?ao(e,t,n,r,o,i):function(e,t,n,r,o,i,a){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!i(new Qe(e),new Qe(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return _(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var s=so;case"[object Set]":var l=1&r;if(s||(s=lo),e.size!=t.size&&!l)return!1;var c=a.get(e);if(c)return c==t;r|=2,a.set(e,t);var u=ao(s(e),s(t),r,o,i,a);return a.delete(e),u;case"[object Symbol]":if(uo)return uo.call(e)==uo.call(t)}return!1}(e,t,l,n,r,o,i);if(!(1&n)){var f=u&&fo.call(e,"__wrapped__"),h=d&&fo.call(t,"__wrapped__");if(f||h){var m=f?e.value():e,g=h?t.value():t;return i||(i=new Q),o(m,g,n,r,i)}}return!!p&&(i||(i=new Q),function(e,t,n,r,o,i){var a=1&n,s=De(e),l=s.length;if(l!=De(t).length&&!a)return!1;for(var c=l;c--;){var u=s[c];if(!(a?u in t:po.call(t,u)))return!1}var d=i.get(e);if(d&&i.get(t))return d==t;var p=!0;i.set(e,t),i.set(t,e);for(var f=a;++c<l;){var h=e[u=s[c]],m=t[u];if(r)var g=a?r(m,h,u,t,e,i):r(h,m,u,e,t,i);if(!(void 0===g?h===m||o(h,m,n,r,i):g)){p=!1;break}f||(f="constructor"==u)}if(p&&!f){var b=e.constructor,v=t.constructor;b==v||!("constructor"in e)||!("constructor"in t)||"function"==typeof b&&b instanceof b&&"function"==typeof v&&v instanceof v||(p=!1)}return i.delete(e),i.delete(t),p}(e,t,n,r,o,i))}(t,n,r,o,e,i))},mo=function(e,t,n){var r=(n="function"==typeof n?n:void 0)?n(e,t):void 0;return void 0===r?ho(e,t,void 0,n):!!r};class go extends to{constructor(e){super(e),this._config={childList:!0,characterData:!0,characterDataOldValue:!0,subtree:!0},this.domConverter=e.domConverter,this.renderer=e._renderer,this._domElements=[],this._mutationObserver=new window.MutationObserver(this._onMutations.bind(this))}flush(){this._onMutations(this._mutationObserver.takeRecords())}observe(e){this._domElements.push(e),this.isEnabled&&this._mutationObserver.observe(e,this._config)}enable(){super.enable();for(const e of this._domElements)this._mutationObserver.observe(e,this._config)}disable(){super.disable(),this._mutationObserver.disconnect()}destroy(){super.destroy(),this._mutationObserver.disconnect()}_onMutations(e){if(0===e.length)return;const t=this.domConverter,n=new Map,r=new Set;for(const l of e)if("childList"===l.type){const e=t.mapDomToView(l.target);if(e&&e.is("uiElement"))continue;e&&!this._isBogusBrMutation(l)&&r.add(e)}for(const l of e){const e=t.mapDomToView(l.target);if(!(e&&e.is("uiElement")||"characterData"!==l.type)){const e=t.findCorrespondingViewText(l.target);e&&!r.has(e.parent)?n.set(e,{type:"text",oldText:e.data,newText:Ar(l.target),node:e}):!e&&Tr(l.target)&&r.add(t.mapDomToView(l.target.parentNode))}}const o=[];for(const l of n.values())this.renderer.markToSync("text",l.node),o.push(l);for(const l of r){const e=t.mapViewToDom(l),n=Array.from(l.getChildren()),r=Array.from(t.domChildrenToView(e,{withChildren:!1}));mo(n,r,s)||(this.renderer.markToSync("children",l),o.push({type:"children",oldChildren:n,newChildren:r,node:l}))}const i=e[0].target.ownerDocument.getSelection();let a=null;if(i&&i.anchorNode){const e=t.domPositionToView(i.anchorNode,i.anchorOffset),n=t.domPositionToView(i.focusNode,i.focusOffset);e&&n&&(a=new $n(e)).setFocus(n)}function s(e,t){if(!Array.isArray(e))return e===t||!(!e.is("text")||!t.is("text"))&&e.data===t.data}o.length&&(this.document.fire("mutations",o,a),this.view.forceRender())}_isBogusBrMutation(e){let t=null;return null===e.nextSibling&&0===e.removedNodes.length&&1==e.addedNodes.length&&(t=this.domConverter.domToView(e.addedNodes[0],{withChildren:!1})),t&&t.is("element","br")}}class bo{constructor(e,t,n){this.view=e,this.document=e.document,this.domEvent=t,this.domTarget=t.target,Mn(this,n)}get target(){return this.view.domConverter.mapDomToView(this.domTarget)}preventDefault(){this.domEvent.preventDefault()}stopPropagation(){this.domEvent.stopPropagation()}}class vo extends to{constructor(e){super(e),this.useCapture=!1}observe(e){("string"==typeof this.domEventType?[this.domEventType]:this.domEventType).forEach(t=>{this.listenTo(e,t,(e,t)=>{this.isEnabled&&this.onDomEvent(t)},{useCapture:this.useCapture})})}fire(e,t,n){this.isEnabled&&this.document.fire(e,new bo(this.view,t,n))}}class yo extends vo{constructor(e){super(e),this.domEventType=["keydown","keyup"]}onDomEvent(e){this.fire(e.type,e,{keyCode:e.keyCode,altKey:e.altKey,ctrlKey:e.ctrlKey||e.metaKey,shiftKey:e.shiftKey,get keystroke(){return lr(this)}})}}var ko=function(){return r.a.Date.now()},_o=/^\s+|\s+$/g,wo=/^[-+]0x[0-9a-f]+$/i,Co=/^0b[01]+$/i,So=/^0o[0-7]+$/i,Po=parseInt,Eo=function(e){if("number"==typeof e)return e;if(Yt(e))return NaN;if(x(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=x(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(_o,"");var n=Co.test(e);return n||So.test(e)?Po(e.slice(2),n?2:8):wo.test(e)?NaN:+e},xo=Math.max,Oo=Math.min,To=function(e,t,n){var r,o,i,a,s,l,c=0,u=!1,d=!1,p=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function f(t){var n=r,i=o;return r=o=void 0,c=t,a=e.apply(i,n)}function h(e){var n=e-l;return void 0===l||n>=t||n<0||d&&e-c>=i}function m(){var e=ko();if(h(e))return g(e);s=setTimeout(m,function(e){var n=t-(e-l);return d?Oo(n,i-(e-c)):n}(e))}function g(e){return s=void 0,p&&r?f(e):(r=o=void 0,a)}function b(){var e=ko(),n=h(e);if(r=arguments,o=this,l=e,n){if(void 0===s)return function(e){return c=e,s=setTimeout(m,t),u?f(e):a}(l);if(d)return clearTimeout(s),s=setTimeout(m,t),f(l)}return void 0===s&&(s=setTimeout(m,t)),a}return t=Eo(t)||0,x(n)&&(u=!!n.leading,i=(d="maxWait"in n)?xo(Eo(n.maxWait)||0,t):i,p="trailing"in n?!!n.trailing:p),b.cancel=function(){void 0!==s&&clearTimeout(s),c=0,r=l=o=s=void 0},b.flush=function(){return void 0===s?a:g(ko())},b};class Mo extends to{constructor(e){super(e),this._fireSelectionChangeDoneDebounced=To(e=>this.document.fire("selectionChangeDone",e),200)}observe(){const e=this.document;e.on("keydown",(t,n)=>{var r;e.selection.isFake&&((r=n.keyCode)==sr.arrowright||r==sr.arrowleft||r==sr.arrowup||r==sr.arrowdown)&&this.isEnabled&&(n.preventDefault(),this._handleSelectionMove(n.keyCode))},{priority:"lowest"})}destroy(){super.destroy(),this._fireSelectionChangeDoneDebounced.cancel()}_handleSelectionMove(e){const t=this.document.selection,n=new $n(t.getRanges(),{backward:t.isBackward,fake:!1});e!=sr.arrowleft&&e!=sr.arrowup||n.setTo(n.getFirstPosition()),e!=sr.arrowright&&e!=sr.arrowdown||n.setTo(n.getLastPosition());const r={oldSelection:t,newSelection:n,domSelection:null};this.document.fire("selectionChange",r),this._fireSelectionChangeDoneDebounced(r)}}class Ao extends to{constructor(e){super(e),this.mutationObserver=e.getObserver(go),this.selection=this.document.selection,this.domConverter=e.domConverter,this._documents=new WeakSet,this._fireSelectionChangeDoneDebounced=To(e=>this.document.fire("selectionChangeDone",e),200),this._clearInfiniteLoopInterval=setInterval(()=>this._clearInfiniteLoop(),1e3),this._loopbackCounter=0}observe(e){const t=e.ownerDocument;this._documents.has(t)||(this.listenTo(t,"selectionchange",()=>{this._handleSelectionChange(t)}),this._documents.add(t))}destroy(){super.destroy(),clearInterval(this._clearInfiniteLoopInterval),this._fireSelectionChangeDoneDebounced.cancel()}_handleSelectionChange(e){if(!this.isEnabled)return;this.mutationObserver.flush();const t=e.defaultView.getSelection(),n=this.domConverter.domSelectionToView(t);if(0!=n.rangeCount&&!(this.selection.isEqual(n)&&this.domConverter.isDomSelectionCorrect(t)||++this._loopbackCounter>60))if(this.selection.isSimilar(n))this.view.forceRender();else{const e={oldSelection:this.selection,newSelection:n,domSelection:t};this.document.fire("selectionChange",e),this._fireSelectionChangeDoneDebounced(e)}}_clearInfiniteLoop(){this._loopbackCounter=0}}class jo extends vo{constructor(e){super(e),this.domEventType=["focus","blur"],this.useCapture=!0;const t=this.document;t.on("focus",()=>{t.isFocused=!0,this._renderTimeoutId=setTimeout(()=>e.forceRender(),50)}),t.on("blur",(n,r)=>{const o=t.selection.editableElement;null!==o&&o!==r.target||(t.isFocused=!1,e.forceRender())})}onDomEvent(e){this.fire(e.type,e)}destroy(){this._renderTimeoutId&&clearTimeout(this._renderTimeoutId),super.destroy()}}class Io extends vo{constructor(e){super(e),this.domEventType=["compositionstart","compositionupdate","compositionend"];const t=this.document;t.on("compositionstart",()=>{t.isComposing=!0}),t.on("compositionend",()=>{t.isComposing=!1})}onDomEvent(e){this.fire(e.type,e)}}class No extends vo{constructor(e){super(e),this.domEventType=["beforeinput"]}onDomEvent(e){this.fire(e.type,e)}}function Ro(e){return"[object Range]"==Object.prototype.toString.apply(e)}function Do(e){const t=e.ownerDocument.defaultView.getComputedStyle(e);return{top:parseInt(t.borderTopWidth,10),right:parseInt(t.borderRightWidth,10),bottom:parseInt(t.borderBottomWidth,10),left:parseInt(t.borderLeftWidth,10)}}const Lo=["top","right","bottom","left","width","height"];class Bo{constructor(e){const t=Ro(e);if(Object.defineProperty(this,"_source",{value:e._source||e,writable:!0,enumerable:!1}),pt(e)||t)Fo(this,t?Bo.getDomRangeRects(e)[0]:e.getBoundingClientRect());else if(Jr(e)){const{innerWidth:t,innerHeight:n}=e;Fo(this,{top:0,right:t,bottom:n,left:0,width:t,height:n})}else Fo(this,e)}clone(){return new Bo(this)}moveTo(e,t){return this.top=t,this.right=e+this.width,this.bottom=t+this.height,this.left=e,this}moveBy(e,t){return this.top+=t,this.right+=e,this.left+=e,this.bottom+=t,this}getIntersection(e){const t={top:Math.max(this.top,e.top),right:Math.min(this.right,e.right),bottom:Math.min(this.bottom,e.bottom),left:Math.max(this.left,e.left)};return t.width=t.right-t.left,t.height=t.bottom-t.top,t.width<0||t.height<0?null:new Bo(t)}getIntersectionArea(e){const t=this.getIntersection(e);return t?t.getArea():0}getArea(){return this.width*this.height}getVisible(){const e=this._source;let t=this.clone();if(!Uo(e)){let n=e.parentNode||e.commonAncestorContainer;for(;n&&!Uo(n);){const e=new Bo(n),r=t.getIntersection(e);if(!r)return null;r.getArea()<t.getArea()&&(t=r),n=n.parentNode}}return t}isEqual(e){for(const t of Lo)if(this[t]!==e[t])return!1;return!0}contains(e){const t=this.getIntersection(e);return!(!t||!t.isEqual(e))}excludeScrollbarsAndBorders(){const e=this._source;let t,n,r;if(Jr(e))t=e.innerWidth-e.document.documentElement.clientWidth,n=e.innerHeight-e.document.documentElement.clientHeight,r=e.getComputedStyle(e.document.documentElement).direction;else{const o=Do(this._source);t=e.offsetWidth-e.clientWidth-o.left-o.right,n=e.offsetHeight-e.clientHeight-o.top-o.bottom,r=e.ownerDocument.defaultView.getComputedStyle(e).direction,this.left+=o.left,this.top+=o.top,this.right-=o.right,this.bottom-=o.bottom,this.width=this.right-this.left,this.height=this.bottom-this.top}return this.width-=t,"ltr"===r?this.right-=t:this.left+=t,this.height-=n,this.bottom-=n,this}static getDomRangeRects(e){const t=[],n=Array.from(e.getClientRects());if(n.length)for(const r of n)t.push(new Bo(r));else{let n=e.startContainer;Pr(n)&&(n=n.parentNode);const r=new Bo(n.getBoundingClientRect());r.right=r.left,r.width=0,t.push(r)}return t}}function Fo(e,t){for(const n of Lo)e[n]=t[n]}function Uo(e){return!!pt(e)&&e===e.ownerDocument.body}function qo({target:e,viewportOffset:t=0}){const n=Ko(e);let r=n,o=null;for(;r;){let i;Ho(i=$o(r==n?e:o),()=>Qo(e,r));const a=Qo(e,r);if(zo(r,a,t),r.parent!=r){if(o=r.frameElement,r=r.parent,!o)return}else r=null}}function zo(e,t,n){const r=t.clone().moveBy(0,n),o=t.clone().moveBy(0,-n),i=new Bo(e).excludeScrollbarsAndBorders();if(![o,r].every(e=>i.contains(e))){let{scrollX:a,scrollY:s}=e;Wo(o,i)?s-=i.top-t.top+n:Vo(r,i)&&(s+=t.bottom-i.bottom+n),Go(t,i)?a-=i.left-t.left+n:Yo(t,i)&&(a+=t.right-i.right+n),e.scrollTo(a,s)}}function Ho(e,t){const n=Ko(e);let r,o;for(;e!=n.document.body;)o=t(),(r=new Bo(e).excludeScrollbarsAndBorders()).contains(o)||(Wo(o,r)?e.scrollTop-=r.top-o.top:Vo(o,r)&&(e.scrollTop+=o.bottom-r.bottom),Go(o,r)?e.scrollLeft-=r.left-o.left:Yo(o,r)&&(e.scrollLeft+=o.right-r.right)),e=e.parentNode}function Vo(e,t){return e.bottom>t.bottom}function Wo(e,t){return e.top<t.top}function Go(e,t){return e.left<t.left}function Yo(e,t){return e.right>t.right}function Ko(e){return Ro(e)?e.startContainer.ownerDocument.defaultView:e.ownerDocument.defaultView}function $o(e){if(Ro(e)){let t=e.commonAncestorContainer;return Pr(t)&&(t=t.parentNode),t}return e.parentNode}function Qo(e,t){const n=Ko(e),r=new Bo(e);if(n===t)return r;{let e=n;for(;e!=t;){const t=e.frameElement,n=new Bo(t).excludeScrollbarsAndBorders();r.moveBy(n.left,n.top),e=e.parent}}return r}Object.assign({},{scrollViewportToShowTarget:qo,scrollAncestorsToShowTarget:function(e){Ho($o(e),()=>new Bo(e))}});class Jo{constructor(e){this.document=new Jn(e),this.domConverter=new Yr(this.document),this.domRoots=new Map,this.set("isRenderingInProgress",!1),this._renderer=new Ur(this.domConverter,this.document.selection),this._renderer.bind("isFocused").to(this.document),this._initialDomRootAttributes=new WeakMap,this._observers=new Map,this._ongoingChange=!1,this._postFixersInProgress=!1,this._renderingDisabled=!1,this._hasChangedSinceTheLastRendering=!1,this._writer=new mr(this.document),this.addObserver(go),this.addObserver(Ao),this.addObserver(jo),this.addObserver(yo),this.addObserver(Mo),this.addObserver(Io),or.isAndroid&&this.addObserver(No),this.document.on("keydown",jr),function(e){e.document.on("keydown",(t,n)=>(function(e,t,n){if(t.keyCode==sr.arrowright){const e=t.domTarget.ownerDocument.defaultView.getSelection(),r=1==e.rangeCount&&e.getRangeAt(0).collapsed;if(r||t.shiftKey){const t=e.focusNode,o=e.focusOffset,i=n.domPositionToView(t,o);if(null===i)return;let a=!1;const s=i.getLastMatchingPosition(e=>(e.item.is("uiElement")&&(a=!0),!(!e.item.is("uiElement")&&!e.item.is("attributeElement"))));if(a){const t=n.viewPositionToDom(s);r?e.collapse(t.parent,t.offset):e.extend(t.parent,t.offset)}}}})(0,n,e.domConverter))}(this),this.on("render",()=>{this._render(),this.document.fire("layoutChanged"),this._hasChangedSinceTheLastRendering=!1}),this.listenTo(this.document.selection,"change",()=>{this._hasChangedSinceTheLastRendering=!0})}attachDomRoot(e,t="main"){const n=this.document.getRoot(t);n._name=e.tagName.toLowerCase();const r={};for(const{name:i,value:a}of Array.from(e.attributes))r[i]=a,"class"===i?this._writer.addClass(a.split(" "),n):this._writer.setAttribute(i,a,n);this._initialDomRootAttributes.set(e,r);const o=()=>{this._writer.setAttribute("contenteditable",!n.isReadOnly,n),n.isReadOnly?this._writer.addClass("ck-read-only",n):this._writer.removeClass("ck-read-only",n)};o(),this.domRoots.set(t,e),this.domConverter.bindElements(e,n),this._renderer.markToSync("children",n),this._renderer.markToSync("attributes",n),this._renderer.domDocuments.add(e.ownerDocument),n.on("change:children",(e,t)=>this._renderer.markToSync("children",t)),n.on("change:attributes",(e,t)=>this._renderer.markToSync("attributes",t)),n.on("change:text",(e,t)=>this._renderer.markToSync("text",t)),n.on("change:isReadOnly",()=>this.change(o)),n.on("change",()=>{this._hasChangedSinceTheLastRendering=!0});for(const i of this._observers.values())i.observe(e,t)}detachDomRoot(e){const t=this.domRoots.get(e);Array.from(t.attributes).forEach(({name:e})=>t.removeAttribute(e));const n=this._initialDomRootAttributes.get(t);for(const r in n)t.setAttribute(r,n[r]);this.domRoots.delete(e),this.domConverter.unbindDomElement(t)}getDomRoot(e="main"){return this.domRoots.get(e)}addObserver(e){let t=this._observers.get(e);if(t)return t;t=new e(this),this._observers.set(e,t);for(const[n,r]of this.domRoots)t.observe(r,n);return t.enable(),t}getObserver(e){return this._observers.get(e)}disableObservers(){for(const e of this._observers.values())e.disable()}enableObservers(){for(const e of this._observers.values())e.enable()}scrollToTheSelection(){const e=this.document.selection.getFirstRange();e&&qo({target:this.domConverter.viewRangeToDom(e),viewportOffset:20})}focus(){if(!this.document.isFocused){const e=this.document.selection.editableElement;e&&(this.domConverter.focus(e),this.forceRender())}}change(e){if(this.isRenderingInProgress||this._postFixersInProgress)throw new _t.b("cannot-change-view-tree: Attempting to make changes to the view when it is in an incorrect state: rendering or post-fixers are in progress. This may cause some unexpected behavior and inconsistency between the DOM and the view.",this);try{if(this._ongoingChange)return e(this._writer);this._ongoingChange=!0;const t=e(this._writer);return this._ongoingChange=!1,!this._renderingDisabled&&this._hasChangedSinceTheLastRendering&&(this._postFixersInProgress=!0,this.document._callPostFixers(this._writer),this._postFixersInProgress=!1,this.fire("render")),t}catch(e){_t.b.rethrowUnexpectedError(e,this)}}forceRender(){this._hasChangedSinceTheLastRendering=!0,this.change(()=>{})}destroy(){for(const e of this._observers.values())e.destroy();this.document.destroy(),this.stopListening()}createPositionAt(e,t){return Wn._createAt(e,t)}createPositionAfter(e){return Wn._createAfter(e)}createPositionBefore(e){return Wn._createBefore(e)}createRange(e,t){return new Gn(e,t)}createRangeOn(e){return Gn._createOn(e)}createRangeIn(e){return Gn._createIn(e)}createSelection(e,t,n){return new $n(e,t,n)}_disableRendering(e){this._renderingDisabled=e,0==e&&this.change(()=>{})}_render(){this.isRenderingInProgress=!0,this.disableObservers(),this._renderer.render(),this.enableObservers(),this.isRenderingInProgress=!1}}At(Jo,Rn);class Xo{constructor(e){this.parent=null,this._attrs=Vt(e)}get index(){let e;if(!this.parent)return null;if(null===(e=this.parent.getChildIndex(this)))throw new _t.b("model-node-not-found-in-parent: The node's parent does not contain this node.",this);return e}get startOffset(){let e;if(!this.parent)return null;if(null===(e=this.parent.getChildStartOffset(this)))throw new _t.b("model-node-not-found-in-parent: The node's parent does not contain this node.",this);return e}get offsetSize(){return 1}get endOffset(){return this.parent?this.startOffset+this.offsetSize:null}get nextSibling(){const e=this.index;return null!==e&&this.parent.getChild(e+1)||null}get previousSibling(){const e=this.index;return null!==e&&this.parent.getChild(e-1)||null}get root(){let e=this;for(;e.parent;)e=e.parent;return e}isAttached(){return this.root.is("rootElement")}getPath(){const e=[];let t=this;for(;t.parent;)e.unshift(t.startOffset),t=t.parent;return e}getAncestors(e={includeSelf:!1,parentFirst:!1}){const t=[];let n=e.includeSelf?this:this.parent;for(;n;)t[e.parentFirst?"push":"unshift"](n),n=n.parent;return t}getCommonAncestor(e,t={}){const n=this.getAncestors(t),r=e.getAncestors(t);let o=0;for(;n[o]==r[o]&&n[o];)o++;return 0===o?null:n[o-1]}isBefore(e){if(this==e)return!1;if(this.root!==e.root)return!1;const t=this.getPath(),n=e.getPath(),r=Bt(t,n);switch(r){case"prefix":return!0;case"extension":return!1;default:return t[r]<n[r]}}isAfter(e){return this!=e&&this.root===e.root&&!this.isBefore(e)}hasAttribute(e){return this._attrs.has(e)}getAttribute(e){return this._attrs.get(e)}getAttributes(){return this._attrs.entries()}getAttributeKeys(){return this._attrs.keys()}toJSON(){const e={};return this._attrs.size&&(e.attributes=Array.from(this._attrs).reduce((e,t)=>(e[t[0]]=t[1],e),{})),e}is(e){return"node"==e||"model:node"==e}_clone(){return new Xo(this._attrs)}_remove(){this.parent._removeChildren(this.index)}_setAttribute(e,t){this._attrs.set(e,t)}_setAttributesTo(e){this._attrs=Vt(e)}_removeAttribute(e){return this._attrs.delete(e)}_clearAttributes(){this._attrs.clear()}}class Zo extends Xo{constructor(e,t){super(t),this._data=e||""}get offsetSize(){return this.data.length}get data(){return this._data}is(e){return"text"==e||"model:text"==e||super.is(e)}toJSON(){const e=super.toJSON();return e.data=this.data,e}_clone(){return new Zo(this.data,this.getAttributes())}static fromJSON(e){return new Zo(e.data,e.attributes)}}class ei{constructor(e,t,n){if(this.textNode=e,t<0||t>e.offsetSize)throw new _t.b("model-textproxy-wrong-offsetintext: Given offsetInText value is incorrect.",this);if(n<0||t+n>e.offsetSize)throw new _t.b("model-textproxy-wrong-length: Given length value is incorrect.",this);this.data=e.data.substring(t,t+n),this.offsetInText=t}get startOffset(){return null!==this.textNode.startOffset?this.textNode.startOffset+this.offsetInText:null}get offsetSize(){return this.data.length}get endOffset(){return null!==this.startOffset?this.startOffset+this.offsetSize:null}get isPartial(){return this.offsetSize!==this.textNode.offsetSize}get parent(){return this.textNode.parent}get root(){return this.textNode.root}is(e){return"textProxy"==e||"model:textProxy"==e}getPath(){const e=this.textNode.getPath();return e.length>0&&(e[e.length-1]+=this.offsetInText),e}getAncestors(e={includeSelf:!1,parentFirst:!1}){const t=[];let n=e.includeSelf?this:this.parent;for(;n;)t[e.parentFirst?"push":"unshift"](n),n=n.parent;return t}hasAttribute(e){return this.textNode.hasAttribute(e)}getAttribute(e){return this.textNode.getAttribute(e)}getAttributes(){return this.textNode.getAttributes()}getAttributeKeys(){return this.textNode.getAttributeKeys()}}class ti{constructor(e){this._nodes=[],e&&this._insertNodes(0,e)}[Symbol.iterator](){return this._nodes[Symbol.iterator]()}get length(){return this._nodes.length}get maxOffset(){return this._nodes.reduce((e,t)=>e+t.offsetSize,0)}getNode(e){return this._nodes[e]||null}getNodeIndex(e){const t=this._nodes.indexOf(e);return-1==t?null:t}getNodeStartOffset(e){const t=this.getNodeIndex(e);return null===t?null:this._nodes.slice(0,t).reduce((e,t)=>e+t.offsetSize,0)}indexToOffset(e){if(e==this._nodes.length)return this.maxOffset;const t=this._nodes[e];if(!t)throw new _t.b("model-nodelist-index-out-of-bounds: Given index cannot be found in the node list.",this);return this.getNodeStartOffset(t)}offsetToIndex(e){let t=0;for(const n of this._nodes){if(e>=t&&e<t+n.offsetSize)return this.getNodeIndex(n);t+=n.offsetSize}if(t!=e)throw new _t.b("model-nodelist-offset-out-of-bounds: Given offset cannot be found in the node list.",this,{offset:e,nodeList:this});return this.length}_insertNodes(e,t){for(const n of t)if(!(n instanceof Xo))throw new _t.b("model-nodelist-insertNodes-not-node: Trying to insert an object which is not a Node instance.",this);this._nodes.splice(e,0,...t)}_removeNodes(e,t=1){return this._nodes.splice(e,t)}toJSON(){return this._nodes.map(e=>e.toJSON())}}class ni extends Xo{constructor(e,t,n){super(t),this.name=e,this._children=new ti,n&&this._insertChild(0,n)}get childCount(){return this._children.length}get maxOffset(){return this._children.maxOffset}get isEmpty(){return 0===this.childCount}is(e,t=null){const n=e.replace(/^model:/,"");return t?"element"==n&&t==this.name:"element"==n||n==this.name||super.is(e)}getChild(e){return this._children.getNode(e)}getChildren(){return this._children[Symbol.iterator]()}getChildIndex(e){return this._children.getNodeIndex(e)}getChildStartOffset(e){return this._children.getNodeStartOffset(e)}offsetToIndex(e){return this._children.offsetToIndex(e)}getNodeByPath(e){let t=this;for(const n of e)t=t.getChild(t.offsetToIndex(n));return t}toJSON(){const e=super.toJSON();if(e.name=this.name,this._children.length>0){e.children=[];for(const t of this._children)e.children.push(t.toJSON())}return e}_clone(e=!1){const t=e?Array.from(this._children).map(e=>e._clone(!0)):null;return new ni(this.name,this.getAttributes(),t)}_appendChild(e){this._insertChild(this.childCount,e)}_insertChild(e,t){const n=function(e){return"string"==typeof e?[new Zo(e)]:(Ht(e)||(e=[e]),Array.from(e).map(e=>"string"==typeof e?new Zo(e):e instanceof ei?new Zo(e.data,e.getAttributes()):e))}(t);for(const r of n)null!==r.parent&&r._remove(),r.parent=this;this._children._insertNodes(e,n)}_removeChildren(e,t=1){const n=this._children._removeNodes(e,t);for(const r of n)r.parent=null;return n}static fromJSON(e){let t=null;if(e.children){t=[];for(const n of e.children)n.name?t.push(ni.fromJSON(n)):t.push(Zo.fromJSON(n))}return new ni(e.name,e.attributes,t)}}class ri{constructor(e={}){if(!e.boundaries&&!e.startPosition)throw new _t.b("model-tree-walker-no-start-position: Neither boundaries nor starting position have been defined.",null);const t=e.direction||"forward";if("forward"!=t&&"backward"!=t)throw new _t.b("model-tree-walker-unknown-direction: Only `backward` and `forward` direction allowed.",e,{direction:t});this.direction=t,this.boundaries=e.boundaries||null,e.startPosition?this.position=e.startPosition.clone():this.position=ii._createAt(this.boundaries["backward"==this.direction?"end":"start"]),this.position.stickiness="toNone",this.singleCharacters=!!e.singleCharacters,this.shallow=!!e.shallow,this.ignoreElementEnd=!!e.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null,this._visitedParent=this.position.parent}[Symbol.iterator](){return this}skip(e){let t,n,r,o;do{r=this.position,o=this._visitedParent,({done:t,value:n}=this.next())}while(!t&&e(n));t||(this.position=r,this._visitedParent=o)}next(){return"forward"==this.direction?this._next():this._previous()}_next(){const e=this.position,t=this.position.clone(),n=this._visitedParent;if(null===n.parent&&t.offset===n.maxOffset)return{done:!0};if(n===this._boundaryEndParent&&t.offset==this.boundaries.end.offset)return{done:!0};const r=t.textNode?t.textNode:t.nodeAfter;if(r instanceof ni)return this.shallow?t.offset++:(t.path.push(0),this._visitedParent=r),this.position=t,oi("elementStart",r,e,t,1);if(r instanceof Zo){let o;if(this.singleCharacters)o=1;else{let e=r.endOffset;this._boundaryEndParent==n&&this.boundaries.end.offset<e&&(e=this.boundaries.end.offset),o=e-t.offset}const i=t.offset-r.startOffset,a=new ei(r,i,o);return t.offset+=o,this.position=t,oi("text",a,e,t,o)}return t.path.pop(),t.offset++,this.position=t,this._visitedParent=n.parent,this.ignoreElementEnd?this._next():oi("elementEnd",n,e,t)}_previous(){const e=this.position,t=this.position.clone(),n=this._visitedParent;if(null===n.parent&&0===t.offset)return{done:!0};if(n==this._boundaryStartParent&&t.offset==this.boundaries.start.offset)return{done:!0};const r=t.textNode?t.textNode:t.nodeBefore;if(r instanceof ni)return t.offset--,this.shallow?(this.position=t,oi("elementStart",r,e,t,1)):(t.path.push(r.maxOffset),this.position=t,this._visitedParent=r,this.ignoreElementEnd?this._previous():oi("elementEnd",r,e,t));if(r instanceof Zo){let o;if(this.singleCharacters)o=1;else{let e=r.startOffset;this._boundaryStartParent==n&&this.boundaries.start.offset>e&&(e=this.boundaries.start.offset),o=t.offset-e}const i=t.offset-r.startOffset,a=new ei(r,i-o,o);return t.offset-=o,this.position=t,oi("text",a,e,t,o)}return t.path.pop(),this.position=t,this._visitedParent=n.parent,oi("elementStart",n,e,t,1)}}function oi(e,t,n,r,o){return{done:!1,value:{type:e,item:t,previousPosition:n,nextPosition:r,length:o}}}class ii{constructor(e,t,n="toNone"){if(!e.is("element")&&!e.is("documentFragment"))throw new _t.b("model-position-root-invalid: Position root invalid.",e);if(!(t instanceof Array)||0===t.length)throw new _t.b("model-position-path-incorrect-format: Position path must be an array with at least one item.",e,{path:t});t=e.getPath().concat(t),e=e.root,this.root=e,this.path=t,this.stickiness=n}get offset(){return an(this.path)}set offset(e){this.path[this.path.length-1]=e}get parent(){let e=this.root;for(let t=0;t<this.path.length-1;t++)if(!(e=e.getChild(e.offsetToIndex(this.path[t]))))throw new _t.b("model-position-path-incorrect: The position's path is incorrect.",this,{position:this});if(e.is("text"))throw new _t.b("model-position-path-incorrect: The position's path is incorrect.",this,{position:this});return e}get index(){return this.parent.offsetToIndex(this.offset)}get textNode(){const e=this.parent.getChild(this.index);return e instanceof Zo&&e.startOffset<this.offset?e:null}get nodeAfter(){return null===this.textNode?this.parent.getChild(this.index):null}get nodeBefore(){return null===this.textNode?this.parent.getChild(this.index-1):null}get isAtStart(){return 0===this.offset}get isAtEnd(){return this.offset==this.parent.maxOffset}compareWith(e){if(this.root!=e.root)return"different";const t=Bt(this.path,e.path);switch(t){case"same":return"same";case"prefix":return"before";case"extension":return"after";default:return this.path[t]<e.path[t]?"before":"after"}}getLastMatchingPosition(e,t={}){t.startPosition=this;const n=new ri(t);return n.skip(e),n.position}getParentPath(){return this.path.slice(0,-1)}getAncestors(){return this.parent.is("documentFragment")?[this.parent]:this.parent.getAncestors({includeSelf:!0})}getCommonPath(e){if(this.root!=e.root)return[];const t=Bt(this.path,e.path),n="string"==typeof t?Math.min(this.path.length,e.path.length):t;return this.path.slice(0,n)}getCommonAncestor(e){const t=this.getAncestors(),n=e.getAncestors();let r=0;for(;t[r]==n[r]&&t[r];)r++;return 0===r?null:t[r-1]}getShiftedBy(e){const t=this.clone(),n=t.offset+e;return t.offset=n<0?0:n,t}isAfter(e){return"after"==this.compareWith(e)}isBefore(e){return"before"==this.compareWith(e)}isEqual(e){return"same"==this.compareWith(e)}isTouching(e){let t=null,n=null;switch(this.compareWith(e)){case"same":return!0;case"before":t=ii._createAt(this),n=ii._createAt(e);break;case"after":t=ii._createAt(e),n=ii._createAt(this);break;default:return!1}let r=t.parent;for(;t.path.length+n.path.length;){if(t.isEqual(n))return!0;if(t.path.length>n.path.length){if(t.offset!==r.maxOffset)return!1;t.path=t.path.slice(0,-1),r=r.parent,t.offset++}else{if(0!==n.offset)return!1;n.path=n.path.slice(0,-1)}}}is(e){return"position"==e||"model:position"==e}hasSameParentAs(e){return this.root===e.root&&"same"==Bt(this.getParentPath(),e.getParentPath())}getTransformedByOperation(e){let t;switch(e.type){case"insert":t=this._getTransformedByInsertOperation(e);break;case"move":case"remove":case"reinsert":t=this._getTransformedByMoveOperation(e);break;case"split":t=this._getTransformedBySplitOperation(e);break;case"merge":t=this._getTransformedByMergeOperation(e);break;default:t=ii._createAt(this)}return t}_getTransformedByInsertOperation(e){return this._getTransformedByInsertion(e.position,e.howMany)}_getTransformedByMoveOperation(e){return this._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany)}_getTransformedBySplitOperation(e){const t=e.movedRange;return t.containsPosition(this)||t.start.isEqual(this)&&"toNext"==this.stickiness?this._getCombined(e.splitPosition,e.moveTargetPosition):e.graveyardPosition?this._getTransformedByMove(e.graveyardPosition,e.insertionPosition,1):this._getTransformedByInsertion(e.insertionPosition,1)}_getTransformedByMergeOperation(e){const t=e.movedRange;let n;return t.containsPosition(this)||t.start.isEqual(this)?(n=this._getCombined(e.sourcePosition,e.targetPosition),e.sourcePosition.isBefore(e.targetPosition)&&(n=n._getTransformedByDeletion(e.deletionPosition,1))):n=this.isEqual(e.deletionPosition)?ii._createAt(e.deletionPosition):this._getTransformedByMove(e.deletionPosition,e.graveyardPosition,1),n}_getTransformedByDeletion(e,t){const n=ii._createAt(this);if(this.root!=e.root)return n;if("same"==Bt(e.getParentPath(),this.getParentPath())){if(e.offset<this.offset){if(e.offset+t>this.offset)return null;n.offset-=t}}else if("prefix"==Bt(e.getParentPath(),this.getParentPath())){const r=e.path.length-1;if(e.offset<=this.path[r]){if(e.offset+t>this.path[r])return null;n.path[r]-=t}}return n}_getTransformedByInsertion(e,t){const n=ii._createAt(this);if(this.root!=e.root)return n;if("same"==Bt(e.getParentPath(),this.getParentPath()))(e.offset<this.offset||e.offset==this.offset&&"toPrevious"!=this.stickiness)&&(n.offset+=t);else if("prefix"==Bt(e.getParentPath(),this.getParentPath())){const r=e.path.length-1;e.offset<=this.path[r]&&(n.path[r]+=t)}return n}_getTransformedByMove(e,t,n){if(t=t._getTransformedByDeletion(e,n),e.isEqual(t))return ii._createAt(this);const r=this._getTransformedByDeletion(e,n);return null===r||e.isEqual(this)&&"toNext"==this.stickiness||e.getShiftedBy(n).isEqual(this)&&"toPrevious"==this.stickiness?this._getCombined(e,t):r._getTransformedByInsertion(t,n)}_getCombined(e,t){const n=e.path.length-1,r=ii._createAt(t);return r.stickiness=this.stickiness,r.offset=r.offset+this.path[n]-e.offset,r.path=r.path.concat(this.path.slice(n+1)),r}toJSON(){return{root:this.root.toJSON(),path:Array.from(this.path),stickiness:this.stickiness}}clone(){return new this.constructor(this.root,this.path,this.stickiness)}static _createAt(e,t,n="toNone"){if(e instanceof ii)return new ii(e.root,e.path,e.stickiness);{const r=e;if("end"==t)t=r.maxOffset;else{if("before"==t)return this._createBefore(r,n);if("after"==t)return this._createAfter(r,n);if(0!==t&&!t)throw new _t.b("model-createPositionAt-offset-required: Model#createPositionAt() requires the offset when the first parameter is a model item.",[this,e])}if(!r.is("element")&&!r.is("documentFragment"))throw new _t.b("model-position-parent-incorrect: Position parent have to be a element or document fragment.",[this,e]);const o=r.getPath();return o.push(t),new this(r.root,o,n)}}static _createAfter(e,t){if(!e.parent)throw new _t.b("model-position-after-root: You cannot make a position after root.",[this,e],{root:e});return this._createAt(e.parent,e.endOffset,t)}static _createBefore(e,t){if(!e.parent)throw new _t.b("model-position-before-root: You cannot make a position before root.",e,{root:e});return this._createAt(e.parent,e.startOffset,t)}static fromJSON(e,t){if("$graveyard"===e.root){const n=new ii(t.graveyard,e.path);return n.stickiness=e.stickiness,n}if(!t.getRoot(e.root))throw new _t.b("model-position-fromjson-no-root: Cannot create position for document. Root with specified name does not exist.",t,{rootName:e.root});return new ii(t.getRoot(e.root),e.path,e.stickiness)}}class ai{constructor(e,t=null){this.start=ii._createAt(e),this.end=t?ii._createAt(t):ii._createAt(e),this.start.stickiness=this.isCollapsed?"toNone":"toNext",this.end.stickiness=this.isCollapsed?"toNone":"toPrevious"}*[Symbol.iterator](){yield*new ri({boundaries:this,ignoreElementEnd:!0})}get isCollapsed(){return this.start.isEqual(this.end)}get isFlat(){return"same"==Bt(this.start.getParentPath(),this.end.getParentPath())}get root(){return this.start.root}containsPosition(e){return e.isAfter(this.start)&&e.isBefore(this.end)}containsRange(e,t=!1){e.isCollapsed&&(t=!1);const n=this.containsPosition(e.start)||t&&this.start.isEqual(e.start),r=this.containsPosition(e.end)||t&&this.end.isEqual(e.end);return n&&r}containsItem(e){const t=ii._createBefore(e);return this.containsPosition(t)||this.start.isEqual(t)}is(e){return"range"==e||"model:range"==e}isEqual(e){return this.start.isEqual(e.start)&&this.end.isEqual(e.end)}isIntersecting(e){return this.start.isBefore(e.end)&&this.end.isAfter(e.start)}getDifference(e){const t=[];return this.isIntersecting(e)?(this.containsPosition(e.start)&&t.push(new ai(this.start,e.start)),this.containsPosition(e.end)&&t.push(new ai(e.end,this.end))):t.push(new ai(this.start,this.end)),t}getIntersection(e){if(this.isIntersecting(e)){let t=this.start,n=this.end;return this.containsPosition(e.start)&&(t=e.start),this.containsPosition(e.end)&&(n=e.end),new ai(t,n)}return null}getMinimalFlatRanges(){const e=[],t=this.start.getCommonPath(this.end).length,n=ii._createAt(this.start);let r=n.parent;for(;n.path.length>t+1;){const t=r.maxOffset-n.offset;0!==t&&e.push(new ai(n,n.getShiftedBy(t))),n.path=n.path.slice(0,-1),n.offset++,r=r.parent}for(;n.path.length<=this.end.path.length;){const t=this.end.path[n.path.length-1],r=t-n.offset;0!==r&&e.push(new ai(n,n.getShiftedBy(r))),n.offset=t,n.path.push(0)}return e}getWalker(e={}){return e.boundaries=this,new ri(e)}*getItems(e={}){e.boundaries=this,e.ignoreElementEnd=!0;const t=new ri(e);for(const n of t)yield n.item}*getPositions(e={}){e.boundaries=this;const t=new ri(e);yield t.position;for(const n of t)yield n.nextPosition}getTransformedByOperation(e){switch(e.type){case"insert":return this._getTransformedByInsertOperation(e);case"move":case"remove":case"reinsert":return this._getTransformedByMoveOperation(e);case"split":return[this._getTransformedBySplitOperation(e)];case"merge":return[this._getTransformedByMergeOperation(e)]}return[new ai(this.start,this.end)]}getTransformedByOperations(e){const t=[new ai(this.start,this.end)];for(const n of e)for(let e=0;e<t.length;e++){const r=t[e].getTransformedByOperation(n);t.splice(e,1,...r),e+=r.length-1}for(let n=0;n<t.length;n++){const e=t[n];for(let r=n+1;r<t.length;r++){const n=t[r];(e.containsRange(n)||n.containsRange(e)||e.isEqual(n))&&t.splice(r,1)}}return t}getCommonAncestor(){return this.start.getCommonAncestor(this.end)}getContainedElement(){if(this.isCollapsed)return null;const e=this.start.nodeAfter,t=this.end.nodeBefore;return e&&e.is("element")&&e===t?e:null}toJSON(){return{start:this.start.toJSON(),end:this.end.toJSON()}}clone(){return new this.constructor(this.start,this.end)}_getTransformedByInsertOperation(e,t=!1){return this._getTransformedByInsertion(e.position,e.howMany,t)}_getTransformedByMoveOperation(e,t=!1){const n=e.sourcePosition,r=e.howMany,o=e.targetPosition;return this._getTransformedByMove(n,o,r,t)}_getTransformedBySplitOperation(e){const t=this.start._getTransformedBySplitOperation(e);let n=this.end._getTransformedBySplitOperation(e);return this.end.isEqual(e.insertionPosition)&&(n=this.end.getShiftedBy(1)),t.root!=n.root&&(n=this.end.getShiftedBy(-1)),new ai(t,n)}_getTransformedByMergeOperation(e){if(this.start.isEqual(e.targetPosition)&&this.end.isEqual(e.deletionPosition))return new ai(this.start);let t=this.start._getTransformedByMergeOperation(e),n=this.end._getTransformedByMergeOperation(e);return t.root!=n.root&&(n=this.end.getShiftedBy(-1)),t.isAfter(n)?(e.sourcePosition.isBefore(e.targetPosition)?(t=ii._createAt(n)).offset=0:(e.deletionPosition.isEqual(t)||(n=e.deletionPosition),t=e.targetPosition),new ai(t,n)):new ai(t,n)}_getTransformedByInsertion(e,t,n=!1){if(n&&this.containsPosition(e))return[new ai(this.start,e),new ai(e.getShiftedBy(t),this.end._getTransformedByInsertion(e,t))];{const n=new ai(this.start,this.end);return n.start=n.start._getTransformedByInsertion(e,t),n.end=n.end._getTransformedByInsertion(e,t),[n]}}_getTransformedByMove(e,t,n,r=!1){if(this.isCollapsed){const r=this.start._getTransformedByMove(e,t,n);return[new ai(r)]}const o=ai._createFromPositionAndShift(e,n),i=t._getTransformedByDeletion(e,n);if(this.containsPosition(t)&&!r&&(o.containsPosition(this.start)||o.containsPosition(this.end))){const r=this.start._getTransformedByMove(e,t,n),o=this.end._getTransformedByMove(e,t,n);return[new ai(r,o)]}let a;const s=this.getDifference(o);let l=null;const c=this.getIntersection(o);if(1==s.length?l=new ai(s[0].start._getTransformedByDeletion(e,n),s[0].end._getTransformedByDeletion(e,n)):2==s.length&&(l=new ai(this.start,this.end._getTransformedByDeletion(e,n))),a=l?l._getTransformedByInsertion(i,n,null!==c||r):[],c){const e=new ai(c.start._getCombined(o.start,i),c.end._getCombined(o.start,i));2==a.length?a.splice(1,0,e):a.push(e)}return a}_getTransformedByDeletion(e,t){let n=this.start._getTransformedByDeletion(e,t),r=this.end._getTransformedByDeletion(e,t);return null==n&&null==r?null:(null==n&&(n=e),null==r&&(r=e),new ai(n,r))}static _createFromPositionAndShift(e,t){const n=e,r=e.getShiftedBy(t);return t>0?new this(n,r):new this(r,n)}static _createIn(e){return new this(ii._createAt(e,0),ii._createAt(e,e.maxOffset))}static _createOn(e){return this._createFromPositionAndShift(ii._createBefore(e),e.offsetSize)}static _createFromRanges(e){if(0===e.length)throw new _t.b("range-create-from-ranges-empty-array: At least one range has to be passed.",null);if(1==e.length)return e[0].clone();const t=e[0];e.sort((e,t)=>e.start.isAfter(t.start)?1:-1);const n=e.indexOf(t),r=new this(t.start,t.end);if(n>0)for(let o=n-1;e[o].end.isEqual(r.start);o++)r.start=ii._createAt(e[o].start);for(let o=n+1;o<e.length&&e[o].start.isEqual(r.end);o++)r.end=ii._createAt(e[o].end);return r}static fromJSON(e,t){return new this(ii.fromJSON(e.start,t),ii.fromJSON(e.end,t))}}class si{constructor(){this._modelToViewMapping=new WeakMap,this._viewToModelMapping=new WeakMap,this._viewToModelLengthCallbacks=new Map,this._markerNameToElements=new Map,this._elementToMarkerNames=new Map,this._unboundMarkerNames=new Set,this.on("modelToViewPosition",(e,t)=>{if(t.viewPosition)return;const n=this._modelToViewMapping.get(t.modelPosition.parent);t.viewPosition=this._findPositionIn(n,t.modelPosition.offset)},{priority:"low"}),this.on("viewToModelPosition",(e,t)=>{if(t.modelPosition)return;const n=this.findMappedViewAncestor(t.viewPosition),r=this._viewToModelMapping.get(n),o=this._toModelOffset(t.viewPosition.parent,t.viewPosition.offset,n);t.modelPosition=ii._createAt(r,o)},{priority:"low"})}bindElements(e,t){this._modelToViewMapping.set(e,t),this._viewToModelMapping.set(t,e)}unbindViewElement(e){const t=this.toModelElement(e);if(this._viewToModelMapping.delete(e),this._elementToMarkerNames.has(e))for(const n of this._elementToMarkerNames.get(e))this._unboundMarkerNames.add(n);this._modelToViewMapping.get(t)==e&&this._modelToViewMapping.delete(t)}unbindModelElement(e){const t=this.toViewElement(e);this._modelToViewMapping.delete(e),this._viewToModelMapping.get(t)==e&&this._viewToModelMapping.delete(t)}bindElementToMarker(e,t){const n=this._markerNameToElements.get(t)||new Set;n.add(e);const r=this._elementToMarkerNames.get(e)||new Set;r.add(t),this._markerNameToElements.set(t,n),this._elementToMarkerNames.set(e,r)}unbindElementFromMarkerName(e,t){const n=this._markerNameToElements.get(t);n&&(n.delete(e),0==n.size&&this._markerNameToElements.delete(t));const r=this._elementToMarkerNames.get(e);r&&(r.delete(t),0==r.size&&this._elementToMarkerNames.delete(e))}flushUnboundMarkerNames(){const e=Array.from(this._unboundMarkerNames);return this._unboundMarkerNames.clear(),e}clearBindings(){this._modelToViewMapping=new WeakMap,this._viewToModelMapping=new WeakMap,this._markerNameToElements=new Map,this._elementToMarkerNames=new Map,this._unboundMarkerNames=new Set}toModelElement(e){return this._viewToModelMapping.get(e)}toViewElement(e){return this._modelToViewMapping.get(e)}toModelRange(e){return new ai(this.toModelPosition(e.start),this.toModelPosition(e.end))}toViewRange(e){return new Gn(this.toViewPosition(e.start),this.toViewPosition(e.end))}toModelPosition(e){const t={viewPosition:e,mapper:this};return this.fire("viewToModelPosition",t),t.modelPosition}toViewPosition(e,t={isPhantom:!1}){const n={modelPosition:e,mapper:this,isPhantom:t.isPhantom};return this.fire("modelToViewPosition",n),n.viewPosition}markerNameToElements(e){const t=this._markerNameToElements.get(e);if(!t)return null;const n=new Set;for(const r of t)if(r.is("attributeElement"))for(const e of r.getElementsWithSameId())n.add(e);else n.add(r);return n}registerViewToModelLength(e,t){this._viewToModelLengthCallbacks.set(e,t)}findMappedViewAncestor(e){let t=e.parent;for(;!this._viewToModelMapping.has(t);)t=t.parent;return t}_toModelOffset(e,t,n){if(n!=e)return this._toModelOffset(e.parent,e.index,n)+this._toModelOffset(e,t,e);if(e.is("text"))return t;let r=0;for(let o=0;o<t;o++)r+=this.getModelLength(e.getChild(o));return r}getModelLength(e){if(this._viewToModelLengthCallbacks.get(e.name))return this._viewToModelLengthCallbacks.get(e.name)(e);if(this._viewToModelMapping.has(e))return 1;if(e.is("text"))return e.data.length;if(e.is("uiElement"))return 0;{let t=0;for(const n of e.getChildren())t+=this.getModelLength(n);return t}}_findPositionIn(e,t){let n,r=0,o=0,i=0;if(e.is("text"))return new Wn(e,t);for(;o<t;)n=e.getChild(i),o+=r=this.getModelLength(n),i++;return o==t?this._moveViewPositionToTextNode(new Wn(e,i)):this._findPositionIn(n,t-(o-r))}_moveViewPositionToTextNode(e){const t=e.nodeBefore,n=e.nodeAfter;return t instanceof qt?new Wn(t,t.data.length):n instanceof qt?new Wn(n,0):e}}At(si,St);class li{constructor(){this._consumable=new Map,this._textProxyRegistry=new Map}add(e,t){t=ci(t),e instanceof ei&&(e=this._getSymbolForTextProxy(e)),this._consumable.has(e)||this._consumable.set(e,new Map),this._consumable.get(e).set(t,!0)}consume(e,t){return t=ci(t),e instanceof ei&&(e=this._getSymbolForTextProxy(e)),!!this.test(e,t)&&(this._consumable.get(e).set(t,!1),!0)}test(e,t){t=ci(t),e instanceof ei&&(e=this._getSymbolForTextProxy(e));const n=this._consumable.get(e);if(void 0===n)return null;const r=n.get(t);return void 0===r?null:r}revert(e,t){t=ci(t),e instanceof ei&&(e=this._getSymbolForTextProxy(e));const n=this.test(e,t);return!1===n?(this._consumable.get(e).set(t,!0),!0):!0!==n&&null}_getSymbolForTextProxy(e){let t=null;const n=this._textProxyRegistry.get(e.startOffset);if(n){const r=n.get(e.endOffset);r&&(t=r.get(e.parent))}return t||(t=this._addSymbolForTextProxy(e.startOffset,e.endOffset,e.parent)),t}_addSymbolForTextProxy(e,t,n){const r=Symbol("textProxySymbol");let o,i;return(o=this._textProxyRegistry.get(e))||(o=new Map,this._textProxyRegistry.set(e,o)),(i=o.get(t))||(i=new Map,o.set(t,i)),i.set(n,r),r}}function ci(e){const t=e.split(":");return t.length>1?t[0]+":"+t[1]:t[0]}class ui{constructor(e){this.conversionApi=Mn({dispatcher:this},e)}convertChanges(e,t,n){for(const r of e.getMarkersToRemove())this.convertMarkerRemove(r.name,r.range,n);for(const r of e.getChanges())"insert"==r.type?this.convertInsert(ai._createFromPositionAndShift(r.position,r.length),n):"remove"==r.type?this.convertRemove(r.position,r.length,r.name,n):this.convertAttribute(r.range,r.attributeKey,r.attributeOldValue,r.attributeNewValue,n);for(const r of this.conversionApi.mapper.flushUnboundMarkerNames()){const e=t.get(r).getRange();this.convertMarkerRemove(r,e,n),this.convertMarkerAdd(r,e,n)}for(const r of e.getMarkersToAdd())this.convertMarkerAdd(r.name,r.range,n)}convertInsert(e,t){this.conversionApi.writer=t,this.conversionApi.consumable=this._createInsertConsumable(e);for(const n of e){const e=n.item,t={item:e,range:ai._createFromPositionAndShift(n.previousPosition,n.length)};this._testAndFire("insert",t);for(const n of e.getAttributeKeys())t.attributeKey=n,t.attributeOldValue=null,t.attributeNewValue=e.getAttribute(n),this._testAndFire(`attribute:${n}`,t)}this._clearConversionApi()}convertRemove(e,t,n,r){this.conversionApi.writer=r,this.fire("remove:"+n,{position:e,length:t},this.conversionApi),this._clearConversionApi()}convertAttribute(e,t,n,r,o){this.conversionApi.writer=o,this.conversionApi.consumable=this._createConsumableForRange(e,`attribute:${t}`);for(const i of e){const e={item:i.item,range:ai._createFromPositionAndShift(i.previousPosition,i.length),attributeKey:t,attributeOldValue:n,attributeNewValue:r};this._testAndFire(`attribute:${t}`,e)}this._clearConversionApi()}convertSelection(e,t,n){const r=Array.from(t.getMarkersAtPosition(e.getFirstPosition()));if(this.conversionApi.writer=n,this.conversionApi.consumable=this._createSelectionConsumable(e,r),this.fire("selection",{selection:e},this.conversionApi),e.isCollapsed){for(const t of r){const n=t.getRange();if(!di(e.getFirstPosition(),t,this.conversionApi.mapper))continue;const r={item:e,markerName:t.name,markerRange:n};this.conversionApi.consumable.test(e,"addMarker:"+t.name)&&this.fire("addMarker:"+t.name,r,this.conversionApi)}for(const t of e.getAttributeKeys()){const n={item:e,range:e.getFirstRange(),attributeKey:t,attributeOldValue:null,attributeNewValue:e.getAttribute(t)};this.conversionApi.consumable.test(e,"attribute:"+n.attributeKey)&&this.fire("attribute:"+n.attributeKey+":$text",n,this.conversionApi)}this._clearConversionApi()}}convertMarkerAdd(e,t,n){if(!t.root.document||"$graveyard"==t.root.rootName)return;this.conversionApi.writer=n;const r="addMarker:"+e,o=new li;if(o.add(t,r),this.conversionApi.consumable=o,this.fire(r,{markerName:e,markerRange:t},this.conversionApi),o.test(t,r)){this.conversionApi.consumable=this._createConsumableForRange(t,r);for(const n of t.getItems()){if(!this.conversionApi.consumable.test(n,r))continue;const o={item:n,range:ai._createOn(n),markerName:e,markerRange:t};this.fire(r,o,this.conversionApi)}this._clearConversionApi()}}convertMarkerRemove(e,t,n){t.root.document&&"$graveyard"!=t.root.rootName&&(this.conversionApi.writer=n,this.fire("removeMarker:"+e,{markerName:e,markerRange:t},this.conversionApi),this._clearConversionApi())}_createInsertConsumable(e){const t=new li;for(const n of e){const e=n.item;t.add(e,"insert");for(const n of e.getAttributeKeys())t.add(e,"attribute:"+n)}return t}_createConsumableForRange(e,t){const n=new li;for(const r of e.getItems())n.add(r,t);return n}_createSelectionConsumable(e,t){const n=new li;n.add(e,"selection");for(const r of t)n.add(e,"addMarker:"+r.name);for(const r of e.getAttributeKeys())n.add(e,"attribute:"+r);return n}_testAndFire(e,t){if(!this.conversionApi.consumable.test(t.item,e))return;const n=t.item.name||"$text";this.fire(e+":"+n,t,this.conversionApi)}_clearConversionApi(){delete this.conversionApi.writer,delete this.conversionApi.consumable}}function di(e,t,n){const r=t.getRange(),o=Array.from(e.getAncestors());return o.shift(),o.reverse(),!o.some(e=>{if(r.containsItem(e))return!!n.toViewElement(e).getCustomProperty("addHighlight")})}At(ui,St);class pi{constructor(e,t,n){this._lastRangeBackward=!1,this._ranges=[],this._attrs=new Map,e&&this.setTo(e,t,n)}get anchor(){if(this._ranges.length>0){const e=this._ranges[this._ranges.length-1];return this._lastRangeBackward?e.end:e.start}return null}get focus(){if(this._ranges.length>0){const e=this._ranges[this._ranges.length-1];return this._lastRangeBackward?e.start:e.end}return null}get isCollapsed(){return 1===this._ranges.length&&this._ranges[0].isCollapsed}get rangeCount(){return this._ranges.length}get isBackward(){return!this.isCollapsed&&this._lastRangeBackward}isEqual(e){if(this.rangeCount!=e.rangeCount)return!1;if(0===this.rangeCount)return!0;if(!this.anchor.isEqual(e.anchor)||!this.focus.isEqual(e.focus))return!1;for(const t of this._ranges){let n=!1;for(const r of e._ranges)if(t.isEqual(r)){n=!0;break}if(!n)return!1}return!0}*getRanges(){for(const e of this._ranges)yield new ai(e.start,e.end)}getFirstRange(){let e=null;for(const t of this._ranges)e&&!t.start.isBefore(e.start)||(e=t);return e?new ai(e.start,e.end):null}getLastRange(){let e=null;for(const t of this._ranges)e&&!t.end.isAfter(e.end)||(e=t);return e?new ai(e.start,e.end):null}getFirstPosition(){const e=this.getFirstRange();return e?e.start.clone():null}getLastPosition(){const e=this.getLastRange();return e?e.end.clone():null}setTo(e,t,n){if(null===e)this._setRanges([]);else if(e instanceof pi)this._setRanges(e.getRanges(),e.isBackward);else if(e&&"function"==typeof e.getRanges)this._setRanges(e.getRanges(),e.isBackward);else if(e instanceof ai)this._setRanges([e],!!t&&!!t.backward);else if(e instanceof ii)this._setRanges([new ai(e)]);else if(e instanceof Xo){const r=!!n&&!!n.backward;let o;if("in"==t)o=ai._createIn(e);else if("on"==t)o=ai._createOn(e);else{if(void 0===t)throw new _t.b("model-selection-setTo-required-second-parameter: selection.setTo requires the second parameter when the first parameter is a node.",[this,e]);o=new ai(ii._createAt(e,t))}this._setRanges([o],r)}else{if(!Ht(e))throw new _t.b("model-selection-setTo-not-selectable: Cannot set the selection to the given place.",[this,e]);this._setRanges(e,t&&!!t.backward)}}_setRanges(e,t=!1){const n=(e=Array.from(e)).some(t=>{if(!(t instanceof ai))throw new _t.b("model-selection-set-ranges-not-range: Selection range set to an object that is not an instance of model.Range.",[this,e]);return this._ranges.every(e=>!e.isEqual(t))});if(e.length!==this._ranges.length||n){this._removeAllRanges();for(const t of e)this._pushRange(t);this._lastRangeBackward=!!t,this.fire("change:range",{directChange:!0})}}setFocus(e,t){if(null===this.anchor)throw new _t.b("model-selection-setFocus-no-ranges: Cannot set selection focus if there are no ranges in selection.",[this,e]);const n=ii._createAt(e,t);if("same"==n.compareWith(this.focus))return;const r=this.anchor;this._ranges.length&&this._popRange(),"before"==n.compareWith(r)?(this._pushRange(new ai(n,r)),this._lastRangeBackward=!0):(this._pushRange(new ai(r,n)),this._lastRangeBackward=!1),this.fire("change:range",{directChange:!0})}getAttribute(e){return this._attrs.get(e)}getAttributes(){return this._attrs.entries()}getAttributeKeys(){return this._attrs.keys()}hasAttribute(e){return this._attrs.has(e)}removeAttribute(e){this.hasAttribute(e)&&(this._attrs.delete(e),this.fire("change:attribute",{attributeKeys:[e],directChange:!0}))}setAttribute(e,t){this.getAttribute(e)!==t&&(this._attrs.set(e,t),this.fire("change:attribute",{attributeKeys:[e],directChange:!0}))}getSelectedElement(){return 1!==this.rangeCount?null:this.getFirstRange().getContainedElement()}is(e){return"selection"==e||"model:selection"==e}*getSelectedBlocks(){const e=new WeakSet;for(const t of this.getRanges()){const n=mi(t.start,e);n&&gi(n,t)&&(yield n);for(const o of t.getWalker()){const n=o.item;"elementEnd"==o.type&&hi(n,e,t)&&(yield n)}const r=mi(t.end,e);r&&!t.end.isTouching(ii._createAt(r,0))&&gi(r,t)&&(yield r)}}containsEntireContent(e=this.anchor.root){const t=ii._createAt(e,0),n=ii._createAt(e,"end");return t.isTouching(this.getFirstPosition())&&n.isTouching(this.getLastPosition())}_pushRange(e){this._checkRange(e),this._ranges.push(new ai(e.start,e.end))}_checkRange(e){for(let t=0;t<this._ranges.length;t++)if(e.isIntersecting(this._ranges[t]))throw new _t.b("model-selection-range-intersects: Trying to add a range that intersects with another range in the selection.",[this,e],{addedRange:e,intersectingRange:this._ranges[t]})}_removeAllRanges(){for(;this._ranges.length>0;)this._popRange()}_popRange(){this._ranges.pop()}}function fi(e,t){return!t.has(e)&&(t.add(e),e.root.document.model.schema.isBlock(e)&&e.parent)}function hi(e,t,n){return fi(e,t)&&gi(e,n)}function mi(e,t){const n=e.parent.root.document.model.schema,r=e.parent.getAncestors({parentFirst:!0,includeSelf:!0});let o=!1;const i=r.find(e=>!o&&(o=n.isLimit(e),!o&&fi(e,t)));return r.forEach(e=>t.add(e)),i}function gi(e,t){const n=function(e){const t=e.root.document.model.schema;let n=e.parent;for(;n;){if(t.isBlock(n))return n;n=n.parent}}(e);return!n||!t.containsRange(ai._createOn(n),!0)}At(pi,St);class bi extends ai{constructor(e,t){super(e,t),function(){this.listenTo(this.root.document.model,"applyOperation",(e,t)=>{const n=t[0];n.isDocumentOperation&&function(e){const t=this.getTransformedByOperation(e),n=ai._createFromRanges(t),r=!n.isEqual(this),o=function(e,t){switch(t.type){case"insert":return e.containsPosition(t.position);case"move":case"remove":case"reinsert":case"merge":return e.containsPosition(t.sourcePosition)||e.start.isEqual(t.sourcePosition)||e.containsPosition(t.targetPosition);case"split":return e.containsPosition(t.splitPosition)||e.containsPosition(t.insertionPosition)}return!1}(this,e);let i=null;if(r){"$graveyard"==n.root.rootName&&(i="remove"==e.type?e.sourcePosition:e.deletionPosition);const t=this.toRange();this.start=n.start,this.end=n.end,this.fire("change:range",t,{deletionPosition:i})}else o&&this.fire("change:content",this.toRange(),{deletionPosition:i})}.call(this,n)},{priority:"low"})}.call(this)}detach(){this.stopListening()}is(e){return"liveRange"==e||"model:liveRange"==e||super.is(e)}toRange(){return new ai(this.start,this.end)}static fromRange(e){return new bi(e.start,e.end)}}At(bi,St);class vi{constructor(e){this._selection=new yi(e),this._selection.delegate("change:range").to(this),this._selection.delegate("change:attribute").to(this),this._selection.delegate("change:marker").to(this)}get isCollapsed(){return this._selection.isCollapsed}get anchor(){return this._selection.anchor}get focus(){return this._selection.focus}get rangeCount(){return this._selection.rangeCount}get hasOwnRange(){return this._selection.hasOwnRange}get isBackward(){return this._selection.isBackward}get isGravityOverridden(){return this._selection.isGravityOverridden}get markers(){return this._selection.markers}get _ranges(){return this._selection._ranges}getRanges(){return this._selection.getRanges()}getFirstPosition(){return this._selection.getFirstPosition()}getLastPosition(){return this._selection.getLastPosition()}getFirstRange(){return this._selection.getFirstRange()}getLastRange(){return this._selection.getLastRange()}getSelectedBlocks(){return this._selection.getSelectedBlocks()}getSelectedElement(){return this._selection.getSelectedElement()}containsEntireContent(e){return this._selection.containsEntireContent(e)}destroy(){this._selection.destroy()}getAttributeKeys(){return this._selection.getAttributeKeys()}getAttributes(){return this._selection.getAttributes()}getAttribute(e){return this._selection.getAttribute(e)}hasAttribute(e){return this._selection.hasAttribute(e)}refresh(){this._selection._updateMarkers(),this._selection._updateAttributes(!1)}is(e){return"selection"==e||"model:selection"==e||"documentSelection"==e||"model:documentSelection"==e}_setFocus(e,t){this._selection.setFocus(e,t)}_setTo(e,t,n){this._selection.setTo(e,t,n)}_setAttribute(e,t){this._selection.setAttribute(e,t)}_removeAttribute(e){this._selection.removeAttribute(e)}_getStoredAttributes(){return this._selection._getStoredAttributes()}_overrideGravity(){return this._selection.overrideGravity()}_restoreGravity(e){this._selection.restoreGravity(e)}static _getStoreAttributeKey(e){return"selection:"+e}static _isStoreAttributeKey(e){return e.startsWith("selection:")}}At(vi,St);class yi extends pi{constructor(e){super(),this.markers=new jt({idProperty:"name"}),this._model=e.model,this._document=e,this._attributePriority=new Map,this._fixGraveyardRangesData=[],this._hasChangedRange=!1,this._overriddenGravityRegister=new Set,this.listenTo(this._model,"applyOperation",(e,t)=>{const n=t[0];if(n.isDocumentOperation&&"marker"!=n.type&&"rename"!=n.type&&"noop"!=n.type){for(;this._fixGraveyardRangesData.length;){const{liveRange:e,sourcePosition:t}=this._fixGraveyardRangesData.shift();this._fixGraveyardSelection(e,t)}this._hasChangedRange&&(this._hasChangedRange=!1,this.fire("change:range",{directChange:!1}))}},{priority:"lowest"}),this.on("change:range",()=>{for(const e of this.getRanges())if(!this._document._validateSelectionRange(e))throw new _t.b("document-selection-wrong-position: Range from document selection starts or ends at incorrect position.",this,{range:e})}),this.listenTo(this._model.markers,"update",()=>this._updateMarkers()),this.listenTo(this._document,"change",(e,t)=>{!function(e,t){const n=e.document.differ;for(const r of n.getChanges()){if("insert"!=r.type)continue;const n=r.position.parent;r.length===n.maxOffset&&e.enqueueChange(t,e=>{const t=Array.from(n.getAttributeKeys()).filter(e=>e.startsWith("selection:"));for(const r of t)e.removeAttribute(r,n)})}}(this._model,t)})}get isCollapsed(){return 0===this._ranges.length?this._document._getDefaultRange().isCollapsed:super.isCollapsed}get anchor(){return super.anchor||this._document._getDefaultRange().start}get focus(){return super.focus||this._document._getDefaultRange().end}get rangeCount(){return this._ranges.length?this._ranges.length:1}get hasOwnRange(){return this._ranges.length>0}get isGravityOverridden(){return!!this._overriddenGravityRegister.size}destroy(){for(let e=0;e<this._ranges.length;e++)this._ranges[e].detach();this.stopListening()}*getRanges(){this._ranges.length?yield*super.getRanges():yield this._document._getDefaultRange()}getFirstRange(){return super.getFirstRange()||this._document._getDefaultRange()}getLastRange(){return super.getLastRange()||this._document._getDefaultRange()}setTo(e,t,n){super.setTo(e,t,n),this._updateAttributes(!0),this._updateMarkers()}setFocus(e,t){super.setFocus(e,t),this._updateAttributes(!0),this._updateMarkers()}setAttribute(e,t){if(this._setAttribute(e,t)){const t=[e];this.fire("change:attribute",{attributeKeys:t,directChange:!0})}}removeAttribute(e){if(this._removeAttribute(e)){const t=[e];this.fire("change:attribute",{attributeKeys:t,directChange:!0})}}overrideGravity(){const e=yt();return this._overriddenGravityRegister.add(e),1===this._overriddenGravityRegister.size&&this._updateAttributes(!0),e}restoreGravity(e){if(!this._overriddenGravityRegister.has(e))throw new _t.b("document-selection-gravity-wrong-restore: Attempting to restore the selection gravity for an unknown UID.",this,{uid:e});this._overriddenGravityRegister.delete(e),this.isGravityOverridden||this._updateAttributes(!0)}_popRange(){this._ranges.pop().detach()}_pushRange(e){const t=this._prepareRange(e);t&&this._ranges.push(t)}_prepareRange(e){if(this._checkRange(e),e.root==this._document.graveyard)return;const t=bi.fromRange(e);return t.on("change:range",(e,n,r)=>{this._hasChangedRange=!0,t.root==this._document.graveyard&&this._fixGraveyardRangesData.push({liveRange:t,sourcePosition:r.deletionPosition})}),t}_updateMarkers(){const e=[];let t=!1;for(const r of this._model.markers){const t=r.getRange();for(const n of this.getRanges())t.containsRange(n,!n.isCollapsed)&&e.push(r)}const n=Array.from(this.markers);for(const r of e)this.markers.has(r)||(this.markers.add(r),t=!0);for(const r of Array.from(this.markers))e.includes(r)||(this.markers.remove(r),t=!0);t&&this.fire("change:marker",{oldMarkers:n,directChange:!1})}_updateAttributes(e){const t=Vt(this._getSurroundingAttributes()),n=Vt(this.getAttributes());if(e)this._attributePriority=new Map,this._attrs=new Map;else for(const[o,i]of this._attributePriority)"low"==i&&(this._attrs.delete(o),this._attributePriority.delete(o));this._setAttributesTo(t);const r=[];for(const[o,i]of this.getAttributes())n.has(o)&&n.get(o)===i||r.push(o);for(const[o]of n)this.hasAttribute(o)||r.push(o);r.length>0&&this.fire("change:attribute",{attributeKeys:r,directChange:!1})}_setAttribute(e,t,n=!0){const r=n?"normal":"low";return("low"!=r||"normal"!=this._attributePriority.get(e))&&super.getAttribute(e)!==t&&(this._attrs.set(e,t),this._attributePriority.set(e,r),!0)}_removeAttribute(e,t=!0){const n=t?"normal":"low";return!("low"==n&&"normal"==this._attributePriority.get(e)||(this._attributePriority.set(e,n),!super.hasAttribute(e)||(this._attrs.delete(e),0)))}_setAttributesTo(e){const t=new Set;for(const[n,r]of this.getAttributes())e.get(n)!==r&&this._removeAttribute(n,!1);for(const[n,r]of e)this._setAttribute(n,r,!1)&&t.add(n);return t}*_getStoredAttributes(){const e=this.getFirstPosition().parent;if(this.isCollapsed&&e.isEmpty)for(const t of e.getAttributeKeys())t.startsWith("selection:")&&(yield[t.substr("selection:".length),e.getAttribute(t)])}_getSurroundingAttributes(){const e=this.getFirstPosition(),t=this._model.schema;let n=null;if(this.isCollapsed){const t=e.textNode?e.textNode:e.nodeBefore,r=e.textNode?e.textNode:e.nodeAfter;if(this.isGravityOverridden||(n=ki(t)),n||(n=ki(r)),!this.isGravityOverridden&&!n){let e=t;for(;e&&!n;)n=ki(e=e.previousSibling)}if(!n){let e=r;for(;e&&!n;)n=ki(e=e.nextSibling)}n||(n=this._getStoredAttributes())}else{const e=this.getFirstRange();for(const r of e){if(r.item.is("element")&&t.isObject(r.item))break;if("text"==r.type){n=r.item.getAttributes();break}}}return n}_fixGraveyardSelection(e,t){const n=t.clone(),r=this._model.schema.getNearestSelectionRange(n),o=this._ranges.indexOf(e);if(this._ranges.splice(o,1),e.detach(),r){const e=this._prepareRange(r);this._ranges.splice(o,0,e)}}}function ki(e){return e instanceof ei||e instanceof Zo?e.getAttributes():null}class _i{constructor(e){this._dispatchers=e}add(e){for(const t of this._dispatchers)e(t);return this}}var wi=function(e){return ut(e,5)};class Ci extends _i{elementToElement(e){return this.add(function(e){return(e=wi(e)).view=Pi(e.view,"container"),t=>{var n;t.on("insert:"+e.model,(n=e.view,(e,t,r)=>{const o=n(t.item,r.writer);if(!o)return;if(!r.consumable.consume(t.item,"insert"))return;const i=r.mapper.toViewPosition(t.range.start);r.mapper.bindElements(t.item,o),r.writer.insert(i,o)}),{priority:e.converterPriority||"normal"})}}(e))}attributeToElement(e){return this.add(function(e){let t="attribute:"+((e=wi(e)).model.key?e.model.key:e.model);if(e.model.name&&(t+=":"+e.model.name),e.model.values)for(const r of e.model.values)e.view[r]=Pi(e.view[r],"attribute");else e.view=Pi(e.view,"attribute");const n=Ei(e);return r=>{r.on(t,function(e){return(t,n,r)=>{const o=e(n.attributeOldValue,r.writer),i=e(n.attributeNewValue,r.writer);if(!o&&!i)return;if(!r.consumable.consume(n.item,t.name))return;const a=r.writer,s=a.document.selection;if(n.item instanceof pi||n.item instanceof vi)a.wrap(s.getFirstRange(),i);else{let e=r.mapper.toViewRange(n.range);null!==n.attributeOldValue&&o&&(e=a.unwrap(e,o)),null!==n.attributeNewValue&&i&&a.wrap(e,i)}}}(n),{priority:e.converterPriority||"normal"})}}(e))}attributeToAttribute(e){return this.add(function(e){let t="attribute:"+((e=wi(e)).model.key?e.model.key:e.model);if(e.model.name&&(t+=":"+e.model.name),e.model.values)for(const r of e.model.values)e.view[r]=xi(e.view[r]);else e.view=xi(e.view);const n=Ei(e);return r=>{var o;r.on(t,(o=n,(e,t,n)=>{const r=o(t.attributeOldValue,t),i=o(t.attributeNewValue,t);if(!r&&!i)return;if(!n.consumable.consume(t.item,e.name))return;const a=n.mapper.toViewElement(t.item),s=n.writer;if(!a)throw new _t.b("conversion-attribute-to-attribute-on-text: Trying to convert text node's attribute with attribute-to-attribute converter.",[t,n]);if(null!==t.attributeOldValue&&r)if("class"==r.key){const e=Array.isArray(r.value)?r.value:[r.value];for(const t of e)s.removeClass(t,a)}else if("style"==r.key){const e=Object.keys(r.value);for(const t of e)s.removeStyle(t,a)}else s.removeAttribute(r.key,a);if(null!==t.attributeNewValue&&i)if("class"==i.key){const e=Array.isArray(i.value)?i.value:[i.value];for(const t of e)s.addClass(t,a)}else if("style"==i.key){const e=Object.keys(i.value);for(const t of e)s.setStyle(t,i.value[t],a)}else s.setAttribute(i.key,i.value,a)}),{priority:e.converterPriority||"normal"})}}(e))}markerToElement(e){return this.add(function(e){return(e=wi(e)).view=Pi(e.view,"ui"),t=>{var n;t.on("addMarker:"+e.model,(n=e.view,(e,t,r)=>{t.isOpening=!0;const o=n(t,r.writer);t.isOpening=!1;const i=n(t,r.writer);if(!o||!i)return;const a=t.markerRange;if(a.isCollapsed&&!r.consumable.consume(a,e.name))return;for(const n of a)if(!r.consumable.consume(n.item,e.name))return;const s=r.mapper,l=r.writer;l.insert(s.toViewPosition(a.start),o),r.mapper.bindElementToMarker(o,t.markerName),a.isCollapsed||(l.insert(s.toViewPosition(a.end),i),r.mapper.bindElementToMarker(i,t.markerName)),e.stop()}),{priority:e.converterPriority||"normal"}),t.on("removeMarker:"+e.model,(e.view,(e,t,n)=>{const r=n.mapper.markerNameToElements(t.markerName);if(r){for(const e of r)n.mapper.unbindElementFromMarkerName(e,t.markerName),n.writer.clear(n.writer.createRangeOn(e),e);n.writer.clearClonedElementsGroup(t.markerName),e.stop()}}),{priority:e.converterPriority||"normal"})}}(e))}markerToHighlight(e){return this.add(function(e){return t=>{var n;t.on("addMarker:"+e.model,(n=e.view,(e,t,r)=>{if(!t.item)return;if(!(t.item instanceof pi||t.item instanceof vi||t.item.is("textProxy")))return;const o=Oi(n,t,r);if(!o)return;if(!r.consumable.consume(t.item,e.name))return;const i=r.writer,a=Si(i,o),s=i.document.selection;if(t.item instanceof pi||t.item instanceof vi)i.wrap(s.getFirstRange(),a,s);else{const e=r.mapper.toViewRange(t.range),n=i.wrap(e,a);for(const o of n.getItems())if(o.is("attributeElement")&&o.isSimilar(a)){r.mapper.bindElementToMarker(o,t.markerName);break}}}),{priority:e.converterPriority||"normal"}),t.on("addMarker:"+e.model,function(e){return(t,n,r)=>{if(!n.item)return;if(!(n.item instanceof ni))return;const o=Oi(e,n,r);if(!o)return;if(!r.consumable.test(n.item,t.name))return;const i=r.mapper.toViewElement(n.item);if(i&&i.getCustomProperty("addHighlight")){r.consumable.consume(n.item,t.name);for(const e of ai._createIn(n.item))r.consumable.consume(e.item,t.name);i.getCustomProperty("addHighlight")(i,o,r.writer),r.mapper.bindElementToMarker(i,n.markerName)}}}(e.view),{priority:e.converterPriority||"normal"}),t.on("removeMarker:"+e.model,function(e){return(t,n,r)=>{if(n.markerRange.isCollapsed)return;const o=Oi(e,n,r);if(!o)return;const i=Si(r.writer,o),a=r.mapper.markerNameToElements(n.markerName);if(a){for(const e of a)r.mapper.unbindElementFromMarkerName(e,n.markerName),e.is("attributeElement")?r.writer.unwrap(r.writer.createRangeOn(e),i):e.getCustomProperty("removeHighlight")(e,o.id,r.writer);r.writer.clearClonedElementsGroup(n.markerName),t.stop()}}}(e.view),{priority:e.converterPriority||"normal"})}}(e))}}function Si(e,t){const n=e.createAttributeElement("span",t.attributes);return t.classes&&n._addClass(t.classes),t.priority&&(n._priority=t.priority),n._id=t.id,n}function Pi(e,t){return"function"==typeof e?e:(n,r)=>(function(e,t,n){let r;"string"==typeof e&&(e={name:e});const o=Object.assign({},e.attributes);if("container"==n)r=t.createContainerElement(e.name,o);else if("attribute"==n){const n={priority:e.priority||Xn.DEFAULT_PRIORITY};r=t.createAttributeElement(e.name,o,n)}else r=t.createUIElement(e.name,o);if(e.styles){const n=Object.keys(e.styles);for(const o of n)t.setStyle(o,e.styles[o],r)}if(e.classes){const n=e.classes;if("string"==typeof n)t.addClass(n,r);else for(const e of n)t.addClass(e,r)}return r})(e,r,t)}function Ei(e){return e.model.values?(t,n)=>{const r=e.view[t];return r?r(t,n):null}:e.view}function xi(e){return"string"==typeof e?t=>({key:e,value:t}):"object"==typeof e?e.value?()=>e:t=>({key:e.key,value:t}):e}function Oi(e,t,n){const r="function"==typeof e?e(t,n):e;return r?(r.priority||(r.priority=10),r.id||(r.id=t.markerName),r):null}class Ti extends _i{elementToElement(e){return this.add(Mi(e))}elementToAttribute(e){return this.add(function(e){ji(e=wi(e));const t=Ii(e,!1),n=Ai(e.view),r=n?"element:"+n:"element";return n=>{n.on(r,t,{priority:e.converterPriority||"low"})}}(e))}attributeToAttribute(e){return this.add(function(e){let t=null;("string"==typeof(e=wi(e)).view||e.view.key)&&(t=function(e){"string"==typeof e.view&&(e.view={key:e.view});const t=e.view.key;let n;return n="class"==t||"style"==t?{["class"==t?"classes":"styles"]:e.view.value}:{attributes:{[t]:void 0===e.view.value?/[\s\S]*/:e.view.value}},e.view.name&&(n.name=e.view.name),e.view=n,t}(e)),ji(e,t);const n=Ii(e,!0);return t=>{t.on("element",n,{priority:e.converterPriority||"low"})}}(e))}elementToMarker(e){return this.add(function(e){return function(e){const t=e.model;e.model=((e,n)=>{const r="string"==typeof t?t:t(e);return n.createElement("$marker",{"data-name":r})})}(e=wi(e)),Mi(e)}(e))}}function Mi(e){const t=function(e){const t=e.view?new Wt(e.view):null;return(n,r,o)=>{let i={};if(t){const e=t.match(r.viewItem);if(!e)return;i=e.match}i.name=!0;const a=(s=e.model,l=r.viewItem,c=o.writer,s instanceof Function?s(l,c):c.createElement(s));var s,l,c;if(!a)return;if(!o.consumable.test(r.viewItem,i))return;const u=o.splitToAllowedParent(a,r.modelCursor);if(!u)return;o.writer.insert(a,u.position),o.convertChildren(r.viewItem,o.writer.createPositionAt(a,0)),o.consumable.consume(r.viewItem,i);const d=o.getSplitParts(a);r.modelRange=new ai(o.writer.createPositionBefore(a),o.writer.createPositionAfter(d[d.length-1])),u.cursorParent?r.modelCursor=o.writer.createPositionAt(u.cursorParent,0):r.modelCursor=r.modelRange.end}}(e=wi(e)),n=Ai(e.view),r=n?"element:"+n:"element";return n=>{n.on(r,t,{priority:e.converterPriority||"normal"})}}function Ai(e){return"string"==typeof e?e:"object"==typeof e&&"string"==typeof e.name?e.name:null}function ji(e,t=null){const n=null===t||(e=>e.getAttribute(t)),r="object"!=typeof e.model?e.model:e.model.key,o="object"!=typeof e.model||void 0===e.model.value?n:e.model.value;e.model={key:r,value:o}}function Ii(e,t){const n=new Wt(e.view);return(r,o,i)=>{const a=n.match(o.viewItem);if(!a)return;const s=e.model.key,l="function"==typeof e.model.value?e.model.value(o.viewItem):e.model.value;null!==l&&(function(e,t){const n="function"==typeof e?e(t):e;return!("object"==typeof n&&!Ai(n))&&!n.classes&&!n.attributes&&!n.styles}(e.view,o.viewItem)?a.match.name=!0:delete a.match.name,i.consumable.test(o.viewItem,a.match)&&(o.modelRange||(o=Object.assign(o,i.convertChildren(o.viewItem,o.modelCursor))),function(e,t,n,r){let o=!1;for(const i of Array.from(e.getItems({shallow:n})))r.schema.checkAttribute(i,t.key)&&(r.writer.setAttribute(t.key,t.value,i),o=!0);return o}(o.modelRange,{key:s,value:l},t,i)&&i.consumable.consume(o.viewItem,a.match)))}}class Ni{constructor(e,t){this.model=e,this.view=new Jo(t),this.mapper=new si,this.downcastDispatcher=new ui({mapper:this.mapper});const n=this.model.document,r=n.selection,o=this.model.markers;this.listenTo(this.model,"_beforeChanges",()=>{this.view._disableRendering(!0)},{priority:"highest"}),this.listenTo(this.model,"_afterChanges",()=>{this.view._disableRendering(!1)},{priority:"lowest"}),this.listenTo(n,"change",()=>{this.view.change(e=>{this.downcastDispatcher.convertChanges(n.differ,o,e),this.downcastDispatcher.convertSelection(r,o,e)})},{priority:"low"}),this.listenTo(this.view.document,"selectionChange",function(e,t){return(n,r)=>{const o=r.newSelection,i=new pi,a=[];for(const e of o.getRanges())a.push(t.toModelRange(e));i.setTo(a,{backward:o.isBackward}),i.isEqual(e.document.selection)||e.change(e=>{e.setSelection(i)})}}(this.model,this.mapper)),this.downcastDispatcher.on("insert:$text",(e,t,n)=>{if(!n.consumable.consume(t.item,"insert"))return;const r=n.writer,o=n.mapper.toViewPosition(t.range.start),i=r.createText(t.item.data);r.insert(o,i)},{priority:"lowest"}),this.downcastDispatcher.on("remove",(e,t,n)=>{const r=n.mapper.toViewPosition(t.position),o=t.position.getShiftedBy(t.length),i=n.mapper.toViewPosition(o,{isPhantom:!0}),a=n.writer.createRange(r,i),s=n.writer.remove(a.getTrimmed());for(const l of n.writer.createRangeIn(s).getItems())n.mapper.unbindViewElement(l)},{priority:"low"}),this.downcastDispatcher.on("selection",(e,t,n)=>{const r=n.writer,o=r.document.selection;for(const i of o.getRanges())i.isCollapsed&&i.end.parent.isAttached()&&n.writer.mergeAttributes(i.start);r.setSelection(null)},{priority:"low"}),this.downcastDispatcher.on("selection",(e,t,n)=>{const r=t.selection;if(r.isCollapsed)return;if(!n.consumable.consume(r,"selection"))return;const o=[];for(const i of r.getRanges()){const e=n.mapper.toViewRange(i);o.push(e)}n.writer.setSelection(o,{backward:r.isBackward})},{priority:"low"}),this.downcastDispatcher.on("selection",(e,t,n)=>{const r=t.selection;if(!r.isCollapsed)return;if(!n.consumable.consume(r,"selection"))return;const o=n.writer,i=r.getFirstPosition(),a=n.mapper.toViewPosition(i),s=o.breakAttributes(a);o.setSelection(s)},{priority:"low"}),this.view.document.roots.bindTo(this.model.document.roots).using(e=>{if("$graveyard"==e.rootName)return null;const t=new Hn(this.view.document,e.name);return t.rootName=e.rootName,this.mapper.bindElements(e,t),t})}destroy(){this.view.destroy(),this.stopListening()}}At(Ni,Rn);class Ri{constructor(){this._commands=new Map}add(e,t){this._commands.set(e,t)}get(e){return this._commands.get(e)}execute(e,...t){const n=this.get(e);if(!n)throw new _t.b("commandcollection-command-not-found: Command does not exist.",this,{commandName:e});n.execute(...t)}*names(){yield*this._commands.keys()}*commands(){yield*this._commands.values()}[Symbol.iterator](){return this._commands[Symbol.iterator]()}destroy(){for(const e of this.commands())e.destroy()}}class Di{constructor(){this._consumables=new Map}add(e,t){let n;e.is("text")||e.is("documentFragment")?this._consumables.set(e,!0):(this._consumables.has(e)?n=this._consumables.get(e):(n=new Li(e),this._consumables.set(e,n)),n.add(t))}test(e,t){const n=this._consumables.get(e);return void 0===n?null:e.is("text")||e.is("documentFragment")?n:n.test(t)}consume(e,t){return!!this.test(e,t)&&(e.is("text")||e.is("documentFragment")?this._consumables.set(e,!1):this._consumables.get(e).consume(t),!0)}revert(e,t){const n=this._consumables.get(e);void 0!==n&&(e.is("text")||e.is("documentFragment")?this._consumables.set(e,!0):n.revert(t))}static consumablesFromElement(e){const t={element:e,name:!0,attributes:[],classes:[],styles:[]},n=e.getAttributeKeys();for(const i of n)"style"!=i&&"class"!=i&&t.attributes.push(i);const r=e.getClassNames();for(const i of r)t.classes.push(i);const o=e.getStyleNames();for(const i of o)t.styles.push(i);return t}static createFrom(e,t){if(t||(t=new Di(e)),e.is("text"))return t.add(e),t;e.is("element")&&t.add(e,Di.consumablesFromElement(e)),e.is("documentFragment")&&t.add(e);for(const n of e.getChildren())t=Di.createFrom(n,t);return t}}class Li{constructor(e){this.element=e,this._canConsumeName=null,this._consumables={attributes:new Map,styles:new Map,classes:new Map}}add(e){e.name&&(this._canConsumeName=!0);for(const t in this._consumables)t in e&&this._add(t,e[t])}test(e){if(e.name&&!this._canConsumeName)return this._canConsumeName;for(const t in this._consumables)if(t in e){const n=this._test(t,e[t]);if(!0!==n)return n}return!0}consume(e){e.name&&(this._canConsumeName=!1);for(const t in this._consumables)t in e&&this._consume(t,e[t])}revert(e){e.name&&(this._canConsumeName=!0);for(const t in this._consumables)t in e&&this._revert(t,e[t])}_add(e,t){const n=se(t)?t:[t],r=this._consumables[e];for(const o of n){if("attributes"===e&&("class"===o||"style"===o))throw new _t.b("viewconsumable-invalid-attribute: Classes and styles should be handled separately.",this);if(r.set(o,!0),"styles"===e)for(const e of this.element.document.stylesProcessor.getRelatedStyles(o))r.set(e,!0)}}_test(e,t){const n=se(t)?t:[t],r=this._consumables[e];for(const o of n)if("attributes"!==e||"class"!==o&&"style"!==o){const e=r.get(o);if(void 0===e)return null;if(!e)return!1}else{const e="class"==o?"classes":"styles",t=this._test(e,[...this._consumables[e].keys()]);if(!0!==t)return t}return!0}_consume(e,t){const n=se(t)?t:[t],r=this._consumables[e];for(const o of n)if("attributes"!==e||"class"!==o&&"style"!==o){if(r.set(o,!1),"styles"==e)for(const e of this.element.document.stylesProcessor.getRelatedStyles(o))r.set(e,!1)}else{const e="class"==o?"classes":"styles";this._consume(e,[...this._consumables[e].keys()])}}_revert(e,t){const n=se(t)?t:[t],r=this._consumables[e];for(const o of n)if("attributes"!==e||"class"!==o&&"style"!==o)!1===r.get(o)&&r.set(o,!0);else{const e="class"==o?"classes":"styles";this._revert(e,[...this._consumables[e].keys()])}}}class Bi{constructor(){this._sourceDefinitions={},this._attributeProperties={},this.decorate("checkChild"),this.decorate("checkAttribute"),this.on("checkAttribute",(e,t)=>{t[0]=new Fi(t[0])},{priority:"highest"}),this.on("checkChild",(e,t)=>{t[0]=new Fi(t[0]),t[1]=this.getDefinition(t[1])},{priority:"highest"})}register(e,t){if(this._sourceDefinitions[e])throw new _t.b("schema-cannot-register-item-twice: A single item cannot be registered twice in the schema.",this,{itemName:e});this._sourceDefinitions[e]=[Object.assign({},t)],this._clearCache()}extend(e,t){if(!this._sourceDefinitions[e])throw new _t.b("schema-cannot-extend-missing-item: Cannot extend an item which was not registered yet.",this,{itemName:e});this._sourceDefinitions[e].push(Object.assign({},t)),this._clearCache()}getDefinitions(){return this._compiledDefinitions||this._compile(),this._compiledDefinitions}getDefinition(e){let t;return t="string"==typeof e?e:e.is&&(e.is("text")||e.is("textProxy"))?"$text":e.name,this.getDefinitions()[t]}isRegistered(e){return!!this.getDefinition(e)}isBlock(e){const t=this.getDefinition(e);return!(!t||!t.isBlock)}isLimit(e){const t=this.getDefinition(e);return!(!t||!t.isLimit&&!t.isObject)}isObject(e){const t=this.getDefinition(e);return!(!t||!t.isObject)}isInline(e){const t=this.getDefinition(e);return!(!t||!t.isInline)}checkChild(e,t){return!!t&&this._checkContextMatch(t,e)}checkAttribute(e,t){const n=this.getDefinition(e.last);return!!n&&n.allowAttributes.includes(t)}checkMerge(e,t=null){if(e instanceof ii){const t=e.nodeBefore,n=e.nodeAfter;if(!(t instanceof ni))throw new _t.b("schema-check-merge-no-element-before: The node before the merge position must be an element.",this);if(!(n instanceof ni))throw new _t.b("schema-check-merge-no-element-after: The node after the merge position must be an element.",this);return this.checkMerge(t,n)}for(const n of t.getChildren())if(!this.checkChild(e,n))return!1;return!0}addChildCheck(e){this.on("checkChild",(t,[n,r])=>{if(!r)return;const o=e(n,r);"boolean"==typeof o&&(t.stop(),t.return=o)},{priority:"high"})}addAttributeCheck(e){this.on("checkAttribute",(t,[n,r])=>{const o=e(n,r);"boolean"==typeof o&&(t.stop(),t.return=o)},{priority:"high"})}setAttributeProperties(e,t){this._attributeProperties[e]=Object.assign(this.getAttributeProperties(e),t)}getAttributeProperties(e){return this._attributeProperties[e]||{}}getLimitElement(e){let t;for(t=e instanceof ii?e.parent:(e instanceof ai?[e]:Array.from(e.getRanges())).reduce((e,t)=>{const n=t.getCommonAncestor();return e?e.getCommonAncestor(n,{includeSelf:!0}):n},null);!this.isLimit(t)&&t.parent;)t=t.parent;return t}checkAttributeInSelection(e,t){if(e.isCollapsed){const n=[...e.getFirstPosition().getAncestors(),new Zo("",e.getAttributes())];return this.checkAttribute(n,t)}{const n=e.getRanges();for(const e of n)for(const n of e)if(this.checkAttribute(n.item,t))return!0}return!1}*getValidRanges(e,t){e=function*(e){for(const t of e)yield*t.getMinimalFlatRanges()}(e);for(const n of e)yield*this._getValidRangesForRange(n,t)}getNearestSelectionRange(e,t="both"){if(this.checkChild(e,"$text"))return new ai(e);let n,r;const o=e.getAncestors().reverse().find(e=>this.isLimit(e))||e.root;"both"!=t&&"backward"!=t||(n=new ri({boundaries:ai._createIn(o),startPosition:e,direction:"backward"})),"both"!=t&&"forward"!=t||(r=new ri({boundaries:ai._createIn(o),startPosition:e}));for(const i of function*(e,t){let n=!1;for(;!n;){if(n=!0,e){const t=e.next();t.done||(n=!1,yield{walker:e,value:t.value})}if(t){const e=t.next();e.done||(n=!1,yield{walker:t,value:e.value})}}}(n,r)){const e=i.walker==n?"elementEnd":"elementStart",t=i.value;if(t.type==e&&this.isObject(t.item))return ai._createOn(t.item);if(this.checkChild(t.nextPosition,"$text"))return new ai(t.nextPosition)}return null}findAllowedParent(e,t){let n=e.parent;for(;n;){if(this.checkChild(n,t))return n;if(this.isLimit(n))return null;n=n.parent}return null}removeDisallowedAttributes(e,t){for(const n of e)if(n.is("text"))Qi(this,n,t);else{const e=ai._createIn(n).getPositions();for(const n of e)Qi(this,n.nodeBefore||n.parent,t)}}createContext(e){return new Fi(e)}_clearCache(){this._compiledDefinitions=null}_compile(){const e={},t=this._sourceDefinitions,n=Object.keys(t);for(const r of n)e[r]=Ui(t[r],r);for(const r of n)qi(e,r);for(const r of n)zi(e,r);for(const r of n)Hi(e,r),Vi(e,r);for(const r of n)Wi(e,r),Gi(e,r);this._compiledDefinitions=e}_checkContextMatch(e,t,n=t.length-1){const r=t.getItem(n);if(e.allowIn.includes(r.name)){if(0==n)return!0;{const e=this.getDefinition(r);return this._checkContextMatch(e,t,n-1)}}return!1}*_getValidRangesForRange(e,t){let n=e.start,r=e.start;for(const o of e.getItems({shallow:!0}))o.is("element")&&(yield*this._getValidRangesForRange(ai._createIn(o),t)),this.checkAttribute(o,t)||(n.isEqual(r)||(yield new ai(n,r)),n=ii._createAfter(o)),r=ii._createAfter(o);n.isEqual(r)||(yield new ai(n,r))}}At(Bi,Rn);class Fi{constructor(e){if(e instanceof Fi)return e;"string"==typeof e?e=[e]:Array.isArray(e)||(e=e.getAncestors({includeSelf:!0})),e[0]&&"string"!=typeof e[0]&&e[0].is("documentFragment")&&e.shift(),this._items=e.map($i)}get length(){return this._items.length}get last(){return this._items[this._items.length-1]}[Symbol.iterator](){return this._items[Symbol.iterator]()}push(e){const t=new Fi([e]);return t._items=[...this._items,...t._items],t}getItem(e){return this._items[e]}*getNames(){yield*this._items.map(e=>e.name)}endsWith(e){return Array.from(this.getNames()).join(" ").endsWith(e)}startsWith(e){return Array.from(this.getNames()).join(" ").startsWith(e)}}function Ui(e,t){const n={name:t,allowIn:[],allowContentOf:[],allowWhere:[],allowAttributes:[],allowAttributesOf:[],inheritTypesFrom:[]};return function(e,t){for(const n of e){const e=Object.keys(n).filter(e=>e.startsWith("is"));for(const r of e)t[r]=n[r]}}(e,n),Yi(e,n,"allowIn"),Yi(e,n,"allowContentOf"),Yi(e,n,"allowWhere"),Yi(e,n,"allowAttributes"),Yi(e,n,"allowAttributesOf"),Yi(e,n,"inheritTypesFrom"),function(e,t){for(const n of e){const e=n.inheritAllFrom;e&&(t.allowContentOf.push(e),t.allowWhere.push(e),t.allowAttributesOf.push(e),t.inheritTypesFrom.push(e))}}(e,n),n}function qi(e,t){for(const n of e[t].allowContentOf)e[n]&&Ki(e,n).forEach(e=>{e.allowIn.push(t)});delete e[t].allowContentOf}function zi(e,t){for(const n of e[t].allowWhere){const r=e[n];if(r){const n=r.allowIn;e[t].allowIn.push(...n)}}delete e[t].allowWhere}function Hi(e,t){for(const n of e[t].allowAttributesOf){const r=e[n];if(r){const n=r.allowAttributes;e[t].allowAttributes.push(...n)}}delete e[t].allowAttributesOf}function Vi(e,t){const n=e[t];for(const r of n.inheritTypesFrom){const t=e[r];if(t){const e=Object.keys(t).filter(e=>e.startsWith("is"));for(const r of e)r in n||(n[r]=t[r])}}delete n.inheritTypesFrom}function Wi(e,t){const n=e[t],r=n.allowIn.filter(t=>e[t]);n.allowIn=Array.from(new Set(r))}function Gi(e,t){const n=e[t];n.allowAttributes=Array.from(new Set(n.allowAttributes))}function Yi(e,t,n){for(const r of e)"string"==typeof r[n]?t[n].push(r[n]):Array.isArray(r[n])&&t[n].push(...r[n])}function Ki(e,t){const n=e[t];return(r=e,Object.keys(r).map(e=>r[e])).filter(e=>e.allowIn.includes(n.name));var r}function $i(e){return"string"==typeof e?{name:e,*getAttributeKeys(){},getAttribute(){}}:{name:e.is("element")?e.name:"$text",*getAttributeKeys(){yield*e.getAttributeKeys()},getAttribute:t=>e.getAttribute(t)}}function Qi(e,t,n){for(const r of t.getAttributeKeys())e.checkAttribute(t,r)||n.removeAttribute(r,t)}class Ji{constructor(e={}){this._splitParts=new Map,this._modelCursor=null,this.conversionApi=Object.assign({},e),this.conversionApi.convertItem=this._convertItem.bind(this),this.conversionApi.convertChildren=this._convertChildren.bind(this),this.conversionApi.splitToAllowedParent=this._splitToAllowedParent.bind(this),this.conversionApi.getSplitParts=this._getSplitParts.bind(this)}convert(e,t,n=["$root"]){this.fire("viewCleanup",e),this._modelCursor=function(e,t){let n;for(const r of new Fi(e)){const e={};for(const t of r.getAttributeKeys())e[t]=r.getAttribute(t);const o=t.createElement(r.name,e);n&&t.append(o,n),n=ii._createAt(o,0)}return n}(n,t),this.conversionApi.writer=t,this.conversionApi.consumable=Di.createFrom(e),this.conversionApi.store={};const{modelRange:r}=this._convertItem(e,this._modelCursor),o=t.createDocumentFragment();if(r){this._removeEmptyElements();for(const e of Array.from(this._modelCursor.parent.getChildren()))t.append(e,o);o.markers=function(e,t){const n=new Set,r=new Map,o=ai._createIn(e).getItems();for(const i of o)"$marker"==i.name&&n.add(i);for(const i of n){const e=i.getAttribute("data-name"),n=t.createPositionBefore(i);r.has(e)?r.get(e).end=n.clone():r.set(e,new ai(n.clone())),t.remove(i)}return r}(o,t)}return this._modelCursor=null,this._splitParts.clear(),this.conversionApi.writer=null,this.conversionApi.store=null,o}_convertItem(e,t){const n=Object.assign({viewItem:e,modelCursor:t,modelRange:null});if(e.is("element")?this.fire("element:"+e.name,n,this.conversionApi):e.is("text")?this.fire("text",n,this.conversionApi):this.fire("documentFragment",n,this.conversionApi),n.modelRange&&!(n.modelRange instanceof ai))throw new _t.b("view-conversion-dispatcher-incorrect-result: Incorrect conversion result was dropped.",this);return{modelRange:n.modelRange,modelCursor:n.modelCursor}}_convertChildren(e,t){const n=new ai(t);let r=t;for(const o of Array.from(e.getChildren())){const e=this._convertItem(o,r);e.modelRange instanceof ai&&(n.end=e.modelRange.end,r=e.modelCursor)}return{modelRange:n,modelCursor:r}}_splitToAllowedParent(e,t){const n=this.conversionApi.schema.findAllowedParent(t,e);if(!n)return null;if(n===t.parent)return{position:t};if(this._modelCursor.parent.getAncestors().includes(n))return null;const r=this.conversionApi.writer.split(t,n),o=[];for(const i of r.range.getWalker())if("elementEnd"==i.type)o.push(i.item);else{const e=o.pop(),t=i.item;this._registerSplitPair(e,t)}return{position:r.position,cursorParent:r.range.end.parent}}_registerSplitPair(e,t){this._splitParts.has(e)||this._splitParts.set(e,[e]);const n=this._splitParts.get(e);this._splitParts.set(t,n),n.push(t)}_getSplitParts(e){return this._splitParts.has(e)?this._splitParts.get(e):[e]}_removeEmptyElements(){let e=!1;for(const t of this._splitParts.keys())t.isEmpty&&(this.conversionApi.writer.remove(t),this._splitParts.delete(t),e=!0);e&&this._removeEmptyElements()}}At(Ji,St);class Xi{constructor(e,t){this.model=e,this.stylesProcessor=t,this.processor,this.mapper=new si,this.downcastDispatcher=new ui({mapper:this.mapper}),this.downcastDispatcher.on("insert:$text",(e,t,n)=>{if(!n.consumable.consume(t.item,"insert"))return;const r=n.writer,o=n.mapper.toViewPosition(t.range.start),i=r.createText(t.item.data);r.insert(o,i)},{priority:"lowest"}),this.upcastDispatcher=new Ji({schema:e.schema}),this.viewDocument=new Jn(t),this._viewWriter=new mr(this.viewDocument),this.upcastDispatcher.on("text",(e,t,n)=>{if(n.schema.checkChild(t.modelCursor,"$text")&&n.consumable.consume(t.viewItem)){const e=n.writer.createText(t.viewItem.data);n.writer.insert(e,t.modelCursor),t.modelRange=ai._createFromPositionAndShift(t.modelCursor,e.offsetSize),t.modelCursor=t.modelRange.end}},{priority:"lowest"}),this.upcastDispatcher.on("element",(e,t,n)=>{if(!t.modelRange&&n.consumable.consume(t.viewItem,{name:!0})){const{modelRange:e,modelCursor:r}=n.convertChildren(t.viewItem,t.modelCursor);t.modelRange=e,t.modelCursor=r}},{priority:"lowest"}),this.upcastDispatcher.on("documentFragment",(e,t,n)=>{if(!t.modelRange&&n.consumable.consume(t.viewItem,{name:!0})){const{modelRange:e,modelCursor:r}=n.convertChildren(t.viewItem,t.modelCursor);t.modelRange=e,t.modelCursor=r}},{priority:"lowest"}),this.decorate("init"),this.on("init",()=>{this.fire("ready")},{priority:"lowest"})}get(e){const{rootName:t="main",trim:n="empty"}=e||{};if(!this._checkIfRootsExists([t]))throw new _t.b("datacontroller-get-non-existent-root: Attempting to get data from a non-existing root.",this);const r=this.model.document.getRoot(t);return"empty"!==n||this.model.hasContent(r,{ignoreWhitespaces:!0})?this.stringify(r):""}stringify(e){const t=this.toView(e);return this.processor.toData(t)}toView(e){const t=this.viewDocument,n=this._viewWriter;this.mapper.clearBindings();const r=ai._createIn(e),o=new hr(t);if(this.mapper.bindElements(e,o),this.downcastDispatcher.convertInsert(r,n),!e.is("documentFragment")){const t=function(e){const t=[],n=e.root.document;if(!n)return[];const r=ai._createIn(e);for(const o of n.model.markers){const e=r.getIntersection(o.getRange());e&&t.push([o.name,e])}return t}(e);for(const[e,r]of t)this.downcastDispatcher.convertMarkerAdd(e,r,n)}return o}init(e){if(this.model.document.version)throw new _t.b("datacontroller-init-document-not-empty: Trying to set initial data to not empty document.",this);let t={};if("string"==typeof e?t.main=e:t=e,!this._checkIfRootsExists(Object.keys(t)))throw new _t.b("datacontroller-init-non-existent-root: Attempting to init data on a non-existing root.",this);return this.model.enqueueChange("transparent",e=>{for(const n of Object.keys(t)){const r=this.model.document.getRoot(n);e.insert(this.parse(t[n],r),r,0)}}),Promise.resolve()}set(e){let t={};if("string"==typeof e?t.main=e:t=e,!this._checkIfRootsExists(Object.keys(t)))throw new _t.b("datacontroller-set-non-existent-root: Attempting to set data on a non-existing root.",this);this.model.enqueueChange("transparent",e=>{e.setSelection(null),e.removeSelectionAttribute(this.model.document.selection.getAttributeKeys());for(const n of Object.keys(t)){const r=this.model.document.getRoot(n);e.remove(e.createRangeIn(r)),e.insert(this.parse(t[n],r),r,0)}})}parse(e,t="$root"){const n=this.processor.toView(e);return this.toModel(n,t)}toModel(e,t="$root"){return this.model.change(n=>this.upcastDispatcher.convert(e,n,t))}addStyleProcessorRules(e){e(this.stylesProcessor)}destroy(){this.stopListening()}_checkIfRootsExists(e){for(const t of e)if(!this.model.document.getRootNames().includes(t))return!1;return!0}}At(Xi,Rn);class Zi{constructor(e,t){this._helpers=new Map,this._downcast=Array.isArray(e)?e:[e],this._createConversionHelpers({name:"downcast",dispatchers:this._downcast,isDowncast:!0}),this._upcast=Array.isArray(t)?t:[t],this._createConversionHelpers({name:"upcast",dispatchers:this._upcast,isDowncast:!1})}addAlias(e,t){const n=this._downcast.includes(t);if(!this._upcast.includes(t)&&!n)throw new _t.b("conversion-add-alias-dispatcher-not-registered: Trying to register and alias for a dispatcher that nas not been registered.",this);this._createConversionHelpers({name:e,dispatchers:[t],isDowncast:n})}for(e){if(!this._helpers.has(e))throw new _t.b("conversion-for-unknown-group: Trying to add a converter to an unknown dispatchers group.",this);return this._helpers.get(e)}elementToElement(e){this.for("downcast").elementToElement(e);for(const{model:t,view:n}of ea(e))this.for("upcast").elementToElement({model:t,view:n,converterPriority:e.converterPriority})}attributeToElement(e){this.for("downcast").attributeToElement(e);for(const{model:t,view:n}of ea(e))this.for("upcast").elementToAttribute({view:n,model:t,converterPriority:e.converterPriority})}attributeToAttribute(e){this.for("downcast").attributeToAttribute(e);for(const{model:t,view:n}of ea(e))this.for("upcast").attributeToAttribute({view:n,model:t})}_createConversionHelpers({name:e,dispatchers:t,isDowncast:n}){if(this._helpers.has(e))throw new _t.b("conversion-group-exists: Trying to register a group name that has already been registered.",this);const r=n?new Ci(t):new Ti(t);this._helpers.set(e,r)}}function*ea(e){if(e.model.values)for(const t of e.model.values)yield*ta({key:e.model.key,value:t},e.view[t],e.upcastAlso?e.upcastAlso[t]:void 0);else yield*ta(e.model,e.view,e.upcastAlso)}function*ta(e,t,n){if(yield{model:e,view:t},n){n=Array.isArray(n)?n:[n];for(const t of n)yield{model:e,view:t}}}class na{constructor(e="default"){this.operations=[],this.type=e}get baseVersion(){for(const e of this.operations)if(null!==e.baseVersion)return e.baseVersion;return null}addOperation(e){return e.batch=this,this.operations.push(e),e}}class ra{constructor(e){this.baseVersion=e,this.isDocumentOperation=null!==this.baseVersion,this.batch=null}_validate(){}toJSON(){const e=Object.assign({},this);return e.__className=this.constructor.className,delete e.batch,delete e.isDocumentOperation,e}static get className(){return"Operation"}static fromJSON(e){return new this(e.baseVersion)}}class oa{constructor(e){this.markers=new Map,this._children=new ti,e&&this._insertChild(0,e)}[Symbol.iterator](){return this.getChildren()}get childCount(){return this._children.length}get maxOffset(){return this._children.maxOffset}get isEmpty(){return 0===this.childCount}get root(){return this}get parent(){return null}is(e){return"documentFragment"==e||"model:documentFragment"==e}getChild(e){return this._children.getNode(e)}getChildren(){return this._children[Symbol.iterator]()}getChildIndex(e){return this._children.getNodeIndex(e)}getChildStartOffset(e){return this._children.getNodeStartOffset(e)}getPath(){return[]}getNodeByPath(e){let t=this;for(const n of e)t=t.getChild(t.offsetToIndex(n));return t}offsetToIndex(e){return this._children.offsetToIndex(e)}toJSON(){const e=[];for(const t of this._children)e.push(t.toJSON());return e}static fromJSON(e){const t=[];for(const n of e)n.name?t.push(ni.fromJSON(n)):t.push(Zo.fromJSON(n));return new oa(t)}_appendChild(e){this._insertChild(this.childCount,e)}_insertChild(e,t){const n=function(e){return"string"==typeof e?[new Zo(e)]:(Ht(e)||(e=[e]),Array.from(e).map(e=>"string"==typeof e?new Zo(e):e instanceof ei?new Zo(e.data,e.getAttributes()):e))}(t);for(const r of n)null!==r.parent&&r._remove(),r.parent=this;this._children._insertNodes(e,n)}_removeChildren(e,t=1){const n=this._children._removeNodes(e,t);for(const r of n)r.parent=null;return n}}function ia(e,t){const n=(t=la(t)).reduce((e,t)=>e+t.offsetSize,0),r=e.parent;ua(e);const o=e.index;return r._insertChild(o,t),ca(r,o+t.length),ca(r,o),new ai(e,e.getShiftedBy(n))}function aa(e){if(!e.isFlat)throw new _t.b("operation-utils-remove-range-not-flat: Trying to remove a range which starts and ends in different element.",this);const t=e.start.parent;ua(e.start),ua(e.end);const n=t._removeChildren(e.start.index,e.end.index-e.start.index);return ca(t,e.start.index),n}function sa(e,t){if(!e.isFlat)throw new _t.b("operation-utils-move-range-not-flat: Trying to move a range which starts and ends in different element.",this);const n=aa(e);return ia(t=t._getTransformedByDeletion(e.start,e.end.offset-e.start.offset),n)}function la(e){const t=[];e instanceof Array||(e=[e]);for(let n=0;n<e.length;n++)if("string"==typeof e[n])t.push(new Zo(e[n]));else if(e[n]instanceof ei)t.push(new Zo(e[n].data,e[n].getAttributes()));else if(e[n]instanceof oa||e[n]instanceof ti)for(const r of e[n])t.push(r);else e[n]instanceof Xo&&t.push(e[n]);for(let n=1;n<t.length;n++){const e=t[n],r=t[n-1];e instanceof Zo&&r instanceof Zo&&da(e,r)&&(t.splice(n-1,2,new Zo(r.data+e.data,r.getAttributes())),n--)}return t}function ca(e,t){const n=e.getChild(t-1),r=e.getChild(t);if(n&&r&&n.is("text")&&r.is("text")&&da(n,r)){const o=new Zo(n.data+r.data,n.getAttributes());e._removeChildren(t-1,2),e._insertChild(t-1,o)}}function ua(e){const t=e.textNode,n=e.parent;if(t){const r=e.offset-t.startOffset,o=t.index;n._removeChildren(o,1);const i=new Zo(t.data.substr(0,r),t.getAttributes()),a=new Zo(t.data.substr(r),t.getAttributes());n._insertChild(o,[i,a])}}function da(e,t){const n=e.getAttributes(),r=t.getAttributes();for(const o of n){if(o[1]!==t.getAttribute(o[0]))return!1;r.next()}return r.next().done}var pa=function(e,t){return ho(e,t)};class fa extends ra{constructor(e,t,n,r,o){super(o),this.range=e.clone(),this.key=t,this.oldValue=void 0===n?null:n,this.newValue=void 0===r?null:r}get type(){return null===this.oldValue?"addAttribute":null===this.newValue?"removeAttribute":"changeAttribute"}clone(){return new fa(this.range,this.key,this.oldValue,this.newValue,this.baseVersion)}getReversed(){return new fa(this.range,this.key,this.newValue,this.oldValue,this.baseVersion+1)}toJSON(){const e=super.toJSON();return e.range=this.range.toJSON(),e}_validate(){if(!this.range.isFlat)throw new _t.b("attribute-operation-range-not-flat: The range to change is not flat.",this);for(const e of this.range.getItems({shallow:!0})){if(null!==this.oldValue&&!pa(e.getAttribute(this.key),this.oldValue))throw new _t.b("attribute-operation-wrong-old-value: Changed node has different attribute value than operation's old attribute value.",this,{item:e,key:this.key,value:this.oldValue});if(null===this.oldValue&&null!==this.newValue&&e.hasAttribute(this.key))throw new _t.b("attribute-operation-attribute-exists: The attribute with given key already exists.",this,{node:e,key:this.key})}}_execute(){pa(this.oldValue,this.newValue)||function(e,t,n){ua(e.start),ua(e.end);for(const r of e.getItems({shallow:!0})){const e=r.is("textProxy")?r.textNode:r;null!==n?e._setAttribute(t,n):e._removeAttribute(t),ca(e.parent,e.index)}ca(e.end.parent,e.end.index)}(this.range,this.key,this.newValue)}static get className(){return"AttributeOperation"}static fromJSON(e,t){return new fa(ai.fromJSON(e.range,t),e.key,e.oldValue,e.newValue,e.baseVersion)}}class ha extends ra{constructor(e,t){super(null),this.sourcePosition=e.clone(),this.howMany=t}get type(){return"detach"}toJSON(){const e=super.toJSON();return e.sourcePosition=this.sourcePosition.toJSON(),e}_validate(){if(this.sourcePosition.root.document)throw new _t.b("detach-operation-on-document-node: Cannot detach document node.",this)}_execute(){aa(ai._createFromPositionAndShift(this.sourcePosition,this.howMany))}static get className(){return"DetachOperation"}}class ma extends ra{constructor(e,t,n,r){super(r),this.sourcePosition=e.clone(),this.sourcePosition.stickiness="toNext",this.howMany=t,this.targetPosition=n.clone(),this.targetPosition.stickiness="toNone"}get type(){return"$graveyard"==this.targetPosition.root.rootName?"remove":"$graveyard"==this.sourcePosition.root.rootName?"reinsert":"move"}clone(){return new this.constructor(this.sourcePosition,this.howMany,this.targetPosition,this.baseVersion)}getMovedRangeStart(){return this.targetPosition._getTransformedByDeletion(this.sourcePosition,this.howMany)}getReversed(){const e=this.sourcePosition._getTransformedByInsertion(this.targetPosition,this.howMany);return new this.constructor(this.getMovedRangeStart(),this.howMany,e,this.baseVersion+1)}_validate(){const e=this.sourcePosition.parent,t=this.targetPosition.parent,n=this.sourcePosition.offset,r=this.targetPosition.offset;if(n+this.howMany>e.maxOffset)throw new _t.b("move-operation-nodes-do-not-exist: The nodes which should be moved do not exist.",this);if(e===t&&n<r&&r<n+this.howMany)throw new _t.b("move-operation-range-into-itself: Trying to move a range of nodes to the inside of that range.",this);if(this.sourcePosition.root==this.targetPosition.root&&"prefix"==Bt(this.sourcePosition.getParentPath(),this.targetPosition.getParentPath())){const e=this.sourcePosition.path.length-1;if(this.targetPosition.path[e]>=n&&this.targetPosition.path[e]<n+this.howMany)throw new _t.b("move-operation-node-into-itself: Trying to move a range of nodes into one of nodes from that range.",this)}}_execute(){sa(ai._createFromPositionAndShift(this.sourcePosition,this.howMany),this.targetPosition)}toJSON(){const e=super.toJSON();return e.sourcePosition=this.sourcePosition.toJSON(),e.targetPosition=this.targetPosition.toJSON(),e}static get className(){return"MoveOperation"}static fromJSON(e,t){const n=ii.fromJSON(e.sourcePosition,t),r=ii.fromJSON(e.targetPosition,t);return new this(n,e.howMany,r,e.baseVersion)}}class ga extends ra{constructor(e,t,n){super(n),this.position=e.clone(),this.position.stickiness="toNone",this.nodes=new ti(la(t)),this.shouldReceiveAttributes=!1}get type(){return"insert"}get howMany(){return this.nodes.maxOffset}clone(){const e=new ti([...this.nodes].map(e=>e._clone(!0))),t=new ga(this.position,e,this.baseVersion);return t.shouldReceiveAttributes=this.shouldReceiveAttributes,t}getReversed(){const e=this.position.root.document.graveyard,t=new ii(e,[0]);return new ma(this.position,this.nodes.maxOffset,t,this.baseVersion+1)}_validate(){const e=this.position.parent;if(!e||e.maxOffset<this.position.offset)throw new _t.b("insert-operation-position-invalid: Insertion position is invalid.",this)}_execute(){const e=this.nodes;this.nodes=new ti([...e].map(e=>e._clone(!0))),ia(this.position,e)}toJSON(){const e=super.toJSON();return e.position=this.position.toJSON(),e.nodes=this.nodes.toJSON(),e}static get className(){return"InsertOperation"}static fromJSON(e,t){const n=[];for(const o of e.nodes)o.name?n.push(ni.fromJSON(o)):n.push(Zo.fromJSON(o));const r=new ga(ii.fromJSON(e.position,t),n,e.baseVersion);return r.shouldReceiveAttributes=e.shouldReceiveAttributes,r}}class ba extends ra{constructor(e,t,n,r,o,i){super(i),this.name=e,this.oldRange=t?t.clone():null,this.newRange=n?n.clone():null,this.affectsData=o,this._markers=r}get type(){return"marker"}clone(){return new ba(this.name,this.oldRange,this.newRange,this._markers,this.affectsData,this.baseVersion)}getReversed(){return new ba(this.name,this.newRange,this.oldRange,this._markers,this.affectsData,this.baseVersion+1)}_execute(){const e=this.newRange?"_set":"_remove";this._markers[e](this.name,this.newRange,!0,this.affectsData)}toJSON(){const e=super.toJSON();return this.oldRange&&(e.oldRange=this.oldRange.toJSON()),this.newRange&&(e.newRange=this.newRange.toJSON()),delete e._markers,e}static get className(){return"MarkerOperation"}static fromJSON(e,t){return new ba(e.name,e.oldRange?ai.fromJSON(e.oldRange,t):null,e.newRange?ai.fromJSON(e.newRange,t):null,t.model.markers,e.affectsData,e.baseVersion)}}class va extends ra{constructor(e,t,n,r){super(r),this.position=e,this.position.stickiness="toNext",this.oldName=t,this.newName=n}get type(){return"rename"}clone(){return new va(this.position.clone(),this.oldName,this.newName,this.baseVersion)}getReversed(){return new va(this.position.clone(),this.newName,this.oldName,this.baseVersion+1)}_validate(){const e=this.position.nodeAfter;if(!(e instanceof ni))throw new _t.b("rename-operation-wrong-position: Given position is invalid or node after it is not an instance of Element.",this);if(e.name!==this.oldName)throw new _t.b("rename-operation-wrong-name: Element to change has different name than operation's old name.",this)}_execute(){this.position.nodeAfter.name=this.newName}toJSON(){const e=super.toJSON();return e.position=this.position.toJSON(),e}static get className(){return"RenameOperation"}static fromJSON(e,t){return new va(ii.fromJSON(e.position,t),e.oldName,e.newName,e.baseVersion)}}class ya extends ra{constructor(e,t,n,r,o){super(o),this.root=e,this.key=t,this.oldValue=n,this.newValue=r}get type(){return null===this.oldValue?"addRootAttribute":null===this.newValue?"removeRootAttribute":"changeRootAttribute"}clone(){return new ya(this.root,this.key,this.oldValue,this.newValue,this.baseVersion)}getReversed(){return new ya(this.root,this.key,this.newValue,this.oldValue,this.baseVersion+1)}_validate(){if(this.root!=this.root.root||this.root.is("documentFragment"))throw new _t.b("rootattribute-operation-not-a-root: The element to change is not a root element.",this,{root:this.root,key:this.key});if(null!==this.oldValue&&this.root.getAttribute(this.key)!==this.oldValue)throw new _t.b("rootattribute-operation-wrong-old-value: Changed node has different attribute value than operation's old attribute value.",this,{root:this.root,key:this.key});if(null===this.oldValue&&null!==this.newValue&&this.root.hasAttribute(this.key))throw new _t.b("rootattribute-operation-attribute-exists: The attribute with given key already exists.",this,{root:this.root,key:this.key})}_execute(){null!==this.newValue?this.root._setAttribute(this.key,this.newValue):this.root._removeAttribute(this.key)}toJSON(){const e=super.toJSON();return e.root=this.root.toJSON(),e}static get className(){return"RootAttributeOperation"}static fromJSON(e,t){if(!t.getRoot(e.root))throw new _t.b("rootattribute-operation-fromjson-no-root: Cannot create RootAttributeOperation. Root with specified name does not exist.",this,{rootName:e.root});return new ya(t.getRoot(e.root),e.key,e.oldValue,e.newValue,e.baseVersion)}}class ka extends ra{constructor(e,t,n,r,o){super(o),this.sourcePosition=e.clone(),this.sourcePosition.stickiness="toPrevious",this.howMany=t,this.targetPosition=n.clone(),this.targetPosition.stickiness="toNext",this.graveyardPosition=r.clone()}get type(){return"merge"}get deletionPosition(){return new ii(this.sourcePosition.root,this.sourcePosition.path.slice(0,-1))}get movedRange(){const e=this.sourcePosition.getShiftedBy(Number.POSITIVE_INFINITY);return new ai(this.sourcePosition,e)}clone(){return new this.constructor(this.sourcePosition,this.howMany,this.targetPosition,this.graveyardPosition,this.baseVersion)}getReversed(){const e=this.targetPosition._getTransformedByMergeOperation(this),t=this.sourcePosition.path.slice(0,-1),n=new ii(this.sourcePosition.root,t)._getTransformedByMergeOperation(this),r=new _a(e,this.howMany,this.graveyardPosition,this.baseVersion+1);return r.insertionPosition=n,r}_validate(){const e=this.sourcePosition.parent,t=this.targetPosition.parent;if(!e.parent)throw new _t.b("merge-operation-source-position-invalid: Merge source position is invalid.",this);if(!t.parent)throw new _t.b("merge-operation-target-position-invalid: Merge target position is invalid.",this);if(this.howMany!=e.maxOffset)throw new _t.b("merge-operation-how-many-invalid: Merge operation specifies wrong number of nodes to move.",this)}_execute(){const e=this.sourcePosition.parent;sa(ai._createIn(e),this.targetPosition),sa(ai._createOn(e),this.graveyardPosition)}toJSON(){const e=super.toJSON();return e.sourcePosition=e.sourcePosition.toJSON(),e.targetPosition=e.targetPosition.toJSON(),e.graveyardPosition=e.graveyardPosition.toJSON(),e}static get className(){return"MergeOperation"}static fromJSON(e,t){const n=ii.fromJSON(e.sourcePosition,t),r=ii.fromJSON(e.targetPosition,t),o=ii.fromJSON(e.graveyardPosition,t);return new this(n,e.howMany,r,o,e.baseVersion)}}class _a extends ra{constructor(e,t,n,r){super(r),this.splitPosition=e.clone(),this.splitPosition.stickiness="toNext",this.howMany=t,this.insertionPosition=_a.getInsertionPosition(e),this.insertionPosition.stickiness="toNone",this.graveyardPosition=n?n.clone():null,this.graveyardPosition&&(this.graveyardPosition.stickiness="toNext")}get type(){return"split"}get moveTargetPosition(){const e=this.insertionPosition.path.slice();return e.push(0),new ii(this.insertionPosition.root,e)}get movedRange(){const e=this.splitPosition.getShiftedBy(Number.POSITIVE_INFINITY);return new ai(this.splitPosition,e)}clone(){const e=new this.constructor(this.splitPosition,this.howMany,this.graveyardPosition,this.baseVersion);return e.insertionPosition=this.insertionPosition,e}getReversed(){const e=this.splitPosition.root.document.graveyard,t=new ii(e,[0]);return new ka(this.moveTargetPosition,this.howMany,this.splitPosition,t,this.baseVersion+1)}_validate(){const e=this.splitPosition.parent,t=this.splitPosition.offset;if(!e||e.maxOffset<t)throw new _t.b("split-operation-position-invalid: Split position is invalid.",this);if(!e.parent)throw new _t.b("split-operation-split-in-root: Cannot split root element.",this);if(this.howMany!=e.maxOffset-this.splitPosition.offset)throw new _t.b("split-operation-how-many-invalid: Split operation specifies wrong number of nodes to move.",this);if(this.graveyardPosition&&!this.graveyardPosition.nodeAfter)throw new _t.b("split-operation-graveyard-position-invalid: Graveyard position invalid.",this)}_execute(){const e=this.splitPosition.parent;if(this.graveyardPosition)sa(ai._createFromPositionAndShift(this.graveyardPosition,1),this.insertionPosition);else{const t=e._clone();ia(this.insertionPosition,t)}sa(new ai(ii._createAt(e,this.splitPosition.offset),ii._createAt(e,e.maxOffset)),this.moveTargetPosition)}toJSON(){const e=super.toJSON();return e.splitPosition=this.splitPosition.toJSON(),e.insertionPosition=this.insertionPosition.toJSON(),this.graveyardPosition&&(e.graveyardPosition=this.graveyardPosition.toJSON()),e}static get className(){return"SplitOperation"}static getInsertionPosition(e){const t=e.path.slice(0,-1);return t[t.length-1]++,new ii(e.root,t)}static fromJSON(e,t){const n=ii.fromJSON(e.splitPosition,t),r=ii.fromJSON(e.insertionPosition,t),o=e.graveyardPosition?ii.fromJSON(e.graveyardPosition,t):null,i=new this(n,e.howMany,o,e.baseVersion);return i.insertionPosition=r,i}}class wa extends ni{constructor(e,t,n="main"){super(t),this._document=e,this.rootName=n}get document(){return this._document}is(e,t){const n=e.replace("model:","");return t?"rootElement"==n&&t==this.name||super.is(e,t):"rootElement"==n||super.is(e)}toJSON(){return this.rootName}}class Ca{constructor(e,t){this.model=e,this.batch=t}createText(e,t){return new Zo(e,t)}createElement(e,t){return new ni(e,t)}createDocumentFragment(){return new oa}insert(e,t,n=0){if(this._assertWriterUsedCorrectly(),e instanceof Zo&&""==e.data)return;const r=ii._createAt(t,n);if(e.parent){if(Oa(e.root,r.root))return void this.move(ai._createOn(e),r);if(e.root.document)throw new _t.b("model-writer-insert-forbidden-move: Cannot move a node from a document to a different tree. It is forbidden to move a node that was already in a document outside of it.",this);this.remove(e)}const o=r.root.document?r.root.document.version:null,i=new ga(r,e,o);if(e instanceof Zo&&(i.shouldReceiveAttributes=!0),this.batch.addOperation(i),this.model.applyOperation(i),e instanceof oa)for(const[a,s]of e.markers){const e=ii._createAt(s.root,0),t={range:new ai(s.start._getCombined(e,r),s.end._getCombined(e,r)),usingOperation:!0,affectsData:!0};this.model.markers.has(a)?this.updateMarker(a,t):this.addMarker(a,t)}}insertText(e,t,n,r){t instanceof oa||t instanceof ni||t instanceof ii?this.insert(this.createText(e),t,n):this.insert(this.createText(e,t),n,r)}insertElement(e,t,n,r){t instanceof oa||t instanceof ni||t instanceof ii?this.insert(this.createElement(e),t,n):this.insert(this.createElement(e,t),n,r)}append(e,t){this.insert(e,t,"end")}appendText(e,t,n){t instanceof oa||t instanceof ni?this.insert(this.createText(e),t,"end"):this.insert(this.createText(e,t),n,"end")}appendElement(e,t,n){t instanceof oa||t instanceof ni?this.insert(this.createElement(e),t,"end"):this.insert(this.createElement(e,t),n,"end")}setAttribute(e,t,n){if(this._assertWriterUsedCorrectly(),n instanceof ai){const r=n.getMinimalFlatRanges();for(const n of r)Sa(this,e,t,n)}else Pa(this,e,t,n)}setAttributes(e,t){for(const[n,r]of Vt(e))this.setAttribute(n,r,t)}removeAttribute(e,t){if(this._assertWriterUsedCorrectly(),t instanceof ai){const n=t.getMinimalFlatRanges();for(const t of n)Sa(this,e,null,t)}else Pa(this,e,null,t)}clearAttributes(e){this._assertWriterUsedCorrectly();const t=e=>{for(const t of e.getAttributeKeys())this.removeAttribute(t,e)};if(e instanceof ai)for(const n of e.getItems())t(n);else t(e)}move(e,t,n){if(this._assertWriterUsedCorrectly(),!(e instanceof ai))throw new _t.b("writer-move-invalid-range: Invalid range to move.",this);if(!e.isFlat)throw new _t.b("writer-move-range-not-flat: Range to move is not flat.",this);const r=ii._createAt(t,n);if(r.isEqual(e.start))return;if(this._addOperationForAffectedMarkers("move",e),!Oa(e.root,r.root))throw new _t.b("writer-move-different-document: Range is going to be moved between different documents.",this);const o=e.root.document?e.root.document.version:null,i=new ma(e.start,e.end.offset-e.start.offset,r,o);this.batch.addOperation(i),this.model.applyOperation(i)}remove(e){this._assertWriterUsedCorrectly();const t=(e instanceof ai?e:ai._createOn(e)).getMinimalFlatRanges().reverse();for(const n of t)this._addOperationForAffectedMarkers("move",n),xa(n.start,n.end.offset-n.start.offset,this.batch,this.model)}merge(e){this._assertWriterUsedCorrectly();const t=e.nodeBefore,n=e.nodeAfter;if(this._addOperationForAffectedMarkers("merge",e),!(t instanceof ni))throw new _t.b("writer-merge-no-element-before: Node before merge position must be an element.",this);if(!(n instanceof ni))throw new _t.b("writer-merge-no-element-after: Node after merge position must be an element.",this);e.root.document?this._merge(e):this._mergeDetached(e)}createPositionFromPath(e,t,n){return this.model.createPositionFromPath(e,t,n)}createPositionAt(e,t){return this.model.createPositionAt(e,t)}createPositionAfter(e){return this.model.createPositionAfter(e)}createPositionBefore(e){return this.model.createPositionBefore(e)}createRange(e,t){return this.model.createRange(e,t)}createRangeIn(e){return this.model.createRangeIn(e)}createRangeOn(e){return this.model.createRangeOn(e)}createSelection(e,t,n){return this.model.createSelection(e,t,n)}_mergeDetached(e){const t=e.nodeBefore,n=e.nodeAfter;this.move(ai._createIn(n),ii._createAt(t,"end")),this.remove(n)}_merge(e){const t=ii._createAt(e.nodeBefore,"end"),n=ii._createAt(e.nodeAfter,0),r=e.root.document.graveyard,o=new ii(r,[0]),i=e.root.document.version,a=new ka(n,e.nodeAfter.maxOffset,t,o,i);this.batch.addOperation(a),this.model.applyOperation(a)}rename(e,t){if(this._assertWriterUsedCorrectly(),!(e instanceof ni))throw new _t.b("writer-rename-not-element-instance: Trying to rename an object which is not an instance of Element.",this);const n=e.root.document?e.root.document.version:null,r=new va(ii._createBefore(e),e.name,t,n);this.batch.addOperation(r),this.model.applyOperation(r)}split(e,t){this._assertWriterUsedCorrectly();let n,r,o=e.parent;if(!o.parent)throw new _t.b("writer-split-element-no-parent: Element with no parent can not be split.",this);if(t||(t=o.parent),!e.parent.getAncestors({includeSelf:!0}).includes(t))throw new _t.b("writer-split-invalid-limit-element: Limit element is not a position ancestor.",this);do{const t=o.root.document?o.root.document.version:null,i=o.maxOffset-e.offset,a=new _a(e,i,null,t);this.batch.addOperation(a),this.model.applyOperation(a),n||r||(n=o,r=e.parent.nextSibling),o=(e=this.createPositionAfter(e.parent)).parent}while(o!==t);return{position:e,range:new ai(ii._createAt(n,"end"),ii._createAt(r,0))}}wrap(e,t){if(this._assertWriterUsedCorrectly(),!e.isFlat)throw new _t.b("writer-wrap-range-not-flat: Range to wrap is not flat.",this);const n=t instanceof ni?t:new ni(t);if(n.childCount>0)throw new _t.b("writer-wrap-element-not-empty: Element to wrap with is not empty.",this);if(null!==n.parent)throw new _t.b("writer-wrap-element-attached: Element to wrap with is already attached to tree model.",this);this.insert(n,e.start);const r=new ai(e.start.getShiftedBy(1),e.end.getShiftedBy(1));this.move(r,ii._createAt(n,0))}unwrap(e){if(this._assertWriterUsedCorrectly(),null===e.parent)throw new _t.b("writer-unwrap-element-no-parent: Trying to unwrap an element which has no parent.",this);this.move(ai._createIn(e),this.createPositionAfter(e)),this.remove(e)}addMarker(e,t){if(this._assertWriterUsedCorrectly(),!t||"boolean"!=typeof t.usingOperation)throw new _t.b("writer-addMarker-no-usingOperation: The options.usingOperation parameter is required when adding a new marker.",this);const n=t.usingOperation,r=t.range,o=void 0!==t.affectsData&&t.affectsData;if(this.model.markers.has(e))throw new _t.b("writer-addMarker-marker-exists: Marker with provided name already exists.",this);if(!r)throw new _t.b("writer-addMarker-no-range: Range parameter is required when adding a new marker.",this);return n?(Ea(this,e,null,r,o),this.model.markers.get(e)):this.model.markers._set(e,r,n,o)}updateMarker(e,t){this._assertWriterUsedCorrectly();const n="string"==typeof e?e:e.name,r=this.model.markers.get(n);if(!r)throw new _t.b("writer-updateMarker-marker-not-exists: Marker with provided name does not exists.",this);if(!t)return void this.model.markers._refresh(r);const o="boolean"==typeof t.usingOperation,i="boolean"==typeof t.affectsData,a=i?t.affectsData:r.affectsData;if(!o&&!t.range&&!i)throw new _t.b("writer-updateMarker-wrong-options: One of the options is required - provide range, usingOperations or affectsData.",this);const s=r.getRange(),l=t.range?t.range:s;o&&t.usingOperation!==r.managedUsingOperations?t.usingOperation?Ea(this,n,null,l,a):(Ea(this,n,s,null,a),this.model.markers._set(n,l,void 0,a)):r.managedUsingOperations?Ea(this,n,s,l,a):this.model.markers._set(n,l,void 0,a)}removeMarker(e){this._assertWriterUsedCorrectly();const t="string"==typeof e?e:e.name;if(!this.model.markers.has(t))throw new _t.b("writer-removeMarker-no-marker: Trying to remove marker which does not exist.",this);const n=this.model.markers.get(t);n.managedUsingOperations?Ea(this,t,n.getRange(),null,n.affectsData):this.model.markers._remove(t)}setSelection(e,t,n){this._assertWriterUsedCorrectly(),this.model.document.selection._setTo(e,t,n)}setSelectionFocus(e,t){this._assertWriterUsedCorrectly(),this.model.document.selection._setFocus(e,t)}setSelectionAttribute(e,t){if(this._assertWriterUsedCorrectly(),"string"==typeof e)this._setSelectionAttribute(e,t);else for(const[n,r]of Vt(e))this._setSelectionAttribute(n,r)}removeSelectionAttribute(e){if(this._assertWriterUsedCorrectly(),"string"==typeof e)this._removeSelectionAttribute(e);else for(const t of e)this._removeSelectionAttribute(t)}overrideSelectionGravity(){return this.model.document.selection._overrideGravity()}restoreSelectionGravity(e){this.model.document.selection._restoreGravity(e)}_setSelectionAttribute(e,t){const n=this.model.document.selection;if(n.isCollapsed&&n.anchor.parent.isEmpty){const r=vi._getStoreAttributeKey(e);this.setAttribute(r,t,n.anchor.parent)}n._setAttribute(e,t)}_removeSelectionAttribute(e){const t=this.model.document.selection;if(t.isCollapsed&&t.anchor.parent.isEmpty){const n=vi._getStoreAttributeKey(e);this.removeAttribute(n,t.anchor.parent)}t._removeAttribute(e)}_assertWriterUsedCorrectly(){if(this.model._currentWriter!==this)throw new _t.b("writer-incorrect-use: Trying to use a writer outside the change() block.",this)}_addOperationForAffectedMarkers(e,t){for(const n of this.model.markers){if(!n.managedUsingOperations)continue;const r=n.getRange();let o=!1;if("move"==e)o=t.containsPosition(r.start)||t.start.isEqual(r.start)||t.containsPosition(r.end)||t.end.isEqual(r.end);else{const e=t.nodeBefore,n=t.nodeAfter,i=r.start.parent==e&&r.start.isAtEnd,a=r.end.parent==n&&0==r.end.offset,s=r.end.nodeAfter==n,l=r.start.nodeAfter==n;o=i||a||s||l}o&&this.updateMarker(n.name,{range:r})}}}function Sa(e,t,n,r){const o=e.model,i=o.document;let a,s,l,c=r.start;for(const d of r.getWalker({shallow:!0}))l=d.item.getAttribute(t),a&&s!=l&&(s!=n&&u(),c=a),a=d.nextPosition,s=l;function u(){const r=new ai(c,a),l=r.root.document?i.version:null,u=new fa(r,t,s,n,l);e.batch.addOperation(u),o.applyOperation(u)}a instanceof ii&&a!=c&&s!=n&&u()}function Pa(e,t,n,r){const o=e.model,i=o.document,a=r.getAttribute(t);let s,l;if(a!=n){if(r.root===r){const e=r.document?i.version:null;l=new ya(r,t,a,n,e)}else{const o=(s=new ai(ii._createBefore(r),e.createPositionAfter(r))).root.document?i.version:null;l=new fa(s,t,a,n,o)}e.batch.addOperation(l),o.applyOperation(l)}}function Ea(e,t,n,r,o){const i=e.model,a=i.document,s=new ba(t,n,r,i.markers,o,a.version);e.batch.addOperation(s),i.applyOperation(s)}function xa(e,t,n,r){let o;if(e.root.document){const n=r.document,i=new ii(n.graveyard,[0]);o=new ma(e,t,i,n.version)}else o=new ha(e,t);n.addOperation(o),r.applyOperation(o)}function Oa(e,t){return e===t||e instanceof wa&&t instanceof wa}class Ta{constructor(e){this._markerCollection=e,this._changesInElement=new Map,this._elementSnapshots=new Map,this._changedMarkers=new Map,this._changeCount=0,this._cachedChanges=null,this._cachedChangesWithGraveyard=null}get isEmpty(){return 0==this._changesInElement.size&&0==this._changedMarkers.size}refreshItem(e){if(this._isInInsertedElement(e.parent))return;this._markRemove(e.parent,e.startOffset,e.offsetSize),this._markInsert(e.parent,e.startOffset,e.offsetSize);const t=ai._createOn(e);for(const n of this._markerCollection.getMarkersIntersectingRange(t)){const e=n.getRange();this.bufferMarkerChange(n.name,e,e,n.affectsData)}this._cachedChanges=null}bufferOperation(e){switch(e.type){case"insert":if(this._isInInsertedElement(e.position.parent))return;this._markInsert(e.position.parent,e.position.offset,e.nodes.maxOffset);break;case"addAttribute":case"removeAttribute":case"changeAttribute":for(const t of e.range.getItems({shallow:!0}))this._isInInsertedElement(t.parent)||this._markAttribute(t);break;case"remove":case"move":case"reinsert":{if(e.sourcePosition.isEqual(e.targetPosition)||e.sourcePosition.getShiftedBy(e.howMany).isEqual(e.targetPosition))return;const t=this._isInInsertedElement(e.sourcePosition.parent),n=this._isInInsertedElement(e.targetPosition.parent);t||this._markRemove(e.sourcePosition.parent,e.sourcePosition.offset,e.howMany),n||this._markInsert(e.targetPosition.parent,e.getMovedRangeStart().offset,e.howMany);break}case"rename":{if(this._isInInsertedElement(e.position.parent))return;this._markRemove(e.position.parent,e.position.offset,1),this._markInsert(e.position.parent,e.position.offset,1);const t=ai._createFromPositionAndShift(e.position,1);for(const e of this._markerCollection.getMarkersIntersectingRange(t)){const t=e.getRange();this.bufferMarkerChange(e.name,t,t,e.affectsData)}break}case"split":{const t=e.splitPosition.parent;this._isInInsertedElement(t)||this._markRemove(t,e.splitPosition.offset,e.howMany),this._isInInsertedElement(e.insertionPosition.parent)||this._markInsert(e.insertionPosition.parent,e.insertionPosition.offset,1),e.graveyardPosition&&this._markRemove(e.graveyardPosition.parent,e.graveyardPosition.offset,1);break}case"merge":{const t=e.sourcePosition.parent;this._isInInsertedElement(t.parent)||this._markRemove(t.parent,t.startOffset,1);const n=e.graveyardPosition.parent;this._markInsert(n,e.graveyardPosition.offset,1);const r=e.targetPosition.parent;this._isInInsertedElement(r)||this._markInsert(r,e.targetPosition.offset,t.maxOffset);break}}this._cachedChanges=null}bufferMarkerChange(e,t,n,r){const o=this._changedMarkers.get(e);o?(o.newRange=n,o.affectsData=r,null==o.oldRange&&null==o.newRange&&this._changedMarkers.delete(e)):this._changedMarkers.set(e,{oldRange:t,newRange:n,affectsData:r})}getMarkersToRemove(){const e=[];for(const[t,n]of this._changedMarkers)null!=n.oldRange&&e.push({name:t,range:n.oldRange});return e}getMarkersToAdd(){const e=[];for(const[t,n]of this._changedMarkers)null!=n.newRange&&e.push({name:t,range:n.newRange});return e}getChangedMarkers(){return Array.from(this._changedMarkers).map(e=>({name:e[0],data:{oldRange:e[1].oldRange,newRange:e[1].newRange}}))}hasDataChanges(){for(const[,e]of this._changedMarkers)if(e.affectsData)return!0;return this._changesInElement.size>0}getChanges(e={includeChangesInGraveyard:!1}){if(this._cachedChanges)return e.includeChangesInGraveyard?this._cachedChangesWithGraveyard.slice():this._cachedChanges.slice();const t=[];for(const n of this._changesInElement.keys()){const e=this._changesInElement.get(n).sort((e,t)=>e.offset===t.offset?e.type!=t.type?"remove"==e.type?-1:1:0:e.offset<t.offset?-1:1),r=this._elementSnapshots.get(n),o=Ma(n.getChildren()),i=Aa(r.length,e);let a=0,s=0;for(const l of i)if("i"===l)t.push(this._getInsertDiff(n,a,o[a].name)),a++;else if("r"===l)t.push(this._getRemoveDiff(n,a,r[s].name)),s++;else if("a"===l){const e=o[a].attributes,i=r[s].attributes;let l;if("$text"==o[a].name)l=new ai(ii._createAt(n,a),ii._createAt(n,a+1));else{const e=n.offsetToIndex(a);l=new ai(ii._createAt(n,a),ii._createAt(n.getChild(e),0))}t.push(...this._getAttributesDiff(l,i,e)),a++,s++}else a++,s++}t.sort((e,t)=>e.position.root!=t.position.root?e.position.root.rootName<t.position.root.rootName?-1:1:e.position.isEqual(t.position)?e.changeCount-t.changeCount:e.position.isBefore(t.position)?-1:1);for(let n=1;n<t.length;n++){const e=t[n-1],r=t[n],o="remove"==e.type&&"remove"==r.type&&"$text"==e.name&&"$text"==r.name&&e.position.isEqual(r.position),i="insert"==e.type&&"insert"==r.type&&"$text"==e.name&&"$text"==r.name&&e.position.parent==r.position.parent&&e.position.offset+e.length==r.position.offset,a="attribute"==e.type&&"attribute"==r.type&&e.position.parent==r.position.parent&&e.range.isFlat&&r.range.isFlat&&e.position.offset+e.length==r.position.offset&&e.attributeKey==r.attributeKey&&e.attributeOldValue==r.attributeOldValue&&e.attributeNewValue==r.attributeNewValue;(o||i||a)&&(t[n-1].length++,a&&(t[n-1].range.end=t[n-1].range.end.getShiftedBy(1)),t.splice(n,1),n--)}for(const n of t)delete n.changeCount,"attribute"==n.type&&(delete n.position,delete n.length);return this._changeCount=0,this._cachedChangesWithGraveyard=t.slice(),this._cachedChanges=t.slice().filter(ja),e.includeChangesInGraveyard?this._cachedChangesWithGraveyard:this._cachedChanges}reset(){this._changesInElement.clear(),this._elementSnapshots.clear(),this._changedMarkers.clear(),this._cachedChanges=null}_markInsert(e,t,n){const r={type:"insert",offset:t,howMany:n,count:this._changeCount++};this._markChange(e,r)}_markRemove(e,t,n){const r={type:"remove",offset:t,howMany:n,count:this._changeCount++};this._markChange(e,r),this._removeAllNestedChanges(e,t,n)}_markAttribute(e){const t={type:"attribute",offset:e.startOffset,howMany:e.offsetSize,count:this._changeCount++};this._markChange(e.parent,t)}_markChange(e,t){this._makeSnapshot(e);const n=this._getChangesForElement(e);this._handleChange(t,n),n.push(t);for(let r=0;r<n.length;r++)n[r].howMany<1&&(n.splice(r,1),r--)}_getChangesForElement(e){let t;return this._changesInElement.has(e)?t=this._changesInElement.get(e):(t=[],this._changesInElement.set(e,t)),t}_makeSnapshot(e){this._elementSnapshots.has(e)||this._elementSnapshots.set(e,Ma(e.getChildren()))}_handleChange(e,t){e.nodesToHandle=e.howMany;for(const n of t){const r=e.offset+e.howMany,o=n.offset+n.howMany;if("insert"==e.type&&("insert"==n.type&&(e.offset<=n.offset?n.offset+=e.howMany:e.offset<o&&(n.howMany+=e.nodesToHandle,e.nodesToHandle=0)),"remove"==n.type&&e.offset<n.offset&&(n.offset+=e.howMany),"attribute"==n.type))if(e.offset<=n.offset)n.offset+=e.howMany;else if(e.offset<o){const o=n.howMany;n.howMany=e.offset-n.offset,t.unshift({type:"attribute",offset:r,howMany:o-n.howMany,count:this._changeCount++})}if("remove"==e.type){if("insert"==n.type)if(r<=n.offset)n.offset-=e.howMany;else if(r<=o)if(e.offset<n.offset){const t=r-n.offset;n.offset=e.offset,n.howMany-=t,e.nodesToHandle-=t}else n.howMany-=e.nodesToHandle,e.nodesToHandle=0;else if(e.offset<=n.offset)e.nodesToHandle-=n.howMany,n.howMany=0;else if(e.offset<o){const t=o-e.offset;n.howMany-=t,e.nodesToHandle-=t}if("remove"==n.type&&(r<=n.offset?n.offset-=e.howMany:e.offset<n.offset&&(e.nodesToHandle+=n.howMany,n.howMany=0)),"attribute"==n.type)if(r<=n.offset)n.offset-=e.howMany;else if(e.offset<n.offset){const t=r-n.offset;n.offset=e.offset,n.howMany-=t}else if(e.offset<o)if(r<=o){const r=n.howMany;n.howMany=e.offset-n.offset;const o=r-n.howMany-e.nodesToHandle;t.unshift({type:"attribute",offset:e.offset,howMany:o,count:this._changeCount++})}else n.howMany-=o-e.offset}if("attribute"==e.type){if("insert"==n.type)if(e.offset<n.offset&&r>n.offset){if(r>o){const e={type:"attribute",offset:o,howMany:r-o,count:this._changeCount++};this._handleChange(e,t),t.push(e)}e.nodesToHandle=n.offset-e.offset,e.howMany=e.nodesToHandle}else e.offset>=n.offset&&e.offset<o&&(r>o?(e.nodesToHandle=r-o,e.offset=o):e.nodesToHandle=0);if("remove"==n.type&&e.offset<n.offset&&r>n.offset){const o={type:"attribute",offset:n.offset,howMany:r-n.offset,count:this._changeCount++};this._handleChange(o,t),t.push(o),e.nodesToHandle=n.offset-e.offset,e.howMany=e.nodesToHandle}"attribute"==n.type&&(e.offset>=n.offset&&r<=o?(e.nodesToHandle=0,e.howMany=0,e.offset=0):e.offset<=n.offset&&r>=o&&(n.howMany=0))}}e.howMany=e.nodesToHandle,delete e.nodesToHandle}_getInsertDiff(e,t,n){return{type:"insert",position:ii._createAt(e,t),name:n,length:1,changeCount:this._changeCount++}}_getRemoveDiff(e,t,n){return{type:"remove",position:ii._createAt(e,t),name:n,length:1,changeCount:this._changeCount++}}_getAttributesDiff(e,t,n){const r=[];n=new Map(n);for(const[o,i]of t){const t=n.has(o)?n.get(o):null;t!==i&&r.push({type:"attribute",position:e.start,range:e.clone(),length:1,attributeKey:o,attributeOldValue:i,attributeNewValue:t,changeCount:this._changeCount++}),n.delete(o)}for(const[o,i]of n)r.push({type:"attribute",position:e.start,range:e.clone(),length:1,attributeKey:o,attributeOldValue:null,attributeNewValue:i,changeCount:this._changeCount++});return r}_isInInsertedElement(e){const t=e.parent;if(!t)return!1;const n=this._changesInElement.get(t),r=e.startOffset;if(n)for(const o of n)if("insert"==o.type&&r>=o.offset&&r<o.offset+o.howMany)return!0;return this._isInInsertedElement(t)}_removeAllNestedChanges(e,t,n){const r=new ai(ii._createAt(e,t),ii._createAt(e,t+n));for(const o of r.getItems({shallow:!0}))o.is("element")&&(this._elementSnapshots.delete(o),this._changesInElement.delete(o),this._removeAllNestedChanges(o,0,o.maxOffset))}}function Ma(e){const t=[];for(const n of e)if(n.is("text"))for(let e=0;e<n.data.length;e++)t.push({name:"$text",attributes:new Map(n.getAttributes())});else t.push({name:n.name,attributes:new Map(n.getAttributes())});return t}function Aa(e,t){const n=[];let r=0,o=0;for(const i of t){if(i.offset>r){for(let e=0;e<i.offset-r;e++)n.push("e");o+=i.offset-r}if("insert"==i.type){for(let e=0;e<i.howMany;e++)n.push("i");r=i.offset+i.howMany}else if("remove"==i.type){for(let e=0;e<i.howMany;e++)n.push("r");r=i.offset,o+=i.howMany}else n.push(..."a".repeat(i.howMany).split("")),r=i.offset+i.howMany,o+=i.howMany}if(o<e)for(let i=0;i<e-o-r;i++)n.push("e");return n}function ja(e){const t=e.position&&"$graveyard"==e.position.root.rootName,n=e.range&&"$graveyard"==e.range.root.rootName;return!t&&!n}class Ia{constructor(){this._operations=[],this._undoPairs=new Map,this._undoneOperations=new Set}addOperation(e){this._operations.includes(e)||this._operations.push(e)}getOperations(e=0,t=Number.POSITIVE_INFINITY){return e<0?[]:this._operations.slice(e,t)}getOperation(e){return this._operations[e]}setOperationAsUndone(e,t){this._undoPairs.set(t,e),this._undoneOperations.add(e)}isUndoingOperation(e){return this._undoPairs.has(e)}isUndoneOperation(e){return this._undoneOperations.has(e)}getUndoneOperation(e){return this._undoPairs.get(e)}}function Na(e,t){return!!(n=e.charAt(t-1))&&1==n.length&&/[\ud800-\udbff]/.test(n)&&function(e){return!!e&&1==e.length&&/[\udc00-\udfff]/.test(e)}(e.charAt(t));var n}function Ra(e,t){return!!(n=e.charAt(t))&&1==n.length&&/[\u0300-\u036f\u1ab0-\u1aff\u1dc0-\u1dff\u20d0-\u20ff\ufe20-\ufe2f]/.test(n);var n}class Da{constructor(e){this.model=e,this.version=0,this.history=new Ia(this),this.selection=new vi(this),this.roots=new jt({idProperty:"rootName"}),this.differ=new Ta(e.markers),this._postFixers=new Set,this._hasSelectionChangedFromTheLastChangeBlock=!1,this.createRoot("$root","$graveyard"),this.listenTo(e,"applyOperation",(e,t)=>{const n=t[0];if(n.isDocumentOperation&&n.baseVersion!==this.version)throw new _t.b("model-document-applyOperation-wrong-version: Only operations with matching versions can be applied.",this,{operation:n})},{priority:"highest"}),this.listenTo(e,"applyOperation",(e,t)=>{const n=t[0];n.isDocumentOperation&&this.differ.bufferOperation(n)},{priority:"high"}),this.listenTo(e,"applyOperation",(e,t)=>{const n=t[0];n.isDocumentOperation&&(this.version++,this.history.addOperation(n))},{priority:"low"}),this.listenTo(this.selection,"change",()=>{this._hasSelectionChangedFromTheLastChangeBlock=!0}),this.listenTo(e.markers,"update",(e,t,n,r)=>{this.differ.bufferMarkerChange(t.name,n,r,t.affectsData),null===n&&t.on("change",(e,n)=>{this.differ.bufferMarkerChange(t.name,n,t.getRange(),t.affectsData)})})}get graveyard(){return this.getRoot("$graveyard")}createRoot(e="$root",t="main"){if(this.roots.get(t))throw new _t.b("model-document-createRoot-name-exists: Root with specified name already exists.",this,{name:t});const n=new wa(this,e,t);return this.roots.add(n),n}destroy(){this.selection.destroy(),this.stopListening()}getRoot(e="main"){return this.roots.get(e)}getRootNames(){return Array.from(this.roots,e=>e.rootName).filter(e=>"$graveyard"!=e)}registerPostFixer(e){this._postFixers.add(e)}toJSON(){const e=Ft(this);return e.selection="[engine.model.DocumentSelection]",e.model="[engine.model.Model]",e}_handleChangeBlock(e){this._hasDocumentChangedFromTheLastChangeBlock()&&(this._callPostFixers(e),this.selection.refresh(),this.differ.hasDataChanges()?this.fire("change:data",e.batch):this.fire("change",e.batch),this.selection.refresh(),this.differ.reset()),this._hasSelectionChangedFromTheLastChangeBlock=!1}_hasDocumentChangedFromTheLastChangeBlock(){return!this.differ.isEmpty||this._hasSelectionChangedFromTheLastChangeBlock}_getDefaultRoot(){for(const e of this.roots)if(e!==this.graveyard)return e;return this.graveyard}_getDefaultRange(){const e=this._getDefaultRoot(),t=this.model,n=t.schema,r=t.createPositionFromPath(e,[0]);return n.getNearestSelectionRange(r)||t.createRange(r)}_validateSelectionRange(e){return La(e.start)&&La(e.end)}_callPostFixers(e){let t=!1;do{for(const n of this._postFixers)if(this.selection.refresh(),t=n(e))break}while(t)}}function La(e){const t=e.textNode;if(t){const n=t.data,r=e.offset-t.startOffset;return!Na(n,r)&&!Ra(n,r)}return!0}At(Da,St);class Ba{constructor(){this._markers=new Map}[Symbol.iterator](){return this._markers.values()}has(e){return this._markers.has(e)}get(e){return this._markers.get(e)||null}_set(e,t,n=!1,r=!1){const o=e instanceof Fa?e.name:e,i=this._markers.get(o);if(i){const e=i.getRange();let a=!1;return e.isEqual(t)||(i._attachLiveRange(bi.fromRange(t)),a=!0),n!=i.managedUsingOperations&&(i._managedUsingOperations=n,a=!0),"boolean"==typeof r&&r!=i.affectsData&&(i._affectsData=r,a=!0),a&&this.fire("update:"+o,i,e,t),i}const a=bi.fromRange(t),s=new Fa(o,a,n,r);return this._markers.set(o,s),this.fire("update:"+o,s,null,t),s}_remove(e){const t=e instanceof Fa?e.name:e,n=this._markers.get(t);return!!n&&(this._markers.delete(t),this.fire("update:"+t,n,n.getRange(),null),this._destroyMarker(n),!0)}_refresh(e){const t=e instanceof Fa?e.name:e,n=this._markers.get(t);if(!n)throw new _t.b("markercollection-refresh-marker-not-exists: Marker with provided name does not exists.",this);const r=n.getRange();this.fire("update:"+t,n,r,r,n.managedUsingOperations,n.affectsData)}*getMarkersAtPosition(e){for(const t of this)t.getRange().containsPosition(e)&&(yield t)}*getMarkersIntersectingRange(e){for(const t of this)null!==t.getRange().getIntersection(e)&&(yield t)}destroy(){for(const e of this._markers.values())this._destroyMarker(e);this._markers=null,this.stopListening()}*getMarkersGroup(e){for(const t of this._markers.values())t.name.startsWith(e+":")&&(yield t)}_destroyMarker(e){e.stopListening(),e._detachLiveRange()}}At(Ba,St);class Fa{constructor(e,t,n,r){this.name=e,this._liveRange=this._attachLiveRange(t),this._managedUsingOperations=n,this._affectsData=r}get managedUsingOperations(){if(!this._liveRange)throw new _t.b("marker-destroyed: Cannot use a destroyed marker instance.",this);return this._managedUsingOperations}get affectsData(){if(!this._liveRange)throw new _t.b("marker-destroyed: Cannot use a destroyed marker instance.",this);return this._affectsData}getStart(){if(!this._liveRange)throw new _t.b("marker-destroyed: Cannot use a destroyed marker instance.",this);return this._liveRange.start.clone()}getEnd(){if(!this._liveRange)throw new _t.b("marker-destroyed: Cannot use a destroyed marker instance.",this);return this._liveRange.end.clone()}getRange(){if(!this._liveRange)throw new _t.b("marker-destroyed: Cannot use a destroyed marker instance.",this);return this._liveRange.toRange()}is(e){return"marker"==e||"model:marker"==e}_attachLiveRange(e){return this._liveRange&&this._detachLiveRange(),e.delegate("change:range").to(this),e.delegate("change:content").to(this),this._liveRange=e,e}_detachLiveRange(){this._liveRange.stopDelegating("change:range",this),this._liveRange.stopDelegating("change:content",this),this._liveRange.detach(),this._liveRange=null}}At(Fa,St);class Ua extends ra{get type(){return"noop"}clone(){return new Ua(this.baseVersion)}getReversed(){return new Ua(this.baseVersion+1)}_execute(){}static get className(){return"NoOperation"}}const qa={};qa[fa.className]=fa,qa[ga.className]=ga,qa[ba.className]=ba,qa[ma.className]=ma,qa[Ua.className]=Ua,qa[ra.className]=ra,qa[va.className]=va,qa[ya.className]=ya,qa[_a.className]=_a,qa[ka.className]=ka;class za extends ii{constructor(e,t,n="toNone"){if(super(e,t,n),!this.root.is("rootElement"))throw new _t.b("model-liveposition-root-not-rootelement: LivePosition's root has to be an instance of RootElement.",e);(function(){this.listenTo(this.root.document.model,"applyOperation",(e,t)=>{const n=t[0];n.isDocumentOperation&&function(e){const t=this.getTransformedByOperation(e);if(!this.isEqual(t)){const e=this.toPosition();this.path=t.path,this.root=t.root,this.fire("change",e)}}.call(this,n)},{priority:"low"})}).call(this)}detach(){this.stopListening()}is(e){return"livePosition"==e||"model:livePosition"==e||super.is(e)}toPosition(){return new ii(this.root,this.path.slice(),this.stickiness)}static fromPosition(e,t){return new this(e.root,e.path.slice(),t||e.stickiness)}}At(za,St);class Ha{constructor(e,t,n){this.model=e,this.writer=t,this.position=n,this.canMergeWith=new Set([this.position.parent]),this.schema=e.schema,this._filterAttributesOf=[],this._affectedStart=null,this._affectedEnd=null}handleNodes(e,t){e=Array.from(e);for(let n=0;n<e.length;n++){const r=e[n];this._handleNode(r,{isFirst:0===n&&t.isFirst,isLast:n===e.length-1&&t.isLast})}this.schema.removeDisallowedAttributes(this._filterAttributesOf,this.writer),this._filterAttributesOf=[]}getSelectionRange(){return this.nodeToSelect?ai._createOn(this.nodeToSelect):this.model.schema.getNearestSelectionRange(this.position)}getAffectedRange(){return this._affectedStart?new ai(this._affectedStart,this._affectedEnd):null}destroy(){this._affectedStart&&this._affectedStart.detach(),this._affectedEnd&&this._affectedEnd.detach()}_handleNode(e,t){this.schema.isObject(e)?this._handleObject(e,t):this._checkAndSplitToAllowedPosition(e,t)?(this._insert(e),this._mergeSiblingsOf(e,t)):this._handleDisallowedNode(e,t)}_handleObject(e,t){this._checkAndSplitToAllowedPosition(e)?this._insert(e):this._tryAutoparagraphing(e,t)}_handleDisallowedNode(e,t){e.is("element")?this.handleNodes(e.getChildren(),t):this._tryAutoparagraphing(e,t)}_insert(e){if(!this.schema.checkChild(this.position,e))throw new _t.b("insertcontent-wrong-position: Given node cannot be inserted on the given position.",this,{node:e,position:this.position});const t=za.fromPosition(this.position,"toNext");this._setAffectedBoundaries(this.position),this.writer.insert(e,this.position),this.position=t.toPosition(),t.detach(),this.schema.isObject(e)&&!this.schema.checkChild(this.position,"$text")?this.nodeToSelect=e:this.nodeToSelect=null,this._filterAttributesOf.push(e)}_setAffectedBoundaries(e){this._affectedStart||(this._affectedStart=za.fromPosition(e,"toPrevious")),this._affectedEnd&&!this._affectedEnd.isBefore(e)||(this._affectedEnd&&this._affectedEnd.detach(),this._affectedEnd=za.fromPosition(e,"toNext"))}_mergeSiblingsOf(e,t){if(!(e instanceof ni))return;const n=this._canMergeLeft(e,t),r=this._canMergeRight(e,t),o=za._createBefore(e);o.stickiness="toNext";const i=za._createAfter(e);if(i.stickiness="toNext",n){const e=za.fromPosition(this.position);e.stickiness="toNext",this._affectedStart.isEqual(o)&&(this._affectedStart.detach(),this._affectedStart=za._createAt(o.nodeBefore,"end","toPrevious")),this.writer.merge(o),o.isEqual(this._affectedEnd)&&t.isLast&&(this._affectedEnd.detach(),this._affectedEnd=za._createAt(o.nodeBefore,"end","toNext")),this.position=e.toPosition(),e.detach()}if(r){if(!this.position.isEqual(i))throw new _t.b("insertcontent-invalid-insertion-position",this);this.position=ii._createAt(i.nodeBefore,"end");const e=za.fromPosition(this.position,"toPrevious");this._affectedEnd.isEqual(i)&&(this._affectedEnd.detach(),this._affectedEnd=za._createAt(i.nodeBefore,"end","toNext")),this.writer.merge(i),i.getShiftedBy(-1).isEqual(this._affectedStart)&&t.isFirst&&(this._affectedStart.detach(),this._affectedStart=za._createAt(i.nodeBefore,0,"toPrevious")),this.position=e.toPosition(),e.detach()}(n||r)&&this._filterAttributesOf.push(this.position.parent),o.detach(),i.detach()}_canMergeLeft(e,t){const n=e.previousSibling;return t.isFirst&&n instanceof ni&&this.canMergeWith.has(n)&&this.model.schema.checkMerge(n,e)}_canMergeRight(e,t){const n=e.nextSibling;return t.isLast&&n instanceof ni&&this.canMergeWith.has(n)&&this.model.schema.checkMerge(e,n)}_tryAutoparagraphing(e,t){const n=this.writer.createElement("paragraph");this._getAllowedIn(n,this.position.parent)&&this.schema.checkChild(n,e)&&(n._appendChild(e),this._handleNode(n,t))}_checkAndSplitToAllowedPosition(e){const t=this._getAllowedIn(e,this.position.parent);if(!t)return!1;for(;t!=this.position.parent;){if(this.schema.isLimit(this.position.parent))return!1;if(this.position.isAtStart){const e=this.position.parent;this.position=this.writer.createPositionBefore(e),e.isEmpty&&e.parent===t&&this.writer.remove(e)}else if(this.position.isAtEnd)this.position=this.writer.createPositionAfter(this.position.parent);else{const e=this.writer.createPositionAfter(this.position.parent);this._setAffectedBoundaries(this.position),this.writer.split(this.position),this.position=e,this.canMergeWith.add(this.position.nodeAfter)}}return!0}_getAllowedIn(e,t){return this.schema.checkChild(t,e)?t:t.parent?this._getAllowedIn(e,t.parent):null}}function Va(e,t,n){const r=e.createElement("paragraph");e.insert(r,t),Wa(e,n,e.createPositionAt(r,0))}function Wa(e,t,n){t instanceof vi?e.setSelection(n):t.setTo(n)}function Ga(e,t){if("text"==t.type)return"word"===e.unit?function(e,t){let n=e.position.textNode;if(n){let r=e.position.offset-n.startOffset;for(;!Ya(n.data,r,t)&&!Ka(n,r,t);){e.next();const o=t?e.position.nodeAfter:e.position.nodeBefore;if(o&&o.is("text")){const r=o.data.charAt(t?0:o.data.length-1);' ,.?!:;"-()'.includes(r)||(e.next(),n=e.position.textNode)}r=e.position.offset-n.startOffset}}return e.position}(e.walker,e.isForward):function(e,t){const n=e.position.textNode;if(n){const r=n.data;let o=e.position.offset-n.startOffset;for(;Na(r,o)||"character"==t&&Ra(r,o);)e.next(),o=e.position.offset-n.startOffset}return e.position}(e.walker,e.unit,e.isForward);if(t.type==(e.isForward?"elementStart":"elementEnd")){if(e.schema.isObject(t.item))return ii._createAt(t.item,e.isForward?"after":"before");if(e.schema.checkChild(t.nextPosition,"$text"))return t.nextPosition}else{if(e.schema.isLimit(t.item))return void e.walker.skip(()=>!0);if(e.schema.checkChild(t.nextPosition,"$text"))return t.nextPosition}}function Ya(e,t,n){const r=t+(n?0:-1);return' ,.?!:;"-()'.includes(e.charAt(r))}function Ka(e,t,n){return t===(n?e.endOffset:0)}function $a(e,t){const n=[];Array.from(e.getItems({direction:"backward"})).map(e=>t.createRangeOn(e)).filter(t=>(t.start.isAfter(e.start)||t.start.isEqual(e.start))&&(t.end.isBefore(e.end)||t.end.isEqual(e.end))).forEach(e=>{n.push(e.start.parent),t.remove(e)}),n.forEach(e=>{let n=e;for(;n.parent&&n.isEmpty;){const e=t.createRangeOn(n);n=n.parent,t.remove(e)}})}function Qa(e,t){return e.isCollapsed?function(e,t){const n=e.start,r=t.getNearestSelectionRange(n);if(!r)return null;if(!r.isCollapsed)return r;const o=r.start;return n.isEqual(o)?null:new ai(o)}(e,t):function(e,t){const n=e.start,r=e.end,o=t.checkChild(n,"$text"),i=t.checkChild(r,"$text"),a=t.getLimitElement(n),s=t.getLimitElement(r);if(a===s){if(o&&i)return null;if(function(e,t,n){const r=e.nodeAfter&&!n.isLimit(e.nodeAfter)||n.checkChild(e,"$text"),o=t.nodeBefore&&!n.isLimit(t.nodeBefore)||n.checkChild(t,"$text");return r||o}(n,r,t)){const e=n.nodeAfter&&t.isObject(n.nodeAfter)?null:t.getNearestSelectionRange(n,"forward"),o=r.nodeBefore&&t.isObject(r.nodeBefore)?null:t.getNearestSelectionRange(r,"backward"),i=e?e.start:n,a=o?o.start:r;return new ai(i,a)}}const l=a&&!a.is("rootElement"),c=s&&!s.is("rootElement");if(l||c){const e=n.nodeAfter&&r.nodeBefore&&n.nodeAfter.parent===r.nodeBefore.parent,o=l&&(!e||!Xa(n.nodeAfter,t)),i=c&&(!e||!Xa(r.nodeBefore,t));let u=n,d=r;return o&&(u=ii._createBefore(Ja(a,t))),i&&(d=ii._createAfter(Ja(s,t))),new ai(u,d)}return null}(e,t)}function Ja(e,t){let n=e,r=n;for(;t.isLimit(r)&&r.parent;)n=r,r=r.parent;return n}function Xa(e,t){return e&&t.isObject(e)}class Za{constructor(){var e;this.markers=new Ba,this.document=new Da(this),this.schema=new Bi,this._pendingChanges=[],this._currentWriter=null,["insertContent","deleteContent","modifySelection","getSelectedContent","applyOperation"].forEach(e=>this.decorate(e)),this.on("applyOperation",(e,t)=>{t[0]._validate()},{priority:"highest"}),this.schema.register("$root",{isLimit:!0}),this.schema.register("$block",{allowIn:"$root",isBlock:!0}),this.schema.register("$text",{allowIn:"$block",isInline:!0}),this.schema.register("$clipboardHolder",{allowContentOf:"$root",isLimit:!0}),this.schema.extend("$text",{allowIn:"$clipboardHolder"}),this.schema.register("$marker"),this.schema.addChildCheck((e,t)=>{if("$marker"===t.name)return!0}),(e=this).document.registerPostFixer(t=>(function(e,t){const n=t.document.selection,r=t.schema,o=[];let i=!1;for(const a of n.getRanges()){const e=Qa(a,r);e?(o.push(e),i=!0):o.push(a)}i&&e.setSelection(function(e){const t=[];t.push(e.shift());for(const n of e){const e=t.pop();if(n.isIntersecting(e)){const r=e.start.isAfter(n.start)?n.start:e.start,o=e.end.isAfter(n.end)?e.end:n.end,i=new ai(r,o);t.push(i)}else t.push(e),t.push(n)}return t}(o),{backward:n.isBackward})})(t,e))}change(e){try{return 0===this._pendingChanges.length?(this._pendingChanges.push({batch:new na,callback:e}),this._runPendingChanges()[0]):e(this._currentWriter)}catch(e){_t.b.rethrowUnexpectedError(e,this)}}enqueueChange(e,t){try{"string"==typeof e?e=new na(e):"function"==typeof e&&(t=e,e=new na),this._pendingChanges.push({batch:e,callback:t}),1==this._pendingChanges.length&&this._runPendingChanges()}catch(e){_t.b.rethrowUnexpectedError(e,this)}}applyOperation(e){e._execute()}insertContent(e,t,n){return function(e,t,n,r){return e.change(o=>{let i;(i=n?n instanceof pi||n instanceof vi?n:o.createSelection(n,r):e.document.selection).isCollapsed||e.deleteContent(i,{doNotAutoparagraph:!0});const a=new Ha(e,o,i.anchor);let s;s=t.is("documentFragment")?t.getChildren():[t],a.handleNodes(s,{isFirst:!0,isLast:!0});const l=a.getSelectionRange();l&&(i instanceof vi?o.setSelection(l):i.setTo(l));const c=a.getAffectedRange()||e.createRange(i.anchor);return a.destroy(),c})}(this,e,t,n)}deleteContent(e,t){!function(e,t,n={}){if(t.isCollapsed)return;const r=t.getFirstRange();if("$graveyard"==r.root.rootName)return;const o=e.schema;e.change(e=>{if(!n.doNotResetEntireContent&&function(e,t){const n=e.getLimitElement(t);if(!t.containsEntireContent(n))return!1;const r=t.getFirstRange();return r.start.parent!=r.end.parent&&e.checkChild(n,"paragraph")}(o,t))return void function(e,t){const n=e.model.schema.getLimitElement(t);e.remove(e.createRangeIn(n)),Va(e,e.createPositionAt(n,0),t)}(e,t);const i=r.start,a=za.fromPosition(r.end,"toNext");r.start.isTouching(r.end)||e.remove(r),n.leaveUnmerged||(function e(t,n,r){const o=n.parent,i=r.parent;if(o!=i&&!t.model.schema.isLimit(o)&&!t.model.schema.isLimit(i)&&function(e,t,n){const r=new ai(e,t);for(const o of r.getWalker())if(n.isLimit(o.item))return!1;return!0}(n,r,t.model.schema)){for(n=t.createPositionAfter(o),(r=t.createPositionBefore(i)).isEqual(n)||t.insert(i,n),t.merge(n);r.parent.isEmpty;){const e=r.parent;r=t.createPositionBefore(e),t.remove(e)}e(t,n,r)}}(e,i,a),o.removeDisallowedAttributes(i.parent.getChildren(),e)),Wa(e,t,i),!n.doNotAutoparagraph&&function(e,t){const n=e.checkChild(t,"$text"),r=e.checkChild(t,"paragraph");return!n&&r}(o,i)&&Va(e,i,t),a.detach()})}(this,e,t)}modifySelection(e,t){!function(e,t,n={}){const r=e.schema,o="backward"!=n.direction,i=n.unit?n.unit:"character",a=t.focus,s=new ri({boundaries:function(e,t){const n=e.root,r=ii._createAt(n,t?"end":0);return t?new ai(e,r):new ai(r,e)}(a,o),singleCharacters:!0,direction:o?"forward":"backward"}),l={walker:s,schema:r,isForward:o,unit:i};let c;for(;c=s.next();){if(c.done)return;const n=Ga(l,c.value);if(n)return void(t instanceof vi?e.change(e=>{e.setSelectionFocus(n)}):t.setFocus(n))}}(this,e,t)}getSelectedContent(e){return function(e,t){return e.change(e=>{const n=e.createDocumentFragment(),r=t.getFirstRange();if(!r||r.isCollapsed)return n;const o=r.start.root,i=r.start.getCommonPath(r.end),a=o.getNodeByPath(i);let s;const l=(s=r.start.parent==r.end.parent?r:e.createRange(e.createPositionAt(a,r.start.path[i.length]),e.createPositionAt(a,r.end.path[i.length]+1))).end.offset-s.start.offset;for(const t of s.getItems({shallow:!0}))t.is("textProxy")?e.appendText(t.data,t.getAttributes(),n):e.append(t._clone(!0),n);if(s!=r){const t=r._getTransformedByMove(s.start,e.createPositionAt(n,0),l)[0],o=e.createRange(e.createPositionAt(n,0),t.start);$a(e.createRange(t.end,e.createPositionAt(n,"end")),e),$a(o,e)}return n})}(this,e)}hasContent(e,t){const n=e instanceof ni?ai._createIn(e):e;if(n.isCollapsed)return!1;for(const o of this.markers.getMarkersIntersectingRange(n))if(o.affectsData)return!0;const{ignoreWhitespaces:r=!1}=t||{};for(const o of n.getItems())if(o.is("textProxy")){if(!r)return!0;if(-1!==o.data.search(/\S/))return!0}else if(this.schema.isObject(o))return!0;return!1}createPositionFromPath(e,t,n){return new ii(e,t,n)}createPositionAt(e,t){return ii._createAt(e,t)}createPositionAfter(e){return ii._createAfter(e)}createPositionBefore(e){return ii._createBefore(e)}createRange(e,t){return new ai(e,t)}createRangeIn(e){return ai._createIn(e)}createRangeOn(e){return ai._createOn(e)}createSelection(e,t,n){return new pi(e,t,n)}createBatch(e){return new na(e)}createOperationFromJSON(e){return class{static fromJSON(e,t){return qa[e.__className].fromJSON(e,t)}}.fromJSON(e,this.document)}destroy(){this.document.destroy(),this.stopListening()}_runPendingChanges(){const e=[];for(this.fire("_beforeChanges");this._pendingChanges.length;){const t=this._pendingChanges[0].batch;this._currentWriter=new Ca(this,t);const n=this._pendingChanges[0].callback(this._currentWriter);e.push(n),this.document._handleChangeBlock(this._currentWriter),this._pendingChanges.shift(),this._currentWriter=null}return this.fire("_afterChanges"),e}}At(Za,Rn);class es{constructor(){this._listener=Object.create(Xr)}listenTo(e){this._listener.listenTo(e,"keydown",(e,t)=>{this._listener.fire("_keydown:"+lr(t),t)})}set(e,t,n={}){const r=cr(e),o=n.priority;this._listener.listenTo(this._listener,"_keydown:"+r,(e,n)=>{t(n,()=>{n.preventDefault(),n.stopPropagation(),e.stop()}),e.return=!0},{priority:o})}press(e){return!!this._listener.fire("_keydown:"+lr(e),e)}destroy(){this._listener.stopListening()}}class ts extends es{constructor(e){super(),this.editor=e}set(e,t,n={}){if("string"==typeof t){const e=t;t=((t,n)=>{this.editor.execute(e),n()})}super.set(e,t,n)}}class ns{constructor(e={}){this._context=e.context||new Lt({language:e.language}),this._context._addEditor(this,!e.context);const t=Array.from(this.constructor.builtinPlugins||[]);this.config=new ft(e,this.constructor.defaultConfig),this.config.define("plugins",t),this.config.define(this._context._getEditorConfig()),this.plugins=new It(this,t,this._context.plugins),this.locale=this._context.locale,this.t=this.locale.t,this.commands=new Ri,this.set("state","initializing"),this.once("ready",()=>this.state="ready",{priority:"high"}),this.once("destroy",()=>this.state="destroyed",{priority:"high"}),this.set("isReadOnly",!1),this.model=new Za;const n=new Cn;this.data=new Xi(this.model,n),this.editing=new Ni(this.model,n),this.editing.view.document.bind("isReadOnly").to(this),this.conversion=new Zi([this.editing.downcastDispatcher,this.data.downcastDispatcher],this.data.upcastDispatcher),this.conversion.addAlias("dataDowncast",this.data.downcastDispatcher),this.conversion.addAlias("editingDowncast",this.editing.downcastDispatcher),this.keystrokes=new ts(this),this.keystrokes.listenTo(this.editing.view.document)}initPlugins(){const e=this.config,t=e.get("plugins"),n=e.get("removePlugins")||[],r=e.get("extraPlugins")||[];return this.plugins.init(t.concat(r),n)}destroy(){let e=Promise.resolve();return"initializing"==this.state&&(e=new Promise(e=>this.once("ready",e))),e.then(()=>{this.fire("destroy"),this.stopListening(),this.commands.destroy()}).then(()=>this.plugins.destroy()).then(()=>{this.model.destroy(),this.data.destroy(),this.editing.destroy(),this.keystrokes.destroy()}).then(()=>this._context._removeEditor(this))}execute(...e){try{this.commands.execute(...e)}catch(e){_t.b.rethrowUnexpectedError(e,this)}}}At(ns,Rn);var rs={setData(e){this.data.set(e)},getData(e){return this.data.get(e)}},os={updateSourceElement(){if(!this.sourceElement)throw new _t.b("editor-missing-sourceelement: Cannot update the source element of a detached editor.",this);var e,t;e=this.sourceElement,t=this.data.get(),e instanceof HTMLTextAreaElement&&(e.value=t),e.innerHTML=t}};class is{getHtml(e){const t=document.implementation.createHTMLDocument("").createElement("div");return t.appendChild(e),t.innerHTML}}class as{constructor(e){this._domParser=new DOMParser,this._domConverter=new Yr(e,{blockFillerMode:"nbsp"}),this._htmlWriter=new is}toData(e){const t=this._domConverter.viewToDom(e,document);return this._htmlWriter.getHtml(t)}toView(e){const t=this._toDom(e);return this._domConverter.domToView(t)}_toDom(e){const t=this._domParser.parseFromString(e,"text/html"),n=t.createDocumentFragment(),r=t.body.childNodes;for(;r.length>0;)n.appendChild(r[0]);return n}}class ss{constructor(e){this.editor=e,this._components=new Map}*names(){for(const e of this._components.values())yield e.originalName}add(e,t){if(this.has(e))throw new _t.b("componentfactory-item-exists: The item already exists in the component factory.",this,{name:e});this._components.set(ls(e),{callback:t,originalName:e})}create(e){if(!this.has(e))throw new _t.b("componentfactory-item-missing: The required component is not registered in the factory.",this,{name:e});return this._components.get(ls(e)).callback(this.editor.locale)}has(e){return this._components.has(ls(e))}}function ls(e){return String(e).toLowerCase()}class cs{constructor(){this.set("isFocused",!1),this.set("focusedElement",null),this._elements=new Set,this._nextEventLoopTimeout=null}add(e){if(this._elements.has(e))throw new _t.b("focusTracker-add-element-already-exist",this);this.listenTo(e,"focus",()=>this._focus(e),{useCapture:!0}),this.listenTo(e,"blur",()=>this._blur(),{useCapture:!0}),this._elements.add(e)}remove(e){e===this.focusedElement&&this._blur(e),this._elements.has(e)&&(this.stopListening(e),this._elements.delete(e))}destroy(){this.stopListening()}_focus(e){clearTimeout(this._nextEventLoopTimeout),this.focusedElement=e,this.isFocused=!0}_blur(){clearTimeout(this._nextEventLoopTimeout),this._nextEventLoopTimeout=setTimeout(()=>{this.focusedElement=null,this.isFocused=!1},0)}}At(cs,Xr),At(cs,Rn);class us{constructor(e){this.editor=e,this.componentFactory=new ss(e),this.focusTracker=new cs,this._editableElementsMap=new Map,this.listenTo(e.editing.view.document,"layoutChanged",()=>this.update())}get element(){return null}update(){this.fire("update")}destroy(){this.stopListening(),this.focusTracker.destroy();for(const e of this._editableElementsMap.values())e.ckeditorInstance=null;this._editableElementsMap=new Map}setEditableElement(e,t){this._editableElementsMap.set(e,t),t.ckeditorInstance||(t.ckeditorInstance=this.editor)}getEditableElement(e="main"){return this._editableElementsMap.get(e)}getEditableElementsNames(){return this._editableElementsMap.keys()}get _editableElements(){return console.warn("editor-ui-deprecated-editable-elements: The EditorUI#_editableElements property has been deprecated and will be removed in the near future.",{editorUI:this}),this._editableElementsMap}}At(us,St),n(13);const ds=new WeakMap;function ps(e){const{view:t,element:n,text:r,isDirectHost:o=!0}=e,i=t.document;ds.has(i)||(ds.set(i,new Map),i.registerPostFixer(e=>fs(i,e))),ds.get(i).set(n,{text:r,isDirectHost:o}),t.change(e=>fs(i,e))}function fs(e,t){const n=ds.get(e);let r=!1;for(const[o,i]of n)hs(t,o,i)&&(r=!0);return r}function hs(e,t,n){const{text:r,isDirectHost:o}=n,i=o?t:function(e){if(1===e.childCount){const t=e.getChild(0);if(t.is("element")&&!t.is("uiElement"))return t}return null}(t);let a=!1;return!!i&&(n.hostElement=i,i.getAttribute("data-placeholder")!==r&&(e.setAttribute("data-placeholder",r,i),a=!0),function(e){if(!e.isAttached())return!1;const t=!Array.from(e.getChildren()).some(e=>!e.is("uiElement")),n=e.document;if(!n.isFocused&&t)return!0;const r=n.selection.anchor;return!(!t||!r||r.parent===e)}(i)?function(e,t){return!t.hasClass("ck-placeholder")&&(e.addClass("ck-placeholder",t),!0)}(e,i)&&(a=!0):function(e,t){return!!t.hasClass("ck-placeholder")&&(e.removeClass("ck-placeholder",t),!0)}(e,i)&&(a=!0),a)}class ms{constructor(){this._replacedElements=[]}replace(e,t){this._replacedElements.push({element:e,newElement:t}),e.style.display="none",t&&e.parentNode.insertBefore(t,e.nextSibling)}restore(){this._replacedElements.forEach(({element:e,newElement:t})=>{e.style.display="",t&&t.remove()}),this._replacedElements=[]}}class gs extends us{constructor(e,t){var n;super(e),this.view=t,this._toolbarConfig=(n=e.config.get("toolbar"),Array.isArray(n)?{items:n}:n?Object.assign({items:[]},n):{items:[]}),this._elementReplacer=new ms}get element(){return this.view.element}init(e){const t=this.editor,n=this.view,r=t.editing.view,o=n.editable,i=r.document.getRoot();o.name=i.rootName,n.render();const a=o.element;this.setEditableElement(o.name,a),this.focusTracker.add(a),n.editable.bind("isFocused").to(this.focusTracker),r.attachDomRoot(a),e&&this._elementReplacer.replace(e,this.element),this._initPlaceholder(),this._initToolbar(),this.fire("ready")}destroy(){const e=this.view,t=this.editor.editing.view;this._elementReplacer.restore(),t.detachDomRoot(e.editable.name),e.destroy(),super.destroy()}_initToolbar(){const e=this.editor,t=this.view,n=e.editing.view;t.stickyPanel.bind("isActive").to(this.focusTracker,"isFocused"),t.stickyPanel.limiterElement=t.element,this._toolbarConfig.viewportTopOffset&&(t.stickyPanel.viewportTopOffset=this._toolbarConfig.viewportTopOffset),t.toolbar.fillFromConfig(this._toolbarConfig.items,this.componentFactory),function({origin:e,originKeystrokeHandler:t,originFocusTracker:n,toolbar:r,beforeFocus:o,afterBlur:i}){n.add(r.element),t.set("Alt+F10",(e,t)=>{n.isFocused&&!r.focusTracker.isFocused&&(o&&o(),r.focus(),t())}),r.keystrokes.set("Esc",(t,n)=>{r.focusTracker.isFocused&&(e.focus(),i&&i(),n())})}({origin:n,originFocusTracker:this.focusTracker,originKeystrokeHandler:e.keystrokes,toolbar:t.toolbar})}_initPlaceholder(){const e=this.editor,t=e.editing.view,n=t.document.getRoot(),r=e.sourceElement,o=e.config.get("placeholder")||r&&"textarea"===r.tagName.toLowerCase()&&r.getAttribute("placeholder");o&&ps({view:t,element:n,text:o,isDirectHost:!1})}}class bs extends jt{constructor(e){super({idProperty:"viewUid"}),this.on("add",(e,t,n)=>{t.isRendered||t.render(),t.element&&this._parentElement&&this._parentElement.insertBefore(t.element,this._parentElement.children[n])}),this.on("remove",(e,t)=>{t.element&&this._parentElement&&t.element.remove()}),this.locale=e,this._parentElement=null}destroy(){this.map(e=>e.destroy())}setParent(e){this._parentElement=e}delegate(...e){if(!e.length||!e.every(e=>"string"==typeof e))throw new _t.b("ui-viewcollection-delegate-wrong-events: All event names must be strings.",this);return{to:t=>{for(const n of this)for(const r of e)n.delegate(r).to(t);this.on("add",(n,r)=>{for(const o of e)r.delegate(o).to(t)}),this.on("remove",(n,r)=>{for(const o of e)r.stopDelegating(o,t)})}}}}class vs{constructor(e){Object.assign(this,xs(Es(e))),this._isRendered=!1,this._revertData=null}render(){const e=this._renderNode({intoFragment:!0});return this._isRendered=!0,e}apply(e){return this._revertData={children:[],bindings:[],attributes:{}},this._renderNode({node:e,isApplying:!0,revertData:this._revertData}),e}revert(e){if(!this._revertData)throw new _t.b("ui-template-revert-not-applied: Attempting to revert a template which has not been applied yet.",[this,e]);this._revertTemplateFromNode(e,this._revertData)}*getViews(){yield*function*e(t){if(t.children)for(const n of t.children)js(n)?yield n:Is(n)&&(yield*e(n))}(this)}static bind(e,t){return{to:(n,r)=>new ks({eventNameOrFunction:n,attribute:n,observable:e,emitter:t,callback:r}),if:(n,r,o)=>new _s({observable:e,emitter:t,attribute:n,valueIfTrue:r,callback:o})}}static extend(e,t){if(e._isRendered)throw new _t.b("template-extend-render: Attempting to extend a template which has already been rendered.",[this,e]);!function e(t,n){if(n.attributes&&(t.attributes||(t.attributes={}),Ms(t.attributes,n.attributes)),n.eventListeners&&(t.eventListeners||(t.eventListeners={}),Ms(t.eventListeners,n.eventListeners)),n.text&&t.text.push(...n.text),n.children&&n.children.length){if(t.children.length!=n.children.length)throw new _t.b("ui-template-extend-children-mismatch: The number of children in extended definition does not match.",t);let r=0;for(const o of n.children)e(t.children[r++],o)}}(e,xs(Es(t)))}_renderNode(e){let t;if(t=e.node?this.tag&&this.text:this.tag?this.text:!this.text)throw new _t.b('ui-template-wrong-syntax: Node definition must have either "tag" or "text" when rendering a new Node.',this);return this.text?this._renderText(e):this._renderElement(e)}_renderElement(e){let t=e.node;return t||(t=e.node=document.createElementNS(this.ns||"http://www.w3.org/1999/xhtml",this.tag)),this._renderAttributes(e),this._renderElementChildren(e),this._setUpListeners(e),t}_renderText(e){let t=e.node;return t?e.revertData.text=t.textContent:t=e.node=document.createTextNode(""),ws(this.text)?this._bindToObservable({schema:this.text,updater:function(e){return{set(t){e.textContent=t},remove(){e.textContent=""}}}(t),data:e}):t.textContent=this.text.join(""),t}_renderAttributes(e){let t,n,r,o;if(!this.attributes)return;const i=e.node,a=e.revertData;for(t in this.attributes)if(r=i.getAttribute(t),n=this.attributes[t],a&&(a.attributes[t]=r),o=x(n[0])&&n[0].ns?n[0].ns:null,ws(n)){const s=o?n[0].value:n;a&&Rs(t)&&s.unshift(r),this._bindToObservable({schema:s,updater:Ss(i,t,o),data:e})}else"style"==t&&"string"!=typeof n[0]?this._renderStyleAttribute(n[0],e):(a&&r&&Rs(t)&&n.unshift(r),As(n=n.map(e=>e&&e.value||e).reduce((e,t)=>e.concat(t),[]).reduce(Ts,""))||i.setAttributeNS(o,t,n))}_renderStyleAttribute(e,t){const n=t.node;for(const r in e){const o=e[r];ws(o)?this._bindToObservable({schema:[o],updater:Ps(n,r),data:t}):n.style[r]=o}}_renderElementChildren(e){const t=e.node,n=e.intoFragment?document.createDocumentFragment():t,r=e.isApplying;let o=0;for(const i of this.children)if(Ns(i)){if(!r){i.setParent(t);for(const e of i)n.appendChild(e.element)}}else if(js(i))r||(i.isRendered||i.render(),n.appendChild(i.element));else if(Fr(i))n.appendChild(i);else if(r){const t={children:[],bindings:[],attributes:{}};e.revertData.children.push(t),i._renderNode({node:n.childNodes[o++],isApplying:!0,revertData:t})}else n.appendChild(i.render());e.intoFragment&&t.appendChild(n)}_setUpListeners(e){if(this.eventListeners)for(const t in this.eventListeners){const n=this.eventListeners[t].map(n=>{const[r,o]=t.split("@");return n.activateDomEventListener(r,o,e)});e.revertData&&e.revertData.bindings.push(n)}}_bindToObservable({schema:e,updater:t,data:n}){const r=n.revertData;Cs(e,t,n);const o=e.filter(e=>!As(e)).filter(e=>e.observable).map(r=>r.activateAttributeListener(e,t,n));r&&r.bindings.push(o)}_revertTemplateFromNode(e,t){for(const n of t.bindings)for(const e of n)e();if(t.text)e.textContent=t.text;else{for(const n in t.attributes){const r=t.attributes[n];null===r?e.removeAttribute(n):e.setAttribute(n,r)}for(let n=0;n<t.children.length;++n)this._revertTemplateFromNode(e.childNodes[n],t.children[n])}}}At(vs,St);class ys{constructor(e){Object.assign(this,e)}getValue(e){const t=this.observable[this.attribute];return this.callback?this.callback(t,e):t}activateAttributeListener(e,t,n){const r=()=>Cs(e,t,n);return this.emitter.listenTo(this.observable,"change:"+this.attribute,r),()=>{this.emitter.stopListening(this.observable,"change:"+this.attribute,r)}}}class ks extends ys{activateDomEventListener(e,t,n){const r=(e,n)=>{t&&!n.target.matches(t)||("function"==typeof this.eventNameOrFunction?this.eventNameOrFunction(n):this.observable.fire(this.eventNameOrFunction,n))};return this.emitter.listenTo(n.node,e,r),()=>{this.emitter.stopListening(n.node,e,r)}}}class _s extends ys{getValue(e){return!As(super.getValue(e))&&(this.valueIfTrue||!0)}}function ws(e){return!!e&&(e.value&&(e=e.value),Array.isArray(e)?e.some(ws):e instanceof ys)}function Cs(e,t,{node:n}){let r=function(e,t){return e.map(e=>e instanceof ys?e.getValue(t):e)}(e,n);As(r=1==e.length&&e[0]instanceof _s?r[0]:r.reduce(Ts,""))?t.remove():t.set(r)}function Ss(e,t,n){return{set(r){e.setAttributeNS(n,t,r)},remove(){e.removeAttributeNS(n,t)}}}function Ps(e,t){return{set(n){e.style[t]=n},remove(){e.style[t]=null}}}function Es(e){return dt(e,e=>{if(e&&(e instanceof ys||Is(e)||js(e)||Ns(e)))return e})}function xs(e){if("string"==typeof e?e=function(e){return{text:[e]}}(e):e.text&&function(e){Array.isArray(e.text)||(e.text=[e.text])}(e),e.on&&(e.eventListeners=function(e){for(const t in e)Os(e,t);return e}(e.on),delete e.on),!e.text){e.attributes&&function(e){for(const t in e)e[t].value&&(e[t].value=[].concat(e[t].value)),Os(e,t)}(e.attributes);const t=[];if(e.children)if(Ns(e.children))t.push(e.children);else for(const n of e.children)Is(n)||js(n)||Fr(n)?t.push(n):t.push(new vs(n));e.children=t}return e}function Os(e,t){Array.isArray(e[t])||(e[t]=[e[t]])}function Ts(e,t){return As(t)?e:As(e)?t:`${e} ${t}`}function Ms(e,t){for(const n in t)e[n]?e[n].push(...t[n]):e[n]=t[n]}function As(e){return!e&&0!==e}function js(e){return e instanceof Ds}function Is(e){return e instanceof vs}function Ns(e){return e instanceof bs}function Rs(e){return"class"==e||"style"==e}n(15);class Ds{constructor(e){this.element=null,this.isRendered=!1,this.locale=e,this.t=e&&e.t,this._viewCollections=new jt,this._unboundChildren=this.createCollection(),this._viewCollections.on("add",(t,n)=>{n.locale=e}),this.decorate("render")}get bindTemplate(){return this._bindTemplate?this._bindTemplate:this._bindTemplate=vs.bind(this,this)}createCollection(){const e=new bs;return this._viewCollections.add(e),e}registerChild(e){Ht(e)||(e=[e]);for(const t of e)this._unboundChildren.add(t)}deregisterChild(e){Ht(e)||(e=[e]);for(const t of e)this._unboundChildren.remove(t)}setTemplate(e){this.template=new vs(e)}extendTemplate(e){vs.extend(this.template,e)}render(){if(this.isRendered)throw new _t.b("ui-view-render-already-rendered: This View has already been rendered.",this);this.template&&(this.element=this.template.render(),this.registerChild(this.template.getViews())),this.isRendered=!0}destroy(){this.stopListening(),this._viewCollections.map(e=>e.destroy()),this.template&&this.template._revertData&&this.template.revert(this.element)}}At(Ds,Xr),At(Ds,Rn);var Ls=function(e){return"string"==typeof e||!se(e)&&h(e)&&"[object String]"==d(e)};class Bs extends bs{attachToDom(){this._bodyCollectionContainer=new vs({tag:"div",attributes:{class:["ck","ck-reset_all","ck-body","ck-rounded-corners"],dir:this.locale.uiLanguageDirection},children:this}).render();let e=document.querySelector(".ck-body-wrapper");e||(e=function(e,t,n={},r=[]){const o=n&&n.xmlns,i=o?e.createElementNS(o,"div"):e.createElement("div");for(const a in n)i.setAttribute(a,n[a]);!Ls(r)&&Ht(r)||(r=[r]);for(let a of r)Ls(a)&&(a=e.createTextNode(a)),i.appendChild(a);return i}(document,0,{class:"ck-body-wrapper"}),document.body.appendChild(e)),e.appendChild(this._bodyCollectionContainer)}detachFromDom(){super.destroy(),this._bodyCollectionContainer&&this._bodyCollectionContainer.remove();const e=document.querySelector(".ck-body-wrapper");e&&0==e.childElementCount&&e.remove()}}n(17);class Fs extends Ds{constructor(e){super(e),this.body=new Bs(e)}render(){super.render(),this.body.attachToDom()}destroy(){return this.body.detachFromDom(),super.destroy()}}n(19);class Us extends Ds{constructor(e){super(e),this.set("text"),this.set("for"),this.id=`ck-editor__label_${yt()}`;const t=this.bindTemplate;this.setTemplate({tag:"label",attributes:{class:["ck","ck-label"],id:this.id,for:t.to("for")},children:[{text:t.to("text")}]})}}class qs extends Fs{constructor(e){super(e),this.top=this.createCollection(),this.main=this.createCollection(),this._voiceLabelView=this._createVoiceLabel(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-editor","ck-rounded-corners"],role:"application",dir:e.uiLanguageDirection,lang:e.uiLanguage,"aria-labelledby":this._voiceLabelView.id},children:[this._voiceLabelView,{tag:"div",attributes:{class:["ck","ck-editor__top","ck-reset_all"],role:"presentation"},children:this.top},{tag:"div",attributes:{class:["ck","ck-editor__main"],role:"presentation"},children:this.main}]})}_createVoiceLabel(){const e=this.t,t=new Us;return t.text=e("bj"),t.extendTemplate({attributes:{class:"ck-voice-label"}}),t}}class zs extends Ds{constructor(e,t,n){super(e),this.setTemplate({tag:"div",attributes:{class:["ck","ck-content","ck-editor__editable","ck-rounded-corners"],lang:e.contentLanguage,dir:e.contentLanguageDirection}}),this.name=null,this.set("isFocused",!1),this._editableElement=n,this._hasExternalElement=!!this._editableElement,this._editingView=t}render(){super.render(),this._hasExternalElement?this.template.apply(this.element=this._editableElement):this._editableElement=this.element,this.on("change:isFocused",()=>this._updateIsFocusedClasses()),this._updateIsFocusedClasses()}destroy(){this._hasExternalElement&&this.template.revert(this._editableElement),super.destroy()}_updateIsFocusedClasses(){const e=this._editingView;function t(t){e.change(n=>{const r=e.document.getRoot(t.name);n.addClass(t.isFocused?"ck-focused":"ck-blurred",r),n.removeClass(t.isFocused?"ck-blurred":"ck-focused",r)})}e.isRenderingInProgress?function n(r){e.once("change:isRenderingInProgress",(e,o,i)=>{i?n(r):t(r)})}(this):t(this)}}class Hs extends zs{constructor(e,t,n){super(e,t,n),this.extendTemplate({attributes:{role:"textbox",class:"ck-editor__editable_inline"}})}render(){super.render();const e=this._editingView,t=this.t;e.change(n=>{const r=e.document.getRoot(this.name);n.setAttribute("aria-label",t("by",[this.name]),r)})}}function Vs(e){return t=>t+e}n(21);const Ws=Vs("px");class Gs extends Ds{constructor(e){super(e);const t=this.bindTemplate;this.set("isActive",!1),this.set("isSticky",!1),this.set("limiterElement",null),this.set("limiterBottomOffset",50),this.set("viewportTopOffset",0),this.set("_marginLeft",null),this.set("_isStickyToTheLimiter",!1),this.set("_hasViewportTopOffset",!1),this.content=this.createCollection(),this._contentPanelPlaceholder=new vs({tag:"div",attributes:{class:["ck","ck-sticky-panel__placeholder"],style:{display:t.to("isSticky",e=>e?"block":"none"),height:t.to("isSticky",e=>e?Ws(this._panelRect.height):null)}}}).render(),this._contentPanel=new vs({tag:"div",attributes:{class:["ck","ck-sticky-panel__content",t.if("isSticky","ck-sticky-panel__content_sticky"),t.if("_isStickyToTheLimiter","ck-sticky-panel__content_sticky_bottom-limit")],style:{width:t.to("isSticky",e=>e?Ws(this._contentPanelPlaceholder.getBoundingClientRect().width):null),top:t.to("_hasViewportTopOffset",e=>e?Ws(this.viewportTopOffset):null),bottom:t.to("_isStickyToTheLimiter",e=>e?Ws(this.limiterBottomOffset):null),marginLeft:t.to("_marginLeft")}},children:this.content}).render(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-sticky-panel"]},children:[this._contentPanelPlaceholder,this._contentPanel]})}render(){super.render(),this._checkIfShouldBeSticky(),this.listenTo(Hr.window,"scroll",()=>{this._checkIfShouldBeSticky()}),this.listenTo(this,"change:isActive",()=>{this._checkIfShouldBeSticky()})}_checkIfShouldBeSticky(){const e=this._panelRect=this._contentPanel.getBoundingClientRect();let t;this.limiterElement?(t=this._limiterRect=this.limiterElement.getBoundingClientRect(),this.isSticky=this.isActive&&t.top<this.viewportTopOffset&&this._panelRect.height+this.limiterBottomOffset<t.height):this.isSticky=!1,this.isSticky?(this._isStickyToTheLimiter=t.bottom<e.height+this.limiterBottomOffset+this.viewportTopOffset,this._hasViewportTopOffset=!this._isStickyToTheLimiter&&!!this.viewportTopOffset,this._marginLeft=this._isStickyToTheLimiter?null:Ws(-Hr.window.scrollX)):(this._isStickyToTheLimiter=!1,this._hasViewportTopOffset=!1,this._marginLeft=null)}}class Ys{constructor(e){if(Object.assign(this,e),e.actions&&e.keystrokeHandler)for(const t in e.actions){let n=e.actions[t];"string"==typeof n&&(n=[n]);for(const r of n)e.keystrokeHandler.set(r,(e,n)=>{this[t](),n()})}}get first(){return this.focusables.find(Ks)||null}get last(){return this.focusables.filter(Ks).slice(-1)[0]||null}get next(){return this._getFocusableItem(1)}get previous(){return this._getFocusableItem(-1)}get current(){let e=null;return null===this.focusTracker.focusedElement?null:(this.focusables.find((t,n)=>{const r=t.element===this.focusTracker.focusedElement;return r&&(e=n),r}),e)}focusFirst(){this._focus(this.first)}focusLast(){this._focus(this.last)}focusNext(){this._focus(this.next)}focusPrevious(){this._focus(this.previous)}_focus(e){e&&e.focus()}_getFocusableItem(e){const t=this.current,n=this.focusables.length;if(!n)return null;if(null===t)return this[1===e?"first":"last"];let r=(t+n+e)%n;do{const t=this.focusables.get(r);if(Ks(t))return t;r=(r+n+e)%n}while(r!==t);return null}}function Ks(e){return!(!e.focus||"none"==Hr.window.getComputedStyle(e.element).display)}class $s extends Ds{constructor(e){super(e),this.setTemplate({tag:"span",attributes:{class:["ck","ck-toolbar__separator"]}})}}class Qs{constructor(e,t){Qs._observerInstance||Qs._createObserver(),this._element=e,this._callback=t,Qs._addElementCallback(e,t),Qs._observerInstance.observe(e)}destroy(){Qs._deleteElementCallback(this._element,this._callback)}static _addElementCallback(e,t){Qs._elementCallbacks||(Qs._elementCallbacks=new Map);let n=Qs._elementCallbacks.get(e);n||(n=new Set,Qs._elementCallbacks.set(e,n)),n.add(t)}static _deleteElementCallback(e,t){const n=Qs._getElementCallbacks(e);n&&(n.delete(t),n.size||(Qs._elementCallbacks.delete(e),Qs._observerInstance.unobserve(e))),Qs._elementCallbacks&&!Qs._elementCallbacks.size&&(Qs._observerInstance=null,Qs._elementCallbacks=null)}static _getElementCallbacks(e){return Qs._elementCallbacks?Qs._elementCallbacks.get(e):null}static _createObserver(){let e;e="function"==typeof Hr.window.ResizeObserver?Hr.window.ResizeObserver:Js,Qs._observerInstance=new e(e=>{for(const t of e){const e=Qs._getElementCallbacks(t.target);if(e)for(const n of e)n(t)}})}}Qs._observerInstance=null,Qs._elementCallbacks=null;class Js{constructor(e){this._callback=e,this._elements=new Set,this._previousRects=new Map,this._periodicCheckTimeout=null}observe(e){this._elements.add(e),this._checkElementRectsAndExecuteCallback(),1===this._elements.size&&this._startPeriodicCheck()}unobserve(e){this._elements.delete(e),this._previousRects.delete(e),this._elements.size||this._stopPeriodicCheck()}_startPeriodicCheck(){const e=()=>{this._checkElementRectsAndExecuteCallback(),this._periodicCheckTimeout=setTimeout(e,100)};this.listenTo(Hr.window,"resize",()=>{this._checkElementRectsAndExecuteCallback()}),this._periodicCheckTimeout=setTimeout(e,100)}_stopPeriodicCheck(){clearTimeout(this._periodicCheckTimeout),this.stopListening(),this._previousRects.clear()}_checkElementRectsAndExecuteCallback(){const e=[];for(const t of this._elements)this._hasRectChanged(t)&&e.push({target:t,contentRect:this._previousRects.get(t)});e.length&&this._callback(e)}_hasRectChanged(e){if(!e.ownerDocument.body.contains(e))return!1;const t=new Bo(e),n=this._previousRects.get(e),r=!n||!n.isEqual(t);return this._previousRects.set(e,t),r}}At(Js,Xr);class Xs extends Ds{constructor(e){super(e);const t=this.bindTemplate;this.set("isVisible",!1),this.set("position","se"),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-dropdown__panel",t.to("position",e=>`ck-dropdown__panel_${e}`),t.if("isVisible","ck-dropdown__panel-visible")]},children:this.children,on:{selectstart:t.to(e=>e.preventDefault())}})}focus(){this.children.length&&this.children.first.focus()}focusLast(){if(this.children.length){const e=this.children.last;"function"==typeof e.focusLast?e.focusLast():e.focus()}}}function Zs({element:e,target:t,positions:n,limiter:r,fitInViewport:o}){O(t)&&(t=t()),O(r)&&(r=r());const i=function(e){for(;e&&"html"!=e.tagName.toLowerCase();){if("static"!=Hr.window.getComputedStyle(e).position)return e;e=e.parentElement}return null}(e.parentElement),a=new Bo(e),s=new Bo(t);let l,c;if(r||o){const e=r&&new Bo(r).getVisible(),t=o&&new Bo(Hr.window);[c,l]=function(e,t,n,r,o){let i,a,s=0,l=0;const c=n.getArea();return e.some(e=>{const[u,d]=el(e,t,n);let p,f;if(r)if(o){const e=r.getIntersection(o);p=e?e.getIntersectionArea(d):0}else p=r.getIntersectionArea(d);function h(){l=f,s=p,i=d,a=u}return o&&(f=o.getIntersectionArea(d)),o&&!r?f>l&&h():!o&&r?p>s&&h():(f>l&&p>=s||f>=l&&p>s)&&h(),p===c}),i?[a,i]:null}(n,s,a,e,t)||el(n[0],s,a)}else[c,l]=el(n[0],s,a);let{left:u,top:d}=tl(l);if(i){const e=tl(new Bo(i)),t=Do(i);u-=e.left,d-=e.top,u+=i.scrollLeft,d+=i.scrollTop,u-=t.left,d-=t.top}return{left:u,top:d,name:c}}function el(e,t,n){const{left:r,top:o,name:i}=e(t,n);return[i,n.clone().moveTo(r,o)]}function tl({left:e,top:t}){const{scrollX:n,scrollY:r}=Hr.window;return{left:e+n,top:t+r}}n(23);class nl extends Ds{constructor(e,t,n){super(e);const r=this.bindTemplate;this.buttonView=t,this.panelView=n,this.set("isOpen",!1),this.set("isEnabled",!0),this.set("class"),this.set("id"),this.set("panelPosition","auto"),this.focusTracker=new cs,this.keystrokes=new es,this.setTemplate({tag:"div",attributes:{class:["ck","ck-dropdown",r.to("class"),r.if("isEnabled","ck-disabled",e=>!e)],id:r.to("id"),"aria-describedby":r.to("ariaDescribedById")},children:[t,n]}),t.extendTemplate({attributes:{class:["ck-dropdown__button"]}})}render(){super.render(),this.listenTo(this.buttonView,"open",()=>{this.isOpen=!this.isOpen}),this.panelView.bind("isVisible").to(this,"isOpen"),this.on("change:isOpen",()=>{this.isOpen&&("auto"===this.panelPosition?this.panelView.position=nl._getOptimalPosition({element:this.panelView.element,target:this.buttonView.element,fitInViewport:!0,positions:this._panelPositions}).name:this.panelView.position=this.panelPosition)}),this.keystrokes.listenTo(this.element),this.focusTracker.add(this.element);const e=(e,t)=>{this.isOpen&&(this.buttonView.focus(),this.isOpen=!1,t())};this.keystrokes.set("arrowdown",(e,t)=>{this.buttonView.isEnabled&&!this.isOpen&&(this.isOpen=!0,t())}),this.keystrokes.set("arrowright",(e,t)=>{this.isOpen&&t()}),this.keystrokes.set("arrowleft",e),this.keystrokes.set("esc",e)}focus(){this.buttonView.focus()}get _panelPositions(){const{southEast:e,southWest:t,northEast:n,northWest:r}=nl.defaultPanelPositions;return"ltr"===this.locale.uiLanguageDirection?[e,t,n,r]:[t,e,r,n]}}nl.defaultPanelPositions={southEast:e=>({top:e.bottom,left:e.left,name:"se"}),southWest:(e,t)=>({top:e.bottom,left:e.left-t.width+e.width,name:"sw"}),northEast:(e,t)=>({top:e.top-t.height,left:e.left,name:"ne"}),northWest:(e,t)=>({top:e.bottom-t.height,left:e.left-t.width+e.width,name:"nw"})},nl._getOptimalPosition=Zs,n(25);class rl extends Ds{constructor(){super();const e=this.bindTemplate;this.set("content",""),this.set("viewBox","0 0 20 20"),this.set("fillColor",""),this.setTemplate({tag:"svg",ns:"http://www.w3.org/2000/svg",attributes:{class:["ck","ck-icon"],viewBox:e.to("viewBox")}})}render(){super.render(),this._updateXMLContent(),this._colorFillPaths(),this.on("change:content",()=>{this._updateXMLContent(),this._colorFillPaths()}),this.on("change:fillColor",()=>{this._colorFillPaths()})}_updateXMLContent(){if(this.content){const e=(new DOMParser).parseFromString(this.content.trim(),"image/svg+xml").querySelector("svg"),t=e.getAttribute("viewBox");for(t&&(this.viewBox=t),this.element.innerHTML="";e.childNodes.length>0;)this.element.appendChild(e.childNodes[0])}}_colorFillPaths(){this.fillColor&&this.element.querySelectorAll(".ck-icon__fill").forEach(e=>{e.style.fill=this.fillColor})}}n(27);class ol extends Ds{constructor(e){super(e),this.set("text",""),this.set("position","s");const t=this.bindTemplate;this.setTemplate({tag:"span",attributes:{class:["ck","ck-tooltip",t.to("position",e=>"ck-tooltip_"+e),t.if("text","ck-hidden",e=>!e.trim())]},children:[{tag:"span",attributes:{class:["ck","ck-tooltip__text"]},children:[{text:t.to("text")}]}]})}}n(29);class il extends Ds{constructor(e){super(e);const t=this.bindTemplate,n=yt();this.set("class"),this.set("labelStyle"),this.set("icon"),this.set("isEnabled",!0),this.set("isOn",!1),this.set("isVisible",!0),this.set("isToggleable",!1),this.set("keystroke"),this.set("label"),this.set("tabindex",-1),this.set("tooltip"),this.set("tooltipPosition","s"),this.set("type","button"),this.set("withText",!1),this.set("withKeystroke",!1),this.children=this.createCollection(),this.tooltipView=this._createTooltipView(),this.labelView=this._createLabelView(n),this.iconView=new rl,this.iconView.extendTemplate({attributes:{class:"ck-button__icon"}}),this.keystrokeView=this._createKeystrokeView(),this.bind("_tooltipString").to(this,"tooltip",this,"label",this,"keystroke",this._getTooltipString.bind(this)),this.setTemplate({tag:"button",attributes:{class:["ck","ck-button",t.to("class"),t.if("isEnabled","ck-disabled",e=>!e),t.if("isVisible","ck-hidden",e=>!e),t.to("isOn",e=>e?"ck-on":"ck-off"),t.if("withText","ck-button_with-text"),t.if("withKeystroke","ck-button_with-keystroke")],type:t.to("type",e=>e||"button"),tabindex:t.to("tabindex"),"aria-labelledby":`ck-editor__aria-label_${n}`,"aria-disabled":t.if("isEnabled",!0,e=>!e),"aria-pressed":t.to("isOn",e=>!!this.isToggleable&&String(e))},children:this.children,on:{mousedown:t.to(e=>{e.preventDefault()}),click:t.to(e=>{this.isEnabled?this.fire("execute"):e.preventDefault()})}})}render(){super.render(),this.icon&&(this.iconView.bind("content").to(this,"icon"),this.children.add(this.iconView)),this.children.add(this.tooltipView),this.children.add(this.labelView),this.withKeystroke&&this.children.add(this.keystrokeView)}focus(){this.element.focus()}_createTooltipView(){const e=new ol;return e.bind("text").to(this,"_tooltipString"),e.bind("position").to(this,"tooltipPosition"),e}_createLabelView(e){const t=new Ds,n=this.bindTemplate;return t.setTemplate({tag:"span",attributes:{class:["ck","ck-button__label"],style:n.to("labelStyle"),id:`ck-editor__aria-label_${e}`},children:[{text:this.bindTemplate.to("label")}]}),t}_createKeystrokeView(){const e=new Ds;return e.setTemplate({tag:"span",attributes:{class:["ck","ck-button__keystroke"]},children:[{text:this.bindTemplate.to("keystroke",e=>ur(e))}]}),e}_getTooltipString(e,t,n){return e?"string"==typeof e?e:(n&&(n=ur(n)),e instanceof Function?e(t,n):`${t}${n?` (${n})`:""}`):""}}class al extends il{constructor(e){super(e),this.arrowView=this._createArrowView(),this.extendTemplate({attributes:{"aria-haspopup":!0}}),this.delegate("execute").to(this,"open")}render(){super.render(),this.children.add(this.arrowView)}_createArrowView(){const e=new rl;return e.content='<svg viewBox="0 0 10 10" xmlns="http://www.w3.org/2000/svg"><path d="M.941 4.523a.75.75 0 1 1 1.06-1.06l3.006 3.005 3.005-3.005a.75.75 0 1 1 1.06 1.06l-3.549 3.55a.75.75 0 0 1-1.168-.136L.941 4.523z"/></svg>',e.extendTemplate({attributes:{class:"ck-dropdown__arrow"}}),e}}n(31);class sl extends Ds{constructor(){super(),this.items=this.createCollection(),this.focusTracker=new cs,this.keystrokes=new es,this._focusCycler=new Ys({focusables:this.items,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"arrowup",focusNext:"arrowdown"}}),this.setTemplate({tag:"ul",attributes:{class:["ck","ck-reset","ck-list"]},children:this.items})}render(){super.render();for(const e of this.items)this.focusTracker.add(e.element);this.items.on("add",(e,t)=>{this.focusTracker.add(t.element)}),this.items.on("remove",(e,t)=>{this.focusTracker.remove(t.element)}),this.keystrokes.listenTo(this.element)}focus(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}}class ll extends Ds{constructor(e){super(e),this.children=this.createCollection(),this.setTemplate({tag:"li",attributes:{class:["ck","ck-list__item"]},children:this.children})}focus(){this.children.first.focus()}}class cl extends Ds{constructor(e){super(e),this.setTemplate({tag:"li",attributes:{class:["ck","ck-list__separator"]}})}}n(33);class ul extends il{constructor(e){super(e),this.isToggleable=!0,this.toggleSwitchView=this._createToggleView(),this.extendTemplate({attributes:{class:"ck-switchbutton"}})}render(){super.render(),this.children.add(this.toggleSwitchView)}_createToggleView(){const e=new Ds;return e.setTemplate({tag:"span",attributes:{class:["ck","ck-button__toggle"]},children:[{tag:"span",attributes:{class:["ck","ck-button__toggle__inner"]}}]}),e}}function dl({emitter:e,activator:t,callback:n,contextElements:r}){e.listenTo(document,"mousedown",(e,{target:o})=>{if(t()){for(const e of r)if(e.contains(o))return;n()}})}function pl(e,t=al){const n=new t(e),r=new Xs(e),o=new nl(e,n,r);return n.bind("isEnabled").to(o),n instanceof al?n.bind("isOn").to(o,"isOpen"):n.arrowView.bind("isOn").to(o,"isOpen"),function(e){(function(e){e.on("render",()=>{dl({emitter:e,activator:()=>e.isOpen,callback:()=>{e.isOpen=!1},contextElements:[e.element]})})})(e),function(e){e.on("execute",t=>{t.source instanceof ul||(e.isOpen=!1)})}(e),function(e){e.keystrokes.set("arrowdown",(t,n)=>{e.isOpen&&(e.panelView.focus(),n())}),e.keystrokes.set("arrowup",(t,n)=>{e.isOpen&&(e.panelView.focusLast(),n())})}(e)}(o),o}function fl(e,t){const n=e.locale,r=e.listView=new sl(n);r.items.bindTo(t).using(({type:e,model:t})=>{if("separator"===e)return new cl(n);if("button"===e||"switchbutton"===e){const r=new ll(n);let o;return(o="button"===e?new il(n):new ul(n)).bind(...Object.keys(t)).to(t),o.delegate("execute").to(r),r.children.add(o),r}}),e.panelView.children.add(r),r.items.delegate("execute").to(e)}n(35),n(37),n(39);class hl extends Ds{constructor(e,t){super(e);const n=this.bindTemplate,r=this.t;var o;this.options=t||{},this.set("ariaLabel",r("bo")),this.set("maxWidth","auto"),this.items=this.createCollection(),this.focusTracker=new cs,this.keystrokes=new es,this.set("class"),this.set("isCompact",!1),this.itemsView=new ml(e),this.children=this.createCollection(),this.children.add(this.itemsView),this.focusables=this.createCollection(),this._focusCycler=new Ys({focusables:this.focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:["arrowleft","arrowup"],focusNext:["arrowright","arrowdown"]}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-toolbar",n.to("class"),n.if("isCompact","ck-toolbar_compact")],role:"toolbar","aria-label":n.to("ariaLabel"),style:{maxWidth:n.to("maxWidth")}},children:this.children,on:{mousedown:(o=this,o.bindTemplate.to(e=>{e.target===o.element&&e.preventDefault()}))}}),this._behavior=this.options.shouldGroupWhenFull?new bl(this):new gl(this)}render(){super.render();for(const e of this.items)this.focusTracker.add(e.element);this.items.on("add",(e,t)=>{this.focusTracker.add(t.element)}),this.items.on("remove",(e,t)=>{this.focusTracker.remove(t.element)}),this.keystrokes.listenTo(this.element),this._behavior.render(this)}destroy(){return this._behavior.destroy(),super.destroy()}focus(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}fillFromConfig(e,t){e.map(e=>{"|"==e?this.items.add(new $s):t.has(e)?this.items.add(t.create(e)):console.warn(Object(_t.a)("toolbarview-item-unavailable: The requested toolbar item is unavailable."),{name:e})})}}class ml extends Ds{constructor(e){super(e),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-toolbar__items"]},children:this.children})}}class gl{constructor(e){const t=e.bindTemplate;e.set("isVertical",!1),e.itemsView.children.bindTo(e.items).using(e=>e),e.focusables.bindTo(e.items).using(e=>e),e.extendTemplate({attributes:{class:[t.if("isVertical","ck-toolbar_vertical")]}})}render(){}destroy(){}}class bl{constructor(e){this.viewChildren=e.children,this.viewFocusables=e.focusables,this.viewItemsView=e.itemsView,this.viewFocusTracker=e.focusTracker,this.viewLocale=e.locale,this.ungroupedItems=e.createCollection(),this.groupedItems=e.createCollection(),this.groupedItemsDropdown=this._createGroupedItemsDropdown(),this.resizeObserver=null,this.cachedPadding=null,e.itemsView.children.bindTo(this.ungroupedItems).using(e=>e),this.ungroupedItems.on("add",this._updateFocusCycleableItems.bind(this)),this.ungroupedItems.on("remove",this._updateFocusCycleableItems.bind(this)),e.children.on("add",this._updateFocusCycleableItems.bind(this)),e.children.on("remove",this._updateFocusCycleableItems.bind(this)),e.items.on("add",(e,t,n)=>{n>this.ungroupedItems.length?this.groupedItems.add(t,n-this.ungroupedItems.length):this.ungroupedItems.add(t,n),this._updateGrouping()}),e.items.on("remove",(e,t,n)=>{n>this.ungroupedItems.length?this.groupedItems.remove(t):this.ungroupedItems.remove(t),this._updateGrouping()}),e.extendTemplate({attributes:{class:["ck-toolbar_grouping"]}})}render(e){this.viewElement=e.element,this._enableGroupingOnResize(),this._enableGroupingOnMaxWidthChange(e)}destroy(){this.groupedItemsDropdown.destroy(),this.resizeObserver.destroy()}_updateGrouping(){if(!this.viewElement.ownerDocument.body.contains(this.viewElement))return;let e;for(;this._areItemsOverflowing;)this._groupLastItem(),e=!0;if(!e&&this.groupedItems.length){for(;this.groupedItems.length&&!this._areItemsOverflowing;)this._ungroupFirstItem();this._areItemsOverflowing&&this._groupLastItem()}}get _areItemsOverflowing(){if(!this.ungroupedItems.length)return!1;const e=this.viewElement,t=this.viewLocale.uiLanguageDirection,n=new Bo(e.lastChild),r=new Bo(e);if(!this.cachedPadding){const n=Hr.window.getComputedStyle(e),r="ltr"===t?"paddingRight":"paddingLeft";this.cachedPadding=Number.parseInt(n[r])}return"ltr"===t?n.right>r.right-this.cachedPadding:n.left<r.left+this.cachedPadding}_enableGroupingOnResize(){let e;this.resizeObserver=new Qs(this.viewElement,t=>{e&&e===t.contentRect.width||(this._updateGrouping(),e=t.contentRect.width)}),this._updateGrouping()}_enableGroupingOnMaxWidthChange(e){e.on("change:maxWidth",()=>{this._updateGrouping()})}_groupLastItem(){this.groupedItems.length||(this.viewChildren.add(new $s),this.viewChildren.add(this.groupedItemsDropdown),this.viewFocusTracker.add(this.groupedItemsDropdown.element)),this.groupedItems.add(this.ungroupedItems.remove(this.ungroupedItems.last),0)}_ungroupFirstItem(){this.ungroupedItems.add(this.groupedItems.remove(this.groupedItems.first)),this.groupedItems.length||(this.viewChildren.remove(this.groupedItemsDropdown),this.viewChildren.remove(this.viewChildren.last),this.viewFocusTracker.remove(this.groupedItemsDropdown.element))}_createGroupedItemsDropdown(){const e=this.viewLocale,t=e.t,n=pl(e);return n.class="ck-toolbar__grouped-dropdown",n.panelPosition="ltr"===e.uiLanguageDirection?"sw":"se",function(e,t){const n=e.locale,r=n.t,o=e.toolbarView=new hl(n);o.set("ariaLabel",r("bk")),e.extendTemplate({attributes:{class:["ck-toolbar-dropdown"]}}),[].map(e=>o.items.add(e)),e.panelView.children.add(o),o.items.delegate("execute").to(e)}(n),n.buttonView.set({label:t("bp"),tooltip:!0,icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><circle cx="9.5" cy="4.5" r="1.5"/><circle cx="9.5" cy="10.5" r="1.5"/><circle cx="9.5" cy="16.5" r="1.5"/></svg>'}),n.toolbarView.items.bindTo(this.groupedItems).using(e=>e),n}_updateFocusCycleableItems(){this.viewFocusables.clear(),this.ungroupedItems.map(e=>{this.viewFocusables.add(e)}),this.groupedItems.length&&this.viewFocusables.add(this.groupedItemsDropdown)}}n(41);class vl extends qs{constructor(e,t,n={}){super(e),this.stickyPanel=new Gs(e),this.toolbar=new hl(e,{shouldGroupWhenFull:n.shouldToolbarGroupWhenFull}),this.editable=new Hs(e,t)}render(){super.render(),this.stickyPanel.content.add(this.toolbar),this.top.add(this.stickyPanel),this.main.add(this.editable)}}class yl extends ns{constructor(e,t){super(t),pt(e)&&(this.sourceElement=e),this.data.processor=new as(this.data.viewDocument),this.model.document.createRoot();const n=!this.config.get("toolbar.shouldNotGroupWhenFull"),r=new vl(this.locale,this.editing.view,{shouldToolbarGroupWhenFull:n});this.ui=new gs(this,r),function(e){if(!O(e.updateSourceElement))throw new _t.b("attachtoform-missing-elementapi-interface: Editor passed to attachToForm() must implement ElementApi.",e);const t=e.sourceElement;if(t&&"textarea"===t.tagName.toLowerCase()&&t.form){let n;const r=t.form,o=()=>e.updateSourceElement();O(r.submit)&&(n=r.submit,r.submit=(()=>{o(),n.apply(r)})),r.addEventListener("submit",o),e.on("destroy",()=>{r.removeEventListener("submit",o),n&&(r.submit=n)})}}(this)}destroy(){return this.sourceElement&&this.updateSourceElement(),this.ui.destroy(),super.destroy()}static create(e,t={}){return new Promise(n=>{const r=new this(e,t);n(r.initPlugins().then(()=>r.ui.init(pt(e)?e:null)).then(()=>{if(!pt(e)&&t.initialData)throw new _t.b("editor-create-initial-data: The config.initialData option cannot be used together with initial data passed in Editor.create().",null);const n=t.initialData||function(e){return pt(e)?(t=e)instanceof HTMLTextAreaElement?t.value:t.innerHTML:e;var t}(e);return r.data.init(n)}).then(()=>r.fire("ready")).then(()=>r))})}}At(yl,rs),At(yl,os);class kl{constructor(e){this.editor=e,this.set("isEnabled",!0),this._disableStack=new Set}forceDisabled(e){this._disableStack.add(e),1==this._disableStack.size&&(this.on("set:isEnabled",_l,{priority:"highest"}),this.isEnabled=!1)}clearForceDisabled(e){this._disableStack.delete(e),0==this._disableStack.size&&(this.off("set:isEnabled",_l),this.isEnabled=!0)}destroy(){this.stopListening()}static get isContextPlugin(){return!1}}function _l(e){e.return=!1,e.stop()}At(kl,Rn);class wl{constructor(e){this.files=function(e){const t=e.files?Array.from(e.files):[],n=e.items?Array.from(e.items):[];return t.length?t:n.filter(e=>"file"===e.kind).map(e=>e.getAsFile())}(e),this._native=e}get types(){return this._native.types}getData(e){return this._native.getData(e)}setData(e,t){this._native.setData(e,t)}}class Cl extends vo{constructor(e){super(e);const t=this.document;function n(e,n){n.preventDefault();const r=n.dropRange?[n.dropRange]:Array.from(t.selection.getRanges()),o=new bt(t,"clipboardInput");t.fire(o,{dataTransfer:n.dataTransfer,targetRanges:r}),o.stop.called&&n.stopPropagation()}this.domEventType=["paste","copy","cut","drop","dragover"],this.listenTo(t,"paste",n,{priority:"low"}),this.listenTo(t,"drop",n,{priority:"low"})}onDomEvent(e){const t={dataTransfer:new wl(e.clipboardData?e.clipboardData:e.dataTransfer)};"drop"==e.type&&(t.dropRange=function(e,t){const n=t.target.ownerDocument,r=t.clientX,o=t.clientY;let i;return n.caretRangeFromPoint&&n.caretRangeFromPoint(r,o)?i=n.caretRangeFromPoint(r,o):t.rangeParent&&((i=n.createRange()).setStart(t.rangeParent,t.rangeOffset),i.collapse(!0)),i?e.domConverter.domRangeToView(i):e.document.selection.getFirstRange()}(this.view,e)),this.fire(e.type,e,t)}}const Sl=["figcaption","li"];class Pl extends kl{static get pluginName(){return"Clipboard"}init(){const e=this.editor,t=e.model.document,n=e.editing.view,r=n.document;function o(n,o){const i=o.dataTransfer;o.preventDefault();const a=e.data.toView(e.model.getSelectedContent(t.selection));r.fire("clipboardOutput",{dataTransfer:i,content:a,method:n.name})}this._htmlDataProcessor=new as(r),n.addObserver(Cl),this.listenTo(r,"clipboardInput",t=>{e.isReadOnly&&t.stop()},{priority:"highest"}),this.listenTo(r,"clipboardInput",(e,t)=>{const r=t.dataTransfer;let o="";var i;r.getData("text/html")?o=r.getData("text/html").replace(/<span(?: class="Apple-converted-space"|)>(\s+)<\/span>/g,(e,t)=>1==t.length?" ":t):r.getData("text/plain")&&((i=(i=r.getData("text/plain")).replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\n/g,"</p><p>").replace(/^\s/,"&nbsp;").replace(/\s$/,"&nbsp;").replace(/\s\s/g," &nbsp;")).indexOf("</p><p>")>-1&&(i=`<p>${i}</p>`),o=i),o=this._htmlDataProcessor.toView(o),this.fire("inputTransformation",{content:o,dataTransfer:r}),n.scrollToTheSelection()},{priority:"low"}),this.listenTo(this,"inputTransformation",(e,t)=>{if(!t.content.isEmpty){const e=this.editor.data,n=this.editor.model,r=e.toModel(t.content,"$clipboardHolder");if(0==r.childCount)return;n.insertContent(r)}},{priority:"low"}),this.listenTo(r,"copy",o,{priority:"low"}),this.listenTo(r,"cut",(t,n)=>{e.isReadOnly?n.preventDefault():o(t,n)},{priority:"low"}),this.listenTo(r,"clipboardOutput",(n,r)=>{r.content.isEmpty||(r.dataTransfer.setData("text/html",this._htmlDataProcessor.toData(r.content)),r.dataTransfer.setData("text/plain",function e(t){let n="";if(t.is("text")||t.is("textProxy"))n=t.data;else if(t.is("img")&&t.hasAttribute("alt"))n=t.getAttribute("alt");else{let r=null;for(const o of t.getChildren()){const t=e(o);r&&(r.is("containerElement")||o.is("containerElement"))&&(Sl.includes(r.name)||Sl.includes(o.name)?n+="\n":n+="\n\n"),n+=t,r=o}}return n}(r.content))),"cut"==r.method&&e.model.deleteContent(t.selection)},{priority:"low"})}}class El{constructor(e){this.editor=e,this.set("value",void 0),this.set("isEnabled",!1),this._disableStack=new Set,this.decorate("execute"),this.listenTo(this.editor.model.document,"change",()=>{this.refresh()}),this.on("execute",e=>{this.isEnabled||e.stop()},{priority:"high"}),this.listenTo(e,"change:isReadOnly",(e,t,n)=>{n?this.forceDisabled("readOnlyMode"):this.clearForceDisabled("readOnlyMode")})}refresh(){this.isEnabled=!0}forceDisabled(e){this._disableStack.add(e),1==this._disableStack.size&&(this.on("set:isEnabled",xl,{priority:"highest"}),this.isEnabled=!1)}clearForceDisabled(e){this._disableStack.delete(e),0==this._disableStack.size&&(this.off("set:isEnabled",xl),this.refresh())}execute(){}destroy(){this.stopListening()}}function xl(e){e.return=!1,e.stop()}function*Ol(e,t){for(const n of t)n&&e.getAttributeProperties(n[0]).copyOnEnter&&(yield n)}At(El,Rn);class Tl extends El{execute(){const e=this.editor.model,t=e.document;e.change(n=>{!function(e,t,n,r){const o=n.isCollapsed,i=n.getFirstRange(),a=i.start.parent,s=i.end.parent;if(r.isLimit(a)||r.isLimit(s))o||a!=s||e.deleteContent(n);else if(o){const e=Ol(t.model.schema,n.getAttributes());Ml(t,i.start),t.setSelectionAttribute(e)}else{const r=!(i.start.isAtStart&&i.end.isAtEnd),o=a==s;e.deleteContent(n,{leaveUnmerged:r}),r&&(o?Ml(t,n.focus):t.setSelection(s,0))}}(this.editor.model,n,t.selection,e.schema),this.fire("afterExecute",{writer:n})})}}function Ml(e,t){e.split(t),e.setSelection(t.parent.nextSibling,0)}class Al extends to{constructor(e){super(e);const t=this.document;t.on("keydown",(e,n)=>{if(this.isEnabled&&n.keyCode==sr.enter){let r;t.once("enter",e=>r=e,{priority:"highest"}),t.fire("enter",new bo(t,n.domEvent,{isSoft:n.shiftKey})),r&&r.stop.called&&e.stop()}})}observe(){}}class jl extends kl{static get pluginName(){return"Enter"}init(){const e=this.editor,t=e.editing.view,n=t.document;t.addObserver(Al),e.commands.add("enter",new Tl(e)),this.listenTo(n,"enter",(n,r)=>{r.preventDefault(),r.isSoft||(e.execute("enter"),t.scrollToTheSelection())},{priority:"low"})}}class Il extends El{execute(){const e=this.editor.model,t=e.document;e.change(n=>{!function(e,t,n){const r=n.isCollapsed,o=n.getFirstRange(),i=o.start.parent,a=o.end.parent,s=i==a;if(r){const r=Ol(e.schema,n.getAttributes());Nl(e,t,o.end),t.removeSelectionAttribute(n.getAttributeKeys()),t.setSelectionAttribute(r)}else{const r=!(o.start.isAtStart&&o.end.isAtEnd);e.deleteContent(n,{leaveUnmerged:r}),s?Nl(e,t,n.focus):r&&t.setSelection(a,0)}}(e,n,t.selection),this.fire("afterExecute",{writer:n})})}refresh(){const e=this.editor.model,t=e.document;this.isEnabled=function(e,t){if(t.rangeCount>1)return!1;const n=t.anchor;if(!n||!e.checkChild(n,"softBreak"))return!1;const r=t.getFirstRange(),o=r.start.parent,i=r.end.parent;return!Rl(o,e)&&!Rl(i,e)||o===i}(e.schema,t.selection)}}function Nl(e,t,n){const r=t.createElement("softBreak");e.insertContent(r,n),t.setSelection(r,"after")}function Rl(e,t){return!e.is("rootElement")&&(t.isLimit(e)||Rl(e.parent,t))}class Dl extends kl{static get pluginName(){return"ShiftEnter"}init(){const e=this.editor,t=e.model.schema,n=e.conversion,r=e.editing.view,o=r.document;t.register("softBreak",{allowWhere:"$text",isInline:!0}),n.for("upcast").elementToElement({model:"softBreak",view:"br"}),n.for("downcast").elementToElement({model:"softBreak",view:(e,t)=>t.createEmptyElement("br")}),r.addObserver(Al),e.commands.add("shiftEnter",new Il(e)),this.listenTo(o,"enter",(t,n)=>{n.preventDefault(),n.isSoft&&(e.execute("shiftEnter"),r.scrollToTheSelection())},{priority:"low"})}}class Ll{constructor(e,t=20){this.model=e,this.size=0,this.limit=t,this.isLocked=!1,this._changeCallback=((e,t)=>{"transparent"!=t.type&&t!==this._batch&&this._reset(!0)}),this._selectionChangeCallback=(()=>{this._reset()}),this.model.document.on("change",this._changeCallback),this.model.document.selection.on("change:range",this._selectionChangeCallback),this.model.document.selection.on("change:attribute",this._selectionChangeCallback)}get batch(){return this._batch||(this._batch=this.model.createBatch()),this._batch}input(e){this.size+=e,this.size>=this.limit&&this._reset(!0)}lock(){this.isLocked=!0}unlock(){this.isLocked=!1}destroy(){this.model.document.off("change",this._changeCallback),this.model.document.selection.off("change:range",this._selectionChangeCallback),this.model.document.selection.off("change:attribute",this._selectionChangeCallback)}_reset(e){this.isLocked&&!e||(this._batch=null,this.size=0)}}class Bl extends El{constructor(e,t){super(e),this._buffer=new Ll(e.model,t),this._batches=new WeakSet}get buffer(){return this._buffer}destroy(){super.destroy(),this._buffer.destroy()}execute(e={}){const t=this.editor.model,n=t.document,r=e.text||"",o=r.length,i=e.range?t.createSelection(e.range):n.selection,a=e.resultRange;t.enqueueChange(this._buffer.batch,e=>{this._buffer.lock(),t.deleteContent(i),r&&t.insertContent(e.createText(r,n.selection.getAttributes()),i),a?e.setSelection(a):i.is("documentSelection")||e.setSelection(i),this._buffer.unlock(),this._buffer.input(o),this._batches.add(this._buffer.batch)})}}const Fl=[lr("arrowUp"),lr("arrowRight"),lr("arrowDown"),lr("arrowLeft"),9,16,17,18,19,20,27,33,34,35,36,45,91,93,144,145,173,174,175,176,177,178,179,255];for(let Rh=112;Rh<=135;Rh++)Fl.push(Rh);function Ul(e){if(e.newChildren.length-e.oldChildren.length!=1)return;const t=function(e,t){const n=[];let r,o=0;return e.forEach(e=>{"equal"==e?(i(),o++):"insert"==e?(a("insert")?r.values.push(t[o]):(i(),r={type:"insert",index:o,values:[t[o]]}),o++):a("delete")?r.howMany++:(i(),r={type:"delete",index:o,howMany:1})}),i(),n;function i(){r&&(n.push(r),r=null)}function a(e){return r&&r.type==e}}(Dr(e.oldChildren,e.newChildren,ql),e.newChildren);if(t.length>1)return;const n=t[0];return n.values[0]&&n.values[0].is("text")?n:void 0}function ql(e,t){return e&&e.is("text")&&t&&t.is("text")?e.data===t.data:e===t}class zl{constructor(e){this.editor=e,this.editing=this.editor.editing}handle(e,t){if(function(e){if(0==e.length)return!1;for(const t of e)if("children"===t.type&&!Ul(t))return!0;return!1}(e))this._handleContainerChildrenMutations(e,t);else for(const n of e)this._handleTextMutation(n,t),this._handleTextNodeInsertion(n)}_handleContainerChildrenMutations(e,t){const n=function(e){const t=e.map(e=>e.node).reduce((e,t)=>e.getCommonAncestor(t,{includeSelf:!0}));if(t)return t.getAncestors({includeSelf:!0,parentFirst:!0}).find(e=>e.is("containerElement")||e.is("rootElement"))}(e);if(!n)return;const r=this.editor.editing.view.domConverter.mapViewToDom(n),o=new Yr(this.editor.editing.view.document),i=this.editor.data.toModel(o.domToView(r)).getChild(0),a=this.editor.editing.mapper.toModelElement(n);if(!a)return;const s=Array.from(i.getChildren()),l=Array.from(a.getChildren()),c=s[s.length-1],u=l[l.length-1];c&&c.is("softBreak")&&u&&!u.is("softBreak")&&s.pop();const d=this.editor.model.schema;if(!Hl(s,d)||!Hl(l,d))return;const p=s.map(e=>e.is("text")?e.data:"@").join("").replace(/\u00A0/g," "),f=l.map(e=>e.is("text")?e.data:"@").join("").replace(/\u00A0/g," ");if(f===p)return;const h=Dr(f,p),{firstChangeAt:m,insertions:g,deletions:b}=Vl(h);let v=null;t&&(v=this.editing.mapper.toModelRange(t.getFirstRange()));const y=p.substr(m,g),k=this.editor.model.createRange(this.editor.model.createPositionAt(a,m),this.editor.model.createPositionAt(a,m+b));this.editor.execute("input",{text:y,range:k,resultRange:v})}_handleTextMutation(e,t){if("text"!=e.type)return;const n=e.newText.replace(/\u00A0/g," "),r=e.oldText.replace(/\u00A0/g," ");if(r===n)return;const o=Dr(r,n),{firstChangeAt:i,insertions:a,deletions:s}=Vl(o);let l=null;t&&(l=this.editing.mapper.toModelRange(t.getFirstRange()));const c=this.editing.view.createPositionAt(e.node,i),u=this.editing.mapper.toModelPosition(c),d=this.editor.model.createRange(u,u.getShiftedBy(s)),p=n.substr(i,a);this.editor.execute("input",{text:p,range:d,resultRange:l})}_handleTextNodeInsertion(e){if("children"!=e.type)return;const t=Ul(e),n=this.editing.view.createPositionAt(e.node,t.index),r=this.editing.mapper.toModelPosition(n),o=t.values[0].data;this.editor.execute("input",{text:o.replace(/\u00A0/g," "),range:this.editor.model.createRange(r)})}}function Hl(e,t){return e.every(e=>t.isInline(e))}function Vl(e){let t=null,n=null;for(let i=0;i<e.length;i++)"equal"!=e[i]&&(t=null===t?i:t,n=i);let r=0,o=0;for(let i=t;i<=n;i++)"insert"!=e[i]&&r++,"delete"!=e[i]&&o++;return{insertions:o,deletions:r,firstChangeAt:t}}class Wl extends kl{static get pluginName(){return"Input"}init(){const e=this.editor,t=new Bl(e,e.config.get("typing.undoStep")||20);e.commands.add("input",t),function(e){let t=null;const n=e.model,r=e.editing.view,o=e.commands.get("input");function i(e){const i=n.document,s=r.document.isComposing,l=t&&t.isEqual(i.selection);t=null,o.isEnabled&&(function(e){return!!e.ctrlKey||Fl.includes(e.keyCode)}(e)||i.selection.isCollapsed||s&&229===e.keyCode||!s&&229===e.keyCode&&l||a())}function a(){const e=o.buffer;e.lock(),n.enqueueChange(e.batch,()=>{n.deleteContent(n.document.selection)}),e.unlock()}or.isAndroid?r.document.on("beforeinput",(e,t)=>i(t),{priority:"lowest"}):r.document.on("keydown",(e,t)=>i(t),{priority:"lowest"}),r.document.on("compositionstart",function(){const e=n.document,t=1!==e.selection.rangeCount||e.selection.getFirstRange().isFlat;e.selection.isCollapsed||t||a()},{priority:"lowest"}),r.document.on("compositionend",()=>{t=n.createSelection(n.document.selection)},{priority:"lowest"})}(e),function(e){e.editing.view.document.on("mutations",(t,n,r)=>{new zl(e).handle(n,r)})}(e)}isInput(e){return this.editor.commands.get("input")._batches.has(e)}}class Gl extends El{constructor(e,t){super(e),this.direction=t,this._buffer=new Ll(e.model,e.config.get("typing.undoStep"))}get buffer(){return this._buffer}execute(e={}){const t=this.editor.model,n=t.document;t.enqueueChange(this._buffer.batch,r=>{this._buffer.lock();const o=r.createSelection(e.selection||n.selection),i=o.isCollapsed;if(o.isCollapsed&&t.modifySelection(o,{direction:this.direction,unit:e.unit}),this._shouldEntireContentBeReplacedWithParagraph(e.sequence||1))return void this._replaceEntireContentWithParagraph(r);if(o.isCollapsed)return;let a=0;o.getFirstRange().getMinimalFlatRanges().forEach(e=>{a+=Kn(e.getWalker({singleCharacters:!0,ignoreElementEnd:!0,shallow:!0}))}),t.deleteContent(o,{doNotResetEntireContent:i,direction:this.direction}),this._buffer.input(a),r.setSelection(o),this._buffer.unlock()})}_shouldEntireContentBeReplacedWithParagraph(e){if(e>1)return!1;const t=this.editor.model,n=t.document.selection,r=t.schema.getLimitElement(n);if(!n.isCollapsed||!n.containsEntireContent(r))return!1;if(!t.schema.checkChild(r,"paragraph"))return!1;const o=r.getChild(0);return!o||"paragraph"!==o.name}_replaceEntireContentWithParagraph(e){const t=this.editor.model,n=t.document.selection,r=t.schema.getLimitElement(n),o=e.createElement("paragraph");e.remove(e.createRangeIn(r)),e.insert(o,r),e.setSelection(o,0)}}class Yl extends to{constructor(e){super(e);const t=e.document;let n=0;function r(e,n,r){let o;t.once("delete",e=>o=e,{priority:Number.POSITIVE_INFINITY}),t.fire("delete",new bo(t,n,r)),o&&o.stop.called&&e.stop()}t.on("keyup",(e,t)=>{t.keyCode!=sr.delete&&t.keyCode!=sr.backspace||(n=0)}),t.on("keydown",(e,t)=>{const o={};if(t.keyCode==sr.delete)o.direction="forward",o.unit="character";else{if(t.keyCode!=sr.backspace)return;o.direction="backward",o.unit="codePoint"}const i=or.isMac?t.altKey:t.ctrlKey;o.unit=i?"word":o.unit,o.sequence=++n,r(e,t.domEvent,o)}),or.isAndroid&&t.on("beforeinput",(t,n)=>{if("deleteContentBackward"!=n.domEvent.inputType)return;const o={unit:"codepoint",direction:"backward",sequence:1},i=n.domTarget.ownerDocument.defaultView.getSelection();i.anchorNode==i.focusNode&&i.anchorOffset+1!=i.focusOffset&&(o.selectionToRemove=e.domConverter.domSelectionToView(i)),r(t,n.domEvent,o)})}observe(){}}class Kl extends kl{static get pluginName(){return"Delete"}init(){const e=this.editor,t=e.editing.view,n=t.document;if(t.addObserver(Yl),e.commands.add("forwardDelete",new Gl(e,"forward")),e.commands.add("delete",new Gl(e,"backward")),this.listenTo(n,"delete",(n,r)=>{const o={unit:r.unit,sequence:r.sequence};if(r.selectionToRemove){const t=e.model.createSelection(),n=[];for(const o of r.selectionToRemove.getRanges())n.push(e.editing.mapper.toModelRange(o));t.setTo(n),o.selection=t}e.execute("forward"==r.direction?"forwardDelete":"delete",o),r.preventDefault(),t.scrollToTheSelection()}),or.isAndroid){let e=null;this.listenTo(n,"delete",(t,n)=>{const r=n.domTarget.ownerDocument.defaultView.getSelection();e={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}},{priority:"lowest"}),this.listenTo(n,"keyup",(t,n)=>{if(e){const t=n.domTarget.ownerDocument.defaultView.getSelection();t.collapse(e.anchorNode,e.anchorOffset),t.extend(e.focusNode,e.focusOffset),e=null}})}}}class $l extends kl{static get requires(){return[Wl,Kl]}static get pluginName(){return"Typing"}}const Ql=new Map;function Jl(e,t,n){let r=Ql.get(e);r||(r=new Map,Ql.set(e,r)),r.set(t,n)}function Xl(e){return[e]}function Zl(e,t,n={}){const r=function(e,t){const n=Ql.get(e);return n&&n.has(t)?n.get(t):Xl}(e.constructor,t.constructor);try{return r(e=e.clone(),t,n)}catch(e){throw e}}function ec(e,t,n){e=e.slice(),t=t.slice();const r=new tc(n.document,n.useRelations,n.forceWeakRemove);r.setOriginalOperations(e),r.setOriginalOperations(t);const o=r.originalOperations;if(0==e.length||0==t.length)return{operationsA:e,operationsB:t,originalOperations:o};const i=new WeakMap;for(const l of e)i.set(l,0);const a={nextBaseVersionA:e[e.length-1].baseVersion+1,nextBaseVersionB:t[t.length-1].baseVersion+1,originalOperationsACount:e.length,originalOperationsBCount:t.length};let s=0;for(;s<e.length;){const n=e[s],o=i.get(n);if(o==t.length){s++;continue}const a=t[o],l=Zl(n,a,r.getContext(n,a,!0)),c=Zl(a,n,r.getContext(a,n,!1));r.updateRelation(n,a),r.setOriginalOperations(l,n),r.setOriginalOperations(c,a);for(const e of l)i.set(e,o+c.length);e.splice(s,1,...l),t.splice(o,1,...c)}if(n.padWithNoOps){const n=e.length-a.originalOperationsACount,r=t.length-a.originalOperationsBCount;rc(e,r-n),rc(t,n-r)}return nc(e,a.nextBaseVersionB),nc(t,a.nextBaseVersionA),{operationsA:e,operationsB:t,originalOperations:o}}class tc{constructor(e,t,n=!1){this.originalOperations=new Map,this._history=e.history,this._useRelations=t,this._forceWeakRemove=!!n,this._relations=new Map}setOriginalOperations(e,t=null){const n=t?this.originalOperations.get(t):null;for(const r of e)this.originalOperations.set(r,n||r)}updateRelation(e,t){switch(e.constructor){case ma:switch(t.constructor){case ka:e.targetPosition.isEqual(t.sourcePosition)||t.movedRange.containsPosition(e.targetPosition)?this._setRelation(e,t,"insertAtSource"):e.targetPosition.isEqual(t.deletionPosition)?this._setRelation(e,t,"insertBetween"):e.targetPosition.isAfter(t.sourcePosition)&&this._setRelation(e,t,"moveTargetAfter");break;case ma:e.targetPosition.isEqual(t.sourcePosition)||e.targetPosition.isBefore(t.sourcePosition)?this._setRelation(e,t,"insertBefore"):this._setRelation(e,t,"insertAfter")}break;case _a:switch(t.constructor){case ka:e.splitPosition.isBefore(t.sourcePosition)&&this._setRelation(e,t,"splitBefore");break;case ma:(e.splitPosition.isEqual(t.sourcePosition)||e.splitPosition.isBefore(t.sourcePosition))&&this._setRelation(e,t,"splitBefore")}break;case ka:switch(t.constructor){case ka:e.targetPosition.isEqual(t.sourcePosition)||this._setRelation(e,t,"mergeTargetNotMoved"),e.sourcePosition.isEqual(t.targetPosition)&&this._setRelation(e,t,"mergeSourceNotMoved"),e.sourcePosition.isEqual(t.sourcePosition)&&this._setRelation(e,t,"mergeSameElement");break;case _a:e.sourcePosition.isEqual(t.splitPosition)&&this._setRelation(e,t,"splitAtSource")}break;case ba:{const n=e.newRange;if(!n)return;switch(t.constructor){case ma:{const r=ai._createFromPositionAndShift(t.sourcePosition,t.howMany),o=r.containsPosition(n.start)||r.start.isEqual(n.start),i=r.containsPosition(n.end)||r.end.isEqual(n.end);!o&&!i||r.containsRange(n)||this._setRelation(e,t,{side:o?"left":"right",path:o?n.start.path.slice():n.end.path.slice()});break}case ka:{const r=n.start.isEqual(t.targetPosition),o=n.start.isEqual(t.deletionPosition),i=n.end.isEqual(t.deletionPosition),a=n.end.isEqual(t.sourcePosition);(r||o||i||a)&&this._setRelation(e,t,{wasInLeftElement:r,wasStartBeforeMergedElement:o,wasEndBeforeMergedElement:i,wasInRightElement:a});break}}break}}}getContext(e,t,n){return{aIsStrong:n,aWasUndone:this._wasUndone(e),bWasUndone:this._wasUndone(t),abRelation:this._useRelations?this._getRelation(e,t):null,baRelation:this._useRelations?this._getRelation(t,e):null,forceWeakRemove:this._forceWeakRemove}}_wasUndone(e){const t=this.originalOperations.get(e);return t.wasUndone||this._history.isUndoneOperation(t)}_getRelation(e,t){const n=this.originalOperations.get(t),r=this._history.getUndoneOperation(n);if(!r)return null;const o=this.originalOperations.get(e),i=this._relations.get(o);return i&&i.get(r)||null}_setRelation(e,t,n){const r=this.originalOperations.get(e),o=this.originalOperations.get(t);let i=this._relations.get(r);i||(i=new Map,this._relations.set(r,i)),i.set(o,n)}}function nc(e,t){for(const n of e)n.baseVersion=t++}function rc(e,t){for(let n=0;n<t;n++)e.push(new Ua(0))}function oc(e,t,n){const r=e.nodes.getNode(0).getAttribute(t);if(r==n)return null;const o=new ai(e.position,e.position.getShiftedBy(e.howMany));return new fa(o,t,r,n,0)}function ic(e,t){return null===e.targetPosition._getTransformedByDeletion(t.sourcePosition,t.howMany)}function ac(e,t){const n=[];for(let r=0;r<e.length;r++){const o=e[r],i=new ma(o.start,o.end.offset-o.start.offset,t,0);n.push(i);for(let t=r+1;t<e.length;t++)e[t]=e[t]._getTransformedByMove(i.sourcePosition,i.targetPosition,i.howMany)[0];t=t._getTransformedByMove(i.sourcePosition,i.targetPosition,i.howMany)}return n}Jl(fa,fa,(e,t,n)=>{if(e.key===t.key){const r=e.range.getDifference(t.range).map(t=>new fa(t,e.key,e.oldValue,e.newValue,0)),o=e.range.getIntersection(t.range);return o&&n.aIsStrong&&r.push(new fa(o,t.key,t.newValue,e.newValue,0)),0==r.length?[new Ua(0)]:r}return[e]}),Jl(fa,ga,(e,t)=>{if(e.range.start.hasSameParentAs(t.position)&&e.range.containsPosition(t.position)){const n=e.range._getTransformedByInsertion(t.position,t.howMany,!t.shouldReceiveAttributes).map(t=>new fa(t,e.key,e.oldValue,e.newValue,e.baseVersion));if(t.shouldReceiveAttributes){const r=oc(t,e.key,e.oldValue);r&&n.unshift(r)}return n}return e.range=e.range._getTransformedByInsertion(t.position,t.howMany,!1)[0],[e]}),Jl(fa,ka,(e,t)=>{const n=[];e.range.start.hasSameParentAs(t.deletionPosition)&&(e.range.containsPosition(t.deletionPosition)||e.range.start.isEqual(t.deletionPosition))&&n.push(ai._createFromPositionAndShift(t.graveyardPosition,1));const r=e.range._getTransformedByMergeOperation(t);return r.isCollapsed||n.push(r),n.map(t=>new fa(t,e.key,e.oldValue,e.newValue,e.baseVersion))}),Jl(fa,ma,(e,t)=>(function(e,t){const n=ai._createFromPositionAndShift(t.sourcePosition,t.howMany);let r=null,o=[];n.containsRange(e,!0)?r=e:e.start.hasSameParentAs(n.start)?(o=e.getDifference(n),r=e.getIntersection(n)):o=[e];const i=[];for(let a of o){a=a._getTransformedByDeletion(t.sourcePosition,t.howMany);const e=t.getMovedRangeStart(),n=a.start.hasSameParentAs(e);a=a._getTransformedByInsertion(e,t.howMany,n),i.push(...a)}return r&&i.push(r._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany,!1)[0]),i})(e.range,t).map(t=>new fa(t,e.key,e.oldValue,e.newValue,e.baseVersion))),Jl(fa,_a,(e,t)=>{if(e.range.end.isEqual(t.insertionPosition))return t.graveyardPosition||e.range.end.offset++,[e];if(e.range.start.hasSameParentAs(t.splitPosition)&&e.range.containsPosition(t.splitPosition)){const n=e.clone();return n.range=new ai(t.moveTargetPosition.clone(),e.range.end._getCombined(t.splitPosition,t.moveTargetPosition)),e.range.end=t.splitPosition.clone(),e.range.end.stickiness="toPrevious",[e,n]}return e.range=e.range._getTransformedBySplitOperation(t),[e]}),Jl(ga,fa,(e,t)=>{const n=[e];if(e.shouldReceiveAttributes&&e.position.hasSameParentAs(t.range.start)&&t.range.containsPosition(e.position)){const r=oc(e,t.key,t.newValue);r&&n.push(r)}return n}),Jl(ga,ga,(e,t,n)=>(e.position.isEqual(t.position)&&n.aIsStrong||(e.position=e.position._getTransformedByInsertOperation(t)),[e])),Jl(ga,ma,(e,t)=>(e.position=e.position._getTransformedByMoveOperation(t),[e])),Jl(ga,_a,(e,t)=>(e.position=e.position._getTransformedBySplitOperation(t),[e])),Jl(ga,ka,(e,t)=>(e.position=e.position._getTransformedByMergeOperation(t),[e])),Jl(ba,ga,(e,t)=>(e.oldRange&&(e.oldRange=e.oldRange._getTransformedByInsertOperation(t)[0]),e.newRange&&(e.newRange=e.newRange._getTransformedByInsertOperation(t)[0]),[e])),Jl(ba,ba,(e,t,n)=>{if(e.name==t.name){if(!n.aIsStrong)return[new Ua(0)];e.oldRange=t.newRange?t.newRange.clone():null}return[e]}),Jl(ba,ka,(e,t)=>(e.oldRange&&(e.oldRange=e.oldRange._getTransformedByMergeOperation(t)),e.newRange&&(e.newRange=e.newRange._getTransformedByMergeOperation(t)),[e])),Jl(ba,ma,(e,t,n)=>{if(e.oldRange&&(e.oldRange=ai._createFromRanges(e.oldRange._getTransformedByMoveOperation(t))),e.newRange){if(n.abRelation){const r=ai._createFromRanges(e.newRange._getTransformedByMoveOperation(t));if("left"==n.abRelation.side&&t.targetPosition.isEqual(e.newRange.start))return e.newRange.start.path=n.abRelation.path,e.newRange.end=r.end,[e];if("right"==n.abRelation.side&&t.targetPosition.isEqual(e.newRange.end))return e.newRange.start=r.start,e.newRange.end.path=n.abRelation.path,[e]}e.newRange=ai._createFromRanges(e.newRange._getTransformedByMoveOperation(t))}return[e]}),Jl(ba,_a,(e,t,n)=>{if(e.oldRange&&(e.oldRange=e.oldRange._getTransformedBySplitOperation(t)),e.newRange){if(n.abRelation){const r=e.newRange._getTransformedBySplitOperation(t);return e.newRange.start.isEqual(t.splitPosition)&&n.abRelation.wasStartBeforeMergedElement?e.newRange.start=ii._createAt(t.insertionPosition):e.newRange.start.isEqual(t.splitPosition)&&!n.abRelation.wasInLeftElement&&(e.newRange.start=ii._createAt(t.moveTargetPosition)),e.newRange.end.isEqual(t.splitPosition)&&n.abRelation.wasInRightElement?e.newRange.end=ii._createAt(t.moveTargetPosition):e.newRange.end.isEqual(t.splitPosition)&&n.abRelation.wasEndBeforeMergedElement?e.newRange.end=ii._createAt(t.insertionPosition):e.newRange.end=r.end,[e]}e.newRange=e.newRange._getTransformedBySplitOperation(t)}return[e]}),Jl(ka,ga,(e,t)=>(e.sourcePosition.hasSameParentAs(t.position)&&(e.howMany+=t.howMany),e.sourcePosition=e.sourcePosition._getTransformedByInsertOperation(t),e.targetPosition=e.targetPosition._getTransformedByInsertOperation(t),[e])),Jl(ka,ka,(e,t,n)=>{if(e.sourcePosition.isEqual(t.sourcePosition)&&e.targetPosition.isEqual(t.targetPosition)){if(n.bWasUndone){const n=t.graveyardPosition.path.slice();return n.push(0),e.sourcePosition=new ii(t.graveyardPosition.root,n),e.howMany=0,[e]}return[new Ua(0)]}if(e.sourcePosition.isEqual(t.sourcePosition)&&!e.targetPosition.isEqual(t.targetPosition)&&!n.bWasUndone&&"splitAtSource"!=n.abRelation){const r="$graveyard"==e.targetPosition.root.rootName,o="$graveyard"==t.targetPosition.root.rootName;if(o&&!r||(!r||o)&&n.aIsStrong){const n=t.targetPosition._getTransformedByMergeOperation(t),r=e.targetPosition._getTransformedByMergeOperation(t);return[new ma(n,e.howMany,r,0)]}return[new Ua(0)]}return e.sourcePosition.hasSameParentAs(t.targetPosition)&&(e.howMany+=t.howMany),e.sourcePosition=e.sourcePosition._getTransformedByMergeOperation(t),e.targetPosition=e.targetPosition._getTransformedByMergeOperation(t),e.graveyardPosition.isEqual(t.graveyardPosition)&&n.aIsStrong||(e.graveyardPosition=e.graveyardPosition._getTransformedByMergeOperation(t)),[e]}),Jl(ka,ma,(e,t,n)=>{const r=ai._createFromPositionAndShift(t.sourcePosition,t.howMany);return"remove"==t.type&&!n.bWasUndone&&!n.forceWeakRemove&&e.deletionPosition.hasSameParentAs(t.sourcePosition)&&r.containsPosition(e.sourcePosition)?[new Ua(0)]:(e.sourcePosition.hasSameParentAs(t.targetPosition)&&(e.howMany+=t.howMany),e.sourcePosition.hasSameParentAs(t.sourcePosition)&&(e.howMany-=t.howMany),e.sourcePosition=e.sourcePosition._getTransformedByMoveOperation(t),e.targetPosition=e.targetPosition._getTransformedByMoveOperation(t),e.graveyardPosition.isEqual(t.targetPosition)||(e.graveyardPosition=e.graveyardPosition._getTransformedByMoveOperation(t)),[e])}),Jl(ka,_a,(e,t,n)=>{if(t.graveyardPosition&&(e.graveyardPosition=e.graveyardPosition._getTransformedByDeletion(t.graveyardPosition,1),e.deletionPosition.isEqual(t.graveyardPosition)&&(e.howMany=t.howMany)),e.targetPosition.isEqual(t.splitPosition)){const r=0!=t.howMany,o=t.graveyardPosition&&e.deletionPosition.isEqual(t.graveyardPosition);if(r||o||"mergeTargetNotMoved"==n.abRelation)return e.sourcePosition=e.sourcePosition._getTransformedBySplitOperation(t),[e]}if(e.sourcePosition.isEqual(t.splitPosition)){if("mergeSourceNotMoved"==n.abRelation)return e.howMany=0,e.targetPosition=e.targetPosition._getTransformedBySplitOperation(t),[e];if("mergeSameElement"==n.abRelation||e.sourcePosition.offset>0)return e.sourcePosition=t.moveTargetPosition.clone(),e.targetPosition=e.targetPosition._getTransformedBySplitOperation(t),[e]}return e.sourcePosition.hasSameParentAs(t.splitPosition)&&(e.howMany=t.splitPosition.offset),e.sourcePosition=e.sourcePosition._getTransformedBySplitOperation(t),e.targetPosition=e.targetPosition._getTransformedBySplitOperation(t),[e]}),Jl(ma,ga,(e,t)=>{const n=ai._createFromPositionAndShift(e.sourcePosition,e.howMany)._getTransformedByInsertOperation(t,!1)[0];return e.sourcePosition=n.start,e.howMany=n.end.offset-n.start.offset,e.targetPosition.isEqual(t.position)||(e.targetPosition=e.targetPosition._getTransformedByInsertOperation(t)),[e]}),Jl(ma,ma,(e,t,n)=>{const r=ai._createFromPositionAndShift(e.sourcePosition,e.howMany),o=ai._createFromPositionAndShift(t.sourcePosition,t.howMany);let i,a=n.aIsStrong,s=!n.aIsStrong;if("insertBefore"==n.abRelation||"insertAfter"==n.baRelation?s=!0:"insertAfter"!=n.abRelation&&"insertBefore"!=n.baRelation||(s=!1),i=e.targetPosition.isEqual(t.targetPosition)&&s?e.targetPosition._getTransformedByDeletion(t.sourcePosition,t.howMany):e.targetPosition._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany),ic(e,t)&&ic(t,e))return[t.getReversed()];if(r.containsPosition(t.targetPosition)&&r.containsRange(o,!0))return r.start=r.start._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany),r.end=r.end._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany),ac([r],i);if(o.containsPosition(e.targetPosition)&&o.containsRange(r,!0))return r.start=r.start._getCombined(t.sourcePosition,t.getMovedRangeStart()),r.end=r.end._getCombined(t.sourcePosition,t.getMovedRangeStart()),ac([r],i);const l=Bt(e.sourcePosition.getParentPath(),t.sourcePosition.getParentPath());if("prefix"==l||"extension"==l)return r.start=r.start._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany),r.end=r.end._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany),ac([r],i);"remove"!=e.type||"remove"==t.type||n.aWasUndone||n.forceWeakRemove?"remove"==e.type||"remove"!=t.type||n.bWasUndone||n.forceWeakRemove||(a=!1):a=!0;const c=[],u=r.getDifference(o);for(const p of u){p.start=p.start._getTransformedByDeletion(t.sourcePosition,t.howMany),p.end=p.end._getTransformedByDeletion(t.sourcePosition,t.howMany);const e="same"==Bt(p.start.getParentPath(),t.getMovedRangeStart().getParentPath()),n=p._getTransformedByInsertion(t.getMovedRangeStart(),t.howMany,e);c.push(...n)}const d=r.getIntersection(o);return null!==d&&a&&(d.start=d.start._getCombined(t.sourcePosition,t.getMovedRangeStart()),d.end=d.end._getCombined(t.sourcePosition,t.getMovedRangeStart()),0===c.length?c.push(d):1==c.length?o.start.isBefore(r.start)||o.start.isEqual(r.start)?c.unshift(d):c.push(d):c.splice(1,0,d)),0===c.length?[new Ua(e.baseVersion)]:ac(c,i)}),Jl(ma,_a,(e,t,n)=>{let r=e.targetPosition.clone();e.targetPosition.isEqual(t.insertionPosition)&&t.graveyardPosition&&"moveTargetAfter"!=n.abRelation||(r=e.targetPosition._getTransformedBySplitOperation(t));const o=ai._createFromPositionAndShift(e.sourcePosition,e.howMany);if(o.end.isEqual(t.insertionPosition))return t.graveyardPosition||e.howMany++,e.targetPosition=r,[e];if(o.start.hasSameParentAs(t.splitPosition)&&o.containsPosition(t.splitPosition)){let e=new ai(t.splitPosition,o.end);return e=e._getTransformedBySplitOperation(t),ac([new ai(o.start,t.splitPosition),e],r)}e.targetPosition.isEqual(t.splitPosition)&&"insertAtSource"==n.abRelation&&(r=t.moveTargetPosition),e.targetPosition.isEqual(t.insertionPosition)&&"insertBetween"==n.abRelation&&(r=e.targetPosition);const i=[o._getTransformedBySplitOperation(t)];if(t.graveyardPosition){const r=o.start.isEqual(t.graveyardPosition)||o.containsPosition(t.graveyardPosition);e.howMany>1&&r&&!n.aWasUndone&&i.push(ai._createFromPositionAndShift(t.insertionPosition,1))}return ac(i,r)}),Jl(ma,ka,(e,t,n)=>{const r=ai._createFromPositionAndShift(e.sourcePosition,e.howMany);if(t.deletionPosition.hasSameParentAs(e.sourcePosition)&&r.containsPosition(t.sourcePosition))if("remove"!=e.type||n.forceWeakRemove){if(1==e.howMany)return n.bWasUndone?(e.sourcePosition=t.graveyardPosition.clone(),e.targetPosition=e.targetPosition._getTransformedByMergeOperation(t),[e]):[new Ua(0)]}else if(!n.aWasUndone){const n=[];let r=t.graveyardPosition.clone(),o=t.targetPosition._getTransformedByMergeOperation(t);e.howMany>1&&(n.push(new ma(e.sourcePosition,e.howMany-1,e.targetPosition,0)),r=r._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany-1),o=o._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany-1));const i=t.deletionPosition._getCombined(e.sourcePosition,e.targetPosition),a=new ma(r,1,i,0),s=a.getMovedRangeStart().path.slice();s.push(0);const l=new ii(a.targetPosition.root,s);o=o._getTransformedByMove(r,i,1);const c=new ma(o,t.howMany,l,0);return n.push(a),n.push(c),n}const o=ai._createFromPositionAndShift(e.sourcePosition,e.howMany)._getTransformedByMergeOperation(t);return e.sourcePosition=o.start,e.howMany=o.end.offset-o.start.offset,e.targetPosition=e.targetPosition._getTransformedByMergeOperation(t),[e]}),Jl(va,ga,(e,t)=>(e.position=e.position._getTransformedByInsertOperation(t),[e])),Jl(va,ka,(e,t)=>e.position.isEqual(t.deletionPosition)?(e.position=t.graveyardPosition.clone(),e.position.stickiness="toNext",[e]):(e.position=e.position._getTransformedByMergeOperation(t),[e])),Jl(va,ma,(e,t)=>(e.position=e.position._getTransformedByMoveOperation(t),[e])),Jl(va,va,(e,t,n)=>{if(e.position.isEqual(t.position)){if(!n.aIsStrong)return[new Ua(0)];e.oldName=t.newName}return[e]}),Jl(va,_a,(e,t)=>"same"!=Bt(e.position.path,t.splitPosition.getParentPath())||t.graveyardPosition?(e.position=e.position._getTransformedBySplitOperation(t),[e]):[e,new va(e.position.getShiftedBy(1),e.oldName,e.newName,0)]),Jl(ya,ya,(e,t,n)=>{if(e.root===t.root&&e.key===t.key){if(!n.aIsStrong||e.newValue===t.newValue)return[new Ua(0)];e.oldValue=t.newValue}return[e]}),Jl(_a,ga,(e,t)=>(e.splitPosition.hasSameParentAs(t.position)&&e.splitPosition.offset<t.position.offset&&(e.howMany+=t.howMany),e.splitPosition=e.splitPosition._getTransformedByInsertOperation(t),e.insertionPosition=_a.getInsertionPosition(e.splitPosition),[e])),Jl(_a,ka,(e,t,n)=>{if(!e.graveyardPosition&&!n.bWasUndone&&e.splitPosition.hasSameParentAs(t.sourcePosition)){const n=t.graveyardPosition.path.slice();n.push(0);const r=new ii(t.graveyardPosition.root,n),o=_a.getInsertionPosition(new ii(t.graveyardPosition.root,n)),i=new _a(r,0,null,0);return i.insertionPosition=o,e.splitPosition=e.splitPosition._getTransformedByMergeOperation(t),e.insertionPosition=_a.getInsertionPosition(e.splitPosition),e.graveyardPosition=i.insertionPosition.clone(),e.graveyardPosition.stickiness="toNext",[i,e]}return e.splitPosition.hasSameParentAs(t.deletionPosition)&&!e.splitPosition.isAfter(t.deletionPosition)&&e.howMany--,e.splitPosition.hasSameParentAs(t.targetPosition)&&(e.howMany+=t.howMany),e.splitPosition=e.splitPosition._getTransformedByMergeOperation(t),e.insertionPosition=_a.getInsertionPosition(e.splitPosition),e.graveyardPosition&&(e.graveyardPosition=e.graveyardPosition._getTransformedByMergeOperation(t)),[e]}),Jl(_a,ma,(e,t,n)=>{const r=ai._createFromPositionAndShift(t.sourcePosition,t.howMany);if(e.graveyardPosition){const o=r.start.isEqual(e.graveyardPosition)||r.containsPosition(e.graveyardPosition);if(!n.bWasUndone&&o){const n=e.splitPosition._getTransformedByMoveOperation(t),r=e.graveyardPosition._getTransformedByMoveOperation(t),o=r.path.slice();o.push(0);const i=new ii(r.root,o);return[new ma(n,e.howMany,i,0)]}e.graveyardPosition=e.graveyardPosition._getTransformedByMoveOperation(t)}if(e.splitPosition.hasSameParentAs(t.sourcePosition)&&r.containsPosition(e.splitPosition)){const n=t.howMany-(e.splitPosition.offset-t.sourcePosition.offset);return e.howMany-=n,e.splitPosition.hasSameParentAs(t.targetPosition)&&e.splitPosition.offset<t.targetPosition.offset&&(e.howMany+=t.howMany),e.splitPosition=t.sourcePosition.clone(),e.insertionPosition=_a.getInsertionPosition(e.splitPosition),[e]}return!e.splitPosition.isEqual(t.targetPosition)||"insertAtSource"!=n.baRelation&&"splitBefore"!=n.abRelation?(t.sourcePosition.isEqual(t.targetPosition)||(e.splitPosition.hasSameParentAs(t.sourcePosition)&&e.splitPosition.offset<=t.sourcePosition.offset&&(e.howMany-=t.howMany),e.splitPosition.hasSameParentAs(t.targetPosition)&&e.splitPosition.offset<t.targetPosition.offset&&(e.howMany+=t.howMany)),e.splitPosition.stickiness="toNone",e.splitPosition=e.splitPosition._getTransformedByMoveOperation(t),e.splitPosition.stickiness="toNext",e.graveyardPosition?e.insertionPosition=e.insertionPosition._getTransformedByMoveOperation(t):e.insertionPosition=_a.getInsertionPosition(e.splitPosition),[e]):(e.howMany+=t.howMany,e.splitPosition=e.splitPosition._getTransformedByDeletion(t.sourcePosition,t.howMany),e.insertionPosition=_a.getInsertionPosition(e.splitPosition),[e])}),Jl(_a,_a,(e,t,n)=>{if(e.splitPosition.isEqual(t.splitPosition)){if(!e.graveyardPosition&&!t.graveyardPosition)return[new Ua(0)];if(e.graveyardPosition&&t.graveyardPosition&&e.graveyardPosition.isEqual(t.graveyardPosition))return[new Ua(0)];if("splitBefore"==n.abRelation)return e.howMany=0,e.graveyardPosition=e.graveyardPosition._getTransformedBySplitOperation(t),[e]}if(e.graveyardPosition&&t.graveyardPosition&&e.graveyardPosition.isEqual(t.graveyardPosition)){const r="$graveyard"==e.splitPosition.root.rootName,o="$graveyard"==t.splitPosition.root.rootName;if(o&&!r||(!r||o)&&n.aIsStrong){const n=[];return t.howMany&&n.push(new ma(t.moveTargetPosition,t.howMany,t.splitPosition,0)),e.howMany&&n.push(new ma(e.splitPosition,e.howMany,e.moveTargetPosition,0)),n}return[new Ua(0)]}if(e.graveyardPosition&&(e.graveyardPosition=e.graveyardPosition._getTransformedBySplitOperation(t)),e.splitPosition.isEqual(t.insertionPosition)&&"splitBefore"==n.abRelation)return e.howMany++,[e];if(t.splitPosition.isEqual(e.insertionPosition)&&"splitBefore"==n.baRelation){const n=t.insertionPosition.path.slice();n.push(0);const r=new ii(t.insertionPosition.root,n);return[e,new ma(e.insertionPosition,1,r,0)]}return e.splitPosition.hasSameParentAs(t.splitPosition)&&e.splitPosition.offset<t.splitPosition.offset&&(e.howMany-=t.howMany),e.splitPosition=e.splitPosition._getTransformedBySplitOperation(t),e.insertionPosition=_a.getInsertionPosition(e.splitPosition),[e]});class sc extends El{constructor(e){super(e),this._stack=[],this._createdBatches=new WeakSet,this.refresh()}refresh(){this.isEnabled=this._stack.length>0}addBatch(e){const t=this.editor.model.document.selection,n={ranges:t.hasOwnRange?Array.from(t.getRanges()):[],isBackward:t.isBackward};this._stack.push({batch:e,selection:n}),this.refresh()}clearStack(){this._stack=[],this.refresh()}_restoreSelection(e,t,n){const r=this.editor.model,o=r.document,i=[];for(const a of e){const e=lc(a,n).find(e=>e.start.root!=o.graveyard);e&&i.push(e)}i.length&&r.change(e=>{e.setSelection(i,{backward:t})})}_undo(e,t){const n=this.editor.model,r=n.document;this._createdBatches.add(t);const o=e.operations.slice().filter(e=>e.isDocumentOperation);o.reverse();for(const i of o){const e=i.baseVersion+1,o=Array.from(r.history.getOperations(e)),a=ec([i.getReversed()],o,{useRelations:!0,document:this.editor.model.document,padWithNoOps:!1,forceWeakRemove:!0}).operationsA;for(const s of a)t.addOperation(s),n.applyOperation(s),r.history.setOperationAsUndone(i,s)}}}function lc(e,t){const n=e.getTransformedByOperations(t);n.sort((e,t)=>e.start.isBefore(t.start)?-1:1);for(let r=1;r<n.length;r++){const e=n[r-1],t=n[r];e.end.isTouching(t.start)&&(e.end=t.end,n.splice(r,1),r--)}return n}class cc extends sc{execute(e=null){const t=e?this._stack.findIndex(t=>t.batch==e):this._stack.length-1,n=this._stack.splice(t,1)[0],r=this.editor.model.createBatch("transparent");this.editor.model.enqueueChange(r,()=>{this._undo(n.batch,r);const e=this.editor.model.document.history.getOperations(n.batch.baseVersion);this._restoreSelection(n.selection.ranges,n.selection.isBackward,e),this.fire("revert",n.batch,r)}),this.refresh()}}class uc extends sc{execute(){const e=this._stack.pop(),t=this.editor.model.createBatch("transparent");this.editor.model.enqueueChange(t,()=>{const n=e.batch.operations[e.batch.operations.length-1].baseVersion+1,r=this.editor.model.document.history.getOperations(n);this._restoreSelection(e.selection.ranges,e.selection.isBackward,r),this._undo(e.batch,t)}),this.refresh()}}class dc extends kl{static get pluginName(){return"UndoEditing"}constructor(e){super(e),this._batchRegistry=new WeakSet}init(){const e=this.editor;this._undoCommand=new cc(e),this._redoCommand=new uc(e),e.commands.add("undo",this._undoCommand),e.commands.add("redo",this._redoCommand),this.listenTo(e.model,"applyOperation",(e,t)=>{const n=t[0];if(!n.isDocumentOperation)return;const r=n.batch,o=this._redoCommand._createdBatches.has(r),i=this._undoCommand._createdBatches.has(r);this._batchRegistry.has(r)||"transparent"==r.type&&!o&&!i||(o?this._undoCommand.addBatch(r):i||(this._undoCommand.addBatch(r),this._redoCommand.clearStack()),this._batchRegistry.add(r))},{priority:"highest"}),this.listenTo(this._undoCommand,"revert",(e,t,n)=>{this._redoCommand.addBatch(n)}),e.keystrokes.set("CTRL+Z","undo"),e.keystrokes.set("CTRL+Y","redo"),e.keystrokes.set("CTRL+SHIFT+Z","redo")}}var pc='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M5.042 9.367l2.189 1.837a.75.75 0 0 1-.965 1.149l-3.788-3.18a.747.747 0 0 1-.21-.284.75.75 0 0 1 .17-.945L6.23 4.762a.75.75 0 1 1 .964 1.15L4.863 7.866h8.917A.75.75 0 0 1 14 7.9a4 4 0 1 1-1.477 7.718l.344-1.489a2.5 2.5 0 1 0 1.094-4.73l.008-.032H5.042z"/></svg>',fc='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M14.958 9.367l-2.189 1.837a.75.75 0 0 0 .965 1.149l3.788-3.18a.747.747 0 0 0 .21-.284.75.75 0 0 0-.17-.945L13.77 4.762a.75.75 0 1 0-.964 1.15l2.331 1.955H6.22A.75.75 0 0 0 6 7.9a4 4 0 1 0 1.477 7.718l-.344-1.489A2.5 2.5 0 1 1 6.039 9.4l-.008-.032h8.927z"/></svg>';class hc extends kl{init(){const e=this.editor,t=e.locale,n=e.t,r="ltr"==t.uiLanguageDirection?pc:fc,o="ltr"==t.uiLanguageDirection?fc:pc;this._addButton("undo",n("bh"),"CTRL+Z",r),this._addButton("redo",n("bi"),"CTRL+Y",o)}_addButton(e,t,n,r){const o=this.editor;o.ui.componentFactory.add(e,i=>{const a=o.commands.get(e),s=new il(i);return s.set({label:t,icon:r,keystroke:n,tooltip:!0}),s.bind("isEnabled").to(a,"isEnabled"),this.listenTo(s,"execute",()=>{o.execute(e),o.editing.view.focus()}),s})}}class mc extends kl{static get requires(){return[dc,hc]}static get pluginName(){return"Undo"}}class gc{constructor(e){this.context=e}destroy(){this.stopListening()}static get isContextPlugin(){return!0}}At(gc,Rn);class bc extends gc{static get pluginName(){return"PendingActions"}init(){this.set("hasAny",!1),this._actions=new jt({idProperty:"_id"}),this._actions.delegate("add","remove").to(this)}add(e){if("string"!=typeof e)throw new _t.b("pendingactions-add-invalid-message: The message must be a string.",this);const t=Object.create(Rn);return t.set("message",e),this._actions.add(t),this.hasAny=!0,t}remove(e){this._actions.remove(e),this.hasAny=!!this._actions.length}get first(){return this._actions.get(0)}[Symbol.iterator](){return this._actions[Symbol.iterator]()}}class vc{constructor(){const e=new window.FileReader;this._reader=e,this._data=void 0,this.set("loaded",0),e.onprogress=(e=>{this.loaded=e.loaded})}get error(){return this._reader.error}get data(){return this._data}read(e){const t=this._reader;return this.total=e.size,new Promise((n,r)=>{t.onload=(()=>{const e=t.result;this._data=e,n(e)}),t.onerror=(()=>{r("error")}),t.onabort=(()=>{r("aborted")}),this._reader.readAsDataURL(e)})}abort(){this._reader.abort()}}At(vc,Rn);class yc extends kl{static get pluginName(){return"FileRepository"}static get requires(){return[bc]}init(){this.loaders=new jt,this.loaders.on("add",()=>this._updatePendingAction()),this.loaders.on("remove",()=>this._updatePendingAction()),this._loadersMap=new Map,this._pendingAction=null,this.set("uploaded",0),this.set("uploadTotal",null),this.bind("uploadedPercent").to(this,"uploaded",this,"uploadTotal",(e,t)=>t?e/t*100:0)}getLoader(e){return this._loadersMap.get(e)||null}createLoader(e){if(!this.createUploadAdapter)return console.warn(Object(_t.a)("filerepository-no-upload-adapter: Upload adapter is not defined.")),null;const t=new kc(Promise.resolve(e),this.createUploadAdapter);return this.loaders.add(t),this._loadersMap.set(e,t),e instanceof Promise&&t.file.then(e=>{this._loadersMap.set(e,t)}).catch(()=>{}),t.on("change:uploaded",()=>{let e=0;for(const t of this.loaders)e+=t.uploaded;this.uploaded=e}),t.on("change:uploadTotal",()=>{let e=0;for(const t of this.loaders)t.uploadTotal&&(e+=t.uploadTotal);this.uploadTotal=e}),t}destroyLoader(e){const t=e instanceof kc?e:this.getLoader(e);t._destroy(),this.loaders.remove(t),this._loadersMap.forEach((e,n)=>{e===t&&this._loadersMap.delete(n)})}_updatePendingAction(){const e=this.editor.plugins.get(bc);if(this.loaders.length){if(!this._pendingAction){const t=this.editor.t,n=e=>`${t("au")} ${parseInt(e)}%.`;this._pendingAction=e.add(n(this.uploadedPercent)),this._pendingAction.bind("message").to(this,"uploadedPercent",n)}}else e.remove(this._pendingAction),this._pendingAction=null}}At(yc,Rn);class kc{constructor(e,t){this.id=yt(),this._filePromiseWrapper=this._createFilePromiseWrapper(e),this._adapter=t(this),this._reader=new vc,this.set("status","idle"),this.set("uploaded",0),this.set("uploadTotal",null),this.bind("uploadedPercent").to(this,"uploaded",this,"uploadTotal",(e,t)=>t?e/t*100:0),this.set("uploadResponse",null)}get file(){return this._filePromiseWrapper?this._filePromiseWrapper.promise.then(e=>this._filePromiseWrapper?e:null):Promise.resolve(null)}get data(){return this._reader.data}read(){if("idle"!=this.status)throw new _t.b("filerepository-read-wrong-status: You cannot call read if the status is different than idle.",this);return this.status="reading",this.file.then(e=>this._reader.read(e)).then(e=>(this.status="idle",e)).catch(e=>{if("aborted"===e)throw this.status="aborted","aborted";throw this.status="error",this._reader.error?this._reader.error:e})}upload(){if("idle"!=this.status)throw new _t.b("filerepository-upload-wrong-status: You cannot call upload if the status is different than idle.",this);return this.status="uploading",this.file.then(()=>this._adapter.upload()).then(e=>(this.uploadResponse=e,this.status="idle",e)).catch(e=>{if("aborted"===this.status)throw"aborted";throw this.status="error",e})}abort(){const e=this.status;this.status="aborted",this._filePromiseWrapper.isFulfilled?"reading"==e?this._reader.abort():"uploading"==e&&this._adapter.abort&&this._adapter.abort():(this._filePromiseWrapper.promise.catch(()=>{}),this._filePromiseWrapper.rejecter("aborted")),this._destroy()}_destroy(){this._filePromiseWrapper=void 0,this._reader=void 0,this._adapter=void 0,this.uploadResponse=void 0}_createFilePromiseWrapper(e){const t={};return t.promise=new Promise((n,r)=>{t.rejecter=r,t.isFulfilled=!1,e.then(e=>{t.isFulfilled=!0,n(e)}).catch(e=>{t.isFulfilled=!0,r(e)})}),t}}At(kc,Rn);class _c extends kl{static get requires(){return[yc]}static get pluginName(){return"CKFinderUploadAdapter"}init(){const e=this.editor.config.get("ckfinder.uploadUrl");e&&(this.editor.plugins.get(yc).createUploadAdapter=(t=>new wc(t,e,this.editor.t)))}}class wc{constructor(e,t,n){this.loader=e,this.url=t,this.t=n}upload(){return this.loader.file.then(e=>new Promise((t,n)=>{this._initRequest(),this._initListeners(t,n,e),this._sendRequest(e)}))}abort(){this.xhr&&this.xhr.abort()}_initRequest(){const e=this.xhr=new XMLHttpRequest;e.open("POST",this.url,!0),e.responseType="json"}_initListeners(e,t,n){const r=this.xhr,o=this.loader,i=(0,this.t)("a")+` ${n.name}.`;r.addEventListener("error",()=>t(i)),r.addEventListener("abort",()=>t()),r.addEventListener("load",()=>{const n=r.response;if(!n||!n.uploaded)return t(n&&n.error&&n.error.message?n.error.message:i);e({default:n.url})}),r.upload&&r.upload.addEventListener("progress",e=>{e.lengthComputable&&(o.uploadTotal=e.total,o.uploaded=e.loaded)})}_sendRequest(e){const t=new FormData;t.append("upload",e),t.append("ckCsrfToken",function(){let e=function(e){e=e.toLowerCase();const t=document.cookie.split(";");for(const n of t){const t=n.split("=");if(decodeURIComponent(t[0].trim().toLowerCase())===e)return decodeURIComponent(t[1])}return null}("ckCsrfToken");var t,n;return e&&40==e.length||(e=function(e){let t="";const n=new Uint8Array(40);window.crypto.getRandomValues(n);for(let r=0;r<n.length;r++){const e="abcdefghijklmnopqrstuvwxyz0123456789".charAt(n[r]%"abcdefghijklmnopqrstuvwxyz0123456789".length);t+=Math.random()>.5?e.toUpperCase():e}return t}(),t="ckCsrfToken",n=e,document.cookie=encodeURIComponent(t)+"="+encodeURIComponent(n)+";path=/"),e}()),this.xhr.send(t)}}class Cc{static get pluginName(){return"BlockAutoformatEditing"}constructor(e,t,n){let r,o=null;"function"==typeof n?r=n:(o=e.commands.get(n),r=(()=>{e.execute(n)})),e.model.document.on("change",(n,i)=>{if(o&&!o.isEnabled)return;if("transparent"==i.type)return;const a=Array.from(e.model.document.differ.getChanges()),s=a[0];if(1!=a.length||"insert"!==s.type||"$text"!=s.name||1!=s.length)return;const l=s.position.parent;if(!l.is("paragraph")||1!==l.childCount)return;const c=t.exec(l.getChild(0).data);c&&e.model.enqueueChange(e=>{const t=e.createPositionAt(l,0),n=e.createPositionAt(l,c[0].length),o=new bi(t,n);!1!==r({match:c})&&e.remove(o),o.detach()})})}}function Sc(e,t){let n=e.start;return{text:Array.from(e.getItems()).reduce((e,r)=>r.is("text")||r.is("textProxy")?e+r.data:(n=t.createPositionAfter(r),""),""),range:t.createRange(n,e.end)}}class Pc{static get pluginName(){return"InlineAutoformatEditing"}constructor(e,t,n){let r,o,i,a;t instanceof RegExp?r=t:i=t,"string"==typeof n?o=n:a=n,i=i||(e=>{let t;const n=[],o=[];for(;null!==(t=r.exec(e))&&!(t&&t.length<4);){let{index:e,1:r,2:i,3:a}=t;const s=r+i+a,l=[e+=t[0].length-s.length,e+r.length],c=[e+r.length+i.length,e+r.length+i.length+a.length];n.push(l),n.push(c),o.push([e+r.length,e+r.length+i.length])}return{remove:n,format:o}}),a=a||((t,n)=>{const r=e.model.schema.getValidRanges(n,o);for(const e of r)t.setAttribute(o,!0,e);t.removeSelectionAttribute(o)}),e.model.document.on("change",(t,n)=>{if("transparent"==n.type)return;const r=e.model,o=r.document.selection;if(!o.isCollapsed)return;const s=Array.from(r.document.differ.getChanges()),l=s[0];if(1!=s.length||"insert"!==l.type||"$text"!=l.name||1!=l.length)return;const c=o.focus,u=c.parent,{text:d,range:p}=Sc(r.createRange(r.createPositionAt(u,0),c),r),f=i(d),h=Ec(p.start,f.format,r),m=Ec(p.start,f.remove,r);h.length&&m.length&&r.enqueueChange(e=>{if(!1!==a(e,h))for(const t of m.reverse())e.remove(t)})})}}function Ec(e,t,n){return t.filter(e=>void 0!==e[0]&&void 0!==e[1]).map(t=>n.createRange(e.getShiftedBy(t[0]),e.getShiftedBy(t[1])))}function xc(e,t){return(n,r)=>{if(!e.commands.get(t).isEnabled)return!1;const o=e.model.schema.getValidRanges(r,t);for(const e of o)n.setAttribute(t,!0,e);n.removeSelectionAttribute(t)}}class Oc extends El{constructor(e,t){super(e),this.attributeKey=t}refresh(){const e=this.editor.model,t=e.document;this.value=this._getValueFromFirstAllowedNode(),this.isEnabled=e.schema.checkAttributeInSelection(t.selection,this.attributeKey)}execute(e={}){const t=this.editor.model,n=t.document.selection,r=void 0===e.forceValue?!this.value:e.forceValue;t.change(e=>{if(n.isCollapsed)r?e.setSelectionAttribute(this.attributeKey,!0):e.removeSelectionAttribute(this.attributeKey);else{const o=t.schema.getValidRanges(n.getRanges(),this.attributeKey);for(const t of o)r?e.setAttribute(this.attributeKey,r,t):e.removeAttribute(this.attributeKey,t)}})}_getValueFromFirstAllowedNode(){const e=this.editor.model,t=e.schema,n=e.document.selection;if(n.isCollapsed)return n.hasAttribute(this.attributeKey);for(const r of n.getRanges())for(const e of r.getItems())if(t.checkAttribute(e,this.attributeKey))return e.hasAttribute(this.attributeKey);return!1}}class Tc extends kl{static get pluginName(){return"BoldEditing"}init(){const e=this.editor;e.model.schema.extend("$text",{allowAttributes:"bold"}),e.model.schema.setAttributeProperties("bold",{isFormatting:!0,copyOnEnter:!0}),e.conversion.attributeToElement({model:"bold",view:"strong",upcastAlso:["b",e=>{const t=e.getStyle("font-weight");return t?"bold"==t||Number(t)>=600?{name:!0,styles:["font-weight"]}:void 0:null}]}),e.commands.add("bold",new Oc(e,"bold")),e.keystrokes.set("CTRL+B","bold")}}class Mc extends kl{init(){const e=this.editor,t=e.t;e.ui.componentFactory.add("bold",n=>{const r=e.commands.get("bold"),o=new il(n);return o.set({label:t("d"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.187 17H5.773c-.637 0-1.092-.138-1.364-.415-.273-.277-.409-.718-.409-1.323V4.738c0-.617.14-1.062.419-1.332.279-.27.73-.406 1.354-.406h4.68c.69 0 1.288.041 1.793.124.506.083.96.242 1.36.478.341.197.644.447.906.75a3.262 3.262 0 0 1 .808 2.162c0 1.401-.722 2.426-2.167 3.075C15.05 10.175 16 11.315 16 13.01a3.756 3.756 0 0 1-2.296 3.504 6.1 6.1 0 0 1-1.517.377c-.571.073-1.238.11-2 .11zm-.217-6.217H7v4.087h3.069c1.977 0 2.965-.69 2.965-2.072 0-.707-.256-1.22-.768-1.537-.512-.319-1.277-.478-2.296-.478zM7 5.13v3.619h2.606c.729 0 1.292-.067 1.69-.2a1.6 1.6 0 0 0 .91-.765c.165-.267.247-.566.247-.897 0-.707-.26-1.176-.778-1.409-.519-.232-1.31-.348-2.375-.348H7z"/></svg>',keystroke:"CTRL+B",tooltip:!0,isToggleable:!0}),o.bind("isOn","isEnabled").to(r,"value","isEnabled"),this.listenTo(o,"execute",()=>{e.execute("bold"),e.editing.view.focus()}),o})}}class Ac extends kl{static get pluginName(){return"ItalicEditing"}init(){const e=this.editor;e.model.schema.extend("$text",{allowAttributes:"italic"}),e.model.schema.setAttributeProperties("italic",{isFormatting:!0,copyOnEnter:!0}),e.conversion.attributeToElement({model:"italic",view:"i",upcastAlso:["em",{styles:{"font-style":"italic"}}]}),e.commands.add("italic",new Oc(e,"italic")),e.keystrokes.set("CTRL+I","italic")}}class jc extends kl{init(){const e=this.editor,t=e.t;e.ui.componentFactory.add("italic",n=>{const r=e.commands.get("italic"),o=new il(n);return o.set({label:t("ai"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M9.586 14.633l.021.004c-.036.335.095.655.393.962.082.083.173.15.274.201h1.474a.6.6 0 1 1 0 1.2H5.304a.6.6 0 0 1 0-1.2h1.15c.474-.07.809-.182 1.005-.334.157-.122.291-.32.404-.597l2.416-9.55a1.053 1.053 0 0 0-.281-.823 1.12 1.12 0 0 0-.442-.296H8.15a.6.6 0 0 1 0-1.2h6.443a.6.6 0 1 1 0 1.2h-1.195c-.376.056-.65.155-.823.296-.215.175-.423.439-.623.79l-2.366 9.347z"/></svg>',keystroke:"CTRL+I",tooltip:!0,isToggleable:!0}),o.bind("isOn","isEnabled").to(r,"value","isEnabled"),this.listenTo(o,"execute",()=>{e.execute("italic"),e.editing.view.focus()}),o})}}function Ic(e){const t=e.next();return t.done?null:t.value}class Nc extends El{refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(e={}){const t=this.editor.model,n=t.schema,r=t.document.selection,o=Array.from(r.getSelectedBlocks()),i=void 0===e.forceValue?!this.value:e.forceValue;t.change(e=>{if(i){const t=o.filter(e=>Rc(e)||Lc(n,e));this._applyQuote(e,t)}else this._removeQuote(e,o.filter(Rc))})}_getValue(){const e=Ic(this.editor.model.document.selection.getSelectedBlocks());return!(!e||!Rc(e))}_checkEnabled(){if(this.value)return!0;const e=this.editor.model.document.selection,t=this.editor.model.schema,n=Ic(e.getSelectedBlocks());return!!n&&Lc(t,n)}_removeQuote(e,t){Dc(e,t).reverse().forEach(t=>{if(t.start.isAtStart&&t.end.isAtEnd)return void e.unwrap(t.start.parent);if(t.start.isAtStart){const n=e.createPositionBefore(t.start.parent);return void e.move(t,n)}t.end.isAtEnd||e.split(t.end);const n=e.createPositionAfter(t.end.parent);e.move(t,n)})}_applyQuote(e,t){const n=[];Dc(e,t).reverse().forEach(t=>{let r=Rc(t.start);r||(r=e.createElement("blockQuote"),e.wrap(t,r)),n.push(r)}),n.reverse().reduce((t,n)=>t.nextSibling==n?(e.merge(e.createPositionAfter(t)),t):n)}}function Rc(e){return"blockQuote"==e.parent.name?e.parent:null}function Dc(e,t){let n,r=0;const o=[];for(;r<t.length;){const i=t[r],a=t[r+1];n||(n=e.createPositionBefore(i)),a&&i.nextSibling==a||(o.push(e.createRange(n,e.createPositionAfter(i))),n=null),r++}return o}function Lc(e,t){const n=e.checkChild(t.parent,"blockQuote"),r=e.checkChild(["$root","blockQuote"],t);return n&&r}class Bc extends kl{static get pluginName(){return"BlockQuoteEditing"}init(){const e=this.editor,t=e.model.schema;e.commands.add("blockQuote",new Nc(e)),t.register("blockQuote",{allowWhere:"$block",allowContentOf:"$root"}),t.addChildCheck((e,t)=>{if(e.endsWith("blockQuote")&&"blockQuote"==t.name)return!1}),e.conversion.elementToElement({model:"blockQuote",view:"blockquote"}),e.model.document.registerPostFixer(n=>{const r=e.model.document.differ.getChanges();for(const e of r)if("insert"==e.type){const r=e.position.nodeAfter;if(!r)continue;if(r.is("blockQuote")&&r.isEmpty)return n.remove(r),!0;if(r.is("blockQuote")&&!t.checkChild(e.position,r))return n.unwrap(r),!0;if(r.is("element")){const e=n.createRangeIn(r);for(const r of e.getItems())if(r.is("blockQuote")&&!t.checkChild(n.createPositionBefore(r),r))return n.unwrap(r),!0}}else if("remove"==e.type){const t=e.position.parent;if(t.is("blockQuote")&&t.isEmpty)return n.remove(t),!0}return!1})}afterInit(){const e=this.editor.commands.get("blockQuote");this.listenTo(this.editor.editing.view.document,"enter",(t,n)=>{const r=this.editor.model.document,o=r.selection.getLastPosition().parent;r.selection.isCollapsed&&o.isEmpty&&e.value&&(this.editor.execute("blockQuote"),this.editor.editing.view.scrollToTheSelection(),n.preventDefault(),t.stop())})}}n(43);class Fc extends kl{init(){const e=this.editor,t=e.t;e.ui.componentFactory.add("blockQuote",n=>{const r=e.commands.get("blockQuote"),o=new il(n);return o.set({label:t("j"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 10.423a6.5 6.5 0 0 1 6.056-6.408l.038.67C6.448 5.423 5.354 7.663 5.22 10H9c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003v-4.574zm8 0a6.5 6.5 0 0 1 6.056-6.408l.038.67c-2.646.739-3.74 2.979-3.873 5.315H17c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003v-4.574z"/></svg>',tooltip:!0,isToggleable:!0}),o.bind("isOn","isEnabled").to(r,"value","isEnabled"),this.listenTo(o,"execute",()=>{e.execute("blockQuote"),e.editing.view.focus()}),o})}}class Uc extends kl{static get pluginName(){return"CKFinderUI"}init(){const e=this.editor,t=e.ui.componentFactory,n=e.t;t.add("ckfinder",t=>{const r=e.commands.get("ckfinder"),o=new il(t);return o.set({label:n("k"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.627 16.5zm5.873-.196zm0-7.001V8h-13v8.5h4.341c.191.54.457 1.044.785 1.5H2a1.5 1.5 0 0 1-1.5-1.5v-13A1.5 1.5 0 0 1 2 2h4.5a1.5 1.5 0 0 1 1.06.44L9.122 4H16a1.5 1.5 0 0 1 1.5 1.5v1A1.5 1.5 0 0 1 19 8v2.531a6.027 6.027 0 0 0-1.5-1.228zM16 6.5v-1H8.5l-2-2H2v13h1V8a1.5 1.5 0 0 1 1.5-1.5H16z"/><path d="M14.5 19.5a5 5 0 1 1 0-10 5 5 0 0 1 0 10zM15 14v-2h-1v2h-2v1h2v2h1v-2h2v-1h-2z"/></svg>',tooltip:!0}),o.bind("isEnabled").to(r),o.on("execute",()=>{e.execute("ckfinder"),e.editing.view.focus()}),o})}}class qc extends to{observe(e){this.listenTo(e,"load",(e,t)=>{"IMG"==t.target.tagName&&this._fireEvents(t)},{useCapture:!0})}_fireEvents(e){this.isEnabled&&(this.document.fire("layoutChanged"),this.document.fire("imageLoaded",e))}}class zc{constructor(){this._stack=[]}add(e,t){const n=this._stack,r=n[0];this._insertDescriptor(e);const o=n[0];r===o||Hc(r,o)||this.fire("change:top",{oldDescriptor:r,newDescriptor:o,writer:t})}remove(e,t){const n=this._stack,r=n[0];this._removeDescriptor(e);const o=n[0];r===o||Hc(r,o)||this.fire("change:top",{oldDescriptor:r,newDescriptor:o,writer:t})}_insertDescriptor(e){const t=this._stack,n=t.findIndex(t=>t.id===e.id);if(Hc(e,t[n]))return;n>-1&&t.splice(n,1);let r=0;for(;t[r]&&Vc(t[r],e);)r++;t.splice(r,0,e)}_removeDescriptor(e){const t=this._stack,n=t.findIndex(t=>t.id===e);n>-1&&t.splice(n,1)}}function Hc(e,t){return e&&t&&e.priority==t.priority&&Wc(e.classes)==Wc(t.classes)}function Vc(e,t){return e.priority>t.priority||!(e.priority<t.priority)&&Wc(e.classes)>Wc(t.classes)}function Wc(e){return Array.isArray(e)?e.sort().join(","):e}function Gc(e){return!!e.is("element")&&!!e.getCustomProperty("widget")}function Yc(e,t,n={}){return or.isEdge||t.setAttribute("contenteditable","false",e),t.addClass("ck-widget",e),t.setCustomProperty("widget",!0,e),e.getFillerOffset=Jc,n.label&&function(e,t,n){n.setCustomProperty("widgetLabel",t,e)}(e,n.label,t),n.hasSelectionHandle&&function(e,t){const n=t.createUIElement("div",{class:"ck ck-widget__selection-handle"},function(e){const t=this.toDomElement(e),n=new rl;return n.set("content",'<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M4 0v1H1v3H0V.5A.5.5 0 0 1 .5 0H4zm8 0h3.5a.5.5 0 0 1 .5.5V4h-1V1h-3V0zM4 16H.5a.5.5 0 0 1-.5-.5V12h1v3h3v1zm8 0v-1h3v-3h1v3.5a.5.5 0 0 1-.5.5H12z"/><path fill-opacity=".256" d="M1 1h14v14H1z"/><g class="ck-icon__selected-indicator"><path d="M7 0h2v1H7V0zM0 7h1v2H0V7zm15 0h1v2h-1V7zm-8 8h2v1H7v-1z"/><path fill-opacity=".254" d="M1 1h14v14H1z"/></g></svg>'),n.render(),t.appendChild(n.element),t});t.insert(t.createPositionAt(e,0),n),t.addClass(["ck-widget_with-selection-handle"],e)}(e,t),function(e,t,n,r){const o=new zc;o.on("change:top",(t,o)=>{o.oldDescriptor&&r(e,o.oldDescriptor,o.writer),o.newDescriptor&&n(e,o.newDescriptor,o.writer)}),t.setCustomProperty("addHighlight",(e,t,n)=>o.add(t,n),e),t.setCustomProperty("removeHighlight",(e,t,n)=>o.remove(t,n),e)}(e,t,(e,t,n)=>n.addClass(r(t.classes),e),(e,t,n)=>n.removeClass(r(t.classes),e)),e;function r(e){return Array.isArray(e)?e:[e]}}function Kc(e){const t=e.getCustomProperty("widgetLabel");return t?"function"==typeof t?t():t:""}function $c(e,t){return t.addClass(["ck-editor__editable","ck-editor__nested-editable"],e),or.isEdge||(t.setAttribute("contenteditable",e.isReadOnly?"false":"true",e),e.on("change:isReadOnly",(n,r,o)=>{t.setAttribute("contenteditable",o?"false":"true",e)})),e.on("change:isFocused",(n,r,o)=>{o?t.addClass("ck-editor__nested-editable_focused",e):t.removeClass("ck-editor__nested-editable_focused",e)}),e}function Qc(e,t){const n=e.getSelectedElement();if(n&&t.schema.isBlock(n))return t.createPositionAfter(n);const r=e.getSelectedBlocks().next().value;if(r){if(r.isEmpty)return t.createPositionAt(r,0);const n=t.createPositionAfter(r);return e.focus.isTouching(n)?n:t.createPositionBefore(r)}return e.focus}function Jc(){return null}function Xc(e){const t=e.getSelectedElement();return t&&function(e){return!!e.getCustomProperty("image")&&Gc(e)}(t)?t:null}function Zc(e){return!!e&&e.is("image")}function eu(e,t,n={}){const r=e.createElement("image",n),o=Qc(t.document.selection,t);t.insertContent(r,o),r.parent&&e.setSelection(r,"on")}function tu(e){const t=e.schema,n=e.document.selection;return function(e,t,n){const r=function(e,t){const n=Qc(e,t).parent;return n.isEmpty&&!n.is("$root")?n.parent:n}(e,n);return t.checkChild(r,"image")}(n,t,e)&&!function(e,t){const n=e.getSelectedElement();return n&&t.isObject(n)}(n,t)&&[...n.focus.getAncestors()].every(e=>!e.is("image"))}function nu(e){return Array.from(e.getChildren()).find(e=>e.is("img"))}function ru(e){return n=>{n.on(`attribute:${e}:image`,t)};function t(e,t,n){if(!n.consumable.consume(t.item,e.name))return;const r=n.writer,o=nu(n.mapper.toViewElement(t.item));null!==t.attributeNewValue?r.setAttribute(t.attributeKey,t.attributeNewValue,o):r.removeAttribute(t.attributeKey,o)}}At(zc,St);class ou extends El{refresh(){this.isEnabled=tu(this.editor.model)}execute(e){const t=this.editor.model;t.change(n=>{const r=Array.isArray(e.source)?e.source:[e.source];for(const e of r)eu(n,t,{src:e})})}}class iu extends kl{static get pluginName(){return"ImageEditing"}init(){const e=this.editor,t=e.model.schema,n=e.t,r=e.conversion;e.editing.view.addObserver(qc),t.register("image",{isObject:!0,isBlock:!0,allowWhere:"$block",allowAttributes:["alt","src","srcset"]}),r.for("dataDowncast").elementToElement({model:"image",view:(e,t)=>au(t)}),r.for("editingDowncast").elementToElement({model:"image",view:(e,t)=>{return r=au(t),o=t,i=n("aj"),o.setCustomProperty("image",!0,r),Yc(r,o,{label:function(){const e=nu(r).getAttribute("alt");return e?`${e} ${i}`:i}});var r,o,i}}),r.for("downcast").add(ru("src")).add(ru("alt")).add(function(){return t=>{t.on("attribute:srcset:image",e)};function e(e,t,n){if(!n.consumable.consume(t.item,e.name))return;const r=n.writer,o=nu(n.mapper.toViewElement(t.item));if(null===t.attributeNewValue){const e=t.attributeOldValue;e.data&&(r.removeAttribute("srcset",o),r.removeAttribute("sizes",o),e.width&&r.removeAttribute("width",o))}else{const e=t.attributeNewValue;e.data&&(r.setAttribute("srcset",e.data,o),r.setAttribute("sizes","100vw",o),e.width&&r.setAttribute("width",e.width,o))}}}()),r.for("upcast").elementToElement({view:{name:"img",attributes:{src:!0}},model:(e,t)=>t.createElement("image",{src:e.getAttribute("src")})}).attributeToAttribute({view:{name:"img",key:"alt"},model:"alt"}).attributeToAttribute({view:{name:"img",key:"srcset"},model:{key:"srcset",value:e=>{const t={data:e.getAttribute("srcset")};return e.hasAttribute("width")&&(t.width=e.getAttribute("width")),t}}}).add(function(){return t=>{t.on("element:figure",e)};function e(e,t,n){if(!n.consumable.test(t.viewItem,{name:!0,classes:"image"}))return;const r=nu(t.viewItem);if(!r||!r.hasAttribute("src")||!n.consumable.test(r,{name:!0}))return;const o=n.convertItem(r,t.modelCursor),i=Ic(o.modelRange.getItems());i&&(n.convertChildren(t.viewItem,n.writer.createPositionAt(i,0)),t.modelRange=o.modelRange,t.modelCursor=o.modelCursor)}}()),e.commands.add("imageInsert",new ou(e))}}function au(e){const t=e.createEmptyElement("img"),n=e.createContainerElement("figure",{class:"image"});return e.insert(e.createPositionAt(n,0),t),n}function su(e,t,n){return n.createRange(lu(e,t,!0,n),lu(e,t,!1,n))}function lu(e,t,n,r){let o=e.textNode||(n?e.nodeBefore:e.nodeAfter),i=null;for(;o&&o.getAttribute("linkHref")==t;)i=o,o=n?o.previousSibling:o.nextSibling;return i?r.createPositionAt(i,n?"before":"after"):e}class cu extends El{constructor(e){super(e),this.manualDecorators=new jt}restoreManualDecoratorStates(){for(const e of this.manualDecorators)e.value=this._getDecoratorStateFromModel(e.id)}refresh(){const e=this.editor.model,t=e.document;this.value=t.selection.getAttribute("linkHref");for(const n of this.manualDecorators)n.value=this._getDecoratorStateFromModel(n.id);this.isEnabled=e.schema.checkAttributeInSelection(t.selection,"linkHref")}execute(e,t={}){const n=this.editor.model,r=n.document.selection,o=[],i=[];for(const a in t)t[a]?o.push(a):i.push(a);n.change(t=>{if(r.isCollapsed){const a=r.getFirstPosition();if(r.hasAttribute("linkHref")){const s=su(a,r.getAttribute("linkHref"),n);t.setAttribute("linkHref",e,s),o.forEach(e=>{t.setAttribute(e,!0,s)}),i.forEach(e=>{t.removeAttribute(e,s)}),t.setSelection(s)}else if(""!==e){const i=Vt(r.getAttributes());i.set("linkHref",e),o.forEach(e=>{i.set(e,!0)});const s=t.createText(e,i);n.insertContent(s,a),t.setSelection(t.createRangeOn(s))}}else{const a=n.schema.getValidRanges(r.getRanges(),"linkHref");for(const n of a)t.setAttribute("linkHref",e,n),o.forEach(e=>{t.setAttribute(e,!0,n)}),i.forEach(e=>{t.removeAttribute(e,n)})}})}_getDecoratorStateFromModel(e){return this.editor.model.document.selection.getAttribute(e)||!1}}class uu extends El{refresh(){this.isEnabled=this.editor.model.document.selection.hasAttribute("linkHref")}execute(){const e=this.editor,t=this.editor.model,n=t.document.selection,r=e.commands.get("link");t.change(e=>{const o=n.isCollapsed?[su(n.getFirstPosition(),n.getAttribute("linkHref"),t)]:n.getRanges();for(const t of o)if(e.removeAttribute("linkHref",t),r)for(const n of r.manualDecorators)e.removeAttribute(n.id,t)})}}var du=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]"),pu=function(e){return du.test(e)},fu="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",hu="\\ud83c[\\udffb-\\udfff]",mu="[^\\ud800-\\udfff]",gu="(?:\\ud83c[\\udde6-\\uddff]){2}",bu="[\\ud800-\\udbff][\\udc00-\\udfff]",vu="(?:"+fu+"|"+hu+")?",yu="[\\ufe0e\\ufe0f]?"+vu+"(?:\\u200d(?:"+[mu,gu,bu].join("|")+")[\\ufe0e\\ufe0f]?"+vu+")*",ku="(?:"+[mu+fu+"?",fu,gu,bu,"[\\ud800-\\udfff]"].join("|")+")",_u=RegExp(hu+"(?="+hu+")|"+ku+yu,"g"),wu=function(e){e=rn(e);var t=pu(e)?function(e){return pu(e)?function(e){return e.match(_u)||[]}(e):function(e){return e.split("")}(e)}(e):void 0,n=t?t[0]:e.charAt(0),r=t?function(e,t,n){var r=e.length;return cn(e,1,n=void 0===n?r:n)}(t).join(""):e.slice(1);return n.toUpperCase()+r};const Cu=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,Su=/^(?:(?:https?|ftps?|mailto):|[^a-z]|[a-z+.-]+(?:[^a-z+.:-]|$))/i;function Pu(e,t){const n=t.createAttributeElement("a",{href:e},{priority:5});return t.setCustomProperty("link",!0,n),n}function Eu(e){return function(e){return e.replace(Cu,"").match(Su)}(e=String(e))?e:"#"}class xu{constructor(){this._definitions=new Set}get length(){return this._definitions.size}add(e){Array.isArray(e)?e.forEach(e=>this._definitions.add(e)):this._definitions.add(e)}getDispatcher(){return e=>{e.on("attribute:linkHref",(e,t,n)=>{if(!n.consumable.test(t.item,"attribute:linkHref"))return;const r=n.writer,o=r.document.selection;for(const i of this._definitions){const e=r.createAttributeElement("a",i.attributes,{priority:5});r.setCustomProperty("link",!0,e),i.callback(t.attributeNewValue)?t.item.is("selection")?r.wrap(o.getFirstRange(),e):r.wrap(n.mapper.toViewRange(t.range),e):r.unwrap(n.mapper.toViewRange(t.range),e)}},{priority:"high"})}}}class Ou{constructor({id:e,label:t,attributes:n}){this.id=e,this.set("value"),this.label=t,this.attributes=n}}At(Ou,Rn);class Tu{constructor(e,t,n){this.model=e,this.attribute=n,this._modelSelection=e.document.selection,this._overrideUid=null,this._isNextGravityRestorationSkipped=!1,t.listenTo(this._modelSelection,"change:range",(e,t)=>{this._isNextGravityRestorationSkipped?this._isNextGravityRestorationSkipped=!1:this._isGravityOverridden&&(!t.directChange&&Mu(this._modelSelection.getFirstPosition(),n)||this._restoreGravity())})}handleForwardMovement(e,t){const n=this.attribute;if(!(this._isGravityOverridden||e.isAtStart&&this._hasSelectionAttribute))return Iu(e,n)&&this._hasSelectionAttribute?(this._preventCaretMovement(t),this._removeSelectionAttribute(),!0):Au(e,n)||ju(e,n)&&this._hasSelectionAttribute?(this._preventCaretMovement(t),this._overrideGravity(),!0):void 0}handleBackwardMovement(e,t){const n=this.attribute;return this._isGravityOverridden?Iu(e,n)&&this._hasSelectionAttribute?(this._preventCaretMovement(t),this._restoreGravity(),this._removeSelectionAttribute(),!0):(this._preventCaretMovement(t),this._restoreGravity(),e.isAtStart&&this._removeSelectionAttribute(),!0):Iu(e,n)&&!this._hasSelectionAttribute?(this._preventCaretMovement(t),this._setSelectionAttributeFromTheNodeBefore(e),!0):e.isAtEnd&&ju(e,n)?this._hasSelectionAttribute?void(Nu(e,n)&&(this._skipNextAutomaticGravityRestoration(),this._overrideGravity())):(this._preventCaretMovement(t),this._setSelectionAttributeFromTheNodeBefore(e),!0):e.isAtStart?this._hasSelectionAttribute?(this._removeSelectionAttribute(),this._preventCaretMovement(t),!0):void 0:void(Nu(e,n)&&(this._skipNextAutomaticGravityRestoration(),this._overrideGravity()))}get _isGravityOverridden(){return!!this._overrideUid}get _hasSelectionAttribute(){return this._modelSelection.hasAttribute(this.attribute)}_overrideGravity(){this._overrideUid=this.model.change(e=>e.overrideSelectionGravity())}_restoreGravity(){this.model.change(e=>{e.restoreSelectionGravity(this._overrideUid),this._overrideUid=null})}_preventCaretMovement(e){e.preventDefault()}_removeSelectionAttribute(){this.model.change(e=>{e.removeSelectionAttribute(this.attribute)})}_setSelectionAttributeFromTheNodeBefore(e){const t=this.attribute;this.model.change(n=>{n.setSelectionAttribute(this.attribute,e.nodeBefore.getAttribute(t))})}_skipNextAutomaticGravityRestoration(){this._isNextGravityRestorationSkipped=!0}}function Mu(e,t){return Au(e,t)||ju(e,t)}function Au(e,t){const{nodeBefore:n,nodeAfter:r}=e,o=!!n&&n.hasAttribute(t);return!!r&&r.hasAttribute(t)&&(!o||n.getAttribute(t)!==r.getAttribute(t))}function ju(e,t){const{nodeBefore:n,nodeAfter:r}=e,o=!!n&&n.hasAttribute(t),i=!!r&&r.hasAttribute(t);return o&&(!i||n.getAttribute(t)!==r.getAttribute(t))}function Iu(e,t){const{nodeBefore:n,nodeAfter:r}=e,o=!!n&&n.hasAttribute(t);if(r&&r.hasAttribute(t)&&o)return r.getAttribute(t)!==n.getAttribute(t)}function Nu(e,t){return Mu(e.getShiftedBy(-1),t)}n(45);const Ru=/^(https?:)?\/\//;class Du extends kl{static get pluginName(){return"LinkEditing"}constructor(e){super(e),e.config.define("link",{addTargetToExternalLinks:!1})}init(){const e=this.editor,t=e.locale;e.model.schema.extend("$text",{allowAttributes:"linkHref"}),e.conversion.for("dataDowncast").attributeToElement({model:"linkHref",view:Pu}),e.conversion.for("editingDowncast").attributeToElement({model:"linkHref",view:(e,t)=>Pu(Eu(e),t)}),e.conversion.for("upcast").elementToAttribute({view:{name:"a",attributes:{href:!0}},model:{key:"linkHref",value:e=>e.getAttribute("href")}}),e.commands.add("link",new cu(e)),e.commands.add("unlink",new uu(e));const n=function(e,t){const n={"Open in a new tab":e("av"),Downloadable:e("aw")};return t.forEach(e=>(e.label&&n[e.label]&&(e.label=n[e.label]),e)),t}(e.t,function(e){const t=[];if(e)for(const[n,r]of Object.entries(e)){const e=Object.assign({},r,{id:`link${wu(n)}`});t.push(e)}return t}(e.config.get("link.decorators")));this._enableAutomaticDecorators(n.filter(e=>"automatic"===e.mode)),this._enableManualDecorators(n.filter(e=>"manual"===e.mode)),function({view:e,model:t,emitter:n,attribute:r,locale:o}){const i=new Tu(t,n,r),a=t.document.selection;n.listenTo(e.document,"keydown",(e,t)=>{if(!a.isCollapsed)return;if(t.shiftKey||t.altKey||t.ctrlKey)return;const n=t.keyCode==sr.arrowright,r=t.keyCode==sr.arrowleft;if(!n&&!r)return;const s=a.getFirstPosition(),l=o.contentLanguageDirection;let c;(c="ltr"===l&&n||"rtl"===l&&r?i.handleForwardMovement(s,t):i.handleBackwardMovement(s,t))&&e.stop()},{priority:kt.get("high")+1})}({view:e.editing.view,model:e.model,emitter:this,attribute:"linkHref",locale:t}),this._setupLinkHighlight()}_enableAutomaticDecorators(e){const t=this.editor,n=new xu;t.config.get("link.addTargetToExternalLinks")&&n.add({id:"linkIsExternal",mode:"automatic",callback:e=>Ru.test(e),attributes:{target:"_blank",rel:"noopener noreferrer"}}),n.add(e),n.length&&t.conversion.for("downcast").add(n.getDispatcher())}_enableManualDecorators(e){if(!e.length)return;const t=this.editor,n=t.commands.get("link").manualDecorators;e.forEach(e=>{t.model.schema.extend("$text",{allowAttributes:e.id}),n.add(new Ou(e)),t.conversion.for("downcast").attributeToElement({model:e.id,view:(t,r)=>{if(t){const t=n.get(e.id).attributes,o=r.createAttributeElement("a",t,{priority:5});return r.setCustomProperty("link",!0,o),o}}}),t.conversion.for("upcast").elementToAttribute({view:{name:"a",attributes:n.get(e.id).attributes},model:{key:e.id}})})}_setupLinkHighlight(){const e=this.editor,t=e.editing.view,n=new Set;t.document.registerPostFixer(t=>{const r=e.model.document.selection;let o=!1;if(r.hasAttribute("linkHref")){const i=su(r.getFirstPosition(),r.getAttribute("linkHref"),e.model),a=e.editing.mapper.toViewRange(i);for(const e of a.getItems())e.is("a")&&!e.hasClass("ck-link_selected")&&(t.addClass("ck-link_selected",e),n.add(e),o=!0)}return o}),e.conversion.for("editingDowncast").add(e=>{function r(){t.change(e=>{for(const t of n.values())e.removeClass("ck-link_selected",t),n.delete(t)})}e.on("insert",r,{priority:"highest"}),e.on("remove",r,{priority:"highest"}),e.on("attribute",r,{priority:"highest"}),e.on("selection",r,{priority:"highest"})})}}class Lu extends gc{static get pluginName(){return"Notification"}init(){this.on("show:warning",(e,t)=>{window.alert(t.message)},{priority:"lowest"})}showSuccess(e,t={}){this._showNotification({message:e,type:"success",namespace:t.namespace,title:t.title})}showInfo(e,t={}){this._showNotification({message:e,type:"info",namespace:t.namespace,title:t.title})}showWarning(e,t={}){this._showNotification({message:e,type:"warning",namespace:t.namespace,title:t.title})}_showNotification(e){const t=`show:${e.type}`+(e.namespace?`:${e.namespace}`:"");this.fire(t,{message:e.message,type:e.type,title:e.title||""})}}class Bu extends El{constructor(e){super(e),this.stopListening(this.editor.model.document,"change"),this.listenTo(this.editor.model.document,"change",()=>this.refresh(),{priority:"low"})}refresh(){const e=this.editor.commands.get("imageInsert"),t=this.editor.commands.get("link");this.isEnabled=e.isEnabled||t.isEnabled}execute(){const e=this.editor,t=this.editor.config.get("ckfinder.openerMethod")||"modal";if("popup"!=t&&"modal"!=t)throw new _t.b('ckfinder-unknown-openerMethod: The openerMethod config option must by "popup" or "modal".',e);const n=this.editor.config.get("ckfinder.options")||{};n.chooseFiles=!0;const r=n.onInit;n.language||(n.language=e.locale.uiLanguage),n.onInit=(t=>{r&&r(t),t.on("files:choose",n=>{const r=n.data.files.toArray(),o=r.filter(e=>!e.isImage()),i=r.filter(e=>e.isImage());for(const t of o)e.execute("link",t.getUrl());const a=[];for(const e of i){const n=e.getUrl();a.push(n||t.request("file:getProxyUrl",{file:e}))}a.length&&Fu(e,a)}),t.on("file:choose:resizedImage",t=>{const n=t.data.resizedUrl;if(n)Fu(e,[n]);else{const t=e.plugins.get("Notification"),n=e.locale.t;t.showWarning(n("bz"),{title:n("ca"),namespace:"ckfinder"})}})}),window.CKFinder[t](n)}}function Fu(e,t){if(e.commands.get("imageInsert").isEnabled)e.execute("imageInsert",{source:t});else{const t=e.plugins.get("Notification"),n=e.locale.t;t.showWarning(n("cb"),{title:n("cc"),namespace:"ckfinder"})}}class Uu extends kl{static get pluginName(){return"CKFinderEditing"}static get requires(){return[Lu,iu,Du]}init(){const e=this.editor;e.commands.add("ckfinder",new Bu(e))}}const qu=/^data:(\S*?);base64,/;class zu{constructor(e,t,n){if(!e)throw new _t.b("fileuploader-missing-file: File must be provided as the first argument",null);if(!t)throw new _t.b("fileuploader-missing-token: Token must be provided as the second argument.",null);if(!n)throw new _t.b("fileuploader-missing-api-address: Api address must be provided as the third argument.",null);this.file=function(e){if("string"!=typeof e)return!1;const t=e.match(qu);return!(!t||!t.length)}(e)?function(e,t=512){try{const n=e.match(qu)[1],r=atob(e.replace(qu,"")),o=[];for(let e=0;e<r.length;e+=t){const n=r.slice(e,e+t),i=new Array(n.length);for(let e=0;e<n.length;e++)i[e]=n.charCodeAt(e);o.push(new Uint8Array(i))}return new Blob(o,{type:n})}catch(e){throw new _t.b("fileuploader-decoding-image-data-error: Problem with decoding Base64 image data.",null)}}(e):e,this._token=t,this._apiAddress=n}onProgress(e){return this.on("progress",(t,n)=>e(n)),this}onError(e){return this.once("error",(t,n)=>e(n)),this}abort(){this.xhr.abort()}send(){return this._prepareRequest(),this._attachXHRListeners(),this._sendRequest()}_prepareRequest(){const e=new XMLHttpRequest;e.open("POST",this._apiAddress),e.setRequestHeader("Authorization",this._token.value),e.responseType="json",this.xhr=e}_attachXHRListeners(){const e=this,t=this.xhr;function n(t){return()=>e.fire("error",t)}t.addEventListener("error",n("Network Error")),t.addEventListener("abort",n("Abort")),t.upload&&t.upload.addEventListener("progress",e=>{e.lengthComputable&&this.fire("progress",{total:e.total,uploaded:e.loaded})}),t.addEventListener("load",()=>{const e=t.status,n=t.response;if(e<200||e>299)return this.fire("error",n.message||n.error)})}_sendRequest(){const e=new FormData,t=this.xhr;return e.append("file",this.file),new Promise((n,r)=>{t.addEventListener("load",()=>{const e=t.status,o=t.response;return e<200||e>299?o.message?r(new _t.b("fileuploader-uploading-data-failed: Uploading file failed.",this,{message:o.message})):r(o.error):n(o)}),t.addEventListener("error",()=>r(new Error("Network Error"))),t.addEventListener("abort",()=>r(new Error("Abort"))),t.send(e)})}}At(zu,St);const Hu={refreshInterval:36e5,autoRefresh:!0};class Vu{constructor(e,t=Hu){if(!e)throw new _t.b("token-missing-token-url: A `tokenUrl` must be provided as the first constructor argument.",this);this.set("value",t.initValue),this._refresh="function"==typeof e?e:()=>{return t=e,new Promise((e,n)=>{const r=new XMLHttpRequest;r.open("GET",t),r.addEventListener("load",()=>{const t=r.status,o=r.response;return t<200||t>299?n(new _t.b("token-cannot-download-new-token: Cannot download new token from the provided url.",null)):e(o)}),r.addEventListener("error",()=>n(new Error("Network Error"))),r.addEventListener("abort",()=>n(new Error("Abort"))),r.send()});var t},this._options=Object.assign({},Hu,t)}init(){return new Promise((e,t)=>{this._options.autoRefresh&&this._startRefreshing(),this.value?e(this):this._refreshToken().then(e).catch(t)})}_refreshToken(){return this._refresh().then(e=>this.set("value",e)).then(()=>this)}destroy(){this._stopRefreshing()}_startRefreshing(){this._refreshInterval=setInterval(()=>this._refreshToken(),this._options.refreshInterval)}_stopRefreshing(){clearInterval(this._refreshInterval)}static create(e,t=Hu){return new Vu(e,t).init()}}At(Vu,Rn);var Wu=Vu;class Gu extends gc{static get pluginName(){return"CloudServices"}init(){const e=this.context.config.get("cloudServices")||{};for(const t in e)this[t]=e[t];if(this.tokenUrl)return this.token=new Gu.Token(this.tokenUrl),this.token.init();this.token=null}}Gu.Token=Wu;class Yu extends kl{static get requires(){return[yc,Gu]}init(){const e=this.editor,t=e.plugins.get(Gu),n=t.token,r=t.uploadUrl;n&&(this._uploadGateway=new Yu._UploadGateway(n,r),e.plugins.get(yc).createUploadAdapter=(e=>new Ku(this._uploadGateway,e)))}}class Ku{constructor(e,t){this.uploadGateway=e,this.loader=t}upload(){return this.loader.file.then(e=>(this.fileUploader=this.uploadGateway.upload(e),this.fileUploader.on("progress",(e,t)=>{this.loader.uploadTotal=t.total,this.loader.uploaded=t.uploaded}),this.fileUploader.send()))}abort(){this.fileUploader.abort()}}Yu._UploadGateway=class{constructor(e,t){if(!e)throw new _t.b("uploadgateway-missing-token: Token must be provided.",null);if(!t)throw new _t.b("uploadgateway-missing-api-address: Api address must be provided.",null);this._token=e,this._apiAddress=t}upload(e){return new zu(e,this._token,this._apiAddress)}};class $u extends vo{constructor(e){super(e),this.domEventType="mousedown"}onDomEvent(e){this.fire(e.type,e)}}n(47);const Qu=cr("Ctrl+A");class Ju extends kl{static get pluginName(){return"Widget"}init(){const e=this.editor.editing.view,t=e.document;this._previouslySelected=new Set,this.editor.editing.downcastDispatcher.on("selection",(e,t,n)=>{this._clearPreviouslySelectedWidgets(n.writer);const r=n.writer,o=r.document.selection,i=o.getSelectedElement();let a=null;for(const s of o.getRanges())for(const e of s){const t=e.item;Gc(t)&&!Xu(t,a)&&(r.addClass("ck-widget_selected",t),this._previouslySelected.add(t),a=t,t==i&&r.setSelection(o.getRanges(),{fake:!0,label:Kc(i)}))}},{priority:"low"}),e.addObserver($u),this.listenTo(t,"mousedown",(...e)=>this._onMousedown(...e)),this.listenTo(t,"keydown",(...e)=>this._onKeydown(...e),{priority:"high"}),this.listenTo(t,"delete",(e,t)=>{this._handleDelete("forward"==t.direction)&&(t.preventDefault(),e.stop())},{priority:"high"})}_onMousedown(e,t){const n=this.editor,r=n.editing.view,o=r.document;let i=t.target;if(function(e){for(;e;){if(e.is("editableElement")&&!e.is("rootElement"))return!0;if(Gc(e))return!1;e=e.parent}return!1}(i)){if(or.isSafari&&t.domEvent.detail>=3){const e=n.editing.mapper.toModelElement(i);this.editor.model.change(n=>{t.preventDefault(),n.setSelection(e,"in")})}return}if(!Gc(i)&&!(i=i.findAncestor(Gc)))return;t.preventDefault(),o.isFocused||r.focus();const a=n.editing.mapper.toModelElement(i);this._setSelectionOverElement(a)}_onKeydown(e,t){const n=t.keyCode,r="ltr"===this.editor.locale.contentLanguageDirection,o=n==sr.arrowdown||n==sr[r?"arrowright":"arrowleft"];let i=!1;!function(e){return e==sr.arrowright||e==sr.arrowleft||e==sr.arrowup||e==sr.arrowdown}(n)?lr(t)!=Qu?n===sr.enter&&(i=this._handleEnterKey(t.shiftKey)):i=this._selectAllNestedEditableContent()||this._selectAllContent():i=this._handleArrowKeys(o),i&&(t.preventDefault(),e.stop())}_handleDelete(e){if(this.editor.isReadOnly)return;const t=this.editor.model.document.selection;if(!t.isCollapsed)return;const n=this._getObjectElementNextToSelection(e);return n?(this.editor.model.change(e=>{let r=t.anchor.parent;for(;r.isEmpty;){const t=r;r=t.parent,e.remove(t)}this._setSelectionOverElement(n)}),!0):void 0}_handleArrowKeys(e){const t=this.editor.model,n=t.schema,r=t.document.selection,o=r.getSelectedElement();if(o&&n.isObject(o)){const o=e?r.getLastPosition():r.getFirstPosition(),i=n.getNearestSelectionRange(o,e?"forward":"backward");return i&&t.change(e=>{e.setSelection(i)}),!0}if(!r.isCollapsed)return;const i=this._getObjectElementNextToSelection(e);return i&&n.isObject(i)?(this._setSelectionOverElement(i),!0):void 0}_handleEnterKey(e){const t=this.editor.model,n=t.document.selection.getSelectedElement();if(r=n,o=t.schema,r&&o.isObject(r)&&!o.isInline(r))return t.change(r=>{let o=r.createPositionAt(n,e?"before":"after");const i=r.createElement("paragraph");if(t.schema.isBlock(n.parent)){const e=t.schema.findAllowedParent(o,i);o=r.split(o,e).position}r.insert(i,o),r.setSelection(i,"in")}),!0;var r,o}_selectAllNestedEditableContent(){const e=this.editor.model,t=e.document.selection,n=e.schema.getLimitElement(t);return t.getFirstRange().root!=n&&(e.change(e=>{e.setSelection(e.createRangeIn(n))}),!0)}_selectAllContent(){const e=this.editor.model,t=this.editor.editing,n=t.view.document.selection.getSelectedElement();if(n&&Gc(n)){const r=t.mapper.toModelElement(n.parent);return e.change(e=>{e.setSelection(e.createRangeIn(r))}),!0}return!1}_setSelectionOverElement(e){this.editor.model.change(t=>{t.setSelection(t.createRangeOn(e))})}_getObjectElementNextToSelection(e){const t=this.editor.model,n=t.schema,r=t.document.selection,o=t.createSelection(r);t.modifySelection(o,{direction:e?"forward":"backward"});const i=e?o.focus.nodeBefore:o.focus.nodeAfter;return i&&n.isObject(i)?i:null}_clearPreviouslySelectedWidgets(e){for(const t of this._previouslySelected)e.removeClass("ck-widget_selected",t);this._previouslySelected.clear()}}function Xu(e,t){return!!t&&Array.from(e.getAncestors()).includes(t)}class Zu extends El{refresh(){const e=this.editor.model.document.selection.getSelectedElement();this.isEnabled=Zc(e),Zc(e)&&e.hasAttribute("alt")?this.value=e.getAttribute("alt"):this.value=!1}execute(e){const t=this.editor.model,n=t.document.selection.getSelectedElement();t.change(t=>{t.setAttribute("alt",e.newValue,n)})}}class ed extends kl{static get pluginName(){return"ImageTextAlternativeEditing"}init(){this.editor.commands.add("imageTextAlternative",new Zu(this.editor))}}n(49);class td extends Ds{constructor(e,t){super(e);const n=`ck-input-${yt()}`,r=`ck-status-${yt()}`;this.set("label"),this.set("value"),this.set("isReadOnly",!1),this.set("errorText",null),this.set("infoText",null),this.labelView=this._createLabelView(n),this.inputView=this._createInputView(t,n,r),this.statusView=this._createStatusView(r),this.bind("_statusText").to(this,"errorText",this,"infoText",(e,t)=>e||t);const o=this.bindTemplate;this.setTemplate({tag:"div",attributes:{class:["ck","ck-labeled-input",o.if("isReadOnly","ck-disabled")]},children:[this.labelView,this.inputView,this.statusView]})}_createLabelView(e){const t=new Us(this.locale);return t.for=e,t.bind("text").to(this,"label"),t}_createInputView(e,t,n){const r=new e(this.locale,n);return r.id=t,r.ariaDescribedById=n,r.bind("value").to(this),r.bind("isReadOnly").to(this),r.bind("hasError").to(this,"errorText",e=>!!e),r.on("input",()=>{this.errorText=null}),r}_createStatusView(e){const t=new Ds(this.locale),n=this.bindTemplate;return t.setTemplate({tag:"div",attributes:{class:["ck","ck-labeled-input__status",n.if("errorText","ck-labeled-input__status_error"),n.if("_statusText","ck-hidden",e=>!e)],id:e,role:n.if("errorText","alert")},children:[{text:n.to("_statusText")}]}),t}select(){this.inputView.select()}focus(){this.inputView.focus()}}n(51);class nd extends Ds{constructor(e){super(e),this.set("value"),this.set("id"),this.set("placeholder"),this.set("isReadOnly",!1),this.set("hasError",!1),this.set("ariaDescribedById");const t=this.bindTemplate;this.setTemplate({tag:"input",attributes:{type:"text",class:["ck","ck-input","ck-input-text",t.if("hasError","ck-error")],id:t.to("id"),placeholder:t.to("placeholder"),readonly:t.to("isReadOnly"),"aria-invalid":t.if("hasError",!0),"aria-describedby":t.to("ariaDescribedById")},on:{input:t.to("input")}})}render(){super.render();const e=e=>{this.element.value=e||0===e?e:""};e(this.value),this.on("change:value",(t,n,r)=>{e(r)})}select(){this.element.select()}focus(){this.element.focus()}}function rd({view:e}){e.listenTo(e.element,"submit",(t,n)=>{n.preventDefault(),e.fire("submit")},{useCapture:!0})}var od='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.972 16.615a.997.997 0 0 1-.744-.292l-4.596-4.596a1 1 0 1 1 1.414-1.414l3.926 3.926 9.937-9.937a1 1 0 0 1 1.414 1.415L7.717 16.323a.997.997 0 0 1-.745.292z"/></svg>',id='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.591 10.177l4.243 4.242a1 1 0 0 1-1.415 1.415l-4.242-4.243-4.243 4.243a1 1 0 0 1-1.414-1.415l4.243-4.242L4.52 5.934A1 1 0 0 1 5.934 4.52l4.243 4.243 4.242-4.243a1 1 0 1 1 1.415 1.414l-4.243 4.243z"/></svg>';n(53);class ad extends Ds{constructor(e){super(e);const t=this.locale.t;this.focusTracker=new cs,this.keystrokes=new es,this.labeledInput=this._createLabeledInputView(),this.saveButtonView=this._createButton(t("bb"),od,"ck-button-save"),this.saveButtonView.type="submit",this.cancelButtonView=this._createButton(t("bc"),id,"ck-button-cancel","cancel"),this._focusables=new bs,this._focusCycler=new Ys({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"form",attributes:{class:["ck","ck-text-alternative-form"],tabindex:"-1"},children:[this.labeledInput,this.saveButtonView,this.cancelButtonView]})}render(){super.render(),this.keystrokes.listenTo(this.element),rd({view:this}),[this.labeledInput,this.saveButtonView,this.cancelButtonView].forEach(e=>{this._focusables.add(e),this.focusTracker.add(e.element)})}_createButton(e,t,n,r){const o=new il(this.locale);return o.set({label:e,icon:t,tooltip:!0}),o.extendTemplate({attributes:{class:n}}),r&&o.delegate("execute").to(this,r),o}_createLabeledInputView(){const e=this.locale.t,t=new td(this.locale,nd);return t.label=e("cd"),t.inputView.placeholder=e("cd"),t}}n(55);const sd=Vs("px"),ld=Hr.document.body;class cd extends Ds{constructor(e){super(e);const t=this.bindTemplate;this.set("top",0),this.set("left",0),this.set("position","arrow_nw"),this.set("isVisible",!1),this.set("withArrow",!0),this.set("class"),this.content=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-balloon-panel",t.to("position",e=>`ck-balloon-panel_${e}`),t.if("isVisible","ck-balloon-panel_visible"),t.if("withArrow","ck-balloon-panel_with-arrow"),t.to("class")],style:{top:t.to("top",sd),left:t.to("left",sd)}},children:this.content})}show(){this.isVisible=!0}hide(){this.isVisible=!1}attachTo(e){this.show();const t=cd.defaultPositions,n=Object.assign({},{element:this.element,positions:[t.southArrowNorth,t.southArrowNorthMiddleWest,t.southArrowNorthMiddleEast,t.southArrowNorthWest,t.southArrowNorthEast,t.northArrowSouth,t.northArrowSouthMiddleWest,t.northArrowSouthMiddleEast,t.northArrowSouthWest,t.northArrowSouthEast],limiter:ld,fitInViewport:!0},e),r=cd._getOptimalPosition(n),o=parseInt(r.left),i=parseInt(r.top),a=r.name;Object.assign(this,{top:i,left:o,position:a})}pin(e){this.unpin(),this._pinWhenIsVisibleCallback=(()=>{this.isVisible?this._startPinning(e):this._stopPinning()}),this._startPinning(e),this.listenTo(this,"change:isVisible",this._pinWhenIsVisibleCallback)}unpin(){this._pinWhenIsVisibleCallback&&(this._stopPinning(),this.stopListening(this,"change:isVisible",this._pinWhenIsVisibleCallback),this._pinWhenIsVisibleCallback=null,this.hide())}_startPinning(e){this.attachTo(e);const t=ud(e.target),n=e.limiter?ud(e.limiter):ld;this.listenTo(Hr.document,"scroll",(r,o)=>{const i=o.target,a=t&&i.contains(t),s=n&&i.contains(n);!a&&!s&&t&&n||this.attachTo(e)},{useCapture:!0}),this.listenTo(Hr.window,"resize",()=>{this.attachTo(e)})}_stopPinning(){this.stopListening(Hr.document,"scroll"),this.stopListening(Hr.window,"resize")}}function ud(e){return pt(e)?e:Ro(e)?e.commonAncestorContainer:"function"==typeof e?ud(e()):null}function dd(e,t){return e.top-t.height-cd.arrowVerticalOffset}function pd(e){return e.bottom+cd.arrowVerticalOffset}cd.arrowHorizontalOffset=25,cd.arrowVerticalOffset=10,cd._getOptimalPosition=Zs,cd.defaultPositions={northWestArrowSouthWest:(e,t)=>({top:dd(e,t),left:e.left-cd.arrowHorizontalOffset,name:"arrow_sw"}),northWestArrowSouthMiddleWest:(e,t)=>({top:dd(e,t),left:e.left-.25*t.width-cd.arrowHorizontalOffset,name:"arrow_smw"}),northWestArrowSouth:(e,t)=>({top:dd(e,t),left:e.left-t.width/2,name:"arrow_s"}),northWestArrowSouthMiddleEast:(e,t)=>({top:dd(e,t),left:e.left-.75*t.width+cd.arrowHorizontalOffset,name:"arrow_sme"}),northWestArrowSouthEast:(e,t)=>({top:dd(e,t),left:e.left-t.width+cd.arrowHorizontalOffset,name:"arrow_se"}),northArrowSouthWest:(e,t)=>({top:dd(e,t),left:e.left+e.width/2-cd.arrowHorizontalOffset,name:"arrow_sw"}),northArrowSouthMiddleWest:(e,t)=>({top:dd(e,t),left:e.left+e.width/2-.25*t.width-cd.arrowHorizontalOffset,name:"arrow_smw"}),northArrowSouth:(e,t)=>({top:dd(e,t),left:e.left+e.width/2-t.width/2,name:"arrow_s"}),northArrowSouthMiddleEast:(e,t)=>({top:dd(e,t),left:e.left+e.width/2-.75*t.width+cd.arrowHorizontalOffset,name:"arrow_sme"}),northArrowSouthEast:(e,t)=>({top:dd(e,t),left:e.left+e.width/2-t.width+cd.arrowHorizontalOffset,name:"arrow_se"}),northEastArrowSouthWest:(e,t)=>({top:dd(e,t),left:e.right-cd.arrowHorizontalOffset,name:"arrow_sw"}),northEastArrowSouthMiddleWest:(e,t)=>({top:dd(e,t),left:e.right-.25*t.width-cd.arrowHorizontalOffset,name:"arrow_smw"}),northEastArrowSouth:(e,t)=>({top:dd(e,t),left:e.right-t.width/2,name:"arrow_s"}),northEastArrowSouthMiddleEast:(e,t)=>({top:dd(e,t),left:e.right-.75*t.width+cd.arrowHorizontalOffset,name:"arrow_sme"}),northEastArrowSouthEast:(e,t)=>({top:dd(e,t),left:e.right-t.width+cd.arrowHorizontalOffset,name:"arrow_se"}),southWestArrowNorthWest:(e,t)=>({top:pd(e),left:e.left-cd.arrowHorizontalOffset,name:"arrow_nw"}),southWestArrowNorthMiddleWest:(e,t)=>({top:pd(e),left:e.left-.25*t.width-cd.arrowHorizontalOffset,name:"arrow_nmw"}),southWestArrowNorth:(e,t)=>({top:pd(e),left:e.left-t.width/2,name:"arrow_n"}),southWestArrowNorthMiddleEast:(e,t)=>({top:pd(e),left:e.left-.75*t.width+cd.arrowHorizontalOffset,name:"arrow_nme"}),southWestArrowNorthEast:(e,t)=>({top:pd(e),left:e.left-t.width+cd.arrowHorizontalOffset,name:"arrow_ne"}),southArrowNorthWest:(e,t)=>({top:pd(e),left:e.left+e.width/2-cd.arrowHorizontalOffset,name:"arrow_nw"}),southArrowNorthMiddleWest:(e,t)=>({top:pd(e),left:e.left+e.width/2-.25*t.width-cd.arrowHorizontalOffset,name:"arrow_nmw"}),southArrowNorth:(e,t)=>({top:pd(e),left:e.left+e.width/2-t.width/2,name:"arrow_n"}),southArrowNorthMiddleEast:(e,t)=>({top:pd(e),left:e.left+e.width/2-.75*t.width+cd.arrowHorizontalOffset,name:"arrow_nme"}),southArrowNorthEast:(e,t)=>({top:pd(e),left:e.left+e.width/2-t.width+cd.arrowHorizontalOffset,name:"arrow_ne"}),southEastArrowNorthWest:(e,t)=>({top:pd(e),left:e.right-cd.arrowHorizontalOffset,name:"arrow_nw"}),southEastArrowNorthMiddleWest:(e,t)=>({top:pd(e),left:e.right-.25*t.width-cd.arrowHorizontalOffset,name:"arrow_nmw"}),southEastArrowNorth:(e,t)=>({top:pd(e),left:e.right-t.width/2,name:"arrow_n"}),southEastArrowNorthMiddleEast:(e,t)=>({top:pd(e),left:e.right-.75*t.width+cd.arrowHorizontalOffset,name:"arrow_nme"}),southEastArrowNorthEast:(e,t)=>({top:pd(e),left:e.right-t.width+cd.arrowHorizontalOffset,name:"arrow_ne"})},n(57),n(59);const fd=Vs("px");class hd extends kl{static get pluginName(){return"ContextualBalloon"}constructor(e){super(e),this.positionLimiter=(()=>{const e=this.editor.editing.view,t=e.document.selection.editableElement;return t?e.domConverter.mapViewToDom(t.root):null}),this.set("visibleView",null),this.view=new cd(e.locale),e.ui.view.body.add(this.view),e.ui.focusTracker.add(this.view.element),this._viewToStack=new Map,this._idToStack=new Map,this.set("_numberOfStacks",0),this.set("_singleViewMode",!1),this._rotatorView=this._createRotatorView(),this._fakePanelsView=this._createFakePanelsView()}hasView(e){return Array.from(this._viewToStack.keys()).includes(e)}add(e){if(this.hasView(e.view))throw new _t.b("contextualballoon-add-view-exist: Cannot add configuration of the same view twice.",[this,e]);const t=e.stackId||"main";if(!this._idToStack.has(t))return this._idToStack.set(t,new Map([[e.view,e]])),this._viewToStack.set(e.view,this._idToStack.get(t)),this._numberOfStacks=this._idToStack.size,void(this._visibleStack&&!e.singleViewMode||this.showStack(t));const n=this._idToStack.get(t);e.singleViewMode&&this.showStack(t),n.set(e.view,e),this._viewToStack.set(e.view,n),n===this._visibleStack&&this._showView(e)}remove(e){if(!this.hasView(e))throw new _t.b("contextualballoon-remove-view-not-exist: Cannot remove the configuration of a non-existent view.",[this,e]);const t=this._viewToStack.get(e);this._singleViewMode&&this.visibleView===e&&(this._singleViewMode=!1),this.visibleView===e&&(1===t.size?this._idToStack.size>1?this._showNextStack():(this.view.hide(),this.visibleView=null,this._rotatorView.hideView()):this._showView(Array.from(t.values())[t.size-2])),1===t.size?(this._idToStack.delete(this._getStackId(t)),this._numberOfStacks=this._idToStack.size):t.delete(e),this._viewToStack.delete(e)}updatePosition(e){e&&(this._visibleStack.get(this.visibleView).position=e),this.view.pin(this._getBalloonPosition()),this._fakePanelsView.updatePosition()}showStack(e){this.visibleStack=e;const t=this._idToStack.get(e);if(!t)throw new _t.b("contextualballoon-showstack-stack-not-exist: Cannot show a stack that does not exist.",this);this._visibleStack!==t&&this._showView(Array.from(t.values()).pop())}get _visibleStack(){return this._viewToStack.get(this.visibleView)}_getStackId(e){return Array.from(this._idToStack.entries()).find(t=>t[1]===e)[0]}_showNextStack(){const e=Array.from(this._idToStack.values());let t=e.indexOf(this._visibleStack)+1;e[t]||(t=0),this.showStack(this._getStackId(e[t]))}_showPrevStack(){const e=Array.from(this._idToStack.values());let t=e.indexOf(this._visibleStack)-1;e[t]||(t=e.length-1),this.showStack(this._getStackId(e[t]))}_createRotatorView(){const e=new md(this.editor.locale),t=this.editor.locale.t;return this.view.content.add(e),e.bind("isNavigationVisible").to(this,"_numberOfStacks",this,"_singleViewMode",(e,t)=>!t&&e>1),e.on("change:isNavigationVisible",()=>this.updatePosition(),{priority:"low"}),e.bind("counter").to(this,"visibleView",this,"_numberOfStacks",(e,n)=>{if(n<2)return"";const r=Array.from(this._idToStack.values()).indexOf(this._visibleStack)+1;return t("bl",[r,n])}),e.buttonNextView.on("execute",()=>{e.focusTracker.isFocused&&this.editor.editing.view.focus(),this._showNextStack()}),e.buttonPrevView.on("execute",()=>{e.focusTracker.isFocused&&this.editor.editing.view.focus(),this._showPrevStack()}),e}_createFakePanelsView(){const e=new gd(this.editor.locale,this.view);return e.bind("numberOfPanels").to(this,"_numberOfStacks",this,"_singleViewMode",(e,t)=>!t&&e>=2?Math.min(e-1,2):0),e.listenTo(this.view,"change:top",()=>e.updatePosition()),e.listenTo(this.view,"change:left",()=>e.updatePosition()),this.editor.ui.view.body.add(e),e}_showView({view:e,balloonClassName:t="",withArrow:n=!0,singleViewMode:r=!1}){this.view.class=t,this.view.withArrow=n,this._rotatorView.showView(e),this.visibleView=e,this.view.pin(this._getBalloonPosition()),this._fakePanelsView.updatePosition(),r&&(this._singleViewMode=!0)}_getBalloonPosition(){let e=Array.from(this._visibleStack.values()).pop().position;return e&&!e.limiter&&(e=Object.assign({},e,{limiter:this.positionLimiter})),e}}class md extends Ds{constructor(e){super(e);const t=e.t,n=this.bindTemplate;this.set("isNavigationVisible",!0),this.focusTracker=new cs,this.buttonPrevView=this._createButtonView(t("bm"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.463 5.187a.888.888 0 1 1 1.254 1.255L9.16 10l3.557 3.557a.888.888 0 1 1-1.254 1.255L7.26 10.61a.888.888 0 0 1 .16-1.382l4.043-4.042z"/></svg>'),this.buttonNextView=this._createButtonView(t("bn"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M8.537 14.813a.888.888 0 1 1-1.254-1.255L10.84 10 7.283 6.442a.888.888 0 1 1 1.254-1.255L12.74 9.39a.888.888 0 0 1-.16 1.382l-4.043 4.042z"/></svg>'),this.content=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-balloon-rotator"],"z-index":"-1"},children:[{tag:"div",attributes:{class:["ck-balloon-rotator__navigation",n.to("isNavigationVisible",e=>e?"":"ck-hidden")]},children:[this.buttonPrevView,{tag:"span",attributes:{class:["ck-balloon-rotator__counter"]},children:[{text:n.to("counter")}]},this.buttonNextView]},{tag:"div",attributes:{class:"ck-balloon-rotator__content"},children:this.content}]})}render(){super.render(),this.focusTracker.add(this.element)}showView(e){this.hideView(),this.content.add(e)}hideView(){this.content.clear()}_createButtonView(e,t){const n=new il(this.locale);return n.set({label:e,icon:t,tooltip:!0}),n}}class gd extends Ds{constructor(e,t){super(e);const n=this.bindTemplate;this.set("top",0),this.set("left",0),this.set("height",0),this.set("width",0),this.set("numberOfPanels",0),this.content=this.createCollection(),this._balloonPanelView=t,this.setTemplate({tag:"div",attributes:{class:["ck-fake-panel",n.to("numberOfPanels",e=>e?"":"ck-hidden")],style:{top:n.to("top",fd),left:n.to("left",fd),width:n.to("width",fd),height:n.to("height",fd)}},children:this.content}),this.on("change:numberOfPanels",(e,t,n,r)=>{n>r?this._addPanels(n-r):this._removePanels(r-n),this.updatePosition()})}_addPanels(e){for(;e--;){const e=new Ds;e.setTemplate({tag:"div"}),this.content.add(e),this.registerChild(e)}}_removePanels(e){for(;e--;){const e=this.content.last;this.content.remove(e),this.deregisterChild(e),e.destroy()}}updatePosition(){if(this.numberOfPanels){const{top:e,left:t}=this._balloonPanelView,{width:n,height:r}=new Bo(this._balloonPanelView.element);Object.assign(this,{top:e,left:t,width:n,height:r})}}}function bd(e){const t=e.editing.view,n=cd.defaultPositions;return{target:t.domConverter.viewToDom(t.document.selection.getSelectedElement()),positions:[n.northArrowSouth,n.northArrowSouthWest,n.northArrowSouthEast,n.southArrowNorth,n.southArrowNorthWest,n.southArrowNorthEast]}}class vd extends kl{static get requires(){return[hd]}static get pluginName(){return"ImageTextAlternativeUI"}init(){this._createButton(),this._createForm()}destroy(){super.destroy(),this._form.destroy()}_createButton(){const e=this.editor,t=e.t;e.ui.componentFactory.add("imageTextAlternative",n=>{const r=e.commands.get("imageTextAlternative"),o=new il(n);return o.set({label:t("bx"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M5.085 6.22L2.943 4.078a.75.75 0 1 1 1.06-1.06l2.592 2.59A11.094 11.094 0 0 1 10 5.068c4.738 0 8.578 3.101 8.578 5.083 0 1.197-1.401 2.803-3.555 3.887l1.714 1.713a.75.75 0 0 1-.09 1.138.488.488 0 0 1-.15.084.75.75 0 0 1-.821-.16L6.17 7.304c-.258.11-.51.233-.757.365l6.239 6.24-.006.005.78.78c-.388.094-.78.166-1.174.215l-1.11-1.11h.011L4.55 8.197a7.2 7.2 0 0 0-.665.514l-.112.098 4.897 4.897-.005.006 1.276 1.276a10.164 10.164 0 0 1-1.477-.117l-.479-.479-.009.009-4.863-4.863-.022.031a2.563 2.563 0 0 0-.124.2c-.043.077-.08.158-.108.241a.534.534 0 0 0-.028.133.29.29 0 0 0 .008.072.927.927 0 0 0 .082.226c.067.133.145.26.234.379l3.242 3.365.025.01.59.623c-3.265-.918-5.59-3.155-5.59-4.668 0-1.194 1.448-2.838 3.663-3.93zm7.07.531a4.632 4.632 0 0 1 1.108 5.992l.345.344.046-.018a9.313 9.313 0 0 0 2-1.112c.256-.187.5-.392.727-.613.137-.134.27-.277.392-.431.072-.091.141-.185.203-.286.057-.093.107-.19.148-.292a.72.72 0 0 0 .036-.12.29.29 0 0 0 .008-.072.492.492 0 0 0-.028-.133.999.999 0 0 0-.036-.096 2.165 2.165 0 0 0-.071-.145 2.917 2.917 0 0 0-.125-.2 3.592 3.592 0 0 0-.263-.335 5.444 5.444 0 0 0-.53-.523 7.955 7.955 0 0 0-1.054-.768 9.766 9.766 0 0 0-1.879-.891c-.337-.118-.68-.219-1.027-.301zm-2.85.21l-.069.002a.508.508 0 0 0-.254.097.496.496 0 0 0-.104.679.498.498 0 0 0 .326.199l.045.005c.091.003.181.003.272.012a2.45 2.45 0 0 1 2.017 1.513c.024.061.043.125.069.185a.494.494 0 0 0 .45.287h.008a.496.496 0 0 0 .35-.158.482.482 0 0 0 .13-.335.638.638 0 0 0-.048-.219 3.379 3.379 0 0 0-.36-.723 3.438 3.438 0 0 0-2.791-1.543l-.028-.001h-.013z"/></svg>',tooltip:!0}),o.bind("isEnabled").to(r,"isEnabled"),this.listenTo(o,"execute",()=>{this._showForm()}),o})}_createForm(){const e=this.editor,t=e.editing.view.document;this._balloon=this.editor.plugins.get("ContextualBalloon"),this._form=new ad(e.locale),this._form.render(),this.listenTo(this._form,"submit",()=>{e.execute("imageTextAlternative",{newValue:this._form.labeledInput.inputView.element.value}),this._hideForm(!0)}),this.listenTo(this._form,"cancel",()=>{this._hideForm(!0)}),this._form.keystrokes.set("Esc",(e,t)=>{this._hideForm(!0),t()}),this.listenTo(e.ui,"update",()=>{Xc(t.selection)?this._isVisible&&function(e){const t=e.plugins.get("ContextualBalloon");if(Xc(e.editing.view.document.selection)){const n=bd(e);t.updatePosition(n)}}(e):this._hideForm(!0)}),dl({emitter:this._form,activator:()=>this._isVisible,contextElements:[this._balloon.view.element],callback:()=>this._hideForm()})}_showForm(){if(this._isVisible)return;const e=this.editor,t=e.commands.get("imageTextAlternative"),n=this._form.labeledInput;this._isInBalloon||this._balloon.add({view:this._form,position:bd(e)}),n.value=n.inputView.element.value=t.value||"",this._form.labeledInput.select()}_hideForm(e){this._isInBalloon&&(this._form.focusTracker.isFocused&&this._form.saveButtonView.focus(),this._balloon.remove(this._form),e&&this.editor.editing.view.focus())}get _isVisible(){return this._balloon.visibleView===this._form}get _isInBalloon(){return this._balloon.hasView(this._form)}}class yd extends kl{static get requires(){return[ed,vd]}static get pluginName(){return"ImageTextAlternative"}}n(61);class kd extends kl{static get requires(){return[iu,Ju,yd]}static get pluginName(){return"Image"}}class _d extends Ds{constructor(e){super(e),this.buttonView=new il(e),this._fileInputView=new wd(e),this._fileInputView.bind("acceptedType").to(this),this._fileInputView.bind("allowMultipleFiles").to(this),this._fileInputView.delegate("done").to(this),this.setTemplate({tag:"span",attributes:{class:"ck-file-dialog-button"},children:[this.buttonView,this._fileInputView]}),this.buttonView.on("execute",()=>{this._fileInputView.open()})}focus(){this.buttonView.focus()}}class wd extends Ds{constructor(e){super(e),this.set("acceptedType"),this.set("allowMultipleFiles",!1);const t=this.bindTemplate;this.setTemplate({tag:"input",attributes:{class:["ck-hidden"],type:"file",tabindex:"-1",accept:t.to("acceptedType"),multiple:t.to("allowMultipleFiles")},on:{change:t.to(()=>{this.element&&this.element.files&&this.element.files.length&&this.fire("done",this.element.files),this.element.value=""})}})}open(){this.element.click()}}function Cd(e){const t=e.map(e=>e.replace("+","\\+"));return new RegExp(`^image\\/(${t.join("|")})$`)}class Sd extends kl{init(){const e=this.editor,t=e.t;e.ui.componentFactory.add("imageUpload",n=>{const r=new _d(n),o=e.commands.get("imageUpload"),i=e.config.get("image.upload.types"),a=Cd(i);return r.set({acceptedType:i.map(e=>`image/${e}`).join(","),allowMultipleFiles:!0}),r.buttonView.set({label:t("l"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.91 10.54c.26-.23.64-.21.88.03l3.36 3.14 2.23-2.06a.64.64 0 0 1 .87 0l2.52 2.97V4.5H3.2v10.12l3.71-4.08zm10.27-7.51c.6 0 1.09.47 1.09 1.05v11.84c0 .59-.49 1.06-1.09 1.06H2.79c-.6 0-1.09-.47-1.09-1.06V4.08c0-.58.49-1.05 1.1-1.05h14.38zm-5.22 5.56a1.96 1.96 0 1 1 3.4-1.96 1.96 1.96 0 0 1-3.4 1.96z"/></svg>',tooltip:!0}),r.buttonView.bind("isEnabled").to(o),r.on("done",(t,n)=>{const r=Array.from(n).filter(e=>a.test(e.type));r.length&&e.execute("imageUpload",{file:r})}),r})}}n(63),n(65),n(67);class Pd extends kl{constructor(e){super(e),this.placeholder="data:image/svg+xml;utf8,"+encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 700 250"><rect rx="4"/></svg>')}init(){this.editor.editing.downcastDispatcher.on("attribute:uploadStatus:image",(...e)=>this.uploadStatusChange(...e))}uploadStatusChange(e,t,n){const r=this.editor,o=t.item,i=o.getAttribute("uploadId");if(!n.consumable.consume(t.item,e.name))return;const a=r.plugins.get(yc),s=i?t.attributeNewValue:null,l=this.placeholder,c=r.editing.mapper.toViewElement(o),u=n.writer;if("reading"==s)return Ed(c,u),void xd(l,c,u);if("uploading"==s){const e=a.loaders.get(i);return Ed(c,u),void(e?(Od(c,u),function(e,t,n,r){const o=function(e){const t=e.createUIElement("div",{class:"ck-progress-bar"});return e.setCustomProperty("progressBar",!0,t),t}(t);t.insert(t.createPositionAt(e,"end"),o),n.on("change:uploadedPercent",(e,t,n)=>{r.change(e=>{e.setStyle("width",n+"%",o)})})}(c,u,e,r.editing.view),function(e,t,n){if(n.data){const r=nu(e);t.setAttribute("src",n.data,r)}}(c,u,e)):xd(l,c,u))}"complete"==s&&a.loaders.get(i)&&!or.isEdge&&function(e,t,n){const r=t.createUIElement("div",{class:"ck-image-upload-complete-icon"});t.insert(t.createPositionAt(e,"end"),r),setTimeout(()=>{n.change(e=>e.remove(e.createRangeOn(r)))},3e3)}(c,u,r.editing.view),Md(c,u,"progressBar"),Od(c,u),function(e,t){u.removeClass("ck-appear",e)}(c)}}function Ed(e,t){e.hasClass("ck-appear")||t.addClass("ck-appear",e)}function xd(e,t,n){t.hasClass("ck-image-upload-placeholder")||n.addClass("ck-image-upload-placeholder",t);const r=nu(t);r.getAttribute("src")!==e&&n.setAttribute("src",e,r),Td(t,"placeholder")||n.insert(n.createPositionAfter(r),function(e){const t=e.createUIElement("div",{class:"ck-upload-placeholder-loader"});return e.setCustomProperty("placeholder",!0,t),t}(n))}function Od(e,t){e.hasClass("ck-image-upload-placeholder")&&t.removeClass("ck-image-upload-placeholder",e),Md(e,t,"placeholder")}function Td(e,t){for(const n of e.getChildren())if(n.getCustomProperty(t))return n}function Md(e,t,n){const r=Td(e,n);r&&t.remove(t.createRangeOn(r))}class Ad{constructor(e){this.document=e}createDocumentFragment(e){return new hr(this.document,e)}createElement(e,t,n){return new En(this.document,e,t,n)}createText(e){return new qt(this.document,e)}clone(e,t=!1){return e._clone(t)}appendChild(e,t){return t._appendChild(e)}insertChild(e,t,n){return n._insertChild(e,t)}removeChildren(e,t,n){return n._removeChildren(e,t)}remove(e){const t=e.parent;return t?this.removeChildren(t.getChildIndex(e),1,t):[]}replace(e,t){const n=e.parent;if(n){const r=n.getChildIndex(e);return this.removeChildren(r,1,n),this.insertChild(r,t,n),!0}return!1}unwrapElement(e){const t=e.parent;if(t){const n=t.getChildIndex(e);this.remove(e),this.insertChild(n,e.getChildren(),t)}}rename(e,t){const n=new En(this.document,e,t.getAttributes(),t.getChildren());return this.replace(t,n)?n:null}setAttribute(e,t,n){n._setAttribute(e,t)}removeAttribute(e,t){t._removeAttribute(e)}addClass(e,t){t._addClass(e)}removeClass(e,t){t._removeClass(e)}setStyle(e,t,n){k(e)&&void 0===n&&(n=t),n._setStyle(e,t)}removeStyle(e,t){t._removeStyle(e)}setCustomProperty(e,t,n){n._setCustomProperty(e,t)}removeCustomProperty(e,t){return t._removeCustomProperty(e)}createPositionAt(e,t){return Wn._createAt(e,t)}createPositionAfter(e){return Wn._createAfter(e)}createPositionBefore(e){return Wn._createBefore(e)}createRange(e,t){return new Gn(e,t)}createRangeOn(e){return Gn._createOn(e)}createRangeIn(e){return Gn._createIn(e)}createSelection(e,t,n){return new $n(e,t,n)}}class jd extends El{refresh(){this.isEnabled=tu(this.editor.model)}execute(e){const t=this.editor,n=t.model,r=t.plugins.get(yc);n.change(t=>{const o=Array.isArray(e.file)?e.file:[e.file];for(const e of o)Id(t,n,r,e)})}}function Id(e,t,n,r){const o=n.createLoader(r);o&&eu(e,t,{uploadId:o.id})}class Nd extends kl{static get requires(){return[yc,Lu,Pl]}static get pluginName(){return"ImageUploadEditing"}constructor(e){super(e),e.config.define("image",{upload:{types:["jpeg","png","gif","bmp","webp","tiff"]}})}init(){const e=this.editor,t=e.model.document,n=e.model.schema,r=e.conversion,o=e.plugins.get(yc),i=Cd(e.config.get("image.upload.types"));n.extend("image",{allowAttributes:["uploadId","uploadStatus"]}),e.commands.add("imageUpload",new jd(e)),r.for("upcast").attributeToAttribute({view:{name:"img",key:"uploadId"},model:"uploadId"}),this.listenTo(e.editing.view.document,"clipboardInput",(t,n)=>{if(r=n.dataTransfer,Array.from(r.types).includes("text/html")&&""!==r.getData("text/html"))return;var r;const o=Array.from(n.dataTransfer.files).filter(e=>!!e&&i.test(e.type)),a=n.targetRanges.map(t=>e.editing.mapper.toModelRange(t));e.model.change(n=>{n.setSelection(a),o.length&&(t.stop(),e.model.enqueueChange("default",()=>{e.execute("imageUpload",{file:o})}))})}),this.listenTo(e.plugins.get(Pl),"inputTransformation",(t,n)=>{const r=Array.from(e.editing.view.createRangeIn(n.content)).filter(e=>{return!(!(t=e.item).is("element","img")||!t.getAttribute("src"))&&(t.getAttribute("src").match(/^data:image\/\w+;base64,/g)||t.getAttribute("src").match(/^blob:/g))&&!e.item.getAttribute("uploadProcessed");var t}).map(e=>({promise:function(e){return new Promise((t,n)=>{const r=e.getAttribute("src");fetch(r).then(e=>e.blob()).then(e=>{const o=function(e,t){return e.type?e.type:t.match(/data:(image\/\w+);base64/)?t.match(/data:(image\/\w+);base64/)[1].toLowerCase():"image/jpeg"}(e,r),i=function(e,t,n){try{return new File([e],t,{type:n})}catch(e){return null}}(e,`image.${o.replace("image/","")}`,o);i?t(i):n()}).catch(n)})}(e.item),imageElement:e.item}));if(!r.length)return;const i=new Ad(e.editing.view.document);for(const e of r){i.setAttribute("uploadProcessed",!0,e.imageElement);const t=o.createLoader(e.promise);t&&(i.setAttribute("src","",e.imageElement),i.setAttribute("uploadId",t.id,e.imageElement))}}),e.editing.view.document.on("dragover",(e,t)=>{t.preventDefault()}),t.on("change",()=>{const n=t.differ.getChanges({includeChangesInGraveyard:!0});for(const t of n)if("insert"==t.type&&"$text"!=t.name){const n=t.position.nodeAfter,r="$graveyard"==t.position.root.rootName;for(const t of Rd(e,n)){const e=t.getAttribute("uploadId");if(!e)continue;const n=o.loaders.get(e);n&&(r?n.abort():"idle"==n.status&&this._readAndUpload(n,t))}}})}_readAndUpload(e,t){const n=this.editor,r=n.model,o=n.locale.t,i=n.plugins.get(yc),a=n.plugins.get(Lu);return r.enqueueChange("transparent",e=>{e.setAttribute("uploadStatus","reading",t)}),e.read().then(()=>{const o=e.upload();if(or.isSafari){const e=nu(n.editing.mapper.toViewElement(t));n.editing.view.once("render",()=>{if(!e.parent)return;const t=n.editing.view.domConverter.mapViewToDom(e.parent);if(!t)return;const r=t.style.display;t.style.display="none",t._ckHack=t.offsetHeight,t.style.display=r})}return r.enqueueChange("transparent",e=>{e.setAttribute("uploadStatus","uploading",t)}),o}).then(e=>{r.enqueueChange("transparent",n=>{n.setAttributes({uploadStatus:"complete",src:e.default},t),this._parseAndSetSrcsetAttributeOnImage(e,t,n)}),s()}).catch(n=>{if("error"!==e.status&&"aborted"!==e.status)throw n;"error"==e.status&&n&&a.showWarning(n,{title:o("am"),namespace:"upload"}),s(),r.enqueueChange("transparent",e=>{e.remove(t)})});function s(){r.enqueueChange("transparent",e=>{e.removeAttribute("uploadId",t),e.removeAttribute("uploadStatus",t)}),i.destroyLoader(e)}}_parseAndSetSrcsetAttributeOnImage(e,t,n){let r=0;const o=Object.keys(e).filter(e=>{const t=parseInt(e,10);if(!isNaN(t))return r=Math.max(r,t),!0}).map(t=>`${e[t]} ${t}w`).join(", ");""!=o&&n.setAttribute("srcset",{data:o,width:r},t)}}function Rd(e,t){return Array.from(e.model.createRangeOn(t)).filter(e=>e.item.is("image")).map(e=>e.item)}class Dd extends kl{static get pluginName(){return"ImageUpload"}static get requires(){return[Nd,Sd,Pd]}}class Ld extends El{refresh(){const e=this.editor.model,t=Ic(e.document.selection.getSelectedBlocks());this.value=!!t&&t.is("paragraph"),this.isEnabled=!!t&&Bd(t,e.schema)}execute(e={}){const t=this.editor.model,n=t.document;t.change(r=>{const o=(e.selection||n.selection).getSelectedBlocks();for(const e of o)!e.is("paragraph")&&Bd(e,t.schema)&&r.rename(e,"paragraph")})}}function Bd(e,t){return t.checkChild(e.parent,"paragraph")&&!t.isObject(e)}class Fd extends kl{static get pluginName(){return"Paragraph"}init(){const e=this.editor,t=e.model,n=e.data;e.commands.add("paragraph",new Ld(e)),t.schema.register("paragraph",{inheritAllFrom:"$block"}),e.conversion.elementToElement({model:"paragraph",view:"p"}),e.conversion.for("upcast").elementToElement({model:(e,t)=>Fd.paragraphLikeElements.has(e.name)?e.isEmpty?null:t.createElement("paragraph"):null,converterPriority:"low"}),n.upcastDispatcher.on("element",(e,t,n)=>{n.consumable.test(t.viewItem,{name:t.viewItem.name})&&qd(t.viewItem,t.modelCursor,n.schema)&&Object.assign(t,Ud(t.viewItem,t.modelCursor,n))},{priority:"low"}),n.upcastDispatcher.on("text",(e,t,n)=>{t.modelRange||qd(t.viewItem,t.modelCursor,n.schema)&&Object.assign(t,Ud(t.viewItem,t.modelCursor,n))},{priority:"lowest"}),t.document.registerPostFixer(e=>this._autoparagraphEmptyRoots(e)),e.data.on("ready",()=>{t.enqueueChange("transparent",e=>this._autoparagraphEmptyRoots(e))},{priority:"lowest"})}_autoparagraphEmptyRoots(e){const t=this.editor.model;for(const n of t.document.getRootNames()){const r=t.document.getRoot(n);if(r.isEmpty&&"$graveyard"!=r.rootName&&t.schema.checkChild(r,"paragraph"))return e.insertElement("paragraph",r),!0}}}function Ud(e,t,n){const r=n.writer.createElement("paragraph");return n.writer.insert(r,t),n.convertItem(e,n.writer.createPositionAt(r,0))}function qd(e,t,n){const r=n.createContext(t);return!!n.checkChild(r,"paragraph")&&!!n.checkChild(r.push("paragraph"),e)}Fd.paragraphLikeElements=new Set(["blockquote","dd","div","dt","h1","h2","h3","h4","h5","h6","li","p","td"]);class zd extends El{constructor(e,t){super(e),this.modelElements=t}refresh(){const e=Ic(this.editor.model.document.selection.getSelectedBlocks());this.value=!!e&&this.modelElements.includes(e.name)&&e.name,this.isEnabled=!!e&&this.modelElements.some(t=>Hd(e,t,this.editor.model.schema))}execute(e){const t=this.editor.model,n=t.document,r=e.value;t.change(e=>{const o=Array.from(n.selection.getSelectedBlocks()).filter(e=>Hd(e,r,t.schema));for(const t of o)t.is(r)||e.rename(t,r)})}}function Hd(e,t,n){return n.checkChild(e.parent,t)&&!n.isObject(e)}class Vd extends kl{static get pluginName(){return"HeadingEditing"}constructor(e){super(e),e.config.define("heading",{options:[{model:"paragraph",title:"Paragraph",class:"ck-heading_paragraph"},{model:"heading1",view:"h2",title:"Heading 1",class:"ck-heading_heading1"},{model:"heading2",view:"h3",title:"Heading 2",class:"ck-heading_heading2"},{model:"heading3",view:"h4",title:"Heading 3",class:"ck-heading_heading3"}]})}static get requires(){return[Fd]}init(){const e=this.editor,t=e.config.get("heading.options"),n=[];for(const r of t)"paragraph"!==r.model&&(e.model.schema.register(r.model,{inheritAllFrom:"$block"}),e.conversion.elementToElement(r),n.push(r.model));this._addDefaultH1Conversion(e),e.commands.add("heading",new zd(e,n))}afterInit(){const e=this.editor,t=e.commands.get("enter"),n=e.config.get("heading.options");t&&this.listenTo(t,"afterExecute",(t,r)=>{const o=e.model.document.selection.getFirstPosition().parent;n.some(e=>o.is(e.model))&&!o.is("paragraph")&&0===o.childCount&&r.writer.rename(o,"paragraph")})}_addDefaultH1Conversion(e){e.conversion.for("upcast").elementToElement({model:"heading1",view:"h1",converterPriority:kt.get("low")+1})}}class Wd{constructor(e,t){t&&Mn(this,t),e&&this.set(e)}}At(Wd,Rn),n(11);class Gd extends kl{init(){const e=this.editor,t=e.t,n=function(e){const t=e.t,n={Paragraph:t("bq"),"Heading 1":t("br"),"Heading 2":t("bs"),"Heading 3":t("bt"),"Heading 4":t("bu"),"Heading 5":t("bv"),"Heading 6":t("bw")};return e.config.get("heading.options").map(e=>{const t=n[e.title];return t&&t!=e.title&&(e.title=t),e})}(e),r=t("ak"),o=t("al");e.ui.componentFactory.add("heading",t=>{const i={},a=new jt,s=e.commands.get("heading"),l=e.commands.get("paragraph"),c=[s];for(const e of n){const t={type:"button",model:new Wd({label:e.title,class:e.class,withText:!0})};"paragraph"===e.model?(t.model.bind("isOn").to(l,"value"),t.model.set("commandName","paragraph"),c.push(l)):(t.model.bind("isOn").to(s,"value",t=>t===e.model),t.model.set({commandName:"heading",commandValue:e.model})),a.add(t),i[e.model]=e.title}const u=pl(t);return fl(u,a),u.buttonView.set({isOn:!1,withText:!0,tooltip:o}),u.extendTemplate({attributes:{class:["ck-heading-dropdown"]}}),u.bind("isEnabled").toMany(c,"isEnabled",(...e)=>e.some(e=>e)),u.buttonView.bind("label").to(s,"value",l,"value",(e,t)=>{const n=e||t&&"paragraph";return i[n]?i[n]:r}),this.listenTo(u,"execute",t=>{e.execute(t.source.commandName,t.source.commandValue?{value:t.source.commandValue}:void 0),e.editing.view.focus()}),u})}}function Yd(e){for(const t of e.getChildren())if(t&&t.is("caption"))return t;return null}function Kd(e){const t=e.parent;return"figcaption"==e.name&&t&&"figure"==t.name&&t.hasClass("image")?{name:!0}:null}class $d extends kl{static get pluginName(){return"ImageCaptionEditing"}init(){const e=this.editor,t=e.editing.view,n=e.model.schema,r=e.data,o=e.editing,i=e.t;n.register("caption",{allowIn:"image",allowContentOf:"$block",isLimit:!0}),e.model.document.registerPostFixer(e=>this._insertMissingModelCaptionElement(e)),e.conversion.for("upcast").elementToElement({view:Kd,model:"caption"}),r.downcastDispatcher.on("insert:caption",Qd(e=>e.createContainerElement("figcaption"),!1));const a=function(e,t){return n=>{const r=n.createEditableElement("figcaption");return n.setCustomProperty("imageCaption",!0,r),ps({view:e,element:r,text:t}),$c(r,n)}}(t,i("an"));o.downcastDispatcher.on("insert:caption",Qd(a)),o.downcastDispatcher.on("insert",this._fixCaptionVisibility(e=>e.item),{priority:"high"}),o.downcastDispatcher.on("remove",this._fixCaptionVisibility(e=>e.position.parent),{priority:"high"}),t.document.registerPostFixer(e=>this._updateCaptionVisibility(e))}_updateCaptionVisibility(e){const t=this.editor.editing.mapper,n=this._lastSelectedCaption;let r;const o=this.editor.model.document.selection,i=o.getSelectedElement();if(i&&i.is("image")){const e=Yd(i);r=t.toViewElement(e)}const a=Jd(o.getFirstPosition().parent);if(a&&(r=t.toViewElement(a)),r)return n?(n===r||(Xd(n,e),this._lastSelectedCaption=r),Zd(r,e)):(this._lastSelectedCaption=r,Zd(r,e));if(n){const t=Xd(n,e);return this._lastSelectedCaption=null,t}return!1}_fixCaptionVisibility(e){return(t,n,r)=>{const o=Jd(e(n)),i=this.editor.editing.mapper,a=r.writer;if(o){const e=i.toViewElement(o);e&&(o.childCount?a.removeClass("ck-hidden",e):a.addClass("ck-hidden",e))}}}_insertMissingModelCaptionElement(e){const t=this.editor.model,n=t.document.differ.getChanges(),r=[];for(const o of n)if("insert"==o.type&&"$text"!=o.name){const e=o.position.nodeAfter;if(e.is("image")&&!Yd(e)&&r.push(e),!e.is("image")&&e.childCount)for(const n of t.createRangeIn(e).getItems())n.is("image")&&!Yd(n)&&r.push(n)}for(const o of r)e.appendElement("caption",o);return!!r.length}}function Qd(e,t=!0){return(n,r,o)=>{const i=r.item;if((i.childCount||t)&&Zc(i.parent)){if(!o.consumable.consume(r.item,"insert"))return;const t=o.mapper.toViewElement(r.range.start.parent),n=e(o.writer),a=o.writer;i.childCount||a.addClass("ck-hidden",n),function(e,t,n,r){const o=r.writer.createPositionAt(n,"end");r.writer.insert(o,e),r.mapper.bindElements(t,e)}(n,r.item,t,o)}}}function Jd(e){const t=e.getAncestors({includeSelf:!0}).find(e=>"caption"==e.name);return t&&t.parent&&"image"==t.parent.name?t:null}function Xd(e,t){return!e.childCount&&!e.hasClass("ck-hidden")&&(t.addClass("ck-hidden",e),!0)}function Zd(e,t){return!!e.hasClass("ck-hidden")&&(t.removeClass("ck-hidden",e),!0)}n(70);class ep extends El{constructor(e,t){super(e),this.defaultStyle=!1,this.styles=t.reduce((e,t)=>(e[t.name]=t,t.isDefault&&(this.defaultStyle=t.name),e),{})}refresh(){const e=this.editor.model.document.selection.getSelectedElement();if(this.isEnabled=Zc(e),e)if(e.hasAttribute("imageStyle")){const t=e.getAttribute("imageStyle");this.value=!!this.styles[t]&&t}else this.value=this.defaultStyle;else this.value=!1}execute(e){const t=e.value,n=this.editor.model,r=n.document.selection.getSelectedElement();n.change(e=>{this.styles[t].isDefault?e.removeAttribute("imageStyle",r):e.setAttribute("imageStyle",t,r)})}}function tp(e,t){for(const n of t)if(n.name===e)return n}var np='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 4.5V3h16v1.5zm2.5 3V12h11V7.5h-11zM4.061 6H15.94c.586 0 1.061.407 1.061.91v5.68c0 .503-.475.91-1.061.91H4.06c-.585 0-1.06-.407-1.06-.91V6.91C3 6.406 3.475 6 4.061 6zM2 16.5V15h16v1.5z"/></svg>',rp='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg" clip-rule="evenodd" stroke-linejoin="round" stroke-miterlimit="1.414"><path d="M18 4.5V3H2v1.5h16zm0 3V6h-5.674v1.5H18zm0 3V9h-5.674v1.5H18zm0 3V12h-5.674v1.5H18zm-8.5-6V12h-6V7.5h6zm.818-1.5H2.682C2.305 6 2 6.407 2 6.91v5.68c0 .503.305.91.682.91h7.636c.377 0 .682-.407.682-.91V6.91c0-.503-.305-.91-.682-.91zM18 16.5V15H2v1.5h16z"/></svg>',op='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 4.5V3h16v1.5zm4.5 3V12h7V7.5h-7zM5.758 6h8.484c.419 0 .758.407.758.91v5.681c0 .502-.34.909-.758.909H5.758c-.419 0-.758-.407-.758-.91V6.91c0-.503.34-.91.758-.91zM2 16.5V15h16v1.5z"/></svg>',ip='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 4.5V3h16v1.5zm0 3V6h5.674v1.5zm0 3V9h5.674v1.5zm0 3V12h5.674v1.5zm8.5-6V12h6V7.5h-6zM9.682 6h7.636c.377 0 .682.407.682.91v5.68c0 .503-.305.91-.682.91H9.682c-.377 0-.682-.407-.682-.91V6.91c0-.503.305-.91.682-.91zM2 16.5V15h16v1.5z"/></svg>';const ap={full:{name:"full",title:"Full size image",icon:np,isDefault:!0},side:{name:"side",title:"Side image",icon:ip,className:"image-style-side"},alignLeft:{name:"alignLeft",title:"Left aligned image",icon:rp,className:"image-style-align-left"},alignCenter:{name:"alignCenter",title:"Centered image",icon:op,className:"image-style-align-center"},alignRight:{name:"alignRight",title:"Right aligned image",icon:ip,className:"image-style-align-right"}},sp={full:np,left:rp,right:ip,center:op};function lp(e=[]){return e.map(cp)}function cp(e){if("string"==typeof e){const t=e;ap[t]?e=Object.assign({},ap[t]):(console.warn(Object(_t.a)("image-style-not-found: There is no such image style of given name."),{name:t}),e={name:t})}else if(ap[e.name]){const t=ap[e.name],n=Object.assign({},e);for(const r in t)e.hasOwnProperty(r)||(n[r]=t[r]);e=n}return"string"==typeof e.icon&&sp[e.icon]&&(e.icon=sp[e.icon]),e}class up extends kl{static get pluginName(){return"ImageStyleEditing"}init(){const e=this.editor,t=e.model.schema,n=e.data,r=e.editing;e.config.define("image.styles",["full","side"]);const o=lp(e.config.get("image.styles"));t.extend("image",{allowAttributes:"imageStyle"});const i=function(e){return(t,n,r)=>{if(!r.consumable.consume(n.item,t.name))return;const o=tp(n.attributeNewValue,e),i=tp(n.attributeOldValue,e),a=r.mapper.toViewElement(n.item),s=r.writer;i&&s.removeClass(i.className,a),o&&s.addClass(o.className,a)}}(o);r.downcastDispatcher.on("attribute:imageStyle:image",i),n.downcastDispatcher.on("attribute:imageStyle:image",i),n.upcastDispatcher.on("element:figure",function(e){const t=o.filter(e=>!e.isDefault);return(e,n,r)=>{if(!n.modelRange)return;const o=n.viewItem,i=Ic(n.modelRange.getItems());if(r.schema.checkAttribute(i,"imageStyle"))for(const a of t)r.consumable.consume(o,{classes:a.className})&&r.writer.setAttribute("imageStyle",a.name,i)}}(),{priority:"low"}),e.commands.add("imageStyle",new ep(e,o))}}n(72);class dp extends kl{static get pluginName(){return"ImageStyleUI"}get localizedDefaultStylesTitles(){const e=this.editor.t;return{"Full size image":e("e"),"Side image":e("f"),"Left aligned image":e("g"),"Centered image":e("h"),"Right aligned image":e("i")}}init(){const e=function(e,t){for(const n of e)t[n.title]&&(n.title=t[n.title]);return e}(lp(this.editor.config.get("image.styles")),this.localizedDefaultStylesTitles);for(const t of e)this._createButton(t)}_createButton(e){const t=this.editor,n=`imageStyle:${e.name}`;t.ui.componentFactory.add(n,n=>{const r=t.commands.get("imageStyle"),o=new il(n);return o.set({label:e.title,icon:e.icon,tooltip:!0,isToggleable:!0}),o.bind("isEnabled").to(r,"isEnabled"),o.bind("isOn").to(r,"value",t=>t===e.name),this.listenTo(o,"execute",()=>{t.execute("imageStyle",{value:e.name}),t.editing.view.focus()}),o})}}class pp extends kl{static get requires(){return[hd]}static get pluginName(){return"WidgetToolbarRepository"}init(){const e=this.editor;if(e.plugins.has("BalloonToolbar")){const t=e.plugins.get("BalloonToolbar");this.listenTo(t,"show",t=>{(function(e){const t=e.getSelectedElement();return!(!t||!Gc(t))})(e.editing.view.document.selection)&&t.stop()},{priority:"high"})}this._toolbarDefinitions=new Map,this._balloon=this.editor.plugins.get("ContextualBalloon"),this.on("change:isEnabled",()=>{this._updateToolbarsVisibility()}),this.listenTo(e.ui,"update",()=>{this._updateToolbarsVisibility()}),this.listenTo(e.ui.focusTracker,"change:isFocused",()=>{this._updateToolbarsVisibility()},{priority:"low"})}destroy(){super.destroy();for(const e of this._toolbarDefinitions.values())e.view.destroy()}register(e,{ariaLabel:t,items:n,getRelatedElement:r,balloonClassName:o="ck-toolbar-container"}){const i=this.editor,a=i.t,s=new hl(i.locale);if(s.ariaLabel=t||a("at"),this._toolbarDefinitions.has(e))throw new _t.b("widget-toolbar-duplicated: Toolbar with the given id was already added.",this,{toolbarId:e});s.fillFromConfig(n,i.ui.componentFactory),this._toolbarDefinitions.set(e,{view:s,getRelatedElement:r,balloonClassName:o})}_updateToolbarsVisibility(){let e=0,t=null,n=null;for(const r of this._toolbarDefinitions.values()){const o=r.getRelatedElement(this.editor.editing.view.document.selection);if(this.isEnabled&&o)if(this.editor.ui.focusTracker.isFocused){const i=o.getAncestors().length;i>e&&(e=i,t=o,n=r)}else this._isToolbarVisible(r)&&this._hideToolbar(r);else this._isToolbarInBalloon(r)&&this._hideToolbar(r)}n&&this._showToolbar(n,t)}_hideToolbar(e){this._balloon.remove(e.view),this.stopListening(this._balloon,"change:visibleView")}_showToolbar(e,t){this._isToolbarVisible(e)?fp(this.editor,t):this._isToolbarInBalloon(e)||(this._balloon.add({view:e.view,position:hp(this.editor,t),balloonClassName:e.balloonClassName}),this.listenTo(this._balloon,"change:visibleView",()=>{for(const e of this._toolbarDefinitions.values())if(this._isToolbarVisible(e)){const t=e.getRelatedElement(this.editor.editing.view.document.selection);fp(this.editor,t)}}))}_isToolbarVisible(e){return this._balloon.visibleView===e.view}_isToolbarInBalloon(e){return this._balloon.hasView(e.view)}}function fp(e,t){const n=e.plugins.get("ContextualBalloon"),r=hp(e,t);n.updatePosition(r)}function hp(e,t){const n=e.editing.view,r=cd.defaultPositions;return{target:n.domConverter.mapViewToDom(t),positions:[r.northArrowSouth,r.northArrowSouthWest,r.northArrowSouthEast,r.southArrowNorth,r.southArrowNorthWest,r.southArrowNorthEast]}}class mp extends El{constructor(e){super(e),this._childCommands=[]}refresh(){}execute(...e){this._getFirstEnabledCommand().execute(e)}registerChildCommand(e){this._childCommands.push(e),e.on("change:isEnabled",()=>this._checkEnabled()),this._checkEnabled()}_checkEnabled(){this.isEnabled=!!this._getFirstEnabledCommand()}_getFirstEnabledCommand(){return this._childCommands.find(e=>e.isEnabled)}}class gp extends kl{static get pluginName(){return"IndentEditing"}init(){const e=this.editor;e.commands.add("indent",new mp(e)),e.commands.add("outdent",new mp(e))}}var bp='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm5 6c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM2.75 16.5h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 1 0 0 1.5zM1.632 6.95L5.02 9.358a.4.4 0 0 1-.013.661l-3.39 2.207A.4.4 0 0 1 1 11.892V7.275a.4.4 0 0 1 .632-.326z"/></svg>',vp='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm5 6c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM2.75 16.5h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 1 0 0 1.5zm1.618-9.55L.98 9.358a.4.4 0 0 0 .013.661l3.39 2.207A.4.4 0 0 0 5 11.892V7.275a.4.4 0 0 0-.632-.326z"/></svg>';class yp extends kl{static get pluginName(){return"IndentUI"}init(){const e=this.editor,t=e.locale,n=e.t,r="ltr"==t.uiLanguageDirection?bp:vp,o="ltr"==t.uiLanguageDirection?vp:bp;this._defineButton("indent",n("ag"),r),this._defineButton("outdent",n("ah"),o)}_defineButton(e,t,n){const r=this.editor;r.ui.componentFactory.add(e,o=>{const i=r.commands.get(e),a=new il(o);return a.set({label:t,icon:n,tooltip:!0}),a.bind("isOn","isEnabled").to(i,"value","isEnabled"),this.listenTo(a,"execute",()=>{r.execute(e),r.editing.view.focus()}),a})}}class kp extends vo{constructor(e){super(e),this.domEventType="click"}onDomEvent(e){this.fire(e.type,e)}}n(74);class _p extends Ds{constructor(e,t=[]){super(e);const n=e.t;this.focusTracker=new cs,this.keystrokes=new es,this.urlInputView=this._createUrlInput(),this.saveButtonView=this._createButton(n("bb"),od,"ck-button-save"),this.saveButtonView.type="submit",this.cancelButtonView=this._createButton(n("bc"),id,"ck-button-cancel","cancel"),this._manualDecoratorSwitches=this._createManualDecoratorSwitches(t),this.children=this._createFormChildren(t),this._focusables=new bs,this._focusCycler=new Ys({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}});const r=["ck","ck-link-form"];t.length&&r.push("ck-link-form_layout-vertical"),this.setTemplate({tag:"form",attributes:{class:r,tabindex:"-1"},children:this.children})}getDecoratorSwitchesState(){return Array.from(this._manualDecoratorSwitches).reduce((e,t)=>(e[t.name]=t.isOn,e),{})}render(){super.render(),rd({view:this}),[this.urlInputView,...this._manualDecoratorSwitches,this.saveButtonView,this.cancelButtonView].forEach(e=>{this._focusables.add(e),this.focusTracker.add(e.element)}),this.keystrokes.listenTo(this.element)}focus(){this._focusCycler.focusFirst()}_createUrlInput(){const e=this.locale.t,t=new td(this.locale,nd);return t.label=e("bg"),t.inputView.placeholder="https://example.com",t}_createButton(e,t,n,r){const o=new il(this.locale);return o.set({label:e,icon:t,tooltip:!0}),o.extendTemplate({attributes:{class:n}}),r&&o.delegate("execute").to(this,r),o}_createManualDecoratorSwitches(e){const t=this.createCollection();for(const n of e){const e=new ul(this.locale);e.set({name:n.id,label:n.label,withText:!0}),e.bind("isOn").to(n,"value"),e.on("execute",()=>{n.set("value",!e.isOn)}),t.add(e)}return t}_createFormChildren(e){const t=this.createCollection();if(t.add(this.urlInputView),e.length){const e=new Ds;e.setTemplate({tag:"ul",children:this._manualDecoratorSwitches.map(e=>({tag:"li",children:[e],attributes:{class:["ck","ck-list__item"]}})),attributes:{class:["ck","ck-reset","ck-list"]}}),t.add(e)}return t.add(this.saveButtonView),t.add(this.cancelButtonView),t}}n(76);class wp extends Ds{constructor(e){super(e);const t=e.t;this.focusTracker=new cs,this.keystrokes=new es,this.previewButtonView=this._createPreviewButton(),this.unlinkButtonView=this._createButton(t("ax"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.077 15l.991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955.741.741 0 0 1 .12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184zm4.919 10.562l-1.414 1.414a.75.75 0 1 1-1.06-1.06l1.414-1.415-1.415-1.414a.75.75 0 0 1 1.061-1.06l1.414 1.414 1.414-1.415a.75.75 0 0 1 1.061 1.061l-1.414 1.414 1.414 1.415a.75.75 0 0 1-1.06 1.06l-1.415-1.414z"/></svg>',"unlink"),this.editButtonView=this._createButton(t("ay"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7.3 17.37l-.061.088a1.518 1.518 0 0 1-.934.535l-4.178.663-.806-4.153a1.495 1.495 0 0 1 .187-1.058l.056-.086L8.77 2.639c.958-1.351 2.803-1.076 4.296-.03 1.497 1.047 2.387 2.693 1.433 4.055L7.3 17.37zM9.14 4.728l-5.545 8.346 3.277 2.294 5.544-8.346L9.14 4.728zM6.07 16.512l-3.276-2.295.53 2.73 2.746-.435zM9.994 3.506L13.271 5.8c.316-.452-.16-1.333-1.065-1.966-.905-.634-1.895-.78-2.212-.328zM8 18.5L9.375 17H19v1.5H8z"/></svg>',"edit"),this.set("href"),this._focusables=new bs,this._focusCycler=new Ys({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-link-actions"],tabindex:"-1"},children:[this.previewButtonView,this.editButtonView,this.unlinkButtonView]})}render(){super.render(),[this.previewButtonView,this.editButtonView,this.unlinkButtonView].forEach(e=>{this._focusables.add(e),this.focusTracker.add(e.element)}),this.keystrokes.listenTo(this.element)}focus(){this._focusCycler.focusFirst()}_createButton(e,t,n){const r=new il(this.locale);return r.set({label:e,icon:t,tooltip:!0}),r.delegate("execute").to(this,n),r}_createPreviewButton(){const e=new il(this.locale),t=this.bindTemplate,n=this.t;return e.set({withText:!0,tooltip:n("az")}),e.extendTemplate({attributes:{class:["ck","ck-link-actions__preview"],href:t.to("href",e=>e&&Eu(e)),target:"_blank",rel:"noopener noreferrer"}}),e.bind("label").to(this,"href",e=>e||n("ba")),e.bind("isEnabled").to(this,"href",e=>!!e),e.template.tag="a",e.template.eventListeners={},e}}class Cp extends kl{static get requires(){return[hd]}static get pluginName(){return"LinkUI"}init(){const e=this.editor;e.editing.view.addObserver(kp),this.actionsView=this._createActionsView(),this.formView=this._createFormView(),this._balloon=e.plugins.get(hd),this._createToolbarLinkButton(),this._enableUserBalloonInteractions()}destroy(){super.destroy(),this.formView.destroy()}_createActionsView(){const e=this.editor,t=new wp(e.locale),n=e.commands.get("link"),r=e.commands.get("unlink");return t.bind("href").to(n,"value"),t.editButtonView.bind("isEnabled").to(n),t.unlinkButtonView.bind("isEnabled").to(r),this.listenTo(t,"edit",()=>{this._addFormView()}),this.listenTo(t,"unlink",()=>{e.execute("unlink"),this._hideUI()}),t.keystrokes.set("Esc",(e,t)=>{this._hideUI(),t()}),t.keystrokes.set("Ctrl+K",(e,t)=>{this._addFormView(),t()}),t}_createFormView(){const e=this.editor,t=e.commands.get("link"),n=new _p(e.locale,t.manualDecorators);return n.urlInputView.bind("value").to(t,"value"),n.urlInputView.bind("isReadOnly").to(t,"isEnabled",e=>!e),n.saveButtonView.bind("isEnabled").to(t),this.listenTo(n,"submit",()=>{e.execute("link",n.urlInputView.inputView.element.value,n.getDecoratorSwitchesState()),this._closeFormView()}),this.listenTo(n,"cancel",()=>{this._closeFormView()}),n.keystrokes.set("Esc",(e,t)=>{this._closeFormView(),t()}),n}_createToolbarLinkButton(){const e=this.editor,t=e.commands.get("link"),n=e.t;e.keystrokes.set("Ctrl+K",(e,t)=>{t(),this._showUI(!0)}),e.ui.componentFactory.add("link",e=>{const r=new il(e);return r.isEnabled=!0,r.label=n("as"),r.icon='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.077 15l.991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955.741.741 0 0 1 .12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184z"/></svg>',r.keystroke="Ctrl+K",r.tooltip=!0,r.isToggleable=!0,r.bind("isEnabled").to(t,"isEnabled"),r.bind("isOn").to(t,"value",e=>!!e),this.listenTo(r,"execute",()=>this._showUI(!0)),r})}_enableUserBalloonInteractions(){const e=this.editor.editing.view.document;this.listenTo(e,"click",()=>{this._getSelectedLinkElement()&&this._showUI()}),this.editor.keystrokes.set("Tab",(e,t)=>{this._areActionsVisible&&!this.actionsView.focusTracker.isFocused&&(this.actionsView.focus(),t())},{priority:"high"}),this.editor.keystrokes.set("Esc",(e,t)=>{this._isUIVisible&&(this._hideUI(),t())}),dl({emitter:this.formView,activator:()=>this._isUIInPanel,contextElements:[this._balloon.view.element],callback:()=>this._hideUI()})}_addActionsView(){this._areActionsInPanel||this._balloon.add({view:this.actionsView,position:this._getBalloonPositionData()})}_addFormView(){if(this._isFormInPanel)return;const e=this.editor.commands.get("link");this._balloon.add({view:this.formView,position:this._getBalloonPositionData()}),this._balloon.visibleView===this.formView&&this.formView.urlInputView.select(),this.formView.urlInputView.inputView.element.value=e.value||""}_closeFormView(){const e=this.editor.commands.get("link");e.restoreManualDecoratorStates(),void 0!==e.value?this._removeFormView():this._hideUI()}_removeFormView(){this._isFormInPanel&&(this.formView.saveButtonView.focus(),this._balloon.remove(this.formView),this.editor.editing.view.focus())}_showUI(e=!1){this._getSelectedLinkElement()?(this._areActionsVisible?this._addFormView():this._addActionsView(),e&&this._balloon.showStack("main")):(this._addActionsView(),e&&this._balloon.showStack("main"),this._addFormView()),this._startUpdatingUI()}_hideUI(){if(!this._isUIInPanel)return;const e=this.editor;this.stopListening(e.ui,"update"),this.stopListening(this._balloon,"change:visibleView"),e.editing.view.focus(),this._removeFormView(),this._balloon.remove(this.actionsView)}_startUpdatingUI(){const e=this.editor,t=e.editing.view.document;let n=this._getSelectedLinkElement(),r=i();const o=()=>{const e=this._getSelectedLinkElement(),t=i();n&&!e||!n&&t!==r?this._hideUI():this._isUIVisible&&this._balloon.updatePosition(this._getBalloonPositionData()),n=e,r=t};function i(){return t.selection.focus.getAncestors().reverse().find(e=>e.is("element"))}this.listenTo(e.ui,"update",o),this.listenTo(this._balloon,"change:visibleView",o)}get _isFormInPanel(){return this._balloon.hasView(this.formView)}get _areActionsInPanel(){return this._balloon.hasView(this.actionsView)}get _areActionsVisible(){return this._balloon.visibleView===this.actionsView}get _isUIInPanel(){return this._isFormInPanel||this._areActionsInPanel}get _isUIVisible(){return this._balloon.visibleView==this.formView||this._areActionsVisible}_getBalloonPositionData(){const e=this.editor.editing.view,t=e.document,n=this._getSelectedLinkElement();return{target:n?e.domConverter.mapViewToDom(n):e.domConverter.viewRangeToDom(t.selection.getFirstRange())}}_getSelectedLinkElement(){const e=this.editor.editing.view,t=e.document.selection;if(t.isCollapsed)return Sp(t.getFirstPosition());{const n=t.getFirstRange().getTrimmed(),r=Sp(n.start),o=Sp(n.end);return r&&r==o&&e.createRangeIn(r).getTrimmed().isEqual(n)?r:null}}}function Sp(e){return e.getAncestors().find(e=>{return(t=e).is("attributeElement")&&!!t.getCustomProperty("link");var t})}class Pp extends El{constructor(e,t){super(e),this.type=t}refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(){const e=this.editor.model,t=e.document,n=Array.from(t.selection.getSelectedBlocks()).filter(t=>xp(t,e.schema)),r=!0===this.value;e.change(e=>{if(r){let t=n[n.length-1].nextSibling,r=Number.POSITIVE_INFINITY,o=[];for(;t&&"listItem"==t.name&&0!==t.getAttribute("listIndent");){const e=t.getAttribute("listIndent");e<r&&(r=e);const n=e-r;o.push({element:t,listIndent:n}),t=t.nextSibling}o=o.reverse();for(const n of o)e.setAttribute("listIndent",n.listIndent,n.element)}if(!r){let e=Number.POSITIVE_INFINITY;for(const t of n)t.is("listItem")&&t.getAttribute("listIndent")<e&&(e=t.getAttribute("listIndent"));Ep(n,!0,e=0===e?1:e),Ep(n,!1,e)}for(const t of n.reverse())r&&"listItem"==t.name?e.rename(t,"paragraph"):r||"listItem"==t.name?r||"listItem"!=t.name||t.getAttribute("listType")==this.type||e.setAttribute("listType",this.type,t):(e.setAttributes({listType:this.type,listIndent:0},t),e.rename(t,"listItem"))})}_getValue(){const e=Ic(this.editor.model.document.selection.getSelectedBlocks());return!!e&&e.is("listItem")&&e.getAttribute("listType")==this.type}_checkEnabled(){if(this.value)return!0;const e=this.editor.model.document.selection,t=this.editor.model.schema,n=Ic(e.getSelectedBlocks());return!!n&&xp(n,t)}}function Ep(e,t,n){const r=t?e[0]:e[e.length-1];if(r.is("listItem")){let o=r[t?"previousSibling":"nextSibling"],i=r.getAttribute("listIndent");for(;o&&o.is("listItem")&&o.getAttribute("listIndent")>=n;)i>o.getAttribute("listIndent")&&(i=o.getAttribute("listIndent")),o.getAttribute("listIndent")==i&&e[t?"unshift":"push"](o),o=o[t?"previousSibling":"nextSibling"]}}function xp(e,t){return t.checkChild(e.parent,"listItem")&&!t.isObject(e)}class Op extends El{constructor(e,t){super(e),this._indentBy="forward"==t?1:-1}refresh(){this.isEnabled=this._checkEnabled()}execute(){const e=this.editor.model,t=e.document;let n=Array.from(t.selection.getSelectedBlocks());e.change(e=>{const t=n[n.length-1];let r=t.nextSibling;for(;r&&"listItem"==r.name&&r.getAttribute("listIndent")>t.getAttribute("listIndent");)n.push(r),r=r.nextSibling;this._indentBy<0&&(n=n.reverse());for(const o of n){const t=o.getAttribute("listIndent")+this._indentBy;t<0?e.rename(o,"paragraph"):e.setAttribute("listIndent",t,o)}})}_checkEnabled(){const e=Ic(this.editor.model.document.selection.getSelectedBlocks());if(!e||!e.is("listItem"))return!1;if(this._indentBy>0){const t=e.getAttribute("listIndent"),n=e.getAttribute("listType");let r=e.previousSibling;for(;r&&r.is("listItem")&&r.getAttribute("listIndent")>=t;){if(r.getAttribute("listIndent")==t)return r.getAttribute("listType")==n;r=r.previousSibling}return!1}return!0}}function Tp(e,t,n,r){const o=t.parent,i=n.mapper,a=n.writer;let s=i.toViewPosition(r.createPositionBefore(e));const l=jp(e.previousSibling,{sameIndent:!0,smallerIndent:!0,listIndent:e.getAttribute("listIndent")}),c=e.previousSibling;if(l&&l.getAttribute("listIndent")==e.getAttribute("listIndent")){const e=i.toViewElement(l);s=a.breakContainer(a.createPositionAfter(e))}else s=c&&"listItem"==c.name?i.toViewPosition(r.createPositionAt(c,"end")):i.toViewPosition(r.createPositionBefore(e));if(s=Ap(s),a.insert(s,o),c&&"listItem"==c.name){const e=i.toViewElement(c),n=a.createRange(a.createPositionAt(e,0),s).getWalker({ignoreElementEnd:!0});for(const r of n)if(r.item.is("li")){const e=a.breakContainer(a.createPositionBefore(r.item)),o=r.item.parent,i=a.createPositionAt(t,"end");Mp(a,i.nodeBefore,i.nodeAfter),a.move(a.createRangeOn(o),i),n.position=e}}else{const n=o.nextSibling;if(n&&(n.is("ul")||n.is("ol"))){let r=null;for(const t of n.getChildren()){const n=i.toModelElement(t);if(!(n&&n.getAttribute("listIndent")>e.getAttribute("listIndent")))break;r=t}r&&(a.breakContainer(a.createPositionAfter(r)),a.move(a.createRangeOn(r.parent),a.createPositionAt(t,"end")))}}Mp(a,o,o.nextSibling),Mp(a,o.previousSibling,o)}function Mp(e,t,n){return!t||!n||"ul"!=t.name&&"ol"!=t.name||t.name!=n.name||t.getAttribute("class")!==n.getAttribute("class")?null:e.mergeContainers(e.createPositionAfter(t))}function Ap(e){return e.getLastMatchingPosition(e=>e.item.is("uiElement"))}function jp(e,t){const n=!!t.sameIndent,r=!!t.smallerIndent,o=t.listIndent;let i=e;for(;i&&"listItem"==i.name;){const e=i.getAttribute("listIndent");if(n&&o==e||r&&o>e)return i;i=i.previousSibling}return null}function Ip(e,t,n,r){e.ui.componentFactory.add(t,o=>{const i=e.commands.get(t),a=new il(o);return a.set({label:n,icon:r,tooltip:!0,isToggleable:!0}),a.bind("isOn","isEnabled").to(i,"value","isEnabled"),a.on("execute",()=>{e.execute(t),e.editing.view.focus()}),a})}function Np(){const e=!this.isEmpty&&("ul"==this.getChild(0).name||"ol"==this.getChild(0).name);return this.isEmpty||e?0:Tn.call(this)}function Rp(e){return(t,n,r)=>{const o=r.consumable;if(!o.test(n.item,"insert")||!o.test(n.item,"attribute:listType")||!o.test(n.item,"attribute:listIndent"))return;o.consume(n.item,"insert"),o.consume(n.item,"attribute:listType"),o.consume(n.item,"attribute:listIndent");const i=n.item;Tp(i,function(e,t){const n=t.mapper,r=t.writer,o="numbered"==e.getAttribute("listType")?"ol":"ul",i=function(e){const t=r.createContainerElement("li");return t.getFillerOffset=Np,t}(),a=r.createContainerElement(o,null);return r.insert(r.createPositionAt(a,0),i),n.bindElements(e,i),i}(i,r),r,e)}}function Dp(e,t,n){if(!n.consumable.consume(t.item,"attribute:listType"))return;const r=n.mapper.toViewElement(t.item),o=n.writer;o.breakContainer(o.createPositionBefore(r)),o.breakContainer(o.createPositionAfter(r));const i=r.parent,a="numbered"==t.attributeNewValue?"ol":"ul";o.rename(a,i)}function Lp(e,t,n){const r=n.mapper.toViewElement(t.item).parent,o=n.writer;Mp(o,r,r.nextSibling),Mp(o,r.previousSibling,r);for(const i of t.item.getChildren())n.consumable.consume(i,"insert")}function Bp(e,t,n){if("listItem"!=t.item.name){let e=n.mapper.toViewPosition(t.range.start);const r=n.writer,o=[];for(;("ul"==e.parent.name||"ol"==e.parent.name)&&"li"==(e=r.breakContainer(e)).parent.name;){const t=e,n=r.createPositionAt(e.parent,"end");if(!t.isEqual(n)){const e=r.remove(r.createRange(t,n));o.push(e)}e=r.createPositionAfter(e.parent)}if(o.length>0){for(let t=0;t<o.length;t++){const n=e.nodeBefore;if(e=r.insert(e,o[t]).end,t>0){const t=Mp(r,n,n.nextSibling);t&&t.parent==n&&e.offset--}}Mp(r,e.nodeBefore,e.nodeAfter)}}}function Fp(e,t,n){const r=n.mapper.toViewPosition(t.position),o=r.nodeBefore,i=r.nodeAfter;Mp(n.writer,o,i)}function Up(e,t,n){if(n.consumable.consume(t.viewItem,{name:!0})){const e=n.writer,r=e.createElement("listItem"),o=function(e){let t=0,n=e.parent;for(;n;){if(n.is("li"))t++;else{const e=n.previousSibling;e&&e.is("li")&&t++}n=n.parent}return t}(t.viewItem);e.setAttribute("listIndent",o,r);const i=t.viewItem.parent&&"ol"==t.viewItem.parent.name?"numbered":"bulleted";e.setAttribute("listType",i,r);const a=n.splitToAllowedParent(r,t.modelCursor);if(!a)return;e.insert(r,a.position);const s=function(e,t,n){const{writer:r,schema:o}=n;let i=r.createPositionAfter(e);for(const a of t)if("ul"==a.name||"ol"==a.name)i=n.convertItem(a,i).modelCursor;else{const t=n.convertItem(a,r.createPositionAt(e,"end")),s=t.modelRange.start.nodeAfter;s&&s.is("element")&&!o.checkChild(e,s.name)&&(e=t.modelCursor.parent.is("listItem")?t.modelCursor.parent:Wp(t.modelCursor),i=r.createPositionAfter(e))}return i}(r,t.viewItem.getChildren(),n);t.modelRange=e.createRange(t.modelCursor,s),a.cursorParent?t.modelCursor=e.createPositionAt(a.cursorParent,0):t.modelCursor=t.modelRange.end}}function qp(e,t,n){if(n.consumable.test(t.viewItem,{name:!0})){const e=Array.from(t.viewItem.getChildren());for(const t of e)!t.is("li")&&!Yp(t)&&t._remove()}}function zp(e,t,n){if(n.consumable.test(t.viewItem,{name:!0})){if(0===t.viewItem.childCount)return;const e=[...t.viewItem.getChildren()];let n=!1,r=!0;for(const t of e)n&&!Yp(t)&&t._remove(),t.is("text")?(r&&(t._data=t.data.replace(/^\s+/,"")),t.nextSibling&&!Yp(t.nextSibling)||(t._data=t.data.replace(/\s+$/,""))):Yp(t)&&(n=!0),r=!1}}function Hp(e){return(t,n)=>{if(n.isPhantom)return;const r=n.modelPosition.nodeBefore;if(r&&r.is("listItem")){const t=n.mapper.toViewElement(r),o=t.getAncestors().find(Yp),i=e.createPositionAt(t,0).getWalker();for(const e of i){if("elementStart"==e.type&&e.item.is("li")){n.viewPosition=e.previousPosition;break}if("elementEnd"==e.type&&e.item==o){n.viewPosition=e.nextPosition;break}}}}}function Vp(e,[t,n]){let r,o=t.is("documentFragment")?t.getChild(0):t;if(r=n?this.createSelection(n):this.document.selection,o&&o.is("listItem")){const e=r.getFirstPosition();let t=null;if(e.parent.is("listItem")?t=e.parent:e.nodeBefore&&e.nodeBefore.is("listItem")&&(t=e.nodeBefore),t){const e=t.getAttribute("listIndent");if(e>0)for(;o&&o.is("listItem");)o._setAttribute("listIndent",o.getAttribute("listIndent")+e),o=o.nextSibling}}}function Wp(e){const t=new ri({startPosition:e});let n;do{n=t.next()}while(!n.value.item.is("listItem"));return n.value.item}function Gp(e,t,n,r,o,i){const a=jp(t.nodeBefore,{sameIndent:!0,smallerIndent:!0,listIndent:e,foo:"b"}),s=o.mapper,l=o.writer,c=a?a.getAttribute("listIndent"):null;let u;if(a)if(c==e){const e=s.toViewElement(a).parent;u=l.createPositionAfter(e)}else{const e=i.createPositionAt(a,"end");u=s.toViewPosition(e)}else u=n;u=Ap(u);for(const d of[...r.getChildren()])Yp(d)&&(u=l.move(l.createRangeOn(d),u).end,Mp(l,d,d.nextSibling),Mp(l,d.previousSibling,d))}function Yp(e){return e.is("ol")||e.is("ul")}class Kp extends kl{static get pluginName(){return"ListEditing"}static get requires(){return[Fd]}init(){const e=this.editor;e.model.schema.register("listItem",{inheritAllFrom:"$block",allowAttributes:["listType","listIndent"]});const t=e.data,n=e.editing;var r;e.model.document.registerPostFixer(t=>(function(e,t){const n=e.document.differ.getChanges(),r=new Map;let o=!1;for(const l of n)if("insert"==l.type&&"listItem"==l.name)i(l.position);else if("insert"==l.type&&"listItem"!=l.name){if("$text"!=l.name){const n=l.position.nodeAfter;n.hasAttribute("listIndent")&&(t.removeAttribute("listIndent",n),o=!0),n.hasAttribute("listType")&&(t.removeAttribute("listType",n),o=!0);for(const t of Array.from(e.createRangeIn(n)).filter(e=>e.item.is("listItem")))i(t.previousPosition)}i(l.position.getShiftedBy(l.length))}else"remove"==l.type&&"listItem"==l.name?i(l.position):("attribute"==l.type&&"listIndent"==l.attributeKey||"attribute"==l.type&&"listType"==l.attributeKey)&&i(l.range.start);for(const l of r.values())a(l),s(l);return o;function i(e){const t=e.nodeBefore;if(t&&t.is("listItem")){let n=t;if(r.has(n))return;for(;n.previousSibling&&n.previousSibling.is("listItem");)if(n=n.previousSibling,r.has(n))return;r.set(e.nodeBefore,n)}else{const t=e.nodeAfter;t&&t.is("listItem")&&r.set(t,t)}}function a(e){let n=0,r=null;for(;e&&e.is("listItem");){const i=e.getAttribute("listIndent");if(i>n){let a;null===r?(r=i-n,a=n):(r>i&&(r=i),a=i-r),t.setAttribute("listIndent",a,e),o=!0}else r=null,n=e.getAttribute("listIndent")+1;e=e.nextSibling}}function s(e){let n=[],r=null;for(;e&&e.is("listItem");){const i=e.getAttribute("listIndent");if(r&&r.getAttribute("listIndent")>i&&(n=n.slice(0,i+1)),0!=i)if(n[i]){const r=n[i];e.getAttribute("listType")!=r&&(t.setAttribute("listType",r,e),o=!0)}else n[i]=e.getAttribute("listType");r=e,e=e.nextSibling}}})(e.model,t)),n.mapper.registerViewToModelLength("li",$p),t.mapper.registerViewToModelLength("li",$p),n.mapper.on("modelToViewPosition",Hp(n.view)),n.mapper.on("viewToModelPosition",(r=e.model,(e,t)=>{const n=t.viewPosition,o=n.parent,i=t.mapper;if("ul"==o.name||"ol"==o.name){if(n.isAtEnd){const e=i.toModelElement(n.nodeBefore),o=i.getModelLength(n.nodeBefore);t.modelPosition=r.createPositionBefore(e).getShiftedBy(o)}else{const e=i.toModelElement(n.nodeAfter);t.modelPosition=r.createPositionBefore(e)}e.stop()}else if("li"==o.name&&n.nodeBefore&&("ul"==n.nodeBefore.name||"ol"==n.nodeBefore.name)){const a=i.toModelElement(o);let s=1,l=n.nodeBefore;for(;l&&Yp(l);)s+=i.getModelLength(l),l=l.previousSibling;t.modelPosition=r.createPositionBefore(a).getShiftedBy(s),e.stop()}})),t.mapper.on("modelToViewPosition",Hp(n.view)),e.conversion.for("editingDowncast").add(t=>{t.on("insert",Bp,{priority:"high"}),t.on("insert:listItem",Rp(e.model)),t.on("attribute:listType:listItem",Dp,{priority:"high"}),t.on("attribute:listType:listItem",Lp,{priority:"low"}),t.on("attribute:listIndent:listItem",function(e){return(t,n,r)=>{if(!r.consumable.consume(n.item,"attribute:listIndent"))return;const o=r.mapper.toViewElement(n.item),i=r.writer;i.breakContainer(i.createPositionBefore(o)),i.breakContainer(i.createPositionAfter(o));const a=o.parent,s=a.previousSibling,l=i.createRangeOn(a);i.remove(l),s&&s.nextSibling&&Mp(i,s,s.nextSibling),Gp(n.attributeOldValue+1,n.range.start,l.start,o,r,e),Tp(n.item,o,r,e);for(const e of n.item.getChildren())r.consumable.consume(e,"insert")}}(e.model)),t.on("remove:listItem",function(e){return(t,n,r)=>{const o=r.mapper.toViewPosition(n.position).getLastMatchingPosition(e=>!e.item.is("li")).nodeAfter,i=r.writer;i.breakContainer(i.createPositionBefore(o)),i.breakContainer(i.createPositionAfter(o));const a=o.parent,s=a.previousSibling,l=i.createRangeOn(a),c=i.remove(l);s&&s.nextSibling&&Mp(i,s,s.nextSibling),Gp(r.mapper.toModelElement(o).getAttribute("listIndent")+1,n.position,l.start,o,r,e);for(const e of i.createRangeIn(c).getItems())r.mapper.unbindViewElement(e);t.stop()}}(e.model)),t.on("remove",Fp,{priority:"low"})}),e.conversion.for("dataDowncast").add(t=>{t.on("insert",Bp,{priority:"high"}),t.on("insert:listItem",Rp(e.model))}),e.conversion.for("upcast").add(e=>{e.on("element:ul",qp,{priority:"high"}),e.on("element:ol",qp,{priority:"high"}),e.on("element:li",zp,{priority:"high"}),e.on("element:li",Up)}),e.model.on("insertContent",Vp,{priority:"high"}),e.commands.add("numberedList",new Pp(e,"numbered")),e.commands.add("bulletedList",new Pp(e,"bulleted")),e.commands.add("indentList",new Op(e,"forward")),e.commands.add("outdentList",new Op(e,"backward"));const o=n.view.document;this.listenTo(o,"enter",(e,t)=>{const n=this.editor.model.document,r=n.selection.getLastPosition().parent;n.selection.isCollapsed&&"listItem"==r.name&&r.isEmpty&&(this.editor.execute("outdentList"),t.preventDefault(),e.stop())}),this.listenTo(o,"delete",(e,t)=>{if("backward"!==t.direction)return;const n=this.editor.model.document.selection;if(!n.isCollapsed)return;const r=n.getFirstPosition();if(!r.isAtStart)return;const o=r.parent;"listItem"===o.name&&(o.previousSibling&&"listItem"===o.previousSibling.name||(this.editor.execute("outdentList"),t.preventDefault(),e.stop()))},{priority:"high"});const i=e=>(t,n)=>{this.editor.commands.get(e).isEnabled&&(this.editor.execute(e),n())};e.keystrokes.set("Tab",i("indentList")),e.keystrokes.set("Shift+Tab",i("outdentList"))}afterInit(){const e=this.editor.commands,t=e.get("indent"),n=e.get("outdent");t&&t.registerChildCommand(e.get("indentList")),n&&n.registerChildCommand(e.get("outdentList"))}}function $p(e){let t=1;for(const n of e.getChildren())if("ul"==n.name||"ol"==n.name)for(const e of n.getChildren())t+=$p(e);return t}class Qp extends kl{init(){const e=this.editor.t;Ip(this.editor,"numberedList",e("ae"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM3.5 3v5H2V3.7H1v-1h2.5V3zM.343 17.857l2.59-3.257H2.92a.6.6 0 1 0-1.04 0H.302a2 2 0 1 1 3.995 0h-.001c-.048.405-.16.734-.333.988-.175.254-.59.692-1.244 1.312H4.3v1h-4l.043-.043zM7 14.75a.75.75 0 0 1 .75-.75h9.5a.75.75 0 1 1 0 1.5h-9.5a.75.75 0 0 1-.75-.75z"/></svg>'),Ip(this.editor,"bulletedList",e("af"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0C1 4.784 1.777 4 2.75 4c.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75C1.784 7.5 1 6.723 1 5.75zm6 9c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0c0-.966.777-1.75 1.75-1.75.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75-.966 0-1.75-.777-1.75-1.75z"/></svg>')}}function Jp(e,t){return e=>{e.on("attribute:url:media",n)};function n(n,r,o){if(!o.consumable.consume(r.item,n.name))return;const i=r.attributeNewValue,a=o.writer,s=o.mapper.toViewElement(r.item);a.remove(a.createRangeIn(s));const l=e.getMediaViewElement(a,i,t);a.insert(a.createPositionAt(s,0),l)}}function Xp(e,t,n,r){const o=e.createContainerElement("figure",{class:"media"});return o.getFillerOffset=tf,e.insert(e.createPositionAt(o,0),t.getMediaViewElement(e,n,r)),o}function Zp(e){const t=e.getSelectedElement();return t&&t.is("media")?t:null}function ef(e,t,n){e.change(r=>{const o=r.createElement("media",{url:t});e.insertContent(o,n),r.setSelection(o,"on")})}function tf(){return null}class nf extends El{refresh(){const e=this.editor.model,t=e.document.selection,n=e.schema,r=t.getFirstPosition(),o=Zp(t);let i=r.parent;i!=i.root&&(i=i.parent),this.value=o?o.getAttribute("url"):null,this.isEnabled=n.checkChild(i,"media")}execute(e){const t=this.editor.model,n=t.document.selection,r=Zp(n);if(r)t.change(t=>{t.setAttribute("url",e,r)});else{const r=Qc(n,t);ef(t,e,r)}}}class rf{constructor(e,t){const n=t.providers,r=t.extraProviders||[],o=new Set(t.removeProviders),i=n.concat(r).filter(e=>{const t=e.name;return t?!o.has(t):(console.warn(Object(_t.a)("media-embed-no-provider-name: The configured media provider has no name and cannot be used."),{provider:e}),!1)});this.locale=e,this.providerDefinitions=i}hasMedia(e){return!!this._getMedia(e)}getMediaViewElement(e,t,n){return this._getMedia(t).getViewElement(e,n)}_getMedia(e){if(!e)return new of(this.locale);e=e.trim();for(const t of this.providerDefinitions){const n=t.html;let r=t.url;Array.isArray(r)||(r=[r]);for(const t of r){const r=this._getUrlMatches(e,t);if(r)return new of(this.locale,e,r,n)}}return null}_getUrlMatches(e,t){let n=e.match(t);if(n)return n;let r=e.replace(/^https?:\/\//,"");return(n=r.match(t))||(n=(r=r.replace(/^www\./,"")).match(t))||null}}class of{constructor(e,t,n,r){this.url=this._getValidUrl(t),this._t=e.t,this._match=n,this._previewRenderer=r}getViewElement(e,t){const n={};if(t.renderForEditingView||t.renderMediaPreview&&this.url&&this._previewRenderer){this.url&&(n["data-oembed-url"]=this.url),t.renderForEditingView&&(n.class="ck-media__wrapper");const r=this._getPreviewHtml(t);return e.createUIElement("div",n,function(e){const t=this.toDomElement(e);return t.innerHTML=r,t})}return this.url&&(n.url=this.url),e.createEmptyElement("oembed",n)}_getPreviewHtml(e){return this._previewRenderer?this._previewRenderer(this._match):this.url&&e.renderForEditingView?this._getPlaceholderHtml():""}_getPlaceholderHtml(){const e=new ol,t=new rl;return e.text=this._t("Open media in new tab"),t.content='<svg viewBox="0 0 64 42" xmlns="http://www.w3.org/2000/svg"><path d="M47.426 17V3.713L63.102 0v19.389h-.001l.001.272c0 1.595-2.032 3.43-4.538 4.098-2.506.668-4.538-.083-4.538-1.678 0-1.594 2.032-3.43 4.538-4.098.914-.244 2.032-.565 2.888-.603V4.516L49.076 7.447v9.556A1.014 1.014 0 0 0 49 17h-1.574zM29.5 17h-8.343a7.073 7.073 0 1 0-4.657 4.06v3.781H3.3a2.803 2.803 0 0 1-2.8-2.804V8.63a2.803 2.803 0 0 1 2.8-2.805h4.082L8.58 2.768A1.994 1.994 0 0 1 10.435 1.5h8.985c.773 0 1.477.448 1.805 1.149l1.488 3.177H26.7c1.546 0 2.8 1.256 2.8 2.805V17zm-11.637 0H17.5a1 1 0 0 0-1 1v.05A4.244 4.244 0 1 1 17.863 17zm29.684 2c.97 0 .953-.048.953.889v20.743c0 .953.016.905-.953.905H19.453c-.97 0-.953.048-.953-.905V19.89c0-.937-.016-.889.97-.889h28.077zm-4.701 19.338V22.183H24.154v16.155h18.692zM20.6 21.375v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616V37.53H20.6zm24.233-16.155v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615V37.53h-1.615zM29.485 25.283a.4.4 0 0 1 .593-.35l9.05 4.977a.4.4 0 0 1 0 .701l-9.05 4.978a.4.4 0 0 1-.593-.35v-9.956z"/></svg>',t.viewBox="0 0 64 42",new vs({tag:"div",attributes:{class:"ck ck-reset_all ck-media__placeholder"},children:[{tag:"div",attributes:{class:"ck-media__placeholder__icon"},children:[t]},{tag:"a",attributes:{class:"ck-media__placeholder__url",target:"_blank",rel:"noopener noreferrer",href:this.url},children:[{tag:"span",attributes:{class:"ck-media__placeholder__url__text"},children:[this.url]},e]}]}).render().outerHTML}_getValidUrl(e){return e?e.match(/^https?/)?e:"https://"+e:null}}n(78);class af extends kl{static get pluginName(){return"MediaEmbedEditing"}constructor(e){super(e),e.config.define("mediaEmbed",{providers:[{name:"dailymotion",url:/^dailymotion\.com\/video\/(\w+)/,html:e=>'<div style="position: relative; padding-bottom: 100%; height: 0; ">'+`<iframe src="https://www.dailymotion.com/embed/video/${e[1]}" `+'style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" width="480" height="270" allowfullscreen allow="autoplay"></iframe></div>'},{name:"spotify",url:[/^open\.spotify\.com\/(artist\/\w+)/,/^open\.spotify\.com\/(album\/\w+)/,/^open\.spotify\.com\/(track\/\w+)/],html:e=>'<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 126%;">'+`<iframe src="https://open.spotify.com/embed/${e[1]}" `+'style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" allowtransparency="true" allow="encrypted-media"></iframe></div>'},{name:"youtube",url:[/^(?:m\.)?youtube\.com\/watch\?v=([\w-]+)/,/^(?:m\.)?youtube\.com\/v\/([\w-]+)/,/^youtube\.com\/embed\/([\w-]+)/,/^youtu\.be\/([\w-]+)/],html:e=>'<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 56.2493%;">'+`<iframe src="https://www.youtube.com/embed/${e[1]}" `+'style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div>'},{name:"vimeo",url:[/^vimeo\.com\/(\d+)/,/^vimeo\.com\/[^/]+\/[^/]+\/video\/(\d+)/,/^vimeo\.com\/album\/[^/]+\/video\/(\d+)/,/^vimeo\.com\/channels\/[^/]+\/(\d+)/,/^vimeo\.com\/groups\/[^/]+\/videos\/(\d+)/,/^vimeo\.com\/ondemand\/[^/]+\/(\d+)/,/^player\.vimeo\.com\/video\/(\d+)/],html:e=>'<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 56.2493%;">'+`<iframe src="https://player.vimeo.com/video/${e[1]}" `+'style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe></div>'},{name:"instagram",url:/^instagram\.com\/p\/(\w+)/},{name:"twitter",url:/^twitter\.com/},{name:"googleMaps",url:/^google\.com\/maps/},{name:"flickr",url:/^flickr\.com/},{name:"facebook",url:/^facebook\.com/}]}),this.registry=new rf(e.locale,e.config.get("mediaEmbed"))}init(){const e=this.editor,t=e.model.schema,n=e.t,r=e.conversion,o=e.config.get("mediaEmbed.previewsInData"),i=this.registry;e.commands.add("mediaEmbed",new nf(e)),t.register("media",{isObject:!0,isBlock:!0,allowWhere:"$block",allowAttributes:["url"]}),r.for("dataDowncast").elementToElement({model:"media",view:(e,t)=>{const n=e.getAttribute("url");return Xp(t,i,n,{renderMediaPreview:n&&o})}}),r.for("dataDowncast").add(Jp(i,{renderMediaPreview:o})),r.for("editingDowncast").elementToElement({model:"media",view:(e,t)=>{const r=e.getAttribute("url");return o=Xp(t,i,r,{renderForEditingView:!0}),a=t,s=n("ar"),a.setCustomProperty("media",!0,o),Yc(o,a,{label:s});var o,a,s}}),r.for("editingDowncast").add(Jp(i,{renderForEditingView:!0})),r.for("upcast").elementToElement({view:{name:"oembed",attributes:{url:!0}},model:(e,t)=>{const n=e.getAttribute("url");if(i.hasMedia(n))return t.createElement("media",{url:n})}}).elementToElement({view:{name:"div",attributes:{"data-oembed-url":!0}},model:(e,t)=>{const n=e.getAttribute("data-oembed-url");if(i.hasMedia(n))return t.createElement("media",{url:n})}})}}const sf=/^(?:http(s)?:\/\/)?[\w.-]+(?:\.[\w.-]+)+[\w\-._~:/?#[\]@!$&'()*+,;=]+$/;class lf extends kl{static get requires(){return[Pl,mc]}static get pluginName(){return"AutoMediaEmbed"}constructor(e){super(e),this._timeoutId=null,this._positionToInsert=null}init(){const e=this.editor,t=e.model.document;this.listenTo(e.plugins.get(Pl),"inputTransformation",()=>{const e=t.selection.getFirstRange(),n=za.fromPosition(e.start);n.stickiness="toPrevious";const r=za.fromPosition(e.end);r.stickiness="toNext",t.once("change:data",()=>{this._embedMediaBetweenPositions(n,r),n.detach(),r.detach()},{priority:"high"})}),e.commands.get("undo").on("execute",()=>{this._timeoutId&&(Hr.window.clearTimeout(this._timeoutId),this._positionToInsert.detach(),this._timeoutId=null,this._positionToInsert=null)},{priority:"high"})}_embedMediaBetweenPositions(e,t){const n=this.editor,r=n.plugins.get(af).registry,o=new bi(e,t),i=o.getWalker({ignoreElementEnd:!0});let a="";for(const s of i)s.item.is("textProxy")&&(a+=s.item.data);(a=a.trim()).match(sf)&&r.hasMedia(a)&&n.commands.get("mediaEmbed").isEnabled&&(this._positionToInsert=za.fromPosition(e),this._timeoutId=Hr.window.setTimeout(()=>{n.model.change(e=>{let t;this._timeoutId=null,e.remove(o),"$graveyard"!==this._positionToInsert.root.rootName&&(t=this._positionToInsert),ef(n.model,a,t),this._positionToInsert.detach(),this._positionToInsert=null})},100))}}n(80);class cf extends Ds{constructor(e,t){super(t);const n=t.t;this.focusTracker=new cs,this.keystrokes=new es,this.urlInputView=this._createUrlInput(),this.saveButtonView=this._createButton(n("bb"),od,"ck-button-save"),this.saveButtonView.type="submit",this.cancelButtonView=this._createButton(n("bc"),id,"ck-button-cancel","cancel"),this._focusables=new bs,this._focusCycler=new Ys({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this._validators=e,this.setTemplate({tag:"form",attributes:{class:["ck","ck-media-form"],tabindex:"-1"},children:[this.urlInputView,this.saveButtonView,this.cancelButtonView]})}render(){super.render(),rd({view:this}),[this.urlInputView,this.saveButtonView,this.cancelButtonView].forEach(e=>{this._focusables.add(e),this.focusTracker.add(e.element)}),this.keystrokes.listenTo(this.element);const e=e=>e.stopPropagation();this.keystrokes.set("arrowright",e),this.keystrokes.set("arrowleft",e),this.keystrokes.set("arrowup",e),this.keystrokes.set("arrowdown",e),this.listenTo(this.urlInputView.element,"selectstart",(e,t)=>{t.stopPropagation()},{priority:"high"})}focus(){this._focusCycler.focusFirst()}get url(){return this.urlInputView.inputView.element.value.trim()}set url(e){this.urlInputView.inputView.element.value=e.trim()}isValid(){this.resetFormStatus();for(const e of this._validators){const t=e(this);if(t)return this.urlInputView.errorText=t,!1}return!0}resetFormStatus(){this.urlInputView.errorText=null,this.urlInputView.infoText=this._urlInputViewInfoDefault}_createUrlInput(){const e=this.locale.t,t=new td(this.locale,nd),n=t.inputView;return this._urlInputViewInfoDefault=e("bd"),this._urlInputViewInfoTip=e("be"),t.label=e("bf"),t.infoText=this._urlInputViewInfoDefault,n.placeholder="https://example.com",n.on("input",()=>{t.infoText=n.element.value?this._urlInputViewInfoTip:this._urlInputViewInfoDefault}),t}_createButton(e,t,n,r){const o=new il(this.locale);return o.set({label:e,icon:t,tooltip:!0}),o.extendTemplate({attributes:{class:n}}),r&&o.delegate("execute").to(this,r),o}}class uf extends kl{static get requires(){return[af]}static get pluginName(){return"MediaEmbedUI"}init(){const e=this.editor,t=e.commands.get("mediaEmbed"),n=e.plugins.get(af).registry;this.form=new cf(function(e,t){return[t=>{if(!t.url.length)return e("ap")},n=>{if(!t.hasMedia(n.url))return e("aq")}]}(e.t,n),e.locale),e.ui.componentFactory.add("mediaEmbed",n=>{const r=pl(n);return this._setUpDropdown(r,this.form,t,e),this._setUpForm(this.form,r,t),r})}_setUpDropdown(e,t,n){const r=this.editor,o=r.t,i=e.buttonView;function a(){r.editing.view.focus(),e.isOpen=!1}e.bind("isEnabled").to(n),e.panelView.children.add(t),i.set({label:o("ao"),icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M18.68 3.03c.6 0 .59-.03.59.55v12.84c0 .59.01.56-.59.56H1.29c-.6 0-.59.03-.59-.56V3.58c0-.58-.01-.55.6-.55h17.38zM15.77 15V5H4.2v10h11.57zM2 4v1h1V4H2zm0 2v1h1V6H2zm0 2v1h1V8H2zm0 2v1h1v-1H2zm0 2v1h1v-1H2zm0 2v1h1v-1H2zM17 4v1h1V4h-1zm0 2v1h1V6h-1zm0 2v1h1V8h-1zm0 2v1h1v-1h-1zm0 2v1h1v-1h-1zm0 2v1h1v-1h-1zM7.5 7.177a.4.4 0 01.593-.351l5.133 2.824a.4.4 0 010 .7l-5.133 2.824a.4.4 0 01-.593-.35V7.176v.001z"/></svg>\n',tooltip:!0}),i.on("open",()=>{t.url=n.value||"",t.urlInputView.select(),t.focus()},{priority:"low"}),e.on("submit",()=>{t.isValid()&&(r.execute("mediaEmbed",t.url),a())}),e.on("change:isOpen",()=>t.resetFormStatus()),e.on("cancel",()=>a())}_setUpForm(e,t,n){e.delegate("submit","cancel").to(t),e.urlInputView.bind("value").to(n,"value"),e.urlInputView.bind("isReadOnly").to(n,"isEnabled",e=>!e),e.saveButtonView.bind("isEnabled").to(n)}}function df(e,t,n){const r=t.parent,o=n.createElement(e.type),i=r.getChildIndex(t)+1;return n.insertChild(i,o,r),o}function pf(e){const t={},n=e.getStyle("mso-list");if(n){const e=n.match(/(^|\s+)l(\d+)/i),r=n.match(/\s*lfo(\d+)/i),o=n.match(/\s*level(\d+)/i);e&&r&&o&&(t.id=e[2],t.order=r[1],t.indent=o[1])}return t}n(82);const ff=/id=("|')docs-internal-guid-[-0-9a-f]+("|')/i;function hf(e){return e.replace(/<span(?: class="Apple-converted-space"|)>(\s+)<\/span>/g,(e,t)=>1===t.length?" ":Array(t.length+1).join("\xa0 ").substr(0,t.length))}const mf=/<meta\s*name="?generator"?\s*content="?microsoft\s*word\s*\d+"?\/?>/i,gf=/xmlns:o="urn:schemas-microsoft-com/i;function bf(e,t){let n=t.parent;for(;n;){if(n.name===e)return n;n=n.parent}}function vf(e,t,n,r,o=1){t>o?r.setAttribute(e,t,n):r.removeAttribute(e,n)}function yf(e,t,n={}){const r=e.createElement("tableCell",n);e.insertElement("paragraph",r),e.insert(r,t)}function kf(e,t){const n=t.parent.parent,r=parseInt(n.getAttribute("headingColumns")||0),{column:o}=e.getCellLocation(t);return!!r&&o<r}function _f(e){return t=>{t.on(`element:${e}`,(e,t,n)=>{const r=t.viewItem;if(!n.consumable.test(r,{name:!0}))return;const o=n.writer.createElement("tableCell"),i=n.splitToAllowedParent(o,t.modelCursor);if(!i)return;n.writer.insert(o,i.position),n.consumable.consume(r,{name:!0});const a=n.writer.createPositionAt(o,0);n.convertChildren(r,a),o.childCount||n.writer.insertElement("paragraph",a),t.modelRange=n.writer.createRange(n.writer.createPositionBefore(o),n.writer.createPositionAfter(o)),t.modelCursor=t.modelRange.end})}}function wf(e){let t=0,n=0;const r=Array.from(e.getChildren()).filter(e=>"th"===e.name||"td"===e.name);for(;n<r.length&&"th"===r[n].name;){const e=r[n];t+=parseInt(e.getAttribute("colspan")||1),n++}return t}class Cf{constructor(e,t={}){this.table=e,this.startRow=t.startRow||0,this.endRow="number"==typeof t.endRow?t.endRow:void 0,this.includeSpanned=!!t.includeSpanned,this.column="number"==typeof t.column?t.column:void 0,this._skipRows=new Set,this._row=0,this._column=0,this._cellIndex=0,this._spannedCells=new Map,this._nextCellAtColumn=-1}[Symbol.iterator](){return this}next(){const e=this.table.getChild(this._row);if(!e||this._isOverEndRow())return{done:!0};let t,n,r;if(this._isSpanned(this._row,this._column))t=this._getSpanned(this._row,this._column),n=!this.includeSpanned||this._shouldSkipRow()||this._shouldSkipColumn(),r=this._formatOutValue(t,this._column,!0);else{if(!(t=e.getChild(this._cellIndex)))return this._row++,this._column=0,this._cellIndex=0,this._nextCellAtColumn=-1,this.next();const o=parseInt(t.getAttribute("colspan")||1),i=parseInt(t.getAttribute("rowspan")||1);(o>1||i>1)&&this._recordSpans(this._row,this._column,i,o,t),this._nextCellAtColumn=this._column+o,n=this._shouldSkipRow()||this._shouldSkipColumn(),r=this._formatOutValue(t,this._column,!1,i,o)}return this._column++,this._column==this._nextCellAtColumn&&this._cellIndex++,n?this.next():r}skipRow(e){this._skipRows.add(e)}_isOverEndRow(){return void 0!==this.endRow&&this._row>this.endRow}_formatOutValue(e,t,n,r=1,o=1){return{done:!1,value:{cell:e,row:this._row,column:t,isSpanned:n,rowspan:r,colspan:o,cellIndex:this._cellIndex}}}_shouldSkipRow(){const e=this._row<this.startRow,t=this._skipRows.has(this._row);return e||t}_shouldSkipColumn(){return void 0!==this.column&&this.column!=this._column}_isSpanned(e,t){return!!this._spannedCells.has(e)&&this._spannedCells.get(e).has(t)}_getSpanned(e,t){return this._spannedCells.get(e).get(t)}_recordSpans(e,t,n,r,o){for(let i=t+1;i<=t+r-1;i++)this._markSpannedCell(e,i,o);for(let i=e+1;i<e+n;i++)for(let e=t;e<=t+r-1;e++)this._markSpannedCell(i,e,o)}_markSpannedCell(e,t,n){this._spannedCells.has(e)||this._spannedCells.set(e,new Map),this._spannedCells.get(e).set(t,n)}}function Sf(e){return!!e.getCustomProperty("table")&&Gc(e)}function Pf(e){const t=e.getSelectedElement();return t&&Sf(t)?t:null}function Ef(e){const t=bf("table",e.getFirstPosition());return t&&Sf(t.parent)?t.parent:null}function xf(e){const t=[];for(const r of(n=e.getRanges(),Array.from(n).sort(Mf))){const e=r.getContainedElement();e&&e.is("tableCell")&&t.push(e)}var n;return t}function Of(e){const t=[];for(const n of e.getRanges()){const e=bf("tableCell",n.start);e&&t.push(e)}return t}function Tf(e){const t=xf(e);return t.length?t:Of(e)}function Mf(e,t){const n=e.start,r=t.start;return n.isEqual(r)?0:n.isBefore(r)?-1:1}function Af(e={}){return t=>t.on("insert:table",(t,n,r)=>{const o=n.item;if(!r.consumable.consume(o,"insert"))return;r.consumable.consume(o,"attribute:headingRows:table"),r.consumable.consume(o,"attribute:headingColumns:table");const i=e&&e.asWidget,a=r.writer.createContainerElement("figure",{class:"table"}),s=r.writer.createContainerElement("table");let l;var c,u;r.writer.insert(r.writer.createPositionAt(a,0),s),i&&(c=a,(u=r.writer).setCustomProperty("table",!0,c),l=Yc(c,u,{hasSelectionHandle:!0}));const d=new Cf(o),p={headingRows:o.getAttribute("headingRows")||0,headingColumns:o.getAttribute("headingColumns")||0},f=new Map;for(const m of d){const{row:t,cell:n}=m,i=zf(qf(t,p),s,r),a=o.getChild(t),l=f.get(t)||Ff(a,t,i,r);f.set(t,l),r.consumable.consume(n,"insert"),Bf(m,p,r.writer.createPositionAt(l,"end"),r,e)}const h=r.mapper.toViewPosition(n.range.start);r.mapper.bindElements(o,i?l:a),r.writer.insert(h,i?l:a)})}function jf(e={}){return t=>t.on("insert:tableRow",(t,n,r)=>{const o=n.item;if(!r.consumable.consume(o,"insert"))return;const i=o.parent,a=Gf(r.mapper.toViewElement(i)),s=i.getChildIndex(o),l=new Cf(i,{startRow:s,endRow:s}),c={headingRows:i.getAttribute("headingRows")||0,headingColumns:i.getAttribute("headingColumns")||0},u=new Map;for(const d of l){const t=zf(qf(s,c),a,r),n=u.get(s)||Ff(o,s,t,r);u.set(s,n),r.consumable.consume(d.cell,"insert"),Bf(d,c,r.writer.createPositionAt(n,"end"),r,e)}})}function If(e={}){return t=>t.on("insert:tableCell",(t,n,r)=>{const o=n.item;if(!r.consumable.consume(o,"insert"))return;const i=o.parent,a=i.parent,s=a.getChildIndex(i),l=new Cf(a,{startRow:s,endRow:s}),c={headingRows:a.getAttribute("headingRows")||0,headingColumns:a.getAttribute("headingColumns")||0};for(const u of l)if(u.cell===o){const t=r.mapper.toViewElement(i);return void Bf(u,c,r.writer.createPositionAt(t,i.getChildIndex(o)),r,e)}})}function Nf(e={}){const t=!!e.asWidget;return e=>e.on("attribute:headingRows:table",(e,n,r)=>{const o=n.item;if(!r.consumable.consume(n.item,e.name))return;const i=Gf(r.mapper.toViewElement(o)),a=n.attributeOldValue,s=n.attributeNewValue;if(s>a){const e=Array.from(o.getChildren()).filter(({index:e})=>l(e,a-1,s));Wf(e,zf("thead",i,r),r,"end");for(const n of e)for(const e of n.getChildren())Df(e,"th",r,t);Vf("tbody",i,r)}else{Wf(Array.from(o.getChildren()).filter(({index:e})=>l(e,s-1,a)).reverse(),zf("tbody",i,r),r,0);const e=new Cf(o,{startRow:s?s-1:s,endRow:a-1}),n={headingRows:o.getAttribute("headingRows")||0,headingColumns:o.getAttribute("headingColumns")||0};for(const o of e)Lf(o,n,r,t);Vf("thead",i,r)}function l(e,t,n){return e>t&&e<n}})}function Rf(e={}){const t=!!e.asWidget;return e=>e.on("attribute:headingColumns:table",(e,n,r)=>{const o=n.item;if(!r.consumable.consume(n.item,e.name))return;const i={headingRows:o.getAttribute("headingRows")||0,headingColumns:o.getAttribute("headingColumns")||0},a=n.attributeOldValue,s=n.attributeNewValue,l=(a>s?a:s)-1;for(const c of new Cf(o))c.column>l||Lf(c,i,r,t)})}function Df(e,t,n,r){const o=n.writer,i=n.mapper.toViewElement(e);if(!i)return;let a;r?(a=$c(o.createEditableElement(t,i.getAttributes()),o),o.insert(o.createPositionAfter(i),a),o.move(o.createRangeIn(i),o.createPositionAt(a,0)),o.remove(o.createRangeOn(i))):a=o.rename(t,i),n.mapper.unbindViewElement(i),n.mapper.bindElements(e,a)}function Lf(e,t,n,r){const{cell:o}=e,i=Uf(e,t),a=n.mapper.toViewElement(o);a&&a.name!==i&&Df(o,i,n,r)}function Bf(e,t,n,r,o){const i=o&&o.asWidget,a=Uf(e,t),s=i?$c(r.writer.createEditableElement(a),r.writer):r.writer.createContainerElement(a),l=e.cell,c=l.getChild(0),u=1===l.childCount&&"paragraph"===c.name;if(r.writer.insert(n,s),u&&![...c.getAttributeKeys()].length){const e=l.getChild(0),t=r.writer.createPositionAt(s,"end");if(r.consumable.consume(e,"insert"),o.asWidget){const n=r.writer.createContainerElement("span",{style:"display:inline-block"});r.mapper.bindElements(e,n),r.writer.insert(t,n),r.mapper.bindElements(l,s)}else r.mapper.bindElements(l,s),r.mapper.bindElements(e,s)}else r.mapper.bindElements(l,s)}function Ff(e,t,n,r){r.consumable.consume(e,"insert");const o=r.writer.createContainerElement("tr");r.mapper.bindElements(e,o);const i=e.parent.getAttribute("headingRows")||0,a=i>0&&t>=i?t-i:t,s=r.writer.createPositionAt(n,a);return r.writer.insert(s,o),o}function Uf(e,t){const{row:n,column:r}=e,{headingColumns:o,headingRows:i}=t;return i&&i>n||o&&o>r?"th":"td"}function qf(e,t){return e<t.headingRows?"thead":"tbody"}function zf(e,t,n){return Hf(e,t)||function(e,t,n){const r=n.writer.createContainerElement(e),o=n.writer.createPositionAt(t,"tbody"==e?"end":0);return n.writer.insert(o,r),r}(e,t,n)}function Hf(e,t){for(const n of t.getChildren())if(n.name==e)return n}function Vf(e,t,n){const r=Hf(e,t);r&&0===r.childCount&&n.writer.remove(n.writer.createRangeOn(r))}function Wf(e,t,n,r){for(const o of e){const e=n.mapper.toViewElement(o);e&&n.writer.move(n.writer.createRangeOn(e),n.writer.createPositionAt(t,r))}}function Gf(e){for(const t of e.getChildren())if("table"===t.name)return t}class Yf extends El{refresh(){const e=this.editor.model,t=e.document.selection,n=e.schema,r=function(e){const t=e.parent;return t===t.root?t:t.parent}(t.getFirstPosition());this.isEnabled=n.checkChild(r,"table")}execute(e={}){const t=this.editor.model,n=t.document.selection,r=this.editor.plugins.get("TableUtils"),o=parseInt(e.rows)||2,i=parseInt(e.columns)||2,a=Qc(n,t);t.change(e=>{const n=r.createTable(e,o,i);t.insertContent(n,a),e.setSelection(e.createPositionAt(n.getNodeByPath([0,0,0]),0))})}}class Kf extends El{constructor(e,t={}){super(e),this.order=t.order||"below"}refresh(){const e=bf("table",this.editor.model.document.selection.getFirstPosition());this.isEnabled=!!e}execute(){const e=this.editor,t=e.model.document.selection,n=e.plugins.get("TableUtils"),r="above"===this.order,o=r?t.getFirstPosition():t.getLastPosition(),i=((r?t.getFirstRange():t.getLastRange()).getContainedElement()||bf("tableCell",o)).parent,a=i.parent,s=a.getChildIndex(i);n.insertRows(a,{rows:1,at:"below"===this.order?s+1:s})}}class $f extends El{constructor(e,t={}){super(e),this.order=t.order||"right"}refresh(){const e=bf("table",this.editor.model.document.selection.getFirstPosition());this.isEnabled=!!e}execute(){const e=this.editor,t=e.model.document.selection,n=e.plugins.get("TableUtils"),r="left"===this.order,o=r?t.getFirstPosition():t.getLastPosition(),i=(r?t.getFirstRange():t.getLastRange()).getContainedElement()||bf("tableCell",o),a=i.parent.parent,{column:s}=n.getCellLocation(i);n.insertColumns(a,{columns:1,at:r?s:s+1})}}class Qf extends El{constructor(e,t={}){super(e),this.direction=t.direction||"horizontally"}refresh(){const e=Tf(this.editor.model.document.selection);this.isEnabled=1===e.length}execute(){const e=Tf(this.editor.model.document.selection)[0],t="horizontally"===this.direction,n=this.editor.plugins.get("TableUtils");t?n.splitCellHorizontally(e,2):n.splitCellVertically(e,2)}}class Jf extends El{constructor(e,t){super(e),this.direction=t.direction,this.isHorizontal="right"==this.direction||"left"==this.direction}refresh(){const e=this._getMergeableCell();this.value=e,this.isEnabled=!!e}execute(){const e=this.editor.model,t=Of(e.document.selection)[0],n=this.value,r=this.direction;e.change(e=>{const o="right"==r||"down"==r,i=o?t:n,a=o?n:t,s=a.parent;!function(e,t,n){Xf(e)||(Xf(t)&&n.remove(n.createRangeIn(t)),n.move(n.createRangeIn(e),n.createPositionAt(t,"end"))),n.remove(e)}(a,i,e);const l=this.isHorizontal?"colspan":"rowspan",c=parseInt(t.getAttribute(l)||1),u=parseInt(n.getAttribute(l)||1);e.setAttribute(l,c+u,i),e.setSelection(e.createRangeIn(i)),s.childCount||function(e,t){const n=e.parent,r=n.getChildIndex(e);for(const{cell:o,row:i,rowspan:a}of new Cf(n,{endRow:r}))i+a-1>=r&&vf("rowspan",a-1,o,t);t.remove(e)}(s,e)})}_getMergeableCell(){const e=Of(this.editor.model.document.selection)[0];if(!e)return;const t=this.editor.plugins.get("TableUtils"),n=this.isHorizontal?function(e,t,n){const r=e.parent.parent,o="right"==t?e.nextSibling:e.previousSibling,i=(r.getAttribute("headingColumns")||0)>0;if(!o)return;const a="right"==t?e:o,s="right"==t?o:e,{column:l}=n.getCellLocation(a),{column:c}=n.getCellLocation(s),u=parseInt(a.getAttribute("colspan")||1),d=kf(n,a),p=kf(n,s);return i&&d!=p?void 0:l+u===c?o:void 0}(e,this.direction,t):function(e,t){const n=e.parent,r=n.parent,o=r.getChildIndex(n);if("down"==t&&o===r.childCount-1||"up"==t&&0===o)return;const i=parseInt(e.getAttribute("rowspan")||1),a=r.getAttribute("headingRows")||0;if(a&&("down"==t&&o+i===a||"up"==t&&o===a))return;const s=parseInt(e.getAttribute("rowspan")||1),l="down"==t?o+s:o,c=[...new Cf(r,{endRow:l})],u=c.find(t=>t.cell===e).column,d=c.find(({row:e,rowspan:n,column:r})=>r===u&&("down"==t?e===l:l===e+n));return d&&d.cell}(e,this.direction);if(!n)return;const r=this.isHorizontal?"rowspan":"colspan",o=parseInt(e.getAttribute(r)||1);return parseInt(n.getAttribute(r)||1)===o?n:void 0}}function Xf(e){return 1==e.childCount&&e.getChild(0).is("paragraph")&&e.getChild(0).isEmpty}class Zf extends El{refresh(){const e=Tf(this.editor.model.document.selection),t=e[0];if(t){const n=t.parent.parent,r=this.editor.plugins.get("TableUtils").getRows(n),o=[...new Cf(n)].filter(t=>e.includes(t.cell)).map(e=>e.row),i=o[0],a=o[o.length-1];this.isEnabled=a-i<r-1}else this.isEnabled=!1}execute(){const e=Tf(this.editor.model.document.selection),t=function(e){const t=e.map(e=>e.parent.index).sort();return{first:t[0],last:t[t.length-1]}}(e),n=e[0],r=n.parent.parent,o=[...new Cf(r,{endRow:t.last})],i=this.editor.model.createBatch(),a=function(e,t){return o.find(e=>e.cell===t).column}(0,n);let s;this.editor.model.enqueueChange(i,e=>{e.setSelection(e.createSelection(r,"on"))});for(let l=t.last;l>=t.first;l--)this.editor.model.enqueueChange(i,e=>{const t=l;this._removeRow(t,r,e,o),s=eh(r,t,a)});this.editor.model.enqueueChange(i,e=>{e.setSelection(e.createPositionAt(s,0))})}_removeRow(e,t,n,r){const o=new Map,i=t.getChild(e),a=t.getAttribute("headingRows")||0;a&&e<a&&vf("headingRows",a-1,t,n,0),r.filter(({row:t,rowspan:n})=>t===e&&n>1).forEach(({column:e,cell:t,rowspan:n})=>o.set(e,{cell:t,rowspanToSet:n-1})),r.filter(({row:t,rowspan:n})=>t<=e-1&&t+n>e).forEach(({cell:e,rowspan:t})=>vf("rowspan",t-1,e,n));const s=e+1,l=new Cf(t,{includeSpanned:!0,startRow:s,endRow:s});let c;for(const{row:u,column:d,cell:p}of[...l])if(o.has(d)){const{cell:e,rowspanToSet:r}=o.get(d),i=c?n.createPositionAfter(c):n.createPositionAt(t.getChild(u),0);n.move(n.createRangeOn(e),i),vf("rowspan",r,e,n),c=e}else c=p;n.remove(i)}}function eh(e,t,n){const r=e.getChild(t)||e.getChild(e.childCount-1);let o=r.getChild(0),i=0;for(const a of r.getChildren()){if(i>n)return o;o=a,i+=parseInt(a.getAttribute("colspan")||1)}return o}class th extends El{refresh(){const e=Tf(this.editor.model.document.selection),t=e[0];if(t){const n=t.parent.parent,r=this.editor.plugins.get("TableUtils").getColumns(n),o=[...new Cf(n)].filter(t=>e.includes(t.cell)).map(e=>e.column).sort(),i=o[0],a=o[o.length-1];this.isEnabled=a-i<r-1}else this.isEnabled=!1}execute(){const[e,t]=function(e){const t=Tf(e),n=t[0],r=t.pop(),o=[n,r];return n.isBefore(r)?o:o.reverse()}(this.editor.model.document.selection),n=e.parent.parent,r=[...new Cf(n)],o={first:r.find(t=>t.cell===e).column,last:r.find(e=>e.cell===t).column},i=function(e,t,n,r){return parseInt(n.getAttribute("colspan")||1)>1?n:t.previousSibling||n.nextSibling?n.nextSibling||t.previousSibling:r.first?e.reverse().find(({column:e})=>e<r.first).cell:e.reverse().find(({column:e})=>e>r.last).cell}(r,e,t,o);this.editor.model.change(e=>{e.setSelection(e.createRangeOn(n)),function(e,t,n){const r=e.getAttribute("headingColumns")||0;if(r&&t.first<=r){const o=Math.min(r-1,t.last)-t.first+1;n.setAttribute("headingColumns",r-o,e)}}(n,o,e);for(let t=o.last;t>=o.first;t--)for(const{cell:n,column:o,colspan:i}of r)if(o<=t&&i>1&&o+i>t)vf("colspan",i-1,n,e);else if(o===t){const t=n.parent;e.remove(n),t.childCount||e.remove(t)}e.setSelection(e.createPositionAt(i,0))})}}class nh extends El{refresh(){const e=Tf(this.editor.model.document.selection),t=e.length>0;this.isEnabled=t,this.value=t&&e.every(e=>this._isInHeading(e,e.parent.parent))}execute(e={}){const t=this.editor.model,n=Tf(t.document.selection),r=n[0],o=n[n.length-1],i=r.parent.parent,a=i.getAttribute("headingRows")||0,[s,l]=[r.parent.index,o.parent.index].sort();if(e.forceValue===this.value)return;const c=this.value?s:l+1;t.change(e=>{if(c){const t=function(e,t,n){const r=[],o=new Cf(i,{startRow:t>a?a:0,endRow:t-1});for(const{row:i,rowspan:a,cell:s}of o)a>1&&i+a>t&&r.push(s);return r}(0,c);for(const n of t)rh(n,c,e)}vf("headingRows",c,i,e,0)})}_isInHeading(e,t){const n=parseInt(t.getAttribute("headingRows")||0);return!!n&&e.parent.index<n}}function rh(e,t,n){const r=e.parent,o=r.parent,i=t-r.index,a={},s=parseInt(e.getAttribute("rowspan"))-i;s>1&&(a.rowspan=s);const l=parseInt(e.getAttribute("colspan")||1);l>1&&(a.colspan=l);const c=o.getChildIndex(r),u=c+i,d=[...new Cf(o,{startRow:c,endRow:u,includeSpanned:!0})];let p;for(const{row:f,column:h,cell:m,cellIndex:g}of d)if(m===e&&void 0===p&&(p=h),void 0!==p&&p===h&&f===u){const e=o.getChild(f);yf(n,n.createPositionAt(e,g),a)}vf("rowspan",i,e,n)}class oh extends El{refresh(){const e=Tf(this.editor.model.document.selection),t=this.editor.plugins.get("TableUtils"),n=e.length>0;this.isEnabled=n,this.value=n&&e.every(e=>kf(t,e))}execute(e={}){const t=this.editor.model,n=this.editor.plugins.get("TableUtils"),r=Tf(t.document.selection),o=r[0],i=r[r.length-1],a=o.parent.parent,[s,l]=[n.getCellLocation(o).column,n.getCellLocation(i).column].sort();if(e.forceValue===this.value)return;const c=this.value?s:l+1;t.change(e=>{vf("headingColumns",c,a,e,0)})}}class ih extends kl{static get pluginName(){return"TableUtils"}getCellLocation(e){const t=e.parent,n=t.parent,r=n.getChildIndex(t),o=new Cf(n,{startRow:r,endRow:r});for(const{cell:i,row:a,column:s}of o)if(i===e)return{row:a,column:s}}createTable(e,t,n){const r=e.createElement("table");return ah(e,r,0,t,n),r}insertRows(e,t={}){const n=this.editor.model,r=t.at||0,o=t.rows||1;n.change(t=>{const n=e.getAttribute("headingRows")||0;if(n>r&&t.setAttribute("headingRows",n+o,e),0===r||r===e.childCount)return void ah(t,e,r,o,this.getColumns(e));const i=new Cf(e,{endRow:r});let a=0;for(const{row:e,rowspan:s,colspan:l,cell:c}of i)e<r&&e+s>r&&t.setAttribute("rowspan",s+o,c),e===r&&(a+=l);ah(t,e,r,o,a)})}insertColumns(e,t={}){const n=this.editor.model,r=t.at||0,o=t.columns||1;n.change(t=>{const n=e.getAttribute("headingColumns");r<n&&t.setAttribute("headingColumns",n+o,e);const i=this.getColumns(e);if(0===r||i===r){for(const n of e.getChildren())sh(o,t,t.createPositionAt(n,r?"end":0));return}const a=new Cf(e,{column:r,includeSpanned:!0});for(const{row:s,cell:l,cellIndex:c}of a){const n=parseInt(l.getAttribute("rowspan")||1),i=parseInt(l.getAttribute("colspan")||1);if(l.index!==r&&i>1){if(t.setAttribute("colspan",i+o,l),a.skipRow(s),n>1)for(let e=s+1;e<s+n;e++)a.skipRow(e)}else{const n=t.createPositionAt(e.getChild(s),c);sh(o,t,n)}}})}splitCellVertically(e,t=2){const n=this.editor.model,r=e.parent.parent,o=parseInt(e.getAttribute("rowspan")||1),i=parseInt(e.getAttribute("colspan")||1);n.change(n=>{if(i>1){const{newCellsSpan:r,updatedSpan:a}=lh(i,t);vf("colspan",a,e,n);const s={};r>1&&(s.colspan=r),o>1&&(s.rowspan=o),sh(i>t?t-1:i-1,n,n.createPositionAfter(e),s)}if(i<t){const a=t-i,s=[...new Cf(r)],{column:l}=s.find(({cell:t})=>t===e),c=s.filter(({cell:t,colspan:n,column:r})=>t!==e&&r===l||r<l&&r+n>l);for(const{cell:e,colspan:t}of c)n.setAttribute("colspan",t+a,e);const u={};o>1&&(u.rowspan=o),sh(a,n,n.createPositionAfter(e),u);const d=r.getAttribute("headingColumns")||0;d>l&&vf("headingColumns",d+a,r,n)}})}splitCellHorizontally(e,t=2){const n=this.editor.model,r=e.parent,o=r.parent,i=o.getChildIndex(r),a=parseInt(e.getAttribute("rowspan")||1),s=parseInt(e.getAttribute("colspan")||1);n.change(n=>{if(a>1){const r=[...new Cf(o,{startRow:i,endRow:i+a-1,includeSpanned:!0})],{newCellsSpan:l,updatedSpan:c}=lh(a,t);vf("rowspan",c,e,n);const{column:u}=r.find(({cell:t})=>t===e),d={};l>1&&(d.rowspan=l),s>1&&(d.colspan=s);for(const{column:e,row:t,cellIndex:a}of r)t>=i+c&&e===u&&(t+i+c)%l==0&&sh(1,n,n.createPositionAt(o.getChild(t),a),d)}if(a<t){const r=t-a,l=[...new Cf(o,{startRow:0,endRow:i})];for(const{cell:t,rowspan:o,row:a}of l)if(t!==e&&a+o>i){const e=o+r;n.setAttribute("rowspan",e,t)}const c={};s>1&&(c.colspan=s),ah(n,o,i+1,r,1,c);const u=o.getAttribute("headingRows")||0;u>i&&vf("headingRows",u+r,o,n)}})}getColumns(e){return[...e.getChild(0).getChildren()].reduce((e,t)=>e+parseInt(t.getAttribute("colspan")||1),0)}getRows(e){return e.childCount}}function ah(e,t,n,r,o,i={}){for(let a=0;a<r;a++){const r=e.createElement("tableRow");e.insert(r,t,n),sh(o,e,e.createPositionAt(r,"end"),i)}}function sh(e,t,n,r={}){for(let o=0;o<e;o++)yf(t,n,r)}function lh(e,t){if(e<t)return{newCellsSpan:1,updatedSpan:1};const n=Math.floor(e/t);return{newCellsSpan:n,updatedSpan:e-n*t+n}}function ch(e,t){let n=!1;const r=function(e){const t=parseInt(e.getAttribute("headingRows")||0),n=e.childCount,r=[];for(const{row:o,rowspan:i,cell:a}of new Cf(e)){if(i<2)continue;const e=o<t?t:n;if(o+i>e){const t=e-o;r.push({cell:a,rowspan:t})}}return r}(e);if(r.length){n=!0;for(const e of r)vf("rowspan",e.rowspan,e.cell,t,1)}return n}function uh(e,t){let n=!1;const r=function(e){const t={};for(const{row:n}of new Cf(e,{includeSpanned:!0}))t[n]||(t[n]=0),t[n]+=1;return t}(e),o=r[0];if(!Object.values(r).every(e=>e===o)){const o=Object.values(r).reduce((e,t)=>t>e?t:e,0);for(const[i,a]of Object.entries(r)){const r=o-a;if(r){for(let n=0;n<r;n++)yf(t,t.createPositionAt(e.getChild(i),"end"));n=!0}}}return n}function dh(e){const t="attribute"===e.type,n=e.attributeKey;return t&&("headingRows"===n||"colspan"===n||"rowspan"===n)}function ph(e,t){let n=!1;for(const r of e.getChildren())n=fh(r,t)||n;return n}function fh(e,t){let n=!1;for(const r of e.getChildren())n=hh(r,t)||n;return n}function hh(e,t){if(0==e.childCount)return t.insertElement("paragraph",e),!0;const n=Array.from(e.getChildren()).filter(e=>e.is("text"));for(const r of n)t.wrap(t.createRangeOn(r),"paragraph");return!!n.length}function mh(e){return!(!e.position||!e.position.parent.is("tableCell"))&&("insert"==e.type&&"$text"==e.name||"remove"==e.type)}function gh(e,t){if(!Array.from(e.getChildren()).some(e=>e.is("paragraph")))return!1;if("attribute"==t){const t=Array.from(e.getChild(0).getAttributeKeys()).length;return 1===e.childCount&&t<2}return e.childCount<=("insert"==t?2:1)}n(84);class bh extends kl{static get pluginName(){return"TableEditing"}init(){const e=this.editor,t=e.model,n=t.schema,r=e.conversion;n.register("table",{allowWhere:"$block",allowAttributes:["headingRows","headingColumns"],isLimit:!0,isObject:!0,isBlock:!0}),n.register("tableRow",{allowIn:"table",isLimit:!0}),n.register("tableCell",{allowIn:"tableRow",allowAttributes:["colspan","rowspan"],isObject:!0}),n.extend("$block",{allowIn:"tableCell"}),n.addChildCheck((e,t)=>{if("table"==t.name&&Array.from(e.getNames()).includes("table"))return!1}),r.for("upcast").add(e=>{e.on("element:table",(e,t,n)=>{const r=t.viewItem;if(!n.consumable.test(r,{name:!0}))return;const{rows:o,headingRows:i,headingColumns:a}=function(e){const t={headingRows:0,headingColumns:0},n=[],r=[];let o;for(const i of Array.from(e.getChildren()))if("tbody"===i.name||"thead"===i.name||"tfoot"===i.name){"thead"!==i.name||o||(o=i);const e=Array.from(i.getChildren()).filter(e=>e.is("element","tr"));for(const i of e)if("thead"===i.parent.name&&i.parent===o)t.headingRows++,n.push(i);else{r.push(i);const e=wf(i);e>t.headingColumns&&(t.headingColumns=e)}}return t.rows=[...n,...r],t}(r),s={};a&&(s.headingColumns=a),i&&(s.headingRows=i);const l=n.writer.createElement("table",s),c=n.splitToAllowedParent(l,t.modelCursor);if(c){if(n.writer.insert(l,c.position),n.consumable.consume(r,{name:!0}),o.length)o.forEach(e=>n.convertItem(e,n.writer.createPositionAt(l,"end")));else{const e=n.writer.createElement("tableRow");n.writer.insert(e,n.writer.createPositionAt(l,"end")),yf(n.writer,n.writer.createPositionAt(e,"end"))}t.modelRange=n.writer.createRange(n.writer.createPositionBefore(l),n.writer.createPositionAfter(l)),c.cursorParent?t.modelCursor=n.writer.createPositionAt(c.cursorParent,0):t.modelCursor=t.modelRange.end}})}),r.for("editingDowncast").add(Af({asWidget:!0})),r.for("dataDowncast").add(Af()),r.for("upcast").elementToElement({model:"tableRow",view:"tr"}),r.for("editingDowncast").add(jf({asWidget:!0})),r.for("dataDowncast").add(jf()),r.for("downcast").add(e=>e.on("remove:tableRow",(e,t,n)=>{e.stop();const r=n.writer,o=n.mapper,i=o.toViewPosition(t.position).getLastMatchingPosition(e=>!e.item.is("tr")).nodeAfter,a=i.parent,s=r.createRangeOn(i),l=r.remove(s);for(const c of r.createRangeIn(l).getItems())o.unbindViewElement(c);a.childCount||r.remove(r.createRangeOn(a))},{priority:"higher"})),r.for("upcast").add(_f("td")),r.for("upcast").add(_f("th")),r.for("editingDowncast").add(If({asWidget:!0})),r.for("dataDowncast").add(If()),r.attributeToAttribute({model:"colspan",view:"colspan"}),r.attributeToAttribute({model:"rowspan",view:"rowspan"}),r.for("editingDowncast").add(Rf({asWidget:!0})),r.for("dataDowncast").add(Rf()),r.for("editingDowncast").add(Nf({asWidget:!0})),r.for("dataDowncast").add(Nf()),e.commands.add("insertTable",new Yf(e)),e.commands.add("insertTableRowAbove",new Kf(e,{order:"above"})),e.commands.add("insertTableRowBelow",new Kf(e,{order:"below"})),e.commands.add("insertTableColumnLeft",new $f(e,{order:"left"})),e.commands.add("insertTableColumnRight",new $f(e,{order:"right"})),e.commands.add("removeTableRow",new Zf(e)),e.commands.add("removeTableColumn",new th(e)),e.commands.add("splitTableCellVertically",new Qf(e,{direction:"vertically"})),e.commands.add("splitTableCellHorizontally",new Qf(e,{direction:"horizontally"})),e.commands.add("mergeTableCellRight",new Jf(e,{direction:"right"})),e.commands.add("mergeTableCellLeft",new Jf(e,{direction:"left"})),e.commands.add("mergeTableCellDown",new Jf(e,{direction:"down"})),e.commands.add("mergeTableCellUp",new Jf(e,{direction:"up"})),e.commands.add("setTableColumnHeader",new oh(e)),e.commands.add("setTableRowHeader",new nh(e)),function(e){e.document.registerPostFixer(t=>(function(e,t){const n=t.document.differ.getChanges();let r=!1;const o=new Set;for(const i of n){let t;"table"==i.name&&"insert"==i.type&&(t=i.position.nodeAfter),"tableRow"!=i.name&&"tableCell"!=i.name||(t=bf("table",i.position)),dh(i)&&(t=bf("table",i.range.start)),t&&!o.has(t)&&(r=ch(t,e)||r,r=uh(t,e)||r,o.add(t))}return r})(t,e))}(t),function(e){e.document.registerPostFixer(()=>(function(e){const t=e.document.differ,n=new Set;for(const r of t.getChanges()){const e="insert"==r.type||"remove"==r.type?r.position.parent:r.range.start.parent;e.is("tableCell")&&gh(e,r.type)&&n.add(e)}if(n.size){for(const e of n.values())t.refreshItem(e);return!0}return!1})(e))}(t),function(e){e.document.registerPostFixer(t=>(function(e,t){const n=t.document.differ.getChanges();let r=!1;for(const o of n)"insert"==o.type&&"table"==o.name&&(r=ph(o.position.nodeAfter,e)||r),"insert"==o.type&&"tableRow"==o.name&&(r=fh(o.position.nodeAfter,e)||r),"insert"==o.type&&"tableCell"==o.name&&(r=hh(o.position.nodeAfter,e)||r),mh(o)&&(r=hh(o.position.parent,e)||r);return r})(t,e))}(t),this.editor.keystrokes.set("Tab",(...e)=>this._handleTabOnSelectedTable(...e),{priority:"low"}),this.editor.keystrokes.set("Tab",this._getTabHandler(!0),{priority:"low"}),this.editor.keystrokes.set("Shift+Tab",this._getTabHandler(!1),{priority:"low"})}static get requires(){return[ih]}_handleTabOnSelectedTable(e,t){const n=this.editor,r=n.model.document.selection;if(!r.isCollapsed&&1===r.rangeCount&&r.getFirstRange().isFlat){const e=r.getSelectedElement();if(!e||!e.is("table"))return;t(),n.model.change(t=>{t.setSelection(t.createRangeIn(e.getChild(0).getChild(0)))})}}_getTabHandler(e){const t=this.editor;return(n,r)=>{const o=Of(t.model.document.selection)[0];if(!o)return;r();const i=o.parent,a=i.parent,s=a.getChildIndex(i),l=i.getChildIndex(o),c=0===l;if(!e&&c&&0===s)return;const u=l===i.childCount-1,d=s===a.childCount-1;if(e&&d&&u&&(t.execute("insertTableRowBelow"),s===a.childCount-1))return;let p;if(e&&u){const e=a.getChild(s+1);p=e.getChild(0)}else if(!e&&c){const e=a.getChild(s-1);p=e.getChild(e.childCount-1)}else p=i.getChild(l+(e?1:-1));t.model.change(e=>{e.setSelection(e.createRangeIn(p))})}}}n(86);class vh extends Ds{constructor(e){super(e);const t=this.bindTemplate;this.items=this.createCollection(),this.set("rows",0),this.set("columns",0),this.bind("label").to(this,"columns",this,"rows",(e,t)=>`${t} \xd7 ${e}`),this.setTemplate({tag:"div",attributes:{class:["ck"]},children:[{tag:"div",attributes:{class:["ck-insert-table-dropdown__grid"]},children:this.items},{tag:"div",attributes:{class:["ck-insert-table-dropdown__label"]},children:[{text:t.to("label")}]}],on:{mousedown:t.to(e=>{e.preventDefault()}),click:t.to(()=>{this.fire("execute")})}});for(let n=0;n<100;n++){const e=new yh;e.on("over",()=>{const e=Math.floor(n/10),t=n%10;this.set("rows",e+1),this.set("columns",t+1)}),this.items.add(e)}this.on("change:columns",()=>{this._highlightGridBoxes()}),this.on("change:rows",()=>{this._highlightGridBoxes()})}focus(){}focusLast(){}_highlightGridBoxes(){const e=this.rows,t=this.columns;this.items.map((n,r)=>{const o=Math.floor(r/10)<e&&r%10<t;n.set("isOn",o)})}}class yh extends Ds{constructor(e){super(e);const t=this.bindTemplate;this.set("isOn",!1),this.setTemplate({tag:"div",attributes:{class:["ck-insert-table-dropdown-grid-box",t.if("isOn","ck-on")]},on:{mouseover:t.to("over")}})}}class kh extends kl{init(){const e=this.editor,t=this.editor.t,n="ltr"===e.locale.contentLanguageDirection;e.ui.componentFactory.add("insertTable",n=>{const r=e.commands.get("insertTable"),o=pl(n);let i;return o.bind("isEnabled").to(r),o.buttonView.set({icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 6v3h4V6H3zm0 4v3h4v-3H3zm0 4v3h4v-3H3zm5 3h4v-3H8v3zm5 0h4v-3h-4v3zm4-4v-3h-4v3h4zm0-4V6h-4v3h4zm1.5 8a1.5 1.5 0 0 1-1.5 1.5H3A1.5 1.5 0 0 1 1.5 17V4c.222-.863 1.068-1.5 2-1.5h13c.932 0 1.778.637 2 1.5v13zM12 13v-3H8v3h4zm0-4V6H8v3h4z"/></svg>',label:t("m"),tooltip:!0}),o.on("change:isOpen",()=>{i||(i=new vh(n),o.panelView.children.add(i),i.delegate("execute").to(o),o.buttonView.on("open",()=>{i.rows=0,i.columns=0}),o.on("execute",()=>{e.execute("insertTable",{rows:i.rows,columns:i.columns}),e.editing.view.focus()}))}),o}),e.ui.componentFactory.add("tableColumn",e=>{const r=[{type:"switchbutton",model:{commandName:"setTableColumnHeader",label:t("n"),bindIsOn:!0}},{type:"separator"},{type:"button",model:{commandName:n?"insertTableColumnLeft":"insertTableColumnRight",label:t("o")}},{type:"button",model:{commandName:n?"insertTableColumnRight":"insertTableColumnLeft",label:t("p")}},{type:"button",model:{commandName:"removeTableColumn",label:t("q")}}];return this._prepareDropdown(t("r"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M18 7v1H2V7h16zm0 5v1H2v-1h16z" opacity=".6"/><path d="M14 1v18a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V1a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1zm-2 1H8v4h4V2zm0 6H8v4h4V8zm0 6H8v4h4v-4z"/></svg>',r,e)}),e.ui.componentFactory.add("tableRow",e=>{const n=[{type:"switchbutton",model:{commandName:"setTableRowHeader",label:t("s"),bindIsOn:!0}},{type:"separator"},{type:"button",model:{commandName:"insertTableRowBelow",label:t("t")}},{type:"button",model:{commandName:"insertTableRowAbove",label:t("u")}},{type:"button",model:{commandName:"removeTableRow",label:t("v")}}];return this._prepareDropdown(t("w"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M7 2h1v16H7V2zm5 0h1v16h-1V2z" opacity=".6"/><path d="M1 6h18a1 1 0 0 1 1 1v6a1 1 0 0 1-1 1H1a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1zm1 2v4h4V8H2zm6 0v4h4V8H8zm6 0v4h4V8h-4z"/></svg>',n,e)}),e.ui.componentFactory.add("mergeTableCells",e=>{const r=[{type:"button",model:{commandName:"mergeTableCellUp",label:t("x")}},{type:"button",model:{commandName:n?"mergeTableCellRight":"mergeTableCellLeft",label:t("y")}},{type:"button",model:{commandName:"mergeTableCellDown",label:t("z")}},{type:"button",model:{commandName:n?"mergeTableCellLeft":"mergeTableCellRight",label:t("aa")}},{type:"separator"},{type:"button",model:{commandName:"splitTableCellVertically",label:t("ab")}},{type:"button",model:{commandName:"splitTableCellHorizontally",label:t("ac")}}];return this._prepareDropdown(t("ad"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M7 2h1v16H7V2zm5 0h1v7h-1V2zm6 5v1H2V7h16zM8 12v1H2v-1h6z" opacity=".6"/><path d="M7 7h12a1 1 0 0 1 1 1v11a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V8a1 1 0 0 1 1-1zm1 2v9h10V9H8z"/></svg>',r,e)})}_prepareDropdown(e,t,n,r){const o=this.editor,i=pl(r),a=[],s=new jt;for(const l of n)_h(l,o,a,s);return fl(i,s,o.ui.componentFactory),i.buttonView.set({label:e,icon:t,tooltip:!0}),i.bind("isEnabled").toMany(a,"isEnabled",(...e)=>e.some(e=>e)),this.listenTo(i,"execute",e=>{o.execute(e.source.commandName),o.editing.view.focus()}),i}}function _h(e,t,n,r){const o=e.model=new Wd(e.model),{commandName:i,bindIsOn:a}=e.model;if("button"===e.type||"switchbutton"===e.type){const e=t.commands.get(i);n.push(e),o.set({commandName:i}),o.bind("isEnabled").to(e),a&&o.bind("isOn").to(e,"value")}o.set({withText:!0}),r.add(e)}class wh extends vo{constructor(e){super(e),this.domEventType=["mousemove","mouseup","mouseleave"]}onDomEvent(e){this.fire(e.type,e)}}n(88);class Ch extends kl{static get pluginName(){return"TableSelection"}static get requires(){return[ih]}init(){const e=this.editor,t=e.model;this.listenTo(t,"deleteContent",(e,t)=>this._handleDeleteContent(e,t),{priority:"high"}),e.editing.view.addObserver(wh),this._defineSelectionConverter(),this._enableShiftClickSelection(),this._enableMouseDragSelection()}getSelectedTableCells(){const e=xf(this.editor.model.document.selection);return 0==e.length?null:e}getSelectionAsFragment(){const e=this.getSelectedTableCells();return e?this.editor.model.change(t=>{const n=t.createDocumentFragment(),r=function(e,t,n){const r=Array.from(e),o=r[0],i=r[r.length-1],{row:a,column:s}=t.getCellLocation(o),l=function(e,t,n,r){const o=n.createElement("table"),i=new Map,a=new Map;for(const s of e){const e=bf("tableRow",s);if(!i.has(e)){const t=e._clone();n.append(t,o),i.set(e,t)}const t=s._clone(!0),{column:l}=r.getCellLocation(s);a.set(t,l),n.append(t,i.get(e))}return function(e,t,n,r,o){for(const i of e.getChildren())for(const e of Array.from(i.getChildren())){const{column:i}=o.getCellLocation(e),a=n.get(e)-t;if(i!==a)for(let t=0;t<a-i;t++){const t=r.createElement("tableCell");r.insert(t,r.createPositionBefore(e));const n=r.createElement("paragraph");r.insert(n,t,0),r.insertText("",n,0)}}}(o,t,a,n,r),o}(r,s,n,t),{row:c,column:u}=t.getCellLocation(i);return function(e,t,n,r,o){for(const i of e.getChildren())for(const e of i.getChildren()){const i=parseInt(e.getAttribute("colspan")||1),a=parseInt(e.getAttribute("rowspan")||1),{row:s,column:l}=o.getCellLocation(e);if(l+i>t){const n=t-l;n>1?r.setAttribute("colspan",n,e):r.removeAttribute("colspan",e)}if(s+a>n){const t=n-s;t>1?r.setAttribute("rowspan",t,e):r.removeAttribute("rowspan",e)}}}(l,u-s+1,c-a+1,n,t),function(e,t,n,r,o){const i=parseInt(t.getAttribute("headingRows")||0);if(i>0){const t=i-n;o.setAttribute("headingRows",t,e)}const a=parseInt(t.getAttribute("headingColumns")||0);if(a>0){const t=a-r;o.setAttribute("headingColumns",t,e)}}(l,bf("table",o),a,s,n),l}(e,this.editor.plugins.get("TableUtils"),t);return t.insert(r,n,0),n}):null}_defineSelectionConverter(){const e=this.editor,t=new Set;e.conversion.for("editingDowncast").add(e=>e.on("selection",(e,n,r)=>{const o=r.writer;!function(e){for(const n of t)e.removeClass("ck-editor__editable_selected",n);t.clear()}(o);const i=this.getSelectedTableCells();if(!i)return;for(const s of i){const e=r.mapper.toViewElement(s);o.addClass("ck-editor__editable_selected",e),t.add(e)}const a=r.mapper.toViewElement(i[i.length-1]);o.setSelection(a,0)},{priority:"lowest"}))}_enableShiftClickSelection(){const e=this.editor;let t=!1;this.listenTo(e.editing.view.document,"mousedown",(n,r)=>{if(!this.isEnabled)return;if(!r.domEvent.shiftKey)return;const o=Of(e.model.document.selection)[0];if(!o)return;const i=this._getModelTableCellFromDomEvent(r);i&&Sh(o,i)&&(t=!0,this._setCellSelection(o,i),r.preventDefault())}),this.listenTo(e.editing.view.document,"mouseup",()=>{t=!1}),this.listenTo(e.editing.view.document,"selectionChange",e=>{t&&e.stop()},{priority:"highest"})}_enableMouseDragSelection(){const e=this.editor;let t,n,r=!1,o=!1;this.listenTo(e.editing.view.document,"mousedown",(e,n)=>{this.isEnabled&&(n.domEvent.shiftKey||n.domEvent.ctrlKey||n.domEvent.altKey||(t=this._getModelTableCellFromDomEvent(n)))}),this.listenTo(e.editing.view.document,"mousemove",(e,i)=>{if(!i.domEvent.buttons)return;if(!t)return;const a=this._getModelTableCellFromDomEvent(i);a&&Sh(t,a)&&(n=a,r||n==t||(r=!0)),r&&(o=!0,this._setCellSelection(t,n),i.preventDefault())}),this.listenTo(e.editing.view.document,"mouseup",()=>{r=!1,o=!1,t=null,n=null}),this.listenTo(e.editing.view.document,"selectionChange",e=>{o&&e.stop()},{priority:"highest"})}_handleDeleteContent(e,t){const[n,r]=t,o=this.editor.model,i=!r||"backward"==r.direction,a=xf(n);a.length&&(e.stop(),o.change(e=>{const t=a[i?a.length-1:0];o.change(e=>{for(const t of a)o.deleteContent(e.createSelection(t,"in"))});const r=o.schema.getNearestSelectionRange(e.createPositionAt(t,0));r&&(n.is("documentSelection")?e.setSelection(r):n.setTo(r))}))}_setCellSelection(e,t){const n=this._getCellsToSelect(e,t);this.editor.model.change(e=>{e.setSelection(n.cells.map(t=>e.createRangeOn(t)),{backward:n.backward})})}_getModelTableCellFromDomEvent(e){const t=e.target,n=this.editor.editing.view.createPositionAt(t,0),r=this.editor.editing.mapper.toModelPosition(n).parent;if(r)return r.is("tableCell")?r:bf("tableCell",r)}_getCellsToSelect(e,t){const n=this.editor.plugins.get("TableUtils"),r=n.getCellLocation(e),o=n.getCellLocation(t),i=Math.min(r.row,o.row),a=Math.max(r.row,o.row),s=Math.min(r.column,o.column),l=Math.max(r.column,o.column),c=[];for(const u of new Cf(bf("table",e),{startRow:i,endRow:a}))u.column>=s&&u.column<=l&&c.push(u.cell);return function(e,t){return e.row>t.row||e.row==t.row&&e.column>t.column}(r,o)?{cells:c.reverse(),backward:!0}:{cells:c,backward:!1}}}function Sh(e,t){return e.parent.parent==t.parent.parent}class Ph extends kl{static get pluginName(){return"TableClipboard"}static get requires(){return[Ch]}init(){const e=this.editor.editing.view.document;this.listenTo(e,"copy",(e,t)=>this._onCopyCut(e,t)),this.listenTo(e,"cut",(e,t)=>this._onCopyCut(e,t))}_onCopyCut(e,t){const n=this.editor.plugins.get("TableSelection");if(!n.getSelectedTableCells())return;if("cut"==e.name&&this.editor.isReadOnly)return;t.preventDefault(),e.stop();const r=this.editor.data,o=this.editor.editing.view.document,i=r.toView(n.getSelectionAsFragment());o.fire("clipboardOutput",{dataTransfer:t.dataTransfer,content:i,method:e.name})}}n(90);class Eh{constructor(e,t){this.model=e,this.testCallback=t,this.hasMatch=!1,this.set("isEnabled",!0),this.on("change:isEnabled",()=>{this.isEnabled?this._startListening():(this.stopListening(e.document.selection),this.stopListening(e.document))}),this._startListening()}_startListening(){const e=this.model.document;this.listenTo(e.selection,"change:range",(t,{directChange:n})=>{n&&(e.selection.isCollapsed?this._evaluateTextBeforeSelection("selection"):this.hasMatch&&(this.fire("unmatched"),this.hasMatch=!1))}),this.listenTo(e,"change:data",(e,t)=>{"transparent"!=t.type&&this._evaluateTextBeforeSelection("data",{batch:t})})}_evaluateTextBeforeSelection(e,t={}){const n=this.model,r=n.document.selection,o=n.createRange(n.createPositionAt(r.focus.parent,0),r.focus),{text:i,range:a}=Sc(o,n),s=this.testCallback(i);if(!s&&this.hasMatch&&this.fire("unmatched"),this.hasMatch=!!s,s){const n=Object.assign(t,{text:i,range:a});"object"==typeof s&&Object.assign(n,s),this.fire(`matched:${e}`,n)}}}At(Eh,Rn);var xh=/[\\^$.*+?()[\]{}|]/g,Oh=RegExp(xh.source);const Th={copyright:{from:"(c)",to:"\xa9"},registeredTrademark:{from:"(r)",to:"\xae"},trademark:{from:"(tm)",to:"\u2122"},oneHalf:{from:"1/2",to:"\xbd"},oneThird:{from:"1/3",to:"\u2153"},twoThirds:{from:"2/3",to:"\u2154"},oneForth:{from:"1/4",to:"\xbc"},threeQuarters:{from:"3/4",to:"\xbe"},lessThanOrEqual:{from:"<=",to:"\u2264"},greaterThanOrEqual:{from:">=",to:"\u2265"},notEqual:{from:"!=",to:"\u2260"},arrowLeft:{from:"<-",to:"\u2190"},arrowRight:{from:"->",to:"\u2192"},horizontalEllipsis:{from:"...",to:"\u2026"},enDash:{from:/(^| )(--)( )$/,to:[null,"\u2013",null]},emDash:{from:/(^| )(---)( )$/,to:[null,"\u2014",null]},quotesPrimary:{from:Ih('"'),to:[null,"\u201c",null,"\u201d"]},quotesSecondary:{from:Ih("'"),to:[null,"\u2018",null,"\u2019"]},quotesPrimaryEnGb:{from:Ih("'"),to:[null,"\u2018",null,"\u2019"]},quotesSecondaryEnGb:{from:Ih('"'),to:[null,"\u201c",null,"\u201d"]},quotesPrimaryPl:{from:Ih('"'),to:[null,"\u201e",null,"\u201d"]},quotesSecondaryPl:{from:Ih("'"),to:[null,"\u201a",null,"\u2019"]}},Mh={symbols:["copyright","registeredTrademark","trademark"],mathematical:["oneHalf","oneThird","twoThirds","oneForth","threeQuarters","lessThanOrEqual","greaterThanOrEqual","notEqual","arrowLeft","arrowRight"],typography:["horizontalEllipsis","enDash","emDash"],quotes:["quotesPrimary","quotesSecondary"]},Ah=["symbols","mathematical","typography","quotes"];function jh(e){return(e.textNode?e.textNode:e.nodeAfter).getAttributes()}function Ih(e){return new RegExp(`(^|\\s)(${e})([^${e}]*)(${e})$`)}class Nh extends yl{}Nh.builtinPlugins=[class extends kl{static get requires(){return[Pl,jl,Dl,$l,mc]}static get pluginName(){return"Essentials"}},_c,class extends kl{static get pluginName(){return"Autoformat"}afterInit(){this._addListAutoformats(),this._addBasicStylesAutoformats(),this._addHeadingAutoformats(),this._addBlockQuoteAutoformats(),this._addCodeBlockAutoformats()}_addListAutoformats(){const e=this.editor.commands;e.get("bulletedList")&&new Cc(this.editor,/^[*-]\s$/,"bulletedList"),e.get("numberedList")&&new Cc(this.editor,/^1[.|)]\s$/,"numberedList")}_addBasicStylesAutoformats(){const e=this.editor.commands;if(e.get("bold")){const e=xc(this.editor,"bold");new Pc(this.editor,/(\*\*)([^*]+)(\*\*)$/g,e),new Pc(this.editor,/(__)([^_]+)(__)$/g,e)}if(e.get("italic")){const e=xc(this.editor,"italic");new Pc(this.editor,/(?:^|[^*])(\*)([^*_]+)(\*)$/g,e),new Pc(this.editor,/(?:^|[^_])(_)([^_]+)(_)$/g,e)}if(e.get("code")){const e=xc(this.editor,"code");new Pc(this.editor,/(`)([^`]+)(`)$/g,e)}}_addHeadingAutoformats(){const e=this.editor.commands.get("heading");e&&e.modelElements.filter(e=>e.match(/^heading[1-6]$/)).forEach(t=>{const n=t[7],r=new RegExp(`^(#{${n}})\\s$`);new Cc(this.editor,r,()=>{if(!e.isEnabled)return!1;this.editor.execute("heading",{value:t})})})}_addBlockQuoteAutoformats(){this.editor.commands.get("blockQuote")&&new Cc(this.editor,/^>\s$/,"blockQuote")}_addCodeBlockAutoformats(){this.editor.commands.get("codeBlock")&&new Cc(this.editor,/^```$/,"codeBlock")}},class extends kl{static get requires(){return[Tc,Mc]}static get pluginName(){return"Bold"}},class extends kl{static get requires(){return[Ac,jc]}static get pluginName(){return"Italic"}},class extends kl{static get requires(){return[Bc,Fc]}static get pluginName(){return"BlockQuote"}},class extends kl{static get pluginName(){return"CKFinder"}static get requires(){return[Uu,Uc,_c]}},class extends kl{static get requires(){return[Yu,kd,Dd]}static get pluginName(){return"EasyImage"}},class extends kl{static get requires(){return[Vd,Gd]}static get pluginName(){return"Heading"}},kd,class extends kl{static get requires(){return[$d]}static get pluginName(){return"ImageCaption"}},class extends kl{static get requires(){return[up,dp]}static get pluginName(){return"ImageStyle"}},class extends kl{static get requires(){return[pp]}static get pluginName(){return"ImageToolbar"}afterInit(){const e=this.editor,t=e.t;e.plugins.get(pp).register("image",{ariaLabel:t("b"),items:e.config.get("image.toolbar")||[],getRelatedElement:Xc})}},Dd,class extends kl{static get pluginName(){return"Indent"}static get requires(){return[gp,yp]}},class extends kl{static get requires(){return[Du,Cp]}static get pluginName(){return"Link"}},class extends kl{static get requires(){return[Kp,Qp]}static get pluginName(){return"List"}},class extends kl{static get requires(){return[af,uf,lf,Ju]}static get pluginName(){return"MediaEmbed"}},Fd,class extends kl{static get pluginName(){return"PasteFromOffice"}static get requires(){return[Pl]}init(){const e=this.editor,t=[];t.push(new class{isActive(e){return mf.test(e)||gf.test(e)}execute(e){const{body:t,stylesString:n}=function(e){const t=new DOMParser,n=function(e){return hf(hf(e)).replace(/(<span\s+style=['"]mso-spacerun:yes['"]>[\s]*?)[\r\n]+(\s*<\/span>)/g,"$1$2").replace(/<span\s+style=['"]mso-spacerun:yes['"]><\/span>/g,"").replace(/ <\//g,"\xa0</").replace(/ <o:p><\/o:p>/g,"\xa0<o:p></o:p>").replace(/<o:p>(&nbsp;|\u00A0)<\/o:p>/g,"").replace(/>(\s*[\r\n]\s*)</g,"><")}(function(e){const t=e.match(/<\/body>(.*?)(<\/html>|$)/);return t&&t[1]&&(e=e.slice(0,t.index)+e.slice(t.index).replace(t[1],"")),e}(e=e.replace(/<!--\[if gte vml 1]>/g,""))),r=t.parseFromString(n,"text/html");r.querySelectorAll("span[style*=spacerun]").forEach(e=>{const t=e.childNodes&&e.childNodes[0]&&e.childNodes[0].data&&e.childNodes[0].data.length||0;e.innerHTML=Array(t+1).join("\xa0 ").substr(0,t)});const o=r.body.innerHTML,i=function(e){const t=new Jn(new Cn),n=new Yr(t,{blockFillerMode:"nbsp"}),r=e.createDocumentFragment(),o=e.body.childNodes;for(;o.length>0;)r.appendChild(o[0]);return n.domToView(r)}(r),a=function(e){const t=[],n=[],r=Array.from(e.getElementsByTagName("style"));for(const o of r)o.sheet&&o.sheet.cssRules&&o.sheet.cssRules.length&&(t.push(o.sheet),n.push(o.innerHTML));return{styles:t,stylesString:n.join(" ")}}(r);return{body:i,bodyString:o,styles:a.styles,stylesString:a.stylesString}}(e.dataTransfer.getData("text/html"));(function(e,t){if(!e.childCount)return;const n=new Ad(e.document),r=function(e,t){const n=t.createRangeIn(e),r=new Wt({name:/^p|h\d+$/,styles:{"mso-list":/.*/}}),o=[];for(const i of n)if("elementStart"===i.type&&r.match(i.item)){const e=pf(i.item);o.push({element:i.item,id:e.id,order:e.order,indent:e.indent})}return o}(e,n);if(!r.length)return;let o=null,i=1;r.forEach((e,a)=>{const s=function(e,t){if(!e)return!0;if(e.id!==t.id)return!0;const n=t.element.previousSibling;return!n||!((r=n).is("ol")||r.is("ul"));var r}(r[a-1],e),l=(u=e,(c=s?null:r[a-1])?u.indent-c.indent:u.indent-1);var c,u;if(s&&(o=null,i=1),!o||0!==l){const r=function(e,t){const n=/mso-level-number-format:([^;]*);/gi,r=new RegExp(`@list l${e.id}:level${e.indent}\\s*({[^}]*)`,"gi").exec(t);let o="decimal";if(r&&r[1]){const e=n.exec(r[1]);e&&e[1]&&(o=e[1].trim())}return{type:"bullet"!==o&&"image"!==o?"ol":"ul",style:o}}(e,t);if(o){if(e.indent>i){const e=o.getChild(o.childCount-1),t=e.getChild(e.childCount-1);o=df(r,t,n),i+=1}else if(e.indent<i){const t=i-e.indent;o=function(e,t){const n=e.getAncestors({parentFirst:!0});let r=null,o=0;for(const i of n)if("ul"!==i.name&&"ol"!==i.name||o++,o===t){r=i;break}return r}(o,t),i=parseInt(e.indent)}}else o=df(r,e.element,n);e.indent<=i&&(o.is(r.type)||(o=n.rename(r.type,o)))}const d=function(e,t){return function(e,t){const n=new Wt({name:"span",styles:{"mso-list":"Ignore"}}),r=t.createRangeIn(e);for(const o of r)"elementStart"===o.type&&n.match(o.item)&&t.remove(o.item)}(e,t),t.rename("li",e)}(e.element,n);n.appendChild(d,o)})})(t,n),function(e,t){if(!e.childCount)return;const n=new Ad;!function(e,t,n){const r=n.createRangeIn(t),o=new Wt({name:"img"}),i=[];for(const a of r)if(o.match(a.item)){const t=a.item,n=t.getAttribute("v:shapes")?t.getAttribute("v:shapes").split(" "):[];n.length&&n.every(t=>e.indexOf(t)>-1)?i.push(t):t.getAttribute("src")||i.push(t)}for(const a of i)n.remove(a)}(function(e,t){const n=t.createRangeIn(e),r=new Wt({name:/v:(.+)/}),o=[];for(const i of n){const e=i.item,t=e.previousSibling&&e.previousSibling.name||null;r.match(e)&&e.getAttribute("o:gfxdata")&&"v:shapetype"!==t&&o.push(i.item.getAttribute("id"))}return o}(e,n),e,n),function(e,t){const n=t.createRangeIn(e),r=new Wt({name:/v:(.+)/}),o=[];for(const i of n)r.match(i.item)&&o.push(i.item);for(const i of o)t.remove(i)}(e,n);const r=function(e,t){const n=t.createRangeIn(e),r=new Wt({name:"img"}),o=[];for(const i of n)r.match(i.item)&&i.item.getAttribute("src").startsWith("file://")&&o.push(i.item);return o}(e,n);r.length&&function(e,t,n){if(e.length===t.length)for(let o=0;o<e.length;o++){const i=`data:${t[o].type};base64,${r=t[o].hex,btoa(r.match(/\w{2}/g).map(e=>String.fromCharCode(parseInt(e,16))).join(""))}`;n.setAttribute("src",i,e[o])}var r}(r,function(e){if(!e)return[];const t=/{\\pict[\s\S]+?\\bliptag-?\d+(\\blipupi-?\d+)?({\\\*\\blipuid\s?[\da-fA-F]+)?[\s}]*?/,n=new RegExp("(?:("+t.source+"))([\\da-fA-F\\s]+)\\}","g"),r=e.match(n),o=[];if(r)for(const i of r){let e=!1;i.includes("\\pngblip")?e="image/png":i.includes("\\jpegblip")&&(e="image/jpeg"),e&&o.push({hex:i.replace(t,"").replace(/[^\da-fA-F]/g,""),type:e})}return o}(t),n)}(t,e.dataTransfer.getData("text/rtf")),e.content=t}}),t.push(new class{constructor(e){this.document=e}isActive(e){return ff.test(e)}execute(e){const t=new Ad(this.document);!function(e,t){for(const n of e.getChildren())if(n.is("b")&&"normal"===n.getStyle("font-weight")){const r=e.getChildIndex(n);t.remove(n),t.insertChild(r,n.getChildren(),e)}}(e.content,t),function(e,t){for(const n of t.createRangeIn(e)){const e=n.item;if(e.is("li")){const n=e.getChild(0);n.is("p")&&t.unwrapElement(n)}}}(e.content,t)}}(e.editing.view.document)),e.plugins.get("Clipboard").on("inputTransformation",(e,n)=>{if(n.isTransformedWithPasteFromOffice)return;const r=n.dataTransfer.getData("text/html"),o=t.find(e=>e.isActive(r));o&&(o.execute(n),n.isTransformedWithPasteFromOffice=!0)},{priority:"high"})}},class extends kl{static get requires(){return[bh,kh,Ch,Ph,Ju]}static get pluginName(){return"Table"}},class extends kl{static get requires(){return[pp]}static get pluginName(){return"TableToolbar"}afterInit(){const e=this.editor,t=e.t,n=e.plugins.get(pp),r=e.config.get("table.contentToolbar"),o=e.config.get("table.tableToolbar");r&&n.register("tableContent",{ariaLabel:t("c"),items:r,getRelatedElement:Ef}),o&&n.register("table",{ariaLabel:t("c"),items:o,getRelatedElement:Pf})}},class extends kl{static get pluginName(){return"TextTransformation"}constructor(e){super(e),e.config.define("typing",{transformations:{include:Ah}})}init(){const e=this.editor.model.document.selection;e.on("change:range",()=>{this.isEnabled=!e.anchor.parent.is("codeBlock")}),this._enableTransformationWatchers()}_enableTransformationWatchers(){const e=this.editor,t=e.model,n=e.plugins.get("Input"),r=function(e){const t=e.extra||[],n=e.remove||[],r=e=>!n.includes(e);return function(e){const t=new Set;for(const n of e)if(Mh[n])for(const e of Mh[n])t.add(e);else t.add(n);return Array.from(t)}(e.include.concat(t).filter(r)).filter(r).map(e=>Th[e]||e).map(e=>({from:function(e){return"string"==typeof e?new RegExp(`(${function(e){return(e=rn(e))&&Oh.test(e)?e.replace(xh,"\\$&"):e}(e)})$`):e}(e.from),to:function(e){return"string"==typeof e?()=>[e]:e instanceof Array?()=>e:e}(e.to)}))}(e.config.get("typing.transformations")),o=new Eh(e.model,e=>{for(const t of r)if(t.from.test(e))return{normalizedTransformation:t}});o.on("matched:data",(e,r)=>{if(!n.isInput(r.batch))return;const{from:o,to:i}=r.normalizedTransformation,a=o.exec(r.text),s=i(a.slice(1)),l=r.range;let c=a.index;t.enqueueChange(e=>{for(let n=1;n<a.length;n++){const r=a[n],o=s[n-1];if(null==o){c+=r.length;continue}const i=l.start.getShiftedBy(c),u=t.createRange(i,i.getShiftedBy(r.length)),d=jh(i);t.insertContent(e.createText(o,d),u),c+=o.length}})}),o.bind("isEnabled").to(this)}}],Nh.defaultConfig={toolbar:{items:["heading","|","bold","italic","link","bulletedList","numberedList","|","indent","outdent","|","imageUpload","blockQuote","insertTable","mediaEmbed","undo","redo"]},image:{toolbar:["imageStyle:full","imageStyle:side","|","imageTextAlternative"]},table:{contentToolbar:["tableColumn","tableRow","mergeTableCells"]},language:"en"}}]).default})},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){o(e,t,n[t])})}return e}function s(e){if("undefined"!=typeof window&&window.navigator)return!!navigator.userAgent.match(e)}Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"MultiDrag",function(){return gt}),n.d(t,"Sortable",function(){return Le}),n.d(t,"Swap",function(){return it});var l=s(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),c=s(/Edge/i),u=s(/firefox/i),d=s(/safari/i)&&!s(/chrome/i)&&!s(/android/i),p=s(/iP(ad|od|hone)/i),f=s(/chrome/i)&&s(/android/i),h={capture:!1,passive:!1};function m(e,t,n){e.addEventListener(t,n,!l&&h)}function g(e,t,n){e.removeEventListener(t,n,!l&&h)}function b(e,t){if(t){if(">"===t[0]&&(t=t.substring(1)),e)try{if(e.matches)return e.matches(t);if(e.msMatchesSelector)return e.msMatchesSelector(t);if(e.webkitMatchesSelector)return e.webkitMatchesSelector(t)}catch(e){return!1}return!1}}function v(e){return e.host&&e!==document&&e.host.nodeType?e.host:e.parentNode}function y(e,t,n,r){if(e){n=n||document;do{if(null!=t&&(">"===t[0]?e.parentNode===n&&b(e,t):b(e,t))||r&&e===n)return e;if(e===n)break}while(e=v(e))}return null}var k,_=/\s+/g;function w(e,t,n){if(e&&t)if(e.classList)e.classList[n?"add":"remove"](t);else{var r=(" "+e.className+" ").replace(_," ").replace(" "+t+" "," ");e.className=(r+(n?" "+t:"")).replace(_," ")}}function C(e,t,n){var r=e&&e.style;if(r){if(void 0===n)return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(e,""):e.currentStyle&&(n=e.currentStyle),void 0===t?n:n[t];t in r||-1!==t.indexOf("webkit")||(t="-webkit-"+t),r[t]=n+("string"==typeof n?"":"px")}}function S(e,t){var n="";if("string"==typeof e)n=e;else do{var r=C(e,"transform");r&&"none"!==r&&(n=r+" "+n)}while(!t&&(e=e.parentNode));var o=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return o&&new o(n)}function P(e,t,n){if(e){var r=e.getElementsByTagName(t),o=0,i=r.length;if(n)for(;o<i;o++)n(r[o],o);return r}return[]}function E(){return document.scrollingElement||document.documentElement}function x(e,t,n,r,o){if(e.getBoundingClientRect||e===window){var i,a,s,c,u,d,p;if(e!==window&&e!==E()?(a=(i=e.getBoundingClientRect()).top,s=i.left,c=i.bottom,u=i.right,d=i.height,p=i.width):(a=0,s=0,c=window.innerHeight,u=window.innerWidth,d=window.innerHeight,p=window.innerWidth),(t||n)&&e!==window&&(o=o||e.parentNode,!l))do{if(o&&o.getBoundingClientRect&&("none"!==C(o,"transform")||n&&"static"!==C(o,"position"))){var f=o.getBoundingClientRect();a-=f.top+parseInt(C(o,"border-top-width")),s-=f.left+parseInt(C(o,"border-left-width")),c=a+i.height,u=s+i.width;break}}while(o=o.parentNode);if(r&&e!==window){var h=S(o||e),m=h&&h.a,g=h&&h.d;h&&(c=(a/=g)+(d/=g),u=(s/=m)+(p/=m))}return{top:a,left:s,bottom:c,right:u,width:p,height:d}}}function O(e,t,n){for(var r=I(e,!0),o=x(e)[t];r;){var i=x(r)[n];if(!("top"===n||"left"===n?o>=i:o<=i))return r;if(r===E())break;r=I(r,!1)}return!1}function T(e,t,n){for(var r=0,o=0,i=e.children;o<i.length;){if("none"!==i[o].style.display&&i[o]!==Le.ghost&&i[o]!==Le.dragged&&y(i[o],n.draggable,e,!1)){if(r===t)return i[o];r++}o++}return null}function M(e,t){for(var n=e.lastElementChild;n&&(n===Le.ghost||"none"===C(n,"display")||t&&!b(n,t));)n=n.previousElementSibling;return n||null}function A(e,t){var n=0;if(!e||!e.parentNode)return-1;for(;e=e.previousElementSibling;)"TEMPLATE"===e.nodeName.toUpperCase()||e===Le.clone||t&&!b(e,t)||n++;return n}function j(e){var t=0,n=0,r=E();if(e)do{var o=S(e),i=o.a,a=o.d;t+=e.scrollLeft*i,n+=e.scrollTop*a}while(e!==r&&(e=e.parentNode));return[t,n]}function I(e,t){if(!e||!e.getBoundingClientRect)return E();var n=e,r=!1;do{if(n.clientWidth<n.scrollWidth||n.clientHeight<n.scrollHeight){var o=C(n);if(n.clientWidth<n.scrollWidth&&("auto"==o.overflowX||"scroll"==o.overflowX)||n.clientHeight<n.scrollHeight&&("auto"==o.overflowY||"scroll"==o.overflowY)){if(!n.getBoundingClientRect||n===document.body)return E();if(r||t)return n;r=!0}}}while(n=n.parentNode);return E()}function N(e,t){return Math.round(e.top)===Math.round(t.top)&&Math.round(e.left)===Math.round(t.left)&&Math.round(e.height)===Math.round(t.height)&&Math.round(e.width)===Math.round(t.width)}function R(e,t){return function(){if(!k){var n=arguments;1===n.length?e.call(this,n[0]):e.apply(this,n),k=setTimeout(function(){k=void 0},t)}}}function D(e,t,n){e.scrollLeft+=t,e.scrollTop+=n}function L(e){var t=window.Polymer,n=window.jQuery||window.Zepto;return t&&t.dom?t.dom(e).cloneNode(!0):n?n(e).clone(!0)[0]:e.cloneNode(!0)}function B(e,t){C(e,"position","absolute"),C(e,"top",t.top),C(e,"left",t.left),C(e,"width",t.width),C(e,"height",t.height)}function F(e){C(e,"position",""),C(e,"top",""),C(e,"left",""),C(e,"width",""),C(e,"height","")}var U="Sortable"+(new Date).getTime();var q=[],z={initializeByDefault:!0},H={mount:function(e){for(var t in z)!z.hasOwnProperty(t)||t in e||(e[t]=z[t]);q.push(e)},pluginEvent:function(e,t,n){var r=this;this.eventCanceled=!1,n.cancel=function(){r.eventCanceled=!0};var o=e+"Global";q.forEach(function(r){t[r.pluginName]&&(t[r.pluginName][o]&&t[r.pluginName][o](a({sortable:t},n)),t.options[r.pluginName]&&t[r.pluginName][e]&&t[r.pluginName][e](a({sortable:t},n)))})},initializePlugins:function(e,t,n,r){for(var o in q.forEach(function(r){var o=r.pluginName;if(e.options[o]||r.initializeByDefault){var a=new r(e,t,e.options);a.sortable=e,a.options=e.options,e[o]=a,i(n,a.defaults)}}),e.options)if(e.options.hasOwnProperty(o)){var a=this.modifyOption(e,o,e.options[o]);void 0!==a&&(e.options[o]=a)}},getEventProperties:function(e,t){var n={};return q.forEach(function(r){"function"==typeof r.eventProperties&&i(n,r.eventProperties.call(t[r.pluginName],e))}),n},modifyOption:function(e,t,n){var r;return q.forEach(function(o){e[o.pluginName]&&o.optionListeners&&"function"==typeof o.optionListeners[t]&&(r=o.optionListeners[t].call(e[o.pluginName],n))}),r}};function V(e){var t=e.sortable,n=e.rootEl,r=e.name,o=e.targetEl,i=e.cloneEl,s=e.toEl,u=e.fromEl,d=e.oldIndex,p=e.newIndex,f=e.oldDraggableIndex,h=e.newDraggableIndex,m=e.originalEvent,g=e.putSortable,b=e.extraEventProperties;if(t=t||n&&n[U]){var v,y=t.options,k="on"+r.charAt(0).toUpperCase()+r.substr(1);!window.CustomEvent||l||c?(v=document.createEvent("Event")).initEvent(r,!0,!0):v=new CustomEvent(r,{bubbles:!0,cancelable:!0}),v.to=s||n,v.from=u||n,v.item=o||n,v.clone=i,v.oldIndex=d,v.newIndex=p,v.oldDraggableIndex=f,v.newDraggableIndex=h,v.originalEvent=m,v.pullMode=g?g.lastPutMode:void 0;var _=a({},b,H.getEventProperties(r,t));for(var w in _)v[w]=_[w];n&&n.dispatchEvent(v),y[k]&&y[k].call(t,v)}}var W=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.evt,o=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(n,["evt"]);H.pluginEvent.bind(Le)(e,t,a({dragEl:Y,parentEl:K,ghostEl:$,rootEl:Q,nextEl:J,lastDownEl:X,cloneEl:Z,cloneHidden:ee,dragStarted:fe,putSortable:ae,activeSortable:Le.active,originalEvent:r,oldIndex:te,oldDraggableIndex:re,newIndex:ne,newDraggableIndex:oe,hideGhostForTarget:Ie,unhideGhostForTarget:Ne,cloneNowHidden:function(){ee=!0},cloneNowShown:function(){ee=!1},dispatchSortableEvent:function(e){G({sortable:t,name:e,originalEvent:r})}},o))};function G(e){V(a({putSortable:ae,cloneEl:Z,targetEl:Y,rootEl:Q,oldIndex:te,oldDraggableIndex:re,newIndex:ne,newDraggableIndex:oe},e))}var Y,K,$,Q,J,X,Z,ee,te,ne,re,oe,ie,ae,se,le,ce,ue,de,pe,fe,he,me,ge,be,ve=!1,ye=!1,ke=[],_e=!1,we=!1,Ce=[],Se=!1,Pe=[],Ee="undefined"!=typeof document,xe=p,Oe=c||l?"cssFloat":"float",Te=Ee&&!f&&!p&&"draggable"in document.createElement("div"),Me=function(){if(Ee){if(l)return!1;var e=document.createElement("x");return e.style.cssText="pointer-events:auto","auto"===e.style.pointerEvents}}(),Ae=function(e,t){var n=C(e),r=parseInt(n.width)-parseInt(n.paddingLeft)-parseInt(n.paddingRight)-parseInt(n.borderLeftWidth)-parseInt(n.borderRightWidth),o=T(e,0,t),i=T(e,1,t),a=o&&C(o),s=i&&C(i),l=a&&parseInt(a.marginLeft)+parseInt(a.marginRight)+x(o).width,c=s&&parseInt(s.marginLeft)+parseInt(s.marginRight)+x(i).width;if("flex"===n.display)return"column"===n.flexDirection||"column-reverse"===n.flexDirection?"vertical":"horizontal";if("grid"===n.display)return n.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(o&&a.float&&"none"!==a.float){var u="left"===a.float?"left":"right";return!i||"both"!==s.clear&&s.clear!==u?"horizontal":"vertical"}return o&&("block"===a.display||"flex"===a.display||"table"===a.display||"grid"===a.display||l>=r&&"none"===n[Oe]||i&&"none"===n[Oe]&&l+c>r)?"vertical":"horizontal"},je=function(e){function t(e,n){return function(r,o,i,a){var s=r.options.group.name&&o.options.group.name&&r.options.group.name===o.options.group.name;if(null==e&&(n||s))return!0;if(null==e||!1===e)return!1;if(n&&"clone"===e)return e;if("function"==typeof e)return t(e(r,o,i,a),n)(r,o,i,a);var l=(n?r:o).options.group.name;return!0===e||"string"==typeof e&&e===l||e.join&&e.indexOf(l)>-1}}var n={},o=e.group;o&&"object"==r(o)||(o={name:o}),n.name=o.name,n.checkPull=t(o.pull,!0),n.checkPut=t(o.put),n.revertClone=o.revertClone,e.group=n},Ie=function(){!Me&&$&&C($,"display","none")},Ne=function(){!Me&&$&&C($,"display","")};Ee&&document.addEventListener("click",function(e){if(ye)return e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.stopImmediatePropagation&&e.stopImmediatePropagation(),ye=!1,!1},!0);var Re=function(e){if(Y){var t=function(e,t){var n;return ke.some(function(r){if(!M(r)){var o=x(r),i=r[U].options.emptyInsertThreshold,a=e>=o.left-i&&e<=o.right+i,s=t>=o.top-i&&t<=o.bottom+i;return i&&a&&s?n=r:void 0}}),n}((e=e.touches?e.touches[0]:e).clientX,e.clientY);if(t){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]=e[r]);n.target=n.rootEl=t,n.preventDefault=void 0,n.stopPropagation=void 0,t[U]._onDragOver(n)}}},De=function(e){Y&&Y.parentNode[U]._isOutsideThisEl(e.target)};function Le(e,t){if(!e||!e.nodeType||1!==e.nodeType)throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(e));this.el=e,this.options=t=i({},t),e[U]=this;var n={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(e.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return Ae(e,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(e,t){e.setData("Text",t.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:!1!==Le.supportPointer&&"PointerEvent"in window,emptyInsertThreshold:5};for(var r in H.initializePlugins(this,e,n),n)!(r in t)&&(t[r]=n[r]);for(var o in je(t),this)"_"===o.charAt(0)&&"function"==typeof this[o]&&(this[o]=this[o].bind(this));this.nativeDraggable=!t.forceFallback&&Te,this.nativeDraggable&&(this.options.touchStartThreshold=1),t.supportPointer?m(e,"pointerdown",this._onTapStart):(m(e,"mousedown",this._onTapStart),m(e,"touchstart",this._onTapStart)),this.nativeDraggable&&(m(e,"dragover",this),m(e,"dragenter",this)),ke.push(this.el),t.store&&t.store.get&&this.sort(t.store.get(this)||[]),i(this,function(){var e,t=[];return{captureAnimationState:function(){t=[],this.options.animation&&[].slice.call(this.el.children).forEach(function(e){if("none"!==C(e,"display")&&e!==Le.ghost){t.push({target:e,rect:x(e)});var n=a({},t[t.length-1].rect);if(e.thisAnimationDuration){var r=S(e,!0);r&&(n.top-=r.f,n.left-=r.e)}e.fromRect=n}})},addAnimationState:function(e){t.push(e)},removeAnimationState:function(e){t.splice(function(e,t){for(var n in e)if(e.hasOwnProperty(n))for(var r in t)if(t.hasOwnProperty(r)&&t[r]===e[n][r])return Number(n);return-1}(t,{target:e}),1)},animateAll:function(n){var r=this;if(!this.options.animation)return clearTimeout(e),void("function"==typeof n&&n());var o=!1,i=0;t.forEach(function(e){var t=0,n=e.target,a=n.fromRect,s=x(n),l=n.prevFromRect,c=n.prevToRect,u=e.rect,d=S(n,!0);d&&(s.top-=d.f,s.left-=d.e),n.toRect=s,n.thisAnimationDuration&&N(l,s)&&!N(a,s)&&(u.top-s.top)/(u.left-s.left)==(a.top-s.top)/(a.left-s.left)&&(t=function(e,t,n,r){return Math.sqrt(Math.pow(t.top-e.top,2)+Math.pow(t.left-e.left,2))/Math.sqrt(Math.pow(t.top-n.top,2)+Math.pow(t.left-n.left,2))*r.animation}(u,l,c,r.options)),N(s,a)||(n.prevFromRect=a,n.prevToRect=s,t||(t=r.options.animation),r.animate(n,u,s,t)),t&&(o=!0,i=Math.max(i,t),clearTimeout(n.animationResetTimer),n.animationResetTimer=setTimeout(function(){n.animationTime=0,n.prevFromRect=null,n.fromRect=null,n.prevToRect=null,n.thisAnimationDuration=null},t),n.thisAnimationDuration=t)}),clearTimeout(e),o?e=setTimeout(function(){"function"==typeof n&&n()},i):"function"==typeof n&&n(),t=[]},animate:function(e,t,n,r){if(r){C(e,"transition",""),C(e,"transform","");var o=S(this.el),i=o&&o.a,a=o&&o.d,s=(t.left-n.left)/(i||1),l=(t.top-n.top)/(a||1);e.animatingX=!!s,e.animatingY=!!l,C(e,"transform","translate3d("+s+"px,"+l+"px,0)"),function(e){e.offsetWidth}(e),C(e,"transition","transform "+r+"ms"+(this.options.easing?" "+this.options.easing:"")),C(e,"transform","translate3d(0,0,0)"),"number"==typeof e.animated&&clearTimeout(e.animated),e.animated=setTimeout(function(){C(e,"transition",""),C(e,"transform",""),e.animated=!1,e.animatingX=!1,e.animatingY=!1},r)}}}}())}function Be(e,t,n,r,o,i,a,s){var u,d,p=e[U],f=p.options.onMove;return!window.CustomEvent||l||c?(u=document.createEvent("Event")).initEvent("move",!0,!0):u=new CustomEvent("move",{bubbles:!0,cancelable:!0}),u.to=t,u.from=e,u.dragged=n,u.draggedRect=r,u.related=o||t,u.relatedRect=i||x(t),u.willInsertAfter=s,u.originalEvent=a,e.dispatchEvent(u),f&&(d=f.call(p,u,a)),d}function Fe(e){e.draggable=!1}function Ue(){Se=!1}function qe(e){for(var t=e.tagName+e.className+e.src+e.href+e.textContent,n=t.length,r=0;n--;)r+=t.charCodeAt(n);return r.toString(36)}function ze(e){return setTimeout(e,0)}function He(e){return clearTimeout(e)}Le.prototype={constructor:Le,_isOutsideThisEl:function(e){this.el.contains(e)||e===this.el||(he=null)},_getDirection:function(e,t){return"function"==typeof this.options.direction?this.options.direction.call(this,e,t,Y):this.options.direction},_onTapStart:function(e){if(e.cancelable){var t=this,n=this.el,r=this.options,o=r.preventOnFilter,i=e.type,a=e.touches&&e.touches[0]||e.pointerType&&"touch"===e.pointerType&&e,s=(a||e).target,l=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||s,c=r.filter;if(function(e){Pe.length=0;for(var t=e.getElementsByTagName("input"),n=t.length;n--;){var r=t[n];r.checked&&Pe.push(r)}}(n),!Y&&!(/mousedown|pointerdown/.test(i)&&0!==e.button||r.disabled||l.isContentEditable||(s=y(s,r.draggable,n,!1))&&s.animated||X===s)){if(te=A(s),re=A(s,r.draggable),"function"==typeof c){if(c.call(this,e,s,this))return G({sortable:t,rootEl:l,name:"filter",targetEl:s,toEl:n,fromEl:n}),W("filter",t,{evt:e}),void(o&&e.cancelable&&e.preventDefault())}else if(c&&(c=c.split(",").some(function(r){if(r=y(l,r.trim(),n,!1))return G({sortable:t,rootEl:r,name:"filter",targetEl:s,fromEl:n,toEl:n}),W("filter",t,{evt:e}),!0})))return void(o&&e.cancelable&&e.preventDefault());r.handle&&!y(l,r.handle,n,!1)||this._prepareDragStart(e,a,s)}}},_prepareDragStart:function(e,t,n){var r,o=this,i=o.el,a=o.options,s=i.ownerDocument;if(n&&!Y&&n.parentNode===i){var d=x(n);if(Q=i,K=(Y=n).parentNode,J=Y.nextSibling,X=n,ie=a.group,Le.dragged=Y,se={target:Y,clientX:(t||e).clientX,clientY:(t||e).clientY},de=se.clientX-d.left,pe=se.clientY-d.top,this._lastX=(t||e).clientX,this._lastY=(t||e).clientY,Y.style["will-change"]="all",r=function(){W("delayEnded",o,{evt:e}),Le.eventCanceled?o._onDrop():(o._disableDelayedDragEvents(),!u&&o.nativeDraggable&&(Y.draggable=!0),o._triggerDragStart(e,t),G({sortable:o,name:"choose",originalEvent:e}),w(Y,a.chosenClass,!0))},a.ignore.split(",").forEach(function(e){P(Y,e.trim(),Fe)}),m(s,"dragover",Re),m(s,"mousemove",Re),m(s,"touchmove",Re),m(s,"mouseup",o._onDrop),m(s,"touchend",o._onDrop),m(s,"touchcancel",o._onDrop),u&&this.nativeDraggable&&(this.options.touchStartThreshold=4,Y.draggable=!0),W("delayStart",this,{evt:e}),!a.delay||a.delayOnTouchOnly&&!t||this.nativeDraggable&&(c||l))r();else{if(Le.eventCanceled)return void this._onDrop();m(s,"mouseup",o._disableDelayedDrag),m(s,"touchend",o._disableDelayedDrag),m(s,"touchcancel",o._disableDelayedDrag),m(s,"mousemove",o._delayedDragTouchMoveHandler),m(s,"touchmove",o._delayedDragTouchMoveHandler),a.supportPointer&&m(s,"pointermove",o._delayedDragTouchMoveHandler),o._dragStartTimer=setTimeout(r,a.delay)}}},_delayedDragTouchMoveHandler:function(e){var t=e.touches?e.touches[0]:e;Math.max(Math.abs(t.clientX-this._lastX),Math.abs(t.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){Y&&Fe(Y),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;g(e,"mouseup",this._disableDelayedDrag),g(e,"touchend",this._disableDelayedDrag),g(e,"touchcancel",this._disableDelayedDrag),g(e,"mousemove",this._delayedDragTouchMoveHandler),g(e,"touchmove",this._delayedDragTouchMoveHandler),g(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,t){t=t||"touch"==e.pointerType&&e,!this.nativeDraggable||t?this.options.supportPointer?m(document,"pointermove",this._onTouchMove):m(document,t?"touchmove":"mousemove",this._onTouchMove):(m(Y,"dragend",this),m(Q,"dragstart",this._onDragStart));try{document.selection?ze(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch(e){}},_dragStarted:function(e,t){if(ve=!1,Q&&Y){W("dragStarted",this,{evt:t}),this.nativeDraggable&&m(document,"dragover",De);var n=this.options;!e&&w(Y,n.dragClass,!1),w(Y,n.ghostClass,!0),Le.active=this,e&&this._appendGhost(),G({sortable:this,name:"start",originalEvent:t})}else this._nulling()},_emulateDragOver:function(){if(le){this._lastX=le.clientX,this._lastY=le.clientY,Ie();for(var e=document.elementFromPoint(le.clientX,le.clientY),t=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(le.clientX,le.clientY))!==t;)t=e;if(Y.parentNode[U]._isOutsideThisEl(e),t)do{if(t[U]&&t[U]._onDragOver({clientX:le.clientX,clientY:le.clientY,target:e,rootEl:t})&&!this.options.dragoverBubble)break;e=t}while(t=t.parentNode);Ne()}},_onTouchMove:function(e){if(se){var t=this.options,n=t.fallbackTolerance,r=t.fallbackOffset,o=e.touches?e.touches[0]:e,i=$&&S($,!0),a=$&&i&&i.a,s=$&&i&&i.d,l=xe&&be&&j(be),c=(o.clientX-se.clientX+r.x)/(a||1)+(l?l[0]-Ce[0]:0)/(a||1),u=(o.clientY-se.clientY+r.y)/(s||1)+(l?l[1]-Ce[1]:0)/(s||1);if(!Le.active&&!ve){if(n&&Math.max(Math.abs(o.clientX-this._lastX),Math.abs(o.clientY-this._lastY))<n)return;this._onDragStart(e,!0)}if($){i?(i.e+=c-(ce||0),i.f+=u-(ue||0)):i={a:1,b:0,c:0,d:1,e:c,f:u};var d="matrix(".concat(i.a,",").concat(i.b,",").concat(i.c,",").concat(i.d,",").concat(i.e,",").concat(i.f,")");C($,"webkitTransform",d),C($,"mozTransform",d),C($,"msTransform",d),C($,"transform",d),ce=c,ue=u,le=o}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!$){var e=this.options.fallbackOnBody?document.body:Q,t=x(Y,!0,xe,!0,e),n=this.options;if(xe){for(be=e;"static"===C(be,"position")&&"none"===C(be,"transform")&&be!==document;)be=be.parentNode;be!==document.body&&be!==document.documentElement?(be===document&&(be=E()),t.top+=be.scrollTop,t.left+=be.scrollLeft):be=E(),Ce=j(be)}w($=Y.cloneNode(!0),n.ghostClass,!1),w($,n.fallbackClass,!0),w($,n.dragClass,!0),C($,"transition",""),C($,"transform",""),C($,"box-sizing","border-box"),C($,"margin",0),C($,"top",t.top),C($,"left",t.left),C($,"width",t.width),C($,"height",t.height),C($,"opacity","0.8"),C($,"position",xe?"absolute":"fixed"),C($,"zIndex","100000"),C($,"pointerEvents","none"),Le.ghost=$,e.appendChild($),C($,"transform-origin",de/parseInt($.style.width)*100+"% "+pe/parseInt($.style.height)*100+"%")}},_onDragStart:function(e,t){var n=this,r=e.dataTransfer,o=n.options;W("dragStart",this,{evt:e}),Le.eventCanceled?this._onDrop():(W("setupClone",this),Le.eventCanceled||((Z=L(Y)).draggable=!1,Z.style["will-change"]="",this._hideClone(),w(Z,this.options.chosenClass,!1),Le.clone=Z),n.cloneId=ze(function(){W("clone",n),Le.eventCanceled||(n.options.removeCloneOnHide||Q.insertBefore(Z,Y),n._hideClone(),G({sortable:n,name:"clone"}))}),!t&&w(Y,o.dragClass,!0),t?(ye=!0,n._loopId=setInterval(n._emulateDragOver,50)):(g(document,"mouseup",n._onDrop),g(document,"touchend",n._onDrop),g(document,"touchcancel",n._onDrop),r&&(r.effectAllowed="move",o.setData&&o.setData.call(n,r,Y)),m(document,"drop",n),C(Y,"transform","translateZ(0)")),ve=!0,n._dragStartId=ze(n._dragStarted.bind(n,t,e)),m(document,"selectstart",n),fe=!0,d&&C(document.body,"user-select","none"))},_onDragOver:function(e){var t,n,r,o,i=this.el,s=e.target,l=this.options,c=l.group,u=Le.active,d=ie===c,p=l.sort,f=ae||u,h=this,m=!1;if(!Se){if(void 0!==e.preventDefault&&e.cancelable&&e.preventDefault(),s=y(s,l.draggable,i,!0),L("dragOver"),Le.eventCanceled)return m;if(Y.contains(e.target)||s.animated&&s.animatingX&&s.animatingY||h._ignoreWhileAnimating===s)return F(!1);if(ye=!1,u&&!l.disabled&&(d?p||(r=!Q.contains(Y)):ae===this||(this.lastPutMode=ie.checkPull(this,u,Y,e))&&c.checkPut(this,u,Y,e))){if(o="vertical"===this._getDirection(e,s),t=x(Y),L("dragOverValid"),Le.eventCanceled)return m;if(r)return K=Q,B(),this._hideClone(),L("revert"),Le.eventCanceled||(J?Q.insertBefore(Y,J):Q.appendChild(Y)),F(!0);var g=M(i,l.draggable);if(!g||function(e,t,n){var r=x(M(n.el,n.options.draggable));return t?e.clientX>r.right+10||e.clientX<=r.right&&e.clientY>r.bottom&&e.clientX>=r.left:e.clientX>r.right&&e.clientY>r.top||e.clientX<=r.right&&e.clientY>r.bottom+10}(e,o,this)&&!g.animated){if(g===Y)return F(!1);if(g&&i===e.target&&(s=g),s&&(n=x(s)),!1!==Be(Q,i,Y,t,s,n,e,!!s))return B(),i.appendChild(Y),K=i,q(),F(!0)}else if(s.parentNode===i){n=x(s);var b,v,k,_=Y.parentNode!==i,S=!function(e,t,n){var r=n?e.left:e.top,o=n?e.right:e.bottom,i=n?e.width:e.height,a=n?t.left:t.top,s=n?t.right:t.bottom,l=n?t.width:t.height;return r===a||o===s||r+i/2===a+l/2}(Y.animated&&Y.toRect||t,s.animated&&s.toRect||n,o),P=o?"top":"left",E=O(s,"top","top")||O(Y,"top","top"),T=E?E.scrollTop:void 0;if(he!==s&&(v=n[P],_e=!1,we=!S&&l.invertSwap||_),0!==(b=function(e,t,n,r,o,i,a,s){var l=r?e.clientY:e.clientX,c=r?n.height:n.width,u=r?n.top:n.left,d=r?n.bottom:n.right,p=!1;if(!a)if(s&&ge<c*o){if(!_e&&(1===me?l>u+c*i/2:l<d-c*i/2)&&(_e=!0),_e)p=!0;else if(1===me?l<u+ge:l>d-ge)return-me}else if(l>u+c*(1-o)/2&&l<d-c*(1-o)/2)return function(e){return A(Y)<A(e)?1:-1}(t);return(p=p||a)&&(l<u+c*i/2||l>d-c*i/2)?l>u+c/2?1:-1:0}(e,s,n,o,S?1:l.swapThreshold,null==l.invertedSwapThreshold?l.swapThreshold:l.invertedSwapThreshold,we,he===s))){var j=A(Y);do{j-=b,k=K.children[j]}while(k&&("none"===C(k,"display")||k===$))}if(0===b||k===s)return F(!1);he=s,me=b;var I=s.nextElementSibling,N=!1,R=Be(Q,i,Y,t,s,n,e,N=1===b);if(!1!==R)return 1!==R&&-1!==R||(N=1===R),Se=!0,setTimeout(Ue,30),B(),N&&!I?i.appendChild(Y):s.parentNode.insertBefore(Y,N?I:s),E&&D(E,0,T-E.scrollTop),K=Y.parentNode,void 0===v||we||(ge=Math.abs(v-x(s)[P])),q(),F(!0)}if(i.contains(Y))return F(!1)}return!1}function L(l,c){W(l,h,a({evt:e,isOwner:d,axis:o?"vertical":"horizontal",revert:r,dragRect:t,targetRect:n,canSort:p,fromSortable:f,target:s,completed:F,onMove:function(n,r){return Be(Q,i,Y,t,n,x(n),e,r)},changed:q},c))}function B(){L("dragOverAnimationCapture"),h.captureAnimationState(),h!==f&&f.captureAnimationState()}function F(t){return L("dragOverCompleted",{insertion:t}),t&&(d?u._hideClone():u._showClone(h),h!==f&&(w(Y,ae?ae.options.ghostClass:u.options.ghostClass,!1),w(Y,l.ghostClass,!0)),ae!==h&&h!==Le.active?ae=h:h===Le.active&&ae&&(ae=null),f===h&&(h._ignoreWhileAnimating=s),h.animateAll(function(){L("dragOverAnimationComplete"),h._ignoreWhileAnimating=null}),h!==f&&(f.animateAll(),f._ignoreWhileAnimating=null)),(s===Y&&!Y.animated||s===i&&!s.animated)&&(he=null),l.dragoverBubble||e.rootEl||s===document||(Y.parentNode[U]._isOutsideThisEl(e.target),!t&&Re(e)),!l.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),m=!0}function q(){ne=A(Y),oe=A(Y,l.draggable),G({sortable:h,name:"change",toEl:i,newIndex:ne,newDraggableIndex:oe,originalEvent:e})}},_ignoreWhileAnimating:null,_offMoveEvents:function(){g(document,"mousemove",this._onTouchMove),g(document,"touchmove",this._onTouchMove),g(document,"pointermove",this._onTouchMove),g(document,"dragover",Re),g(document,"mousemove",Re),g(document,"touchmove",Re)},_offUpEvents:function(){var e=this.el.ownerDocument;g(e,"mouseup",this._onDrop),g(e,"touchend",this._onDrop),g(e,"pointerup",this._onDrop),g(e,"touchcancel",this._onDrop),g(document,"selectstart",this)},_onDrop:function(e){var t=this.el,n=this.options;ne=A(Y),oe=A(Y,n.draggable),W("drop",this,{evt:e}),K=Y&&Y.parentNode,ne=A(Y),oe=A(Y,n.draggable),Le.eventCanceled?this._nulling():(ve=!1,we=!1,_e=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),He(this.cloneId),He(this._dragStartId),this.nativeDraggable&&(g(document,"drop",this),g(t,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),d&&C(document.body,"user-select",""),C(Y,"transform",""),e&&(fe&&(e.cancelable&&e.preventDefault(),!n.dropBubble&&e.stopPropagation()),$&&$.parentNode&&$.parentNode.removeChild($),(Q===K||ae&&"clone"!==ae.lastPutMode)&&Z&&Z.parentNode&&Z.parentNode.removeChild(Z),Y&&(this.nativeDraggable&&g(Y,"dragend",this),Fe(Y),Y.style["will-change"]="",fe&&!ve&&w(Y,ae?ae.options.ghostClass:this.options.ghostClass,!1),w(Y,this.options.chosenClass,!1),G({sortable:this,name:"unchoose",toEl:K,newIndex:null,newDraggableIndex:null,originalEvent:e}),Q!==K?(ne>=0&&(G({rootEl:K,name:"add",toEl:K,fromEl:Q,originalEvent:e}),G({sortable:this,name:"remove",toEl:K,originalEvent:e}),G({rootEl:K,name:"sort",toEl:K,fromEl:Q,originalEvent:e}),G({sortable:this,name:"sort",toEl:K,originalEvent:e})),ae&&ae.save()):ne!==te&&ne>=0&&(G({sortable:this,name:"update",toEl:K,originalEvent:e}),G({sortable:this,name:"sort",toEl:K,originalEvent:e})),Le.active&&(null!=ne&&-1!==ne||(ne=te,oe=re),G({sortable:this,name:"end",toEl:K,originalEvent:e}),this.save()))),this._nulling())},_nulling:function(){W("nulling",this),Q=Y=K=$=J=Z=X=ee=se=le=fe=ne=oe=te=re=he=me=ae=ie=Le.dragged=Le.ghost=Le.clone=Le.active=null,Pe.forEach(function(e){e.checked=!0}),Pe.length=ce=ue=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":Y&&(this._onDragOver(e),function(e){e.dataTransfer&&(e.dataTransfer.dropEffect="move"),e.cancelable&&e.preventDefault()}(e));break;case"selectstart":e.preventDefault()}},toArray:function(){for(var e,t=[],n=this.el.children,r=0,o=n.length,i=this.options;r<o;r++)y(e=n[r],i.draggable,this.el,!1)&&t.push(e.getAttribute(i.dataIdAttr)||qe(e));return t},sort:function(e){var t={},n=this.el;this.toArray().forEach(function(e,r){var o=n.children[r];y(o,this.options.draggable,n,!1)&&(t[e]=o)},this),e.forEach(function(e){t[e]&&(n.removeChild(t[e]),n.appendChild(t[e]))})},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,t){return y(e,t||this.options.draggable,this.el,!1)},option:function(e,t){var n=this.options;if(void 0===t)return n[e];var r=H.modifyOption(this,e,t);n[e]=void 0!==r?r:t,"group"===e&&je(n)},destroy:function(){W("destroy",this);var e=this.el;e[U]=null,g(e,"mousedown",this._onTapStart),g(e,"touchstart",this._onTapStart),g(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(g(e,"dragover",this),g(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),function(e){e.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),ke.splice(ke.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!ee){if(W("hideClone",this),Le.eventCanceled)return;C(Z,"display","none"),this.options.removeCloneOnHide&&Z.parentNode&&Z.parentNode.removeChild(Z),ee=!0}},_showClone:function(e){if("clone"===e.lastPutMode){if(ee){if(W("showClone",this),Le.eventCanceled)return;Q.contains(Y)&&!this.options.group.revertClone?Q.insertBefore(Z,Y):J?Q.insertBefore(Z,J):Q.appendChild(Z),this.options.group.revertClone&&this.animate(Y,Z),C(Z,"display",""),ee=!1}}else this._hideClone()}},Ee&&m(document,"touchmove",function(e){(Le.active||ve)&&e.cancelable&&e.preventDefault()}),Le.utils={on:m,off:g,css:C,find:P,is:function(e,t){return!!y(e,t,e,!1)},extend:function(e,t){if(e&&t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e},throttle:R,closest:y,toggleClass:w,clone:L,index:A,nextTick:ze,cancelNextTick:He,detectDirection:Ae,getChild:T},Le.get=function(e){return e[U]},Le.mount=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t[0].constructor===Array&&(t=t[0]),t.forEach(function(e){if(!e.prototype||!e.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(e));e.utils&&(Le.utils=a({},Le.utils,e.utils)),H.mount(e)})},Le.create=function(e,t){return new Le(e,t)},Le.version="1.10.2";var Ve,We,Ge,Ye,Ke,$e,Qe=[],Je=!1;function Xe(){Qe.forEach(function(e){clearInterval(e.pid)}),Qe=[]}function Ze(){clearInterval($e)}var et,tt=R(function(e,t,n,r){if(t.scroll){var o,i=(e.touches?e.touches[0]:e).clientX,a=(e.touches?e.touches[0]:e).clientY,s=t.scrollSensitivity,l=t.scrollSpeed,c=E(),u=!1;We!==n&&(We=n,Xe(),Ve=t.scroll,o=t.scrollFn,!0===Ve&&(Ve=I(n,!0)));var d=0,p=Ve;do{var f=p,h=x(f),m=h.top,g=h.bottom,b=h.left,v=h.right,y=h.width,k=h.height,_=void 0,w=void 0,S=f.scrollWidth,P=f.scrollHeight,O=C(f),T=f.scrollLeft,M=f.scrollTop;f===c?(_=y<S&&("auto"===O.overflowX||"scroll"===O.overflowX||"visible"===O.overflowX),w=k<P&&("auto"===O.overflowY||"scroll"===O.overflowY||"visible"===O.overflowY)):(_=y<S&&("auto"===O.overflowX||"scroll"===O.overflowX),w=k<P&&("auto"===O.overflowY||"scroll"===O.overflowY));var A=_&&(Math.abs(v-i)<=s&&T+y<S)-(Math.abs(b-i)<=s&&!!T),j=w&&(Math.abs(g-a)<=s&&M+k<P)-(Math.abs(m-a)<=s&&!!M);if(!Qe[d])for(var N=0;N<=d;N++)Qe[N]||(Qe[N]={});Qe[d].vx==A&&Qe[d].vy==j&&Qe[d].el===f||(Qe[d].el=f,Qe[d].vx=A,Qe[d].vy=j,clearInterval(Qe[d].pid),0==A&&0==j||(u=!0,Qe[d].pid=setInterval(function(){r&&0===this.layer&&Le.active._onTouchMove(Ke);var t=Qe[this.layer].vy?Qe[this.layer].vy*l:0,n=Qe[this.layer].vx?Qe[this.layer].vx*l:0;"function"==typeof o&&"continue"!==o.call(Le.dragged.parentNode[U],n,t,e,Ke,Qe[this.layer].el)||D(Qe[this.layer].el,n,t)}.bind({layer:d}),24))),d++}while(t.bubbleScroll&&p!==c&&(p=I(p,!1)));Je=u}},30),nt=function(e){var t=e.originalEvent,n=e.putSortable,r=e.dragEl,o=e.activeSortable,i=e.dispatchSortableEvent,a=e.hideGhostForTarget,s=e.unhideGhostForTarget;if(t){var l=n||o;a();var c=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:t,u=document.elementFromPoint(c.clientX,c.clientY);s(),l&&!l.el.contains(u)&&(i("spill"),this.onSpill({dragEl:r,putSortable:n}))}};function rt(){}function ot(){}function it(){function e(){this.defaults={swapClass:"sortable-swap-highlight"}}return e.prototype={dragStart:function(e){var t=e.dragEl;et=t},dragOverValid:function(e){var t=e.completed,n=e.target,r=e.onMove,o=e.activeSortable,i=e.changed,a=e.cancel;if(o.options.swap){var s=this.sortable.el,l=this.options;if(n&&n!==s){var c=et;!1!==r(n)?(w(n,l.swapClass,!0),et=n):et=null,c&&c!==et&&w(c,l.swapClass,!1)}i(),t(!0),a()}},drop:function(e){var t=e.activeSortable,n=e.putSortable,r=e.dragEl,o=n||this.sortable,i=this.options;et&&w(et,i.swapClass,!1),et&&(i.swap||n&&n.options.swap)&&r!==et&&(o.captureAnimationState(),o!==t&&t.captureAnimationState(),function(e,t){var n,r,o=e.parentNode,i=t.parentNode;o&&i&&!o.isEqualNode(t)&&!i.isEqualNode(e)&&(n=A(e),r=A(t),o.isEqualNode(i)&&n<r&&r++,o.insertBefore(t,o.children[n]),i.insertBefore(e,i.children[r]))}(r,et),o.animateAll(),o!==t&&t.animateAll())},nulling:function(){et=null}},i(e,{pluginName:"swap",eventProperties:function(){return{swapItem:et}}})}rt.prototype={startIndex:null,dragStart:function(e){var t=e.oldDraggableIndex;this.startIndex=t},onSpill:function(e){var t=e.dragEl,n=e.putSortable;this.sortable.captureAnimationState(),n&&n.captureAnimationState();var r=T(this.sortable.el,this.startIndex,this.options);r?this.sortable.el.insertBefore(t,r):this.sortable.el.appendChild(t),this.sortable.animateAll(),n&&n.animateAll()},drop:nt},i(rt,{pluginName:"revertOnSpill"}),ot.prototype={onSpill:function(e){var t=e.dragEl,n=e.putSortable||this.sortable;n.captureAnimationState(),t.parentNode&&t.parentNode.removeChild(t),n.animateAll()},drop:nt},i(ot,{pluginName:"removeOnSpill"});var at,st,lt,ct,ut,dt=[],pt=[],ft=!1,ht=!1,mt=!1;function gt(){function e(e){for(var t in this)"_"===t.charAt(0)&&"function"==typeof this[t]&&(this[t]=this[t].bind(this));e.options.supportPointer?m(document,"pointerup",this._deselectMultiDrag):(m(document,"mouseup",this._deselectMultiDrag),m(document,"touchend",this._deselectMultiDrag)),m(document,"keydown",this._checkKeyDown),m(document,"keyup",this._checkKeyUp),this.defaults={selectedClass:"sortable-selected",multiDragKey:null,setData:function(t,n){var r="";dt.length&&st===e?dt.forEach(function(e,t){r+=(t?", ":"")+e.textContent}):r=n.textContent,t.setData("Text",r)}}}return e.prototype={multiDragKeyDown:!1,isMultiDrag:!1,delayStartGlobal:function(e){var t=e.dragEl;lt=t},delayEnded:function(){this.isMultiDrag=~dt.indexOf(lt)},setupClone:function(e){var t=e.sortable,n=e.cancel;if(this.isMultiDrag){for(var r=0;r<dt.length;r++)pt.push(L(dt[r])),pt[r].sortableIndex=dt[r].sortableIndex,pt[r].draggable=!1,pt[r].style["will-change"]="",w(pt[r],this.options.selectedClass,!1),dt[r]===lt&&w(pt[r],this.options.chosenClass,!1);t._hideClone(),n()}},clone:function(e){var t=e.sortable,n=e.rootEl,r=e.dispatchSortableEvent,o=e.cancel;this.isMultiDrag&&(this.options.removeCloneOnHide||dt.length&&st===t&&(bt(!0,n),r("clone"),o()))},showClone:function(e){var t=e.cloneNowShown,n=e.rootEl,r=e.cancel;this.isMultiDrag&&(bt(!1,n),pt.forEach(function(e){C(e,"display","")}),t(),ut=!1,r())},hideClone:function(e){var t=this,n=(e.sortable,e.cloneNowHidden),r=e.cancel;this.isMultiDrag&&(pt.forEach(function(e){C(e,"display","none"),t.options.removeCloneOnHide&&e.parentNode&&e.parentNode.removeChild(e)}),n(),ut=!0,r())},dragStartGlobal:function(e){e.sortable,!this.isMultiDrag&&st&&st.multiDrag._deselectMultiDrag(),dt.forEach(function(e){e.sortableIndex=A(e)}),dt=dt.sort(function(e,t){return e.sortableIndex-t.sortableIndex}),mt=!0},dragStarted:function(e){var t=this,n=e.sortable;if(this.isMultiDrag){if(this.options.sort&&(n.captureAnimationState(),this.options.animation)){dt.forEach(function(e){e!==lt&&C(e,"position","absolute")});var r=x(lt,!1,!0,!0);dt.forEach(function(e){e!==lt&&B(e,r)}),ht=!0,ft=!0}n.animateAll(function(){ht=!1,ft=!1,t.options.animation&&dt.forEach(function(e){F(e)}),t.options.sort&&vt()})}},dragOver:function(e){var t=e.target,n=e.completed,r=e.cancel;ht&&~dt.indexOf(t)&&(n(!1),r())},revert:function(e){var t=e.fromSortable,n=e.rootEl,r=e.sortable,o=e.dragRect;dt.length>1&&(dt.forEach(function(e){r.addAnimationState({target:e,rect:ht?x(e):o}),F(e),e.fromRect=o,t.removeAnimationState(e)}),ht=!1,function(e,t){dt.forEach(function(n,r){var o=t.children[n.sortableIndex+(e?Number(r):0)];o?t.insertBefore(n,o):t.appendChild(n)})}(!this.options.removeCloneOnHide,n))},dragOverCompleted:function(e){var t=e.sortable,n=e.isOwner,r=e.insertion,o=e.activeSortable,i=e.parentEl,a=e.putSortable,s=this.options;if(r){if(n&&o._hideClone(),ft=!1,s.animation&&dt.length>1&&(ht||!n&&!o.options.sort&&!a)){var l=x(lt,!1,!0,!0);dt.forEach(function(e){e!==lt&&(B(e,l),i.appendChild(e))}),ht=!0}if(!n)if(ht||vt(),dt.length>1){var c=ut;o._showClone(t),o.options.animation&&!ut&&c&&pt.forEach(function(e){o.addAnimationState({target:e,rect:ct}),e.fromRect=ct,e.thisAnimationDuration=null})}else o._showClone(t)}},dragOverAnimationCapture:function(e){var t=e.dragRect,n=e.isOwner,r=e.activeSortable;if(dt.forEach(function(e){e.thisAnimationDuration=null}),r.options.animation&&!n&&r.multiDrag.isMultiDrag){ct=i({},t);var o=S(lt,!0);ct.top-=o.f,ct.left-=o.e}},dragOverAnimationComplete:function(){ht&&(ht=!1,vt())},drop:function(e){var t=e.originalEvent,n=e.rootEl,r=e.parentEl,o=e.sortable,i=e.dispatchSortableEvent,a=e.oldIndex,s=e.putSortable,l=s||this.sortable;if(t){var c=this.options,u=r.children;if(!mt)if(c.multiDragKey&&!this.multiDragKeyDown&&this._deselectMultiDrag(),w(lt,c.selectedClass,!~dt.indexOf(lt)),~dt.indexOf(lt))dt.splice(dt.indexOf(lt),1),at=null,V({sortable:o,rootEl:n,name:"deselect",targetEl:lt,originalEvt:t});else{if(dt.push(lt),V({sortable:o,rootEl:n,name:"select",targetEl:lt,originalEvt:t}),t.shiftKey&&at&&o.el.contains(at)){var d,p,f=A(at),h=A(lt);if(~f&&~h&&f!==h)for(h>f?(p=f,d=h):(p=h,d=f+1);p<d;p++)~dt.indexOf(u[p])||(w(u[p],c.selectedClass,!0),dt.push(u[p]),V({sortable:o,rootEl:n,name:"select",targetEl:u[p],originalEvt:t}))}else at=lt;st=l}if(mt&&this.isMultiDrag){if((r[U].options.sort||r!==n)&&dt.length>1){var m=x(lt),g=A(lt,":not(."+this.options.selectedClass+")");if(!ft&&c.animation&&(lt.thisAnimationDuration=null),l.captureAnimationState(),!ft&&(c.animation&&(lt.fromRect=m,dt.forEach(function(e){if(e.thisAnimationDuration=null,e!==lt){var t=ht?x(e):m;e.fromRect=t,l.addAnimationState({target:e,rect:t})}})),vt(),dt.forEach(function(e){u[g]?r.insertBefore(e,u[g]):r.appendChild(e),g++}),a===A(lt))){var b=!1;dt.forEach(function(e){e.sortableIndex===A(e)||(b=!0)}),b&&i("update")}dt.forEach(function(e){F(e)}),l.animateAll()}st=l}(n===r||s&&"clone"!==s.lastPutMode)&&pt.forEach(function(e){e.parentNode&&e.parentNode.removeChild(e)})}},nullingGlobal:function(){this.isMultiDrag=mt=!1,pt.length=0},destroyGlobal:function(){this._deselectMultiDrag(),g(document,"pointerup",this._deselectMultiDrag),g(document,"mouseup",this._deselectMultiDrag),g(document,"touchend",this._deselectMultiDrag),g(document,"keydown",this._checkKeyDown),g(document,"keyup",this._checkKeyUp)},_deselectMultiDrag:function(e){if(!(void 0!==mt&&mt||st!==this.sortable||e&&y(e.target,this.options.draggable,this.sortable.el,!1)||e&&0!==e.button))for(;dt.length;){var t=dt[0];w(t,this.options.selectedClass,!1),dt.shift(),V({sortable:this.sortable,rootEl:this.sortable.el,name:"deselect",targetEl:t,originalEvt:e})}},_checkKeyDown:function(e){e.key===this.options.multiDragKey&&(this.multiDragKeyDown=!0)},_checkKeyUp:function(e){e.key===this.options.multiDragKey&&(this.multiDragKeyDown=!1)}},i(e,{pluginName:"multiDrag",utils:{select:function(e){var t=e.parentNode[U];t&&t.options.multiDrag&&!~dt.indexOf(e)&&(st&&st!==t&&(st.multiDrag._deselectMultiDrag(),st=t),w(e,t.options.selectedClass,!0),dt.push(e))},deselect:function(e){var t=e.parentNode[U],n=dt.indexOf(e);t&&t.options.multiDrag&&~n&&(w(e,t.options.selectedClass,!1),dt.splice(n,1))}},eventProperties:function(){var e=this,t=[],n=[];return dt.forEach(function(r){var o;t.push({multiDragElement:r,index:r.sortableIndex}),o=ht&&r!==lt?-1:ht?A(r,":not(."+e.options.selectedClass+")"):A(r),n.push({multiDragElement:r,index:o})}),{items:function(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}(dt),clones:[].concat(pt),oldIndicies:t,newIndicies:n}},optionListeners:{multiDragKey:function(e){return"ctrl"===(e=e.toLowerCase())?e="Control":e.length>1&&(e=e.charAt(0).toUpperCase()+e.substr(1)),e}}})}function bt(e,t){pt.forEach(function(n,r){var o=t.children[n.sortableIndex+(e?Number(r):0)];o?t.insertBefore(n,o):t.appendChild(n)})}function vt(){dt.forEach(function(e){e!==lt&&e.parentNode&&e.parentNode.removeChild(e)})}Le.mount(new function(){function e(){for(var e in this.defaults={scroll:!0,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0},this)"_"===e.charAt(0)&&"function"==typeof this[e]&&(this[e]=this[e].bind(this))}return e.prototype={dragStarted:function(e){var t=e.originalEvent;this.sortable.nativeDraggable?m(document,"dragover",this._handleAutoScroll):this.options.supportPointer?m(document,"pointermove",this._handleFallbackAutoScroll):t.touches?m(document,"touchmove",this._handleFallbackAutoScroll):m(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(e){var t=e.originalEvent;this.options.dragOverBubble||t.rootEl||this._handleAutoScroll(t)},drop:function(){this.sortable.nativeDraggable?g(document,"dragover",this._handleAutoScroll):(g(document,"pointermove",this._handleFallbackAutoScroll),g(document,"touchmove",this._handleFallbackAutoScroll),g(document,"mousemove",this._handleFallbackAutoScroll)),Ze(),Xe(),clearTimeout(k),k=void 0},nulling:function(){Ke=We=Ve=Je=$e=Ge=Ye=null,Qe.length=0},_handleFallbackAutoScroll:function(e){this._handleAutoScroll(e,!0)},_handleAutoScroll:function(e,t){var n=this,r=(e.touches?e.touches[0]:e).clientX,o=(e.touches?e.touches[0]:e).clientY,i=document.elementFromPoint(r,o);if(Ke=e,t||c||l||d){tt(e,this.options,i,t);var a=I(i,!0);!Je||$e&&r===Ge&&o===Ye||($e&&Ze(),$e=setInterval(function(){var i=I(document.elementFromPoint(r,o),!0);i!==a&&(a=i,Xe()),tt(e,n.options,i,t)},10),Ge=r,Ye=o)}else{if(!this.options.bubbleScroll||I(i,!0)===E())return void Xe();tt(e,this.options,I(i,!1),!1)}}},i(e,{pluginName:"scroll",initializeByDefault:!0})}),Le.mount(ot,rt),t.default=Le},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createSubscription=void 0;var r=n(606),o=null;t.createSubscription=function(e,t){return(o||(o=(0,r.createConsumer)(function(){for(var e=document.getElementsByTagName("meta"),t=0;t<e.length;t++)if("action-cable-url"==e[t].getAttribute("name"))return e[t].getAttribute("content");throw new Error("could not find the action cable url")}()))).subscriptions.create(e,t)}},function(e,t,n){!function(e){"use strict";var t={logger:self.console,WebSocket:self.WebSocket},n={log:function(){if(this.enabled){for(var e,n=arguments.length,r=Array(n),o=0;o<n;o++)r[o]=arguments[o];r.push(Date.now()),(e=t.logger).log.apply(e,["[ActionCable]"].concat(r))}}},r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(){return(new Date).getTime()},s=function(e){return(a()-e)/1e3},l=function(){function e(t){o(this,e),this.visibilityDidChange=this.visibilityDidChange.bind(this),this.connection=t,this.reconnectAttempts=0}return e.prototype.start=function(){this.isRunning()||(this.startedAt=a(),delete this.stoppedAt,this.startPolling(),addEventListener("visibilitychange",this.visibilityDidChange),n.log("ConnectionMonitor started. pollInterval = "+this.getPollInterval()+" ms"))},e.prototype.stop=function(){this.isRunning()&&(this.stoppedAt=a(),this.stopPolling(),removeEventListener("visibilitychange",this.visibilityDidChange),n.log("ConnectionMonitor stopped"))},e.prototype.isRunning=function(){return this.startedAt&&!this.stoppedAt},e.prototype.recordPing=function(){this.pingedAt=a()},e.prototype.recordConnect=function(){this.reconnectAttempts=0,this.recordPing(),delete this.disconnectedAt,n.log("ConnectionMonitor recorded connect")},e.prototype.recordDisconnect=function(){this.disconnectedAt=a(),n.log("ConnectionMonitor recorded disconnect")},e.prototype.startPolling=function(){this.stopPolling(),this.poll()},e.prototype.stopPolling=function(){clearTimeout(this.pollTimeout)},e.prototype.poll=function(){var e=this;this.pollTimeout=setTimeout(function(){e.reconnectIfStale(),e.poll()},this.getPollInterval())},e.prototype.getPollInterval=function(){var e=this.constructor.pollInterval,t=e.min,n=e.max,r=e.multiplier*Math.log(this.reconnectAttempts+1);return Math.round(1e3*function(e,t,n){return Math.max(t,Math.min(n,e))}(r,t,n))},e.prototype.reconnectIfStale=function(){this.connectionIsStale()&&(n.log("ConnectionMonitor detected stale connection. reconnectAttempts = "+this.reconnectAttempts+", pollInterval = "+this.getPollInterval()+" ms, time disconnected = "+s(this.disconnectedAt)+" s, stale threshold = "+this.constructor.staleThreshold+" s"),this.reconnectAttempts++,this.disconnectedRecently()?n.log("ConnectionMonitor skipping reopening recent disconnect"):(n.log("ConnectionMonitor reopening"),this.connection.reopen()))},e.prototype.connectionIsStale=function(){return s(this.pingedAt?this.pingedAt:this.startedAt)>this.constructor.staleThreshold},e.prototype.disconnectedRecently=function(){return this.disconnectedAt&&s(this.disconnectedAt)<this.constructor.staleThreshold},e.prototype.visibilityDidChange=function(){var e=this;"visible"===document.visibilityState&&setTimeout(function(){!e.connectionIsStale()&&e.connection.isOpen()||(n.log("ConnectionMonitor reopening stale connection on visibilitychange. visbilityState = "+document.visibilityState),e.connection.reopen())},200)},e}();l.pollInterval={min:3,max:30,multiplier:5},l.staleThreshold=6;var c={message_types:{welcome:"welcome",disconnect:"disconnect",ping:"ping",confirmation:"confirm_subscription",rejection:"reject_subscription"},disconnect_reasons:{unauthorized:"unauthorized",invalid_request:"invalid_request",server_restart:"server_restart"},default_mount_path:"/cable",protocols:["actioncable-v1-json","actioncable-unsupported"]},u=c.message_types,d=c.protocols,p=d.slice(0,d.length-1),f=[].indexOf,h=function(){function e(t){o(this,e),this.open=this.open.bind(this),this.consumer=t,this.subscriptions=this.consumer.subscriptions,this.monitor=new l(this),this.disconnected=!0}return e.prototype.send=function(e){return!!this.isOpen()&&(this.webSocket.send(JSON.stringify(e)),!0)},e.prototype.open=function(){return this.isActive()?(n.log("Attempted to open WebSocket, but existing socket is "+this.getState()),!1):(n.log("Opening WebSocket, current state is "+this.getState()+", subprotocols: "+d),this.webSocket&&this.uninstallEventHandlers(),this.webSocket=new t.WebSocket(this.consumer.url,d),this.installEventHandlers(),this.monitor.start(),!0)},e.prototype.close=function(){if((arguments.length>0&&void 0!==arguments[0]?arguments[0]:{allowReconnect:!0}).allowReconnect||this.monitor.stop(),this.isActive())return this.webSocket.close()},e.prototype.reopen=function(){if(n.log("Reopening WebSocket, current state is "+this.getState()),!this.isActive())return this.open();try{return this.close()}catch(e){n.log("Failed to reopen WebSocket",e)}finally{n.log("Reopening WebSocket in "+this.constructor.reopenDelay+"ms"),setTimeout(this.open,this.constructor.reopenDelay)}},e.prototype.getProtocol=function(){if(this.webSocket)return this.webSocket.protocol},e.prototype.isOpen=function(){return this.isState("open")},e.prototype.isActive=function(){return this.isState("open","connecting")},e.prototype.isProtocolSupported=function(){return f.call(p,this.getProtocol())>=0},e.prototype.isState=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return f.call(t,this.getState())>=0},e.prototype.getState=function(){if(this.webSocket)for(var e in t.WebSocket)if(t.WebSocket[e]===this.webSocket.readyState)return e.toLowerCase();return null},e.prototype.installEventHandlers=function(){for(var e in this.events){var t=this.events[e].bind(this);this.webSocket["on"+e]=t}},e.prototype.uninstallEventHandlers=function(){for(var e in this.events)this.webSocket["on"+e]=function(){}},e}();h.reopenDelay=500,h.prototype.events={message:function(e){if(this.isProtocolSupported()){var t=JSON.parse(e.data),r=t.identifier,o=t.message,i=t.reason,a=t.reconnect;switch(t.type){case u.welcome:return this.monitor.recordConnect(),this.subscriptions.reload();case u.disconnect:return n.log("Disconnecting. Reason: "+i),this.close({allowReconnect:a});case u.ping:return this.monitor.recordPing();case u.confirmation:return this.subscriptions.notify(r,"connected");case u.rejection:return this.subscriptions.reject(r);default:return this.subscriptions.notify(r,"received",o)}}},open:function(){if(n.log("WebSocket onopen event, using '"+this.getProtocol()+"' subprotocol"),this.disconnected=!1,!this.isProtocolSupported())return n.log("Protocol is unsupported. Stopping monitor and disconnecting."),this.close({allowReconnect:!1})},close:function(e){if(n.log("WebSocket onclose event"),!this.disconnected)return this.disconnected=!0,this.monitor.recordDisconnect(),this.subscriptions.notifyAll("disconnected",{willAttemptReconnect:this.monitor.isRunning()})},error:function(){n.log("WebSocket onerror event")}};var m=function(e,t){if(null!=t)for(var n in t){var r=t[n];e[n]=r}return e},g=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments[2];o(this,e),this.consumer=t,this.identifier=JSON.stringify(n),m(this,r)}return e.prototype.perform=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.action=e,this.send(t)},e.prototype.send=function(e){return this.consumer.send({command:"message",identifier:this.identifier,data:JSON.stringify(e)})},e.prototype.unsubscribe=function(){return this.consumer.subscriptions.remove(this)},e}(),b=function(){function e(t){o(this,e),this.consumer=t,this.subscriptions=[]}return e.prototype.create=function(e,t){var n=e,o="object"===(void 0===n?"undefined":r(n))?n:{channel:n},i=new g(this.consumer,o,t);return this.add(i)},e.prototype.add=function(e){return this.subscriptions.push(e),this.consumer.ensureActiveConnection(),this.notify(e,"initialized"),this.sendCommand(e,"subscribe"),e},e.prototype.remove=function(e){return this.forget(e),this.findAll(e.identifier).length||this.sendCommand(e,"unsubscribe"),e},e.prototype.reject=function(e){var t=this;return this.findAll(e).map(function(e){return t.forget(e),t.notify(e,"rejected"),e})},e.prototype.forget=function(e){return this.subscriptions=this.subscriptions.filter(function(t){return t!==e}),e},e.prototype.findAll=function(e){return this.subscriptions.filter(function(t){return t.identifier===e})},e.prototype.reload=function(){var e=this;return this.subscriptions.map(function(t){return e.sendCommand(t,"subscribe")})},e.prototype.notifyAll=function(e){for(var t=this,n=arguments.length,r=Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return this.subscriptions.map(function(n){return t.notify.apply(t,[n,e].concat(r))})},e.prototype.notify=function(e,t){for(var n=arguments.length,r=Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];return("string"==typeof e?this.findAll(e):[e]).map(function(e){return"function"==typeof e[t]?e[t].apply(e,r):void 0})},e.prototype.sendCommand=function(e,t){var n=e.identifier;return this.consumer.send({command:t,identifier:n})},e}(),v=function(){function e(t){o(this,e),this._url=t,this.subscriptions=new b(this),this.connection=new h(this)}return e.prototype.send=function(e){return this.connection.send(e)},e.prototype.connect=function(){return this.connection.open()},e.prototype.disconnect=function(){return this.connection.close({allowReconnect:!1})},e.prototype.ensureActiveConnection=function(){if(!this.connection.isActive())return this.connection.open()},i(e,[{key:"url",get:function(){return y(this._url)}}]),e}();function y(e){if("function"==typeof e&&(e=e()),e&&!/^wss?:/i.test(e)){var t=document.createElement("a");return t.href=e,t.href=t.href,t.protocol=t.protocol.replace("http","ws"),t.href}return e}function k(e){var t=document.head.querySelector("meta[name='action-cable-"+e+"']");if(t)return t.getAttribute("content")}e.Connection=h,e.ConnectionMonitor=l,e.Consumer=v,e.INTERNAL=c,e.Subscription=g,e.Subscriptions=b,e.adapters=t,e.createWebSocketURL=y,e.logger=n,e.createConsumer=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k("url")||c.default_mount_path;return new v(e)},e.getConfig=k,Object.defineProperty(e,"__esModule",{value:!0})}(t)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(28);t.MarkdownUtil=r;var o=n(286);t.commands=o;var i=n(287);t.TextArea=i.TextArea,t.SuggestionsDropdown=i.SuggestionsDropdown,t.Preview=i.Preview,t.Toolbar=i.Toolbar,t.ToolbarButtonGroup=i.ToolbarButtonGroup,t.ToolbarDropdown=i.ToolbarDropdown;var a=n(293);t.SvgIcon=a.SvgIcon,t.MdeFontAwesomeIcon=a.MdeFontAwesomeIcon,t.default=i.ReactMde},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(28);t.boldCommand={name:"bold",buttonProps:{"aria-label":"Add bold text"},execute:function(e,t){var n=r.selectWord({text:e.text,selection:e.selection}),o=t.setSelectionRange(n),i=t.replaceSelection("**"+o.selectedText+"**");t.setSelectionRange({start:i.selection.end-2-o.selectedText.length,end:i.selection.end-2})},keyCommand:"bold"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(28);t.italicCommand={name:"italic",buttonProps:{"aria-label":"Add italic text"},execute:function(e,t){var n=r.selectWord({text:e.text,selection:e.selection}),o=t.setSelectionRange(n),i=t.replaceSelection("*"+o.selectedText+"*");t.setSelectionRange({start:i.selection.end-1-o.selectedText.length,end:i.selection.end-1})},keyCommand:"italic"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(28);t.strikeThroughCommand={name:"strikethrough",buttonProps:{"aria-label":"Add strikethrough text"},execute:function(e,t){var n=r.selectWord({text:e.text,selection:e.selection}),o=t.setSelectionRange(n),i=t.replaceSelection("~~"+o.selectedText+"~~");t.setSelectionRange({start:i.selection.end-2-o.selectedText.length,end:i.selection.end-2})},keyCommand:"strikeThrough"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o=n(28);function i(e,t,n){var r=o.selectWord({text:e.text,selection:e.selection}),i=t.setSelectionRange(r),a=t.replaceSelection(""+n+i.selectedText);t.setSelectionRange({start:a.selection.end-i.selectedText.length,end:a.selection.end})}t.headerCommand={name:"header",buttonProps:{"aria-label":"Add header"},children:[{name:"header-1",icon:function(){return r.createElement("p",{className:"header-1"},"Header 1")},execute:function(e,t){return i(e,t,"# ")}},{name:"header-2",icon:function(){return r.createElement("p",{className:"header-2"},"Header 2")},execute:function(e,t){return i(e,t,"## ")}},{name:"header-3",icon:function(){return r.createElement("p",{className:"header-3"},"Header 3")},execute:function(e,t){return i(e,t,"### ")}},{name:"header-4",icon:function(){return r.createElement("p",{className:"header-4"},"Header 4")},execute:function(e,t){return i(e,t,"#### ")}}]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(28);t.linkCommand={name:"link",buttonProps:{"aria-label":"Add a link"},execute:function(e,t){var n=r.selectWord({text:e.text,selection:e.selection}),o=t.setSelectionRange(n),i=t.replaceSelection("["+o.selectedText+"](url)");t.setSelectionRange({start:i.selection.end-6-o.selectedText.length,end:i.selection.end-6})},keyCommand:"bold"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(28);t.quoteCommand={name:"quote",buttonProps:{"aria-label":"Insert a quote"},execute:function(e,t){var n=r.selectWord({text:e.text,selection:e.selection}),o=t.setSelectionRange(n),i=r.getBreaksNeededForEmptyLineBefore(o.text,o.selection.start),a=Array(i+1).join("\n"),s=r.getBreaksNeededForEmptyLineAfter(o.text,o.selection.end),l=Array(s+1).join("\n");t.replaceSelection(a+"> "+o.selectedText+l);var c=o.selection.start+i+2,u=c+o.selectedText.length;t.setSelectionRange({start:c,end:u})},keyCommand:"quote"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(28);t.codeCommand={name:"code",buttonProps:{"aria-label":"Insert code"},execute:function(e,t){var n=r.selectWord({text:e.text,selection:e.selection}),o=t.setSelectionRange(n);if(-1!==o.selectedText.indexOf("\n")){var i=r.getBreaksNeededForEmptyLineBefore(o.text,o.selection.start),a=Array(i+1).join("\n"),s=r.getBreaksNeededForEmptyLineAfter(o.text,o.selection.end),l=Array(s+1).join("\n");t.replaceSelection(a+"```\n"+o.selectedText+"\n```"+l);var c=o.selection.start+i+4,u=c+o.selectedText.length;t.setSelectionRange({start:c,end:u})}else{t.replaceSelection("`"+o.selectedText+"`");var d=o.selection.start+1,p=d+o.selectedText.length;t.setSelectionRange({start:d,end:p})}},keyCommand:"code"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(28);t.imageCommand={name:"image",buttonProps:{"aria-label":"Add image"},execute:function(e,t){var n=r.selectWord({text:e.text,selection:e.selection}),o=t.setSelectionRange(n),i=o.selectedText||"https://example.com/your-image.png";t.replaceSelection("![]("+i+")"),t.setSelectionRange({start:4+o.selection.start,end:4+o.selection.start+i.length})},keyCommand:"image"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(28);function o(e,t){var n=0;return{modifiedText:e.split(/\n/).map(function(e,r){if("string"==typeof t)return n+=t.length,t+e;if("function"==typeof t){var o=t(e,r);return n+=o.length,t(e,r)+e}throw Error("insertion is expected to be either a string or a function")}).join("\n"),insertionLength:n}}t.insertBeforeEachLine=o,t.makeList=function(e,t,n){var i=r.selectWord({text:e.text,selection:e.selection}),a=t.setSelectionRange(i),s=r.getBreaksNeededForEmptyLineBefore(a.text,a.selection.start),l=Array(s+1).join("\n"),c=r.getBreaksNeededForEmptyLineAfter(a.text,a.selection.end),u=Array(c+1).join("\n"),d=o(a.selectedText,n);t.replaceSelection(""+l+d.modifiedText+u);var p=-1===a.selectedText.indexOf("\n")?d.insertionLength:0,f=a.selection.start+s+p,h=f+d.modifiedText.length-p;t.setSelectionRange({start:f,end:h})},t.unorderedListCommand={name:"unordered-list",buttonProps:{"aria-label":"Add unordered list"},execute:function(e,n){t.makeList(e,n,"- ")},keyCommand:"code"},t.orderedListCommand={name:"ordered-list",buttonProps:{"aria-label":"Add ordered list"},execute:function(e,n){t.makeList(e,n,function(e,t){return t+1+". "})},keyCommand:"code"},t.checkedListCommand={name:"checked-list",buttonProps:{"aria-label":"Add checked list"},execute:function(e,n){t.makeList(e,n,function(e,t){return"- [ ] "})},keyCommand:"code"}},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),i=n(53),a=function(e){function t(t){var n=e.call(this,t)||this;return n.state={loading:!0},n}return r(t,e),t.prototype.componentDidMount=function(){var e=this,t=this.props,n=t.markdown;(0,t.generateMarkdownPreview)(n).then(function(t){e.setState({preview:t,loading:!1})})},t.prototype.render=function(){var e,t=this,n=this.props,r=n.classes,a=n.minHeight,s=n.loadingPreview,l=this.state,c=l.preview,u=l.loading,d=u?s:c;return e="string"==typeof d?o.createElement("div",{className:"mde-preview-content",dangerouslySetInnerHTML:{__html:d||"<p>&nbsp;</p>"},ref:function(e){return t.previewRef=e}}):o.createElement("div",{className:"mde-preview-content"},d),o.createElement("div",{className:i.classNames("mde-preview",r,{loading:u}),style:{minHeight:a+10},"data-testid":"mde-preview"},e)},t}(o.Component);t.Preview=a},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),a=n(53),s=n(619),l=n(291),c=n(620),u=n(292),d=function(e){function t(t){var n=e.call(this,t)||this;return n.currentLoadSuggestionsPromise=Promise.resolve(void 0),n.suggestionsPromiseIndex=0,n.handleTextAreaRef=function(e){var t=n.props.editorRef;n.textAreaElement=e,t(e)},n.handleOnChange=function(e){(0,n.props.onChange)(e.target.value)},n.handleBlur=function(){n.state.mention&&n.setState({mention:{status:"inactive",suggestions:[]}})},n.startLoadingSuggestions=function(e){var t=++n.suggestionsPromiseIndex,r=n.props.loadSuggestions;n.currentLoadSuggestionsPromise=n.currentLoadSuggestionsPromise.then(function(){return r(e,n.state.mention.triggeredBy)}).then(function(e){if("inactive"!==n.state.mention.status)return n.suggestionsPromiseIndex===t&&(e&&e.length?n.setState({mention:o(o({},n.state.mention),{status:"active",suggestions:e,focusIndex:0})}):n.setState({mention:{status:"inactive",suggestions:[]}}),n.suggestionsPromiseIndex=0),Promise.resolve()})},n.handleSuggestionSelected=function(e){var t=n.state.mention;n.textAreaElement.selectionStart=t.startPosition-1,l.insertText(n.textAreaElement,t.suggestions[e].value+" "),n.setState({mention:{status:"inactive",suggestions:[]}})},n.handleKeyDown=function(e){var t=e.key,r=e.currentTarget.selectionStart,i=n.state.mention;switch(i.status){case"loading":case"active":if("Escape"===t||"Backspace"===t&&r<=n.state.mention.startPosition)n.suggestionsPromiseIndex=0,n.setState({mention:{status:"inactive",suggestions:[]}});else if("Backspace"===t){var a=n.props.value.substr(i.startPosition+1);n.startLoadingSuggestions(a),"loading"!==i.status&&n.setState({mention:o(o({},n.state.mention),{status:"loading"})})}else if("active"!==i.status||"ArrowUp"!==t&&"ArrowDown"!==t)"Enter"===t&&"active"===i.status&&i.suggestions.length&&(e.preventDefault(),n.handleSuggestionSelected(i.focusIndex));else{e.preventDefault();var s="ArrowUp"===t?-1:1;n.setState({mention:o(o({},i),{focusIndex:c.mod(i.focusIndex+s,i.suggestions.length)})})}}},n.handleKeyPress=function(e){var t=n.props.suggestionTriggerCharacters,r=n.state.mention,i=e.key;switch(r.status){case"loading":case"active":var a=n.props.value.substr(r.startPosition)+i;n.startLoadingSuggestions(a),"loading"!==r.status&&n.setState({mention:o(o({},n.state.mention),{status:"loading"})});break;case"inactive":if(-1===t.indexOf(e.key))return;var l=s.getCaretCoordinates(e.currentTarget,"@");n.startLoadingSuggestions(""),n.setState({mention:{status:"loading",startPosition:e.currentTarget.selectionStart+1,caret:l,suggestions:[],triggeredBy:e.key}})}},n.state={mention:{status:"inactive",suggestions:[]}},n}return r(t,e),t.prototype.render=function(){var e=this.props,t=e.classes,n=e.readOnly,r=e.textAreaProps,s=e.height,l=e.value,c=e.suggestionTriggerCharacters,d=e.loadSuggestions,p=e.suggestionsDropdownClasses,f=c&&c.length&&d,h=this.state.mention;return i.createElement("div",{className:"mde-textarea-wrapper"},i.createElement("textarea",o({className:a.classNames("mde-text",t),style:{height:s},ref:this.handleTextAreaRef,onChange:this.handleOnChange,readOnly:n,value:l,"data-testid":"text-area",onBlur:f?this.handleBlur:void 0,onKeyDown:f?this.handleKeyDown:void 0,onKeyPress:f?this.handleKeyPress:void 0},r)),"active"===h.status&&h.suggestions.length&&i.createElement(u.SuggestionsDropdown,{classes:p,caret:h.caret,suggestions:h.suggestions,onSuggestionSelected:this.handleSuggestionSelected,focusIndex:h.focusIndex}))},t}(i.Component);t.TextArea=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=["direction","boxSizing","width","height","overflowX","overflowY","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth","borderStyle","paddingTop","paddingRight","paddingBottom","paddingLeft","fontStyle","fontVariant","fontWeight","fontStretch","fontSize","fontSizeAdjust","lineHeight","fontFamily","textAlign","textTransform","textIndent","textDecoration","letterSpacing","wordSpacing","tabSize","MozTabSize"],o="undefined"!=typeof window,i=o&&null!=window.mozInnerScreenX;t.getCaretCoordinates=function(e,t){if(!o)throw new Error("getCaretCoordinates should only be called in a browser");var n=document.createElement("div");n.id="input-textarea-caret-position-mirror-div",document.body.appendChild(n);var a=n.style,s=window.getComputedStyle?window.getComputedStyle(e):e.currentStyle;a.whiteSpace="pre-wrap",a.wordWrap="break-word",a.position="absolute",a.visibility="hidden",r.forEach(function(e){a[e]=s[e]}),i?e.scrollHeight>parseInt(s.height)&&(a.overflowY="scroll"):a.overflow="hidden",n.textContent=e.value.substring(0,e.selectionStart),t&&(n.textContent+=t);var l=document.createElement("span");l.textContent=e.value.substring(e.selectionEnd)||".",n.appendChild(l);var c={top:l.offsetTop+parseInt(s.borderTopWidth),left:l.offsetLeft+parseInt(s.borderLeftWidth),lineHeight:parseInt(s.lineHeight)};return document.body.removeChild(n),c}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mod=function(e,t){return(e%t+t)%t}},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),i=n(53),a=n(288),s=n(289),l=n(187),c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleTabChange=function(e){(0,t.props.onTabChange)(e)},t}return r(t,e),t.prototype.render=function(){var e=this,t=this.props.l18n,n=this.props,r=n.classes,c=n.getIcon,u=n.children,d=n.commands,p=n.onCommand,f=n.readOnly,h=n.disablePreview;return d&&0!==d.length||u?o.createElement("div",{className:i.classNames("mde-header",r)},!h&&o.createElement("div",{className:"mde-tabs"},o.createElement("button",{type:"button",className:i.classNames({selected:"write"===this.props.tab}),onClick:function(){return e.handleTabChange("write")}},t.write),o.createElement("button",{type:"button",className:i.classNames({selected:"preview"===this.props.tab}),onClick:function(){return e.handleTabChange("preview")}},t.preview)),d.map(function(t,n){return o.createElement(a.ToolbarButtonGroup,{key:n,hidden:"preview"===e.props.tab},t.commands.map(function(e,t){return e.children?o.createElement(s.ToolbarDropdown,{key:t,buttonProps:e.buttonProps,getIcon:c,buttonContent:e.icon?e.icon(c):c(e.name),commands:e.children,onCommand:function(e){return p(e)},readOnly:f}):o.createElement(l.ToolbarButton,{key:t,name:e.name,buttonContent:e.icon?e.icon(c):c(e.name),buttonProps:e.buttonProps,onClick:function(){return p(e)},readOnly:f,buttonComponentClass:e.buttonComponentClass})}))})):null},t}(o.Component);t.Toolbar=c},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),a=n(286),s=n(287),l=n(623),c=n(624),u=n(625),d=n(293),p=n(53),f=function(e){function t(t){var n=e.call(this,t)||this;n.gripDrag=null,n.handleTextChange=function(e){(0,n.props.onChange)(e)},n.handleGripMouseDown=function(e){n.gripDrag={originalHeight:n.state.editorHeight,originalDragY:e.clientY}},n.handleGripMouseUp=function(){n.gripDrag=null},n.handleGripMouseMove=function(e){if(null!==n.gripDrag){var t=n.gripDrag.originalHeight+e.clientY-n.gripDrag.originalDragY;t>=n.props.minEditorHeight&&t<=n.props.maxEditorHeight&&n.setState(o(o({},n.state),{editorHeight:n.gripDrag.originalHeight+(e.clientY-n.gripDrag.originalDragY)}))}},n.handleTabChange=function(e){(0,n.props.onTabChange)(e)},n.setTextAreaRef=function(e){n.textAreaRef=e,n.commandOrchestrator=new u.TextAreaCommandOrchestrator(n.textAreaRef)},n.handleCommand=function(e){n.commandOrchestrator.executeCommand(e)},n.state={editorHeight:t.minEditorHeight},n.keyCommandMap={};var r=n.props.commands;return n.keyCommandMap=l.extractCommandMap(r),n}return r(t,e),t.prototype.componentDidMount=function(){document.addEventListener("mousemove",this.handleGripMouseMove),document.addEventListener("mouseup",this.handleGripMouseUp)},t.prototype.render=function(){var e,t,n,r,o,a,l=this,c=this.props,u=c.getIcon,d=c.commands,f=c.classes,h=c.className,m=c.loadingPreview,g=c.emptyPreviewHtml,b=c.readOnly,v=c.disablePreview,y=c.value,k=c.l18n,_=c.minPreviewHeight,w=c.textAreaProps,C=c.selectedTab,S=c.generateMarkdownPreview,P=c.loadSuggestions,E=c.suggestionTriggerCharacters;return i.createElement("div",{className:p.classNames("react-mde","react-mde-tabbed-layout",null===(e=f)||void 0===e?void 0:e.reactMde,h)},i.createElement(s.Toolbar,{classes:null===(t=f)||void 0===t?void 0:t.toolbar,getIcon:u,commands:d,onCommand:this.handleCommand,onTabChange:this.handleTabChange,tab:C,readOnly:b,disablePreview:v,l18n:k}),"write"===C?i.createElement(i.Fragment,null,i.createElement(s.TextArea,{classes:null===(n=f)||void 0===n?void 0:n.textArea,suggestionsDropdownClasses:null===(r=f)||void 0===r?void 0:r.suggestionsDropdown,editorRef:this.setTextAreaRef,onChange:this.handleTextChange,readOnly:b,textAreaProps:w,height:this.state.editorHeight,value:y,suggestionTriggerCharacters:E,loadSuggestions:P}),i.createElement("div",{className:p.classNames("grip",null===(o=f)||void 0===o?void 0:o.grip),onMouseDown:this.handleGripMouseDown},i.createElement("svg",{"aria-hidden":"true","data-prefix":"far","data-icon":"ellipsis-h",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",className:"icon"},i.createElement("path",{fill:"currentColor",d:"M304 256c0 26.5-21.5 48-48 48s-48-21.5-48-48 21.5-48 48-48 48 21.5 48 48zm120-48c-26.5 0-48 21.5-48 48s21.5 48 48 48 48-21.5 48-48-21.5-48-48-48zm-336 0c-26.5 0-48 21.5-48 48s21.5 48 48 48 48-21.5 48-48-21.5-48-48-48z",className:""})))):i.createElement(s.Preview,{classes:null===(a=f)||void 0===a?void 0:a.preview,previewRef:function(e){return l.previewRef=e},loadingPreview:m||g,minHeight:_,generateMarkdownPreview:S,markdown:y}))},t.defaultProps={commands:a.getDefaultCommands(),getIcon:function(e){return i.createElement(d.SvgIcon,{icon:e})},emptyPreviewHtml:"<p>&nbsp;</p>",readOnly:!1,l18n:c.enL18n,minEditorHeight:200,maxEditorHeight:500,minPreviewHeight:200,selectedTab:"write",disablePreview:!1,suggestionTriggerCharacters:["@"]},t}(i.Component);t.ReactMde=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.extractCommandMap=function(e){var t={};if(!e||!e.length)return t;for(var n=0,r=e;n<r.length;n++){var o=r[n];if(o.commands&&o.commands.length)for(var i=0,a=o.commands;i<a.length;i++){var s=a[i];s.keyCommand&&(t[s.keyCommand]=s)}}return t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.enL18n={write:"Write",preview:"Preview"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(291),o=function(){function e(e){this.textArea=e}return e.prototype.replaceSelection=function(e){return r.insertText(this.textArea,e),i(this.textArea)},e.prototype.setSelectionRange=function(e){return this.textArea.focus(),this.textArea.selectionStart=e.start,this.textArea.selectionEnd=e.end,i(this.textArea)},e}();function i(e){return{selection:{start:e.selectionStart,end:e.selectionEnd},text:e.value,selectedText:e.value.slice(e.selectionStart,e.selectionEnd)}}t.TextAreaTextApi=o,t.getStateFromTextArea=i;var a=function(){function e(e){this.textArea=e,this.textApi=new o(e)}return e.prototype.executeCommand=function(e){e.execute(i(this.textArea),this.textApi)},e}();t.TextAreaCommandOrchestrator=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o=r.createElement("svg",{className:"svg-icon","aria-hidden":"true","data-prefix":"fas","data-icon":"tasks",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512","data-fa-i2svg":""},r.createElement("path",{fill:"currentColor",d:"M208 132h288c8.8 0 16-7.2 16-16V76c0-8.8-7.2-16-16-16H208c-8.8 0-16 7.2-16 16v40c0 8.8 7.2 16 16 16zm0 160h288c8.8 0 16-7.2 16-16v-40c0-8.8-7.2-16-16-16H208c-8.8 0-16 7.2-16 16v40c0 8.8 7.2 16 16 16zm0 160h288c8.8 0 16-7.2 16-16v-40c0-8.8-7.2-16-16-16H208c-8.8 0-16 7.2-16 16v40c0 8.8 7.2 16 16 16zM64 368c-26.5 0-48.6 21.5-48.6 48s22.1 48 48.6 48 48-21.5 48-48-21.5-48-48-48zm92.5-299l-72.2 72.2-15.6 15.6c-4.7 4.7-12.9 4.7-17.6 0L3.5 109.4c-4.7-4.7-4.7-12.3 0-17l15.7-15.7c4.7-4.7 12.3-4.7 17 0l22.7 22.1 63.7-63.3c4.7-4.7 12.3-4.7 17 0l17 16.5c4.6 4.7 4.6 12.3-.1 17zm0 159.6l-72.2 72.2-15.7 15.7c-4.7 4.7-12.9 4.7-17.6 0L3.5 269c-4.7-4.7-4.7-12.3 0-17l15.7-15.7c4.7-4.7 12.3-4.7 17 0l22.7 22.1 63.7-63.7c4.7-4.7 12.3-4.7 17 0l17 17c4.6 4.6 4.6 12.2-.1 16.9z"})),i=r.createElement("svg",{className:"svg-icon","aria-hidden":"true","data-prefix":"fas","data-icon":"list-ol",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512","data-fa-i2svg":""},r.createElement("path",{fill:"currentColor",d:"M3.263 139.527c0-7.477 3.917-11.572 11.573-11.572h15.131V88.078c0-5.163.534-10.503.534-10.503h-.356s-1.779 2.67-2.848 3.738c-4.451 4.273-10.504 4.451-15.666-1.068l-5.518-6.231c-5.342-5.341-4.984-11.216.534-16.379l21.72-19.938C32.815 33.602 36.732 32 42.785 32H54.89c7.656 0 11.749 3.916 11.749 11.572v84.384h15.488c7.655 0 11.572 4.094 11.572 11.572v8.901c0 7.477-3.917 11.572-11.572 11.572H14.836c-7.656 0-11.573-4.095-11.573-11.572v-8.902zM2.211 304.591c0-47.278 50.955-56.383 50.955-69.165 0-7.18-5.954-8.755-9.28-8.755-3.153 0-6.479 1.051-9.455 3.852-5.079 4.903-10.507 7.004-16.111 2.451l-8.579-6.829c-5.779-4.553-7.18-9.805-2.803-15.409C13.592 201.981 26.025 192 47.387 192c19.437 0 44.476 10.506 44.476 39.573 0 38.347-46.753 46.402-48.679 56.909h39.049c7.529 0 11.557 4.027 11.557 11.382v8.755c0 7.354-4.028 11.382-11.557 11.382h-67.94c-7.005 0-12.083-4.028-12.083-11.382v-4.028zM5.654 454.61l5.603-9.28c3.853-6.654 9.105-7.004 15.584-3.152 4.903 2.101 9.63 3.152 14.359 3.152 10.155 0 14.358-3.502 14.358-8.23 0-6.654-5.604-9.106-15.934-9.106h-4.728c-5.954 0-9.28-2.101-12.258-7.88l-1.05-1.926c-2.451-4.728-1.226-9.806 2.801-14.884l5.604-7.004c6.829-8.405 12.257-13.483 12.257-13.483v-.35s-4.203 1.051-12.608 1.051H16.685c-7.53 0-11.383-4.028-11.383-11.382v-8.755c0-7.53 3.853-11.382 11.383-11.382h58.484c7.529 0 11.382 4.027 11.382 11.382v3.327c0 5.778-1.401 9.806-5.079 14.183l-17.509 20.137c19.611 5.078 28.716 20.487 28.716 34.845 0 21.363-14.358 44.126-48.503 44.126-16.636 0-28.192-4.728-35.896-9.455-5.779-4.202-6.304-9.805-2.626-15.934zM144 132h352c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H144c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h352c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H144c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h352c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H144c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"})),a=r.createElement("svg",{className:"svg-icon","aria-hidden":"true","data-prefix":"fas","data-icon":"list-ul",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512","data-fa-i2svg":""},r.createElement("path",{fill:"currentColor",d:"M96 96c0 26.51-21.49 48-48 48S0 122.51 0 96s21.49-48 48-48 48 21.49 48 48zM48 208c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zm0 160c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zm96-236h352c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H144c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h352c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H144c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h352c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H144c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"})),s=r.createElement("svg",{className:"svg-icon","aria-hidden":"true","data-prefix":"fas","data-icon":"image",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512","data-fa-i2svg":""},r.createElement("path",{fill:"currentColor",d:"M464 448H48c-26.51 0-48-21.49-48-48V112c0-26.51 21.49-48 48-48h416c26.51 0 48 21.49 48 48v288c0 26.51-21.49 48-48 48zM112 120c-30.928 0-56 25.072-56 56s25.072 56 56 56 56-25.072 56-56-25.072-56-56-56zM64 384h384V272l-87.515-87.515c-4.686-4.686-12.284-4.686-16.971 0L208 320l-55.515-55.515c-4.686-4.686-12.284-4.686-16.971 0L64 336v48z"})),l=r.createElement("svg",{className:"svg-icon","aria-hidden":"true","data-prefix":"fas","data-icon":"code",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 640 512","data-fa-i2svg":""},r.createElement("path",{fill:"currentColor",d:"M278.9 511.5l-61-17.7c-6.4-1.8-10-8.5-8.2-14.9L346.2 8.7c1.8-6.4 8.5-10 14.9-8.2l61 17.7c6.4 1.8 10 8.5 8.2 14.9L293.8 503.3c-1.9 6.4-8.5 10.1-14.9 8.2zm-114-112.2l43.5-46.4c4.6-4.9 4.3-12.7-.8-17.2L117 256l90.6-79.7c5.1-4.5 5.5-12.3.8-17.2l-43.5-46.4c-4.5-4.8-12.1-5.1-17-.5L3.8 247.2c-5.1 4.7-5.1 12.8 0 17.5l144.1 135.1c4.9 4.6 12.5 4.4 17-.5zm327.2.6l144.1-135.1c5.1-4.7 5.1-12.8 0-17.5L492.1 112.1c-4.8-4.5-12.4-4.3-17 .5L431.6 159c-4.6 4.9-4.3 12.7.8 17.2L523 256l-90.6 79.7c-5.1 4.5-5.5 12.3-.8 17.2l43.5 46.4c4.5 4.9 12.1 5.1 17 .6z"})),c=r.createElement("svg",{className:"svg-icon","aria-hidden":"true","data-prefix":"fas","data-icon":"quote-right",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512","data-fa-i2svg":""},r.createElement("path",{fill:"currentColor",d:"M512 80v128c0 137.018-63.772 236.324-193.827 271.172-15.225 4.08-30.173-7.437-30.173-23.199v-33.895c0-10.057 6.228-19.133 15.687-22.55C369.684 375.688 408 330.054 408 256h-72c-26.51 0-48-21.49-48-48V80c0-26.51 21.49-48 48-48h128c26.51 0 48 21.49 48 48zM176 32H48C21.49 32 0 53.49 0 80v128c0 26.51 21.49 48 48 48h72c0 74.054-38.316 119.688-104.313 143.528C6.228 402.945 0 412.021 0 422.078v33.895c0 15.762 14.948 27.279 30.173 23.199C160.228 444.324 224 345.018 224 208V80c0-26.51-21.49-48-48-48z"})),u=r.createElement("svg",{className:"svg-icon","aria-hidden":"true","data-prefix":"fas","data-icon":"link",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512","data-fa-i2svg":""},r.createElement("path",{fill:"currentColor",d:"M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96 0-59.27-59.26-59.27-155.7 0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757 0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037 0 0 1-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482 0 0 1 20.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96 0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454 0 0 0 20.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037 0 0 0-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639 0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"})),d=r.createElement("svg",{className:"svg-icon","aria-hidden":"true","data-prefix":"fas","data-icon":"strikethrough",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512","data-fa-i2svg":""},r.createElement("path",{fill:"currentColor",d:"M496 288H16c-8.837 0-16-7.163-16-16v-32c0-8.837 7.163-16 16-16h480c8.837 0 16 7.163 16 16v32c0 8.837-7.163 16-16 16zm-214.666 16c27.258 12.937 46.524 28.683 46.524 56.243 0 33.108-28.977 53.676-75.621 53.676-32.325 0-76.874-12.08-76.874-44.271V368c0-8.837-7.164-16-16-16H113.75c-8.836 0-16 7.163-16 16v19.204c0 66.845 77.717 101.82 154.487 101.82 88.578 0 162.013-45.438 162.013-134.424 0-19.815-3.618-36.417-10.143-50.6H281.334zm-30.952-96c-32.422-13.505-56.836-28.946-56.836-59.683 0-33.92 30.901-47.406 64.962-47.406 42.647 0 64.962 16.593 64.962 32.985V136c0 8.837 7.164 16 16 16h45.613c8.836 0 16-7.163 16-16v-30.318c0-52.438-71.725-79.875-142.575-79.875-85.203 0-150.726 40.972-150.726 125.646 0 22.71 4.665 41.176 12.777 56.547h129.823z"})),p=r.createElement("svg",{className:"svg-icon","aria-hidden":"true","data-prefix":"fas","data-icon":"italic",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 320 512","data-fa-i2svg":""},r.createElement("path",{fill:"currentColor",d:"M204.758 416h-33.849l62.092-320h40.725a16 16 0 0 0 15.704-12.937l6.242-32C297.599 41.184 290.034 32 279.968 32H120.235a16 16 0 0 0-15.704 12.937l-6.242 32C96.362 86.816 103.927 96 113.993 96h33.846l-62.09 320H46.278a16 16 0 0 0-15.704 12.935l-6.245 32C22.402 470.815 29.967 480 40.034 480h158.479a16 16 0 0 0 15.704-12.935l6.245-32c1.927-9.88-5.638-19.065-15.704-19.065z"})),f=r.createElement("svg",{className:"svg-icon","aria-hidden":"true","data-prefix":"fas","data-icon":"heading",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512","data-fa-i2svg":""},r.createElement("path",{fill:"currentColor",d:"M496 80V48c0-8.837-7.163-16-16-16H320c-8.837 0-16 7.163-16 16v32c0 8.837 7.163 16 16 16h37.621v128H154.379V96H192c8.837 0 16-7.163 16-16V48c0-8.837-7.163-16-16-16H32c-8.837 0-16 7.163-16 16v32c0 8.837 7.163 16 16 16h37.275v320H32c-8.837 0-16 7.163-16 16v32c0 8.837 7.163 16 16 16h160c8.837 0 16-7.163 16-16v-32c0-8.837-7.163-16-16-16h-37.621V288H357.62v128H320c-8.837 0-16 7.163-16 16v32c0 8.837 7.163 16 16 16h160c8.837 0 16-7.163 16-16v-32c0-8.837-7.163-16-16-16h-37.275V96H480c8.837 0 16-7.163 16-16z"})),h=r.createElement("svg",{className:"svg-icon","aria-hidden":"true","data-prefix":"fas","data-icon":"bold",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 384 512","data-fa-i2svg":""},r.createElement("path",{fill:"currentColor",d:"M304.793 243.891c33.639-18.537 53.657-54.16 53.657-95.693 0-48.236-26.25-87.626-68.626-104.179C265.138 34.01 240.849 32 209.661 32H24c-8.837 0-16 7.163-16 16v33.049c0 8.837 7.163 16 16 16h33.113v318.53H24c-8.837 0-16 7.163-16 16V464c0 8.837 7.163 16 16 16h195.69c24.203 0 44.834-1.289 66.866-7.584C337.52 457.193 376 410.647 376 350.014c0-52.168-26.573-91.684-71.207-106.123zM142.217 100.809h67.444c16.294 0 27.536 2.019 37.525 6.717 15.828 8.479 24.906 26.502 24.906 49.446 0 35.029-20.32 56.79-53.029 56.79h-76.846V100.809zm112.642 305.475c-10.14 4.056-22.677 4.907-31.409 4.907h-81.233V281.943h84.367c39.645 0 63.057 25.38 63.057 63.057.001 28.425-13.66 52.483-34.782 61.284z"}));t.SvgIcon=function(e){switch(e.icon){case"header":return f;case"bold":return h;case"italic":return p;case"strikethrough":return d;case"link":return u;case"quote":return c;case"code":return l;case"image":return s;case"unordered-list":return a;case"ordered-list":return i;case"checked-list":return o;default:return null}}},function(e,t,n){"use strict";(function(n){var r,o,i,a;function s(e){"@babel/helpers - typeof";return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(n){"object"===s(t)&&void 0!==e?e.exports=n():(o=[],void 0===(i="function"==typeof(r=n)?r.apply(t,o):r)||(e.exports=i))}(function(){return function e(t,n,r){function o(s,l){if(!n[s]){if(!t[s]){if(!l&&"function"==typeof a&&a)return a(s,!0);if(i)return i(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var u=n[s]={exports:{}};t[s][0].call(u.exports,function(e){return o(t[s][1][e]||e)},u,u.exports,e,t,n,r)}return n[s].exports}for(var i="function"==typeof a&&a,s=0;s<r.length;s++)o(r[s]);return o}({1:[function(e,t,n){n.byteLength=function(e){var t=c(e),n=t[0],r=t[1];return 3*(n+r)/4-r},n.toByteArray=function(e){var t,n,r=c(e),a=r[0],s=r[1],l=new i(3*(a+s)/4-s),u=0,d=s>0?a-4:a;for(n=0;n<d;n+=4)t=o[e.charCodeAt(n)]<<18|o[e.charCodeAt(n+1)]<<12|o[e.charCodeAt(n+2)]<<6|o[e.charCodeAt(n+3)],l[u++]=t>>16&255,l[u++]=t>>8&255,l[u++]=255&t;return 2===s&&(t=o[e.charCodeAt(n)]<<2|o[e.charCodeAt(n+1)]>>4,l[u++]=255&t),1===s&&(t=o[e.charCodeAt(n)]<<10|o[e.charCodeAt(n+1)]<<4|o[e.charCodeAt(n+2)]>>2,l[u++]=t>>8&255,l[u++]=255&t),l},n.fromByteArray=function(e){for(var t,n=e.length,o=n%3,i=[],a=0,s=n-o;a<s;a+=16383)i.push(d(e,a,a+16383>s?s:a+16383));return 1===o?(t=e[n-1],i.push(r[t>>2]+r[t<<4&63]+"==")):2===o&&(t=(e[n-2]<<8)+e[n-1],i.push(r[t>>10]+r[t>>4&63]+r[t<<2&63]+"=")),i.join("")};for(var r=[],o=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,l=a.length;s<l;++s)r[s]=a[s],o[a.charCodeAt(s)]=s;function c(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function u(e){return r[e>>18&63]+r[e>>12&63]+r[e>>6&63]+r[63&e]}function d(e,t,n){for(var r,o=[],i=t;i<n;i+=3)r=(e[i]<<16&16711680)+(e[i+1]<<8&65280)+(255&e[i+2]),o.push(u(r));return o.join("")}o["-".charCodeAt(0)]=62,o["_".charCodeAt(0)]=63},{}],2:[function(e,t,n){},{}],3:[function(e,t,n){(function(t){var r=e("base64-js"),o=e("ieee754"),i="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;n.Buffer=t,n.SlowBuffer=function(e){return+e!=e&&(e=0),t.alloc(+e)},n.INSPECT_MAX_BYTES=50;var a=2147483647;function l(e){if(e>a)throw new RangeError('The value "'+e+'" is invalid for option "size"');var n=new Uint8Array(e);return Object.setPrototypeOf(n,t.prototype),n}function t(e,t,n){if("number"==typeof e){if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return d(e)}return c(e,t,n)}function c(e,n,r){if("string"==typeof e)return function(e,n){if("string"==typeof n&&""!==n||(n="utf8"),!t.isEncoding(n))throw new TypeError("Unknown encoding: "+n);var r=0|m(e,n),o=l(r),i=o.write(e,n);return i!==r&&(o=o.slice(0,i)),o}(e,n);if(ArrayBuffer.isView(e))return p(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+s(e));if(q(e,ArrayBuffer)||e&&q(e.buffer,ArrayBuffer))return f(e,n,r);if("undefined"!=typeof SharedArrayBuffer&&(q(e,SharedArrayBuffer)||e&&q(e.buffer,SharedArrayBuffer)))return f(e,n,r);if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');var o=e.valueOf&&e.valueOf();if(null!=o&&o!==e)return t.from(o,n,r);var i=function(e){if(t.isBuffer(e)){var n=0|h(e.length),r=l(n);return 0===r.length?r:(e.copy(r,0,0,n),r)}return void 0!==e.length?"number"!=typeof e.length||z(e.length)?l(0):p(e):"Buffer"===e.type&&Array.isArray(e.data)?p(e.data):void 0}(e);if(i)return i;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return t.from(e[Symbol.toPrimitive]("string"),n,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+s(e))}function u(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function d(e){return u(e),l(e<0?0:0|h(e))}function p(e){for(var t=e.length<0?0:0|h(e.length),n=l(t),r=0;r<t;r+=1)n[r]=255&e[r];return n}function f(e,n,r){if(n<0||e.byteLength<n)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<n+(r||0))throw new RangeError('"length" is outside of buffer bounds');var o;return o=void 0===n&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,n):new Uint8Array(e,n,r),Object.setPrototypeOf(o,t.prototype),o}function h(e){if(e>=a)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a.toString(16)+" bytes");return 0|e}function m(e,n){if(t.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||q(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+s(e));var r=e.length,o=arguments.length>2&&!0===arguments[2];if(!o&&0===r)return 0;for(var i=!1;;)switch(n){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return B(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return F(e).length;default:if(i)return o?-1:B(e).length;n=(""+n).toLowerCase(),i=!0}}function g(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function b(e,n,r,o,i){if(0===e.length)return-1;if("string"==typeof r?(o=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),z(r=+r)&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(i)return-1;r=e.length-1}else if(r<0){if(!i)return-1;r=0}if("string"==typeof n&&(n=t.from(n,o)),t.isBuffer(n))return 0===n.length?-1:v(e,n,r,o,i);if("number"==typeof n)return n&=255,"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,n,r):Uint8Array.prototype.lastIndexOf.call(e,n,r):v(e,[n],r,o,i);throw new TypeError("val must be string, number or Buffer")}function v(e,t,n,r,o){var i,a=1,s=e.length,l=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;a=2,s/=2,l/=2,n/=2}function c(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(o){var u=-1;for(i=n;i<s;i++)if(c(e,i)===c(t,-1===u?0:i-u)){if(-1===u&&(u=i),i-u+1===l)return u*a}else-1!==u&&(i-=i-u),u=-1}else for(n+l>s&&(n=s-l),i=n;i>=0;i--){for(var d=!0,p=0;p<l;p++)if(c(e,i+p)!==c(t,p)){d=!1;break}if(d)return i}return-1}function y(e,t,n,r){n=Number(n)||0;var o=e.length-n;r?(r=Number(r))>o&&(r=o):r=o;var i=t.length;r>i/2&&(r=i/2);for(var a=0;a<r;++a){var s=parseInt(t.substr(2*a,2),16);if(z(s))return a;e[n+a]=s}return a}function k(e,t,n,r){return U(B(t,e.length-n),e,n,r)}function _(e,t,n,r){return U(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function w(e,t,n,r){return _(e,t,n,r)}function C(e,t,n,r){return U(F(t),e,n,r)}function S(e,t,n,r){return U(function(e,t){for(var n,r,o,i=[],a=0;a<e.length&&!((t-=2)<0);++a)r=(n=e.charCodeAt(a))>>8,o=n%256,i.push(o),i.push(r);return i}(t,e.length-n),e,n,r)}function P(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function E(e,t,n){n=Math.min(e.length,n);for(var r=[],o=t;o<n;){var i,a,s,l,c=e[o],u=null,d=c>239?4:c>223?3:c>191?2:1;if(o+d<=n)switch(d){case 1:c<128&&(u=c);break;case 2:128==(192&(i=e[o+1]))&&(l=(31&c)<<6|63&i)>127&&(u=l);break;case 3:i=e[o+1],a=e[o+2],128==(192&i)&&128==(192&a)&&(l=(15&c)<<12|(63&i)<<6|63&a)>2047&&(l<55296||l>57343)&&(u=l);break;case 4:i=e[o+1],a=e[o+2],s=e[o+3],128==(192&i)&&128==(192&a)&&128==(192&s)&&(l=(15&c)<<18|(63&i)<<12|(63&a)<<6|63&s)>65535&&l<1114112&&(u=l)}null===u?(u=65533,d=1):u>65535&&(u-=65536,r.push(u>>>10&1023|55296),u=56320|1023&u),r.push(u),o+=d}return function(e){var t=e.length;if(t<=x)return String.fromCharCode.apply(String,e);for(var n="",r=0;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=x));return n}(r)}n.kMaxLength=a,t.TYPED_ARRAY_SUPPORT=function(){try{var e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),t.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(t.prototype,"parent",{enumerable:!0,get:function(){if(t.isBuffer(this))return this.buffer}}),Object.defineProperty(t.prototype,"offset",{enumerable:!0,get:function(){if(t.isBuffer(this))return this.byteOffset}}),"undefined"!=typeof Symbol&&null!=Symbol.species&&t[Symbol.species]===t&&Object.defineProperty(t,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),t.poolSize=8192,t.from=function(e,t,n){return c(e,t,n)},Object.setPrototypeOf(t.prototype,Uint8Array.prototype),Object.setPrototypeOf(t,Uint8Array),t.alloc=function(e,t,n){return function(e,t,n){return u(e),e<=0?l(e):void 0!==t?"string"==typeof n?l(e).fill(t,n):l(e).fill(t):l(e)}(e,t,n)},t.allocUnsafe=function(e){return d(e)},t.allocUnsafeSlow=function(e){return d(e)},t.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==t.prototype},t.compare=function(e,n){if(q(e,Uint8Array)&&(e=t.from(e,e.offset,e.byteLength)),q(n,Uint8Array)&&(n=t.from(n,n.offset,n.byteLength)),!t.isBuffer(e)||!t.isBuffer(n))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===n)return 0;for(var r=e.length,o=n.length,i=0,a=Math.min(r,o);i<a;++i)if(e[i]!==n[i]){r=e[i],o=n[i];break}return r<o?-1:o<r?1:0},t.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},t.concat=function(e,n){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return t.alloc(0);var r;if(void 0===n)for(n=0,r=0;r<e.length;++r)n+=e[r].length;var o=t.allocUnsafe(n),i=0;for(r=0;r<e.length;++r){var a=e[r];if(q(a,Uint8Array)&&(a=t.from(a)),!t.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(o,i),i+=a.length}return o},t.byteLength=m,t.prototype._isBuffer=!0,t.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)g(this,t,t+1);return this},t.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)g(this,t,t+3),g(this,t+1,t+2);return this},t.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)g(this,t,t+7),g(this,t+1,t+6),g(this,t+2,t+5),g(this,t+3,t+4);return this},t.prototype.toString=function(){var e=this.length;return 0===e?"":0===arguments.length?E(this,0,e):function(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return M(this,t,n);case"utf8":case"utf-8":return E(this,t,n);case"ascii":return O(this,t,n);case"latin1":case"binary":return T(this,t,n);case"base64":return P(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return A(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}.apply(this,arguments)},t.prototype.toLocaleString=t.prototype.toString,t.prototype.equals=function(e){if(!t.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===t.compare(this,e)},t.prototype.inspect=function(){var e="",t=n.INSPECT_MAX_BYTES;return e=this.toString("hex",0,t).replace(/(.{2})/g,"$1 ").trim(),this.length>t&&(e+=" ... "),"<Buffer "+e+">"},i&&(t.prototype[i]=t.prototype.inspect),t.prototype.compare=function(e,n,r,o,i){if(q(e,Uint8Array)&&(e=t.from(e,e.offset,e.byteLength)),!t.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+s(e));if(void 0===n&&(n=0),void 0===r&&(r=e?e.length:0),void 0===o&&(o=0),void 0===i&&(i=this.length),n<0||r>e.length||o<0||i>this.length)throw new RangeError("out of range index");if(o>=i&&n>=r)return 0;if(o>=i)return-1;if(n>=r)return 1;if(n>>>=0,r>>>=0,o>>>=0,i>>>=0,this===e)return 0;for(var a=i-o,l=r-n,c=Math.min(a,l),u=this.slice(o,i),d=e.slice(n,r),p=0;p<c;++p)if(u[p]!==d[p]){a=u[p],l=d[p];break}return a<l?-1:l<a?1:0},t.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},t.prototype.indexOf=function(e,t,n){return b(this,e,t,n,!0)},t.prototype.lastIndexOf=function(e,t,n){return b(this,e,t,n,!1)},t.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(n)?(n>>>=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var o=this.length-t;if((void 0===n||n>o)&&(n=o),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var i=!1;;)switch(r){case"hex":return y(this,e,t,n);case"utf8":case"utf-8":return k(this,e,t,n);case"ascii":return _(this,e,t,n);case"latin1":case"binary":return w(this,e,t,n);case"base64":return C(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return S(this,e,t,n);default:if(i)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),i=!0}},t.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var x=4096;function O(e,t,n){var r="";n=Math.min(e.length,n);for(var o=t;o<n;++o)r+=String.fromCharCode(127&e[o]);return r}function T(e,t,n){var r="";n=Math.min(e.length,n);for(var o=t;o<n;++o)r+=String.fromCharCode(e[o]);return r}function M(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var o="",i=t;i<n;++i)o+=H[e[i]];return o}function A(e,t,n){for(var r=e.slice(t,n),o="",i=0;i<r.length;i+=2)o+=String.fromCharCode(r[i]+256*r[i+1]);return o}function j(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function I(e,n,r,o,i,a){if(!t.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(n>i||n<a)throw new RangeError('"value" argument is out of bounds');if(r+o>e.length)throw new RangeError("Index out of range")}function N(e,t,n,r,o,i){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function R(e,t,n,r,i){return t=+t,n>>>=0,i||N(e,0,n,4),o.write(e,t,n,r,23,4),n+4}function D(e,t,n,r,i){return t=+t,n>>>=0,i||N(e,0,n,8),o.write(e,t,n,r,52,8),n+8}t.prototype.slice=function(e,n){var r=this.length;e=~~e,n=void 0===n?r:~~n,e<0?(e+=r)<0&&(e=0):e>r&&(e=r),n<0?(n+=r)<0&&(n=0):n>r&&(n=r),n<e&&(n=e);var o=this.subarray(e,n);return Object.setPrototypeOf(o,t.prototype),o},t.prototype.readUIntLE=function(e,t,n){e>>>=0,t>>>=0,n||j(e,t,this.length);for(var r=this[e],o=1,i=0;++i<t&&(o*=256);)r+=this[e+i]*o;return r},t.prototype.readUIntBE=function(e,t,n){e>>>=0,t>>>=0,n||j(e,t,this.length);for(var r=this[e+--t],o=1;t>0&&(o*=256);)r+=this[e+--t]*o;return r},t.prototype.readUInt8=function(e,t){return e>>>=0,t||j(e,1,this.length),this[e]},t.prototype.readUInt16LE=function(e,t){return e>>>=0,t||j(e,2,this.length),this[e]|this[e+1]<<8},t.prototype.readUInt16BE=function(e,t){return e>>>=0,t||j(e,2,this.length),this[e]<<8|this[e+1]},t.prototype.readUInt32LE=function(e,t){return e>>>=0,t||j(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},t.prototype.readUInt32BE=function(e,t){return e>>>=0,t||j(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},t.prototype.readIntLE=function(e,t,n){e>>>=0,t>>>=0,n||j(e,t,this.length);for(var r=this[e],o=1,i=0;++i<t&&(o*=256);)r+=this[e+i]*o;return r>=(o*=128)&&(r-=Math.pow(2,8*t)),r},t.prototype.readIntBE=function(e,t,n){e>>>=0,t>>>=0,n||j(e,t,this.length);for(var r=t,o=1,i=this[e+--r];r>0&&(o*=256);)i+=this[e+--r]*o;return i>=(o*=128)&&(i-=Math.pow(2,8*t)),i},t.prototype.readInt8=function(e,t){return e>>>=0,t||j(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},t.prototype.readInt16LE=function(e,t){e>>>=0,t||j(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},t.prototype.readInt16BE=function(e,t){e>>>=0,t||j(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},t.prototype.readInt32LE=function(e,t){return e>>>=0,t||j(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},t.prototype.readInt32BE=function(e,t){return e>>>=0,t||j(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},t.prototype.readFloatLE=function(e,t){return e>>>=0,t||j(e,4,this.length),o.read(this,e,!0,23,4)},t.prototype.readFloatBE=function(e,t){return e>>>=0,t||j(e,4,this.length),o.read(this,e,!1,23,4)},t.prototype.readDoubleLE=function(e,t){return e>>>=0,t||j(e,8,this.length),o.read(this,e,!0,52,8)},t.prototype.readDoubleBE=function(e,t){return e>>>=0,t||j(e,8,this.length),o.read(this,e,!1,52,8)},t.prototype.writeUIntLE=function(e,t,n,r){e=+e,t>>>=0,n>>>=0,r||I(this,e,t,n,Math.pow(2,8*n)-1,0);var o=1,i=0;for(this[t]=255&e;++i<n&&(o*=256);)this[t+i]=e/o&255;return t+n},t.prototype.writeUIntBE=function(e,t,n,r){e=+e,t>>>=0,n>>>=0,r||I(this,e,t,n,Math.pow(2,8*n)-1,0);var o=n-1,i=1;for(this[t+o]=255&e;--o>=0&&(i*=256);)this[t+o]=e/i&255;return t+n},t.prototype.writeUInt8=function(e,t,n){return e=+e,t>>>=0,n||I(this,e,t,1,255,0),this[t]=255&e,t+1},t.prototype.writeUInt16LE=function(e,t,n){return e=+e,t>>>=0,n||I(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},t.prototype.writeUInt16BE=function(e,t,n){return e=+e,t>>>=0,n||I(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},t.prototype.writeUInt32LE=function(e,t,n){return e=+e,t>>>=0,n||I(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},t.prototype.writeUInt32BE=function(e,t,n){return e=+e,t>>>=0,n||I(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},t.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t>>>=0,!r){var o=Math.pow(2,8*n-1);I(this,e,t,n,o-1,-o)}var i=0,a=1,s=0;for(this[t]=255&e;++i<n&&(a*=256);)e<0&&0===s&&0!==this[t+i-1]&&(s=1),this[t+i]=(e/a>>0)-s&255;return t+n},t.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t>>>=0,!r){var o=Math.pow(2,8*n-1);I(this,e,t,n,o-1,-o)}var i=n-1,a=1,s=0;for(this[t+i]=255&e;--i>=0&&(a*=256);)e<0&&0===s&&0!==this[t+i+1]&&(s=1),this[t+i]=(e/a>>0)-s&255;return t+n},t.prototype.writeInt8=function(e,t,n){return e=+e,t>>>=0,n||I(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},t.prototype.writeInt16LE=function(e,t,n){return e=+e,t>>>=0,n||I(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},t.prototype.writeInt16BE=function(e,t,n){return e=+e,t>>>=0,n||I(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},t.prototype.writeInt32LE=function(e,t,n){return e=+e,t>>>=0,n||I(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},t.prototype.writeInt32BE=function(e,t,n){return e=+e,t>>>=0,n||I(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},t.prototype.writeFloatLE=function(e,t,n){return R(this,e,t,!0,n)},t.prototype.writeFloatBE=function(e,t,n){return R(this,e,t,!1,n)},t.prototype.writeDoubleLE=function(e,t,n){return D(this,e,t,!0,n)},t.prototype.writeDoubleBE=function(e,t,n){return D(this,e,t,!1,n)},t.prototype.copy=function(e,n,r,o){if(!t.isBuffer(e))throw new TypeError("argument should be a Buffer");if(r||(r=0),o||0===o||(o=this.length),n>=e.length&&(n=e.length),n||(n=0),o>0&&o<r&&(o=r),o===r)return 0;if(0===e.length||0===this.length)return 0;if(n<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(o<0)throw new RangeError("sourceEnd out of bounds");o>this.length&&(o=this.length),e.length-n<o-r&&(o=e.length-n+r);var i=o-r;if(this===e&&"function"==typeof Uint8Array.prototype.copyWithin)this.copyWithin(n,r,o);else if(this===e&&r<n&&n<o)for(var a=i-1;a>=0;--a)e[a+n]=this[a+r];else Uint8Array.prototype.set.call(e,this.subarray(r,o),n);return i},t.prototype.fill=function(e,n,r,o){if("string"==typeof e){if("string"==typeof n?(o=n,n=0,r=this.length):"string"==typeof r&&(o=r,r=this.length),void 0!==o&&"string"!=typeof o)throw new TypeError("encoding must be a string");if("string"==typeof o&&!t.isEncoding(o))throw new TypeError("Unknown encoding: "+o);if(1===e.length){var i=e.charCodeAt(0);("utf8"===o&&i<128||"latin1"===o)&&(e=i)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(n<0||this.length<n||this.length<r)throw new RangeError("Out of range index");if(r<=n)return this;var a;if(n>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(a=n;a<r;++a)this[a]=e;else{var s=t.isBuffer(e)?e:t.from(e,o),l=s.length;if(0===l)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(a=0;a<r-n;++a)this[a+n]=s[a%l]}return this};var L=/[^+/0-9A-Za-z-_]/g;function B(e,t){var n;t=t||1/0;for(var r=e.length,o=null,i=[],a=0;a<r;++a){if((n=e.charCodeAt(a))>55295&&n<57344){if(!o){if(n>56319){(t-=3)>-1&&i.push(239,191,189);continue}if(a+1===r){(t-=3)>-1&&i.push(239,191,189);continue}o=n;continue}if(n<56320){(t-=3)>-1&&i.push(239,191,189),o=n;continue}n=65536+(o-55296<<10|n-56320)}else o&&(t-=3)>-1&&i.push(239,191,189);if(o=null,n<128){if((t-=1)<0)break;i.push(n)}else if(n<2048){if((t-=2)<0)break;i.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;i.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;i.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return i}function F(e){return r.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(L,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function U(e,t,n,r){for(var o=0;o<r&&!(o+n>=t.length||o>=e.length);++o)t[o+n]=e[o];return o}function q(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function z(e){return e!=e}var H=function(){for(var e=new Array(256),t=0;t<16;++t)for(var n=16*t,r=0;r<16;++r)e[n+r]="0123456789abcdef"[t]+"0123456789abcdef"[r];return e}()}).call(this,e("buffer").Buffer)},{"base64-js":1,buffer:3,ieee754:32}],4:[function(e,t,n){t.exports={elementNames:{altglyph:"altGlyph",altglyphdef:"altGlyphDef",altglyphitem:"altGlyphItem",animatecolor:"animateColor",animatemotion:"animateMotion",animatetransform:"animateTransform",clippath:"clipPath",feblend:"feBlend",fecolormatrix:"feColorMatrix",fecomponenttransfer:"feComponentTransfer",fecomposite:"feComposite",feconvolvematrix:"feConvolveMatrix",fediffuselighting:"feDiffuseLighting",fedisplacementmap:"feDisplacementMap",fedistantlight:"feDistantLight",fedropshadow:"feDropShadow",feflood:"feFlood",fefunca:"feFuncA",fefuncb:"feFuncB",fefuncg:"feFuncG",fefuncr:"feFuncR",fegaussianblur:"feGaussianBlur",feimage:"feImage",femerge:"feMerge",femergenode:"feMergeNode",femorphology:"feMorphology",feoffset:"feOffset",fepointlight:"fePointLight",fespecularlighting:"feSpecularLighting",fespotlight:"feSpotLight",fetile:"feTile",feturbulence:"feTurbulence",foreignobject:"foreignObject",glyphref:"glyphRef",lineargradient:"linearGradient",radialgradient:"radialGradient",textpath:"textPath"},attributeNames:{definitionurl:"definitionURL",attributename:"attributeName",attributetype:"attributeType",basefrequency:"baseFrequency",baseprofile:"baseProfile",calcmode:"calcMode",clippathunits:"clipPathUnits",diffuseconstant:"diffuseConstant",edgemode:"edgeMode",filterunits:"filterUnits",glyphref:"glyphRef",gradienttransform:"gradientTransform",gradientunits:"gradientUnits",kernelmatrix:"kernelMatrix",kernelunitlength:"kernelUnitLength",keypoints:"keyPoints",keysplines:"keySplines",keytimes:"keyTimes",lengthadjust:"lengthAdjust",limitingconeangle:"limitingConeAngle",markerheight:"markerHeight",markerunits:"markerUnits",markerwidth:"markerWidth",maskcontentunits:"maskContentUnits",maskunits:"maskUnits",numoctaves:"numOctaves",pathlength:"pathLength",patterncontentunits:"patternContentUnits",patterntransform:"patternTransform",patternunits:"patternUnits",pointsatx:"pointsAtX",pointsaty:"pointsAtY",pointsatz:"pointsAtZ",preservealpha:"preserveAlpha",preserveaspectratio:"preserveAspectRatio",primitiveunits:"primitiveUnits",refx:"refX",refy:"refY",repeatcount:"repeatCount",repeatdur:"repeatDur",requiredextensions:"requiredExtensions",requiredfeatures:"requiredFeatures",specularconstant:"specularConstant",specularexponent:"specularExponent",spreadmethod:"spreadMethod",startoffset:"startOffset",stddeviation:"stdDeviation",stitchtiles:"stitchTiles",surfacescale:"surfaceScale",systemlanguage:"systemLanguage",tablevalues:"tableValues",targetx:"targetX",targety:"targetY",textlength:"textLength",viewbox:"viewBox",viewtarget:"viewTarget",xchannelselector:"xChannelSelector",ychannelselector:"yChannelSelector",zoomandpan:"zoomAndPan"}}},{}],5:[function(e,t,n){var r=e("domelementtype"),o=e("entities"),i=e("./foreignNames.json");i.elementNames.__proto__=null,i.attributeNames.__proto__=null;var a={__proto__:null,style:!0,script:!0,xmp:!0,iframe:!0,noembed:!0,noframes:!0,plaintext:!0,noscript:!0},s={__proto__:null,area:!0,base:!0,basefont:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,isindex:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},l=t.exports=function(e,t){Array.isArray(e)||e.cheerio||(e=[e]),t=t||{};for(var n="",o=0;o<e.length;o++){var i=e[o];"root"===i.type?n+=l(i.children,t):r.isTag(i)?n+=u(i,t):i.type===r.Directive?n+=d(i):i.type===r.Comment?n+=h(i):i.type===r.CDATA?n+=f(i):n+=p(i,t)}return n},c=["mi","mo","mn","ms","mtext","annotation-xml","foreignObject","desc","title"];function u(e,t){"foreign"===t.xmlMode&&(e.name=i.elementNames[e.name]||e.name,e.parent&&c.indexOf(e.parent.name)>=0&&(t=Object.assign({},t,{xmlMode:!1}))),!t.xmlMode&&["svg","math"].indexOf(e.name)>=0&&(t=Object.assign({},t,{xmlMode:"foreign"}));var n="<"+e.name,r=function(e,t){if(e){var n,r="";for(var a in e)n=e[a],r&&(r+=" "),"foreign"===t.xmlMode&&(a=i.attributeNames[a]||a),r+=a,(null!==n&&""!==n||t.xmlMode)&&(r+='="'+(t.decodeEntities?o.encodeXML(n):n.replace(/\"/g,"&quot;"))+'"');return r}}(e.attribs,t);return r&&(n+=" "+r),!t.xmlMode||e.children&&0!==e.children.length?(n+=">",e.children&&(n+=l(e.children,t)),s[e.name]&&!t.xmlMode||(n+="</"+e.name+">")):n+="/>",n}function d(e){return"<"+e.data+">"}function p(e,t){var n=e.data||"";return!t.decodeEntities||e.parent&&e.parent.name in a||(n=o.encodeXML(n)),n}function f(e){return"<![CDATA["+e.children[0].data+"]]>"}function h(e){return"\x3c!--"+e.data+"--\x3e"}},{"./foreignNames.json":4,domelementtype:6,entities:20}],6:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.isTag=function(e){return"tag"===e.type||"script"===e.type||"style"===e.type},n.Text="text",n.Directive="directive",n.Comment="comment",n.Script="script",n.Style="style",n.Tag="tag",n.CDATA="cdata",n.Doctype="doctype"},{}],7:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var r=e("./node");n.Node=r.Node,n.Element=r.Element,n.DataNode=r.DataNode,n.NodeWithChildren=r.NodeWithChildren;var o=/\s+/g,i={normalizeWhitespace:!1,withStartIndices:!1,withEndIndices:!1},a=function(){function e(e,t,n){this.dom=[],this._done=!1,this._tagStack=[],this._lastNode=null,this._parser=null,"function"==typeof t&&(n=t,t=i),"object"===s(e)&&(t=e,e=void 0),this._callback=e||null,this._options=t||i,this._elementCB=n||null}return e.prototype.onparserinit=function(e){this._parser=e},e.prototype.onreset=function(){this.dom=[],this._done=!1,this._tagStack=[],this._lastNode=null,this._parser=this._parser||null},e.prototype.onend=function(){this._done||(this._done=!0,this._parser=null,this.handleCallback(null))},e.prototype.onerror=function(e){this.handleCallback(e)},e.prototype.onclosetag=function(){this._lastNode=null;var e=this._tagStack.pop();e&&this._parser&&(this._options.withEndIndices&&(e.endIndex=this._parser.endIndex),this._elementCB&&this._elementCB(e))},e.prototype.onopentag=function(e,t){var n=new r.Element(e,t);this.addNode(n),this._tagStack.push(n)},e.prototype.ontext=function(e){var t=this._options.normalizeWhitespace,n=this._lastNode;if(n&&"text"===n.type)t?n.data=(n.data+e).replace(o," "):n.data+=e;else{t&&(e=e.replace(o," "));var i=new r.DataNode("text",e);this.addNode(i),this._lastNode=i}},e.prototype.oncomment=function(e){if(this._lastNode&&"comment"===this._lastNode.type)this._lastNode.data+=e;else{var t=new r.DataNode("comment",e);this.addNode(t),this._lastNode=t}},e.prototype.oncommentend=function(){this._lastNode=null},e.prototype.oncdatastart=function(){var e=new r.DataNode("text",""),t=new r.NodeWithChildren("cdata",[e]);this.addNode(t),e.parent=t,this._lastNode=e},e.prototype.oncdataend=function(){this._lastNode=null},e.prototype.onprocessinginstruction=function(e,t){var n=new r.ProcessingInstruction(e,t);this.addNode(n)},e.prototype.handleCallback=function(e){if("function"==typeof this._callback)this._callback(e,this.dom);else if(e)throw e},e.prototype.addNode=function(e){var t=this._tagStack[this._tagStack.length-1],n=t?t.children:this.dom,r=n[n.length-1];this._parser&&(this._options.withStartIndices&&(e.startIndex=this._parser.startIndex),this._options.withEndIndices&&(e.endIndex=this._parser.endIndex)),n.push(e),r&&(e.prev=r,r.next=e),t&&(e.parent=t),this._lastNode=null},e.prototype.addDataNode=function(e){this.addNode(e),this._lastNode=e},e}();n.DomHandler=a,n.default=a},{"./node":8}],8:[function(e,t,n){var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=new Map([["tag",1],["script",1],["style",1],["directive",1],["text",3],["cdata",4],["comment",8]]),i=function(){function e(e){this.type=e,this.parent=null,this.prev=null,this.next=null,this.startIndex=null,this.endIndex=null}return Object.defineProperty(e.prototype,"nodeType",{get:function(){return o.get(this.type)||1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"parentNode",{get:function(){return this.parent||null},set:function(e){this.parent=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"previousSibling",{get:function(){return this.prev||null},set:function(e){this.prev=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"nextSibling",{get:function(){return this.next||null},set:function(e){this.next=e},enumerable:!0,configurable:!0}),e}();n.Node=i;var a=function(e){function t(t,n){var r=e.call(this,t)||this;return r.data=n,r}return r(t,e),Object.defineProperty(t.prototype,"nodeValue",{get:function(){return this.data},set:function(e){this.data=e},enumerable:!0,configurable:!0}),t}(i);n.DataNode=a;var s=function(e){function t(t,n){var r=e.call(this,"directive",n)||this;return r.name=t,r}return r(t,e),t}(a);n.ProcessingInstruction=s;var l=function(e){function t(t,n){var r=e.call(this,t)||this;return r.children=n,r}return r(t,e),Object.defineProperty(t.prototype,"firstChild",{get:function(){return this.children[0]||null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"lastChild",{get:function(){return this.children[this.children.length-1]||null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"childNodes",{get:function(){return this.children},set:function(e){this.children=e},enumerable:!0,configurable:!0}),t}(i);n.NodeWithChildren=l;var c=function(e){function t(t,n){var r=e.call(this,"script"===t?"script":"style"===t?"style":"tag",[])||this;return r.name=t,r.attribs=n,r.attribs=n,r}return r(t,e),Object.defineProperty(t.prototype,"tagName",{get:function(){return this.name},set:function(e){this.name=e},enumerable:!0,configurable:!0}),t}(l);n.Element=c},{}],9:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var r=e("./tagtypes");function o(e,t){var n=[],o=[];if(e===t)return 0;for(var i=r.hasChildren(e)?e:e.parent;i;)n.unshift(i),i=i.parent;for(i=r.hasChildren(t)?t:t.parent;i;)o.unshift(i),i=i.parent;for(var a=0;n[a]===o[a];)a++;if(0===a)return 1;var s=n[a-1],l=s.children,c=n[a],u=o[a];return l.indexOf(c)>l.indexOf(u)?s===t?20:4:s===e?10:2}n.removeSubsets=function(e){for(var t=e.length;--t>=0;){var n=e[t];if(t>0&&e.lastIndexOf(n,t-1)>=0)e.splice(t,1);else for(var r=n.parent;r;r=r.parent)if(e.indexOf(r)>-1){e.splice(t,1);break}}return e},n.compareDocumentPosition=o,n.uniqueSort=function(e){return(e=e.filter(function(e,t,n){return!n.includes(e,t+1)})).sort(function(e,t){var n=o(e,t);return 2&n?-1:4&n?1:0}),e}},{"./tagtypes":15}],10:[function(e,t,n){function r(e){for(var t in e)n.hasOwnProperty(t)||(n[t]=e[t])}Object.defineProperty(n,"__esModule",{value:!0}),r(e("./stringify")),r(e("./traversal")),r(e("./manipulation")),r(e("./querying")),r(e("./legacy")),r(e("./helpers")),r(e("./tagtypes"))},{"./helpers":9,"./legacy":11,"./manipulation":12,"./querying":13,"./stringify":14,"./tagtypes":15,"./traversal":16}],11:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var r=e("./querying"),o=e("./tagtypes");function i(e){return"text"===e.type}var a={tag_name:function(e){return"function"==typeof e?function(t){return o.isTag(t)&&e(t.name)}:"*"===e?o.isTag:function(t){return o.isTag(t)&&t.name===e}},tag_type:function(e){return"function"==typeof e?function(t){return e(t.type)}:function(t){return t.type===e}},tag_contains:function(e){return"function"==typeof e?function(t){return i(t)&&e(t.data)}:function(t){return i(t)&&t.data===e}}};function s(e,t){return"function"==typeof t?function(n){return o.isTag(n)&&t(n.attribs[e])}:function(n){return o.isTag(n)&&n.attribs[e]===t}}function l(e,t){return function(n){return e(n)||t(n)}}function c(e){var t=Object.keys(e).map(function(t){var n=e[t];return t in a?a[t](n):s(t,n)});return 0===t.length?null:t.reduce(l)}n.testElement=function(e,t){var n=c(e);return!n||n(t)},n.getElements=function(e,t,n,o){void 0===o&&(o=1/0);var i=c(e);return i?r.filter(i,t,n,o):[]},n.getElementById=function(e,t,n){return void 0===n&&(n=!0),Array.isArray(t)||(t=[t]),r.findOne(s("id",e),t,n)},n.getElementsByTagName=function(e,t,n,o){return void 0===o&&(o=1/0),r.filter(a.tag_name(e),t,n,o)},n.getElementsByTagType=function(e,t,n,o){return void 0===n&&(n=!0),void 0===o&&(o=1/0),r.filter(a.tag_type(e),t,n,o)}},{"./querying":13,"./tagtypes":15}],12:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.removeElement=function(e){if(e.prev&&(e.prev.next=e.next),e.next&&(e.next.prev=e.prev),e.parent){var t=e.parent.children;t.splice(t.lastIndexOf(e),1)}},n.replaceElement=function(e,t){var n=t.prev=e.prev;n&&(n.next=t);var r=t.next=e.next;r&&(r.prev=t);var o=t.parent=e.parent;if(o){var i=o.children;i[i.lastIndexOf(e)]=t}},n.appendChild=function(e,t){if(t.parent=e,1!==e.children.push(t)){var n=e.children[e.children.length-2];n.next=t,t.prev=n,t.next=null}},n.append=function(e,t){var n=e.parent,r=e.next;if(t.next=r,t.prev=e,e.next=t,t.parent=n,r){if(r.prev=t,n){var o=n.children;o.splice(o.lastIndexOf(r),0,t)}}else n&&n.children.push(t)},n.prepend=function(e,t){var n=e.parent;if(n){var r=n.children;r.splice(r.lastIndexOf(e),0,t)}e.prev&&(e.prev.next=t),t.parent=n,t.prev=e.prev,t.next=e,e.prev=t}},{}],13:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var r=e("./tagtypes");function o(e,t,n,i){for(var a=[],s=0;s<t.length;s++){var l=t[s];if(e(l)&&(a.push(l),--i<=0))break;if(n&&r.hasChildren(l)&&l.children.length>0){var c=o(e,l.children,n,i);if(a=a.concat(c),(i-=c.length)<=0)break}}return a}n.filter=function(e,t,n,r){return void 0===n&&(n=!0),void 0===r&&(r=1/0),Array.isArray(t)||(t=[t]),o(e,t,n,r)},n.find=o,n.findOneChild=function(e,t){for(var n=0;n<t.length;n++)if(e(t[n]))return t[n];return null},n.findOne=function e(t,n,o){void 0===o&&(o=!0);for(var i=null,a=0;a<n.length&&!i;a++){var s=n[a];r.isTag(s)&&(t(s)?i=s:o&&s.children.length>0&&(i=e(t,s.children)))}return i},n.existsOne=function e(t,n){for(var o=0;o<n.length;o++){var i=n[o];if(r.isTag(i)&&(t(i)||i.children.length>0&&e(t,i.children)))return!0}return!1},n.findAll=function(e,t){for(var n=[],o=t.slice();o.length;){var i=o.shift();i&&r.isTag(i)&&(i.children&&i.children.length>0&&o.unshift.apply(o,i.children),e(i)&&n.push(i))}return n}},{"./tagtypes":15}],14:[function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});var o=e("./tagtypes"),i=r(e("dom-serializer"));n.getOuterHTML=i.default,n.getInnerHTML=function(e,t){return o.hasChildren(e)?e.children.map(function(e){return n.getOuterHTML(e,t)}).join(""):""},n.getText=function e(t){return Array.isArray(t)?t.map(e).join(""):o.isTag(t)?"br"===t.name?"\n":e(t.children):o.isCDATA(t)?e(t.children):o.isText(t)?t.data:""}},{"./tagtypes":15,"dom-serializer":5}],15:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var r=e("domelementtype");n.isTag=function(e){return r.isTag(e)},n.isCDATA=function(e){return"cdata"===e.type},n.isText=function(e){return"text"===e.type},n.isComment=function(e){return"comment"===e.type},n.hasChildren=function(e){return Object.prototype.hasOwnProperty.call(e,"children")}},{domelementtype:6}],16:[function(e,t,n){function r(e){return e.children||null}function o(e){return e.parent||null}function i(e,t){return e.attribs&&e.attribs[t]}Object.defineProperty(n,"__esModule",{value:!0}),n.getChildren=r,n.getParent=o,n.getSiblings=function(e){var t=o(e);return t?r(t):[e]},n.getAttributeValue=i,n.hasAttrib=function(e,t){return!!i(e,t)},n.getName=function(e){return e.name}},{}],17:[function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});var o=r(e("./maps/entities.json")),i=r(e("./maps/legacy.json")),a=r(e("./maps/xml.json")),s=r(e("./decode_codepoint"));function l(e){var t=Object.keys(e).join("|"),n=u(e),r=new RegExp("&(?:"+(t+="|#[xX][\\da-fA-F]+|#\\d+")+");","g");return function(e){return String(e).replace(r,n)}}n.decodeXML=l(a.default),n.decodeHTMLStrict=l(o.default);var c=function(e,t){return e<t?1:-1};function u(e){return function(t){return"#"===t.charAt(1)?"X"===t.charAt(2)||"x"===t.charAt(2)?s.default(parseInt(t.substr(3),16)):s.default(parseInt(t.substr(2),10)):e[t.slice(1,-1)]}}n.decodeHTML=function(){for(var e=Object.keys(i.default).sort(c),t=Object.keys(o.default).sort(c),n=0,r=0;n<t.length;n++)e[r]===t[n]?(t[n]+=";?",r++):t[n]+=";";var a=new RegExp("&(?:"+t.join("|")+"|#[xX][\\da-fA-F]+;?|#\\d+;?)","g"),s=u(o.default);function l(e){return";"!==e.substr(-1)&&(e+=";"),s(e)}return function(e){return String(e).replace(a,l)}}()},{"./decode_codepoint":18,"./maps/entities.json":22,"./maps/legacy.json":23,"./maps/xml.json":24}],18:[function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});var o=r(e("./maps/decode.json"));n.default=function(e){if(e>=55296&&e<=57343||e>1114111)return"\ufffd";e in o.default&&(e=o.default[e]);var t="";return e>65535&&(e-=65536,t+=String.fromCharCode(e>>>10&1023|55296),e=56320|1023&e),t+String.fromCharCode(e)}},{"./maps/decode.json":21}],19:[function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});var o=l(r(e("./maps/xml.json")).default),i=c(o);n.encodeXML=h(o,i);var a=l(r(e("./maps/entities.json")).default),s=c(a);function l(e){return Object.keys(e).sort().reduce(function(t,n){return t[e[n]]="&"+n+";",t},{})}function c(e){var t=[],n=[];return Object.keys(e).forEach(function(e){return 1===e.length?t.push("\\"+e):n.push(e)}),n.unshift("["+t.join("")+"]"),new RegExp(n.join("|"),"g")}n.encodeHTML=h(a,s);var u=/[^\0-\x7F]/g,d=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g;function p(e){return"&#x"+e.charCodeAt(0).toString(16).toUpperCase()+";"}function f(e,t){return"&#x"+(1024*(e.charCodeAt(0)-55296)+e.charCodeAt(1)-56320+65536).toString(16).toUpperCase()+";"}function h(e,t){return function(n){return n.replace(t,function(t){return e[t]}).replace(d,f).replace(u,p)}}var m=c(o);n.escape=function(e){return e.replace(m,p).replace(d,f).replace(u,p)}},{"./maps/entities.json":22,"./maps/xml.json":24}],20:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var r=e("./decode"),o=e("./encode");n.decode=function(e,t){return(!t||t<=0?r.decodeXML:r.decodeHTML)(e)},n.decodeStrict=function(e,t){return(!t||t<=0?r.decodeXML:r.decodeHTMLStrict)(e)},n.encode=function(e,t){return(!t||t<=0?o.encodeXML:o.encodeHTML)(e)};var i=e("./encode");n.encodeXML=i.encodeXML,n.encodeHTML=i.encodeHTML,n.escape=i.escape,n.encodeHTML4=i.encodeHTML,n.encodeHTML5=i.encodeHTML;var a=e("./decode");n.decodeXML=a.decodeXML,n.decodeHTML=a.decodeHTML,n.decodeHTMLStrict=a.decodeHTMLStrict,n.decodeHTML4=a.decodeHTML,n.decodeHTML5=a.decodeHTML,n.decodeHTML4Strict=a.decodeHTMLStrict,n.decodeHTML5Strict=a.decodeHTMLStrict,n.decodeXMLStrict=a.decodeXML},{"./decode":17,"./encode":19}],21:[function(e,t,n){t.exports={0:65533,128:8364,130:8218,131:402,132:8222,133:8230,134:8224,135:8225,136:710,137:8240,138:352,139:8249,140:338,142:381,145:8216,146:8217,147:8220,148:8221,149:8226,150:8211,151:8212,152:732,153:8482,154:353,155:8250,156:339,158:382,159:376}},{}],22:[function(e,t,n){t.exports={Aacute:"\xc1",aacute:"\xe1",Abreve:"\u0102",abreve:"\u0103",ac:"\u223e",acd:"\u223f",acE:"\u223e\u0333",Acirc:"\xc2",acirc:"\xe2",acute:"\xb4",Acy:"\u0410",acy:"\u0430",AElig:"\xc6",aelig:"\xe6",af:"\u2061",Afr:"\ud835\udd04",afr:"\ud835\udd1e",Agrave:"\xc0",agrave:"\xe0",alefsym:"\u2135",aleph:"\u2135",Alpha:"\u0391",alpha:"\u03b1",Amacr:"\u0100",amacr:"\u0101",amalg:"\u2a3f",amp:"&",AMP:"&",andand:"\u2a55",And:"\u2a53",and:"\u2227",andd:"\u2a5c",andslope:"\u2a58",andv:"\u2a5a",ang:"\u2220",ange:"\u29a4",angle:"\u2220",angmsdaa:"\u29a8",angmsdab:"\u29a9",angmsdac:"\u29aa",angmsdad:"\u29ab",angmsdae:"\u29ac",angmsdaf:"\u29ad",angmsdag:"\u29ae",angmsdah:"\u29af",angmsd:"\u2221",angrt:"\u221f",angrtvb:"\u22be",angrtvbd:"\u299d",angsph:"\u2222",angst:"\xc5",angzarr:"\u237c",Aogon:"\u0104",aogon:"\u0105",Aopf:"\ud835\udd38",aopf:"\ud835\udd52",apacir:"\u2a6f",ap:"\u2248",apE:"\u2a70",ape:"\u224a",apid:"\u224b",apos:"'",ApplyFunction:"\u2061",approx:"\u2248",approxeq:"\u224a",Aring:"\xc5",aring:"\xe5",Ascr:"\ud835\udc9c",ascr:"\ud835\udcb6",Assign:"\u2254",ast:"*",asymp:"\u2248",asympeq:"\u224d",Atilde:"\xc3",atilde:"\xe3",Auml:"\xc4",auml:"\xe4",awconint:"\u2233",awint:"\u2a11",backcong:"\u224c",backepsilon:"\u03f6",backprime:"\u2035",backsim:"\u223d",backsimeq:"\u22cd",Backslash:"\u2216",Barv:"\u2ae7",barvee:"\u22bd",barwed:"\u2305",Barwed:"\u2306",barwedge:"\u2305",bbrk:"\u23b5",bbrktbrk:"\u23b6",bcong:"\u224c",Bcy:"\u0411",bcy:"\u0431",bdquo:"\u201e",becaus:"\u2235",because:"\u2235",Because:"\u2235",bemptyv:"\u29b0",bepsi:"\u03f6",bernou:"\u212c",Bernoullis:"\u212c",Beta:"\u0392",beta:"\u03b2",beth:"\u2136",between:"\u226c",Bfr:"\ud835\udd05",bfr:"\ud835\udd1f",bigcap:"\u22c2",bigcirc:"\u25ef",bigcup:"\u22c3",bigodot:"\u2a00",bigoplus:"\u2a01",bigotimes:"\u2a02",bigsqcup:"\u2a06",bigstar:"\u2605",bigtriangledown:"\u25bd",bigtriangleup:"\u25b3",biguplus:"\u2a04",bigvee:"\u22c1",bigwedge:"\u22c0",bkarow:"\u290d",blacklozenge:"\u29eb",blacksquare:"\u25aa",blacktriangle:"\u25b4",blacktriangledown:"\u25be",blacktriangleleft:"\u25c2",blacktriangleright:"\u25b8",blank:"\u2423",blk12:"\u2592",blk14:"\u2591",blk34:"\u2593",block:"\u2588",bne:"=\u20e5",bnequiv:"\u2261\u20e5",bNot:"\u2aed",bnot:"\u2310",Bopf:"\ud835\udd39",bopf:"\ud835\udd53",bot:"\u22a5",bottom:"\u22a5",bowtie:"\u22c8",boxbox:"\u29c9",boxdl:"\u2510",boxdL:"\u2555",boxDl:"\u2556",boxDL:"\u2557",boxdr:"\u250c",boxdR:"\u2552",boxDr:"\u2553",boxDR:"\u2554",boxh:"\u2500",boxH:"\u2550",boxhd:"\u252c",boxHd:"\u2564",boxhD:"\u2565",boxHD:"\u2566",boxhu:"\u2534",boxHu:"\u2567",boxhU:"\u2568",boxHU:"\u2569",boxminus:"\u229f",boxplus:"\u229e",boxtimes:"\u22a0",boxul:"\u2518",boxuL:"\u255b",boxUl:"\u255c",boxUL:"\u255d",boxur:"\u2514",boxuR:"\u2558",boxUr:"\u2559",boxUR:"\u255a",boxv:"\u2502",boxV:"\u2551",boxvh:"\u253c",boxvH:"\u256a",boxVh:"\u256b",boxVH:"\u256c",boxvl:"\u2524",boxvL:"\u2561",boxVl:"\u2562",boxVL:"\u2563",boxvr:"\u251c",boxvR:"\u255e",boxVr:"\u255f",boxVR:"\u2560",bprime:"\u2035",breve:"\u02d8",Breve:"\u02d8",brvbar:"\xa6",bscr:"\ud835\udcb7",Bscr:"\u212c",bsemi:"\u204f",bsim:"\u223d",bsime:"\u22cd",bsolb:"\u29c5",bsol:"\\",bsolhsub:"\u27c8",bull:"\u2022",bullet:"\u2022",bump:"\u224e",bumpE:"\u2aae",bumpe:"\u224f",Bumpeq:"\u224e",bumpeq:"\u224f",Cacute:"\u0106",cacute:"\u0107",capand:"\u2a44",capbrcup:"\u2a49",capcap:"\u2a4b",cap:"\u2229",Cap:"\u22d2",capcup:"\u2a47",capdot:"\u2a40",CapitalDifferentialD:"\u2145",caps:"\u2229\ufe00",caret:"\u2041",caron:"\u02c7",Cayleys:"\u212d",ccaps:"\u2a4d",Ccaron:"\u010c",ccaron:"\u010d",Ccedil:"\xc7",ccedil:"\xe7",Ccirc:"\u0108",ccirc:"\u0109",Cconint:"\u2230",ccups:"\u2a4c",ccupssm:"\u2a50",Cdot:"\u010a",cdot:"\u010b",cedil:"\xb8",Cedilla:"\xb8",cemptyv:"\u29b2",cent:"\xa2",centerdot:"\xb7",CenterDot:"\xb7",cfr:"\ud835\udd20",Cfr:"\u212d",CHcy:"\u0427",chcy:"\u0447",check:"\u2713",checkmark:"\u2713",Chi:"\u03a7",chi:"\u03c7",circ:"\u02c6",circeq:"\u2257",circlearrowleft:"\u21ba",circlearrowright:"\u21bb",circledast:"\u229b",circledcirc:"\u229a",circleddash:"\u229d",CircleDot:"\u2299",circledR:"\xae",circledS:"\u24c8",CircleMinus:"\u2296",CirclePlus:"\u2295",CircleTimes:"\u2297",cir:"\u25cb",cirE:"\u29c3",cire:"\u2257",cirfnint:"\u2a10",cirmid:"\u2aef",cirscir:"\u29c2",ClockwiseContourIntegral:"\u2232",CloseCurlyDoubleQuote:"\u201d",CloseCurlyQuote:"\u2019",clubs:"\u2663",clubsuit:"\u2663",colon:":",Colon:"\u2237",Colone:"\u2a74",colone:"\u2254",coloneq:"\u2254",comma:",",commat:"@",comp:"\u2201",compfn:"\u2218",complement:"\u2201",complexes:"\u2102",cong:"\u2245",congdot:"\u2a6d",Congruent:"\u2261",conint:"\u222e",Conint:"\u222f",ContourIntegral:"\u222e",copf:"\ud835\udd54",Copf:"\u2102",coprod:"\u2210",Coproduct:"\u2210",copy:"\xa9",COPY:"\xa9",copysr:"\u2117",CounterClockwiseContourIntegral:"\u2233",crarr:"\u21b5",cross:"\u2717",Cross:"\u2a2f",Cscr:"\ud835\udc9e",cscr:"\ud835\udcb8",csub:"\u2acf",csube:"\u2ad1",csup:"\u2ad0",csupe:"\u2ad2",ctdot:"\u22ef",cudarrl:"\u2938",cudarrr:"\u2935",cuepr:"\u22de",cuesc:"\u22df",cularr:"\u21b6",cularrp:"\u293d",cupbrcap:"\u2a48",cupcap:"\u2a46",CupCap:"\u224d",cup:"\u222a",Cup:"\u22d3",cupcup:"\u2a4a",cupdot:"\u228d",cupor:"\u2a45",cups:"\u222a\ufe00",curarr:"\u21b7",curarrm:"\u293c",curlyeqprec:"\u22de",curlyeqsucc:"\u22df",curlyvee:"\u22ce",curlywedge:"\u22cf",curren:"\xa4",curvearrowleft:"\u21b6",curvearrowright:"\u21b7",cuvee:"\u22ce",cuwed:"\u22cf",cwconint:"\u2232",cwint:"\u2231",cylcty:"\u232d",dagger:"\u2020",Dagger:"\u2021",daleth:"\u2138",darr:"\u2193",Darr:"\u21a1",dArr:"\u21d3",dash:"\u2010",Dashv:"\u2ae4",dashv:"\u22a3",dbkarow:"\u290f",dblac:"\u02dd",Dcaron:"\u010e",dcaron:"\u010f",Dcy:"\u0414",dcy:"\u0434",ddagger:"\u2021",ddarr:"\u21ca",DD:"\u2145",dd:"\u2146",DDotrahd:"\u2911",ddotseq:"\u2a77",deg:"\xb0",Del:"\u2207",Delta:"\u0394",delta:"\u03b4",demptyv:"\u29b1",dfisht:"\u297f",Dfr:"\ud835\udd07",dfr:"\ud835\udd21",dHar:"\u2965",dharl:"\u21c3",dharr:"\u21c2",DiacriticalAcute:"\xb4",DiacriticalDot:"\u02d9",DiacriticalDoubleAcute:"\u02dd",DiacriticalGrave:"`",DiacriticalTilde:"\u02dc",diam:"\u22c4",diamond:"\u22c4",Diamond:"\u22c4",diamondsuit:"\u2666",diams:"\u2666",die:"\xa8",DifferentialD:"\u2146",digamma:"\u03dd",disin:"\u22f2",div:"\xf7",divide:"\xf7",divideontimes:"\u22c7",divonx:"\u22c7",DJcy:"\u0402",djcy:"\u0452",dlcorn:"\u231e",dlcrop:"\u230d",dollar:"$",Dopf:"\ud835\udd3b",dopf:"\ud835\udd55",Dot:"\xa8",dot:"\u02d9",DotDot:"\u20dc",doteq:"\u2250",doteqdot:"\u2251",DotEqual:"\u2250",dotminus:"\u2238",dotplus:"\u2214",dotsquare:"\u22a1",doublebarwedge:"\u2306",DoubleContourIntegral:"\u222f",DoubleDot:"\xa8",DoubleDownArrow:"\u21d3",DoubleLeftArrow:"\u21d0",DoubleLeftRightArrow:"\u21d4",DoubleLeftTee:"\u2ae4",DoubleLongLeftArrow:"\u27f8",DoubleLongLeftRightArrow:"\u27fa",DoubleLongRightArrow:"\u27f9",DoubleRightArrow:"\u21d2",DoubleRightTee:"\u22a8",DoubleUpArrow:"\u21d1",DoubleUpDownArrow:"\u21d5",DoubleVerticalBar:"\u2225",DownArrowBar:"\u2913",downarrow:"\u2193",DownArrow:"\u2193",Downarrow:"\u21d3",DownArrowUpArrow:"\u21f5",DownBreve:"\u0311",downdownarrows:"\u21ca",downharpoonleft:"\u21c3",downharpoonright:"\u21c2",DownLeftRightVector:"\u2950",DownLeftTeeVector:"\u295e",DownLeftVectorBar:"\u2956",DownLeftVector:"\u21bd",DownRightTeeVector:"\u295f",DownRightVectorBar:"\u2957",DownRightVector:"\u21c1",DownTeeArrow:"\u21a7",DownTee:"\u22a4",drbkarow:"\u2910",drcorn:"\u231f",drcrop:"\u230c",Dscr:"\ud835\udc9f",dscr:"\ud835\udcb9",DScy:"\u0405",dscy:"\u0455",dsol:"\u29f6",Dstrok:"\u0110",dstrok:"\u0111",dtdot:"\u22f1",dtri:"\u25bf",dtrif:"\u25be",duarr:"\u21f5",duhar:"\u296f",dwangle:"\u29a6",DZcy:"\u040f",dzcy:"\u045f",dzigrarr:"\u27ff",Eacute:"\xc9",eacute:"\xe9",easter:"\u2a6e",Ecaron:"\u011a",ecaron:"\u011b",Ecirc:"\xca",ecirc:"\xea",ecir:"\u2256",ecolon:"\u2255",Ecy:"\u042d",ecy:"\u044d",eDDot:"\u2a77",Edot:"\u0116",edot:"\u0117",eDot:"\u2251",ee:"\u2147",efDot:"\u2252",Efr:"\ud835\udd08",efr:"\ud835\udd22",eg:"\u2a9a",Egrave:"\xc8",egrave:"\xe8",egs:"\u2a96",egsdot:"\u2a98",el:"\u2a99",Element:"\u2208",elinters:"\u23e7",ell:"\u2113",els:"\u2a95",elsdot:"\u2a97",Emacr:"\u0112",emacr:"\u0113",empty:"\u2205",emptyset:"\u2205",EmptySmallSquare:"\u25fb",emptyv:"\u2205",EmptyVerySmallSquare:"\u25ab",emsp13:"\u2004",emsp14:"\u2005",emsp:"\u2003",ENG:"\u014a",eng:"\u014b",ensp:"\u2002",Eogon:"\u0118",eogon:"\u0119",Eopf:"\ud835\udd3c",eopf:"\ud835\udd56",epar:"\u22d5",eparsl:"\u29e3",eplus:"\u2a71",epsi:"\u03b5",Epsilon:"\u0395",epsilon:"\u03b5",epsiv:"\u03f5",eqcirc:"\u2256",eqcolon:"\u2255",eqsim:"\u2242",eqslantgtr:"\u2a96",eqslantless:"\u2a95",Equal:"\u2a75",equals:"=",EqualTilde:"\u2242",equest:"\u225f",Equilibrium:"\u21cc",equiv:"\u2261",equivDD:"\u2a78",eqvparsl:"\u29e5",erarr:"\u2971",erDot:"\u2253",escr:"\u212f",Escr:"\u2130",esdot:"\u2250",Esim:"\u2a73",esim:"\u2242",Eta:"\u0397",eta:"\u03b7",ETH:"\xd0",eth:"\xf0",Euml:"\xcb",euml:"\xeb",euro:"\u20ac",excl:"!",exist:"\u2203",Exists:"\u2203",expectation:"\u2130",exponentiale:"\u2147",ExponentialE:"\u2147",fallingdotseq:"\u2252",Fcy:"\u0424",fcy:"\u0444",female:"\u2640",ffilig:"\ufb03",fflig:"\ufb00",ffllig:"\ufb04",Ffr:"\ud835\udd09",ffr:"\ud835\udd23",filig:"\ufb01",FilledSmallSquare:"\u25fc",FilledVerySmallSquare:"\u25aa",fjlig:"fj",flat:"\u266d",fllig:"\ufb02",fltns:"\u25b1",fnof:"\u0192",Fopf:"\ud835\udd3d",fopf:"\ud835\udd57",forall:"\u2200",ForAll:"\u2200",fork:"\u22d4",forkv:"\u2ad9",Fouriertrf:"\u2131",fpartint:"\u2a0d",frac12:"\xbd",frac13:"\u2153",frac14:"\xbc",frac15:"\u2155",frac16:"\u2159",frac18:"\u215b",frac23:"\u2154",frac25:"\u2156",frac34:"\xbe",frac35:"\u2157",frac38:"\u215c",frac45:"\u2158",frac56:"\u215a",frac58:"\u215d",frac78:"\u215e",frasl:"\u2044",frown:"\u2322",fscr:"\ud835\udcbb",Fscr:"\u2131",gacute:"\u01f5",Gamma:"\u0393",gamma:"\u03b3",Gammad:"\u03dc",gammad:"\u03dd",gap:"\u2a86",Gbreve:"\u011e",gbreve:"\u011f",Gcedil:"\u0122",Gcirc:"\u011c",gcirc:"\u011d",Gcy:"\u0413",gcy:"\u0433",Gdot:"\u0120",gdot:"\u0121",ge:"\u2265",gE:"\u2267",gEl:"\u2a8c",gel:"\u22db",geq:"\u2265",geqq:"\u2267",geqslant:"\u2a7e",gescc:"\u2aa9",ges:"\u2a7e",gesdot:"\u2a80",gesdoto:"\u2a82",gesdotol:"\u2a84",gesl:"\u22db\ufe00",gesles:"\u2a94",Gfr:"\ud835\udd0a",gfr:"\ud835\udd24",gg:"\u226b",Gg:"\u22d9",ggg:"\u22d9",gimel:"\u2137",GJcy:"\u0403",gjcy:"\u0453",gla:"\u2aa5",gl:"\u2277",glE:"\u2a92",glj:"\u2aa4",gnap:"\u2a8a",gnapprox:"\u2a8a",gne:"\u2a88",gnE:"\u2269",gneq:"\u2a88",gneqq:"\u2269",gnsim:"\u22e7",Gopf:"\ud835\udd3e",gopf:"\ud835\udd58",grave:"`",GreaterEqual:"\u2265",GreaterEqualLess:"\u22db",GreaterFullEqual:"\u2267",GreaterGreater:"\u2aa2",GreaterLess:"\u2277",GreaterSlantEqual:"\u2a7e",GreaterTilde:"\u2273",Gscr:"\ud835\udca2",gscr:"\u210a",gsim:"\u2273",gsime:"\u2a8e",gsiml:"\u2a90",gtcc:"\u2aa7",gtcir:"\u2a7a",gt:">",GT:">",Gt:"\u226b",gtdot:"\u22d7",gtlPar:"\u2995",gtquest:"\u2a7c",gtrapprox:"\u2a86",gtrarr:"\u2978",gtrdot:"\u22d7",gtreqless:"\u22db",gtreqqless:"\u2a8c",gtrless:"\u2277",gtrsim:"\u2273",gvertneqq:"\u2269\ufe00",gvnE:"\u2269\ufe00",Hacek:"\u02c7",hairsp:"\u200a",half:"\xbd",hamilt:"\u210b",HARDcy:"\u042a",hardcy:"\u044a",harrcir:"\u2948",harr:"\u2194",hArr:"\u21d4",harrw:"\u21ad",Hat:"^",hbar:"\u210f",Hcirc:"\u0124",hcirc:"\u0125",hearts:"\u2665",heartsuit:"\u2665",hellip:"\u2026",hercon:"\u22b9",hfr:"\ud835\udd25",Hfr:"\u210c",HilbertSpace:"\u210b",hksearow:"\u2925",hkswarow:"\u2926",hoarr:"\u21ff",homtht:"\u223b",hookleftarrow:"\u21a9",hookrightarrow:"\u21aa",hopf:"\ud835\udd59",Hopf:"\u210d",horbar:"\u2015",HorizontalLine:"\u2500",hscr:"\ud835\udcbd",Hscr:"\u210b",hslash:"\u210f",Hstrok:"\u0126",hstrok:"\u0127",HumpDownHump:"\u224e",HumpEqual:"\u224f",hybull:"\u2043",hyphen:"\u2010",Iacute:"\xcd",iacute:"\xed",ic:"\u2063",Icirc:"\xce",icirc:"\xee",Icy:"\u0418",icy:"\u0438",Idot:"\u0130",IEcy:"\u0415",iecy:"\u0435",iexcl:"\xa1",iff:"\u21d4",ifr:"\ud835\udd26",Ifr:"\u2111",Igrave:"\xcc",igrave:"\xec",ii:"\u2148",iiiint:"\u2a0c",iiint:"\u222d",iinfin:"\u29dc",iiota:"\u2129",IJlig:"\u0132",ijlig:"\u0133",Imacr:"\u012a",imacr:"\u012b",image:"\u2111",ImaginaryI:"\u2148",imagline:"\u2110",imagpart:"\u2111",imath:"\u0131",Im:"\u2111",imof:"\u22b7",imped:"\u01b5",Implies:"\u21d2",incare:"\u2105",in:"\u2208",infin:"\u221e",infintie:"\u29dd",inodot:"\u0131",intcal:"\u22ba",int:"\u222b",Int:"\u222c",integers:"\u2124",Integral:"\u222b",intercal:"\u22ba",Intersection:"\u22c2",intlarhk:"\u2a17",intprod:"\u2a3c",InvisibleComma:"\u2063",InvisibleTimes:"\u2062",IOcy:"\u0401",iocy:"\u0451",Iogon:"\u012e",iogon:"\u012f",Iopf:"\ud835\udd40",iopf:"\ud835\udd5a",Iota:"\u0399",iota:"\u03b9",iprod:"\u2a3c",iquest:"\xbf",iscr:"\ud835\udcbe",Iscr:"\u2110",isin:"\u2208",isindot:"\u22f5",isinE:"\u22f9",isins:"\u22f4",isinsv:"\u22f3",isinv:"\u2208",it:"\u2062",Itilde:"\u0128",itilde:"\u0129",Iukcy:"\u0406",iukcy:"\u0456",Iuml:"\xcf",iuml:"\xef",Jcirc:"\u0134",jcirc:"\u0135",Jcy:"\u0419",jcy:"\u0439",Jfr:"\ud835\udd0d",jfr:"\ud835\udd27",jmath:"\u0237",Jopf:"\ud835\udd41",jopf:"\ud835\udd5b",Jscr:"\ud835\udca5",jscr:"\ud835\udcbf",Jsercy:"\u0408",jsercy:"\u0458",Jukcy:"\u0404",jukcy:"\u0454",Kappa:"\u039a",kappa:"\u03ba",kappav:"\u03f0",Kcedil:"\u0136",kcedil:"\u0137",Kcy:"\u041a",kcy:"\u043a",Kfr:"\ud835\udd0e",kfr:"\ud835\udd28",kgreen:"\u0138",KHcy:"\u0425",khcy:"\u0445",KJcy:"\u040c",kjcy:"\u045c",Kopf:"\ud835\udd42",kopf:"\ud835\udd5c",Kscr:"\ud835\udca6",kscr:"\ud835\udcc0",lAarr:"\u21da",Lacute:"\u0139",lacute:"\u013a",laemptyv:"\u29b4",lagran:"\u2112",Lambda:"\u039b",lambda:"\u03bb",lang:"\u27e8",Lang:"\u27ea",langd:"\u2991",langle:"\u27e8",lap:"\u2a85",Laplacetrf:"\u2112",laquo:"\xab",larrb:"\u21e4",larrbfs:"\u291f",larr:"\u2190",Larr:"\u219e",lArr:"\u21d0",larrfs:"\u291d",larrhk:"\u21a9",larrlp:"\u21ab",larrpl:"\u2939",larrsim:"\u2973",larrtl:"\u21a2",latail:"\u2919",lAtail:"\u291b",lat:"\u2aab",late:"\u2aad",lates:"\u2aad\ufe00",lbarr:"\u290c",lBarr:"\u290e",lbbrk:"\u2772",lbrace:"{",lbrack:"[",lbrke:"\u298b",lbrksld:"\u298f",lbrkslu:"\u298d",Lcaron:"\u013d",lcaron:"\u013e",Lcedil:"\u013b",lcedil:"\u013c",lceil:"\u2308",lcub:"{",Lcy:"\u041b",lcy:"\u043b",ldca:"\u2936",ldquo:"\u201c",ldquor:"\u201e",ldrdhar:"\u2967",ldrushar:"\u294b",ldsh:"\u21b2",le:"\u2264",lE:"\u2266",LeftAngleBracket:"\u27e8",LeftArrowBar:"\u21e4",leftarrow:"\u2190",LeftArrow:"\u2190",Leftarrow:"\u21d0",LeftArrowRightArrow:"\u21c6",leftarrowtail:"\u21a2",LeftCeiling:"\u2308",LeftDoubleBracket:"\u27e6",LeftDownTeeVector:"\u2961",LeftDownVectorBar:"\u2959",LeftDownVector:"\u21c3",LeftFloor:"\u230a",leftharpoondown:"\u21bd",leftharpoonup:"\u21bc",leftleftarrows:"\u21c7",leftrightarrow:"\u2194",LeftRightArrow:"\u2194",Leftrightarrow:"\u21d4",leftrightarrows:"\u21c6",leftrightharpoons:"\u21cb",leftrightsquigarrow:"\u21ad",LeftRightVector:"\u294e",LeftTeeArrow:"\u21a4",LeftTee:"\u22a3",LeftTeeVector:"\u295a",leftthreetimes:"\u22cb",LeftTriangleBar:"\u29cf",LeftTriangle:"\u22b2",LeftTriangleEqual:"\u22b4",LeftUpDownVector:"\u2951",LeftUpTeeVector:"\u2960",LeftUpVectorBar:"\u2958",LeftUpVector:"\u21bf",LeftVectorBar:"\u2952",LeftVector:"\u21bc",lEg:"\u2a8b",leg:"\u22da",leq:"\u2264",leqq:"\u2266",leqslant:"\u2a7d",lescc:"\u2aa8",les:"\u2a7d",lesdot:"\u2a7f",lesdoto:"\u2a81",lesdotor:"\u2a83",lesg:"\u22da\ufe00",lesges:"\u2a93",lessapprox:"\u2a85",lessdot:"\u22d6",lesseqgtr:"\u22da",lesseqqgtr:"\u2a8b",LessEqualGreater:"\u22da",LessFullEqual:"\u2266",LessGreater:"\u2276",lessgtr:"\u2276",LessLess:"\u2aa1",lesssim:"\u2272",LessSlantEqual:"\u2a7d",LessTilde:"\u2272",lfisht:"\u297c",lfloor:"\u230a",Lfr:"\ud835\udd0f",lfr:"\ud835\udd29",lg:"\u2276",lgE:"\u2a91",lHar:"\u2962",lhard:"\u21bd",lharu:"\u21bc",lharul:"\u296a",lhblk:"\u2584",LJcy:"\u0409",ljcy:"\u0459",llarr:"\u21c7",ll:"\u226a",Ll:"\u22d8",llcorner:"\u231e",Lleftarrow:"\u21da",llhard:"\u296b",lltri:"\u25fa",Lmidot:"\u013f",lmidot:"\u0140",lmoustache:"\u23b0",lmoust:"\u23b0",lnap:"\u2a89",lnapprox:"\u2a89",lne:"\u2a87",lnE:"\u2268",lneq:"\u2a87",lneqq:"\u2268",lnsim:"\u22e6",loang:"\u27ec",loarr:"\u21fd",lobrk:"\u27e6",longleftarrow:"\u27f5",LongLeftArrow:"\u27f5",Longleftarrow:"\u27f8",longleftrightarrow:"\u27f7",LongLeftRightArrow:"\u27f7",Longleftrightarrow:"\u27fa",longmapsto:"\u27fc",longrightarrow:"\u27f6",LongRightArrow:"\u27f6",Longrightarrow:"\u27f9",looparrowleft:"\u21ab",looparrowright:"\u21ac",lopar:"\u2985",Lopf:"\ud835\udd43",lopf:"\ud835\udd5d",loplus:"\u2a2d",lotimes:"\u2a34",lowast:"\u2217",lowbar:"_",LowerLeftArrow:"\u2199",LowerRightArrow:"\u2198",loz:"\u25ca",lozenge:"\u25ca",lozf:"\u29eb",lpar:"(",lparlt:"\u2993",lrarr:"\u21c6",lrcorner:"\u231f",lrhar:"\u21cb",lrhard:"\u296d",lrm:"\u200e",lrtri:"\u22bf",lsaquo:"\u2039",lscr:"\ud835\udcc1",Lscr:"\u2112",lsh:"\u21b0",Lsh:"\u21b0",lsim:"\u2272",lsime:"\u2a8d",lsimg:"\u2a8f",lsqb:"[",lsquo:"\u2018",lsquor:"\u201a",Lstrok:"\u0141",lstrok:"\u0142",ltcc:"\u2aa6",ltcir:"\u2a79",lt:"<",LT:"<",Lt:"\u226a",ltdot:"\u22d6",lthree:"\u22cb",ltimes:"\u22c9",ltlarr:"\u2976",ltquest:"\u2a7b",ltri:"\u25c3",ltrie:"\u22b4",ltrif:"\u25c2",ltrPar:"\u2996",lurdshar:"\u294a",luruhar:"\u2966",lvertneqq:"\u2268\ufe00",lvnE:"\u2268\ufe00",macr:"\xaf",male:"\u2642",malt:"\u2720",maltese:"\u2720",Map:"\u2905",map:"\u21a6",mapsto:"\u21a6",mapstodown:"\u21a7",mapstoleft:"\u21a4",mapstoup:"\u21a5",marker:"\u25ae",mcomma:"\u2a29",Mcy:"\u041c",mcy:"\u043c",mdash:"\u2014",mDDot:"\u223a",measuredangle:"\u2221",MediumSpace:"\u205f",Mellintrf:"\u2133",Mfr:"\ud835\udd10",mfr:"\ud835\udd2a",mho:"\u2127",micro:"\xb5",midast:"*",midcir:"\u2af0",mid:"\u2223",middot:"\xb7",minusb:"\u229f",minus:"\u2212",minusd:"\u2238",minusdu:"\u2a2a",MinusPlus:"\u2213",mlcp:"\u2adb",mldr:"\u2026",mnplus:"\u2213",models:"\u22a7",Mopf:"\ud835\udd44",mopf:"\ud835\udd5e",mp:"\u2213",mscr:"\ud835\udcc2",Mscr:"\u2133",mstpos:"\u223e",Mu:"\u039c",mu:"\u03bc",multimap:"\u22b8",mumap:"\u22b8",nabla:"\u2207",Nacute:"\u0143",nacute:"\u0144",nang:"\u2220\u20d2",nap:"\u2249",napE:"\u2a70\u0338",napid:"\u224b\u0338",napos:"\u0149",napprox:"\u2249",natural:"\u266e",naturals:"\u2115",natur:"\u266e",nbsp:"\xa0",nbump:"\u224e\u0338",nbumpe:"\u224f\u0338",ncap:"\u2a43",Ncaron:"\u0147",ncaron:"\u0148",Ncedil:"\u0145",ncedil:"\u0146",ncong:"\u2247",ncongdot:"\u2a6d\u0338",ncup:"\u2a42",Ncy:"\u041d",ncy:"\u043d",ndash:"\u2013",nearhk:"\u2924",nearr:"\u2197",neArr:"\u21d7",nearrow:"\u2197",ne:"\u2260",nedot:"\u2250\u0338",NegativeMediumSpace:"\u200b",NegativeThickSpace:"\u200b",NegativeThinSpace:"\u200b",NegativeVeryThinSpace:"\u200b",nequiv:"\u2262",nesear:"\u2928",nesim:"\u2242\u0338",NestedGreaterGreater:"\u226b",NestedLessLess:"\u226a",NewLine:"\n",nexist:"\u2204",nexists:"\u2204",Nfr:"\ud835\udd11",nfr:"\ud835\udd2b",ngE:"\u2267\u0338",nge:"\u2271",ngeq:"\u2271",ngeqq:"\u2267\u0338",ngeqslant:"\u2a7e\u0338",nges:"\u2a7e\u0338",nGg:"\u22d9\u0338",ngsim:"\u2275",nGt:"\u226b\u20d2",ngt:"\u226f",ngtr:"\u226f",nGtv:"\u226b\u0338",nharr:"\u21ae",nhArr:"\u21ce",nhpar:"\u2af2",ni:"\u220b",nis:"\u22fc",nisd:"\u22fa",niv:"\u220b",NJcy:"\u040a",njcy:"\u045a",nlarr:"\u219a",nlArr:"\u21cd",nldr:"\u2025",nlE:"\u2266\u0338",nle:"\u2270",nleftarrow:"\u219a",nLeftarrow:"\u21cd",nleftrightarrow:"\u21ae",nLeftrightarrow:"\u21ce",nleq:"\u2270",nleqq:"\u2266\u0338",nleqslant:"\u2a7d\u0338",nles:"\u2a7d\u0338",nless:"\u226e",nLl:"\u22d8\u0338",nlsim:"\u2274",nLt:"\u226a\u20d2",nlt:"\u226e",nltri:"\u22ea",nltrie:"\u22ec",nLtv:"\u226a\u0338",nmid:"\u2224",NoBreak:"\u2060",NonBreakingSpace:"\xa0",nopf:"\ud835\udd5f",Nopf:"\u2115",Not:"\u2aec",not:"\xac",NotCongruent:"\u2262",NotCupCap:"\u226d",NotDoubleVerticalBar:"\u2226",NotElement:"\u2209",NotEqual:"\u2260",NotEqualTilde:"\u2242\u0338",NotExists:"\u2204",NotGreater:"\u226f",NotGreaterEqual:"\u2271",NotGreaterFullEqual:"\u2267\u0338",NotGreaterGreater:"\u226b\u0338",NotGreaterLess:"\u2279",NotGreaterSlantEqual:"\u2a7e\u0338",NotGreaterTilde:"\u2275",NotHumpDownHump:"\u224e\u0338",NotHumpEqual:"\u224f\u0338",notin:"\u2209",notindot:"\u22f5\u0338",notinE:"\u22f9\u0338",notinva:"\u2209",notinvb:"\u22f7",notinvc:"\u22f6",NotLeftTriangleBar:"\u29cf\u0338",NotLeftTriangle:"\u22ea",NotLeftTriangleEqual:"\u22ec",NotLess:"\u226e",NotLessEqual:"\u2270",NotLessGreater:"\u2278",NotLessLess:"\u226a\u0338",NotLessSlantEqual:"\u2a7d\u0338",NotLessTilde:"\u2274",NotNestedGreaterGreater:"\u2aa2\u0338",NotNestedLessLess:"\u2aa1\u0338",notni:"\u220c",notniva:"\u220c",notnivb:"\u22fe",notnivc:"\u22fd",NotPrecedes:"\u2280",NotPrecedesEqual:"\u2aaf\u0338",NotPrecedesSlantEqual:"\u22e0",NotReverseElement:"\u220c",NotRightTriangleBar:"\u29d0\u0338",NotRightTriangle:"\u22eb",NotRightTriangleEqual:"\u22ed",NotSquareSubset:"\u228f\u0338",NotSquareSubsetEqual:"\u22e2",NotSquareSuperset:"\u2290\u0338",NotSquareSupersetEqual:"\u22e3",NotSubset:"\u2282\u20d2",NotSubsetEqual:"\u2288",NotSucceeds:"\u2281",NotSucceedsEqual:"\u2ab0\u0338",NotSucceedsSlantEqual:"\u22e1",NotSucceedsTilde:"\u227f\u0338",NotSuperset:"\u2283\u20d2",NotSupersetEqual:"\u2289",NotTilde:"\u2241",NotTildeEqual:"\u2244",NotTildeFullEqual:"\u2247",NotTildeTilde:"\u2249",NotVerticalBar:"\u2224",nparallel:"\u2226",npar:"\u2226",nparsl:"\u2afd\u20e5",npart:"\u2202\u0338",npolint:"\u2a14",npr:"\u2280",nprcue:"\u22e0",nprec:"\u2280",npreceq:"\u2aaf\u0338",npre:"\u2aaf\u0338",nrarrc:"\u2933\u0338",nrarr:"\u219b",nrArr:"\u21cf",nrarrw:"\u219d\u0338",nrightarrow:"\u219b",nRightarrow:"\u21cf",nrtri:"\u22eb",nrtrie:"\u22ed",nsc:"\u2281",nsccue:"\u22e1",nsce:"\u2ab0\u0338",Nscr:"\ud835\udca9",nscr:"\ud835\udcc3",nshortmid:"\u2224",nshortparallel:"\u2226",nsim:"\u2241",nsime:"\u2244",nsimeq:"\u2244",nsmid:"\u2224",nspar:"\u2226",nsqsube:"\u22e2",nsqsupe:"\u22e3",nsub:"\u2284",nsubE:"\u2ac5\u0338",nsube:"\u2288",nsubset:"\u2282\u20d2",nsubseteq:"\u2288",nsubseteqq:"\u2ac5\u0338",nsucc:"\u2281",nsucceq:"\u2ab0\u0338",nsup:"\u2285",nsupE:"\u2ac6\u0338",nsupe:"\u2289",nsupset:"\u2283\u20d2",nsupseteq:"\u2289",nsupseteqq:"\u2ac6\u0338",ntgl:"\u2279",Ntilde:"\xd1",ntilde:"\xf1",ntlg:"\u2278",ntriangleleft:"\u22ea",ntrianglelefteq:"\u22ec",ntriangleright:"\u22eb",ntrianglerighteq:"\u22ed",Nu:"\u039d",nu:"\u03bd",num:"#",numero:"\u2116",numsp:"\u2007",nvap:"\u224d\u20d2",nvdash:"\u22ac",nvDash:"\u22ad",nVdash:"\u22ae",nVDash:"\u22af",nvge:"\u2265\u20d2",nvgt:">\u20d2",nvHarr:"\u2904",nvinfin:"\u29de",nvlArr:"\u2902",nvle:"\u2264\u20d2",nvlt:"<\u20d2",nvltrie:"\u22b4\u20d2",nvrArr:"\u2903",nvrtrie:"\u22b5\u20d2",nvsim:"\u223c\u20d2",nwarhk:"\u2923",nwarr:"\u2196",nwArr:"\u21d6",nwarrow:"\u2196",nwnear:"\u2927",Oacute:"\xd3",oacute:"\xf3",oast:"\u229b",Ocirc:"\xd4",ocirc:"\xf4",ocir:"\u229a",Ocy:"\u041e",ocy:"\u043e",odash:"\u229d",Odblac:"\u0150",odblac:"\u0151",odiv:"\u2a38",odot:"\u2299",odsold:"\u29bc",OElig:"\u0152",oelig:"\u0153",ofcir:"\u29bf",Ofr:"\ud835\udd12",ofr:"\ud835\udd2c",ogon:"\u02db",Ograve:"\xd2",ograve:"\xf2",ogt:"\u29c1",ohbar:"\u29b5",ohm:"\u03a9",oint:"\u222e",olarr:"\u21ba",olcir:"\u29be",olcross:"\u29bb",oline:"\u203e",olt:"\u29c0",Omacr:"\u014c",omacr:"\u014d",Omega:"\u03a9",omega:"\u03c9",Omicron:"\u039f",omicron:"\u03bf",omid:"\u29b6",ominus:"\u2296",Oopf:"\ud835\udd46",oopf:"\ud835\udd60",opar:"\u29b7",OpenCurlyDoubleQuote:"\u201c",OpenCurlyQuote:"\u2018",operp:"\u29b9",oplus:"\u2295",orarr:"\u21bb",Or:"\u2a54",or:"\u2228",ord:"\u2a5d",order:"\u2134",orderof:"\u2134",ordf:"\xaa",ordm:"\xba",origof:"\u22b6",oror:"\u2a56",orslope:"\u2a57",orv:"\u2a5b",oS:"\u24c8",Oscr:"\ud835\udcaa",oscr:"\u2134",Oslash:"\xd8",oslash:"\xf8",osol:"\u2298",Otilde:"\xd5",otilde:"\xf5",otimesas:"\u2a36",Otimes:"\u2a37",otimes:"\u2297",Ouml:"\xd6",ouml:"\xf6",ovbar:"\u233d",OverBar:"\u203e",OverBrace:"\u23de",OverBracket:"\u23b4",OverParenthesis:"\u23dc",para:"\xb6",parallel:"\u2225",par:"\u2225",parsim:"\u2af3",parsl:"\u2afd",part:"\u2202",PartialD:"\u2202",Pcy:"\u041f",pcy:"\u043f",percnt:"%",period:".",permil:"\u2030",perp:"\u22a5",pertenk:"\u2031",Pfr:"\ud835\udd13",pfr:"\ud835\udd2d",Phi:"\u03a6",phi:"\u03c6",phiv:"\u03d5",phmmat:"\u2133",phone:"\u260e",Pi:"\u03a0",pi:"\u03c0",pitchfork:"\u22d4",piv:"\u03d6",planck:"\u210f",planckh:"\u210e",plankv:"\u210f",plusacir:"\u2a23",plusb:"\u229e",pluscir:"\u2a22",plus:"+",plusdo:"\u2214",plusdu:"\u2a25",pluse:"\u2a72",PlusMinus:"\xb1",plusmn:"\xb1",plussim:"\u2a26",plustwo:"\u2a27",pm:"\xb1",Poincareplane:"\u210c",pointint:"\u2a15",popf:"\ud835\udd61",Popf:"\u2119",pound:"\xa3",prap:"\u2ab7",Pr:"\u2abb",pr:"\u227a",prcue:"\u227c",precapprox:"\u2ab7",prec:"\u227a",preccurlyeq:"\u227c",Precedes:"\u227a",PrecedesEqual:"\u2aaf",PrecedesSlantEqual:"\u227c",PrecedesTilde:"\u227e",preceq:"\u2aaf",precnapprox:"\u2ab9",precneqq:"\u2ab5",precnsim:"\u22e8",pre:"\u2aaf",prE:"\u2ab3",precsim:"\u227e",prime:"\u2032",Prime:"\u2033",primes:"\u2119",prnap:"\u2ab9",prnE:"\u2ab5",prnsim:"\u22e8",prod:"\u220f",Product:"\u220f",profalar:"\u232e",profline:"\u2312",profsurf:"\u2313",prop:"\u221d",Proportional:"\u221d",Proportion:"\u2237",propto:"\u221d",prsim:"\u227e",prurel:"\u22b0",Pscr:"\ud835\udcab",pscr:"\ud835\udcc5",Psi:"\u03a8",psi:"\u03c8",puncsp:"\u2008",Qfr:"\ud835\udd14",qfr:"\ud835\udd2e",qint:"\u2a0c",qopf:"\ud835\udd62",Qopf:"\u211a",qprime:"\u2057",Qscr:"\ud835\udcac",qscr:"\ud835\udcc6",quaternions:"\u210d",quatint:"\u2a16",quest:"?",questeq:"\u225f",quot:'"',QUOT:'"',rAarr:"\u21db",race:"\u223d\u0331",Racute:"\u0154",racute:"\u0155",radic:"\u221a",raemptyv:"\u29b3",rang:"\u27e9",Rang:"\u27eb",rangd:"\u2992",range:"\u29a5",rangle:"\u27e9",raquo:"\xbb",rarrap:"\u2975",rarrb:"\u21e5",rarrbfs:"\u2920",rarrc:"\u2933",rarr:"\u2192",Rarr:"\u21a0",rArr:"\u21d2",rarrfs:"\u291e",rarrhk:"\u21aa",rarrlp:"\u21ac",rarrpl:"\u2945",rarrsim:"\u2974",Rarrtl:"\u2916",rarrtl:"\u21a3",rarrw:"\u219d",ratail:"\u291a",rAtail:"\u291c",ratio:"\u2236",rationals:"\u211a",rbarr:"\u290d",rBarr:"\u290f",RBarr:"\u2910",rbbrk:"\u2773",rbrace:"}",rbrack:"]",rbrke:"\u298c",rbrksld:"\u298e",rbrkslu:"\u2990",Rcaron:"\u0158",rcaron:"\u0159",Rcedil:"\u0156",rcedil:"\u0157",rceil:"\u2309",rcub:"}",Rcy:"\u0420",rcy:"\u0440",rdca:"\u2937",rdldhar:"\u2969",rdquo:"\u201d",rdquor:"\u201d",rdsh:"\u21b3",real:"\u211c",realine:"\u211b",realpart:"\u211c",reals:"\u211d",Re:"\u211c",rect:"\u25ad",reg:"\xae",REG:"\xae",ReverseElement:"\u220b",ReverseEquilibrium:"\u21cb",ReverseUpEquilibrium:"\u296f",rfisht:"\u297d",rfloor:"\u230b",rfr:"\ud835\udd2f",Rfr:"\u211c",rHar:"\u2964",rhard:"\u21c1",rharu:"\u21c0",rharul:"\u296c",Rho:"\u03a1",rho:"\u03c1",rhov:"\u03f1",RightAngleBracket:"\u27e9",RightArrowBar:"\u21e5",rightarrow:"\u2192",RightArrow:"\u2192",Rightarrow:"\u21d2",RightArrowLeftArrow:"\u21c4",rightarrowtail:"\u21a3",RightCeiling:"\u2309",RightDoubleBracket:"\u27e7",RightDownTeeVector:"\u295d",RightDownVectorBar:"\u2955",RightDownVector:"\u21c2",RightFloor:"\u230b",rightharpoondown:"\u21c1",rightharpoonup:"\u21c0",rightleftarrows:"\u21c4",rightleftharpoons:"\u21cc",rightrightarrows:"\u21c9",rightsquigarrow:"\u219d",RightTeeArrow:"\u21a6",RightTee:"\u22a2",RightTeeVector:"\u295b",rightthreetimes:"\u22cc",RightTriangleBar:"\u29d0",RightTriangle:"\u22b3",RightTriangleEqual:"\u22b5",RightUpDownVector:"\u294f",RightUpTeeVector:"\u295c",RightUpVectorBar:"\u2954",RightUpVector:"\u21be",RightVectorBar:"\u2953",RightVector:"\u21c0",ring:"\u02da",risingdotseq:"\u2253",rlarr:"\u21c4",rlhar:"\u21cc",rlm:"\u200f",rmoustache:"\u23b1",rmoust:"\u23b1",rnmid:"\u2aee",roang:"\u27ed",roarr:"\u21fe",robrk:"\u27e7",ropar:"\u2986",ropf:"\ud835\udd63",Ropf:"\u211d",roplus:"\u2a2e",rotimes:"\u2a35",RoundImplies:"\u2970",rpar:")",rpargt:"\u2994",rppolint:"\u2a12",rrarr:"\u21c9",Rrightarrow:"\u21db",rsaquo:"\u203a",rscr:"\ud835\udcc7",Rscr:"\u211b",rsh:"\u21b1",Rsh:"\u21b1",rsqb:"]",rsquo:"\u2019",rsquor:"\u2019",rthree:"\u22cc",rtimes:"\u22ca",rtri:"\u25b9",rtrie:"\u22b5",rtrif:"\u25b8",rtriltri:"\u29ce",RuleDelayed:"\u29f4",ruluhar:"\u2968",rx:"\u211e",Sacute:"\u015a",sacute:"\u015b",sbquo:"\u201a",scap:"\u2ab8",Scaron:"\u0160",scaron:"\u0161",Sc:"\u2abc",sc:"\u227b",sccue:"\u227d",sce:"\u2ab0",scE:"\u2ab4",Scedil:"\u015e",scedil:"\u015f",Scirc:"\u015c",scirc:"\u015d",scnap:"\u2aba",scnE:"\u2ab6",scnsim:"\u22e9",scpolint:"\u2a13",scsim:"\u227f",Scy:"\u0421",scy:"\u0441",sdotb:"\u22a1",sdot:"\u22c5",sdote:"\u2a66",searhk:"\u2925",searr:"\u2198",seArr:"\u21d8",searrow:"\u2198",sect:"\xa7",semi:";",seswar:"\u2929",setminus:"\u2216",setmn:"\u2216",sext:"\u2736",Sfr:"\ud835\udd16",sfr:"\ud835\udd30",sfrown:"\u2322",sharp:"\u266f",SHCHcy:"\u0429",shchcy:"\u0449",SHcy:"\u0428",shcy:"\u0448",ShortDownArrow:"\u2193",ShortLeftArrow:"\u2190",shortmid:"\u2223",shortparallel:"\u2225",ShortRightArrow:"\u2192",ShortUpArrow:"\u2191",shy:"\xad",Sigma:"\u03a3",sigma:"\u03c3",sigmaf:"\u03c2",sigmav:"\u03c2",sim:"\u223c",simdot:"\u2a6a",sime:"\u2243",simeq:"\u2243",simg:"\u2a9e",simgE:"\u2aa0",siml:"\u2a9d",simlE:"\u2a9f",simne:"\u2246",simplus:"\u2a24",simrarr:"\u2972",slarr:"\u2190",SmallCircle:"\u2218",smallsetminus:"\u2216",smashp:"\u2a33",smeparsl:"\u29e4",smid:"\u2223",smile:"\u2323",smt:"\u2aaa",smte:"\u2aac",smtes:"\u2aac\ufe00",SOFTcy:"\u042c",softcy:"\u044c",solbar:"\u233f",solb:"\u29c4",sol:"/",Sopf:"\ud835\udd4a",sopf:"\ud835\udd64",spades:"\u2660",spadesuit:"\u2660",spar:"\u2225",sqcap:"\u2293",sqcaps:"\u2293\ufe00",sqcup:"\u2294",sqcups:"\u2294\ufe00",Sqrt:"\u221a",sqsub:"\u228f",sqsube:"\u2291",sqsubset:"\u228f",sqsubseteq:"\u2291",sqsup:"\u2290",sqsupe:"\u2292",sqsupset:"\u2290",sqsupseteq:"\u2292",square:"\u25a1",Square:"\u25a1",SquareIntersection:"\u2293",SquareSubset:"\u228f",SquareSubsetEqual:"\u2291",SquareSuperset:"\u2290",SquareSupersetEqual:"\u2292",SquareUnion:"\u2294",squarf:"\u25aa",squ:"\u25a1",squf:"\u25aa",srarr:"\u2192",Sscr:"\ud835\udcae",sscr:"\ud835\udcc8",ssetmn:"\u2216",ssmile:"\u2323",sstarf:"\u22c6",Star:"\u22c6",star:"\u2606",starf:"\u2605",straightepsilon:"\u03f5",straightphi:"\u03d5",strns:"\xaf",sub:"\u2282",Sub:"\u22d0",subdot:"\u2abd",subE:"\u2ac5",sube:"\u2286",subedot:"\u2ac3",submult:"\u2ac1",subnE:"\u2acb",subne:"\u228a",subplus:"\u2abf",subrarr:"\u2979",subset:"\u2282",Subset:"\u22d0",subseteq:"\u2286",subseteqq:"\u2ac5",SubsetEqual:"\u2286",subsetneq:"\u228a",subsetneqq:"\u2acb",subsim:"\u2ac7",subsub:"\u2ad5",subsup:"\u2ad3",succapprox:"\u2ab8",succ:"\u227b",succcurlyeq:"\u227d",Succeeds:"\u227b",SucceedsEqual:"\u2ab0",SucceedsSlantEqual:"\u227d",SucceedsTilde:"\u227f",succeq:"\u2ab0",succnapprox:"\u2aba",succneqq:"\u2ab6",succnsim:"\u22e9",succsim:"\u227f",SuchThat:"\u220b",sum:"\u2211",Sum:"\u2211",sung:"\u266a",sup1:"\xb9",sup2:"\xb2",sup3:"\xb3",sup:"\u2283",Sup:"\u22d1",supdot:"\u2abe",supdsub:"\u2ad8",supE:"\u2ac6",supe:"\u2287",supedot:"\u2ac4",Superset:"\u2283",SupersetEqual:"\u2287",suphsol:"\u27c9",suphsub:"\u2ad7",suplarr:"\u297b",supmult:"\u2ac2",supnE:"\u2acc",supne:"\u228b",supplus:"\u2ac0",supset:"\u2283",Supset:"\u22d1",supseteq:"\u2287",supseteqq:"\u2ac6",supsetneq:"\u228b",supsetneqq:"\u2acc",supsim:"\u2ac8",supsub:"\u2ad4",supsup:"\u2ad6",swarhk:"\u2926",swarr:"\u2199",swArr:"\u21d9",swarrow:"\u2199",swnwar:"\u292a",szlig:"\xdf",Tab:"\t",target:"\u2316",Tau:"\u03a4",tau:"\u03c4",tbrk:"\u23b4",Tcaron:"\u0164",tcaron:"\u0165",Tcedil:"\u0162",tcedil:"\u0163",Tcy:"\u0422",tcy:"\u0442",tdot:"\u20db",telrec:"\u2315",Tfr:"\ud835\udd17",tfr:"\ud835\udd31",there4:"\u2234",therefore:"\u2234",Therefore:"\u2234",Theta:"\u0398",theta:"\u03b8",thetasym:"\u03d1",thetav:"\u03d1",thickapprox:"\u2248",thicksim:"\u223c",ThickSpace:"\u205f\u200a",ThinSpace:"\u2009",thinsp:"\u2009",thkap:"\u2248",thksim:"\u223c",THORN:"\xde",thorn:"\xfe",tilde:"\u02dc",Tilde:"\u223c",TildeEqual:"\u2243",TildeFullEqual:"\u2245",TildeTilde:"\u2248",timesbar:"\u2a31",timesb:"\u22a0",times:"\xd7",timesd:"\u2a30",tint:"\u222d",toea:"\u2928",topbot:"\u2336",topcir:"\u2af1",top:"\u22a4",Topf:"\ud835\udd4b",topf:"\ud835\udd65",topfork:"\u2ada",tosa:"\u2929",tprime:"\u2034",trade:"\u2122",TRADE:"\u2122",triangle:"\u25b5",triangledown:"\u25bf",triangleleft:"\u25c3",trianglelefteq:"\u22b4",triangleq:"\u225c",triangleright:"\u25b9",trianglerighteq:"\u22b5",tridot:"\u25ec",trie:"\u225c",triminus:"\u2a3a",TripleDot:"\u20db",triplus:"\u2a39",trisb:"\u29cd",tritime:"\u2a3b",trpezium:"\u23e2",Tscr:"\ud835\udcaf",tscr:"\ud835\udcc9",TScy:"\u0426",tscy:"\u0446",TSHcy:"\u040b",tshcy:"\u045b",Tstrok:"\u0166",tstrok:"\u0167",twixt:"\u226c",twoheadleftarrow:"\u219e",twoheadrightarrow:"\u21a0",Uacute:"\xda",uacute:"\xfa",uarr:"\u2191",Uarr:"\u219f",uArr:"\u21d1",Uarrocir:"\u2949",Ubrcy:"\u040e",ubrcy:"\u045e",Ubreve:"\u016c",ubreve:"\u016d",Ucirc:"\xdb",ucirc:"\xfb",Ucy:"\u0423",ucy:"\u0443",udarr:"\u21c5",Udblac:"\u0170",udblac:"\u0171",udhar:"\u296e",ufisht:"\u297e",Ufr:"\ud835\udd18",ufr:"\ud835\udd32",Ugrave:"\xd9",ugrave:"\xf9",uHar:"\u2963",uharl:"\u21bf",uharr:"\u21be",uhblk:"\u2580",ulcorn:"\u231c",ulcorner:"\u231c",ulcrop:"\u230f",ultri:"\u25f8",Umacr:"\u016a",umacr:"\u016b",uml:"\xa8",UnderBar:"_",UnderBrace:"\u23df",UnderBracket:"\u23b5",UnderParenthesis:"\u23dd",Union:"\u22c3",UnionPlus:"\u228e",Uogon:"\u0172",uogon:"\u0173",Uopf:"\ud835\udd4c",uopf:"\ud835\udd66",UpArrowBar:"\u2912",uparrow:"\u2191",UpArrow:"\u2191",Uparrow:"\u21d1",UpArrowDownArrow:"\u21c5",updownarrow:"\u2195",UpDownArrow:"\u2195",Updownarrow:"\u21d5",UpEquilibrium:"\u296e",upharpoonleft:"\u21bf",upharpoonright:"\u21be",uplus:"\u228e",UpperLeftArrow:"\u2196",UpperRightArrow:"\u2197",upsi:"\u03c5",Upsi:"\u03d2",upsih:"\u03d2",Upsilon:"\u03a5",upsilon:"\u03c5",UpTeeArrow:"\u21a5",UpTee:"\u22a5",upuparrows:"\u21c8",urcorn:"\u231d",urcorner:"\u231d",urcrop:"\u230e",Uring:"\u016e",uring:"\u016f",urtri:"\u25f9",Uscr:"\ud835\udcb0",uscr:"\ud835\udcca",utdot:"\u22f0",Utilde:"\u0168",utilde:"\u0169",utri:"\u25b5",utrif:"\u25b4",uuarr:"\u21c8",Uuml:"\xdc",uuml:"\xfc",uwangle:"\u29a7",vangrt:"\u299c",varepsilon:"\u03f5",varkappa:"\u03f0",varnothing:"\u2205",varphi:"\u03d5",varpi:"\u03d6",varpropto:"\u221d",varr:"\u2195",vArr:"\u21d5",varrho:"\u03f1",varsigma:"\u03c2",varsubsetneq:"\u228a\ufe00",varsubsetneqq:"\u2acb\ufe00",varsupsetneq:"\u228b\ufe00",varsupsetneqq:"\u2acc\ufe00",vartheta:"\u03d1",vartriangleleft:"\u22b2",vartriangleright:"\u22b3",vBar:"\u2ae8",Vbar:"\u2aeb",vBarv:"\u2ae9",Vcy:"\u0412",vcy:"\u0432",vdash:"\u22a2",vDash:"\u22a8",Vdash:"\u22a9",VDash:"\u22ab",Vdashl:"\u2ae6",veebar:"\u22bb",vee:"\u2228",Vee:"\u22c1",veeeq:"\u225a",vellip:"\u22ee",verbar:"|",Verbar:"\u2016",vert:"|",Vert:"\u2016",VerticalBar:"\u2223",VerticalLine:"|",VerticalSeparator:"\u2758",VerticalTilde:"\u2240",VeryThinSpace:"\u200a",Vfr:"\ud835\udd19",vfr:"\ud835\udd33",vltri:"\u22b2",vnsub:"\u2282\u20d2",vnsup:"\u2283\u20d2",Vopf:"\ud835\udd4d",vopf:"\ud835\udd67",vprop:"\u221d",vrtri:"\u22b3",Vscr:"\ud835\udcb1",vscr:"\ud835\udccb",vsubnE:"\u2acb\ufe00",vsubne:"\u228a\ufe00",vsupnE:"\u2acc\ufe00",vsupne:"\u228b\ufe00",Vvdash:"\u22aa",vzigzag:"\u299a",Wcirc:"\u0174",wcirc:"\u0175",wedbar:"\u2a5f",wedge:"\u2227",Wedge:"\u22c0",wedgeq:"\u2259",weierp:"\u2118",Wfr:"\ud835\udd1a",wfr:"\ud835\udd34",Wopf:"\ud835\udd4e",wopf:"\ud835\udd68",wp:"\u2118",wr:"\u2240",wreath:"\u2240",Wscr:"\ud835\udcb2",wscr:"\ud835\udccc",xcap:"\u22c2",xcirc:"\u25ef",xcup:"\u22c3",xdtri:"\u25bd",Xfr:"\ud835\udd1b",xfr:"\ud835\udd35",xharr:"\u27f7",xhArr:"\u27fa",Xi:"\u039e",xi:"\u03be",xlarr:"\u27f5",xlArr:"\u27f8",xmap:"\u27fc",xnis:"\u22fb",xodot:"\u2a00",Xopf:"\ud835\udd4f",xopf:"\ud835\udd69",xoplus:"\u2a01",xotime:"\u2a02",xrarr:"\u27f6",xrArr:"\u27f9",Xscr:"\ud835\udcb3",xscr:"\ud835\udccd",xsqcup:"\u2a06",xuplus:"\u2a04",xutri:"\u25b3",xvee:"\u22c1",xwedge:"\u22c0",Yacute:"\xdd",yacute:"\xfd",YAcy:"\u042f",yacy:"\u044f",Ycirc:"\u0176",ycirc:"\u0177",Ycy:"\u042b",ycy:"\u044b",yen:"\xa5",Yfr:"\ud835\udd1c",yfr:"\ud835\udd36",YIcy:"\u0407",yicy:"\u0457",Yopf:"\ud835\udd50",yopf:"\ud835\udd6a",Yscr:"\ud835\udcb4",yscr:"\ud835\udcce",YUcy:"\u042e",yucy:"\u044e",yuml:"\xff",Yuml:"\u0178",Zacute:"\u0179",zacute:"\u017a",Zcaron:"\u017d",zcaron:"\u017e",Zcy:"\u0417",zcy:"\u0437",Zdot:"\u017b",zdot:"\u017c",zeetrf:"\u2128",ZeroWidthSpace:"\u200b",Zeta:"\u0396",zeta:"\u03b6",zfr:"\ud835\udd37",Zfr:"\u2128",ZHcy:"\u0416",zhcy:"\u0436",zigrarr:"\u21dd",zopf:"\ud835\udd6b",Zopf:"\u2124",Zscr:"\ud835\udcb5",zscr:"\ud835\udccf",zwj:"\u200d",zwnj:"\u200c"}},{}],23:[function(e,t,n){t.exports={Aacute:"\xc1",aacute:"\xe1",Acirc:"\xc2",acirc:"\xe2",acute:"\xb4",AElig:"\xc6",aelig:"\xe6",Agrave:"\xc0",agrave:"\xe0",amp:"&",AMP:"&",Aring:"\xc5",aring:"\xe5",Atilde:"\xc3",atilde:"\xe3",Auml:"\xc4",auml:"\xe4",brvbar:"\xa6",Ccedil:"\xc7",ccedil:"\xe7",cedil:"\xb8",cent:"\xa2",copy:"\xa9",COPY:"\xa9",curren:"\xa4",deg:"\xb0",divide:"\xf7",Eacute:"\xc9",eacute:"\xe9",Ecirc:"\xca",ecirc:"\xea",Egrave:"\xc8",egrave:"\xe8",ETH:"\xd0",eth:"\xf0",Euml:"\xcb",euml:"\xeb",frac12:"\xbd",frac14:"\xbc",frac34:"\xbe",gt:">",GT:">",Iacute:"\xcd",iacute:"\xed",Icirc:"\xce",icirc:"\xee",iexcl:"\xa1",Igrave:"\xcc",igrave:"\xec",iquest:"\xbf",Iuml:"\xcf",iuml:"\xef",laquo:"\xab",lt:"<",LT:"<",macr:"\xaf",micro:"\xb5",middot:"\xb7",nbsp:"\xa0",not:"\xac",Ntilde:"\xd1",ntilde:"\xf1",Oacute:"\xd3",oacute:"\xf3",Ocirc:"\xd4",ocirc:"\xf4",Ograve:"\xd2",ograve:"\xf2",ordf:"\xaa",ordm:"\xba",Oslash:"\xd8",oslash:"\xf8",Otilde:"\xd5",otilde:"\xf5",Ouml:"\xd6",ouml:"\xf6",para:"\xb6",plusmn:"\xb1",pound:"\xa3",quot:'"',QUOT:'"',raquo:"\xbb",reg:"\xae",REG:"\xae",sect:"\xa7",shy:"\xad",sup1:"\xb9",sup2:"\xb2",sup3:"\xb3",szlig:"\xdf",THORN:"\xde",thorn:"\xfe",times:"\xd7",Uacute:"\xda",uacute:"\xfa",Ucirc:"\xdb",ucirc:"\xfb",Ugrave:"\xd9",ugrave:"\xf9",uml:"\xa8",Uuml:"\xdc",uuml:"\xfc",Yacute:"\xdd",yacute:"\xfd",yen:"\xa5",yuml:"\xff"}},{}],24:[function(e,t,n){t.exports={amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}},{}],25:[function(e,t,n){var r=Object.create||function(e){var t=function(){};return t.prototype=e,new t},o=Object.keys||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return n},i=Function.prototype.bind||function(e){var t=this;return function(){return t.apply(e,arguments)}};function a(){this._events&&Object.prototype.hasOwnProperty.call(this,"_events")||(this._events=r(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0}t.exports=a,a.EventEmitter=a,a.prototype._events=void 0,a.prototype._maxListeners=void 0;var l,c=10;try{var u={};Object.defineProperty&&Object.defineProperty(u,"x",{value:0}),l=0===u.x}catch(e){l=!1}function d(e){return void 0===e._maxListeners?a.defaultMaxListeners:e._maxListeners}function p(e,t,n,o){var i,a,l;if("function"!=typeof n)throw new TypeError('"listener" argument must be a function');if((a=e._events)?(a.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),a=e._events),l=a[t]):(a=e._events=r(null),e._eventsCount=0),l){if("function"==typeof l?l=a[t]=o?[n,l]:[l,n]:o?l.unshift(n):l.push(n),!l.warned&&(i=d(e))&&i>0&&l.length>i){l.warned=!0;var c=new Error("Possible EventEmitter memory leak detected. "+l.length+' "'+String(t)+'" listeners added. Use emitter.setMaxListeners() to increase limit.');c.name="MaxListenersExceededWarning",c.emitter=e,c.type=t,c.count=l.length,"object"===("undefined"==typeof console?"undefined":s(console))&&console.warn&&console.warn("%s: %s",c.name,c.message)}}else l=a[t]=n,++e._eventsCount;return e}function f(){if(!this.fired)switch(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length){case 0:return this.listener.call(this.target);case 1:return this.listener.call(this.target,arguments[0]);case 2:return this.listener.call(this.target,arguments[0],arguments[1]);case 3:return this.listener.call(this.target,arguments[0],arguments[1],arguments[2]);default:for(var e=new Array(arguments.length),t=0;t<e.length;++t)e[t]=arguments[t];this.listener.apply(this.target,e)}}function h(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},o=i.call(f,r);return o.listener=n,r.wrapFn=o,o}function m(e,t,n){var r=e._events;if(!r)return[];var o=r[t];return o?"function"==typeof o?n?[o.listener||o]:[o]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(o):b(o,o.length):[]}function g(e){var t=this._events;if(t){var n=t[e];if("function"==typeof n)return 1;if(n)return n.length}return 0}function b(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}l?Object.defineProperty(a,"defaultMaxListeners",{enumerable:!0,get:function(){return c},set:function(e){if("number"!=typeof e||e<0||e!=e)throw new TypeError('"defaultMaxListeners" must be a positive number');c=e}}):a.defaultMaxListeners=c,a.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||isNaN(e))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=e,this},a.prototype.getMaxListeners=function(){return d(this)},a.prototype.emit=function(e){var t,n,r,o,i,a,s="error"===e;if(a=this._events)s=s&&null==a.error;else if(!s)return!1;if(s){if(arguments.length>1&&(t=arguments[1]),t instanceof Error)throw t;var l=new Error('Unhandled "error" event. ('+t+")");throw l.context=t,l}if(!(n=a[e]))return!1;var c="function"==typeof n;switch(r=arguments.length){case 1:!function(e,t,n){if(c)e.call(n);else for(var r=e.length,o=b(e,r),i=0;i<r;++i)o[i].call(n)}(n,0,this);break;case 2:!function(e,t,n,r){if(t)e.call(n,r);else for(var o=e.length,i=b(e,o),a=0;a<o;++a)i[a].call(n,r)}(n,c,this,arguments[1]);break;case 3:!function(e,t,n,r,o){if(t)e.call(n,r,o);else for(var i=e.length,a=b(e,i),s=0;s<i;++s)a[s].call(n,r,o)}(n,c,this,arguments[1],arguments[2]);break;case 4:!function(e,t,n,r,o,i){if(t)e.call(n,r,o,i);else for(var a=e.length,s=b(e,a),l=0;l<a;++l)s[l].call(n,r,o,i)}(n,c,this,arguments[1],arguments[2],arguments[3]);break;default:for(o=new Array(r-1),i=1;i<r;i++)o[i-1]=arguments[i];!function(e,t,n,r){if(c)e.apply(n,r);else for(var o=e.length,i=b(e,o),a=0;a<o;++a)i[a].apply(n,r)}(n,0,this,o)}return!0},a.prototype.addListener=function(e,t){return p(this,e,t,!1)},a.prototype.on=a.prototype.addListener,a.prototype.prependListener=function(e,t){return p(this,e,t,!0)},a.prototype.once=function(e,t){if("function"!=typeof t)throw new TypeError('"listener" argument must be a function');return this.on(e,h(this,e,t)),this},a.prototype.prependOnceListener=function(e,t){if("function"!=typeof t)throw new TypeError('"listener" argument must be a function');return this.prependListener(e,h(this,e,t)),this},a.prototype.removeListener=function(e,t){var n,o,i,a,s;if("function"!=typeof t)throw new TypeError('"listener" argument must be a function');if(!(o=this._events))return this;if(!(n=o[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=r(null):(delete o[e],o.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(i=-1,a=n.length-1;a>=0;a--)if(n[a]===t||n[a].listener===t){s=n[a].listener,i=a;break}if(i<0)return this;0===i?n.shift():function(e,t){for(var n=i,r=n+1,o=e.length;r<o;n+=1,r+=1)e[n]=e[r];e.pop()}(n),1===n.length&&(o[e]=n[0]),o.removeListener&&this.emit("removeListener",e,s||t)}return this},a.prototype.removeAllListeners=function(e){var t,n,i;if(!(n=this._events))return this;if(!n.removeListener)return 0===arguments.length?(this._events=r(null),this._eventsCount=0):n[e]&&(0==--this._eventsCount?this._events=r(null):delete n[e]),this;if(0===arguments.length){var a,s=o(n);for(i=0;i<s.length;++i)"removeListener"!==(a=s[i])&&this.removeAllListeners(a);return this.removeAllListeners("removeListener"),this._events=r(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(t)for(i=t.length-1;i>=0;i--)this.removeListener(e,t[i]);return this},a.prototype.listeners=function(e){return m(this,e,!0)},a.prototype.rawListeners=function(e){return m(this,e,!1)},a.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):g.call(e,t)},a.prototype.listenerCount=g,a.prototype.eventNames=function(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]}},{}],26:[function(e,t,n){var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});var i=function(e){function t(t){void 0===t&&(t={});var n=e.call(this,function(e){for(var t,r=[],o=1;o<arguments.length;o++)r[o-1]=arguments[o];n.events.push([e].concat(r)),n._cbs[e]&&(t=n._cbs)[e].apply(t,r)})||this;return n._cbs=t,n.events=[],n}return r(t,e),t.prototype.onreset=function(){this.events=[],this._cbs.onreset&&this._cbs.onreset()},t.prototype.restart=function(){var e;this._cbs.onreset&&this._cbs.onreset();for(var t=0;t<this.events.length;t++){var n=this.events[t],r=n[0],o=n.slice(1);this._cbs[r]&&(e=this._cbs)[r].apply(e,o)}},t}(o(e("./MultiplexHandler")).default);n.CollectingHandler=i},{"./MultiplexHandler":28}],27:[function(e,t,n){var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(n,"__esModule",{value:!0});var a=o(e("domhandler")),l=i(e("domutils")),c=e("./Parser"),u=function(e){function t(t,n){return"object"===s(t)&&null!==t&&(n=t=void 0),e.call(this,t,n)||this}return r(t,e),t.prototype.onend=function(){var e={},t=p(g,this.dom);if(t)if("feed"===t.name){var n=t.children;e.type="atom",m(e,"id","id",n),m(e,"title","title",n);var r=h("href",p("link",n));r&&(e.link=r),m(e,"description","subtitle",n),(o=f("updated",n))&&(e.updated=new Date(o)),m(e,"author","email",n,!0),e.items=d("entry",n).map(function(e){var t={},n=e.children;m(t,"id","id",n),m(t,"title","title",n);var r=h("href",p("link",n));r&&(t.link=r);var o=f("summary",n)||f("content",n);o&&(t.description=o);var i=f("updated",n);return i&&(t.pubDate=new Date(i)),t})}else{var o;n=p("channel",t.children).children,e.type=t.name.substr(0,3),e.id="",m(e,"title","title",n),m(e,"link","link",n),m(e,"description","description",n),(o=f("lastBuildDate",n))&&(e.updated=new Date(o)),m(e,"author","managingEditor",n,!0),e.items=d("item",t.children).map(function(e){var t={},n=e.children;m(t,"id","guid",n),m(t,"title","title",n),m(t,"link","link",n),m(t,"description","description",n);var r=f("pubDate",n);return r&&(t.pubDate=new Date(r)),t})}this.feed=e,this.handleCallback(t?null:Error("couldn't find root of feed"))},t}(a.default);function d(e,t){return l.getElementsByTagName(e,t,!0)}function p(e,t){return l.getElementsByTagName(e,t,!0,1)[0]}function f(e,t,n){return void 0===n&&(n=!1),l.getText(l.getElementsByTagName(e,t,n,1)).trim()}function h(e,t){return t?t.attribs[e]:null}function m(e,t,n,r,o){void 0===o&&(o=!1);var i=f(n,r,o);i&&(e[t]=i)}function g(e){return"rss"===e||"feed"===e||"rdf:RDF"===e}n.FeedHandler=u;var b={xmlMode:!0};n.parseFeed=function(e,t){void 0===t&&(t=b);var n=new u(t);return new c.Parser(n,t).end(e),n.feed}},{"./Parser":29,domhandler:7,domutils:10}],28:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e){this._func=e}return e.prototype.onattribute=function(e,t){this._func("onattribute",e,t)},e.prototype.oncdatastart=function(){this._func("oncdatastart")},e.prototype.oncdataend=function(){this._func("oncdataend")},e.prototype.ontext=function(e){this._func("ontext",e)},e.prototype.onprocessinginstruction=function(e,t){this._func("onprocessinginstruction",e,t)},e.prototype.oncomment=function(e){this._func("oncomment",e)},e.prototype.oncommentend=function(){this._func("oncommentend")},e.prototype.onclosetag=function(e){this._func("onclosetag",e)},e.prototype.onopentag=function(e,t){this._func("onopentag",e,t)},e.prototype.onopentagname=function(e){this._func("onopentagname",e)},e.prototype.onerror=function(e){this._func("onerror",e)},e.prototype.onend=function(){this._func("onend")},e.prototype.onparserinit=function(e){this._func("onparserinit",e)},e.prototype.onreset=function(){this._func("onreset")},e}();n.default=r},{}],29:[function(e,t,n){var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});var i=o(e("./Tokenizer")),a=e("events"),s=new Set(["input","option","optgroup","select","button","datalist","textarea"]),l=new Set(["p"]),c={tr:new Set(["tr","th","td"]),th:new Set(["th"]),td:new Set(["thead","th","td"]),body:new Set(["head","link","script"]),li:new Set(["li"]),p:l,h1:l,h2:l,h3:l,h4:l,h5:l,h6:l,select:s,input:s,output:s,button:s,datalist:s,textarea:s,option:new Set(["option"]),optgroup:new Set(["optgroup","option"]),dd:new Set(["dt","dd"]),dt:new Set(["dt","dd"]),address:l,article:l,aside:l,blockquote:l,details:l,div:l,dl:l,fieldset:l,figcaption:l,figure:l,footer:l,form:l,header:l,hr:l,main:l,nav:l,ol:l,pre:l,section:l,table:l,ul:l,rt:new Set(["rt","rp"]),rp:new Set(["rt","rp"]),tbody:new Set(["thead","tbody"]),tfoot:new Set(["thead","tbody"])},u=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]),d=new Set(["math","svg"]),p=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignObject","desc","title"]),f=/\s|\//,h=function(e){function t(n,r){var o=e.call(this)||this;return o._tagname="",o._attribname="",o._attribvalue="",o._attribs=null,o._stack=[],o._foreignContext=[],o.startIndex=0,o.endIndex=null,o.parseChunk=t.prototype.write,o.done=t.prototype.end,o._options=r||{},o._cbs=n||{},o._tagname="",o._attribname="",o._attribvalue="",o._attribs=null,o._stack=[],o._foreignContext=[],o.startIndex=0,o.endIndex=null,o._lowerCaseTagNames="lowerCaseTags"in o._options?!!o._options.lowerCaseTags:!o._options.xmlMode,o._lowerCaseAttributeNames="lowerCaseAttributeNames"in o._options?!!o._options.lowerCaseAttributeNames:!o._options.xmlMode,o._tokenizer=new(o._options.Tokenizer||i.default)(o._options,o),o._cbs.onparserinit&&o._cbs.onparserinit(o),o}return r(t,e),t.prototype._updatePosition=function(e){null===this.endIndex?this._tokenizer._sectionStart<=e?this.startIndex=0:this.startIndex=this._tokenizer._sectionStart-e:this.startIndex=this.endIndex+1,this.endIndex=this._tokenizer.getAbsoluteIndex()},t.prototype.ontext=function(e){this._updatePosition(1),this.endIndex--,this._cbs.ontext&&this._cbs.ontext(e)},t.prototype.onopentagname=function(e){if(this._lowerCaseTagNames&&(e=e.toLowerCase()),this._tagname=e,!this._options.xmlMode&&Object.prototype.hasOwnProperty.call(c,e))for(var t=void 0;c[e].has(t=this._stack[this._stack.length-1]);this.onclosetag(t));!this._options.xmlMode&&u.has(e)||(this._stack.push(e),d.has(e)?this._foreignContext.push(!0):p.has(e)&&this._foreignContext.push(!1)),this._cbs.onopentagname&&this._cbs.onopentagname(e),this._cbs.onopentag&&(this._attribs={})},t.prototype.onopentagend=function(){this._updatePosition(1),this._attribs&&(this._cbs.onopentag&&this._cbs.onopentag(this._tagname,this._attribs),this._attribs=null),!this._options.xmlMode&&this._cbs.onclosetag&&u.has(this._tagname)&&this._cbs.onclosetag(this._tagname),this._tagname=""},t.prototype.onclosetag=function(e){if(this._updatePosition(1),this._lowerCaseTagNames&&(e=e.toLowerCase()),(d.has(e)||p.has(e))&&this._foreignContext.pop(),!this._stack.length||!this._options.xmlMode&&u.has(e))this._options.xmlMode||"br"!==e&&"p"!==e||(this.onopentagname(e),this._closeCurrentTag());else{var t=this._stack.lastIndexOf(e);if(-1!==t)if(this._cbs.onclosetag)for(t=this._stack.length-t;t--;)this._cbs.onclosetag(this._stack.pop());else this._stack.length=t;else"p"!==e||this._options.xmlMode||(this.onopentagname(e),this._closeCurrentTag())}},t.prototype.onselfclosingtag=function(){this._options.xmlMode||this._options.recognizeSelfClosing||this._foreignContext[this._foreignContext.length-1]?this._closeCurrentTag():this.onopentagend()},t.prototype._closeCurrentTag=function(){var e=this._tagname;this.onopentagend(),this._stack[this._stack.length-1]===e&&(this._cbs.onclosetag&&this._cbs.onclosetag(e),this._stack.pop())},t.prototype.onattribname=function(e){this._lowerCaseAttributeNames&&(e=e.toLowerCase()),this._attribname=e},t.prototype.onattribdata=function(e){this._attribvalue+=e},t.prototype.onattribend=function(){this._cbs.onattribute&&this._cbs.onattribute(this._attribname,this._attribvalue),this._attribs&&!Object.prototype.hasOwnProperty.call(this._attribs,this._attribname)&&(this._attribs[this._attribname]=this._attribvalue),this._attribname="",this._attribvalue=""},t.prototype._getInstructionName=function(e){var t=e.search(f),n=t<0?e:e.substr(0,t);return this._lowerCaseTagNames&&(n=n.toLowerCase()),n},t.prototype.ondeclaration=function(e){if(this._cbs.onprocessinginstruction){var t=this._getInstructionName(e);this._cbs.onprocessinginstruction("!"+t,"!"+e)}},t.prototype.onprocessinginstruction=function(e){if(this._cbs.onprocessinginstruction){var t=this._getInstructionName(e);this._cbs.onprocessinginstruction("?"+t,"?"+e)}},t.prototype.oncomment=function(e){this._updatePosition(4),this._cbs.oncomment&&this._cbs.oncomment(e),this._cbs.oncommentend&&this._cbs.oncommentend()},t.prototype.oncdata=function(e){this._updatePosition(1),this._options.xmlMode||this._options.recognizeCDATA?(this._cbs.oncdatastart&&this._cbs.oncdatastart(),this._cbs.ontext&&this._cbs.ontext(e),this._cbs.oncdataend&&this._cbs.oncdataend()):this.oncomment("[CDATA["+e+"]]")},t.prototype.onerror=function(e){this._cbs.onerror&&this._cbs.onerror(e)},t.prototype.onend=function(){if(this._cbs.onclosetag)for(var e=this._stack.length;e>0;this._cbs.onclosetag(this._stack[--e]));this._cbs.onend&&this._cbs.onend()},t.prototype.reset=function(){this._cbs.onreset&&this._cbs.onreset(),this._tokenizer.reset(),this._tagname="",this._attribname="",this._attribs=null,this._stack=[],this._cbs.onparserinit&&this._cbs.onparserinit(this)},t.prototype.parseComplete=function(e){this.reset(),this.end(e)},t.prototype.write=function(e){this._tokenizer.write(e)},t.prototype.end=function(e){this._tokenizer.end(e)},t.prototype.pause=function(){this._tokenizer.pause()},t.prototype.resume=function(){this._tokenizer.resume()},t}(a.EventEmitter);n.Parser=h},{"./Tokenizer":30,events:25}],30:[function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});var o=r(e("entities/lib/decode_codepoint")),i=r(e("entities/lib/maps/entities.json")),a=r(e("entities/lib/maps/legacy.json")),s=r(e("entities/lib/maps/xml.json"));function l(e){return" "===e||"\n"===e||"\t"===e||"\f"===e||"\r"===e}function c(e,t,n){var r=e.toLowerCase();return e===r?function(e,o){o===r?e._state=t:(e._state=n,e._index--)}:function(o,i){i===r||i===e?o._state=t:(o._state=n,o._index--)}}function u(e,t){var n=e.toLowerCase();return function(r,o){o===n||o===e?r._state=t:(r._state=3,r._index--)}}var d=c("C",23,16),p=c("D",24,16),f=c("A",25,16),h=c("T",26,16),m=c("A",27,16),g=u("R",34),b=u("I",35),v=u("P",36),y=u("T",37),k=c("R",39,1),_=c("I",40,1),w=c("P",41,1),C=c("T",42,1),S=u("Y",44),P=u("L",45),E=u("E",46),x=c("Y",48,1),O=c("L",49,1),T=c("E",50,1),M=c("#",52,53),A=c("X",55,54),j=function(){function e(e,t){this._state=1,this._buffer="",this._sectionStart=0,this._index=0,this._bufferOffset=0,this._baseState=1,this._special=1,this._running=!0,this._ended=!1,this._cbs=t,this._xmlMode=!(!e||!e.xmlMode),this._decodeEntities=!(!e||!e.decodeEntities)}return e.prototype.reset=function(){this._state=1,this._buffer="",this._sectionStart=0,this._index=0,this._bufferOffset=0,this._baseState=1,this._special=1,this._running=!0,this._ended=!1},e.prototype._stateText=function(e){"<"===e?(this._index>this._sectionStart&&this._cbs.ontext(this._getSection()),this._state=2,this._sectionStart=this._index):this._decodeEntities&&1===this._special&&"&"===e&&(this._index>this._sectionStart&&this._cbs.ontext(this._getSection()),this._baseState=1,this._state=51,this._sectionStart=this._index)},e.prototype._stateBeforeTagName=function(e){"/"===e?this._state=5:"<"===e?(this._cbs.ontext(this._getSection()),this._sectionStart=this._index):">"===e||1!==this._special||l(e)?this._state=1:"!"===e?(this._state=15,this._sectionStart=this._index+1):"?"===e?(this._state=17,this._sectionStart=this._index+1):(this._state=this._xmlMode||"s"!==e&&"S"!==e?3:31,this._sectionStart=this._index)},e.prototype._stateInTagName=function(e){("/"===e||">"===e||l(e))&&(this._emitToken("onopentagname"),this._state=8,this._index--)},e.prototype._stateBeforeClosingTagName=function(e){l(e)||(">"===e?this._state=1:1!==this._special?"s"===e||"S"===e?this._state=32:(this._state=1,this._index--):(this._state=6,this._sectionStart=this._index))},e.prototype._stateInClosingTagName=function(e){(">"===e||l(e))&&(this._emitToken("onclosetag"),this._state=7,this._index--)},e.prototype._stateAfterClosingTagName=function(e){">"===e&&(this._state=1,this._sectionStart=this._index+1)},e.prototype._stateBeforeAttributeName=function(e){">"===e?(this._cbs.onopentagend(),this._state=1,this._sectionStart=this._index+1):"/"===e?this._state=4:l(e)||(this._state=9,this._sectionStart=this._index)},e.prototype._stateInSelfClosingTag=function(e){">"===e?(this._cbs.onselfclosingtag(),this._state=1,this._sectionStart=this._index+1):l(e)||(this._state=8,this._index--)},e.prototype._stateInAttributeName=function(e){("="===e||"/"===e||">"===e||l(e))&&(this._cbs.onattribname(this._getSection()),this._sectionStart=-1,this._state=10,this._index--)},e.prototype._stateAfterAttributeName=function(e){"="===e?this._state=11:"/"===e||">"===e?(this._cbs.onattribend(),this._state=8,this._index--):l(e)||(this._cbs.onattribend(),this._state=9,this._sectionStart=this._index)},e.prototype._stateBeforeAttributeValue=function(e){'"'===e?(this._state=12,this._sectionStart=this._index+1):"'"===e?(this._state=13,this._sectionStart=this._index+1):l(e)||(this._state=14,this._sectionStart=this._index,this._index--)},e.prototype._stateInAttributeValueDoubleQuotes=function(e){'"'===e?(this._emitToken("onattribdata"),this._cbs.onattribend(),this._state=8):this._decodeEntities&&"&"===e&&(this._emitToken("onattribdata"),this._baseState=this._state,this._state=51,this._sectionStart=this._index)},e.prototype._stateInAttributeValueSingleQuotes=function(e){"'"===e?(this._emitToken("onattribdata"),this._cbs.onattribend(),this._state=8):this._decodeEntities&&"&"===e&&(this._emitToken("onattribdata"),this._baseState=this._state,this._state=51,this._sectionStart=this._index)},e.prototype._stateInAttributeValueNoQuotes=function(e){l(e)||">"===e?(this._emitToken("onattribdata"),this._cbs.onattribend(),this._state=8,this._index--):this._decodeEntities&&"&"===e&&(this._emitToken("onattribdata"),this._baseState=this._state,this._state=51,this._sectionStart=this._index)},e.prototype._stateBeforeDeclaration=function(e){this._state="["===e?22:"-"===e?18:16},e.prototype._stateInDeclaration=function(e){">"===e&&(this._cbs.ondeclaration(this._getSection()),this._state=1,this._sectionStart=this._index+1)},e.prototype._stateInProcessingInstruction=function(e){">"===e&&(this._cbs.onprocessinginstruction(this._getSection()),this._state=1,this._sectionStart=this._index+1)},e.prototype._stateBeforeComment=function(e){"-"===e?(this._state=19,this._sectionStart=this._index+1):this._state=16},e.prototype._stateInComment=function(e){"-"===e&&(this._state=20)},e.prototype._stateAfterComment1=function(e){this._state="-"===e?21:19},e.prototype._stateAfterComment2=function(e){">"===e?(this._cbs.oncomment(this._buffer.substring(this._sectionStart,this._index-2)),this._state=1,this._sectionStart=this._index+1):"-"!==e&&(this._state=19)},e.prototype._stateBeforeCdata6=function(e){"["===e?(this._state=28,this._sectionStart=this._index+1):(this._state=16,this._index--)},e.prototype._stateInCdata=function(e){"]"===e&&(this._state=29)},e.prototype._stateAfterCdata1=function(e){this._state="]"===e?30:28},e.prototype._stateAfterCdata2=function(e){">"===e?(this._cbs.oncdata(this._buffer.substring(this._sectionStart,this._index-2)),this._state=1,this._sectionStart=this._index+1):"]"!==e&&(this._state=28)},e.prototype._stateBeforeSpecial=function(e){"c"===e||"C"===e?this._state=33:"t"===e||"T"===e?this._state=43:(this._state=3,this._index--)},e.prototype._stateBeforeSpecialEnd=function(e){2!==this._special||"c"!==e&&"C"!==e?3!==this._special||"t"!==e&&"T"!==e?this._state=1:this._state=47:this._state=38},e.prototype._stateBeforeScript5=function(e){("/"===e||">"===e||l(e))&&(this._special=2),this._state=3,this._index--},e.prototype._stateAfterScript5=function(e){">"===e||l(e)?(this._special=1,this._state=6,this._sectionStart=this._index-6,this._index--):this._state=1},e.prototype._stateBeforeStyle4=function(e){("/"===e||">"===e||l(e))&&(this._special=3),this._state=3,this._index--},e.prototype._stateAfterStyle4=function(e){">"===e||l(e)?(this._special=1,this._state=6,this._sectionStart=this._index-5,this._index--):this._state=1},e.prototype._parseNamedEntityStrict=function(){if(this._sectionStart+1<this._index){var e=this._buffer.substring(this._sectionStart+1,this._index),t=this._xmlMode?s.default:i.default;Object.prototype.hasOwnProperty.call(t,e)&&(this._emitPartial(t[e]),this._sectionStart=this._index+1)}},e.prototype._parseLegacyEntity=function(){var e=this._sectionStart+1,t=this._index-e;for(t>6&&(t=6);t>=2;){var n=this._buffer.substr(e,t);if(Object.prototype.hasOwnProperty.call(a.default,n))return this._emitPartial(a.default[n]),void(this._sectionStart+=t+1);t--}},e.prototype._stateInNamedEntity=function(e){";"===e?(this._parseNamedEntityStrict(),this._sectionStart+1<this._index&&!this._xmlMode&&this._parseLegacyEntity(),this._state=this._baseState):(e<"a"||e>"z")&&(e<"A"||e>"Z")&&(e<"0"||e>"9")&&(this._xmlMode||this._sectionStart+1===this._index||(1!==this._baseState?"="!==e&&this._parseNamedEntityStrict():this._parseLegacyEntity()),this._state=this._baseState,this._index--)},e.prototype._decodeNumericEntity=function(e,t){var n=this._sectionStart+e;if(n!==this._index){var r=this._buffer.substring(n,this._index),i=parseInt(r,t);this._emitPartial(o.default(i)),this._sectionStart=this._index}else this._sectionStart--;this._state=this._baseState},e.prototype._stateInNumericEntity=function(e){";"===e?(this._decodeNumericEntity(2,10),this._sectionStart++):(e<"0"||e>"9")&&(this._xmlMode?this._state=this._baseState:this._decodeNumericEntity(2,10),this._index--)},e.prototype._stateInHexEntity=function(e){";"===e?(this._decodeNumericEntity(3,16),this._sectionStart++):(e<"a"||e>"f")&&(e<"A"||e>"F")&&(e<"0"||e>"9")&&(this._xmlMode?this._state=this._baseState:this._decodeNumericEntity(3,16),this._index--)},e.prototype._cleanup=function(){this._sectionStart<0?(this._buffer="",this._bufferOffset+=this._index,this._index=0):this._running&&(1===this._state?(this._sectionStart!==this._index&&this._cbs.ontext(this._buffer.substr(this._sectionStart)),this._buffer="",this._bufferOffset+=this._index,this._index=0):this._sectionStart===this._index?(this._buffer="",this._bufferOffset+=this._index,this._index=0):(this._buffer=this._buffer.substr(this._sectionStart),this._index-=this._sectionStart,this._bufferOffset+=this._sectionStart),this._sectionStart=0)},e.prototype.write=function(e){this._ended&&this._cbs.onerror(Error(".write() after done!")),this._buffer+=e,this._parse()},e.prototype._parse=function(){for(;this._index<this._buffer.length&&this._running;){var e=this._buffer.charAt(this._index);1===this._state?this._stateText(e):12===this._state?this._stateInAttributeValueDoubleQuotes(e):9===this._state?this._stateInAttributeName(e):19===this._state?this._stateInComment(e):8===this._state?this._stateBeforeAttributeName(e):3===this._state?this._stateInTagName(e):6===this._state?this._stateInClosingTagName(e):2===this._state?this._stateBeforeTagName(e):10===this._state?this._stateAfterAttributeName(e):13===this._state?this._stateInAttributeValueSingleQuotes(e):11===this._state?this._stateBeforeAttributeValue(e):5===this._state?this._stateBeforeClosingTagName(e):7===this._state?this._stateAfterClosingTagName(e):31===this._state?this._stateBeforeSpecial(e):20===this._state?this._stateAfterComment1(e):14===this._state?this._stateInAttributeValueNoQuotes(e):4===this._state?this._stateInSelfClosingTag(e):16===this._state?this._stateInDeclaration(e):15===this._state?this._stateBeforeDeclaration(e):21===this._state?this._stateAfterComment2(e):18===this._state?this._stateBeforeComment(e):32===this._state?this._stateBeforeSpecialEnd(e):38===this._state?k(this,e):39===this._state?_(this,e):40===this._state?w(this,e):33===this._state?g(this,e):34===this._state?b(this,e):35===this._state?v(this,e):36===this._state?y(this,e):37===this._state?this._stateBeforeScript5(e):41===this._state?C(this,e):42===this._state?this._stateAfterScript5(e):43===this._state?S(this,e):28===this._state?this._stateInCdata(e):44===this._state?P(this,e):45===this._state?E(this,e):46===this._state?this._stateBeforeStyle4(e):47===this._state?x(this,e):48===this._state?O(this,e):49===this._state?T(this,e):50===this._state?this._stateAfterStyle4(e):17===this._state?this._stateInProcessingInstruction(e):53===this._state?this._stateInNamedEntity(e):22===this._state?d(this,e):51===this._state?M(this,e):23===this._state?p(this,e):24===this._state?f(this,e):29===this._state?this._stateAfterCdata1(e):30===this._state?this._stateAfterCdata2(e):25===this._state?h(this,e):26===this._state?m(this,e):27===this._state?this._stateBeforeCdata6(e):55===this._state?this._stateInHexEntity(e):54===this._state?this._stateInNumericEntity(e):52===this._state?A(this,e):this._cbs.onerror(Error("unknown _state"),this._state),this._index++}this._cleanup()},e.prototype.pause=function(){this._running=!1},e.prototype.resume=function(){this._running=!0,this._index<this._buffer.length&&this._parse(),this._ended&&this._finish()},e.prototype.end=function(e){this._ended&&this._cbs.onerror(Error(".end() after done!")),e&&this.write(e),this._ended=!0,this._running&&this._finish()},e.prototype._finish=function(){this._sectionStart<this._index&&this._handleTrailingData(),this._cbs.onend()},e.prototype._handleTrailingData=function(){var e=this._buffer.substr(this._sectionStart);28===this._state||29===this._state||30===this._state?this._cbs.oncdata(e):19===this._state||20===this._state||21===this._state?this._cbs.oncomment(e):53!==this._state||this._xmlMode?54!==this._state||this._xmlMode?55!==this._state||this._xmlMode?3!==this._state&&8!==this._state&&11!==this._state&&10!==this._state&&9!==this._state&&13!==this._state&&12!==this._state&&14!==this._state&&6!==this._state&&this._cbs.ontext(e):(this._decodeNumericEntity(3,16),this._sectionStart<this._index&&(this._state=this._baseState,this._handleTrailingData())):(this._decodeNumericEntity(2,10),this._sectionStart<this._index&&(this._state=this._baseState,this._handleTrailingData())):(this._parseLegacyEntity(),this._sectionStart<this._index&&(this._state=this._baseState,this._handleTrailingData()))},e.prototype.getAbsoluteIndex=function(){return this._bufferOffset+this._index},e.prototype._getSection=function(){return this._buffer.substring(this._sectionStart,this._index)},e.prototype._emitToken=function(e){this._cbs[e](this._getSection()),this._sectionStart=-1},e.prototype._emitPartial=function(e){1!==this._baseState?this._cbs.onattribdata(e):this._cbs.ontext(e)},e}();n.default=j},{"entities/lib/decode_codepoint":18,"entities/lib/maps/entities.json":22,"entities/lib/maps/legacy.json":23,"entities/lib/maps/xml.json":24}],31:[function(e,t,n){function r(e){for(var t in e)n.hasOwnProperty(t)||(n[t]=e[t])}var o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(n,"__esModule",{value:!0});var i=e("./Parser");n.Parser=i.Parser;var a=e("domhandler");n.DomHandler=a.DomHandler,n.DefaultHandler=a.DomHandler,n.parseDOM=function(e,t){var n=new a.DomHandler(void 0,t);return new i.Parser(n,t).end(e),n.dom},n.createDomStream=function(e,t,n){var r=new a.DomHandler(e,t,n);return new i.Parser(r,t)};var s=e("./Tokenizer");n.Tokenizer=s.default;var l=o(e("domelementtype"));n.ElementType=l,n.EVENTS={attribute:2,cdatastart:0,cdataend:0,text:1,processinginstruction:2,comment:1,commentend:0,closetag:1,opentag:2,opentagname:1,error:1,end:0},r(e("./FeedHandler")),r(e("./WritableStream")),r(e("./CollectingHandler"));var c=o(e("domutils"));n.DomUtils=c;var u=e("./FeedHandler");n.RssHandler=u.FeedHandler},{"./CollectingHandler":26,"./FeedHandler":27,"./Parser":29,"./Tokenizer":30,"./WritableStream":2,domelementtype:6,domhandler:7,domutils:10}],32:[function(e,t,n){n.read=function(e,t,n,r,o){var i,a,s=8*o-r-1,l=(1<<s)-1,c=l>>1,u=-7,d=n?o-1:0,p=n?-1:1,f=e[t+d];for(d+=p,i=f&(1<<-u)-1,f>>=-u,u+=s;u>0;i=256*i+e[t+d],d+=p,u-=8);for(a=i&(1<<-u)-1,i>>=-u,u+=r;u>0;a=256*a+e[t+d],d+=p,u-=8);if(0===i)i=1-c;else{if(i===l)return a?NaN:1/0*(f?-1:1);a+=Math.pow(2,r),i-=c}return(f?-1:1)*a*Math.pow(2,i-r)},n.write=function(e,t,n,r,o,i){var a,s,l,c=8*i-o-1,u=(1<<c)-1,d=u>>1,p=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,f=r?0:i-1,h=r?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=u):(a=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-a))<1&&(a--,l*=2),(t+=a+d>=1?p/l:p*Math.pow(2,1-d))*l>=2&&(a++,l/=2),a+d>=u?(s=0,a=u):a+d>=1?(s=(t*l-1)*Math.pow(2,o),a+=d):(s=t*Math.pow(2,d-1)*Math.pow(2,o),a=0));o>=8;e[n+f]=255&s,f+=h,s/=256,o-=8);for(a=a<<o|s,c+=o;c>0;e[n+f]=255&a,f+=h,a/=256,c-=8);e[n+f-h]|=128*m}},{}],33:[function(e,t,r){(function(e){var n="__lodash_hash_undefined__",o=9007199254740991,i="[object Arguments]",a="[object Boolean]",l="[object Date]",c="[object Function]",u="[object GeneratorFunction]",d="[object Map]",p="[object Number]",f="[object Object]",h="[object RegExp]",m="[object Set]",g="[object String]",b="[object Symbol]",v="[object ArrayBuffer]",y="[object DataView]",k="[object Float32Array]",_="[object Float64Array]",w="[object Int8Array]",C="[object Int16Array]",S="[object Int32Array]",P="[object Uint8Array]",E="[object Uint8ClampedArray]",x="[object Uint16Array]",O="[object Uint32Array]",T=/\w*$/,M=/^\[object .+?Constructor\]$/,A=/^(?:0|[1-9]\d*)$/,j={};j[i]=j["[object Array]"]=j[v]=j[y]=j[a]=j[l]=j[k]=j[_]=j[w]=j[C]=j[S]=j[d]=j[p]=j[f]=j[h]=j[m]=j[g]=j[b]=j[P]=j[E]=j[x]=j[O]=!0,j["[object Error]"]=j[c]=j["[object WeakMap]"]=!1;var I="object"==s(e)&&e&&e.Object===Object&&e,N="object"==("undefined"==typeof self?"undefined":s(self))&&self&&self.Object===Object&&self,R=I||N||Function("return this")(),D="object"==s(r)&&r&&!r.nodeType&&r,L=D&&"object"==s(t)&&t&&!t.nodeType&&t,B=L&&L.exports===D;function F(e,t){return e.set(t[0],t[1]),e}function U(e,t){return e.add(t),e}function q(e,t,n,r){var o=-1,i=e?e.length:0;for(r&&i&&(n=e[++o]);++o<i;)n=t(n,e[o],o,e);return n}function z(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}function H(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n}function V(e,t){return function(n){return e(t(n))}}function W(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}var G=Array.prototype,Y=Function.prototype,K=Object.prototype,$=R["__core-js_shared__"],Q=function(){var e=/[^.]+$/.exec($&&$.keys&&$.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),J=Y.toString,X=K.hasOwnProperty,Z=K.toString,ee=RegExp("^"+J.call(X).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),te=B?R.Buffer:void 0,ne=R.Symbol,re=R.Uint8Array,oe=V(Object.getPrototypeOf,Object),ie=Object.create,ae=K.propertyIsEnumerable,se=G.splice,le=Object.getOwnPropertySymbols,ce=te?te.isBuffer:void 0,ue=V(Object.keys,Object),de=Ne(R,"DataView"),pe=Ne(R,"Map"),fe=Ne(R,"Promise"),he=Ne(R,"Set"),me=Ne(R,"WeakMap"),ge=Ne(Object,"create"),be=Fe(de),ve=Fe(pe),ye=Fe(fe),ke=Fe(he),_e=Fe(me),we=ne?ne.prototype:void 0,Ce=we?we.valueOf:void 0;function Se(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Pe(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Ee(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function xe(e){this.__data__=new Pe(e)}function Oe(e,t,n){var r=e[t];X.call(e,t)&&Ue(r,n)&&(void 0!==n||t in e)||(e[t]=n)}function Te(e,t){for(var n=e.length;n--;)if(Ue(e[n][0],t))return n;return-1}function Me(e,t,n,r,o,s,M){var A;if(r&&(A=s?r(e,o,s,M):r(e)),void 0!==A)return A;if(!We(e))return e;var I=qe(e);if(I){if(A=function(e){var t=e.length,n=e.constructor(t);return t&&"string"==typeof e[0]&&X.call(e,"index")&&(n.index=e.index,n.input=e.input),n}(e),!t)return function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}(e,A)}else{var N=De(e),R=N==c||N==u;if(He(e))return function(e,t){if(t)return e.slice();var n=new e.constructor(e.length);return e.copy(n),n}(e,t);if(N==f||N==i||R&&!s){if(z(e))return s?e:{};if(A=function(e){return"function"!=typeof e.constructor||Be(e)?{}:function(e){return We(e)?ie(e):{}}(oe(e))}(R?{}:e),!t)return function(e,t){return je(e,Re(e),t)}(e,function(e,t){return e&&je(t,Ge(t),e)}(A,e))}else{if(!j[N])return s?e:{};A=function(e,t,n,r){var o=e.constructor;switch(t){case v:return Ae(e);case a:case l:return new o(+e);case y:return function(e,t){var n=r?Ae(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e);case k:case _:case w:case C:case S:case P:case E:case x:case O:return function(e,t){var n=r?Ae(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}(e);case d:return function(e,t,n){return q(r?n(H(e),!0):H(e),F,new e.constructor)}(e,0,n);case p:case g:return new o(e);case h:return function(e){var t=new e.constructor(e.source,T.exec(e));return t.lastIndex=e.lastIndex,t}(e);case m:return function(e,t,n){return q(r?n(W(e),!0):W(e),U,new e.constructor)}(e,0,n);case b:return function(e){return Ce?Object(Ce.call(e)):{}}(e)}}(e,N,Me,t)}}M||(M=new xe);var D=M.get(e);if(D)return D;if(M.set(e,A),!I)var L=n?function(e){return function(e,t,n){var r=Ge(e);return qe(e)?r:function(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}(r,n(e))}(e,0,Re)}(e):Ge(e);return function(e,t){for(var n=-1,r=e?e.length:0;++n<r&&!1!==t(e[n],n););}(L||e,function(o,i){L&&(o=e[i=o]),Oe(A,i,Me(o,t,n,r,i,e,M))}),A}function Ae(e){var t=new e.constructor(e.byteLength);return new re(t).set(new re(e)),t}function je(e,t,n,r){n||(n={});for(var o=-1,i=t.length;++o<i;){var a=t[o],s=r?r(n[a],e[a],a,n,e):void 0;Oe(n,a,void 0===s?e[a]:s)}return n}function Ie(e,t){var n=e.__data__;return function(e){var t=s(e);return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?n["string"==typeof t?"string":"hash"]:n.map}function Ne(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return function(e){return!(!We(e)||function(e){return!!Q&&Q in e}(e))&&(Ve(e)||z(e)?ee:M).test(Fe(e))}(n)?n:void 0}Se.prototype.clear=function(){this.__data__=ge?ge(null):{}},Se.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},Se.prototype.get=function(e){var t=this.__data__;if(ge){var r=t[e];return r===n?void 0:r}return X.call(t,e)?t[e]:void 0},Se.prototype.has=function(e){var t=this.__data__;return ge?void 0!==t[e]:X.call(t,e)},Se.prototype.set=function(e,t){return this.__data__[e]=ge&&void 0===t?n:t,this},Pe.prototype.clear=function(){this.__data__=[]},Pe.prototype.delete=function(e){var t=this.__data__,n=Te(t,e);return!(n<0||(n==t.length-1?t.pop():se.call(t,n,1),0))},Pe.prototype.get=function(e){var t=this.__data__,n=Te(t,e);return n<0?void 0:t[n][1]},Pe.prototype.has=function(e){return Te(this.__data__,e)>-1},Pe.prototype.set=function(e,t){var n=this.__data__,r=Te(n,e);return r<0?n.push([e,t]):n[r][1]=t,this},Ee.prototype.clear=function(){this.__data__={hash:new Se,map:new(pe||Pe),string:new Se}},Ee.prototype.delete=function(e){return Ie(this,e).delete(e)},Ee.prototype.get=function(e){return Ie(this,e).get(e)},Ee.prototype.has=function(e){return Ie(this,e).has(e)},Ee.prototype.set=function(e,t){return Ie(this,e).set(e,t),this},xe.prototype.clear=function(){this.__data__=new Pe},xe.prototype.delete=function(e){return this.__data__.delete(e)},xe.prototype.get=function(e){return this.__data__.get(e)},xe.prototype.has=function(e){return this.__data__.has(e)},xe.prototype.set=function(e,t){var n=this.__data__;if(n instanceof Pe){var r=n.__data__;if(!pe||r.length<199)return r.push([e,t]),this;n=this.__data__=new Ee(r)}return n.set(e,t),this};var Re=le?V(le,Object):function(){return[]},De=function(e){return Z.call(e)};function Le(e,t){return!!(t=null==t?o:t)&&("number"==typeof e||A.test(e))&&e>-1&&e%1==0&&e<t}function Be(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||K)}function Fe(e){if(null!=e){try{return J.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function Ue(e,t){return e===t||e!=e&&t!=t}(de&&De(new de(new ArrayBuffer(1)))!=y||pe&&De(new pe)!=d||fe&&"[object Promise]"!=De(fe.resolve())||he&&De(new he)!=m||me&&"[object WeakMap]"!=De(new me))&&(De=function(e){var t=Z.call(e),n=t==f?e.constructor:void 0,r=n?Fe(n):void 0;if(r)switch(r){case be:return y;case ve:return d;case ye:return"[object Promise]";case ke:return m;case _e:return"[object WeakMap]"}return t});var qe=Array.isArray;function ze(e){return null!=e&&function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=o}(e.length)&&!Ve(e)}var He=ce||function(){return!1};function Ve(e){var t=We(e)?Z.call(e):"";return t==c||t==u}function We(e){var t=s(e);return!!e&&("object"==t||"function"==t)}function Ge(e){return ze(e)?function(e,t){var n=qe(e)||function(e){return function(e){return function(e){return!!e&&"object"==s(e)}(e)&&ze(e)}(e)&&X.call(e,"callee")&&(!ae.call(e,"callee")||Z.call(e)==i)}(e)?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],r=n.length,o=!!r;for(var a in e)!t&&!X.call(e,a)||o&&("length"==a||Le(a,r))||n.push(a);return n}(e):function(e){if(!Be(e))return ue(e);var t=[];for(var n in Object(e))X.call(e,n)&&"constructor"!=n&&t.push(n);return t}(e)}t.exports=function(e){return Me(e,!0,!0)}}).call(this,void 0!==n?n:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],34:[function(e,t,r){(function(e){var n=1/0,r="[object Symbol]",o=/[\\^$.*+?()[\]{}|]/g,i=RegExp(o.source),a="object"==s(e)&&e&&e.Object===Object&&e,l="object"==("undefined"==typeof self?"undefined":s(self))&&self&&self.Object===Object&&self,c=a||l||Function("return this")(),u=Object.prototype.toString,d=c.Symbol,p=d?d.prototype:void 0,f=p?p.toString:void 0;t.exports=function(e){return(e=function(e){return null==e?"":function(e){if("string"==typeof e)return e;if(function(e){return"symbol"==s(e)||function(e){return!!e&&"object"==s(e)}(e)&&u.call(e)==r}(e))return f?f.call(e):"";var t=e+"";return"0"==t&&1/e==-n?"-0":t}(e)}(e))&&i.test(e)?e.replace(o,"\\$&"):e}}).call(this,void 0!==n?n:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],35:[function(e,t,n){var r=Function.prototype,o=Object.prototype,i=r.toString,a=o.hasOwnProperty,l=i.call(Object),c=o.toString,u=function(e,t){return function(n){return e(t(n))}}(Object.getPrototypeOf,Object);t.exports=function(e){if(!function(e){return!!e&&"object"==s(e)}(e)||"[object Object]"!=c.call(e)||function(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}(e))return!1;var t=u(e);if(null===t)return!0;var n=a.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&i.call(n)==l}},{}],36:[function(e,t,n){var r=Object.prototype.toString,o=Array.isArray;t.exports=function(e){return"string"==typeof e||!o(e)&&function(e){return!!e&&"object"==s(e)}(e)&&"[object String]"==r.call(e)}},{}],37:[function(e,t,r){(function(e){var n="__lodash_hash_undefined__",o=9007199254740991,i="[object Arguments]",a="[object AsyncFunction]",l="[object Function]",c="[object GeneratorFunction]",u="[object Null]",d="[object Object]",p="[object Proxy]",f="[object Undefined]",h=/^\[object .+?Constructor\]$/,m=/^(?:0|[1-9]\d*)$/,g={};g["[object Float32Array]"]=g["[object Float64Array]"]=g["[object Int8Array]"]=g["[object Int16Array]"]=g["[object Int32Array]"]=g["[object Uint8Array]"]=g["[object Uint8ClampedArray]"]=g["[object Uint16Array]"]=g["[object Uint32Array]"]=!0,g[i]=g["[object Array]"]=g["[object ArrayBuffer]"]=g["[object Boolean]"]=g["[object DataView]"]=g["[object Date]"]=g["[object Error]"]=g[l]=g["[object Map]"]=g["[object Number]"]=g[d]=g["[object RegExp]"]=g["[object Set]"]=g["[object String]"]=g["[object WeakMap]"]=!1;var b="object"==s(e)&&e&&e.Object===Object&&e,v="object"==("undefined"==typeof self?"undefined":s(self))&&self&&self.Object===Object&&self,y=b||v||Function("return this")(),k="object"==s(r)&&r&&!r.nodeType&&r,_=k&&"object"==s(t)&&t&&!t.nodeType&&t,w=_&&_.exports===k,C=w&&b.process,S=function(){try{return _&&_.require&&_.require("util").types||C&&C.binding&&C.binding("util")}catch(e){}}(),P=S&&S.isTypedArray,E=Array.prototype,x=Function.prototype,O=Object.prototype,T=y["__core-js_shared__"],M=x.toString,A=O.hasOwnProperty,j=function(){var e=/[^.]+$/.exec(T&&T.keys&&T.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),I=O.toString,N=M.call(Object),R=RegExp("^"+M.call(A).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),D=w?y.Buffer:void 0,L=y.Symbol,B=y.Uint8Array,F=(D&&D.allocUnsafe,function(e,t){return function(n){return e(t(n))}}(Object.getPrototypeOf,Object)),U=Object.create,q=O.propertyIsEnumerable,z=E.splice,H=L?L.toStringTag:void 0,V=function(){try{var e=ue(Object,"defineProperty");return e({},"",{}),e}catch(e){}}(),W=D?D.isBuffer:void 0,G=Math.max,Y=Date.now,K=ue(y,"Map"),$=ue(Object,"create"),Q=function(){function e(){}return function(t){if(!we(t))return{};if(U)return U(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();function J(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function X(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Z(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function ee(e){var t=this.__data__=new X(e);this.size=t.size}function te(e,t,n){(void 0===n||me(e[t],n))&&(void 0!==n||t in e)||oe(e,t,n)}function ne(e,t,n){var r=e[t];A.call(e,t)&&me(r,n)&&(void 0!==n||t in e)||oe(e,t,n)}function re(e,t){for(var n=e.length;n--;)if(me(e[n][0],t))return n;return-1}function oe(e,t,n){"__proto__"==t&&V?V(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}J.prototype.clear=function(){this.__data__=$?$(null):{},this.size=0},J.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},J.prototype.get=function(e){var t=this.__data__;if($){var r=t[e];return r===n?void 0:r}return A.call(t,e)?t[e]:void 0},J.prototype.has=function(e){var t=this.__data__;return $?void 0!==t[e]:A.call(t,e)},J.prototype.set=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=$&&void 0===t?n:t,this},X.prototype.clear=function(){this.__data__=[],this.size=0},X.prototype.delete=function(e){var t=this.__data__,n=re(t,e);return!(n<0||(n==t.length-1?t.pop():z.call(t,n,1),--this.size,0))},X.prototype.get=function(e){var t=this.__data__,n=re(t,e);return n<0?void 0:t[n][1]},X.prototype.has=function(e){return re(this.__data__,e)>-1},X.prototype.set=function(e,t){var n=this.__data__,r=re(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},Z.prototype.clear=function(){this.size=0,this.__data__={hash:new J,map:new(K||X),string:new J}},Z.prototype.delete=function(e){var t=ce(this,e).delete(e);return this.size-=t?1:0,t},Z.prototype.get=function(e){return ce(this,e).get(e)},Z.prototype.has=function(e){return ce(this,e).has(e)},Z.prototype.set=function(e,t){var n=ce(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},ee.prototype.clear=function(){this.__data__=new X,this.size=0},ee.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},ee.prototype.get=function(e){return this.__data__.get(e)},ee.prototype.has=function(e){return this.__data__.has(e)},ee.prototype.set=function(e,t){var n=this.__data__;if(n instanceof X){var r=n.__data__;if(!K||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Z(r)}return n.set(e,t),this.size=n.size,this};var ie=function(e,t,n){for(var r=-1,o=Object(e),i=n(e),a=i.length;a--;){var s=i[++r];if(!1===t(o[s],s,o))break}return e};function ae(e){return null==e?void 0===e?f:u:H&&H in Object(e)?function(e){var t=A.call(e,H),n=e[H];try{e[H]=void 0;var r=!0}catch(e){}var o=I.call(e);return r&&(t?e[H]=n:delete e[H]),o}(e):function(e){return I.call(e)}(e)}function se(e){return Ce(e)&&ae(e)==i}function le(e,t,n,r,o){e!==t&&ie(t,function(i,a){if(o||(o=new ee),we(i))!function(e,t,n,r,o,i,a){var s=fe(e,n),l=fe(t,n),c=a.get(l);if(c)te(e,n,c);else{var u=i?i(s,l,n+"",e,t,a):void 0,p=void 0===u;if(p){var f=be(l),h=!f&&ye(l),m=!f&&!h&&Se(l);u=l,f||h||m?be(s)?u=s:function(e){return Ce(e)&&ve(e)}(s)?u=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}(s):h?(p=!1,u=function(e,t){return e.slice()}(l)):m?(p=!1,u=function(e,t){var n=function(e){var t=new e.constructor(e.byteLength);return new B(t).set(new B(e)),t}(e.buffer);return new e.constructor(n,e.byteOffset,e.length)}(l)):u=[]:function(e){if(!Ce(e)||ae(e)!=d)return!1;var t=F(e);if(null===t)return!0;var n=A.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&M.call(n)==N}(l)||ge(l)?(u=s,ge(s)?u=function(e,t,n,r){var o=!n;n||(n={});for(var i=-1,a=t.length;++i<a;){var s=t[i],l=void 0;void 0===l&&(l=e[s]),o?oe(n,s,l):ne(n,s,l)}return n}(s,Pe(s)):we(s)&&!ke(s)||(u=function(e){return"function"!=typeof e.constructor||pe(e)?{}:Q(F(e))}(l))):p=!1}p&&(a.set(l,u),o(u,l,r,i,a),a.delete(l)),te(e,n,u)}}(e,t,a,n,le,r,o);else{var s=r?r(fe(e,a),i,a+"",e,t,o):void 0;void 0===s&&(s=i),te(e,a,s)}},Pe)}function ce(e,t){var n=e.__data__;return function(e){var t=s(e);return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?n["string"==typeof t?"string":"hash"]:n.map}function ue(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return function(e){return!(!we(e)||function(e){return!!j&&j in e}(e))&&(ke(e)?R:h).test(function(e){if(null!=e){try{return M.call(e)}catch(e){}try{return e+""}catch(e){}}return""}(e))}(n)?n:void 0}function de(e,t){var n=s(e);return!!(t=null==t?o:t)&&("number"==n||"symbol"!=n&&m.test(e))&&e>-1&&e%1==0&&e<t}function pe(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||O)}function fe(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var he=function(e){var t=0,n=0;return function(){var r=Y(),o=16-(r-n);if(n=r,o>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}(V?function(e,t){return V(e,"toString",{configurable:!0,enumerable:!1,value:function(e){return function(){return e}}(t),writable:!0})}:xe);function me(e,t){return e===t||e!=e&&t!=t}var ge=se(function(){return arguments}())?se:function(e){return Ce(e)&&A.call(e,"callee")&&!q.call(e,"callee")},be=Array.isArray;function ve(e){return null!=e&&_e(e.length)&&!ke(e)}var ye=W||function(){return!1};function ke(e){if(!we(e))return!1;var t=ae(e);return t==l||t==c||t==a||t==p}function _e(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=o}function we(e){var t=s(e);return null!=e&&("object"==t||"function"==t)}function Ce(e){return null!=e&&"object"==s(e)}var Se=P?function(e){return function(t){return e(t)}}(P):function(e){return Ce(e)&&_e(e.length)&&!!g[ae(e)]};function Pe(e){return ve(e)?function(e,t){var n=be(e),r=!n&&ge(e),o=!n&&!r&&ye(e),i=!n&&!r&&!o&&Se(e),a=n||r||o||i,s=a?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],l=s.length;for(var c in e)!t&&!A.call(e,c)||a&&("length"==c||o&&("offset"==c||"parent"==c)||i&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||de(c,l))||s.push(c);return s}(e,!0):function(e){if(!we(e))return function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}(e);var t=pe(e),n=[];for(var r in e)("constructor"!=r||!t&&A.call(e,r))&&n.push(r);return n}(e)}var Ee=function(e){return function(e,t){return he(function(e,t,n){return t=G(void 0===t?e.length-1:t,0),function(){for(var r=arguments,o=-1,i=G(r.length-t,0),a=Array(i);++o<i;)a[o]=r[t+o];o=-1;for(var s=Array(t+1);++o<t;)s[o]=r[o];return s[t]=n(a),function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}(e,this,s)}}(e,t,xe),e+"")}(function(t,n){var r=-1,o=n.length,i=o>1?n[o-1]:void 0,a=o>2?n[2]:void 0;for(i=e.length>3&&"function"==typeof i?(o--,i):void 0,a&&function(e,t,n){if(!we(n))return!1;var r=s(t);return!!("number"==r?ve(n)&&de(t,n.length):"string"==r&&t in n)&&me(n[t],e)}(n[0],n[1],a)&&(i=o<3?void 0:i,o=1),t=Object(t);++r<o;){var l=n[r];l&&e(t,l,r,i)}return t})}(function(e,t,n,r){le(e,t,n,r)});function xe(e){return e}t.exports=Ee}).call(this,void 0!==n?n:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],38:[function(e,t,n){(function(e){function t(e,t){for(var n=0,r=e.length-1;r>=0;r--){var o=e[r];"."===o?e.splice(r,1):".."===o?(e.splice(r,1),n++):n&&(e.splice(r,1),n--)}if(t)for(;n--;n)e.unshift("..");return e}function r(e,t){if(e.filter)return e.filter(t);for(var n=[],r=0;r<e.length;r++)t(e[r],r,e)&&n.push(e[r]);return n}n.resolve=function(){for(var n="",o=!1,i=arguments.length-1;i>=-1&&!o;i--){var a=i>=0?arguments[i]:e.cwd();if("string"!=typeof a)throw new TypeError("Arguments to path.resolve must be strings");a&&(n=a+"/"+n,o="/"===a.charAt(0))}return n=t(r(n.split("/"),function(e){return!!e}),!o).join("/"),(o?"/":"")+n||"."},n.normalize=function(e){var i=n.isAbsolute(e),a="/"===o(e,-1);return(e=t(r(e.split("/"),function(e){return!!e}),!i).join("/"))||i||(e="."),e&&a&&(e+="/"),(i?"/":"")+e},n.isAbsolute=function(e){return"/"===e.charAt(0)},n.join=function(){var e=Array.prototype.slice.call(arguments,0);return n.normalize(r(e,function(e,t){if("string"!=typeof e)throw new TypeError("Arguments to path.join must be strings");return e}).join("/"))},n.relative=function(e,t){function r(e){for(var t=0;t<e.length&&""===e[t];t++);for(var n=e.length-1;n>=0&&""===e[n];n--);return t>n?[]:e.slice(t,n-t+1)}e=n.resolve(e).substr(1),t=n.resolve(t).substr(1);for(var o=r(e.split("/")),i=r(t.split("/")),a=Math.min(o.length,i.length),s=a,l=0;l<a;l++)if(o[l]!==i[l]){s=l;break}var c=[];for(l=s;l<o.length;l++)c.push("..");return(c=c.concat(i.slice(s))).join("/")},n.sep="/",n.delimiter=":",n.dirname=function(e){if("string"!=typeof e&&(e+=""),0===e.length)return".";for(var t=e.charCodeAt(0),n=47===t,r=-1,o=!0,i=e.length-1;i>=1;--i)if(47===(t=e.charCodeAt(i))){if(!o){r=i;break}}else o=!1;return-1===r?n?"/":".":n&&1===r?"/":e.slice(0,r)},n.basename=function(e,t){var n=function(e){"string"!=typeof e&&(e+="");var t,n=0,r=-1,o=!0;for(t=e.length-1;t>=0;--t)if(47===e.charCodeAt(t)){if(!o){n=t+1;break}}else-1===r&&(o=!1,r=t+1);return-1===r?"":e.slice(n,r)}(e);return t&&n.substr(-1*t.length)===t&&(n=n.substr(0,n.length-t.length)),n},n.extname=function(e){"string"!=typeof e&&(e+="");for(var t=-1,n=0,r=-1,o=!0,i=0,a=e.length-1;a>=0;--a){var s=e.charCodeAt(a);if(47!==s)-1===r&&(o=!1,r=a+1),46===s?-1===t?t=a:1!==i&&(i=1):-1!==t&&(i=-1);else if(!o){n=a+1;break}}return-1===t||-1===r||0===i||1===i&&t===r-1&&t===n+1?"":e.slice(t,r)};var o="b"==="ab".substr(-1)?function(e,t,n){return e.substr(t,n)}:function(e,t,n){return t<0&&(t=e.length+t),e.substr(t,n)}}).call(this,e("_process"))},{_process:63}],39:[function(e,t,n){n.__esModule=!0,n.default=void 0;var r=function(e){function t(t){var n;return(n=e.call(this,t)||this).type="atrule",n}!function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}(t,e);var n=t.prototype;return n.append=function(){var t;this.nodes||(this.nodes=[]);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.prototype.append).call.apply(t,[this].concat(r))},n.prepend=function(){var t;this.nodes||(this.nodes=[]);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.prototype.prepend).call.apply(t,[this].concat(r))},t}(function(e){return e&&e.__esModule?e:{default:e}}(e("./container")).default);n.default=r,t.exports=n.default},{"./container":41}],40:[function(e,t,n){n.__esModule=!0,n.default=void 0;var r=function(e){function t(t){var n;return(n=e.call(this,t)||this).type="comment",n}return function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}(t,e),t}(function(e){return e&&e.__esModule?e:{default:e}}(e("./node")).default);n.default=r,t.exports=n.default},{"./node":48}],41:[function(e,t,n){n.__esModule=!0,n.default=void 0;var r=i(e("./declaration")),o=i(e("./comment"));function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var s=function(t){function n(){return t.apply(this,arguments)||this}!function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}(n,t);var i=n.prototype;return i.push=function(e){return e.parent=this,this.nodes.push(e),this},i.each=function(e){this.lastEach||(this.lastEach=0),this.indexes||(this.indexes={}),this.lastEach+=1;var t=this.lastEach;if(this.indexes[t]=0,this.nodes){for(var n,r;this.indexes[t]<this.nodes.length&&(n=this.indexes[t],!1!==(r=e(this.nodes[n],n)));)this.indexes[t]+=1;return delete this.indexes[t],r}},i.walk=function(e){return this.each(function(t,n){var r;try{r=e(t,n)}catch(e){if(e.postcssNode=t,e.stack&&t.source&&/\n\s{4}at /.test(e.stack)){var o=t.source;e.stack=e.stack.replace(/\n\s{4}at /,"$&"+o.input.from+":"+o.start.line+":"+o.start.column+"$&")}throw e}return!1!==r&&t.walk&&(r=t.walk(e)),r})},i.walkDecls=function(e,t){return t?e instanceof RegExp?this.walk(function(n,r){if("decl"===n.type&&e.test(n.prop))return t(n,r)}):this.walk(function(n,r){if("decl"===n.type&&n.prop===e)return t(n,r)}):(t=e,this.walk(function(e,n){if("decl"===e.type)return t(e,n)}))},i.walkRules=function(e,t){return t?e instanceof RegExp?this.walk(function(n,r){if("rule"===n.type&&e.test(n.selector))return t(n,r)}):this.walk(function(n,r){if("rule"===n.type&&n.selector===e)return t(n,r)}):(t=e,this.walk(function(e,n){if("rule"===e.type)return t(e,n)}))},i.walkAtRules=function(e,t){return t?e instanceof RegExp?this.walk(function(n,r){if("atrule"===n.type&&e.test(n.name))return t(n,r)}):this.walk(function(n,r){if("atrule"===n.type&&n.name===e)return t(n,r)}):(t=e,this.walk(function(e,n){if("atrule"===e.type)return t(e,n)}))},i.walkComments=function(e){return this.walk(function(t,n){if("comment"===t.type)return e(t,n)})},i.append=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(var r=0,o=t;r<o.length;r++){var i=o[r],a=this.normalize(i,this.last),s=Array.isArray(a),l=0;for(a=s?a:a[Symbol.iterator]();;){var c;if(s){if(l>=a.length)break;c=a[l++]}else{if((l=a.next()).done)break;c=l.value}var u=c;this.nodes.push(u)}}return this},i.prepend=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t=t.reverse(),o=Array.isArray(r),i=0;for(r=o?r:r[Symbol.iterator]();;){var a;if(o){if(i>=r.length)break;a=r[i++]}else{if((i=r.next()).done)break;a=i.value}var s=a,l=this.normalize(s,this.first,"prepend").reverse(),c=l,u=Array.isArray(c),d=0;for(c=u?c:c[Symbol.iterator]();;){var p;if(u){if(d>=c.length)break;p=c[d++]}else{if((d=c.next()).done)break;p=d.value}var f=p;this.nodes.unshift(f)}for(var h in this.indexes)this.indexes[h]=this.indexes[h]+l.length}return this},i.cleanRaws=function(e){if(t.prototype.cleanRaws.call(this,e),this.nodes){var n=this.nodes,r=Array.isArray(n),o=0;for(n=r?n:n[Symbol.iterator]();;){var i;if(r){if(o>=n.length)break;i=n[o++]}else{if((o=n.next()).done)break;i=o.value}i.cleanRaws(e)}}},i.insertBefore=function(e,t){var n,r=0===(e=this.index(e))&&"prepend",o=this.normalize(t,this.nodes[e],r).reverse(),i=o,a=Array.isArray(i),s=0;for(i=a?i:i[Symbol.iterator]();;){var l;if(a){if(s>=i.length)break;l=i[s++]}else{if((s=i.next()).done)break;l=s.value}var c=l;this.nodes.splice(e,0,c)}for(var u in this.indexes)e<=(n=this.indexes[u])&&(this.indexes[u]=n+o.length);return this},i.insertAfter=function(e,t){e=this.index(e);var n,r=this.normalize(t,this.nodes[e]).reverse(),o=r,i=Array.isArray(o),a=0;for(o=i?o:o[Symbol.iterator]();;){var s;if(i){if(a>=o.length)break;s=o[a++]}else{if((a=o.next()).done)break;s=a.value}var l=s;this.nodes.splice(e+1,0,l)}for(var c in this.indexes)e<(n=this.indexes[c])&&(this.indexes[c]=n+r.length);return this},i.removeChild=function(e){var t;for(var n in e=this.index(e),this.nodes[e].parent=void 0,this.nodes.splice(e,1),this.indexes)(t=this.indexes[n])>=e&&(this.indexes[n]=t-1);return this},i.removeAll=function(){var e=this.nodes,t=Array.isArray(e),n=0;for(e=t?e:e[Symbol.iterator]();;){var r;if(t){if(n>=e.length)break;r=e[n++]}else{if((n=e.next()).done)break;r=n.value}r.parent=void 0}return this.nodes=[],this},i.replaceValues=function(e,t,n){return n||(n=t,t={}),this.walkDecls(function(r){t.props&&-1===t.props.indexOf(r.prop)||t.fast&&-1===r.value.indexOf(t.fast)||(r.value=r.value.replace(e,n))}),this},i.every=function(e){return this.nodes.every(e)},i.some=function(e){return this.nodes.some(e)},i.index=function(e){return"number"==typeof e?e:this.nodes.indexOf(e)},i.normalize=function(t,n){var i=this;if("string"==typeof t)t=function e(t){return t.map(function(t){return t.nodes&&(t.nodes=e(t.nodes)),delete t.source,t})}(e("./parse")(t).nodes);else if(Array.isArray(t)){var a=t=t.slice(0),s=Array.isArray(a),l=0;for(a=s?a:a[Symbol.iterator]();;){var c;if(s){if(l>=a.length)break;c=a[l++]}else{if((l=a.next()).done)break;c=l.value}var u=c;u.parent&&u.parent.removeChild(u,"ignore")}}else if("root"===t.type){var d=t=t.nodes.slice(0),p=Array.isArray(d),f=0;for(d=p?d:d[Symbol.iterator]();;){var h;if(p){if(f>=d.length)break;h=d[f++]}else{if((f=d.next()).done)break;h=f.value}var m=h;m.parent&&m.parent.removeChild(m,"ignore")}}else if(t.type)t=[t];else if(t.prop){if(void 0===t.value)throw new Error("Value field is missed in node creation");"string"!=typeof t.value&&(t.value=String(t.value)),t=[new r.default(t)]}else if(t.selector)t=[new(e("./rule"))(t)];else if(t.name)t=[new(e("./at-rule"))(t)];else{if(!t.text)throw new Error("Unknown node type in node creation");t=[new o.default(t)]}return t.map(function(e){return e.parent&&e.parent.removeChild(e),void 0===e.raws.before&&n&&void 0!==n.raws.before&&(e.raws.before=n.raws.before.replace(/[^\s]/g,"")),e.parent=i,e})},function(e,t,n){t&&a(e.prototype,t)}(n,[{key:"first",get:function(){if(this.nodes)return this.nodes[0]}},{key:"last",get:function(){if(this.nodes)return this.nodes[this.nodes.length-1]}}]),n}(i(e("./node")).default);n.default=s,t.exports=n.default},{"./at-rule":39,"./comment":40,"./declaration":43,"./node":48,"./parse":49,"./rule":56}],42:[function(e,t,n){n.__esModule=!0,n.default=void 0;var r=a(e("supports-color")),o=a(e("chalk")),i=a(e("./terminal-highlight"));function a(e){return e&&e.__esModule?e:{default:e}}function s(e){var t="function"==typeof Map?new Map:void 0;return(s=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return function(e,t,n){return(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var o=new(Function.bind.apply(e,r));return n&&l(o,n.prototype),o}).apply(null,arguments)}(e,arguments,function(e){return(Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),l(n,e)})(e)}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var c=function(e){function t(n,r,o,i,a,s){var l;return(l=e.call(this,n)||this).name="CssSyntaxError",l.reason=n,a&&(l.file=a),i&&(l.source=i),s&&(l.plugin=s),void 0!==r&&void 0!==o&&(l.line=r,l.column=o),l.setMessage(),Error.captureStackTrace&&Error.captureStackTrace(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(l),t),l}!function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}(t,e);var n=t.prototype;return n.setMessage=function(){this.message=this.plugin?this.plugin+": ":"",this.message+=this.file?this.file:"<css input>",void 0!==this.line&&(this.message+=":"+this.line+":"+this.column),this.message+=": "+this.reason},n.showSourceCode=function(e){var t=this;if(!this.source)return"";var n=this.source;i.default&&(void 0===e&&(e=r.default.stdout),e&&(n=(0,i.default)(n)));var a=n.split(/\r?\n/),s=Math.max(this.line-3,0),l=Math.min(this.line+2,a.length),c=String(l).length;function u(t){return e&&o.default.red?o.default.red.bold(t):t}function d(t){return e&&o.default.gray?o.default.gray(t):t}return a.slice(s,l).map(function(e,n){var r=s+1+n,o=" "+(" "+r).slice(-c)+" | ";if(r===t.line){var i=d(o.replace(/\d/g," "))+e.slice(0,t.column-1).replace(/[^\t]/g," ");return u(">")+d(o)+e+"\n "+i+u("^")}return" "+d(o)+e}).join("\n")},n.toString=function(){var e=this.showSourceCode();return e&&(e="\n\n"+e+"\n"),this.name+": "+this.message+e},t}(s(Error));n.default=c,t.exports=n.default},{"./terminal-highlight":2,chalk:2,"supports-color":2}],43:[function(e,t,n){n.__esModule=!0,n.default=void 0;var r=function(e){function t(t){var n;return(n=e.call(this,t)||this).type="decl",n}return function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}(t,e),t}(function(e){return e&&e.__esModule?e:{default:e}}(e("./node")).default);n.default=r,t.exports=n.default},{"./node":48}],44:[function(e,t,n){n.__esModule=!0,n.default=void 0;var r=a(e("path")),o=a(e("./css-syntax-error")),i=a(e("./previous-map"));function a(e){return e&&e.__esModule?e:{default:e}}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var c=0,u=function(){function e(e,t){if(void 0===t&&(t={}),null===e||"object"===s(e)&&!e.toString)throw new Error("PostCSS received "+e+" instead of CSS string");this.css=e.toString(),"\ufeff"===this.css[0]||"\ufffe"===this.css[0]?(this.hasBOM=!0,this.css=this.css.slice(1)):this.hasBOM=!1,t.from&&(/^\w+:\/\//.test(t.from)||r.default.isAbsolute(t.from)?this.file=t.from:this.file=r.default.resolve(t.from));var n=new i.default(this.css,t);if(n.text){this.map=n;var o=n.consumer().file;!this.file&&o&&(this.file=this.mapResolve(o))}this.file||(c+=1,this.id="<input css "+c+">"),this.map&&(this.map.file=this.from)}var t=e.prototype;return t.error=function(e,t,n,r){var i;void 0===r&&(r={});var a=this.origin(t,n);return(i=a?new o.default(e,a.line,a.column,a.source,a.file,r.plugin):new o.default(e,t,n,this.css,this.file,r.plugin)).input={line:t,column:n,source:this.css},this.file&&(i.input.file=this.file),i},t.origin=function(e,t){if(!this.map)return!1;var n=this.map.consumer(),r=n.originalPositionFor({line:e,column:t});if(!r.source)return!1;var o={file:this.mapResolve(r.source),line:r.line,column:r.column},i=n.sourceContentFor(r.source);return i&&(o.source=i),o},t.mapResolve=function(e){return/^\w+:\/\//.test(e)?e:r.default.resolve(this.map.consumer().sourceRoot||".",e)},function(e,t,n){t&&l(e.prototype,t)}(e,[{key:"from",get:function(){return this.file||this.id}}]),e}();n.default=u,t.exports=n.default},{"./css-syntax-error":42,"./previous-map":52,path:38}],45:[function(e,t,n){(function(r){n.__esModule=!0,n.default=void 0;var o=u(e("./map-generator")),i=u(e("./stringify")),a=u(e("./warn-once")),l=u(e("./result")),c=u(e("./parse"));function u(e){return e&&e.__esModule?e:{default:e}}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e){return"object"===s(e)&&"function"==typeof e.then}var f=function(){function e(t,n,r){var o;if(this.stringified=!1,this.processed=!1,"object"===s(n)&&null!==n&&"root"===n.type)o=n;else if(n instanceof e||n instanceof l.default)o=n.root,n.map&&(void 0===r.map&&(r.map={}),r.map.inline||(r.map.inline=!1),r.map.prev=n.map);else{var i=c.default;r.syntax&&(i=r.syntax.parse),r.parser&&(i=r.parser),i.parse&&(i=i.parse);try{o=i(n,r)}catch(e){this.error=e}}this.result=new l.default(t,o,r)}var t=e.prototype;return t.warnings=function(){return this.sync().warnings()},t.toString=function(){return this.css},t.then=function(e,t){return"production"!==r.env.NODE_ENV&&("from"in this.opts||(0,a.default)("Without `from` option PostCSS could generate wrong source map and will not find Browserslist config. Set it to CSS file path or to `undefined` to prevent this warning.")),this.async().then(e,t)},t.catch=function(e){return this.async().catch(e)},t.finally=function(e){return this.async().then(e,e)},t.handleError=function(e,t){try{if(this.error=e,"CssSyntaxError"!==e.name||e.plugin){if(t.postcssVersion&&"production"!==r.env.NODE_ENV){var n=t.postcssPlugin,o=t.postcssVersion,i=this.result.processor.version,a=o.split("."),s=i.split(".");(a[0]!==s[0]||parseInt(a[1])>parseInt(s[1]))&&console.error("Unknown error from PostCSS plugin. Your current PostCSS version is "+i+", but "+n+" uses "+o+". Perhaps this is the source of the error below.")}}else e.plugin=t.postcssPlugin,e.setMessage()}catch(e){console&&console.error&&console.error(e)}},t.asyncTick=function(e,t){var n=this;if(this.plugin>=this.processor.plugins.length)return this.processed=!0,e();try{var r=this.processor.plugins[this.plugin],o=this.run(r);this.plugin+=1,p(o)?o.then(function(){n.asyncTick(e,t)}).catch(function(e){n.handleError(e,r),n.processed=!0,t(e)}):this.asyncTick(e,t)}catch(e){this.processed=!0,t(e)}},t.async=function(){var e=this;return this.processed?new Promise(function(t,n){e.error?n(e.error):t(e.stringify())}):this.processing?this.processing:(this.processing=new Promise(function(t,n){if(e.error)return n(e.error);e.plugin=0,e.asyncTick(t,n)}).then(function(){return e.processed=!0,e.stringify()}),this.processing)},t.sync=function(){if(this.processed)return this.result;if(this.processed=!0,this.processing)throw new Error("Use process(css).then(cb) to work with async plugins");if(this.error)throw this.error;var e=this.result.processor.plugins,t=Array.isArray(e),n=0;for(e=t?e:e[Symbol.iterator]();;){var r;if(t){if(n>=e.length)break;r=e[n++]}else{if((n=e.next()).done)break;r=n.value}var o=r;if(p(this.run(o)))throw new Error("Use process(css).then(cb) to work with async plugins")}return this.result},t.run=function(e){this.result.lastPlugin=e;try{return e(this.result.root,this.result)}catch(t){throw this.handleError(t,e),t}},t.stringify=function(){if(this.stringified)return this.result;this.stringified=!0,this.sync();var e=this.result.opts,t=i.default;e.syntax&&(t=e.syntax.stringify),e.stringifier&&(t=e.stringifier),t.stringify&&(t=t.stringify);var n=new o.default(t,this.result.root,this.result.opts).generate();return this.result.css=n[0],this.result.map=n[1],this.result},function(e,t,n){t&&d(e.prototype,t)}(e,[{key:"processor",get:function(){return this.result.processor}},{key:"opts",get:function(){return this.result.opts}},{key:"css",get:function(){return this.stringify().css}},{key:"content",get:function(){return this.stringify().content}},{key:"map",get:function(){return this.stringify().map}},{key:"root",get:function(){return this.sync().root}},{key:"messages",get:function(){return this.sync().messages}}]),e}();n.default=f,t.exports=n.default}).call(this,e("_process"))},{"./map-generator":47,"./parse":49,"./result":54,"./stringify":58,"./warn-once":61,_process:63}],46:[function(e,t,n){n.__esModule=!0,n.default=void 0;var r={split:function(e,t,n){for(var r=[],o="",i=!1,a=0,s=!1,l=!1,c=0;c<e.length;c++){var u=e[c];s?l?l=!1:"\\"===u?l=!0:u===s&&(s=!1):'"'===u||"'"===u?s=u:"("===u?a+=1:")"===u?a>0&&(a-=1):0===a&&-1!==t.indexOf(u)&&(i=!0),i?(""!==o&&r.push(o.trim()),o="",i=!1):o+=u}return(n||""!==o)&&r.push(o.trim()),r},space:function(e){return r.split(e,[" ","\n","\t"])},comma:function(e){return r.split(e,[","],!0)}},o=r;n.default=o,t.exports=n.default},{}],47:[function(e,t,n){(function(r){n.__esModule=!0,n.default=void 0;var o=a(e("source-map")),i=a(e("path"));function a(e){return e&&e.__esModule?e:{default:e}}var s=function(){function e(e,t,n){this.stringify=e,this.mapOpts=n.map||{},this.root=t,this.opts=n}var t=e.prototype;return t.isMap=function(){return void 0!==this.opts.map?!!this.opts.map:this.previous().length>0},t.previous=function(){var e=this;return this.previousMaps||(this.previousMaps=[],this.root.walk(function(t){if(t.source&&t.source.input.map){var n=t.source.input.map;-1===e.previousMaps.indexOf(n)&&e.previousMaps.push(n)}})),this.previousMaps},t.isInline=function(){if(void 0!==this.mapOpts.inline)return this.mapOpts.inline;var e=this.mapOpts.annotation;return(void 0===e||!0===e)&&(!this.previous().length||this.previous().some(function(e){return e.inline}))},t.isSourcesContent=function(){return void 0!==this.mapOpts.sourcesContent?this.mapOpts.sourcesContent:!this.previous().length||this.previous().some(function(e){return e.withContent()})},t.clearAnnotation=function(){if(!1!==this.mapOpts.annotation)for(var e,t=this.root.nodes.length-1;t>=0;t--)"comment"===(e=this.root.nodes[t]).type&&0===e.text.indexOf("# sourceMappingURL=")&&this.root.removeChild(t)},t.setSourcesContent=function(){var e=this,t={};this.root.walk(function(n){if(n.source){var r=n.source.input.from;if(r&&!t[r]){t[r]=!0;var o=e.relative(r);e.map.setSourceContent(o,n.source.input.css)}}})},t.applyPrevMaps=function(){var e=this.previous(),t=Array.isArray(e),n=0;for(e=t?e:e[Symbol.iterator]();;){var r;if(t){if(n>=e.length)break;r=e[n++]}else{if((n=e.next()).done)break;r=n.value}var a=r,s=this.relative(a.file),l=a.root||i.default.dirname(a.file),c=void 0;!1===this.mapOpts.sourcesContent?(c=new o.default.SourceMapConsumer(a.text)).sourcesContent&&(c.sourcesContent=c.sourcesContent.map(function(){return null})):c=a.consumer(),this.map.applySourceMap(c,s,this.relative(l))}},t.isAnnotation=function(){return!!this.isInline()||(void 0!==this.mapOpts.annotation?this.mapOpts.annotation:!this.previous().length||this.previous().some(function(e){return e.annotation}))},t.toBase64=function(e){return r?r.from(e).toString("base64"):window.btoa(unescape(encodeURIComponent(e)))},t.addAnnotation=function(){var e;e=this.isInline()?"data:application/json;base64,"+this.toBase64(this.map.toString()):"string"==typeof this.mapOpts.annotation?this.mapOpts.annotation:this.outputFile()+".map";var t="\n";-1!==this.css.indexOf("\r\n")&&(t="\r\n"),this.css+=t+"/*# sourceMappingURL="+e+" */"},t.outputFile=function(){return this.opts.to?this.relative(this.opts.to):this.opts.from?this.relative(this.opts.from):"to.css"},t.generateMap=function(){return this.generateString(),this.isSourcesContent()&&this.setSourcesContent(),this.previous().length>0&&this.applyPrevMaps(),this.isAnnotation()&&this.addAnnotation(),this.isInline()?[this.css]:[this.css,this.map]},t.relative=function(e){if(0===e.indexOf("<"))return e;if(/^\w+:\/\//.test(e))return e;var t=this.opts.to?i.default.dirname(this.opts.to):".";return"string"==typeof this.mapOpts.annotation&&(t=i.default.dirname(i.default.resolve(t,this.mapOpts.annotation))),e=i.default.relative(t,e),"\\"===i.default.sep?e.replace(/\\/g,"/"):e},t.sourcePath=function(e){return this.mapOpts.from?this.mapOpts.from:this.relative(e.source.input.from)},t.generateString=function(){var e=this;this.css="",this.map=new o.default.SourceMapGenerator({file:this.outputFile()});var t,n,r=1,i=1;this.stringify(this.root,function(o,a,s){if(e.css+=o,a&&"end"!==s&&(a.source&&a.source.start?e.map.addMapping({source:e.sourcePath(a),generated:{line:r,column:i-1},original:{line:a.source.start.line,column:a.source.start.column-1}}):e.map.addMapping({source:"<no source>",original:{line:1,column:0},generated:{line:r,column:i-1}})),(t=o.match(/\n/g))?(r+=t.length,n=o.lastIndexOf("\n"),i=o.length-n):i+=o.length,a&&"start"!==s){var l=a.parent||{raws:{}};("decl"!==a.type||a!==l.last||l.raws.semicolon)&&(a.source&&a.source.end?e.map.addMapping({source:e.sourcePath(a),generated:{line:r,column:i-2},original:{line:a.source.end.line,column:a.source.end.column-1}}):e.map.addMapping({source:"<no source>",original:{line:1,column:0},generated:{line:r,column:i-1}}))}})},t.generate=function(){if(this.clearAnnotation(),this.isMap())return this.generateMap();var e="";return this.stringify(this.root,function(t){e+=t}),[e]},e}();n.default=s,t.exports=n.default}).call(this,e("buffer").Buffer)},{buffer:3,path:38,"source-map":78}],48:[function(e,t,n){(function(r){n.__esModule=!0,n.default=void 0;var o=l(e("./css-syntax-error")),i=l(e("./stringifier")),a=l(e("./stringify"));function l(e){return e&&e.__esModule?e:{default:e}}var c=function(){function e(e){if(void 0===e&&(e={}),this.raws={},"production"!==r.env.NODE_ENV&&"object"!==s(e)&&void 0!==e)throw new Error("PostCSS nodes constructor accepts object, not "+JSON.stringify(e));for(var t in e)this[t]=e[t]}var t=e.prototype;return t.error=function(e,t){if(void 0===t&&(t={}),this.source){var n=this.positionBy(t);return this.source.input.error(e,n.line,n.column,t)}return new o.default(e)},t.warn=function(e,t,n){var r={node:this};for(var o in n)r[o]=n[o];return e.warn(t,r)},t.remove=function(){return this.parent&&this.parent.removeChild(this),this.parent=void 0,this},t.toString=function(e){void 0===e&&(e=a.default),e.stringify&&(e=e.stringify);var t="";return e(this,function(e){t+=e}),t},t.clone=function(e){void 0===e&&(e={});var t=function e(t,n){var r=new t.constructor;for(var o in t)if(t.hasOwnProperty(o)){var i=t[o],a=s(i);"parent"===o&&"object"===a?n&&(r[o]=n):"source"===o?r[o]=i:i instanceof Array?r[o]=i.map(function(t){return e(t,r)}):("object"===a&&null!==i&&(i=e(i)),r[o]=i)}return r}(this);for(var n in e)t[n]=e[n];return t},t.cloneBefore=function(e){void 0===e&&(e={});var t=this.clone(e);return this.parent.insertBefore(this,t),t},t.cloneAfter=function(e){void 0===e&&(e={});var t=this.clone(e);return this.parent.insertAfter(this,t),t},t.replaceWith=function(){if(this.parent){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(var r=0,o=t;r<o.length;r++){var i=o[r];this.parent.insertBefore(this,i)}this.remove()}return this},t.next=function(){if(this.parent){var e=this.parent.index(this);return this.parent.nodes[e+1]}},t.prev=function(){if(this.parent){var e=this.parent.index(this);return this.parent.nodes[e-1]}},t.before=function(e){return this.parent.insertBefore(this,e),this},t.after=function(e){return this.parent.insertAfter(this,e),this},t.toJSON=function(){var e={};for(var t in this)if(this.hasOwnProperty(t)&&"parent"!==t){var n=this[t];n instanceof Array?e[t]=n.map(function(e){return"object"===s(e)&&e.toJSON?e.toJSON():e}):"object"===s(n)&&n.toJSON?e[t]=n.toJSON():e[t]=n}return e},t.raw=function(e,t){return(new i.default).raw(this,e,t)},t.root=function(){for(var e=this;e.parent;)e=e.parent;return e},t.cleanRaws=function(e){delete this.raws.before,delete this.raws.after,e||delete this.raws.between},t.positionInside=function(e){for(var t=this.toString(),n=this.source.start.column,r=this.source.start.line,o=0;o<e;o++)"\n"===t[o]?(n=1,r+=1):n+=1;return{line:r,column:n}},t.positionBy=function(e){var t=this.source.start;if(e.index)t=this.positionInside(e.index);else if(e.word){var n=this.toString().indexOf(e.word);-1!==n&&(t=this.positionInside(n))}return t},e}();n.default=c,t.exports=n.default}).call(this,e("_process"))},{"./css-syntax-error":42,"./stringifier":57,"./stringify":58,_process:63}],49:[function(e,t,n){(function(r){n.__esModule=!0,n.default=void 0;var o=a(e("./parser")),i=a(e("./input"));function a(e){return e&&e.__esModule?e:{default:e}}n.default=function(e,t){var n=new i.default(e,t),a=new o.default(n);try{a.parse()}catch(e){throw"production"!==r.env.NODE_ENV&&"CssSyntaxError"===e.name&&t&&t.from&&(/\.scss$/i.test(t.from)?e.message+="\nYou tried to parse SCSS with the standard CSS parser; try again with the postcss-scss parser":/\.sass/i.test(t.from)?e.message+="\nYou tried to parse Sass with the standard CSS parser; try again with the postcss-sass parser":/\.less$/i.test(t.from)&&(e.message+="\nYou tried to parse Less with the standard CSS parser; try again with the postcss-less parser")),e}return a.root},t.exports=n.default}).call(this,e("_process"))},{"./input":44,"./parser":50,_process:63}],50:[function(e,t,n){n.__esModule=!0,n.default=void 0;var r=c(e("./declaration")),o=c(e("./tokenize")),i=c(e("./comment")),a=c(e("./at-rule")),s=c(e("./root")),l=c(e("./rule"));function c(e){return e&&e.__esModule?e:{default:e}}var u=function(){function e(e){this.input=e,this.root=new s.default,this.current=this.root,this.spaces="",this.semicolon=!1,this.createTokenizer(),this.root.source={input:e,start:{line:1,column:1}}}var t=e.prototype;return t.createTokenizer=function(){this.tokenizer=(0,o.default)(this.input)},t.parse=function(){for(var e;!this.tokenizer.endOfFile();)switch((e=this.tokenizer.nextToken())[0]){case"space":this.spaces+=e[1];break;case";":this.freeSemicolon(e);break;case"}":this.end(e);break;case"comment":this.comment(e);break;case"at-word":this.atrule(e);break;case"{":this.emptyRule(e);break;default:this.other(e)}this.endFile()},t.comment=function(e){var t=new i.default;this.init(t,e[2],e[3]),t.source.end={line:e[4],column:e[5]};var n=e[1].slice(2,-2);if(/^\s*$/.test(n))t.text="",t.raws.left=n,t.raws.right="";else{var r=n.match(/^(\s*)([^]*[^\s])(\s*)$/);t.text=r[2],t.raws.left=r[1],t.raws.right=r[3]}},t.emptyRule=function(e){var t=new l.default;this.init(t,e[2],e[3]),t.selector="",t.raws.between="",this.current=t},t.other=function(e){for(var t=!1,n=null,r=!1,o=null,i=[],a=[],s=e;s;){if(n=s[0],a.push(s),"("===n||"["===n)o||(o=s),i.push("("===n?")":"]");else if(0===i.length){if(";"===n){if(r)return void this.decl(a);break}if("{"===n)return void this.rule(a);if("}"===n){this.tokenizer.back(a.pop()),t=!0;break}":"===n&&(r=!0)}else n===i[i.length-1]&&(i.pop(),0===i.length&&(o=null));s=this.tokenizer.nextToken()}if(this.tokenizer.endOfFile()&&(t=!0),i.length>0&&this.unclosedBracket(o),t&&r){for(;a.length&&("space"===(s=a[a.length-1][0])||"comment"===s);)this.tokenizer.back(a.pop());this.decl(a)}else this.unknownWord(a)},t.rule=function(e){e.pop();var t=new l.default;this.init(t,e[0][2],e[0][3]),t.raws.between=this.spacesAndCommentsFromEnd(e),this.raw(t,"selector",e),this.current=t},t.decl=function(e){var t=new r.default;this.init(t);var n,o=e[e.length-1];for(";"===o[0]&&(this.semicolon=!0,e.pop()),o[4]?t.source.end={line:o[4],column:o[5]}:t.source.end={line:o[2],column:o[3]};"word"!==e[0][0];)1===e.length&&this.unknownWord(e),t.raws.before+=e.shift()[1];for(t.source.start={line:e[0][2],column:e[0][3]},t.prop="";e.length;){var i=e[0][0];if(":"===i||"space"===i||"comment"===i)break;t.prop+=e.shift()[1]}for(t.raws.between="";e.length;){if(":"===(n=e.shift())[0]){t.raws.between+=n[1];break}"word"===n[0]&&/\w/.test(n[1])&&this.unknownWord([n]),t.raws.between+=n[1]}"_"!==t.prop[0]&&"*"!==t.prop[0]||(t.raws.before+=t.prop[0],t.prop=t.prop.slice(1)),t.raws.between+=this.spacesAndCommentsFromStart(e),this.precheckMissedSemicolon(e);for(var a=e.length-1;a>0;a--){if("!important"===(n=e[a])[1].toLowerCase()){t.important=!0;var s=this.stringFrom(e,a);" !important"!==(s=this.spacesFromEnd(e)+s)&&(t.raws.important=s);break}if("important"===n[1].toLowerCase()){for(var l=e.slice(0),c="",u=a;u>0;u--){var d=l[u][0];if(0===c.trim().indexOf("!")&&"space"!==d)break;c=l.pop()[1]+c}0===c.trim().indexOf("!")&&(t.important=!0,t.raws.important=c,e=l)}if("space"!==n[0]&&"comment"!==n[0])break}this.raw(t,"value",e),-1!==t.value.indexOf(":")&&this.checkMissedSemicolon(e)},t.atrule=function(e){var t,n,r=new a.default;r.name=e[1].slice(1),""===r.name&&this.unnamedAtrule(r,e),this.init(r,e[2],e[3]);for(var o=!1,i=!1,s=[];!this.tokenizer.endOfFile();){if(";"===(e=this.tokenizer.nextToken())[0]){r.source.end={line:e[2],column:e[3]},this.semicolon=!0;break}if("{"===e[0]){i=!0;break}if("}"===e[0]){if(s.length>0){for(t=s[n=s.length-1];t&&"space"===t[0];)t=s[--n];t&&(r.source.end={line:t[4],column:t[5]})}this.end(e);break}if(s.push(e),this.tokenizer.endOfFile()){o=!0;break}}r.raws.between=this.spacesAndCommentsFromEnd(s),s.length?(r.raws.afterName=this.spacesAndCommentsFromStart(s),this.raw(r,"params",s),o&&(e=s[s.length-1],r.source.end={line:e[4],column:e[5]},this.spaces=r.raws.between,r.raws.between="")):(r.raws.afterName="",r.params=""),i&&(r.nodes=[],this.current=r)},t.end=function(e){this.current.nodes&&this.current.nodes.length&&(this.current.raws.semicolon=this.semicolon),this.semicolon=!1,this.current.raws.after=(this.current.raws.after||"")+this.spaces,this.spaces="",this.current.parent?(this.current.source.end={line:e[2],column:e[3]},this.current=this.current.parent):this.unexpectedClose(e)},t.endFile=function(){this.current.parent&&this.unclosedBlock(),this.current.nodes&&this.current.nodes.length&&(this.current.raws.semicolon=this.semicolon),this.current.raws.after=(this.current.raws.after||"")+this.spaces},t.freeSemicolon=function(e){if(this.spaces+=e[1],this.current.nodes){var t=this.current.nodes[this.current.nodes.length-1];t&&"rule"===t.type&&!t.raws.ownSemicolon&&(t.raws.ownSemicolon=this.spaces,this.spaces="")}},t.init=function(e,t,n){this.current.push(e),e.source={start:{line:t,column:n},input:this.input},e.raws.before=this.spaces,this.spaces="","comment"!==e.type&&(this.semicolon=!1)},t.raw=function(e,t,n){for(var r,o,i,a,s=n.length,l="",c=!0,u=/^([.|#])?([\w])+/i,d=0;d<s;d+=1)"comment"!==(o=(r=n[d])[0])||"rule"!==e.type?"comment"===o||"space"===o&&d===s-1?c=!1:l+=r[1]:(a=n[d-1],i=n[d+1],"space"!==a[0]&&"space"!==i[0]&&u.test(a[1])&&u.test(i[1])?l+=r[1]:c=!1);if(!c){var p=n.reduce(function(e,t){return e+t[1]},"");e.raws[t]={value:l,raw:p}}e[t]=l},t.spacesAndCommentsFromEnd=function(e){for(var t,n="";e.length&&("space"===(t=e[e.length-1][0])||"comment"===t);)n=e.pop()[1]+n;return n},t.spacesAndCommentsFromStart=function(e){for(var t,n="";e.length&&("space"===(t=e[0][0])||"comment"===t);)n+=e.shift()[1];return n},t.spacesFromEnd=function(e){for(var t="";e.length&&"space"===e[e.length-1][0];)t=e.pop()[1]+t;return t},t.stringFrom=function(e,t){for(var n="",r=t;r<e.length;r++)n+=e[r][1];return e.splice(t,e.length-t),n},t.colon=function(e){for(var t,n,r,o=0,i=0;i<e.length;i++){if("("===(n=(t=e[i])[0])&&(o+=1),")"===n&&(o-=1),0===o&&":"===n){if(r){if("word"===r[0]&&"progid"===r[1])continue;return i}this.doubleColon(t)}r=t}return!1},t.unclosedBracket=function(e){throw this.input.error("Unclosed bracket",e[2],e[3])},t.unknownWord=function(e){throw this.input.error("Unknown word",e[0][2],e[0][3])},t.unexpectedClose=function(e){throw this.input.error("Unexpected }",e[2],e[3])},t.unclosedBlock=function(){var e=this.current.source.start;throw this.input.error("Unclosed block",e.line,e.column)},t.doubleColon=function(e){throw this.input.error("Double colon",e[2],e[3])},t.unnamedAtrule=function(e,t){throw this.input.error("At-rule without name",t[2],t[3])},t.precheckMissedSemicolon=function(){},t.checkMissedSemicolon=function(e){var t=this.colon(e);if(!1!==t){for(var n,r=0,o=t-1;o>=0&&("space"===(n=e[o])[0]||2!==(r+=1));o--);throw this.input.error("Missed semicolon",n[2],n[3])}},e}();n.default=u,t.exports=n.default},{"./at-rule":39,"./comment":40,"./declaration":43,"./root":55,"./rule":56,"./tokenize":59}],51:[function(e,t,n){n.__esModule=!0,n.default=void 0;var r=f(e("./declaration")),o=f(e("./processor")),i=f(e("./stringify")),a=f(e("./comment")),s=f(e("./at-rule")),l=f(e("./vendor")),c=f(e("./parse")),u=f(e("./list")),d=f(e("./rule")),p=f(e("./root"));function f(e){return e&&e.__esModule?e:{default:e}}function h(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 1===t.length&&Array.isArray(t[0])&&(t=t[0]),new o.default(t)}h.plugin=function(e,t){function n(){var n=t.apply(void 0,arguments);return n.postcssPlugin=e,n.postcssVersion=(new o.default).version,n}var r;return Object.defineProperty(n,"postcss",{get:function(){return r||(r=n()),r}}),n.process=function(e,t,r){return h([n(r)]).process(e,t)},n},h.stringify=i.default,h.parse=c.default,h.vendor=l.default,h.list=u.default,h.comment=function(e){return new a.default(e)},h.atRule=function(e){return new s.default(e)},h.decl=function(e){return new r.default(e)},h.rule=function(e){return new d.default(e)},h.root=function(e){return new p.default(e)};var m=h;n.default=m,t.exports=n.default},{"./at-rule":39,"./comment":40,"./declaration":43,"./list":46,"./parse":49,"./processor":53,"./root":55,"./rule":56,"./stringify":58,"./vendor":60}],52:[function(e,t,n){(function(r){n.__esModule=!0,n.default=void 0;var o=l(e("source-map")),i=l(e("path")),a=l(e("fs"));function l(e){return e&&e.__esModule?e:{default:e}}var c=function(){function e(e,t){this.loadAnnotation(e),this.inline=this.startWith(this.annotation,"data:");var n=t.map?t.map.prev:void 0,r=this.loadMap(t.from,n);r&&(this.text=r)}var t=e.prototype;return t.consumer=function(){return this.consumerCache||(this.consumerCache=new o.default.SourceMapConsumer(this.text)),this.consumerCache},t.withContent=function(){return!!(this.consumer().sourcesContent&&this.consumer().sourcesContent.length>0)},t.startWith=function(e,t){return!!e&&e.substr(0,t.length)===t},t.loadAnnotation=function(e){var t=e.match(/\/\*\s*# sourceMappingURL=(.*)\s*\*\//);t&&(this.annotation=t[1].trim())},t.decodeInline=function(e){var t="data:application/json,";if(this.startWith(e,t))return decodeURIComponent(e.substr(t.length));if(/^data:application\/json;charset=utf-?8;base64,/.test(e)||/^data:application\/json;base64,/.test(e))return function(e){return r?r.from(e,"base64").toString():window.atob(e)}(e.substr(RegExp.lastMatch.length));var n=e.match(/data:application\/json;([^,]+),/)[1];throw new Error("Unsupported source map encoding "+n)},t.loadMap=function(e,t){if(!1===t)return!1;if(t){if("string"==typeof t)return t;if("function"==typeof t){var n=t(e);if(n&&a.default.existsSync&&a.default.existsSync(n))return a.default.readFileSync(n,"utf-8").toString().trim();throw new Error("Unable to load previous source map: "+n.toString())}if(t instanceof o.default.SourceMapConsumer)return o.default.SourceMapGenerator.fromSourceMap(t).toString();if(t instanceof o.default.SourceMapGenerator)return t.toString();if(this.isMap(t))return JSON.stringify(t);throw new Error("Unsupported previous source map format: "+t.toString())}if(this.inline)return this.decodeInline(this.annotation);if(this.annotation){var r=this.annotation;return e&&(r=i.default.join(i.default.dirname(e),r)),this.root=i.default.dirname(r),!(!a.default.existsSync||!a.default.existsSync(r))&&a.default.readFileSync(r,"utf-8").toString().trim()}},t.isMap=function(e){return"object"===s(e)&&("string"==typeof e.mappings||"string"==typeof e._mappings)},e}();n.default=c,t.exports=n.default}).call(this,e("buffer").Buffer)},{buffer:3,fs:2,path:38,"source-map":78}],53:[function(e,t,n){(function(r){n.__esModule=!0,n.default=void 0;var o=function(e){return e&&e.__esModule?e:{default:e}}(e("./lazy-result")),i=function(){function e(e){void 0===e&&(e=[]),this.version="7.0.27",this.plugins=this.normalize(e)}var t=e.prototype;return t.use=function(e){return this.plugins=this.plugins.concat(this.normalize([e])),this},t.process=function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e,t){return void 0===t&&(t={}),0===this.plugins.length&&t.parser===t.stringifier&&"production"!==r.env.NODE_ENV&&"undefined"!=typeof console&&console.warn&&console.warn("You did not set any plugins, parser, or stringifier. Right now, PostCSS does nothing. Pick plugins for your case on https://www.postcss.parts/ and use them in postcss.config.js."),new o.default(this,e,t)}),t.normalize=function(e){var t=[],n=e,o=Array.isArray(n),i=0;for(n=o?n:n[Symbol.iterator]();;){var a;if(o){if(i>=n.length)break;a=n[i++]}else{if((i=n.next()).done)break;a=i.value}var l=a;if(l.postcss&&(l=l.postcss),"object"===s(l)&&Array.isArray(l.plugins))t=t.concat(l.plugins);else if("function"==typeof l)t.push(l);else{if("object"!==s(l)||!l.parse&&!l.stringify)throw new Error(l+" is not a PostCSS plugin");if("production"!==r.env.NODE_ENV)throw new Error("PostCSS syntaxes cannot be used as plugins. Instead, please use one of the syntax/parser/stringifier options as outlined in your PostCSS runner documentation.")}}return t},e}();n.default=i,t.exports=n.default}).call(this,e("_process"))},{"./lazy-result":45,_process:63}],54:[function(e,t,n){n.__esModule=!0,n.default=void 0;var r=function(e){return e&&e.__esModule?e:{default:e}}(e("./warning"));function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var i=function(){function e(e,t,n){this.processor=e,this.messages=[],this.root=t,this.opts=n,this.css=void 0,this.map=void 0}var t=e.prototype;return t.toString=function(){return this.css},t.warn=function(e,t){void 0===t&&(t={}),t.plugin||this.lastPlugin&&this.lastPlugin.postcssPlugin&&(t.plugin=this.lastPlugin.postcssPlugin);var n=new r.default(e,t);return this.messages.push(n),n},t.warnings=function(){return this.messages.filter(function(e){return"warning"===e.type})},function(e,t,n){t&&o(e.prototype,t)}(e,[{key:"content",get:function(){return this.css}}]),e}();n.default=i,t.exports=n.default},{"./warning":62}],55:[function(e,t,n){n.__esModule=!0,n.default=void 0;var r=function(t){function n(e){var n;return(n=t.call(this,e)||this).type="root",n.nodes||(n.nodes=[]),n}!function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}(n,t);var r=n.prototype;return r.removeChild=function(e,n){var r=this.index(e);return!n&&0===r&&this.nodes.length>1&&(this.nodes[1].raws.before=this.nodes[r].raws.before),t.prototype.removeChild.call(this,e)},r.normalize=function(e,n,r){var o=t.prototype.normalize.call(this,e);if(n)if("prepend"===r)this.nodes.length>1?n.raws.before=this.nodes[1].raws.before:delete n.raws.before;else if(this.first!==n){var i=o,a=Array.isArray(i),s=0;for(i=a?i:i[Symbol.iterator]();;){var l;if(a){if(s>=i.length)break;l=i[s++]}else{if((s=i.next()).done)break;l=s.value}l.raws.before=n.raws.before}}return o},r.toResult=function(t){return void 0===t&&(t={}),new(e("./lazy-result"))(new(e("./processor")),this,t).stringify()},n}(function(e){return e&&e.__esModule?e:{default:e}}(e("./container")).default);n.default=r,t.exports=n.default},{"./container":41,"./lazy-result":45,"./processor":53}],56:[function(e,t,n){n.__esModule=!0,n.default=void 0;var r=i(e("./container")),o=i(e("./list"));function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var s=function(e){function t(t){var n;return(n=e.call(this,t)||this).type="rule",n.nodes||(n.nodes=[]),n}return function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}(t,e),function(e,t,n){t&&a(e.prototype,t)}(t,[{key:"selectors",get:function(){return o.default.comma(this.selector)},set:function(e){var t=this.selector?this.selector.match(/,\s*/):null,n=t?t[0]:","+this.raw("between","beforeOpen");this.selector=e.join(n)}}]),t}(r.default);n.default=s,t.exports=n.default},{"./container":41,"./list":46}],57:[function(e,t,n){n.__esModule=!0,n.default=void 0;var r={colon:": ",indent:"    ",beforeDecl:"\n",beforeRule:"\n",beforeOpen:" ",beforeClose:"\n",beforeComment:"\n",after:"\n",emptyBody:"",commentLeft:" ",commentRight:" ",semicolon:!1},o=function(){function e(e){this.builder=e}var t=e.prototype;return t.stringify=function(e,t){this[e.type](e,t)},t.root=function(e){this.body(e),e.raws.after&&this.builder(e.raws.after)},t.comment=function(e){var t=this.raw(e,"left","commentLeft"),n=this.raw(e,"right","commentRight");this.builder("/*"+t+e.text+n+"*/",e)},t.decl=function(e,t){var n=this.raw(e,"between","colon"),r=e.prop+n+this.rawValue(e,"value");e.important&&(r+=e.raws.important||" !important"),t&&(r+=";"),this.builder(r,e)},t.rule=function(e){this.block(e,this.rawValue(e,"selector")),e.raws.ownSemicolon&&this.builder(e.raws.ownSemicolon,e,"end")},t.atrule=function(e,t){var n="@"+e.name,r=e.params?this.rawValue(e,"params"):"";if(void 0!==e.raws.afterName?n+=e.raws.afterName:r&&(n+=" "),e.nodes)this.block(e,n+r);else{var o=(e.raws.between||"")+(t?";":"");this.builder(n+r+o,e)}},t.body=function(e){for(var t=e.nodes.length-1;t>0&&"comment"===e.nodes[t].type;)t-=1;for(var n=this.raw(e,"semicolon"),r=0;r<e.nodes.length;r++){var o=e.nodes[r],i=this.raw(o,"before");i&&this.builder(i),this.stringify(o,t!==r||n)}},t.block=function(e,t){var n,r=this.raw(e,"between","beforeOpen");this.builder(t+r+"{",e,"start"),e.nodes&&e.nodes.length?(this.body(e),n=this.raw(e,"after")):n=this.raw(e,"after","emptyBody"),n&&this.builder(n),this.builder("}",e,"end")},t.raw=function(e,t,n){var o;if(n||(n=t),t&&void 0!==(o=e.raws[t]))return o;var i=e.parent;if("before"===n&&(!i||"root"===i.type&&i.first===e))return"";if(!i)return r[n];var a=e.root();if(a.rawCache||(a.rawCache={}),void 0!==a.rawCache[n])return a.rawCache[n];if("before"===n||"after"===n)return this.beforeAfter(e,n);var s="raw"+function(e){return e[0].toUpperCase()+e.slice(1)}(n);return this[s]?o=this[s](a,e):a.walk(function(e){if(void 0!==(o=e.raws[t]))return!1}),void 0===o&&(o=r[n]),a.rawCache[n]=o,o},t.rawSemicolon=function(e){var t;return e.walk(function(e){if(e.nodes&&e.nodes.length&&"decl"===e.last.type&&void 0!==(t=e.raws.semicolon))return!1}),t},t.rawEmptyBody=function(e){var t;return e.walk(function(e){if(e.nodes&&0===e.nodes.length&&void 0!==(t=e.raws.after))return!1}),t},t.rawIndent=function(e){return e.raws.indent?e.raws.indent:(e.walk(function(n){var r=n.parent;if(r&&r!==e&&r.parent&&r.parent===e&&void 0!==n.raws.before){var o=n.raws.before.split("\n");return t=(t=o[o.length-1]).replace(/[^\s]/g,""),!1}}),t);var t},t.rawBeforeComment=function(e,t){var n;return e.walkComments(function(e){if(void 0!==e.raws.before)return-1!==(n=e.raws.before).indexOf("\n")&&(n=n.replace(/[^\n]+$/,"")),!1}),void 0===n?n=this.raw(t,null,"beforeDecl"):n&&(n=n.replace(/[^\s]/g,"")),n},t.rawBeforeDecl=function(e,t){var n;return e.walkDecls(function(e){if(void 0!==e.raws.before)return-1!==(n=e.raws.before).indexOf("\n")&&(n=n.replace(/[^\n]+$/,"")),!1}),void 0===n?n=this.raw(t,null,"beforeRule"):n&&(n=n.replace(/[^\s]/g,"")),n},t.rawBeforeRule=function(e){var t;return e.walk(function(n){if(n.nodes&&(n.parent!==e||e.first!==n)&&void 0!==n.raws.before)return-1!==(t=n.raws.before).indexOf("\n")&&(t=t.replace(/[^\n]+$/,"")),!1}),t&&(t=t.replace(/[^\s]/g,"")),t},t.rawBeforeClose=function(e){var t;return e.walk(function(e){if(e.nodes&&e.nodes.length>0&&void 0!==e.raws.after)return-1!==(t=e.raws.after).indexOf("\n")&&(t=t.replace(/[^\n]+$/,"")),!1}),t&&(t=t.replace(/[^\s]/g,"")),t},t.rawBeforeOpen=function(e){var t;return e.walk(function(e){if("decl"!==e.type&&void 0!==(t=e.raws.between))return!1}),t},t.rawColon=function(e){var t;return e.walkDecls(function(e){if(void 0!==e.raws.between)return t=e.raws.between.replace(/[^\s:]/g,""),!1}),t},t.beforeAfter=function(e,t){var n;n="decl"===e.type?this.raw(e,null,"beforeDecl"):"comment"===e.type?this.raw(e,null,"beforeComment"):"before"===t?this.raw(e,null,"beforeRule"):this.raw(e,null,"beforeClose");for(var r=e.parent,o=0;r&&"root"!==r.type;)o+=1,r=r.parent;if(-1!==n.indexOf("\n")){var i=this.raw(e,null,"indent");if(i.length)for(var a=0;a<o;a++)n+=i}return n},t.rawValue=function(e,t){var n=e[t],r=e.raws[t];return r&&r.value===n?r.raw:n},e}();n.default=o,t.exports=n.default},{}],58:[function(e,t,n){n.__esModule=!0,n.default=void 0;var r=function(e){return e&&e.__esModule?e:{default:e}}(e("./stringifier"));n.default=function(e,t){new r.default(t).stringify(e)},t.exports=n.default},{"./stringifier":57}],59:[function(e,t,n){n.__esModule=!0,n.default=function(e,t){void 0===t&&(t={});var n,E,x,O,T,M,A,j,I,N,R,D,L,B,F=e.css.valueOf(),U=t.ignoreErrors,q=F.length,z=-1,H=1,V=0,W=[],G=[];function Y(t){throw e.error("Unclosed "+t,H,V-z)}return{back:function(e){G.push(e)},nextToken:function(e){if(G.length)return G.pop();if(!(V>=q)){var t=!!e&&e.ignoreUnclosed;switch(((n=F.charCodeAt(V))===s||n===c||n===d&&F.charCodeAt(V+1)!==s)&&(z=V,H+=1),n){case s:case l:case u:case d:case c:E=V;do{E+=1,(n=F.charCodeAt(E))===s&&(z=E,H+=1)}while(n===l||n===s||n===u||n===d||n===c);B=["space",F.slice(V,E)],V=E-1;break;case p:case f:case g:case b:case k:case v:case m:var K=String.fromCharCode(n);B=[K,K,H,V-z];break;case h:if(D=W.length?W.pop()[1]:"",L=F.charCodeAt(V+1),"url"===D&&L!==r&&L!==o&&L!==l&&L!==s&&L!==u&&L!==c&&L!==d){E=V;do{if(N=!1,-1===(E=F.indexOf(")",E+1))){if(U||t){E=V;break}Y("bracket")}for(R=E;F.charCodeAt(R-1)===i;)R-=1,N=!N}while(N);B=["brackets",F.slice(V,E+1),H,V-z,H,E-z],V=E}else E=F.indexOf(")",V+1),M=F.slice(V,E+1),-1===E||S.test(M)?B=["(","(",H,V-z]:(B=["brackets",M,H,V-z,H,E-z],V=E);break;case r:case o:x=n===r?"'":'"',E=V;do{if(N=!1,-1===(E=F.indexOf(x,E+1))){if(U||t){E=V+1;break}Y("string")}for(R=E;F.charCodeAt(R-1)===i;)R-=1,N=!N}while(N);M=F.slice(V,E+1),O=M.split("\n"),(T=O.length-1)>0?(j=H+T,I=E-O[T].length):(j=H,I=z),B=["string",F.slice(V,E+1),H,V-z,j,E-I],z=I,H=j,V=E;break;case _:w.lastIndex=V+1,w.test(F),E=0===w.lastIndex?F.length-1:w.lastIndex-2,B=["at-word",F.slice(V,E+1),H,V-z,H,E-z],V=E;break;case i:for(E=V,A=!0;F.charCodeAt(E+1)===i;)E+=1,A=!A;if(n=F.charCodeAt(E+1),A&&n!==a&&n!==l&&n!==s&&n!==u&&n!==d&&n!==c&&(E+=1,P.test(F.charAt(E)))){for(;P.test(F.charAt(E+1));)E+=1;F.charCodeAt(E+1)===l&&(E+=1)}B=["word",F.slice(V,E+1),H,V-z,H,E-z],V=E;break;default:n===a&&F.charCodeAt(V+1)===y?(0===(E=F.indexOf("*/",V+2)+1)&&(U||t?E=F.length:Y("comment")),M=F.slice(V,E+1),O=M.split("\n"),(T=O.length-1)>0?(j=H+T,I=E-O[T].length):(j=H,I=z),B=["comment",M,H,V-z,j,E-I],z=I,H=j,V=E):(C.lastIndex=V+1,C.test(F),E=0===C.lastIndex?F.length-1:C.lastIndex-2,B=["word",F.slice(V,E+1),H,V-z,H,E-z],W.push(B),V=E)}return V++,B}},endOfFile:function(){return 0===G.length&&V>=q},position:function(){return V}}};var r="'".charCodeAt(0),o='"'.charCodeAt(0),i="\\".charCodeAt(0),a="/".charCodeAt(0),s="\n".charCodeAt(0),l=" ".charCodeAt(0),c="\f".charCodeAt(0),u="\t".charCodeAt(0),d="\r".charCodeAt(0),p="[".charCodeAt(0),f="]".charCodeAt(0),h="(".charCodeAt(0),m=")".charCodeAt(0),g="{".charCodeAt(0),b="}".charCodeAt(0),v=";".charCodeAt(0),y="*".charCodeAt(0),k=":".charCodeAt(0),_="@".charCodeAt(0),w=/[ \n\t\r\f{}()'"\\;/[\]#]/g,C=/[ \n\t\r\f(){}:;@!'"\\\][#]|\/(?=\*)/g,S=/.[\\/("'\n]/,P=/[a-f0-9]/i;t.exports=n.default},{}],60:[function(e,t,n){n.__esModule=!0,n.default=void 0;n.default={prefix:function(e){var t=e.match(/^(-\w+-)/);return t?t[0]:""},unprefixed:function(e){return e.replace(/^-\w+-/,"")}},t.exports=n.default},{}],61:[function(e,t,n){n.__esModule=!0,n.default=function(e){r[e]||(r[e]=!0,"undefined"!=typeof console&&console.warn&&console.warn(e))};var r={};t.exports=n.default},{}],62:[function(e,t,n){n.__esModule=!0,n.default=void 0;var r=function(){function e(e,t){if(void 0===t&&(t={}),this.type="warning",this.text=e,t.node&&t.node.source){var n=t.node.positionBy(t);this.line=n.line,this.column=n.column}for(var r in t)this[r]=t[r]}return e.prototype.toString=function(){return this.node?this.node.error(this.text,{plugin:this.plugin,index:this.index,word:this.word}).message:this.plugin?this.plugin+": "+this.text:this.text},e}();n.default=r,t.exports=n.default},{}],63:[function(e,t,n){var r,o,i=t.exports={};function a(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function l(e){if(r===setTimeout)return setTimeout(e,0);if((r===a||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:a}catch(e){r=a}try{o="function"==typeof clearTimeout?clearTimeout:s}catch(e){o=s}}();var c,u=[],d=!1,p=-1;function f(){d&&c&&(d=!1,c.length?u=c.concat(u):p=-1,u.length&&h())}function h(){if(!d){var e=l(f);d=!0;for(var t=u.length;t;){for(c=u,u=[];++p<t;)c&&c[p].run();p=-1,t=u.length}c=null,d=!1,function(e){if(o===clearTimeout)return clearTimeout(e);if((o===s||!o)&&clearTimeout)return o=clearTimeout,clearTimeout(e);try{o(e)}catch(t){try{return o.call(null,e)}catch(t){return o.call(this,e)}}}(e)}}function m(e,t){this.fun=e,this.array=t}function g(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];u.push(new m(e,t)),1!==u.length||d||l(h)},m.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=g,i.addListener=g,i.once=g,i.off=g,i.removeListener=g,i.removeAllListeners=g,i.emit=g,i.prependListener=g,i.prependOnceListener=g,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},{}],64:[function(e,t,r){(function(e){!function(n){var o="object"==s(r)&&r&&!r.nodeType&&r,i="object"==s(t)&&t&&!t.nodeType&&t,a="object"==s(e)&&e;a.global!==a&&a.window!==a&&a.self!==a||(n=a);var l,c,u=2147483647,d=36,p=1,f=26,h=38,m=700,g=72,b=128,v="-",y=/^xn--/,k=/[^\x20-\x7E]/,_=/[\x2E\u3002\uFF0E\uFF61]/g,w={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},C=d-p,S=Math.floor,P=String.fromCharCode;function E(e){throw new RangeError(w[e])}function x(e,t){for(var n=e.length,r=[];n--;)r[n]=t(e[n]);return r}function O(e,t){var n=e.split("@"),r="";return n.length>1&&(r=n[0]+"@",e=n[1]),r+x((e=e.replace(_,".")).split("."),t).join(".")}function T(e){for(var t,n,r=[],o=0,i=e.length;o<i;)(t=e.charCodeAt(o++))>=55296&&t<=56319&&o<i?56320==(64512&(n=e.charCodeAt(o++)))?r.push(((1023&t)<<10)+(1023&n)+65536):(r.push(t),o--):r.push(t);return r}function M(e){return x(e,function(e){var t="";return e>65535&&(t+=P((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+P(e)}).join("")}function A(e){return e-48<10?e-22:e-65<26?e-65:e-97<26?e-97:d}function j(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function I(e,t,n){var r=0;for(e=n?S(e/m):e>>1,e+=S(e/t);e>C*f>>1;r+=d)e=S(e/C);return S(r+(C+1)*e/(e+h))}function N(e){var t,n,r,o,i,a,s,l,c,h,m=[],y=e.length,k=0,_=b,w=g;for((n=e.lastIndexOf(v))<0&&(n=0),r=0;r<n;++r)e.charCodeAt(r)>=128&&E("not-basic"),m.push(e.charCodeAt(r));for(o=n>0?n+1:0;o<y;){for(i=k,a=1,s=d;o>=y&&E("invalid-input"),((l=A(e.charCodeAt(o++)))>=d||l>S((u-k)/a))&&E("overflow"),k+=l*a,!(l<(c=s<=w?p:s>=w+f?f:s-w));s+=d)a>S(u/(h=d-c))&&E("overflow"),a*=h;w=I(k-i,t=m.length+1,0==i),S(k/t)>u-_&&E("overflow"),_+=S(k/t),k%=t,m.splice(k++,0,_)}return M(m)}function R(e){var t,n,r,o,i,a,s,l,c,h,m,y,k,_,w,C=[];for(y=(e=T(e)).length,t=b,n=0,i=g,a=0;a<y;++a)(m=e[a])<128&&C.push(P(m));for(r=o=C.length,o&&C.push(v);r<y;){for(s=u,a=0;a<y;++a)(m=e[a])>=t&&m<s&&(s=m);for(s-t>S((u-n)/(k=r+1))&&E("overflow"),n+=(s-t)*k,t=s,a=0;a<y;++a)if((m=e[a])<t&&++n>u&&E("overflow"),m==t){for(l=n,c=d;!(l<(h=c<=i?p:c>=i+f?f:c-i));c+=d)w=l-h,_=d-h,C.push(P(j(h+w%_,0))),l=S(w/_);C.push(P(j(l,0))),i=I(n,k,r==o),n=0,++r}++n,++t}return C.join("")}if(l={version:"1.4.1",ucs2:{decode:T,encode:M},decode:N,encode:R,toASCII:function(e){return O(e,function(e){return k.test(e)?"xn--"+R(e):e})},toUnicode:function(e){return O(e,function(e){return y.test(e)?N(e.slice(4).toLowerCase()):e})}},o&&i)if(t.exports==o)i.exports=l;else for(c in l)l.hasOwnProperty(c)&&(o[c]=l[c]);else n.punycode=l}(this)}).call(this,void 0!==n?n:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],65:[function(e,t,n){function r(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.exports=function(e,t,n,i){t=t||"&",n=n||"=";var a={};if("string"!=typeof e||0===e.length)return a;var s=/\+/g;e=e.split(t);var l=1e3;i&&"number"==typeof i.maxKeys&&(l=i.maxKeys);var c=e.length;l>0&&c>l&&(c=l);for(var u=0;u<c;++u){var d,p,f,h,m=e[u].replace(s,"%20"),g=m.indexOf(n);g>=0?(d=m.substr(0,g),p=m.substr(g+1)):(d=m,p=""),f=decodeURIComponent(d),h=decodeURIComponent(p),r(a,f)?o(a[f])?a[f].push(h):a[f]=[a[f],h]:a[f]=h}return a};var o=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},{}],66:[function(e,t,n){var r=function(e){switch(s(e)){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};t.exports=function(e,t,n,l){return t=t||"&",n=n||"=",null===e&&(e=void 0),"object"===s(e)?i(a(e),function(a){var s=encodeURIComponent(r(a))+n;return o(e[a])?i(e[a],function(e){return s+encodeURIComponent(r(e))}).join(t):s+encodeURIComponent(r(e[a]))}).join(t):l?encodeURIComponent(r(l))+n+encodeURIComponent(r(e)):""};var o=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function i(e,t){if(e.map)return e.map(t);for(var n=[],r=0;r<e.length;r++)n.push(t(e[r],r));return n}var a=Object.keys||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t}},{}],67:[function(e,t,n){n.decode=n.parse=e("./decode"),n.encode=n.stringify=e("./encode")},{"./decode":65,"./encode":66}],68:[function(e,t,n){var r=e("./util"),o=Object.prototype.hasOwnProperty,i="undefined"!=typeof Map;function a(){this._array=[],this._set=i?new Map:Object.create(null)}a.fromArray=function(e,t){for(var n=new a,r=0,o=e.length;r<o;r++)n.add(e[r],t);return n},a.prototype.size=function(){return i?this._set.size:Object.getOwnPropertyNames(this._set).length},a.prototype.add=function(e,t){var n=i?e:r.toSetString(e),a=i?this.has(e):o.call(this._set,n),s=this._array.length;a&&!t||this._array.push(e),a||(i?this._set.set(e,s):this._set[n]=s)},a.prototype.has=function(e){if(i)return this._set.has(e);var t=r.toSetString(e);return o.call(this._set,t)},a.prototype.indexOf=function(e){if(i){var t=this._set.get(e);if(t>=0)return t}else{var n=r.toSetString(e);if(o.call(this._set,n))return this._set[n]}throw new Error('"'+e+'" is not in the set.')},a.prototype.at=function(e){if(e>=0&&e<this._array.length)return this._array[e];throw new Error("No element indexed by "+e)},a.prototype.toArray=function(){return this._array.slice()},n.ArraySet=a},{"./util":77}],69:[function(e,t,n){var r=e("./base64");n.encode=function(e){var t,n="",o=function(e){return e<0?1+(-e<<1):0+(e<<1)}(e);do{t=31&o,(o>>>=5)>0&&(t|=32),n+=r.encode(t)}while(o>0);return n},n.decode=function(e,t,n){var o,i,a=e.length,s=0,l=0;do{if(t>=a)throw new Error("Expected more digits in base 64 VLQ value.");if(-1===(i=r.decode(e.charCodeAt(t++))))throw new Error("Invalid base64 digit: "+e.charAt(t-1));o=!!(32&i),s+=(i&=31)<<l,l+=5}while(o);n.value=function(e){var t=s>>1;return 1==(1&s)?-t:t}(),n.rest=t}},{"./base64":70}],70:[function(e,t,n){var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split("");n.encode=function(e){if(0<=e&&e<r.length)return r[e];throw new TypeError("Must be between 0 and 63: "+e)},n.decode=function(e){return 65<=e&&e<=90?e-65:97<=e&&e<=122?e-97+26:48<=e&&e<=57?e-48+52:43==e?62:47==e?63:-1}},{}],71:[function(e,t,n){n.GREATEST_LOWER_BOUND=1,n.LEAST_UPPER_BOUND=2,n.search=function(e,t,r,o){if(0===t.length)return-1;var i=function e(t,r,o,i,a,s){var l=Math.floor((r-t)/2)+t,c=a(o,i[l],!0);return 0===c?l:c>0?r-l>1?e(l,r,o,i,a,s):s==n.LEAST_UPPER_BOUND?r<i.length?r:-1:l:l-t>1?e(t,l,o,i,a,s):s==n.LEAST_UPPER_BOUND?l:t<0?-1:t}(-1,t.length,e,t,r,o||n.GREATEST_LOWER_BOUND);if(i<0)return-1;for(;i-1>=0&&0===r(t[i],t[i-1],!0);)--i;return i}},{}],72:[function(e,t,n){var r=e("./util");function o(){this._array=[],this._sorted=!0,this._last={generatedLine:-1,generatedColumn:0}}o.prototype.unsortedForEach=function(e,t){this._array.forEach(e,t)},o.prototype.add=function(e){!function(e,t){var n=e.generatedLine,o=t.generatedLine,i=e.generatedColumn,a=t.generatedColumn;return o>n||o==n&&a>=i||r.compareByGeneratedPositionsInflated(e,t)<=0}(this._last,e)?(this._sorted=!1,this._array.push(e)):(this._last=e,this._array.push(e))},o.prototype.toArray=function(){return this._sorted||(this._array.sort(r.compareByGeneratedPositionsInflated),this._sorted=!0),this._array},n.MappingList=o},{"./util":77}],73:[function(e,t,n){function r(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}n.quickSort=function(e,t){!function e(t,n,o,i){if(o<i){var a=o-1;r(t,function(e,t){return Math.round(e+Math.random()*(t-e))}(o,i),i);for(var s=t[i],l=o;l<i;l++)n(t[l],s)<=0&&r(t,a+=1,l);r(t,a+1,l);var c=a+1;e(t,n,o,c-1),e(t,n,c+1,i)}}(e,t,0,e.length-1)}},{}],74:[function(e,t,n){var r=e("./util"),o=e("./binary-search"),i=e("./array-set").ArraySet,a=e("./base64-vlq"),s=e("./quick-sort").quickSort;function l(e,t){var n=e;return"string"==typeof e&&(n=r.parseSourceMapInput(e)),null!=n.sections?new d(n,t):new c(n,t)}function c(e,t){var n=e;"string"==typeof e&&(n=r.parseSourceMapInput(e));var o=r.getArg(n,"version"),a=r.getArg(n,"sources"),s=r.getArg(n,"names",[]),l=r.getArg(n,"sourceRoot",null),c=r.getArg(n,"sourcesContent",null),u=r.getArg(n,"mappings"),d=r.getArg(n,"file",null);if(o!=this._version)throw new Error("Unsupported version: "+o);l&&(l=r.normalize(l)),a=a.map(String).map(r.normalize).map(function(e){return l&&r.isAbsolute(l)&&r.isAbsolute(e)?r.relative(l,e):e}),this._names=i.fromArray(s.map(String),!0),this._sources=i.fromArray(a,!0),this._absoluteSources=this._sources.toArray().map(function(e){return r.computeSourceURL(l,e,t)}),this.sourceRoot=l,this.sourcesContent=c,this._mappings=u,this._sourceMapURL=t,this.file=d}function u(){this.generatedLine=0,this.generatedColumn=0,this.source=null,this.originalLine=null,this.originalColumn=null,this.name=null}function d(e,t){var n=e;"string"==typeof e&&(n=r.parseSourceMapInput(e));var o=r.getArg(n,"version"),a=r.getArg(n,"sections");if(o!=this._version)throw new Error("Unsupported version: "+o);this._sources=new i,this._names=new i;var s={line:-1,column:0};this._sections=a.map(function(e){if(e.url)throw new Error("Support for url field in sections not implemented.");var n=r.getArg(e,"offset"),o=r.getArg(n,"line"),i=r.getArg(n,"column");if(o<s.line||o===s.line&&i<s.column)throw new Error("Section offsets must be ordered and non-overlapping.");return s=n,{generatedOffset:{generatedLine:o+1,generatedColumn:i+1},consumer:new l(r.getArg(e,"map"),t)}})}l.fromSourceMap=function(e,t){return c.fromSourceMap(e,t)},l.prototype._version=3,l.prototype.__generatedMappings=null,Object.defineProperty(l.prototype,"_generatedMappings",{configurable:!0,enumerable:!0,get:function(){return this.__generatedMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__generatedMappings}}),l.prototype.__originalMappings=null,Object.defineProperty(l.prototype,"_originalMappings",{configurable:!0,enumerable:!0,get:function(){return this.__originalMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__originalMappings}}),l.prototype._charIsMappingSeparator=function(e,t){var n=e.charAt(t);return";"===n||","===n},l.prototype._parseMappings=function(e,t){throw new Error("Subclasses must implement _parseMappings")},l.GENERATED_ORDER=1,l.ORIGINAL_ORDER=2,l.GREATEST_LOWER_BOUND=1,l.LEAST_UPPER_BOUND=2,l.prototype.eachMapping=function(e,t,n){var o,i=t||null;switch(n||l.GENERATED_ORDER){case l.GENERATED_ORDER:o=this._generatedMappings;break;case l.ORIGINAL_ORDER:o=this._originalMappings;break;default:throw new Error("Unknown order of iteration.")}var a=this.sourceRoot;o.map(function(e){var t=null===e.source?null:this._sources.at(e.source);return{source:t=r.computeSourceURL(a,t,this._sourceMapURL),generatedLine:e.generatedLine,generatedColumn:e.generatedColumn,originalLine:e.originalLine,originalColumn:e.originalColumn,name:null===e.name?null:this._names.at(e.name)}},this).forEach(e,i)},l.prototype.allGeneratedPositionsFor=function(e){var t=r.getArg(e,"line"),n={source:r.getArg(e,"source"),originalLine:t,originalColumn:r.getArg(e,"column",0)};if(n.source=this._findSourceIndex(n.source),n.source<0)return[];var i=[],a=this._findMapping(n,this._originalMappings,"originalLine","originalColumn",r.compareByOriginalPositions,o.LEAST_UPPER_BOUND);if(a>=0){var s=this._originalMappings[a];if(void 0===e.column)for(var l=s.originalLine;s&&s.originalLine===l;)i.push({line:r.getArg(s,"generatedLine",null),column:r.getArg(s,"generatedColumn",null),lastColumn:r.getArg(s,"lastGeneratedColumn",null)}),s=this._originalMappings[++a];else for(var c=s.originalColumn;s&&s.originalLine===t&&s.originalColumn==c;)i.push({line:r.getArg(s,"generatedLine",null),column:r.getArg(s,"generatedColumn",null),lastColumn:r.getArg(s,"lastGeneratedColumn",null)}),s=this._originalMappings[++a]}return i},n.SourceMapConsumer=l,c.prototype=Object.create(l.prototype),c.prototype.consumer=l,c.prototype._findSourceIndex=function(e){var t,n=e;if(null!=this.sourceRoot&&(n=r.relative(this.sourceRoot,n)),this._sources.has(n))return this._sources.indexOf(n);for(t=0;t<this._absoluteSources.length;++t)if(this._absoluteSources[t]==e)return t;return-1},c.fromSourceMap=function(e,t){var n=Object.create(c.prototype),o=n._names=i.fromArray(e._names.toArray(),!0),a=n._sources=i.fromArray(e._sources.toArray(),!0);n.sourceRoot=e._sourceRoot,n.sourcesContent=e._generateSourcesContent(n._sources.toArray(),n.sourceRoot),n.file=e._file,n._sourceMapURL=t,n._absoluteSources=n._sources.toArray().map(function(e){return r.computeSourceURL(n.sourceRoot,e,t)});for(var l=e._mappings.toArray().slice(),d=n.__generatedMappings=[],p=n.__originalMappings=[],f=0,h=l.length;f<h;f++){var m=l[f],g=new u;g.generatedLine=m.generatedLine,g.generatedColumn=m.generatedColumn,m.source&&(g.source=a.indexOf(m.source),g.originalLine=m.originalLine,g.originalColumn=m.originalColumn,m.name&&(g.name=o.indexOf(m.name)),p.push(g)),d.push(g)}return s(n.__originalMappings,r.compareByOriginalPositions),n},c.prototype._version=3,Object.defineProperty(c.prototype,"sources",{get:function(){return this._absoluteSources.slice()}}),c.prototype._parseMappings=function(e,t){for(var n,o,i,l,c,d=1,p=0,f=0,h=0,m=0,g=0,b=e.length,v=0,y={},k={},_=[],w=[];v<b;)if(";"===e.charAt(v))d++,v++,p=0;else if(","===e.charAt(v))v++;else{for((n=new u).generatedLine=d,l=v;l<b&&!this._charIsMappingSeparator(e,l);l++);if(i=y[o=e.slice(v,l)])v+=o.length;else{for(i=[];v<l;)a.decode(e,v,k),c=k.value,v=k.rest,i.push(c);if(2===i.length)throw new Error("Found a source, but no line and column");if(3===i.length)throw new Error("Found a source and line, but no column");y[o]=i}n.generatedColumn=p+i[0],p=n.generatedColumn,i.length>1&&(n.source=m+i[1],m+=i[1],n.originalLine=f+i[2],f=n.originalLine,n.originalLine+=1,n.originalColumn=h+i[3],h=n.originalColumn,i.length>4&&(n.name=g+i[4],g+=i[4])),w.push(n),"number"==typeof n.originalLine&&_.push(n)}s(w,r.compareByGeneratedPositionsDeflated),this.__generatedMappings=w,s(_,r.compareByOriginalPositions),this.__originalMappings=_},c.prototype._findMapping=function(e,t,n,r,i,a){if(e[n]<=0)throw new TypeError("Line must be greater than or equal to 1, got "+e[n]);if(e[r]<0)throw new TypeError("Column must be greater than or equal to 0, got "+e[r]);return o.search(e,t,i,a)},c.prototype.computeColumnSpans=function(){for(var e=0;e<this._generatedMappings.length;++e){var t=this._generatedMappings[e];if(e+1<this._generatedMappings.length){var n=this._generatedMappings[e+1];if(t.generatedLine===n.generatedLine){t.lastGeneratedColumn=n.generatedColumn-1;continue}}t.lastGeneratedColumn=1/0}},c.prototype.originalPositionFor=function(e){var t={generatedLine:r.getArg(e,"line"),generatedColumn:r.getArg(e,"column")},n=this._findMapping(t,this._generatedMappings,"generatedLine","generatedColumn",r.compareByGeneratedPositionsDeflated,r.getArg(e,"bias",l.GREATEST_LOWER_BOUND));if(n>=0){var o=this._generatedMappings[n];if(o.generatedLine===t.generatedLine){var i=r.getArg(o,"source",null);null!==i&&(i=this._sources.at(i),i=r.computeSourceURL(this.sourceRoot,i,this._sourceMapURL));var a=r.getArg(o,"name",null);return null!==a&&(a=this._names.at(a)),{source:i,line:r.getArg(o,"originalLine",null),column:r.getArg(o,"originalColumn",null),name:a}}}return{source:null,line:null,column:null,name:null}},c.prototype.hasContentsOfAllSources=function(){return!!this.sourcesContent&&this.sourcesContent.length>=this._sources.size()&&!this.sourcesContent.some(function(e){return null==e})},c.prototype.sourceContentFor=function(e,t){if(!this.sourcesContent)return null;var n=this._findSourceIndex(e);if(n>=0)return this.sourcesContent[n];var o,i=e;if(null!=this.sourceRoot&&(i=r.relative(this.sourceRoot,i)),null!=this.sourceRoot&&(o=r.urlParse(this.sourceRoot))){var a=i.replace(/^file:\/\//,"");if("file"==o.scheme&&this._sources.has(a))return this.sourcesContent[this._sources.indexOf(a)];if((!o.path||"/"==o.path)&&this._sources.has("/"+i))return this.sourcesContent[this._sources.indexOf("/"+i)]}if(t)return null;throw new Error('"'+i+'" is not in the SourceMap.')},c.prototype.generatedPositionFor=function(e){var t=r.getArg(e,"source");if((t=this._findSourceIndex(t))<0)return{line:null,column:null,lastColumn:null};var n={source:t,originalLine:r.getArg(e,"line"),originalColumn:r.getArg(e,"column")},o=this._findMapping(n,this._originalMappings,"originalLine","originalColumn",r.compareByOriginalPositions,r.getArg(e,"bias",l.GREATEST_LOWER_BOUND));if(o>=0){var i=this._originalMappings[o];if(i.source===n.source)return{line:r.getArg(i,"generatedLine",null),column:r.getArg(i,"generatedColumn",null),lastColumn:r.getArg(i,"lastGeneratedColumn",null)}}return{line:null,column:null,lastColumn:null}},n.BasicSourceMapConsumer=c,d.prototype=Object.create(l.prototype),d.prototype.constructor=l,d.prototype._version=3,Object.defineProperty(d.prototype,"sources",{get:function(){for(var e=[],t=0;t<this._sections.length;t++)for(var n=0;n<this._sections[t].consumer.sources.length;n++)e.push(this._sections[t].consumer.sources[n]);return e}}),d.prototype.originalPositionFor=function(e){var t={generatedLine:r.getArg(e,"line"),generatedColumn:r.getArg(e,"column")},n=o.search(t,this._sections,function(e,t){return e.generatedLine-t.generatedOffset.generatedLine||e.generatedColumn-t.generatedOffset.generatedColumn}),i=this._sections[n];return i?i.consumer.originalPositionFor({line:t.generatedLine-(i.generatedOffset.generatedLine-1),column:t.generatedColumn-(i.generatedOffset.generatedLine===t.generatedLine?i.generatedOffset.generatedColumn-1:0),bias:e.bias}):{source:null,line:null,column:null,name:null}},d.prototype.hasContentsOfAllSources=function(){return this._sections.every(function(e){return e.consumer.hasContentsOfAllSources()})},d.prototype.sourceContentFor=function(e,t){for(var n=0;n<this._sections.length;n++){var r=this._sections[n].consumer.sourceContentFor(e,!0);if(r)return r}if(t)return null;throw new Error('"'+e+'" is not in the SourceMap.')},d.prototype.generatedPositionFor=function(e){for(var t=0;t<this._sections.length;t++){var n=this._sections[t];if(-1!==n.consumer._findSourceIndex(r.getArg(e,"source"))){var o=n.consumer.generatedPositionFor(e);if(o)return{line:o.line+(n.generatedOffset.generatedLine-1),column:o.column+(n.generatedOffset.generatedLine===o.line?n.generatedOffset.generatedColumn-1:0)}}}return{line:null,column:null}},d.prototype._parseMappings=function(e,t){this.__generatedMappings=[],this.__originalMappings=[];for(var n=0;n<this._sections.length;n++)for(var o=this._sections[n],i=o.consumer._generatedMappings,a=0;a<i.length;a++){var l=i[a],c=o.consumer._sources.at(l.source);c=r.computeSourceURL(o.consumer.sourceRoot,c,this._sourceMapURL),this._sources.add(c),c=this._sources.indexOf(c);var u=null;l.name&&(u=o.consumer._names.at(l.name),this._names.add(u),u=this._names.indexOf(u));var d={source:c,generatedLine:l.generatedLine+(o.generatedOffset.generatedLine-1),generatedColumn:l.generatedColumn+(o.generatedOffset.generatedLine===l.generatedLine?o.generatedOffset.generatedColumn-1:0),originalLine:l.originalLine,originalColumn:l.originalColumn,name:u};this.__generatedMappings.push(d),"number"==typeof d.originalLine&&this.__originalMappings.push(d)}s(this.__generatedMappings,r.compareByGeneratedPositionsDeflated),s(this.__originalMappings,r.compareByOriginalPositions)},n.IndexedSourceMapConsumer=d},{"./array-set":68,"./base64-vlq":69,"./binary-search":71,"./quick-sort":73,"./util":77}],75:[function(e,t,n){var r=e("./base64-vlq"),o=e("./util"),i=e("./array-set").ArraySet,a=e("./mapping-list").MappingList;function s(e){e||(e={}),this._file=o.getArg(e,"file",null),this._sourceRoot=o.getArg(e,"sourceRoot",null),this._skipValidation=o.getArg(e,"skipValidation",!1),this._sources=new i,this._names=new i,this._mappings=new a,this._sourcesContents=null}s.prototype._version=3,s.fromSourceMap=function(e){var t=e.sourceRoot,n=new s({file:e.file,sourceRoot:t});return e.eachMapping(function(e){var r={generated:{line:e.generatedLine,column:e.generatedColumn}};null!=e.source&&(r.source=e.source,null!=t&&(r.source=o.relative(t,r.source)),r.original={line:e.originalLine,column:e.originalColumn},null!=e.name&&(r.name=e.name)),n.addMapping(r)}),e.sources.forEach(function(r){var i=r;null!==t&&(i=o.relative(t,r)),n._sources.has(i)||n._sources.add(i);var a=e.sourceContentFor(r);null!=a&&n.setSourceContent(r,a)}),n},s.prototype.addMapping=function(e){var t=o.getArg(e,"generated"),n=o.getArg(e,"original",null),r=o.getArg(e,"source",null),i=o.getArg(e,"name",null);this._skipValidation||this._validateMapping(t,n,r,i),null!=r&&(r=String(r),this._sources.has(r)||this._sources.add(r)),null!=i&&(i=String(i),this._names.has(i)||this._names.add(i)),this._mappings.add({generatedLine:t.line,generatedColumn:t.column,originalLine:null!=n&&n.line,originalColumn:null!=n&&n.column,source:r,name:i})},s.prototype.setSourceContent=function(e,t){var n=e;null!=this._sourceRoot&&(n=o.relative(this._sourceRoot,n)),null!=t?(this._sourcesContents||(this._sourcesContents=Object.create(null)),this._sourcesContents[o.toSetString(n)]=t):this._sourcesContents&&(delete this._sourcesContents[o.toSetString(n)],0===Object.keys(this._sourcesContents).length&&(this._sourcesContents=null))},s.prototype.applySourceMap=function(e,t,n){var r=t;if(null==t){if(null==e.file)throw new Error('SourceMapGenerator.prototype.applySourceMap requires either an explicit source file, or the source map\'s "file" property. Both were omitted.');r=e.file}var a=this._sourceRoot;null!=a&&(r=o.relative(a,r));var s=new i,l=new i;this._mappings.unsortedForEach(function(t){if(t.source===r&&null!=t.originalLine){var i=e.originalPositionFor({line:t.originalLine,column:t.originalColumn});null!=i.source&&(t.source=i.source,null!=n&&(t.source=o.join(n,t.source)),null!=a&&(t.source=o.relative(a,t.source)),t.originalLine=i.line,t.originalColumn=i.column,null!=i.name&&(t.name=i.name))}var c=t.source;null==c||s.has(c)||s.add(c);var u=t.name;null==u||l.has(u)||l.add(u)},this),this._sources=s,this._names=l,e.sources.forEach(function(t){var r=e.sourceContentFor(t);null!=r&&(null!=n&&(t=o.join(n,t)),null!=a&&(t=o.relative(a,t)),this.setSourceContent(t,r))},this)},s.prototype._validateMapping=function(e,t,n,r){if(t&&"number"!=typeof t.line&&"number"!=typeof t.column)throw new Error("original.line and original.column are not numbers -- you probably meant to omit the original mapping entirely and only map the generated position. If so, pass null for the original mapping instead of an object with empty or null values.");if((!(e&&"line"in e&&"column"in e&&e.line>0&&e.column>=0)||t||n||r)&&!(e&&"line"in e&&"column"in e&&t&&"line"in t&&"column"in t&&e.line>0&&e.column>=0&&t.line>0&&t.column>=0&&n))throw new Error("Invalid mapping: "+JSON.stringify({generated:e,source:n,original:t,name:r}))},s.prototype._serializeMappings=function(){for(var e,t,n,i,a=0,s=1,l=0,c=0,u=0,d=0,p="",f=this._mappings.toArray(),h=0,m=f.length;h<m;h++){if(e="",(t=f[h]).generatedLine!==s)for(a=0;t.generatedLine!==s;)e+=";",s++;else if(h>0){if(!o.compareByGeneratedPositionsInflated(t,f[h-1]))continue;e+=","}e+=r.encode(t.generatedColumn-a),a=t.generatedColumn,null!=t.source&&(i=this._sources.indexOf(t.source),e+=r.encode(i-d),d=i,e+=r.encode(t.originalLine-1-c),c=t.originalLine-1,e+=r.encode(t.originalColumn-l),l=t.originalColumn,null!=t.name&&(n=this._names.indexOf(t.name),e+=r.encode(n-u),u=n)),p+=e}return p},s.prototype._generateSourcesContent=function(e,t){return e.map(function(e){if(!this._sourcesContents)return null;null!=t&&(e=o.relative(t,e));var n=o.toSetString(e);return Object.prototype.hasOwnProperty.call(this._sourcesContents,n)?this._sourcesContents[n]:null},this)},s.prototype.toJSON=function(){var e={version:this._version,sources:this._sources.toArray(),names:this._names.toArray(),mappings:this._serializeMappings()};return null!=this._file&&(e.file=this._file),null!=this._sourceRoot&&(e.sourceRoot=this._sourceRoot),this._sourcesContents&&(e.sourcesContent=this._generateSourcesContent(e.sources,e.sourceRoot)),e},s.prototype.toString=function(){return JSON.stringify(this.toJSON())},n.SourceMapGenerator=s},{"./array-set":68,"./base64-vlq":69,"./mapping-list":72,"./util":77}],76:[function(e,t,n){var r=e("./source-map-generator").SourceMapGenerator,o=e("./util"),i=/(\r?\n)/,a="$$$isSourceNode$$$";function s(e,t,n,r,o){this.children=[],this.sourceContents={},this.line=null==e?null:e,this.column=null==t?null:t,this.source=null==n?null:n,this.name=null==o?null:o,this[a]=!0,null!=r&&this.add(r)}s.fromStringWithSourceMap=function(e,t,n){var r=new s,a=e.split(i),l=0,c=function(){return e()+(e()||"");function e(){return l<a.length?a[l++]:void 0}},u=1,d=0,p=null;return t.eachMapping(function(e){if(null!==p){if(!(u<e.generatedLine)){var t=(n=a[l]||"").substr(0,e.generatedColumn-d);return a[l]=n.substr(e.generatedColumn-d),d=e.generatedColumn,f(p,t),void(p=e)}f(p,c()),u++,d=0}for(;u<e.generatedLine;)r.add(c()),u++;if(d<e.generatedColumn){var n=a[l]||"";r.add(n.substr(0,e.generatedColumn)),a[l]=n.substr(e.generatedColumn),d=e.generatedColumn}p=e},this),l<a.length&&(p&&f(p,c()),r.add(a.splice(l).join(""))),t.sources.forEach(function(e){var i=t.sourceContentFor(e);null!=i&&(null!=n&&(e=o.join(n,e)),r.setSourceContent(e,i))}),r;function f(e,t){if(null===e||void 0===e.source)r.add(t);else{var i=n?o.join(n,e.source):e.source;r.add(new s(e.originalLine,e.originalColumn,i,t,e.name))}}},s.prototype.add=function(e){if(Array.isArray(e))e.forEach(function(e){this.add(e)},this);else{if(!e[a]&&"string"!=typeof e)throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+e);e&&this.children.push(e)}return this},s.prototype.prepend=function(e){if(Array.isArray(e))for(var t=e.length-1;t>=0;t--)this.prepend(e[t]);else{if(!e[a]&&"string"!=typeof e)throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+e);this.children.unshift(e)}return this},s.prototype.walk=function(e){for(var t,n=0,r=this.children.length;n<r;n++)(t=this.children[n])[a]?t.walk(e):""!==t&&e(t,{source:this.source,line:this.line,column:this.column,name:this.name})},s.prototype.join=function(e){var t,n,r=this.children.length;if(r>0){for(t=[],n=0;n<r-1;n++)t.push(this.children[n]),t.push(e);t.push(this.children[n]),this.children=t}return this},s.prototype.replaceRight=function(e,t){var n=this.children[this.children.length-1];return n[a]?n.replaceRight(e,t):"string"==typeof n?this.children[this.children.length-1]=n.replace(e,t):this.children.push("".replace(e,t)),this},s.prototype.setSourceContent=function(e,t){this.sourceContents[o.toSetString(e)]=t},s.prototype.walkSourceContents=function(e){for(var t=0,n=this.children.length;t<n;t++)this.children[t][a]&&this.children[t].walkSourceContents(e);var r=Object.keys(this.sourceContents);for(t=0,n=r.length;t<n;t++)e(o.fromSetString(r[t]),this.sourceContents[r[t]])},s.prototype.toString=function(){var e="";return this.walk(function(t){e+=t}),e},s.prototype.toStringWithSourceMap=function(e){var t={code:"",line:1,column:0},n=new r(e),o=!1,i=null,a=null,s=null,l=null;return this.walk(function(e,r){t.code+=e,null!==r.source&&null!==r.line&&null!==r.column?(i===r.source&&a===r.line&&s===r.column&&l===r.name||n.addMapping({source:r.source,original:{line:r.line,column:r.column},generated:{line:t.line,column:t.column},name:r.name}),i=r.source,a=r.line,s=r.column,l=r.name,o=!0):o&&(n.addMapping({generated:{line:t.line,column:t.column}}),i=null,o=!1);for(var c=0,u=e.length;c<u;c++)10===e.charCodeAt(c)?(t.line++,t.column=0,c+1===u?(i=null,o=!1):o&&n.addMapping({source:r.source,original:{line:r.line,column:r.column},generated:{line:t.line,column:t.column},name:r.name})):t.column++}),this.walkSourceContents(function(e,t){n.setSourceContent(e,t)}),{code:t.code,map:n}},n.SourceNode=s},{"./source-map-generator":75,"./util":77}],77:[function(e,t,n){n.getArg=function(e,t,n){if(t in e)return e[t];if(3===arguments.length)return n;throw new Error('"'+t+'" is a required argument.')};var r=/^(?:([\w+\-.]+):)?\/\/(?:(\w+:\w+)@)?([\w.-]*)(?::(\d+))?(.*)$/,o=/^data:.+\,.+$/;function i(e){var t=e.match(r);return t?{scheme:t[1],auth:t[2],host:t[3],port:t[4],path:t[5]}:null}function a(e){var t="";return e.scheme&&(t+=e.scheme+":"),t+="//",e.auth&&(t+=e.auth+"@"),e.host&&(t+=e.host),e.port&&(t+=":"+e.port),e.path&&(t+=e.path),t}function s(e){var t=e,r=i(e);if(r){if(!r.path)return e;t=r.path}for(var o,s=n.isAbsolute(t),l=t.split(/\/+/),c=0,u=l.length-1;u>=0;u--)"."===(o=l[u])?l.splice(u,1):".."===o?c++:c>0&&(""===o?(l.splice(u+1,c),c=0):(l.splice(u,2),c--));return""===(t=l.join("/"))&&(t=s?"/":"."),r?(r.path=t,a(r)):t}function l(e,t){""===e&&(e="."),""===t&&(t=".");var n=i(t),r=i(e);if(r&&(e=r.path||"/"),n&&!n.scheme)return r&&(n.scheme=r.scheme),a(n);if(n||t.match(o))return t;if(r&&!r.host&&!r.path)return r.host=t,a(r);var l="/"===t.charAt(0)?t:s(e.replace(/\/+$/,"")+"/"+t);return r?(r.path=l,a(r)):l}n.urlParse=i,n.urlGenerate=a,n.normalize=s,n.join=l,n.isAbsolute=function(e){return"/"===e.charAt(0)||r.test(e)},n.relative=function(e,t){""===e&&(e="."),e=e.replace(/\/$/,"");for(var n=0;0!==t.indexOf(e+"/");){var r=e.lastIndexOf("/");if(r<0)return t;if((e=e.slice(0,r)).match(/^([^\/]+:\/)?\/*$/))return t;++n}return Array(n+1).join("../")+t.substr(e.length+1)};var c=!("__proto__"in Object.create(null));function u(e){return e}function d(e){if(!e)return!1;var t=e.length;if(t<9)return!1;if(95!==e.charCodeAt(t-1)||95!==e.charCodeAt(t-2)||111!==e.charCodeAt(t-3)||116!==e.charCodeAt(t-4)||111!==e.charCodeAt(t-5)||114!==e.charCodeAt(t-6)||112!==e.charCodeAt(t-7)||95!==e.charCodeAt(t-8)||95!==e.charCodeAt(t-9))return!1;for(var n=t-10;n>=0;n--)if(36!==e.charCodeAt(n))return!1;return!0}function p(e,t){return e===t?0:null===e?1:null===t?-1:e>t?1:-1}n.toSetString=c?u:function(e){return d(e)?"$"+e:e},n.fromSetString=c?u:function(e){return d(e)?e.slice(1):e},n.compareByOriginalPositions=function(e,t,n){var r=p(e.source,t.source);return 0!==r?r:0!=(r=e.originalLine-t.originalLine)?r:0!=(r=e.originalColumn-t.originalColumn)||n?r:0!=(r=e.generatedColumn-t.generatedColumn)?r:0!=(r=e.generatedLine-t.generatedLine)?r:p(e.name,t.name)},n.compareByGeneratedPositionsDeflated=function(e,t,n){var r=e.generatedLine-t.generatedLine;return 0!==r?r:0!=(r=e.generatedColumn-t.generatedColumn)||n?r:0!==(r=p(e.source,t.source))?r:0!=(r=e.originalLine-t.originalLine)?r:0!=(r=e.originalColumn-t.originalColumn)?r:p(e.name,t.name)},n.compareByGeneratedPositionsInflated=function(e,t){var n=e.generatedLine-t.generatedLine;return 0!==n?n:0!=(n=e.generatedColumn-t.generatedColumn)?n:0!==(n=p(e.source,t.source))?n:0!=(n=e.originalLine-t.originalLine)?n:0!=(n=e.originalColumn-t.originalColumn)?n:p(e.name,t.name)},n.parseSourceMapInput=function(e){return JSON.parse(e.replace(/^\)]}'[^\n]*\n/,""))},n.computeSourceURL=function(e,t,n){if(t=t||"",e&&("/"!==e[e.length-1]&&"/"!==t[0]&&(e+="/"),t=e+t),n){var r=i(n);if(!r)throw new Error("sourceMapURL could not be parsed");if(r.path){var o=r.path.lastIndexOf("/");o>=0&&(r.path=r.path.substring(0,o+1))}t=l(a(r),t)}return s(t)}},{}],78:[function(e,t,n){n.SourceMapGenerator=e("./lib/source-map-generator").SourceMapGenerator,n.SourceMapConsumer=e("./lib/source-map-consumer").SourceMapConsumer,n.SourceNode=e("./lib/source-node").SourceNode},{"./lib/source-map-consumer":74,"./lib/source-map-generator":75,"./lib/source-node":76}],79:[function(e,t,n){var r=/^\d+$/;n.parse=function(e){return function(e){return e.sort().filter(function(t,n){return JSON.stringify(t)!==JSON.stringify(e[n-1])})}(e.split(",").map(function(e){var t={};return e.trim().split(/\s+/).forEach(function(e,n){if(0!==n){var o=e.slice(0,e.length-1),i=e[e.length-1],a=parseInt(o,10),s=parseFloat(o);if("w"===i&&r.test(o))t.width=a;else if("h"===i&&r.test(o))t.height=a;else{if("x"!==i||Number.isNaN(s))throw new Error("Invalid srcset descriptor: ".concat(e));t.density=s}}else t.url=e}),t}))},n.stringify=function(e){return function(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}(new Set(e.map(function(e){if(!e.url)throw new Error("URL is required");var t=[e.url];return e.width&&t.push("".concat(e.width,"w")),e.height&&t.push("".concat(e.height,"h")),e.density&&t.push("".concat(e.density,"x")),t.join(" ")}))).join(", ")}},{}],80:[function(e,t,n){var r=e("punycode"),o=e("./util");function i(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}n.parse=k,n.resolve=function(e,t){return k(e,!1,!0).resolve(t)},n.resolveObject=function(e,t){return e?k(e,!1,!0).resolveObject(t):t},n.format=function(e){return o.isString(e)&&(e=k(e)),e instanceof i?e.format():i.prototype.format.call(e)},n.Url=i;var a=/^([a-z0-9.+-]+:)/i,l=/:[0-9]*$/,c=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,u=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),d=["'"].concat(u),p=["%","/","?",";","#"].concat(d),f=["/","?","#"],h=/^[+a-z0-9A-Z_-]{0,63}$/,m=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,g={javascript:!0,"javascript:":!0},b={javascript:!0,"javascript:":!0},v={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},y=e("querystring");function k(e,t,n){if(e&&o.isObject(e)&&e instanceof i)return e;var r=new i;return r.parse(e,t,n),r}i.prototype.parse=function(e,t,n){if(!o.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+s(e));var i=e.indexOf("?"),l=-1!==i&&i<e.indexOf("#")?"?":"#",u=e.split(l);u[0]=u[0].replace(/\\/g,"/");var k=e=u.join(l);if(k=k.trim(),!n&&1===e.split("#").length){var _=c.exec(k);if(_)return this.path=k,this.href=k,this.pathname=_[1],_[2]?(this.search=_[2],this.query=t?y.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var w=a.exec(k);if(w){var C=(w=w[0]).toLowerCase();this.protocol=C,k=k.substr(w.length)}if(n||w||k.match(/^\/\/[^@\/]+@[^@\/]+/)){var S="//"===k.substr(0,2);!S||w&&b[w]||(k=k.substr(2),this.slashes=!0)}if(!b[w]&&(S||w&&!v[w])){for(var P,E,x=-1,O=0;O<f.length;O++)-1!==(T=k.indexOf(f[O]))&&(-1===x||T<x)&&(x=T);for(-1!==(E=-1===x?k.lastIndexOf("@"):k.lastIndexOf("@",x))&&(P=k.slice(0,E),k=k.slice(E+1),this.auth=decodeURIComponent(P)),x=-1,O=0;O<p.length;O++){var T;-1!==(T=k.indexOf(p[O]))&&(-1===x||T<x)&&(x=T)}-1===x&&(x=k.length),this.host=k.slice(0,x),k=k.slice(x),this.parseHost(),this.hostname=this.hostname||"";var M="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!M)for(var A=this.hostname.split(/\./),j=(O=0,A.length);O<j;O++){var I=A[O];if(I&&!I.match(h)){for(var N="",R=0,D=I.length;R<D;R++)I.charCodeAt(R)>127?N+="x":N+=I[R];if(!N.match(h)){var L=A.slice(0,O),B=A.slice(O+1),F=I.match(m);F&&(L.push(F[1]),B.unshift(F[2])),B.length&&(k="/"+B.join(".")+k),this.hostname=L.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),M||(this.hostname=r.toASCII(this.hostname));var U=this.port?":"+this.port:"",q=this.hostname||"";this.host=q+U,this.href+=this.host,M&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==k[0]&&(k="/"+k))}if(!g[C])for(O=0,j=d.length;O<j;O++){var z=d[O];if(-1!==k.indexOf(z)){var H=encodeURIComponent(z);H===z&&(H=escape(z)),k=k.split(z).join(H)}}var V=k.indexOf("#");-1!==V&&(this.hash=k.substr(V),k=k.slice(0,V));var W=k.indexOf("?");if(-1!==W?(this.search=k.substr(W),this.query=k.substr(W+1),t&&(this.query=y.parse(this.query)),k=k.slice(0,W)):t&&(this.search="",this.query={}),k&&(this.pathname=k),v[C]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){U=this.pathname||"";var G=this.search||"";this.path=U+G}return this.href=this.format(),this},i.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var t=this.protocol||"",n=this.pathname||"",r=this.hash||"",i=!1,a="";this.host?i=e+this.host:this.hostname&&(i=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&o.isObject(this.query)&&Object.keys(this.query).length&&(a=y.stringify(this.query));var s=this.search||a&&"?"+a||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||v[t])&&!1!==i?(i="//"+(i||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):i||(i=""),r&&"#"!==r.charAt(0)&&(r="#"+r),s&&"?"!==s.charAt(0)&&(s="?"+s),t+i+(n=n.replace(/[?#]/g,function(e){return encodeURIComponent(e)}))+(s=s.replace("#","%23"))+r},i.prototype.resolve=function(e){return this.resolveObject(k(e,!1,!0)).format()},i.prototype.resolveObject=function(e){if(o.isString(e)){var t=new i;t.parse(e,!1,!0),e=t}for(var n=new i,r=Object.keys(this),a=0;a<r.length;a++){var s=r[a];n[s]=this[s]}if(n.hash=e.hash,""===e.href)return n.href=n.format(),n;if(e.slashes&&!e.protocol){for(var l=Object.keys(e),c=0;c<l.length;c++){var u=l[c];"protocol"!==u&&(n[u]=e[u])}return v[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n}if(e.protocol&&e.protocol!==n.protocol){if(!v[e.protocol]){for(var d=Object.keys(e),p=0;p<d.length;p++){var f=d[p];n[f]=e[f]}return n.href=n.format(),n}if(n.protocol=e.protocol,e.host||b[e.protocol])n.pathname=e.pathname;else{for(var h=(e.pathname||"").split("/");h.length&&!(e.host=h.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==h[0]&&h.unshift(""),h.length<2&&h.unshift(""),n.pathname=h.join("/")}if(n.search=e.search,n.query=e.query,n.host=e.host||"",n.auth=e.auth,n.hostname=e.hostname||e.host,n.port=e.port,n.pathname||n.search){var m=n.pathname||"",g=n.search||"";n.path=m+g}return n.slashes=n.slashes||e.slashes,n.href=n.format(),n}var y=n.pathname&&"/"===n.pathname.charAt(0),k=e.host||e.pathname&&"/"===e.pathname.charAt(0),_=k||y||n.host&&e.pathname,w=_,C=n.pathname&&n.pathname.split("/")||[],S=(h=e.pathname&&e.pathname.split("/")||[],n.protocol&&!v[n.protocol]);if(S&&(n.hostname="",n.port=null,n.host&&(""===C[0]?C[0]=n.host:C.unshift(n.host)),n.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===h[0]?h[0]=e.host:h.unshift(e.host)),e.host=null),_=_&&(""===h[0]||""===C[0])),k)n.host=e.host||""===e.host?e.host:n.host,n.hostname=e.hostname||""===e.hostname?e.hostname:n.hostname,n.search=e.search,n.query=e.query,C=h;else if(h.length)C||(C=[]),C.pop(),C=C.concat(h),n.search=e.search,n.query=e.query;else if(!o.isNullOrUndefined(e.search))return S&&(n.hostname=n.host=C.shift(),(T=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=T.shift(),n.host=n.hostname=T.shift())),n.search=e.search,n.query=e.query,o.isNull(n.pathname)&&o.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n;if(!C.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var P=C.slice(-1)[0],E=(n.host||e.host||C.length>1)&&("."===P||".."===P)||""===P,x=0,O=C.length;O>=0;O--)"."===(P=C[O])?C.splice(O,1):".."===P?(C.splice(O,1),x++):x&&(C.splice(O,1),x--);if(!_&&!w)for(;x--;x)C.unshift("..");!_||""===C[0]||C[0]&&"/"===C[0].charAt(0)||C.unshift(""),E&&"/"!==C.join("/").substr(-1)&&C.push("");var T,M=""===C[0]||C[0]&&"/"===C[0].charAt(0);return S&&(n.hostname=n.host=M?"":C.length?C.shift():"",(T=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=T.shift(),n.host=n.hostname=T.shift())),(_=_||n.host&&C.length)&&!M&&C.unshift(""),C.length?n.pathname=C.join("/"):(n.pathname=null,n.path=null),o.isNull(n.pathname)&&o.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=e.auth||n.auth,n.slashes=n.slashes||e.slashes,n.href=n.format(),n},i.prototype.parseHost=function(){var e=this.host,t=l.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},{"./util":81,punycode:64,querystring:67}],81:[function(e,t,n){t.exports={isString:function(e){return"string"==typeof e},isObject:function(e){return"object"===s(e)&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e}}},{}],82:[function(e,t,n){t.exports=function(){for(var e={},t=0;t<arguments.length;t++){var n=arguments[t];for(var o in n)r.call(n,o)&&(e[o]=n[o])}return e};var r=Object.prototype.hasOwnProperty},{}],83:[function(e,t,n){var r=e("htmlparser2"),o=e("xtend"),i=e("lodash.escaperegexp"),a=e("lodash.clonedeep"),s=e("lodash.mergewith"),l=e("lodash.isstring"),c=e("lodash.isplainobject"),u=e("srcset"),d=e("postcss"),p=e("url");function f(e,t){e&&Object.keys(e).forEach(function(n){t(e[n],n)})}function h(e,t){return{}.hasOwnProperty.call(e,t)}function m(e,t){var n=[];return f(e,function(e){t(e)&&n.push(e)}),n}t.exports=b;var g=/^[^\0\t\n\f\r /<=>]+$/;function b(e,t,n){var y="",k="";t?(t=o(b.defaults,t)).parser?t.parser=o(v,t.parser):t.parser=v:(t=b.defaults).parser=v;var _,w,C=t.nonTextTags||["script","style","textarea"];t.allowedAttributes&&(_={},w={},f(t.allowedAttributes,function(e,t){_[t]=[];var n=[];e.forEach(function(e){l(e)&&e.indexOf("*")>=0?n.push(i(e).replace(/\\\*/g,".*")):_[t].push(e)}),w[t]=new RegExp("^("+n.join("|")+")$")}));var S={};f(t.allowedClasses,function(e,t){_&&(h(_,t)||(_[t]=[]),_[t].push("class")),S[t]=e});var P,E={};f(t.transformTags,function(e,t){var n;"function"==typeof e?n=e:"string"==typeof e&&(n=b.simpleTransform(e)),"*"===t?P=n:E[t]=n});var x=0,O=[],T={},M={},A=!1,j=0,I=new r.Parser({onopentag:function(e,n){if(A)j++;else{var r=new function(e,t){var n=this;this.tag=e,this.attribs=t||{},this.tagPosition=y.length,this.text="",this.updateParentNodeText=function(){O.length&&(O[O.length-1].text+=n.text)}}(e,n);O.push(r);var o,i=!1,l=!!r.text;if(h(E,e)&&(o=E[e](e,n),r.attribs=n=o.attribs,void 0!==o.text&&(r.innerText=o.text),e!==o.tagName&&(r.name=e=o.tagName,M[x]=o.tagName)),P&&(o=P(e,n),r.attribs=n=o.attribs,e!==o.tagName&&(r.name=e=o.tagName,M[x]=o.tagName)),(t.allowedTags&&-1===t.allowedTags.indexOf(e)||"recursiveEscape"===t.disallowedTagsMode&&!function(e){for(var t in e)if(h(e,t))return!1;return!0}(T))&&(i=!0,T[x]=!0,"discard"===t.disallowedTagsMode&&-1!==C.indexOf(e)&&(A=!0,j=1),T[x]=!0),x++,i){if("discard"===t.disallowedTagsMode)return;k=y,y=""}y+="<"+e,(!_||h(_,e)||_["*"])&&f(n,function(n,o){if(g.test(o)){var i,l=!1;if(!_||h(_,e)&&-1!==_[e].indexOf(o)||_["*"]&&-1!==_["*"].indexOf(o)||h(w,e)&&w[e].test(o)||w["*"]&&w["*"].test(o))l=!0;else if(_&&_[e]){var b=!0,v=!1,k=void 0;try{for(var C,P=_[e][Symbol.iterator]();!(b=(C=P.next()).done);b=!0){var E=C.value;if(c(E)&&E.name&&E.name===o){l=!0;var x="";if(!0===E.multiple){var O=n.split(" "),T=!0,M=!1,A=void 0;try{for(var j,I=O[Symbol.iterator]();!(T=(j=I.next()).done);T=!0){var D=j.value;-1!==E.values.indexOf(D)&&(""===x?x=D:x+=" "+D)}}catch(e){M=!0,A=e}finally{try{T||null==I.return||I.return()}finally{if(M)throw A}}}else E.values.indexOf(n)>=0&&(x=n);n=x}}}catch(e){v=!0,k=e}finally{try{b||null==P.return||P.return()}finally{if(v)throw k}}}if(l){if(-1!==t.allowedSchemesAppliedToAttributes.indexOf(o)&&R(e,n))return void delete r.attribs[o];if("iframe"===e&&"src"===o){var L=!0;try{(i=p.parse(n,!1,!0))&&null===i.host&&null===i.protocol?L=h(t,"allowIframeRelativeUrls")?t.allowIframeRelativeUrls:!t.allowedIframeHostnames:t.allowedIframeHostnames&&(L=t.allowedIframeHostnames.find(function(e){return e===i.hostname}))}catch(e){L=!1}if(!L)return void delete r.attribs[o]}if("srcset"===o)try{if(f(i=u.parse(n),function(e){R("srcset",e.url)&&(e.evil=!0)}),!(i=m(i,function(e){return!e.evil})).length)return void delete r.attribs[o];n=u.stringify(m(i,function(e){return!e.evil})),r.attribs[o]=n}catch(e){return void delete r.attribs[o]}if("class"===o&&!(n=function(e,t){return t?(e=e.split(/\s+/)).filter(function(e){return-1!==t.indexOf(e)}).join(" "):e}(n,S[e])).length)return void delete r.attribs[o];if("style"===o)try{if(0===(n=function(e){return e.nodes[0].nodes.reduce(function(e,t){return e.push(t.prop+":"+t.value),e},[]).join(";")}(function(e,t){if(!t)return e;var n,r=a(e),o=e.nodes[0];return(n=t[o.selector]&&t["*"]?s(a(t[o.selector]),t["*"],function(e,t){if(Array.isArray(e))return e.concat(t)}):t[o.selector]||t["*"])&&(r.nodes[0].nodes=o.nodes.reduce(function(e){return function(t,n){e.hasOwnProperty(n.prop)&&(e[n.prop].some(function(e){return e.test(n.value)})&&t.push(n));return t}}(n),[])),r}(d.parse(e+" {"+n+"}"),t.allowedStyles))).length)return void delete r.attribs[o]}catch(e){return void delete r.attribs[o]}y+=" "+o,n&&n.length&&(y+='="'+N(n,!0)+'"')}else delete r.attribs[o]}else delete r.attribs[o]}),-1!==t.selfClosing.indexOf(e)?y+=" />":(y+=">",!r.innerText||l||t.textFilter||(y+=r.innerText)),i&&(y=k+N(y),k="")}},ontext:function(e){if(!A){var n,r=O[O.length-1];if(r&&(n=r.tag,e=void 0!==r.innerText?r.innerText:e),"discard"!==t.disallowedTagsMode||"script"!==n&&"style"!==n){var o=N(e,!1);t.textFilter?y+=t.textFilter(o):y+=o}else y+=e;O.length&&(O[O.length-1].text+=e)}},onclosetag:function(e){if(A){if(--j)return;A=!1}var n=O.pop();if(n){A=!1;var r=T[--x];if(r){if(delete T[x],"discard"===t.disallowedTagsMode)return void n.updateParentNodeText();k=y,y=""}M[x]&&(e=M[x],delete M[x]),t.exclusiveFilter&&t.exclusiveFilter(n)?y=y.substr(0,n.tagPosition):(n.updateParentNodeText(),-1===t.selfClosing.indexOf(e)&&(y+="</"+e+">",r&&(y=k+N(y),k="")))}}},t.parser);return I.write(e),I.end(),y;function N(e,n){return"string"!=typeof e&&(e+=""),t.parser.decodeEntities&&(e=e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\>/g,"&gt;"),n&&(e=e.replace(/\"/g,"&quot;"))),e=e.replace(/&(?![a-zA-Z0-9#]{1,20};)/g,"&amp;").replace(/</g,"&lt;").replace(/\>/g,"&gt;"),n&&(e=e.replace(/\"/g,"&quot;")),e}function R(e,n){var r=(n=(n=n.replace(/[\x00-\x20]+/g,"")).replace(/<\!\-\-.*?\-\-\>/g,"")).match(/^([a-zA-Z]+)\:/);if(!r)return!!n.match(/^[\/\\]{2}/)&&!t.allowProtocolRelative;var o=r[1].toLowerCase();return h(t.allowedSchemesByTag,e)?-1===t.allowedSchemesByTag[e].indexOf(o):!t.allowedSchemes||-1===t.allowedSchemes.indexOf(o)}}var v={decodeEntities:!0};b.defaults={allowedTags:["h3","h4","h5","h6","blockquote","p","a","ul","ol","nl","li","b","i","strong","em","strike","code","hr","br","div","table","thead","caption","tbody","tr","th","td","pre","iframe"],disallowedTagsMode:"discard",allowedAttributes:{a:["href","name","target"],img:["src"]},selfClosing:["img","br","hr","area","base","basefont","input","link","meta"],allowedSchemes:["http","https","ftp","mailto"],allowedSchemesByTag:{},allowedSchemesAppliedToAttributes:["href","src","cite"],allowProtocolRelative:!0},b.simpleTransform=function(e,t,n){return n=void 0===n||n,t=t||{},function(r,o){var i;if(n)for(i in t)o[i]=t[i];else o=t;return{tagName:e,attribs:o}}}},{htmlparser2:31,"lodash.clonedeep":33,"lodash.escaperegexp":34,"lodash.isplainobject":35,"lodash.isstring":36,"lodash.mergewith":37,postcss:51,srcset:79,url:80,xtend:82}]},{},[83])(83)})}).call(t,n(97))},function(e,t,n){var r;(function(){function o(e){"use strict";var t={omitExtraWLInCodeBlocks:{defaultValue:!1,describe:"Omit the default extra whiteline added to code blocks",type:"boolean"},noHeaderId:{defaultValue:!1,describe:"Turn on/off generated header id",type:"boolean"},prefixHeaderId:{defaultValue:!1,describe:"Add a prefix to the generated header ids. Passing a string will prefix that string to the header id. Setting to true will add a generic 'section-' prefix",type:"string"},rawPrefixHeaderId:{defaultValue:!1,describe:'Setting this option to true will prevent showdown from modifying the prefix. This might result in malformed IDs (if, for instance, the " char is used in the prefix)',type:"boolean"},ghCompatibleHeaderId:{defaultValue:!1,describe:"Generate header ids compatible with github style (spaces are replaced with dashes, a bunch of non alphanumeric chars are removed)",type:"boolean"},rawHeaderId:{defaultValue:!1,describe:"Remove only spaces, ' and \" from generated header ids (including prefixes), replacing them with dashes (-). WARNING: This might result in malformed ids",type:"boolean"},headerLevelStart:{defaultValue:!1,describe:"The header blocks level start",type:"integer"},parseImgDimensions:{defaultValue:!1,describe:"Turn on/off image dimension parsing",type:"boolean"},simplifiedAutoLink:{defaultValue:!1,describe:"Turn on/off GFM autolink style",type:"boolean"},excludeTrailingPunctuationFromURLs:{defaultValue:!1,describe:"Excludes trailing punctuation from links generated with autoLinking",type:"boolean"},literalMidWordUnderscores:{defaultValue:!1,describe:"Parse midword underscores as literal underscores",type:"boolean"},literalMidWordAsterisks:{defaultValue:!1,describe:"Parse midword asterisks as literal asterisks",type:"boolean"},strikethrough:{defaultValue:!1,describe:"Turn on/off strikethrough support",type:"boolean"},tables:{defaultValue:!1,describe:"Turn on/off tables support",type:"boolean"},tablesHeaderId:{defaultValue:!1,describe:"Add an id to table headers",type:"boolean"},ghCodeBlocks:{defaultValue:!0,describe:"Turn on/off GFM fenced code blocks support",type:"boolean"},tasklists:{defaultValue:!1,describe:"Turn on/off GFM tasklist support",type:"boolean"},smoothLivePreview:{defaultValue:!1,describe:"Prevents weird effects in live previews due to incomplete input",type:"boolean"},smartIndentationFix:{defaultValue:!1,description:"Tries to smartly fix indentation in es6 strings",type:"boolean"},disableForced4SpacesIndentedSublists:{defaultValue:!1,description:"Disables the requirement of indenting nested sublists by 4 spaces",type:"boolean"},simpleLineBreaks:{defaultValue:!1,description:"Parses simple line breaks as <br> (GFM Style)",type:"boolean"},requireSpaceBeforeHeadingText:{defaultValue:!1,description:"Makes adding a space between `#` and the header text mandatory (GFM Style)",type:"boolean"},ghMentions:{defaultValue:!1,description:"Enables github @mentions",type:"boolean"},ghMentionsLink:{defaultValue:"https://github.com/{u}",description:"Changes the link generated by @mentions. Only applies if ghMentions option is enabled.",type:"string"},encodeEmails:{defaultValue:!0,description:"Encode e-mail addresses through the use of Character Entities, transforming ASCII e-mail addresses into its equivalent decimal entities",type:"boolean"},openLinksInNewWindow:{defaultValue:!1,description:"Open all links in new windows",type:"boolean"},backslashEscapesHTMLTags:{defaultValue:!1,description:"Support for HTML Tag escaping. ex: <div>foo</div>",type:"boolean"},emoji:{defaultValue:!1,description:"Enable emoji support. Ex: `this is a :smile: emoji`",type:"boolean"},underline:{defaultValue:!1,description:"Enable support for underline. Syntax is double or triple underscores: `__underline word__`. With this option enabled, underscores no longer parses into `<em>` and `<strong>`",type:"boolean"},completeHTMLDocument:{defaultValue:!1,description:"Outputs a complete html document, including `<html>`, `<head>` and `<body>` tags",type:"boolean"},metadata:{defaultValue:!1,description:"Enable support for document metadata (defined at the top of the document between `\xab\xab\xab` and `\xbb\xbb\xbb` or between `---` and `---`).",type:"boolean"},splitAdjacentBlockquotes:{defaultValue:!1,description:"Split adjacent blockquote blocks",type:"boolean"}};if(!1===e)return JSON.parse(JSON.stringify(t));var n={};for(var r in t)t.hasOwnProperty(r)&&(n[r]=t[r].defaultValue);return n}var i={},a={},s={},l=o(!0),c="vanilla",u={github:{omitExtraWLInCodeBlocks:!0,simplifiedAutoLink:!0,excludeTrailingPunctuationFromURLs:!0,literalMidWordUnderscores:!0,strikethrough:!0,tables:!0,tablesHeaderId:!0,ghCodeBlocks:!0,tasklists:!0,disableForced4SpacesIndentedSublists:!0,simpleLineBreaks:!0,requireSpaceBeforeHeadingText:!0,ghCompatibleHeaderId:!0,ghMentions:!0,backslashEscapesHTMLTags:!0,emoji:!0,splitAdjacentBlockquotes:!0},original:{noHeaderId:!0,ghCodeBlocks:!1},ghost:{omitExtraWLInCodeBlocks:!0,parseImgDimensions:!0,simplifiedAutoLink:!0,excludeTrailingPunctuationFromURLs:!0,literalMidWordUnderscores:!0,strikethrough:!0,tables:!0,tablesHeaderId:!0,ghCodeBlocks:!0,tasklists:!0,smoothLivePreview:!0,simpleLineBreaks:!0,requireSpaceBeforeHeadingText:!0,ghMentions:!1,encodeEmails:!0},vanilla:o(!0),allOn:function(){"use strict";var e=o(!0),t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=!0);return t}()};function d(e,t){"use strict";var n=t?"Error in "+t+" extension->":"Error in unnamed extension",r={valid:!0,error:""};i.helper.isArray(e)||(e=[e]);for(var o=0;o<e.length;++o){var a=n+" sub-extension "+o+": ",s=e[o];if("object"!=typeof s)return r.valid=!1,r.error=a+"must be an object, but "+typeof s+" given",r;if(!i.helper.isString(s.type))return r.valid=!1,r.error=a+'property "type" must be a string, but '+typeof s.type+" given",r;var l=s.type=s.type.toLowerCase();if("language"===l&&(l=s.type="lang"),"html"===l&&(l=s.type="output"),"lang"!==l&&"output"!==l&&"listener"!==l)return r.valid=!1,r.error=a+"type "+l+' is not recognized. Valid values: "lang/language", "output/html" or "listener"',r;if("listener"===l){if(i.helper.isUndefined(s.listeners))return r.valid=!1,r.error=a+'. Extensions of type "listener" must have a property called "listeners"',r}else if(i.helper.isUndefined(s.filter)&&i.helper.isUndefined(s.regex))return r.valid=!1,r.error=a+l+' extensions must define either a "regex" property or a "filter" method',r;if(s.listeners){if("object"!=typeof s.listeners)return r.valid=!1,r.error=a+'"listeners" property must be an object but '+typeof s.listeners+" given",r;for(var c in s.listeners)if(s.listeners.hasOwnProperty(c)&&"function"!=typeof s.listeners[c])return r.valid=!1,r.error=a+'"listeners" property must be an hash of [event name]: [callback]. listeners.'+c+" must be a function but "+typeof s.listeners[c]+" given",r}if(s.filter){if("function"!=typeof s.filter)return r.valid=!1,r.error=a+'"filter" must be a function, but '+typeof s.filter+" given",r}else if(s.regex){if(i.helper.isString(s.regex)&&(s.regex=new RegExp(s.regex,"g")),!(s.regex instanceof RegExp))return r.valid=!1,r.error=a+'"regex" property must either be a string or a RegExp object, but '+typeof s.regex+" given",r;if(i.helper.isUndefined(s.replace))return r.valid=!1,r.error=a+'"regex" extensions must implement a replace string or function',r}}return r}function p(e,t){"use strict";return"\xa8E"+t.charCodeAt(0)+"E"}i.helper={},i.extensions={},i.setOption=function(e,t){"use strict";return l[e]=t,this},i.getOption=function(e){"use strict";return l[e]},i.getOptions=function(){"use strict";return l},i.resetOptions=function(){"use strict";l=o(!0)},i.setFlavor=function(e){"use strict";if(!u.hasOwnProperty(e))throw Error(e+" flavor was not found");i.resetOptions();var t=u[e];for(var n in c=e,t)t.hasOwnProperty(n)&&(l[n]=t[n])},i.getFlavor=function(){"use strict";return c},i.getFlavorOptions=function(e){"use strict";if(u.hasOwnProperty(e))return u[e]},i.getDefaultOptions=function(e){"use strict";return o(e)},i.subParser=function(e,t){"use strict";if(i.helper.isString(e)){if(void 0===t){if(a.hasOwnProperty(e))return a[e];throw Error("SubParser named "+e+" not registered!")}a[e]=t}},i.extension=function(e,t){"use strict";if(!i.helper.isString(e))throw Error("Extension 'name' must be a string");if(e=i.helper.stdExtName(e),i.helper.isUndefined(t)){if(!s.hasOwnProperty(e))throw Error("Extension named "+e+" is not registered!");return s[e]}"function"==typeof t&&(t=t()),i.helper.isArray(t)||(t=[t]);var n=d(t,e);if(!n.valid)throw Error(n.error);s[e]=t},i.getAllExtensions=function(){"use strict";return s},i.removeExtension=function(e){"use strict";delete s[e]},i.resetExtensions=function(){"use strict";s={}},i.validateExtension=function(e){"use strict";var t=d(e,null);return!!t.valid||(console.warn(t.error),!1)},i.hasOwnProperty("helper")||(i.helper={}),i.helper.isString=function(e){"use strict";return"string"==typeof e||e instanceof String},i.helper.isFunction=function(e){"use strict";return e&&"[object Function]"==={}.toString.call(e)},i.helper.isArray=function(e){"use strict";return Array.isArray(e)},i.helper.isUndefined=function(e){"use strict";return void 0===e},i.helper.forEach=function(e,t){"use strict";if(i.helper.isUndefined(e))throw new Error("obj param is required");if(i.helper.isUndefined(t))throw new Error("callback param is required");if(!i.helper.isFunction(t))throw new Error("callback param must be a function/closure");if("function"==typeof e.forEach)e.forEach(t);else if(i.helper.isArray(e))for(var n=0;n<e.length;n++)t(e[n],n,e);else{if("object"!=typeof e)throw new Error("obj does not seem to be an array or an iterable object");for(var r in e)e.hasOwnProperty(r)&&t(e[r],r,e)}},i.helper.stdExtName=function(e){"use strict";return e.replace(/[_?*+\/\\.^-]/g,"").replace(/\s/g,"").toLowerCase()},i.helper.escapeCharactersCallback=p,i.helper.escapeCharacters=function(e,t,n){"use strict";var r="(["+t.replace(/([\[\]\\])/g,"\\$1")+"])";n&&(r="\\\\"+r);var o=new RegExp(r,"g");return e.replace(o,p)},i.helper.unescapeHTMLEntities=function(e){"use strict";return e.replace(/&quot;/g,'"').replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&")};var f=function(e,t,n,r){"use strict";var o,i,a,s,l,c=r||"",u=c.indexOf("g")>-1,d=new RegExp(t+"|"+n,"g"+c.replace(/g/g,"")),p=new RegExp(t,c.replace(/g/g,"")),f=[];do{for(o=0;a=d.exec(e);)if(p.test(a[0]))o++||(s=(i=d.lastIndex)-a[0].length);else if(o&&!--o){l=a.index+a[0].length;var h={left:{start:s,end:i},match:{start:i,end:a.index},right:{start:a.index,end:l},wholeMatch:{start:s,end:l}};if(f.push(h),!u)return f}}while(o&&(d.lastIndex=i));return f};i.helper.matchRecursiveRegExp=function(e,t,n,r){"use strict";for(var o=f(e,t,n,r),i=[],a=0;a<o.length;++a)i.push([e.slice(o[a].wholeMatch.start,o[a].wholeMatch.end),e.slice(o[a].match.start,o[a].match.end),e.slice(o[a].left.start,o[a].left.end),e.slice(o[a].right.start,o[a].right.end)]);return i},i.helper.replaceRecursiveRegExp=function(e,t,n,r,o){"use strict";if(!i.helper.isFunction(t)){var a=t;t=function(){return a}}var s=f(e,n,r,o),l=e,c=s.length;if(c>0){var u=[];0!==s[0].wholeMatch.start&&u.push(e.slice(0,s[0].wholeMatch.start));for(var d=0;d<c;++d)u.push(t(e.slice(s[d].wholeMatch.start,s[d].wholeMatch.end),e.slice(s[d].match.start,s[d].match.end),e.slice(s[d].left.start,s[d].left.end),e.slice(s[d].right.start,s[d].right.end))),d<c-1&&u.push(e.slice(s[d].wholeMatch.end,s[d+1].wholeMatch.start));s[c-1].wholeMatch.end<e.length&&u.push(e.slice(s[c-1].wholeMatch.end)),l=u.join("")}return l},i.helper.regexIndexOf=function(e,t,n){"use strict";if(!i.helper.isString(e))throw"InvalidArgumentError: first parameter of showdown.helper.regexIndexOf function must be a string";if(t instanceof RegExp==0)throw"InvalidArgumentError: second parameter of showdown.helper.regexIndexOf function must be an instance of RegExp";var r=e.substring(n||0).search(t);return r>=0?r+(n||0):r},i.helper.splitAtIndex=function(e,t){"use strict";if(!i.helper.isString(e))throw"InvalidArgumentError: first parameter of showdown.helper.regexIndexOf function must be a string";return[e.substring(0,t),e.substring(t)]},i.helper.encodeEmailAddress=function(e){"use strict";var t=[function(e){return"&#"+e.charCodeAt(0)+";"},function(e){return"&#x"+e.charCodeAt(0).toString(16)+";"},function(e){return e}];return e.replace(/./g,function(e){if("@"===e)e=t[Math.floor(2*Math.random())](e);else{var n=Math.random();e=n>.9?t[2](e):n>.45?t[1](e):t[0](e)}return e})},i.helper.padEnd=function(e,t,n){"use strict";return t>>=0,n=String(n||" "),e.length>t?String(e):((t-=e.length)>n.length&&(n+=n.repeat(t/n.length)),String(e)+n.slice(0,t))},"undefined"==typeof console&&(console={warn:function(e){"use strict";alert(e)},log:function(e){"use strict";alert(e)},error:function(e){"use strict";throw e}}),i.helper.regexes={asteriskDashAndColon:/([*_:~])/g},i.helper.emojis={"+1":"\ud83d\udc4d","-1":"\ud83d\udc4e",100:"\ud83d\udcaf",1234:"\ud83d\udd22","1st_place_medal":"\ud83e\udd47","2nd_place_medal":"\ud83e\udd48","3rd_place_medal":"\ud83e\udd49","8ball":"\ud83c\udfb1",a:"\ud83c\udd70\ufe0f",ab:"\ud83c\udd8e",abc:"\ud83d\udd24",abcd:"\ud83d\udd21",accept:"\ud83c\ude51",aerial_tramway:"\ud83d\udea1",airplane:"\u2708\ufe0f",alarm_clock:"\u23f0",alembic:"\u2697\ufe0f",alien:"\ud83d\udc7d",ambulance:"\ud83d\ude91",amphora:"\ud83c\udffa",anchor:"\u2693\ufe0f",angel:"\ud83d\udc7c",anger:"\ud83d\udca2",angry:"\ud83d\ude20",anguished:"\ud83d\ude27",ant:"\ud83d\udc1c",apple:"\ud83c\udf4e",aquarius:"\u2652\ufe0f",aries:"\u2648\ufe0f",arrow_backward:"\u25c0\ufe0f",arrow_double_down:"\u23ec",arrow_double_up:"\u23eb",arrow_down:"\u2b07\ufe0f",arrow_down_small:"\ud83d\udd3d",arrow_forward:"\u25b6\ufe0f",arrow_heading_down:"\u2935\ufe0f",arrow_heading_up:"\u2934\ufe0f",arrow_left:"\u2b05\ufe0f",arrow_lower_left:"\u2199\ufe0f",arrow_lower_right:"\u2198\ufe0f",arrow_right:"\u27a1\ufe0f",arrow_right_hook:"\u21aa\ufe0f",arrow_up:"\u2b06\ufe0f",arrow_up_down:"\u2195\ufe0f",arrow_up_small:"\ud83d\udd3c",arrow_upper_left:"\u2196\ufe0f",arrow_upper_right:"\u2197\ufe0f",arrows_clockwise:"\ud83d\udd03",arrows_counterclockwise:"\ud83d\udd04",art:"\ud83c\udfa8",articulated_lorry:"\ud83d\ude9b",artificial_satellite:"\ud83d\udef0",astonished:"\ud83d\ude32",athletic_shoe:"\ud83d\udc5f",atm:"\ud83c\udfe7",atom_symbol:"\u269b\ufe0f",avocado:"\ud83e\udd51",b:"\ud83c\udd71\ufe0f",baby:"\ud83d\udc76",baby_bottle:"\ud83c\udf7c",baby_chick:"\ud83d\udc24",baby_symbol:"\ud83d\udebc",back:"\ud83d\udd19",bacon:"\ud83e\udd53",badminton:"\ud83c\udff8",baggage_claim:"\ud83d\udec4",baguette_bread:"\ud83e\udd56",balance_scale:"\u2696\ufe0f",balloon:"\ud83c\udf88",ballot_box:"\ud83d\uddf3",ballot_box_with_check:"\u2611\ufe0f",bamboo:"\ud83c\udf8d",banana:"\ud83c\udf4c",bangbang:"\u203c\ufe0f",bank:"\ud83c\udfe6",bar_chart:"\ud83d\udcca",barber:"\ud83d\udc88",baseball:"\u26be\ufe0f",basketball:"\ud83c\udfc0",basketball_man:"\u26f9\ufe0f",basketball_woman:"\u26f9\ufe0f&zwj;\u2640\ufe0f",bat:"\ud83e\udd87",bath:"\ud83d\udec0",bathtub:"\ud83d\udec1",battery:"\ud83d\udd0b",beach_umbrella:"\ud83c\udfd6",bear:"\ud83d\udc3b",bed:"\ud83d\udecf",bee:"\ud83d\udc1d",beer:"\ud83c\udf7a",beers:"\ud83c\udf7b",beetle:"\ud83d\udc1e",beginner:"\ud83d\udd30",bell:"\ud83d\udd14",bellhop_bell:"\ud83d\udece",bento:"\ud83c\udf71",biking_man:"\ud83d\udeb4",bike:"\ud83d\udeb2",biking_woman:"\ud83d\udeb4&zwj;\u2640\ufe0f",bikini:"\ud83d\udc59",biohazard:"\u2623\ufe0f",bird:"\ud83d\udc26",birthday:"\ud83c\udf82",black_circle:"\u26ab\ufe0f",black_flag:"\ud83c\udff4",black_heart:"\ud83d\udda4",black_joker:"\ud83c\udccf",black_large_square:"\u2b1b\ufe0f",black_medium_small_square:"\u25fe\ufe0f",black_medium_square:"\u25fc\ufe0f",black_nib:"\u2712\ufe0f",black_small_square:"\u25aa\ufe0f",black_square_button:"\ud83d\udd32",blonde_man:"\ud83d\udc71",blonde_woman:"\ud83d\udc71&zwj;\u2640\ufe0f",blossom:"\ud83c\udf3c",blowfish:"\ud83d\udc21",blue_book:"\ud83d\udcd8",blue_car:"\ud83d\ude99",blue_heart:"\ud83d\udc99",blush:"\ud83d\ude0a",boar:"\ud83d\udc17",boat:"\u26f5\ufe0f",bomb:"\ud83d\udca3",book:"\ud83d\udcd6",bookmark:"\ud83d\udd16",bookmark_tabs:"\ud83d\udcd1",books:"\ud83d\udcda",boom:"\ud83d\udca5",boot:"\ud83d\udc62",bouquet:"\ud83d\udc90",bowing_man:"\ud83d\ude47",bow_and_arrow:"\ud83c\udff9",bowing_woman:"\ud83d\ude47&zwj;\u2640\ufe0f",bowling:"\ud83c\udfb3",boxing_glove:"\ud83e\udd4a",boy:"\ud83d\udc66",bread:"\ud83c\udf5e",bride_with_veil:"\ud83d\udc70",bridge_at_night:"\ud83c\udf09",briefcase:"\ud83d\udcbc",broken_heart:"\ud83d\udc94",bug:"\ud83d\udc1b",building_construction:"\ud83c\udfd7",bulb:"\ud83d\udca1",bullettrain_front:"\ud83d\ude85",bullettrain_side:"\ud83d\ude84",burrito:"\ud83c\udf2f",bus:"\ud83d\ude8c",business_suit_levitating:"\ud83d\udd74",busstop:"\ud83d\ude8f",bust_in_silhouette:"\ud83d\udc64",busts_in_silhouette:"\ud83d\udc65",butterfly:"\ud83e\udd8b",cactus:"\ud83c\udf35",cake:"\ud83c\udf70",calendar:"\ud83d\udcc6",call_me_hand:"\ud83e\udd19",calling:"\ud83d\udcf2",camel:"\ud83d\udc2b",camera:"\ud83d\udcf7",camera_flash:"\ud83d\udcf8",camping:"\ud83c\udfd5",cancer:"\u264b\ufe0f",candle:"\ud83d\udd6f",candy:"\ud83c\udf6c",canoe:"\ud83d\udef6",capital_abcd:"\ud83d\udd20",capricorn:"\u2651\ufe0f",car:"\ud83d\ude97",card_file_box:"\ud83d\uddc3",card_index:"\ud83d\udcc7",card_index_dividers:"\ud83d\uddc2",carousel_horse:"\ud83c\udfa0",carrot:"\ud83e\udd55",cat:"\ud83d\udc31",cat2:"\ud83d\udc08",cd:"\ud83d\udcbf",chains:"\u26d3",champagne:"\ud83c\udf7e",chart:"\ud83d\udcb9",chart_with_downwards_trend:"\ud83d\udcc9",chart_with_upwards_trend:"\ud83d\udcc8",checkered_flag:"\ud83c\udfc1",cheese:"\ud83e\uddc0",cherries:"\ud83c\udf52",cherry_blossom:"\ud83c\udf38",chestnut:"\ud83c\udf30",chicken:"\ud83d\udc14",children_crossing:"\ud83d\udeb8",chipmunk:"\ud83d\udc3f",chocolate_bar:"\ud83c\udf6b",christmas_tree:"\ud83c\udf84",church:"\u26ea\ufe0f",cinema:"\ud83c\udfa6",circus_tent:"\ud83c\udfaa",city_sunrise:"\ud83c\udf07",city_sunset:"\ud83c\udf06",cityscape:"\ud83c\udfd9",cl:"\ud83c\udd91",clamp:"\ud83d\udddc",clap:"\ud83d\udc4f",clapper:"\ud83c\udfac",classical_building:"\ud83c\udfdb",clinking_glasses:"\ud83e\udd42",clipboard:"\ud83d\udccb",clock1:"\ud83d\udd50",clock10:"\ud83d\udd59",clock1030:"\ud83d\udd65",clock11:"\ud83d\udd5a",clock1130:"\ud83d\udd66",clock12:"\ud83d\udd5b",clock1230:"\ud83d\udd67",clock130:"\ud83d\udd5c",clock2:"\ud83d\udd51",clock230:"\ud83d\udd5d",clock3:"\ud83d\udd52",clock330:"\ud83d\udd5e",clock4:"\ud83d\udd53",clock430:"\ud83d\udd5f",clock5:"\ud83d\udd54",clock530:"\ud83d\udd60",clock6:"\ud83d\udd55",clock630:"\ud83d\udd61",clock7:"\ud83d\udd56",clock730:"\ud83d\udd62",clock8:"\ud83d\udd57",clock830:"\ud83d\udd63",clock9:"\ud83d\udd58",clock930:"\ud83d\udd64",closed_book:"\ud83d\udcd5",closed_lock_with_key:"\ud83d\udd10",closed_umbrella:"\ud83c\udf02",cloud:"\u2601\ufe0f",cloud_with_lightning:"\ud83c\udf29",cloud_with_lightning_and_rain:"\u26c8",cloud_with_rain:"\ud83c\udf27",cloud_with_snow:"\ud83c\udf28",clown_face:"\ud83e\udd21",clubs:"\u2663\ufe0f",cocktail:"\ud83c\udf78",coffee:"\u2615\ufe0f",coffin:"\u26b0\ufe0f",cold_sweat:"\ud83d\ude30",comet:"\u2604\ufe0f",computer:"\ud83d\udcbb",computer_mouse:"\ud83d\uddb1",confetti_ball:"\ud83c\udf8a",confounded:"\ud83d\ude16",confused:"\ud83d\ude15",congratulations:"\u3297\ufe0f",construction:"\ud83d\udea7",construction_worker_man:"\ud83d\udc77",construction_worker_woman:"\ud83d\udc77&zwj;\u2640\ufe0f",control_knobs:"\ud83c\udf9b",convenience_store:"\ud83c\udfea",cookie:"\ud83c\udf6a",cool:"\ud83c\udd92",policeman:"\ud83d\udc6e",copyright:"\xa9\ufe0f",corn:"\ud83c\udf3d",couch_and_lamp:"\ud83d\udecb",couple:"\ud83d\udc6b",couple_with_heart_woman_man:"\ud83d\udc91",couple_with_heart_man_man:"\ud83d\udc68&zwj;\u2764\ufe0f&zwj;\ud83d\udc68",couple_with_heart_woman_woman:"\ud83d\udc69&zwj;\u2764\ufe0f&zwj;\ud83d\udc69",couplekiss_man_man:"\ud83d\udc68&zwj;\u2764\ufe0f&zwj;\ud83d\udc8b&zwj;\ud83d\udc68",couplekiss_man_woman:"\ud83d\udc8f",couplekiss_woman_woman:"\ud83d\udc69&zwj;\u2764\ufe0f&zwj;\ud83d\udc8b&zwj;\ud83d\udc69",cow:"\ud83d\udc2e",cow2:"\ud83d\udc04",cowboy_hat_face:"\ud83e\udd20",crab:"\ud83e\udd80",crayon:"\ud83d\udd8d",credit_card:"\ud83d\udcb3",crescent_moon:"\ud83c\udf19",cricket:"\ud83c\udfcf",crocodile:"\ud83d\udc0a",croissant:"\ud83e\udd50",crossed_fingers:"\ud83e\udd1e",crossed_flags:"\ud83c\udf8c",crossed_swords:"\u2694\ufe0f",crown:"\ud83d\udc51",cry:"\ud83d\ude22",crying_cat_face:"\ud83d\ude3f",crystal_ball:"\ud83d\udd2e",cucumber:"\ud83e\udd52",cupid:"\ud83d\udc98",curly_loop:"\u27b0",currency_exchange:"\ud83d\udcb1",curry:"\ud83c\udf5b",custard:"\ud83c\udf6e",customs:"\ud83d\udec3",cyclone:"\ud83c\udf00",dagger:"\ud83d\udde1",dancer:"\ud83d\udc83",dancing_women:"\ud83d\udc6f",dancing_men:"\ud83d\udc6f&zwj;\u2642\ufe0f",dango:"\ud83c\udf61",dark_sunglasses:"\ud83d\udd76",dart:"\ud83c\udfaf",dash:"\ud83d\udca8",date:"\ud83d\udcc5",deciduous_tree:"\ud83c\udf33",deer:"\ud83e\udd8c",department_store:"\ud83c\udfec",derelict_house:"\ud83c\udfda",desert:"\ud83c\udfdc",desert_island:"\ud83c\udfdd",desktop_computer:"\ud83d\udda5",male_detective:"\ud83d\udd75\ufe0f",diamond_shape_with_a_dot_inside:"\ud83d\udca0",diamonds:"\u2666\ufe0f",disappointed:"\ud83d\ude1e",disappointed_relieved:"\ud83d\ude25",dizzy:"\ud83d\udcab",dizzy_face:"\ud83d\ude35",do_not_litter:"\ud83d\udeaf",dog:"\ud83d\udc36",dog2:"\ud83d\udc15",dollar:"\ud83d\udcb5",dolls:"\ud83c\udf8e",dolphin:"\ud83d\udc2c",door:"\ud83d\udeaa",doughnut:"\ud83c\udf69",dove:"\ud83d\udd4a",dragon:"\ud83d\udc09",dragon_face:"\ud83d\udc32",dress:"\ud83d\udc57",dromedary_camel:"\ud83d\udc2a",drooling_face:"\ud83e\udd24",droplet:"\ud83d\udca7",drum:"\ud83e\udd41",duck:"\ud83e\udd86",dvd:"\ud83d\udcc0","e-mail":"\ud83d\udce7",eagle:"\ud83e\udd85",ear:"\ud83d\udc42",ear_of_rice:"\ud83c\udf3e",earth_africa:"\ud83c\udf0d",earth_americas:"\ud83c\udf0e",earth_asia:"\ud83c\udf0f",egg:"\ud83e\udd5a",eggplant:"\ud83c\udf46",eight_pointed_black_star:"\u2734\ufe0f",eight_spoked_asterisk:"\u2733\ufe0f",electric_plug:"\ud83d\udd0c",elephant:"\ud83d\udc18",email:"\u2709\ufe0f",end:"\ud83d\udd1a",envelope_with_arrow:"\ud83d\udce9",euro:"\ud83d\udcb6",european_castle:"\ud83c\udff0",european_post_office:"\ud83c\udfe4",evergreen_tree:"\ud83c\udf32",exclamation:"\u2757\ufe0f",expressionless:"\ud83d\ude11",eye:"\ud83d\udc41",eye_speech_bubble:"\ud83d\udc41&zwj;\ud83d\udde8",eyeglasses:"\ud83d\udc53",eyes:"\ud83d\udc40",face_with_head_bandage:"\ud83e\udd15",face_with_thermometer:"\ud83e\udd12",fist_oncoming:"\ud83d\udc4a",factory:"\ud83c\udfed",fallen_leaf:"\ud83c\udf42",family_man_woman_boy:"\ud83d\udc6a",family_man_boy:"\ud83d\udc68&zwj;\ud83d\udc66",family_man_boy_boy:"\ud83d\udc68&zwj;\ud83d\udc66&zwj;\ud83d\udc66",family_man_girl:"\ud83d\udc68&zwj;\ud83d\udc67",family_man_girl_boy:"\ud83d\udc68&zwj;\ud83d\udc67&zwj;\ud83d\udc66",family_man_girl_girl:"\ud83d\udc68&zwj;\ud83d\udc67&zwj;\ud83d\udc67",family_man_man_boy:"\ud83d\udc68&zwj;\ud83d\udc68&zwj;\ud83d\udc66",family_man_man_boy_boy:"\ud83d\udc68&zwj;\ud83d\udc68&zwj;\ud83d\udc66&zwj;\ud83d\udc66",family_man_man_girl:"\ud83d\udc68&zwj;\ud83d\udc68&zwj;\ud83d\udc67",family_man_man_girl_boy:"\ud83d\udc68&zwj;\ud83d\udc68&zwj;\ud83d\udc67&zwj;\ud83d\udc66",family_man_man_girl_girl:"\ud83d\udc68&zwj;\ud83d\udc68&zwj;\ud83d\udc67&zwj;\ud83d\udc67",family_man_woman_boy_boy:"\ud83d\udc68&zwj;\ud83d\udc69&zwj;\ud83d\udc66&zwj;\ud83d\udc66",family_man_woman_girl:"\ud83d\udc68&zwj;\ud83d\udc69&zwj;\ud83d\udc67",family_man_woman_girl_boy:"\ud83d\udc68&zwj;\ud83d\udc69&zwj;\ud83d\udc67&zwj;\ud83d\udc66",family_man_woman_girl_girl:"\ud83d\udc68&zwj;\ud83d\udc69&zwj;\ud83d\udc67&zwj;\ud83d\udc67",family_woman_boy:"\ud83d\udc69&zwj;\ud83d\udc66",family_woman_boy_boy:"\ud83d\udc69&zwj;\ud83d\udc66&zwj;\ud83d\udc66",family_woman_girl:"\ud83d\udc69&zwj;\ud83d\udc67",family_woman_girl_boy:"\ud83d\udc69&zwj;\ud83d\udc67&zwj;\ud83d\udc66",family_woman_girl_girl:"\ud83d\udc69&zwj;\ud83d\udc67&zwj;\ud83d\udc67",family_woman_woman_boy:"\ud83d\udc69&zwj;\ud83d\udc69&zwj;\ud83d\udc66",family_woman_woman_boy_boy:"\ud83d\udc69&zwj;\ud83d\udc69&zwj;\ud83d\udc66&zwj;\ud83d\udc66",family_woman_woman_girl:"\ud83d\udc69&zwj;\ud83d\udc69&zwj;\ud83d\udc67",family_woman_woman_girl_boy:"\ud83d\udc69&zwj;\ud83d\udc69&zwj;\ud83d\udc67&zwj;\ud83d\udc66",family_woman_woman_girl_girl:"\ud83d\udc69&zwj;\ud83d\udc69&zwj;\ud83d\udc67&zwj;\ud83d\udc67",fast_forward:"\u23e9",fax:"\ud83d\udce0",fearful:"\ud83d\ude28",feet:"\ud83d\udc3e",female_detective:"\ud83d\udd75\ufe0f&zwj;\u2640\ufe0f",ferris_wheel:"\ud83c\udfa1",ferry:"\u26f4",field_hockey:"\ud83c\udfd1",file_cabinet:"\ud83d\uddc4",file_folder:"\ud83d\udcc1",film_projector:"\ud83d\udcfd",film_strip:"\ud83c\udf9e",fire:"\ud83d\udd25",fire_engine:"\ud83d\ude92",fireworks:"\ud83c\udf86",first_quarter_moon:"\ud83c\udf13",first_quarter_moon_with_face:"\ud83c\udf1b",fish:"\ud83d\udc1f",fish_cake:"\ud83c\udf65",fishing_pole_and_fish:"\ud83c\udfa3",fist_raised:"\u270a",fist_left:"\ud83e\udd1b",fist_right:"\ud83e\udd1c",flags:"\ud83c\udf8f",flashlight:"\ud83d\udd26",fleur_de_lis:"\u269c\ufe0f",flight_arrival:"\ud83d\udeec",flight_departure:"\ud83d\udeeb",floppy_disk:"\ud83d\udcbe",flower_playing_cards:"\ud83c\udfb4",flushed:"\ud83d\ude33",fog:"\ud83c\udf2b",foggy:"\ud83c\udf01",football:"\ud83c\udfc8",footprints:"\ud83d\udc63",fork_and_knife:"\ud83c\udf74",fountain:"\u26f2\ufe0f",fountain_pen:"\ud83d\udd8b",four_leaf_clover:"\ud83c\udf40",fox_face:"\ud83e\udd8a",framed_picture:"\ud83d\uddbc",free:"\ud83c\udd93",fried_egg:"\ud83c\udf73",fried_shrimp:"\ud83c\udf64",fries:"\ud83c\udf5f",frog:"\ud83d\udc38",frowning:"\ud83d\ude26",frowning_face:"\u2639\ufe0f",frowning_man:"\ud83d\ude4d&zwj;\u2642\ufe0f",frowning_woman:"\ud83d\ude4d",middle_finger:"\ud83d\udd95",fuelpump:"\u26fd\ufe0f",full_moon:"\ud83c\udf15",full_moon_with_face:"\ud83c\udf1d",funeral_urn:"\u26b1\ufe0f",game_die:"\ud83c\udfb2",gear:"\u2699\ufe0f",gem:"\ud83d\udc8e",gemini:"\u264a\ufe0f",ghost:"\ud83d\udc7b",gift:"\ud83c\udf81",gift_heart:"\ud83d\udc9d",girl:"\ud83d\udc67",globe_with_meridians:"\ud83c\udf10",goal_net:"\ud83e\udd45",goat:"\ud83d\udc10",golf:"\u26f3\ufe0f",golfing_man:"\ud83c\udfcc\ufe0f",golfing_woman:"\ud83c\udfcc\ufe0f&zwj;\u2640\ufe0f",gorilla:"\ud83e\udd8d",grapes:"\ud83c\udf47",green_apple:"\ud83c\udf4f",green_book:"\ud83d\udcd7",green_heart:"\ud83d\udc9a",green_salad:"\ud83e\udd57",grey_exclamation:"\u2755",grey_question:"\u2754",grimacing:"\ud83d\ude2c",grin:"\ud83d\ude01",grinning:"\ud83d\ude00",guardsman:"\ud83d\udc82",guardswoman:"\ud83d\udc82&zwj;\u2640\ufe0f",guitar:"\ud83c\udfb8",gun:"\ud83d\udd2b",haircut_woman:"\ud83d\udc87",haircut_man:"\ud83d\udc87&zwj;\u2642\ufe0f",hamburger:"\ud83c\udf54",hammer:"\ud83d\udd28",hammer_and_pick:"\u2692",hammer_and_wrench:"\ud83d\udee0",hamster:"\ud83d\udc39",hand:"\u270b",handbag:"\ud83d\udc5c",handshake:"\ud83e\udd1d",hankey:"\ud83d\udca9",hatched_chick:"\ud83d\udc25",hatching_chick:"\ud83d\udc23",headphones:"\ud83c\udfa7",hear_no_evil:"\ud83d\ude49",heart:"\u2764\ufe0f",heart_decoration:"\ud83d\udc9f",heart_eyes:"\ud83d\ude0d",heart_eyes_cat:"\ud83d\ude3b",heartbeat:"\ud83d\udc93",heartpulse:"\ud83d\udc97",hearts:"\u2665\ufe0f",heavy_check_mark:"\u2714\ufe0f",heavy_division_sign:"\u2797",heavy_dollar_sign:"\ud83d\udcb2",heavy_heart_exclamation:"\u2763\ufe0f",heavy_minus_sign:"\u2796",heavy_multiplication_x:"\u2716\ufe0f",heavy_plus_sign:"\u2795",helicopter:"\ud83d\ude81",herb:"\ud83c\udf3f",hibiscus:"\ud83c\udf3a",high_brightness:"\ud83d\udd06",high_heel:"\ud83d\udc60",hocho:"\ud83d\udd2a",hole:"\ud83d\udd73",honey_pot:"\ud83c\udf6f",horse:"\ud83d\udc34",horse_racing:"\ud83c\udfc7",hospital:"\ud83c\udfe5",hot_pepper:"\ud83c\udf36",hotdog:"\ud83c\udf2d",hotel:"\ud83c\udfe8",hotsprings:"\u2668\ufe0f",hourglass:"\u231b\ufe0f",hourglass_flowing_sand:"\u23f3",house:"\ud83c\udfe0",house_with_garden:"\ud83c\udfe1",houses:"\ud83c\udfd8",hugs:"\ud83e\udd17",hushed:"\ud83d\ude2f",ice_cream:"\ud83c\udf68",ice_hockey:"\ud83c\udfd2",ice_skate:"\u26f8",icecream:"\ud83c\udf66",id:"\ud83c\udd94",ideograph_advantage:"\ud83c\ude50",imp:"\ud83d\udc7f",inbox_tray:"\ud83d\udce5",incoming_envelope:"\ud83d\udce8",tipping_hand_woman:"\ud83d\udc81",information_source:"\u2139\ufe0f",innocent:"\ud83d\ude07",interrobang:"\u2049\ufe0f",iphone:"\ud83d\udcf1",izakaya_lantern:"\ud83c\udfee",jack_o_lantern:"\ud83c\udf83",japan:"\ud83d\uddfe",japanese_castle:"\ud83c\udfef",japanese_goblin:"\ud83d\udc7a",japanese_ogre:"\ud83d\udc79",jeans:"\ud83d\udc56",joy:"\ud83d\ude02",joy_cat:"\ud83d\ude39",joystick:"\ud83d\udd79",kaaba:"\ud83d\udd4b",key:"\ud83d\udd11",keyboard:"\u2328\ufe0f",keycap_ten:"\ud83d\udd1f",kick_scooter:"\ud83d\udef4",kimono:"\ud83d\udc58",kiss:"\ud83d\udc8b",kissing:"\ud83d\ude17",kissing_cat:"\ud83d\ude3d",kissing_closed_eyes:"\ud83d\ude1a",kissing_heart:"\ud83d\ude18",kissing_smiling_eyes:"\ud83d\ude19",kiwi_fruit:"\ud83e\udd5d",koala:"\ud83d\udc28",koko:"\ud83c\ude01",label:"\ud83c\udff7",large_blue_circle:"\ud83d\udd35",large_blue_diamond:"\ud83d\udd37",large_orange_diamond:"\ud83d\udd36",last_quarter_moon:"\ud83c\udf17",last_quarter_moon_with_face:"\ud83c\udf1c",latin_cross:"\u271d\ufe0f",laughing:"\ud83d\ude06",leaves:"\ud83c\udf43",ledger:"\ud83d\udcd2",left_luggage:"\ud83d\udec5",left_right_arrow:"\u2194\ufe0f",leftwards_arrow_with_hook:"\u21a9\ufe0f",lemon:"\ud83c\udf4b",leo:"\u264c\ufe0f",leopard:"\ud83d\udc06",level_slider:"\ud83c\udf9a",libra:"\u264e\ufe0f",light_rail:"\ud83d\ude88",link:"\ud83d\udd17",lion:"\ud83e\udd81",lips:"\ud83d\udc44",lipstick:"\ud83d\udc84",lizard:"\ud83e\udd8e",lock:"\ud83d\udd12",lock_with_ink_pen:"\ud83d\udd0f",lollipop:"\ud83c\udf6d",loop:"\u27bf",loud_sound:"\ud83d\udd0a",loudspeaker:"\ud83d\udce2",love_hotel:"\ud83c\udfe9",love_letter:"\ud83d\udc8c",low_brightness:"\ud83d\udd05",lying_face:"\ud83e\udd25",m:"\u24c2\ufe0f",mag:"\ud83d\udd0d",mag_right:"\ud83d\udd0e",mahjong:"\ud83c\udc04\ufe0f",mailbox:"\ud83d\udceb",mailbox_closed:"\ud83d\udcea",mailbox_with_mail:"\ud83d\udcec",mailbox_with_no_mail:"\ud83d\udced",man:"\ud83d\udc68",man_artist:"\ud83d\udc68&zwj;\ud83c\udfa8",man_astronaut:"\ud83d\udc68&zwj;\ud83d\ude80",man_cartwheeling:"\ud83e\udd38&zwj;\u2642\ufe0f",man_cook:"\ud83d\udc68&zwj;\ud83c\udf73",man_dancing:"\ud83d\udd7a",man_facepalming:"\ud83e\udd26&zwj;\u2642\ufe0f",man_factory_worker:"\ud83d\udc68&zwj;\ud83c\udfed",man_farmer:"\ud83d\udc68&zwj;\ud83c\udf3e",man_firefighter:"\ud83d\udc68&zwj;\ud83d\ude92",man_health_worker:"\ud83d\udc68&zwj;\u2695\ufe0f",man_in_tuxedo:"\ud83e\udd35",man_judge:"\ud83d\udc68&zwj;\u2696\ufe0f",man_juggling:"\ud83e\udd39&zwj;\u2642\ufe0f",man_mechanic:"\ud83d\udc68&zwj;\ud83d\udd27",man_office_worker:"\ud83d\udc68&zwj;\ud83d\udcbc",man_pilot:"\ud83d\udc68&zwj;\u2708\ufe0f",man_playing_handball:"\ud83e\udd3e&zwj;\u2642\ufe0f",man_playing_water_polo:"\ud83e\udd3d&zwj;\u2642\ufe0f",man_scientist:"\ud83d\udc68&zwj;\ud83d\udd2c",man_shrugging:"\ud83e\udd37&zwj;\u2642\ufe0f",man_singer:"\ud83d\udc68&zwj;\ud83c\udfa4",man_student:"\ud83d\udc68&zwj;\ud83c\udf93",man_teacher:"\ud83d\udc68&zwj;\ud83c\udfeb",man_technologist:"\ud83d\udc68&zwj;\ud83d\udcbb",man_with_gua_pi_mao:"\ud83d\udc72",man_with_turban:"\ud83d\udc73",tangerine:"\ud83c\udf4a",mans_shoe:"\ud83d\udc5e",mantelpiece_clock:"\ud83d\udd70",maple_leaf:"\ud83c\udf41",martial_arts_uniform:"\ud83e\udd4b",mask:"\ud83d\ude37",massage_woman:"\ud83d\udc86",massage_man:"\ud83d\udc86&zwj;\u2642\ufe0f",meat_on_bone:"\ud83c\udf56",medal_military:"\ud83c\udf96",medal_sports:"\ud83c\udfc5",mega:"\ud83d\udce3",melon:"\ud83c\udf48",memo:"\ud83d\udcdd",men_wrestling:"\ud83e\udd3c&zwj;\u2642\ufe0f",menorah:"\ud83d\udd4e",mens:"\ud83d\udeb9",metal:"\ud83e\udd18",metro:"\ud83d\ude87",microphone:"\ud83c\udfa4",microscope:"\ud83d\udd2c",milk_glass:"\ud83e\udd5b",milky_way:"\ud83c\udf0c",minibus:"\ud83d\ude90",minidisc:"\ud83d\udcbd",mobile_phone_off:"\ud83d\udcf4",money_mouth_face:"\ud83e\udd11",money_with_wings:"\ud83d\udcb8",moneybag:"\ud83d\udcb0",monkey:"\ud83d\udc12",monkey_face:"\ud83d\udc35",monorail:"\ud83d\ude9d",moon:"\ud83c\udf14",mortar_board:"\ud83c\udf93",mosque:"\ud83d\udd4c",motor_boat:"\ud83d\udee5",motor_scooter:"\ud83d\udef5",motorcycle:"\ud83c\udfcd",motorway:"\ud83d\udee3",mount_fuji:"\ud83d\uddfb",mountain:"\u26f0",mountain_biking_man:"\ud83d\udeb5",mountain_biking_woman:"\ud83d\udeb5&zwj;\u2640\ufe0f",mountain_cableway:"\ud83d\udea0",mountain_railway:"\ud83d\ude9e",mountain_snow:"\ud83c\udfd4",mouse:"\ud83d\udc2d",mouse2:"\ud83d\udc01",movie_camera:"\ud83c\udfa5",moyai:"\ud83d\uddff",mrs_claus:"\ud83e\udd36",muscle:"\ud83d\udcaa",mushroom:"\ud83c\udf44",musical_keyboard:"\ud83c\udfb9",musical_note:"\ud83c\udfb5",musical_score:"\ud83c\udfbc",mute:"\ud83d\udd07",nail_care:"\ud83d\udc85",name_badge:"\ud83d\udcdb",national_park:"\ud83c\udfde",nauseated_face:"\ud83e\udd22",necktie:"\ud83d\udc54",negative_squared_cross_mark:"\u274e",nerd_face:"\ud83e\udd13",neutral_face:"\ud83d\ude10",new:"\ud83c\udd95",new_moon:"\ud83c\udf11",new_moon_with_face:"\ud83c\udf1a",newspaper:"\ud83d\udcf0",newspaper_roll:"\ud83d\uddde",next_track_button:"\u23ed",ng:"\ud83c\udd96",no_good_man:"\ud83d\ude45&zwj;\u2642\ufe0f",no_good_woman:"\ud83d\ude45",night_with_stars:"\ud83c\udf03",no_bell:"\ud83d\udd15",no_bicycles:"\ud83d\udeb3",no_entry:"\u26d4\ufe0f",no_entry_sign:"\ud83d\udeab",no_mobile_phones:"\ud83d\udcf5",no_mouth:"\ud83d\ude36",no_pedestrians:"\ud83d\udeb7",no_smoking:"\ud83d\udead","non-potable_water":"\ud83d\udeb1",nose:"\ud83d\udc43",notebook:"\ud83d\udcd3",notebook_with_decorative_cover:"\ud83d\udcd4",notes:"\ud83c\udfb6",nut_and_bolt:"\ud83d\udd29",o:"\u2b55\ufe0f",o2:"\ud83c\udd7e\ufe0f",ocean:"\ud83c\udf0a",octopus:"\ud83d\udc19",oden:"\ud83c\udf62",office:"\ud83c\udfe2",oil_drum:"\ud83d\udee2",ok:"\ud83c\udd97",ok_hand:"\ud83d\udc4c",ok_man:"\ud83d\ude46&zwj;\u2642\ufe0f",ok_woman:"\ud83d\ude46",old_key:"\ud83d\udddd",older_man:"\ud83d\udc74",older_woman:"\ud83d\udc75",om:"\ud83d\udd49",on:"\ud83d\udd1b",oncoming_automobile:"\ud83d\ude98",oncoming_bus:"\ud83d\ude8d",oncoming_police_car:"\ud83d\ude94",oncoming_taxi:"\ud83d\ude96",open_file_folder:"\ud83d\udcc2",open_hands:"\ud83d\udc50",open_mouth:"\ud83d\ude2e",open_umbrella:"\u2602\ufe0f",ophiuchus:"\u26ce",orange_book:"\ud83d\udcd9",orthodox_cross:"\u2626\ufe0f",outbox_tray:"\ud83d\udce4",owl:"\ud83e\udd89",ox:"\ud83d\udc02",package:"\ud83d\udce6",page_facing_up:"\ud83d\udcc4",page_with_curl:"\ud83d\udcc3",pager:"\ud83d\udcdf",paintbrush:"\ud83d\udd8c",palm_tree:"\ud83c\udf34",pancakes:"\ud83e\udd5e",panda_face:"\ud83d\udc3c",paperclip:"\ud83d\udcce",paperclips:"\ud83d\udd87",parasol_on_ground:"\u26f1",parking:"\ud83c\udd7f\ufe0f",part_alternation_mark:"\u303d\ufe0f",partly_sunny:"\u26c5\ufe0f",passenger_ship:"\ud83d\udef3",passport_control:"\ud83d\udec2",pause_button:"\u23f8",peace_symbol:"\u262e\ufe0f",peach:"\ud83c\udf51",peanuts:"\ud83e\udd5c",pear:"\ud83c\udf50",pen:"\ud83d\udd8a",pencil2:"\u270f\ufe0f",penguin:"\ud83d\udc27",pensive:"\ud83d\ude14",performing_arts:"\ud83c\udfad",persevere:"\ud83d\ude23",person_fencing:"\ud83e\udd3a",pouting_woman:"\ud83d\ude4e",phone:"\u260e\ufe0f",pick:"\u26cf",pig:"\ud83d\udc37",pig2:"\ud83d\udc16",pig_nose:"\ud83d\udc3d",pill:"\ud83d\udc8a",pineapple:"\ud83c\udf4d",ping_pong:"\ud83c\udfd3",pisces:"\u2653\ufe0f",pizza:"\ud83c\udf55",place_of_worship:"\ud83d\uded0",plate_with_cutlery:"\ud83c\udf7d",play_or_pause_button:"\u23ef",point_down:"\ud83d\udc47",point_left:"\ud83d\udc48",point_right:"\ud83d\udc49",point_up:"\u261d\ufe0f",point_up_2:"\ud83d\udc46",police_car:"\ud83d\ude93",policewoman:"\ud83d\udc6e&zwj;\u2640\ufe0f",poodle:"\ud83d\udc29",popcorn:"\ud83c\udf7f",post_office:"\ud83c\udfe3",postal_horn:"\ud83d\udcef",postbox:"\ud83d\udcee",potable_water:"\ud83d\udeb0",potato:"\ud83e\udd54",pouch:"\ud83d\udc5d",poultry_leg:"\ud83c\udf57",pound:"\ud83d\udcb7",rage:"\ud83d\ude21",pouting_cat:"\ud83d\ude3e",pouting_man:"\ud83d\ude4e&zwj;\u2642\ufe0f",pray:"\ud83d\ude4f",prayer_beads:"\ud83d\udcff",pregnant_woman:"\ud83e\udd30",previous_track_button:"\u23ee",prince:"\ud83e\udd34",princess:"\ud83d\udc78",printer:"\ud83d\udda8",purple_heart:"\ud83d\udc9c",purse:"\ud83d\udc5b",pushpin:"\ud83d\udccc",put_litter_in_its_place:"\ud83d\udeae",question:"\u2753",rabbit:"\ud83d\udc30",rabbit2:"\ud83d\udc07",racehorse:"\ud83d\udc0e",racing_car:"\ud83c\udfce",radio:"\ud83d\udcfb",radio_button:"\ud83d\udd18",radioactive:"\u2622\ufe0f",railway_car:"\ud83d\ude83",railway_track:"\ud83d\udee4",rainbow:"\ud83c\udf08",rainbow_flag:"\ud83c\udff3\ufe0f&zwj;\ud83c\udf08",raised_back_of_hand:"\ud83e\udd1a",raised_hand_with_fingers_splayed:"\ud83d\udd90",raised_hands:"\ud83d\ude4c",raising_hand_woman:"\ud83d\ude4b",raising_hand_man:"\ud83d\ude4b&zwj;\u2642\ufe0f",ram:"\ud83d\udc0f",ramen:"\ud83c\udf5c",rat:"\ud83d\udc00",record_button:"\u23fa",recycle:"\u267b\ufe0f",red_circle:"\ud83d\udd34",registered:"\xae\ufe0f",relaxed:"\u263a\ufe0f",relieved:"\ud83d\ude0c",reminder_ribbon:"\ud83c\udf97",repeat:"\ud83d\udd01",repeat_one:"\ud83d\udd02",rescue_worker_helmet:"\u26d1",restroom:"\ud83d\udebb",revolving_hearts:"\ud83d\udc9e",rewind:"\u23ea",rhinoceros:"\ud83e\udd8f",ribbon:"\ud83c\udf80",rice:"\ud83c\udf5a",rice_ball:"\ud83c\udf59",rice_cracker:"\ud83c\udf58",rice_scene:"\ud83c\udf91",right_anger_bubble:"\ud83d\uddef",ring:"\ud83d\udc8d",robot:"\ud83e\udd16",rocket:"\ud83d\ude80",rofl:"\ud83e\udd23",roll_eyes:"\ud83d\ude44",roller_coaster:"\ud83c\udfa2",rooster:"\ud83d\udc13",rose:"\ud83c\udf39",rosette:"\ud83c\udff5",rotating_light:"\ud83d\udea8",round_pushpin:"\ud83d\udccd",rowing_man:"\ud83d\udea3",rowing_woman:"\ud83d\udea3&zwj;\u2640\ufe0f",rugby_football:"\ud83c\udfc9",running_man:"\ud83c\udfc3",running_shirt_with_sash:"\ud83c\udfbd",running_woman:"\ud83c\udfc3&zwj;\u2640\ufe0f",sa:"\ud83c\ude02\ufe0f",sagittarius:"\u2650\ufe0f",sake:"\ud83c\udf76",sandal:"\ud83d\udc61",santa:"\ud83c\udf85",satellite:"\ud83d\udce1",saxophone:"\ud83c\udfb7",school:"\ud83c\udfeb",school_satchel:"\ud83c\udf92",scissors:"\u2702\ufe0f",scorpion:"\ud83e\udd82",scorpius:"\u264f\ufe0f",scream:"\ud83d\ude31",scream_cat:"\ud83d\ude40",scroll:"\ud83d\udcdc",seat:"\ud83d\udcba",secret:"\u3299\ufe0f",see_no_evil:"\ud83d\ude48",seedling:"\ud83c\udf31",selfie:"\ud83e\udd33",shallow_pan_of_food:"\ud83e\udd58",shamrock:"\u2618\ufe0f",shark:"\ud83e\udd88",shaved_ice:"\ud83c\udf67",sheep:"\ud83d\udc11",shell:"\ud83d\udc1a",shield:"\ud83d\udee1",shinto_shrine:"\u26e9",ship:"\ud83d\udea2",shirt:"\ud83d\udc55",shopping:"\ud83d\udecd",shopping_cart:"\ud83d\uded2",shower:"\ud83d\udebf",shrimp:"\ud83e\udd90",signal_strength:"\ud83d\udcf6",six_pointed_star:"\ud83d\udd2f",ski:"\ud83c\udfbf",skier:"\u26f7",skull:"\ud83d\udc80",skull_and_crossbones:"\u2620\ufe0f",sleeping:"\ud83d\ude34",sleeping_bed:"\ud83d\udecc",sleepy:"\ud83d\ude2a",slightly_frowning_face:"\ud83d\ude41",slightly_smiling_face:"\ud83d\ude42",slot_machine:"\ud83c\udfb0",small_airplane:"\ud83d\udee9",small_blue_diamond:"\ud83d\udd39",small_orange_diamond:"\ud83d\udd38",small_red_triangle:"\ud83d\udd3a",small_red_triangle_down:"\ud83d\udd3b",smile:"\ud83d\ude04",smile_cat:"\ud83d\ude38",smiley:"\ud83d\ude03",smiley_cat:"\ud83d\ude3a",smiling_imp:"\ud83d\ude08",smirk:"\ud83d\ude0f",smirk_cat:"\ud83d\ude3c",smoking:"\ud83d\udeac",snail:"\ud83d\udc0c",snake:"\ud83d\udc0d",sneezing_face:"\ud83e\udd27",snowboarder:"\ud83c\udfc2",snowflake:"\u2744\ufe0f",snowman:"\u26c4\ufe0f",snowman_with_snow:"\u2603\ufe0f",sob:"\ud83d\ude2d",soccer:"\u26bd\ufe0f",soon:"\ud83d\udd1c",sos:"\ud83c\udd98",sound:"\ud83d\udd09",space_invader:"\ud83d\udc7e",spades:"\u2660\ufe0f",spaghetti:"\ud83c\udf5d",sparkle:"\u2747\ufe0f",sparkler:"\ud83c\udf87",sparkles:"\u2728",sparkling_heart:"\ud83d\udc96",speak_no_evil:"\ud83d\ude4a",speaker:"\ud83d\udd08",speaking_head:"\ud83d\udde3",speech_balloon:"\ud83d\udcac",speedboat:"\ud83d\udea4",spider:"\ud83d\udd77",spider_web:"\ud83d\udd78",spiral_calendar:"\ud83d\uddd3",spiral_notepad:"\ud83d\uddd2",spoon:"\ud83e\udd44",squid:"\ud83e\udd91",stadium:"\ud83c\udfdf",star:"\u2b50\ufe0f",star2:"\ud83c\udf1f",star_and_crescent:"\u262a\ufe0f",star_of_david:"\u2721\ufe0f",stars:"\ud83c\udf20",station:"\ud83d\ude89",statue_of_liberty:"\ud83d\uddfd",steam_locomotive:"\ud83d\ude82",stew:"\ud83c\udf72",stop_button:"\u23f9",stop_sign:"\ud83d\uded1",stopwatch:"\u23f1",straight_ruler:"\ud83d\udccf",strawberry:"\ud83c\udf53",stuck_out_tongue:"\ud83d\ude1b",stuck_out_tongue_closed_eyes:"\ud83d\ude1d",stuck_out_tongue_winking_eye:"\ud83d\ude1c",studio_microphone:"\ud83c\udf99",stuffed_flatbread:"\ud83e\udd59",sun_behind_large_cloud:"\ud83c\udf25",sun_behind_rain_cloud:"\ud83c\udf26",sun_behind_small_cloud:"\ud83c\udf24",sun_with_face:"\ud83c\udf1e",sunflower:"\ud83c\udf3b",sunglasses:"\ud83d\ude0e",sunny:"\u2600\ufe0f",sunrise:"\ud83c\udf05",sunrise_over_mountains:"\ud83c\udf04",surfing_man:"\ud83c\udfc4",surfing_woman:"\ud83c\udfc4&zwj;\u2640\ufe0f",sushi:"\ud83c\udf63",suspension_railway:"\ud83d\ude9f",sweat:"\ud83d\ude13",sweat_drops:"\ud83d\udca6",sweat_smile:"\ud83d\ude05",sweet_potato:"\ud83c\udf60",swimming_man:"\ud83c\udfca",swimming_woman:"\ud83c\udfca&zwj;\u2640\ufe0f",symbols:"\ud83d\udd23",synagogue:"\ud83d\udd4d",syringe:"\ud83d\udc89",taco:"\ud83c\udf2e",tada:"\ud83c\udf89",tanabata_tree:"\ud83c\udf8b",taurus:"\u2649\ufe0f",taxi:"\ud83d\ude95",tea:"\ud83c\udf75",telephone_receiver:"\ud83d\udcde",telescope:"\ud83d\udd2d",tennis:"\ud83c\udfbe",tent:"\u26fa\ufe0f",thermometer:"\ud83c\udf21",thinking:"\ud83e\udd14",thought_balloon:"\ud83d\udcad",ticket:"\ud83c\udfab",tickets:"\ud83c\udf9f",tiger:"\ud83d\udc2f",tiger2:"\ud83d\udc05",timer_clock:"\u23f2",tipping_hand_man:"\ud83d\udc81&zwj;\u2642\ufe0f",tired_face:"\ud83d\ude2b",tm:"\u2122\ufe0f",toilet:"\ud83d\udebd",tokyo_tower:"\ud83d\uddfc",tomato:"\ud83c\udf45",tongue:"\ud83d\udc45",top:"\ud83d\udd1d",tophat:"\ud83c\udfa9",tornado:"\ud83c\udf2a",trackball:"\ud83d\uddb2",tractor:"\ud83d\ude9c",traffic_light:"\ud83d\udea5",train:"\ud83d\ude8b",train2:"\ud83d\ude86",tram:"\ud83d\ude8a",triangular_flag_on_post:"\ud83d\udea9",triangular_ruler:"\ud83d\udcd0",trident:"\ud83d\udd31",triumph:"\ud83d\ude24",trolleybus:"\ud83d\ude8e",trophy:"\ud83c\udfc6",tropical_drink:"\ud83c\udf79",tropical_fish:"\ud83d\udc20",truck:"\ud83d\ude9a",trumpet:"\ud83c\udfba",tulip:"\ud83c\udf37",tumbler_glass:"\ud83e\udd43",turkey:"\ud83e\udd83",turtle:"\ud83d\udc22",tv:"\ud83d\udcfa",twisted_rightwards_arrows:"\ud83d\udd00",two_hearts:"\ud83d\udc95",two_men_holding_hands:"\ud83d\udc6c",two_women_holding_hands:"\ud83d\udc6d",u5272:"\ud83c\ude39",u5408:"\ud83c\ude34",u55b6:"\ud83c\ude3a",u6307:"\ud83c\ude2f\ufe0f",u6708:"\ud83c\ude37\ufe0f",u6709:"\ud83c\ude36",u6e80:"\ud83c\ude35",u7121:"\ud83c\ude1a\ufe0f",u7533:"\ud83c\ude38",u7981:"\ud83c\ude32",u7a7a:"\ud83c\ude33",umbrella:"\u2614\ufe0f",unamused:"\ud83d\ude12",underage:"\ud83d\udd1e",unicorn:"\ud83e\udd84",unlock:"\ud83d\udd13",up:"\ud83c\udd99",upside_down_face:"\ud83d\ude43",v:"\u270c\ufe0f",vertical_traffic_light:"\ud83d\udea6",vhs:"\ud83d\udcfc",vibration_mode:"\ud83d\udcf3",video_camera:"\ud83d\udcf9",video_game:"\ud83c\udfae",violin:"\ud83c\udfbb",virgo:"\u264d\ufe0f",volcano:"\ud83c\udf0b",volleyball:"\ud83c\udfd0",vs:"\ud83c\udd9a",vulcan_salute:"\ud83d\udd96",walking_man:"\ud83d\udeb6",walking_woman:"\ud83d\udeb6&zwj;\u2640\ufe0f",waning_crescent_moon:"\ud83c\udf18",waning_gibbous_moon:"\ud83c\udf16",warning:"\u26a0\ufe0f",wastebasket:"\ud83d\uddd1",watch:"\u231a\ufe0f",water_buffalo:"\ud83d\udc03",watermelon:"\ud83c\udf49",wave:"\ud83d\udc4b",wavy_dash:"\u3030\ufe0f",waxing_crescent_moon:"\ud83c\udf12",wc:"\ud83d\udebe",weary:"\ud83d\ude29",wedding:"\ud83d\udc92",weight_lifting_man:"\ud83c\udfcb\ufe0f",weight_lifting_woman:"\ud83c\udfcb\ufe0f&zwj;\u2640\ufe0f",whale:"\ud83d\udc33",whale2:"\ud83d\udc0b",wheel_of_dharma:"\u2638\ufe0f",wheelchair:"\u267f\ufe0f",white_check_mark:"\u2705",white_circle:"\u26aa\ufe0f",white_flag:"\ud83c\udff3\ufe0f",white_flower:"\ud83d\udcae",white_large_square:"\u2b1c\ufe0f",white_medium_small_square:"\u25fd\ufe0f",white_medium_square:"\u25fb\ufe0f",white_small_square:"\u25ab\ufe0f",white_square_button:"\ud83d\udd33",wilted_flower:"\ud83e\udd40",wind_chime:"\ud83c\udf90",wind_face:"\ud83c\udf2c",wine_glass:"\ud83c\udf77",wink:"\ud83d\ude09",wolf:"\ud83d\udc3a",woman:"\ud83d\udc69",woman_artist:"\ud83d\udc69&zwj;\ud83c\udfa8",woman_astronaut:"\ud83d\udc69&zwj;\ud83d\ude80",woman_cartwheeling:"\ud83e\udd38&zwj;\u2640\ufe0f",woman_cook:"\ud83d\udc69&zwj;\ud83c\udf73",woman_facepalming:"\ud83e\udd26&zwj;\u2640\ufe0f",woman_factory_worker:"\ud83d\udc69&zwj;\ud83c\udfed",woman_farmer:"\ud83d\udc69&zwj;\ud83c\udf3e",woman_firefighter:"\ud83d\udc69&zwj;\ud83d\ude92",woman_health_worker:"\ud83d\udc69&zwj;\u2695\ufe0f",woman_judge:"\ud83d\udc69&zwj;\u2696\ufe0f",woman_juggling:"\ud83e\udd39&zwj;\u2640\ufe0f",woman_mechanic:"\ud83d\udc69&zwj;\ud83d\udd27",woman_office_worker:"\ud83d\udc69&zwj;\ud83d\udcbc",woman_pilot:"\ud83d\udc69&zwj;\u2708\ufe0f",woman_playing_handball:"\ud83e\udd3e&zwj;\u2640\ufe0f",woman_playing_water_polo:"\ud83e\udd3d&zwj;\u2640\ufe0f",woman_scientist:"\ud83d\udc69&zwj;\ud83d\udd2c",woman_shrugging:"\ud83e\udd37&zwj;\u2640\ufe0f",woman_singer:"\ud83d\udc69&zwj;\ud83c\udfa4",woman_student:"\ud83d\udc69&zwj;\ud83c\udf93",woman_teacher:"\ud83d\udc69&zwj;\ud83c\udfeb",woman_technologist:"\ud83d\udc69&zwj;\ud83d\udcbb",woman_with_turban:"\ud83d\udc73&zwj;\u2640\ufe0f",womans_clothes:"\ud83d\udc5a",womans_hat:"\ud83d\udc52",women_wrestling:"\ud83e\udd3c&zwj;\u2640\ufe0f",womens:"\ud83d\udeba",world_map:"\ud83d\uddfa",worried:"\ud83d\ude1f",wrench:"\ud83d\udd27",writing_hand:"\u270d\ufe0f",x:"\u274c",yellow_heart:"\ud83d\udc9b",yen:"\ud83d\udcb4",yin_yang:"\u262f\ufe0f",yum:"\ud83d\ude0b",zap:"\u26a1\ufe0f",zipper_mouth_face:"\ud83e\udd10",zzz:"\ud83d\udca4",octocat:'<img alt=":octocat:" height="20" width="20" align="absmiddle" src="https://assets-cdn.github.com/images/icons/emoji/octocat.png">',showdown:"<span style=\"font-family: 'Anonymous Pro', monospace; text-decoration: underline; text-decoration-style: dashed; text-decoration-color: #3e8b8a;text-underline-position: under;\">S</span>"},i.Converter=function(e){"use strict";var t={},n=[],r=[],o={},a=c,p={parsed:{},raw:"",format:""};function f(e,t){if(t=t||null,i.helper.isString(e)){if(t=e=i.helper.stdExtName(e),i.extensions[e])return console.warn("DEPRECATION WARNING: "+e+" is an old extension that uses a deprecated loading method.Please inform the developer that the extension should be updated!"),void function(e,t){"function"==typeof e&&(e=e(new i.Converter)),i.helper.isArray(e)||(e=[e]);var o=d(e,t);if(!o.valid)throw Error(o.error);for(var a=0;a<e.length;++a)switch(e[a].type){case"lang":n.push(e[a]);break;case"output":r.push(e[a]);break;default:throw Error("Extension loader error: Type unrecognized!!!")}}(i.extensions[e],e);if(i.helper.isUndefined(s[e]))throw Error('Extension "'+e+'" could not be loaded. It was either not found or is not a valid extension.');e=s[e]}"function"==typeof e&&(e=e()),i.helper.isArray(e)||(e=[e]);var o=d(e,t);if(!o.valid)throw Error(o.error);for(var a=0;a<e.length;++a){switch(e[a].type){case"lang":n.push(e[a]);break;case"output":r.push(e[a])}if(e[a].hasOwnProperty("listeners"))for(var l in e[a].listeners)e[a].listeners.hasOwnProperty(l)&&h(l,e[a].listeners[l])}}function h(e,t){if(!i.helper.isString(e))throw Error("Invalid argument in converter.listen() method: name must be a string, but "+typeof e+" given");if("function"!=typeof t)throw Error("Invalid argument in converter.listen() method: callback must be a function, but "+typeof t+" given");o.hasOwnProperty(e)||(o[e]=[]),o[e].push(t)}!function(){for(var n in e=e||{},l)l.hasOwnProperty(n)&&(t[n]=l[n]);if("object"!=typeof e)throw Error("Converter expects the passed parameter to be an object, but "+typeof e+" was passed instead.");for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.extensions&&i.helper.forEach(t.extensions,f)}(),this._dispatch=function(e,t,n,r){if(o.hasOwnProperty(e))for(var i=0;i<o[e].length;++i){var a=o[e][i](e,t,this,n,r);a&&void 0!==a&&(t=a)}return t},this.listen=function(e,t){return h(e,t),this},this.makeHtml=function(e){if(!e)return e;var o={gHtmlBlocks:[],gHtmlMdBlocks:[],gHtmlSpans:[],gUrls:{},gTitles:{},gDimensions:{},gListLevel:0,hashLinkCounts:{},langExtensions:n,outputModifiers:r,converter:this,ghCodeBlocks:[],metadata:{parsed:{},raw:"",format:""}};return e=(e=(e=(e=(e=e.replace(/\xa8/g,"\xa8T")).replace(/\$/g,"\xa8D")).replace(/\r\n/g,"\n")).replace(/\r/g,"\n")).replace(/\u00A0/g,"&nbsp;"),t.smartIndentationFix&&(e=function(e){var t=e.match(/^\s*/)[0].length,n=new RegExp("^\\s{0,"+t+"}","gm");return e.replace(n,"")}(e)),e="\n\n"+e+"\n\n",e=(e=i.subParser("detab")(e,t,o)).replace(/^[ \t]+$/gm,""),i.helper.forEach(n,function(n){e=i.subParser("runExtension")(n,e,t,o)}),e=i.subParser("metadata")(e,t,o),e=i.subParser("hashPreCodeTags")(e,t,o),e=i.subParser("githubCodeBlocks")(e,t,o),e=i.subParser("hashHTMLBlocks")(e,t,o),e=i.subParser("hashCodeTags")(e,t,o),e=i.subParser("stripLinkDefinitions")(e,t,o),e=i.subParser("blockGamut")(e,t,o),e=i.subParser("unhashHTMLSpans")(e,t,o),e=(e=(e=i.subParser("unescapeSpecialChars")(e,t,o)).replace(/\xa8D/g,"$$")).replace(/\xa8T/g,"\xa8"),e=i.subParser("completeHTMLDocument")(e,t,o),i.helper.forEach(r,function(n){e=i.subParser("runExtension")(n,e,t,o)}),p=o.metadata,e},this.makeMarkdown=this.makeMd=function(e,t){if(e=(e=(e=e.replace(/\r\n/g,"\n")).replace(/\r/g,"\n")).replace(/>[ \t]+</,">\xa8NBSP;<"),!t){if(!window||!window.document)throw new Error("HTMLParser is undefined. If in a webworker or nodejs environment, you need to provide a WHATWG DOM and HTML such as JSDOM");t=window.document}var n=t.createElement("div");n.innerHTML=e;var r={preList:function(e){for(var t=e.querySelectorAll("pre"),n=[],r=0;r<t.length;++r)if(1===t[r].childElementCount&&"code"===t[r].firstChild.tagName.toLowerCase()){var o=t[r].firstChild.innerHTML.trim(),a=t[r].firstChild.getAttribute("data-language")||"";if(""===a)for(var s=t[r].firstChild.className.split(" "),l=0;l<s.length;++l){var c=s[l].match(/^language-(.+)$/);if(null!==c){a=c[1];break}}o=i.helper.unescapeHTMLEntities(o),n.push(o),t[r].outerHTML='<precode language="'+a+'" precodenum="'+r.toString()+'"></precode>'}else n.push(t[r].innerHTML),t[r].innerHTML="",t[r].setAttribute("prenum",r.toString());return n}(n)};!function e(t){for(var n=0;n<t.childNodes.length;++n){var r=t.childNodes[n];3===r.nodeType?/\S/.test(r.nodeValue)?(r.nodeValue=r.nodeValue.split("\n").join(" "),r.nodeValue=r.nodeValue.replace(/(\s)+/g,"$1")):(t.removeChild(r),--n):1===r.nodeType&&e(r)}}(n);for(var o=n.childNodes,a="",s=0;s<o.length;s++)a+=i.subParser("makeMarkdown.node")(o[s],r);return a},this.setOption=function(e,n){t[e]=n},this.getOption=function(e){return t[e]},this.getOptions=function(){return t},this.addExtension=function(e,t){f(e,t=t||null)},this.useExtension=function(e){f(e)},this.setFlavor=function(e){if(!u.hasOwnProperty(e))throw Error(e+" flavor was not found");var n=u[e];for(var r in a=e,n)n.hasOwnProperty(r)&&(t[r]=n[r])},this.getFlavor=function(){return a},this.removeExtension=function(e){i.helper.isArray(e)||(e=[e]);for(var t=0;t<e.length;++t){for(var o=e[t],a=0;a<n.length;++a)n[a]===o&&n[a].splice(a,1);for(;0<r.length;++a)r[0]===o&&r[0].splice(a,1)}},this.getAllExtensions=function(){return{language:n,output:r}},this.getMetadata=function(e){return e?p.raw:p.parsed},this.getMetadataFormat=function(){return p.format},this._setMetadataPair=function(e,t){p.parsed[e]=t},this._setMetadataFormat=function(e){p.format=e},this._setMetadataRaw=function(e){p.raw=e}},i.subParser("anchors",function(e,t,n){"use strict";var r=function(e,r,o,a,s,l,c){if(i.helper.isUndefined(c)&&(c=""),o=o.toLowerCase(),e.search(/\(<?\s*>? ?(['"].*['"])?\)$/m)>-1)a="";else if(!a){if(o||(o=r.toLowerCase().replace(/ ?\n/g," ")),a="#"+o,i.helper.isUndefined(n.gUrls[o]))return e;a=n.gUrls[o],i.helper.isUndefined(n.gTitles[o])||(c=n.gTitles[o])}var u='<a href="'+(a=a.replace(i.helper.regexes.asteriskDashAndColon,i.helper.escapeCharactersCallback))+'"';return""!==c&&null!==c&&(u+=' title="'+(c=(c=c.replace(/"/g,"&quot;")).replace(i.helper.regexes.asteriskDashAndColon,i.helper.escapeCharactersCallback))+'"'),t.openLinksInNewWindow&&!/^#/.test(a)&&(u+=' rel="noopener noreferrer" target="\xa8E95Eblank"'),u+">"+r+"</a>"};return e=(e=(e=(e=(e=n.converter._dispatch("anchors.before",e,t,n)).replace(/\[((?:\[[^\]]*]|[^\[\]])*)] ?(?:\n *)?\[(.*?)]()()()()/g,r)).replace(/\[((?:\[[^\]]*]|[^\[\]])*)]()[ \t]*\([ \t]?<([^>]*)>(?:[ \t]*((["'])([^"]*?)\5))?[ \t]?\)/g,r)).replace(/\[((?:\[[^\]]*]|[^\[\]])*)]()[ \t]*\([ \t]?<?([\S]+?(?:\([\S]*?\)[\S]*?)?)>?(?:[ \t]*((["'])([^"]*?)\5))?[ \t]?\)/g,r)).replace(/\[([^\[\]]+)]()()()()()/g,r),t.ghMentions&&(e=e.replace(/(^|\s)(\\)?(@([a-z\d]+(?:[a-z\d.-]+?[a-z\d]+)*))/gim,function(e,n,r,o,a){if("\\"===r)return n+o;if(!i.helper.isString(t.ghMentionsLink))throw new Error("ghMentionsLink option must be a string");var s=t.ghMentionsLink.replace(/\{u}/g,a),l="";return t.openLinksInNewWindow&&(l=' rel="noopener noreferrer" target="\xa8E95Eblank"'),n+'<a href="'+s+'"'+l+">"+o+"</a>"})),n.converter._dispatch("anchors.after",e,t,n)});var h=/([*~_]+|\b)(((https?|ftp|dict):\/\/|www\.)[^'">\s]+?\.[^'">\s]+?)()(\1)?(?=\s|$)(?!["<>])/gi,m=/([*~_]+|\b)(((https?|ftp|dict):\/\/|www\.)[^'">\s]+\.[^'">\s]+?)([.!?,()\[\]])?(\1)?(?=\s|$)(?!["<>])/gi,g=/()<(((https?|ftp|dict):\/\/|www\.)[^'">\s]+)()>()/gi,b=/(^|\s)(?:mailto:)?([A-Za-z0-9!#$%&'*+-/=?^_`{|}~.]+@[-a-z0-9]+(\.[-a-z0-9]+)*\.[a-z]+)(?=$|\s)/gim,v=/<()(?:mailto:)?([-.\w]+@[-a-z0-9]+(\.[-a-z0-9]+)*\.[a-z]+)>/gi,y=function(e){"use strict";return function(t,n,r,o,a,s,l){var c=r=r.replace(i.helper.regexes.asteriskDashAndColon,i.helper.escapeCharactersCallback),u="",d="",p=n||"",f=l||"";return/^www\./i.test(r)&&(r=r.replace(/^www\./i,"http://www.")),e.excludeTrailingPunctuationFromURLs&&s&&(u=s),e.openLinksInNewWindow&&(d=' rel="noopener noreferrer" target="\xa8E95Eblank"'),p+'<a href="'+r+'"'+d+">"+c+"</a>"+u+f}},k=function(e,t){"use strict";return function(n,r,o){var a="mailto:";return r=r||"",o=i.subParser("unescapeSpecialChars")(o,e,t),e.encodeEmails?(a=i.helper.encodeEmailAddress(a+o),o=i.helper.encodeEmailAddress(o)):a+=o,r+'<a href="'+a+'">'+o+"</a>"}};i.subParser("autoLinks",function(e,t,n){"use strict";return e=(e=(e=n.converter._dispatch("autoLinks.before",e,t,n)).replace(g,y(t))).replace(v,k(t,n)),n.converter._dispatch("autoLinks.after",e,t,n)}),i.subParser("simplifiedAutoLinks",function(e,t,n){"use strict";return t.simplifiedAutoLink?(e=n.converter._dispatch("simplifiedAutoLinks.before",e,t,n),e=(e=t.excludeTrailingPunctuationFromURLs?e.replace(m,y(t)):e.replace(h,y(t))).replace(b,k(t,n)),e=n.converter._dispatch("simplifiedAutoLinks.after",e,t,n)):e}),i.subParser("blockGamut",function(e,t,n){"use strict";return e=n.converter._dispatch("blockGamut.before",e,t,n),e=i.subParser("blockQuotes")(e,t,n),e=i.subParser("headers")(e,t,n),e=i.subParser("horizontalRule")(e,t,n),e=i.subParser("lists")(e,t,n),e=i.subParser("codeBlocks")(e,t,n),e=i.subParser("tables")(e,t,n),e=i.subParser("hashHTMLBlocks")(e,t,n),e=i.subParser("paragraphs")(e,t,n),n.converter._dispatch("blockGamut.after",e,t,n)}),i.subParser("blockQuotes",function(e,t,n){"use strict";e=n.converter._dispatch("blockQuotes.before",e,t,n),e+="\n\n";var r=/(^ {0,3}>[ \t]?.+\n(.+\n)*\n*)+/gm;return t.splitAdjacentBlockquotes&&(r=/^ {0,3}>[\s\S]*?(?:\n\n)/gm),e=e.replace(r,function(e){return e=(e=(e=e.replace(/^[ \t]*>[ \t]?/gm,"")).replace(/\xa80/g,"")).replace(/^[ \t]+$/gm,""),e=i.subParser("githubCodeBlocks")(e,t,n),e=(e=(e=i.subParser("blockGamut")(e,t,n)).replace(/(^|\n)/g,"$1  ")).replace(/(\s*<pre>[^\r]+?<\/pre>)/gm,function(e,t){var n=t;return(n=n.replace(/^  /gm,"\xa80")).replace(/\xa80/g,"")}),i.subParser("hashBlock")("<blockquote>\n"+e+"\n</blockquote>",t,n)}),n.converter._dispatch("blockQuotes.after",e,t,n)}),i.subParser("codeBlocks",function(e,t,n){"use strict";return e=n.converter._dispatch("codeBlocks.before",e,t,n),e=(e=(e+="\xa80").replace(/(?:\n\n|^)((?:(?:[ ]{4}|\t).*\n+)+)(\n*[ ]{0,3}[^ \t\n]|(?=\xa80))/g,function(e,r,o){var a=r,s=o,l="\n";return a=i.subParser("outdent")(a,t,n),a=i.subParser("encodeCode")(a,t,n),a=(a=(a=i.subParser("detab")(a,t,n)).replace(/^\n+/g,"")).replace(/\n+$/g,""),t.omitExtraWLInCodeBlocks&&(l=""),a="<pre><code>"+a+l+"</code></pre>",i.subParser("hashBlock")(a,t,n)+s})).replace(/\xa80/,""),n.converter._dispatch("codeBlocks.after",e,t,n)}),i.subParser("codeSpans",function(e,t,n){"use strict";return void 0===(e=n.converter._dispatch("codeSpans.before",e,t,n))&&(e=""),e=e.replace(/(^|[^\\])(`+)([^\r]*?[^`])\2(?!`)/gm,function(e,r,o,a){var s=a;return s=(s=s.replace(/^([ \t]*)/g,"")).replace(/[ \t]*$/g,""),s=r+"<code>"+(s=i.subParser("encodeCode")(s,t,n))+"</code>",i.subParser("hashHTMLSpans")(s,t,n)}),n.converter._dispatch("codeSpans.after",e,t,n)}),i.subParser("completeHTMLDocument",function(e,t,n){"use strict";if(!t.completeHTMLDocument)return e;e=n.converter._dispatch("completeHTMLDocument.before",e,t,n);var r="html",o="<!DOCTYPE HTML>\n",i="",a='<meta charset="utf-8">\n',s="",l="";for(var c in void 0!==n.metadata.parsed.doctype&&(o="<!DOCTYPE "+n.metadata.parsed.doctype+">\n","html"!==(r=n.metadata.parsed.doctype.toString().toLowerCase())&&"html5"!==r||(a='<meta charset="utf-8">')),n.metadata.parsed)if(n.metadata.parsed.hasOwnProperty(c))switch(c.toLowerCase()){case"doctype":break;case"title":i="<title>"+n.metadata.parsed.title+"</title>\n";break;case"charset":a="html"===r||"html5"===r?'<meta charset="'+n.metadata.parsed.charset+'">\n':'<meta name="charset" content="'+n.metadata.parsed.charset+'">\n';break;case"language":case"lang":s=' lang="'+n.metadata.parsed[c]+'"',l+='<meta name="'+c+'" content="'+n.metadata.parsed[c]+'">\n';break;default:l+='<meta name="'+c+'" content="'+n.metadata.parsed[c]+'">\n'}return e=o+"<html"+s+">\n<head>\n"+i+a+l+"</head>\n<body>\n"+e.trim()+"\n</body>\n</html>",n.converter._dispatch("completeHTMLDocument.after",e,t,n)}),i.subParser("detab",function(e,t,n){"use strict";return e=(e=(e=(e=(e=(e=n.converter._dispatch("detab.before",e,t,n)).replace(/\t(?=\t)/g,"    ")).replace(/\t/g,"\xa8A\xa8B")).replace(/\xa8B(.+?)\xa8A/g,function(e,t){for(var n=t,r=4-n.length%4,o=0;o<r;o++)n+=" ";return n})).replace(/\xa8A/g,"    ")).replace(/\xa8B/g,""),n.converter._dispatch("detab.after",e,t,n)}),i.subParser("ellipsis",function(e,t,n){"use strict";return e=(e=n.converter._dispatch("ellipsis.before",e,t,n)).replace(/\.\.\./g,"\u2026"),n.converter._dispatch("ellipsis.after",e,t,n)}),i.subParser("emoji",function(e,t,n){"use strict";return t.emoji?(e=(e=n.converter._dispatch("emoji.before",e,t,n)).replace(/:([\S]+?):/g,function(e,t){return i.helper.emojis.hasOwnProperty(t)?i.helper.emojis[t]:e}),n.converter._dispatch("emoji.after",e,t,n)):e}),i.subParser("encodeAmpsAndAngles",function(e,t,n){"use strict";return e=(e=(e=(e=(e=n.converter._dispatch("encodeAmpsAndAngles.before",e,t,n)).replace(/&(?!#?[xX]?(?:[0-9a-fA-F]+|\w+);)/g,"&amp;")).replace(/<(?![a-z\/?$!])/gi,"&lt;")).replace(/</g,"&lt;")).replace(/>/g,"&gt;"),n.converter._dispatch("encodeAmpsAndAngles.after",e,t,n)}),i.subParser("encodeBackslashEscapes",function(e,t,n){"use strict";return e=(e=(e=n.converter._dispatch("encodeBackslashEscapes.before",e,t,n)).replace(/\\(\\)/g,i.helper.escapeCharactersCallback)).replace(/\\([`*_{}\[\]()>#+.!~=|-])/g,i.helper.escapeCharactersCallback),n.converter._dispatch("encodeBackslashEscapes.after",e,t,n)}),i.subParser("encodeCode",function(e,t,n){"use strict";return e=(e=n.converter._dispatch("encodeCode.before",e,t,n)).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/([*_{}\[\]\\=~-])/g,i.helper.escapeCharactersCallback),n.converter._dispatch("encodeCode.after",e,t,n)}),i.subParser("escapeSpecialCharsWithinTagAttributes",function(e,t,n){"use strict";return e=(e=(e=n.converter._dispatch("escapeSpecialCharsWithinTagAttributes.before",e,t,n)).replace(/<\/?[a-z\d_:-]+(?:[\s]+[\s\S]+?)?>/gi,function(e){return e.replace(/(.)<\/?code>(?=.)/g,"$1`").replace(/([\\`*_~=|])/g,i.helper.escapeCharactersCallback)})).replace(/<!(--(?:(?:[^>-]|-[^>])(?:[^-]|-[^-])*)--)>/gi,function(e){return e.replace(/([\\`*_~=|])/g,i.helper.escapeCharactersCallback)}),n.converter._dispatch("escapeSpecialCharsWithinTagAttributes.after",e,t,n)}),i.subParser("githubCodeBlocks",function(e,t,n){"use strict";return t.ghCodeBlocks?(e=n.converter._dispatch("githubCodeBlocks.before",e,t,n),e=(e=(e+="\xa80").replace(/(?:^|\n)(?: {0,3})(```+|~~~+)(?: *)([^\s`~]*)\n([\s\S]*?)\n(?: {0,3})\1/g,function(e,r,o,a){var s=t.omitExtraWLInCodeBlocks?"":"\n";return a=i.subParser("encodeCode")(a,t,n),a=(a=(a=i.subParser("detab")(a,t,n)).replace(/^\n+/g,"")).replace(/\n+$/g,""),a="<pre><code"+(o?' class="'+o+" language-"+o+'"':"")+">"+a+s+"</code></pre>",a=i.subParser("hashBlock")(a,t,n),"\n\n\xa8G"+(n.ghCodeBlocks.push({text:e,codeblock:a})-1)+"G\n\n"})).replace(/\xa80/,""),n.converter._dispatch("githubCodeBlocks.after",e,t,n)):e}),i.subParser("hashBlock",function(e,t,n){"use strict";return e=(e=n.converter._dispatch("hashBlock.before",e,t,n)).replace(/(^\n+|\n+$)/g,""),e="\n\n\xa8K"+(n.gHtmlBlocks.push(e)-1)+"K\n\n",n.converter._dispatch("hashBlock.after",e,t,n)}),i.subParser("hashCodeTags",function(e,t,n){"use strict";return e=n.converter._dispatch("hashCodeTags.before",e,t,n),e=i.helper.replaceRecursiveRegExp(e,function(e,r,o,a){var s=o+i.subParser("encodeCode")(r,t,n)+a;return"\xa8C"+(n.gHtmlSpans.push(s)-1)+"C"},"<code\\b[^>]*>","</code>","gim"),n.converter._dispatch("hashCodeTags.after",e,t,n)}),i.subParser("hashElement",function(e,t,n){"use strict";return function(e,t){var r=t;return r=(r=(r=r.replace(/\n\n/g,"\n")).replace(/^\n/,"")).replace(/\n+$/g,""),"\n\n\xa8K"+(n.gHtmlBlocks.push(r)-1)+"K\n\n"}}),i.subParser("hashHTMLBlocks",function(e,t,n){"use strict";e=n.converter._dispatch("hashHTMLBlocks.before",e,t,n);var r=["pre","div","h1","h2","h3","h4","h5","h6","blockquote","table","dl","ol","ul","script","noscript","form","fieldset","iframe","math","style","section","header","footer","nav","article","aside","address","audio","canvas","figure","hgroup","output","video","p"],o=function(e,t,r,o){var i=e;return-1!==r.search(/\bmarkdown\b/)&&(i=r+n.converter.makeHtml(t)+o),"\n\n\xa8K"+(n.gHtmlBlocks.push(i)-1)+"K\n\n"};t.backslashEscapesHTMLTags&&(e=e.replace(/\\<(\/?[^>]+?)>/g,function(e,t){return"&lt;"+t+"&gt;"}));for(var a=0;a<r.length;++a)for(var s,l=new RegExp("^ {0,3}(<"+r[a]+"\\b[^>]*>)","im"),c="<"+r[a]+"\\b[^>]*>",u="</"+r[a]+">";-1!==(s=i.helper.regexIndexOf(e,l));){var d=i.helper.splitAtIndex(e,s),p=i.helper.replaceRecursiveRegExp(d[1],o,c,u,"im");if(p===d[1])break;e=d[0].concat(p)}return e=e.replace(/(\n {0,3}(<(hr)\b([^<>])*?\/?>)[ \t]*(?=\n{2,}))/g,i.subParser("hashElement")(e,t,n)),e=(e=i.helper.replaceRecursiveRegExp(e,function(e){return"\n\n\xa8K"+(n.gHtmlBlocks.push(e)-1)+"K\n\n"},"^ {0,3}\x3c!--","--\x3e","gm")).replace(/(?:\n\n)( {0,3}(?:<([?%])[^\r]*?\2>)[ \t]*(?=\n{2,}))/g,i.subParser("hashElement")(e,t,n)),n.converter._dispatch("hashHTMLBlocks.after",e,t,n)}),i.subParser("hashHTMLSpans",function(e,t,n){"use strict";function r(e){return"\xa8C"+(n.gHtmlSpans.push(e)-1)+"C"}return e=(e=(e=(e=(e=n.converter._dispatch("hashHTMLSpans.before",e,t,n)).replace(/<[^>]+?\/>/gi,function(e){return r(e)})).replace(/<([^>]+?)>[\s\S]*?<\/\1>/g,function(e){return r(e)})).replace(/<([^>]+?)\s[^>]+?>[\s\S]*?<\/\1>/g,function(e){return r(e)})).replace(/<[^>]+?>/gi,function(e){return r(e)}),n.converter._dispatch("hashHTMLSpans.after",e,t,n)}),i.subParser("unhashHTMLSpans",function(e,t,n){"use strict";e=n.converter._dispatch("unhashHTMLSpans.before",e,t,n);for(var r=0;r<n.gHtmlSpans.length;++r){for(var o=n.gHtmlSpans[r],i=0;/\xa8C(\d+)C/.test(o);){var a=RegExp.$1;if(o=o.replace("\xa8C"+a+"C",n.gHtmlSpans[a]),10===i){console.error("maximum nesting of 10 spans reached!!!");break}++i}e=e.replace("\xa8C"+r+"C",o)}return n.converter._dispatch("unhashHTMLSpans.after",e,t,n)}),i.subParser("hashPreCodeTags",function(e,t,n){"use strict";return e=n.converter._dispatch("hashPreCodeTags.before",e,t,n),e=i.helper.replaceRecursiveRegExp(e,function(e,r,o,a){var s=o+i.subParser("encodeCode")(r,t,n)+a;return"\n\n\xa8G"+(n.ghCodeBlocks.push({text:e,codeblock:s})-1)+"G\n\n"},"^ {0,3}<pre\\b[^>]*>\\s*<code\\b[^>]*>","^ {0,3}</code>\\s*</pre>","gim"),n.converter._dispatch("hashPreCodeTags.after",e,t,n)}),i.subParser("headers",function(e,t,n){"use strict";e=n.converter._dispatch("headers.before",e,t,n);var r=isNaN(parseInt(t.headerLevelStart))?1:parseInt(t.headerLevelStart),o=t.smoothLivePreview?/^(.+)[ \t]*\n={2,}[ \t]*\n+/gm:/^(.+)[ \t]*\n=+[ \t]*\n+/gm,a=t.smoothLivePreview?/^(.+)[ \t]*\n-{2,}[ \t]*\n+/gm:/^(.+)[ \t]*\n-+[ \t]*\n+/gm;e=(e=e.replace(o,function(e,o){var a=i.subParser("spanGamut")(o,t,n),s=t.noHeaderId?"":' id="'+l(o)+'"',c="<h"+r+s+">"+a+"</h"+r+">";return i.subParser("hashBlock")(c,t,n)})).replace(a,function(e,o){var a=i.subParser("spanGamut")(o,t,n),s=t.noHeaderId?"":' id="'+l(o)+'"',c=r+1,u="<h"+c+s+">"+a+"</h"+c+">";return i.subParser("hashBlock")(u,t,n)});var s=t.requireSpaceBeforeHeadingText?/^(#{1,6})[ \t]+(.+?)[ \t]*#*\n+/gm:/^(#{1,6})[ \t]*(.+?)[ \t]*#*\n+/gm;function l(e){var r,o;if(t.customizedHeaderId){var a=e.match(/\{([^{]+?)}\s*$/);a&&a[1]&&(e=a[1])}return r=e,o=i.helper.isString(t.prefixHeaderId)?t.prefixHeaderId:!0===t.prefixHeaderId?"section-":"",t.rawPrefixHeaderId||(r=o+r),r=t.ghCompatibleHeaderId?r.replace(/ /g,"-").replace(/&amp;/g,"").replace(/\xa8T/g,"").replace(/\xa8D/g,"").replace(/[&+$,\/:;=?@"#{}|^\xa8~\[\]`\\*)(%.!'<>]/g,"").toLowerCase():t.rawHeaderId?r.replace(/ /g,"-").replace(/&amp;/g,"&").replace(/\xa8T/g,"\xa8").replace(/\xa8D/g,"$").replace(/["']/g,"-").toLowerCase():r.replace(/[^\w]/g,"").toLowerCase(),t.rawPrefixHeaderId&&(r=o+r),n.hashLinkCounts[r]?r=r+"-"+n.hashLinkCounts[r]++:n.hashLinkCounts[r]=1,r}return e=e.replace(s,function(e,o,a){var s=a;t.customizedHeaderId&&(s=a.replace(/\s?\{([^{]+?)}\s*$/,""));var c=i.subParser("spanGamut")(s,t,n),u=t.noHeaderId?"":' id="'+l(a)+'"',d=r-1+o.length,p="<h"+d+u+">"+c+"</h"+d+">";return i.subParser("hashBlock")(p,t,n)}),n.converter._dispatch("headers.after",e,t,n)}),i.subParser("horizontalRule",function(e,t,n){"use strict";e=n.converter._dispatch("horizontalRule.before",e,t,n);var r=i.subParser("hashBlock")("<hr />",t,n);return e=(e=(e=e.replace(/^ {0,2}( ?-){3,}[ \t]*$/gm,r)).replace(/^ {0,2}( ?\*){3,}[ \t]*$/gm,r)).replace(/^ {0,2}( ?_){3,}[ \t]*$/gm,r),n.converter._dispatch("horizontalRule.after",e,t,n)}),i.subParser("images",function(e,t,n){"use strict";function r(e,t,r,o,a,s,l,c){var u=n.gUrls,d=n.gTitles,p=n.gDimensions;if(r=r.toLowerCase(),c||(c=""),e.search(/\(<?\s*>? ?(['"].*['"])?\)$/m)>-1)o="";else if(""===o||null===o){if(""!==r&&null!==r||(r=t.toLowerCase().replace(/ ?\n/g," ")),o="#"+r,i.helper.isUndefined(u[r]))return e;o=u[r],i.helper.isUndefined(d[r])||(c=d[r]),i.helper.isUndefined(p[r])||(a=p[r].width,s=p[r].height)}t=t.replace(/"/g,"&quot;").replace(i.helper.regexes.asteriskDashAndColon,i.helper.escapeCharactersCallback);var f='<img src="'+(o=o.replace(i.helper.regexes.asteriskDashAndColon,i.helper.escapeCharactersCallback))+'" alt="'+t+'"';return c&&i.helper.isString(c)&&(f+=' title="'+(c=c.replace(/"/g,"&quot;").replace(i.helper.regexes.asteriskDashAndColon,i.helper.escapeCharactersCallback))+'"'),a&&s&&(f+=' width="'+(a="*"===a?"auto":a)+'"',f+=' height="'+(s="*"===s?"auto":s)+'"'),f+" />"}return e=(e=(e=(e=(e=(e=n.converter._dispatch("images.before",e,t,n)).replace(/!\[([^\]]*?)] ?(?:\n *)?\[([\s\S]*?)]()()()()()/g,r)).replace(/!\[([^\]]*?)][ \t]*()\([ \t]?<?(data:.+?\/.+?;base64,[A-Za-z0-9+/=\n]+?)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*(?:(["'])([^"]*?)\6)?[ \t]?\)/g,function(e,t,n,o,i,a,s,l){return r(e,t,n,o=o.replace(/\s/g,""),i,a,0,l)})).replace(/!\[([^\]]*?)][ \t]*()\([ \t]?<([^>]*)>(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*(?:(?:(["'])([^"]*?)\6))?[ \t]?\)/g,r)).replace(/!\[([^\]]*?)][ \t]*()\([ \t]?<?([\S]+?(?:\([\S]*?\)[\S]*?)?)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*(?:(["'])([^"]*?)\6)?[ \t]?\)/g,r)).replace(/!\[([^\[\]]+)]()()()()()/g,r),n.converter._dispatch("images.after",e,t,n)}),i.subParser("italicsAndBold",function(e,t,n){"use strict";function r(e,t,n){return t+e+n}return e=n.converter._dispatch("italicsAndBold.before",e,t,n),e=t.literalMidWordUnderscores?(e=(e=e.replace(/\b___(\S[\s\S]*?)___\b/g,function(e,t){return r(t,"<strong><em>","</em></strong>")})).replace(/\b__(\S[\s\S]*?)__\b/g,function(e,t){return r(t,"<strong>","</strong>")})).replace(/\b_(\S[\s\S]*?)_\b/g,function(e,t){return r(t,"<em>","</em>")}):(e=(e=e.replace(/___(\S[\s\S]*?)___/g,function(e,t){return/\S$/.test(t)?r(t,"<strong><em>","</em></strong>"):e})).replace(/__(\S[\s\S]*?)__/g,function(e,t){return/\S$/.test(t)?r(t,"<strong>","</strong>"):e})).replace(/_([^\s_][\s\S]*?)_/g,function(e,t){return/\S$/.test(t)?r(t,"<em>","</em>"):e}),e=t.literalMidWordAsterisks?(e=(e=e.replace(/([^*]|^)\B\*\*\*(\S[\s\S]*?)\*\*\*\B(?!\*)/g,function(e,t,n){return r(n,t+"<strong><em>","</em></strong>")})).replace(/([^*]|^)\B\*\*(\S[\s\S]*?)\*\*\B(?!\*)/g,function(e,t,n){return r(n,t+"<strong>","</strong>")})).replace(/([^*]|^)\B\*(\S[\s\S]*?)\*\B(?!\*)/g,function(e,t,n){return r(n,t+"<em>","</em>")}):(e=(e=e.replace(/\*\*\*(\S[\s\S]*?)\*\*\*/g,function(e,t){return/\S$/.test(t)?r(t,"<strong><em>","</em></strong>"):e})).replace(/\*\*(\S[\s\S]*?)\*\*/g,function(e,t){return/\S$/.test(t)?r(t,"<strong>","</strong>"):e})).replace(/\*([^\s*][\s\S]*?)\*/g,function(e,t){return/\S$/.test(t)?r(t,"<em>","</em>"):e}),n.converter._dispatch("italicsAndBold.after",e,t,n)}),i.subParser("lists",function(e,t,n){"use strict";function r(e,r){n.gListLevel++,e=e.replace(/\n{2,}$/,"\n");var o=/(\n)?(^ {0,3})([*+-]|\d+[.])[ \t]+((\[(x|X| )?])?[ \t]*[^\r]+?(\n{1,2}))(?=\n*(\xa80| {0,3}([*+-]|\d+[.])[ \t]+))/gm,a=/\n[ \t]*\n(?!\xa80)/.test(e+="\xa80");return t.disableForced4SpacesIndentedSublists&&(o=/(\n)?(^ {0,3})([*+-]|\d+[.])[ \t]+((\[(x|X| )?])?[ \t]*[^\r]+?(\n{1,2}))(?=\n*(\xa80|\2([*+-]|\d+[.])[ \t]+))/gm),e=(e=e.replace(o,function(e,r,o,s,l,c,u){u=u&&""!==u.trim();var d=i.subParser("outdent")(l,t,n),p="";return c&&t.tasklists&&(p=' class="task-list-item" style="list-style-type: none;"',d=d.replace(/^[ \t]*\[(x|X| )?]/m,function(){var e='<input type="checkbox" disabled style="margin: 0px 0.35em 0.25em -1.6em; vertical-align: middle;"';return u&&(e+=" checked"),e+">"})),d=d.replace(/^([-*+]|\d\.)[ \t]+[\S\n ]*/g,function(e){return"\xa8A"+e}),r||d.search(/\n{2,}/)>-1?(d=i.subParser("githubCodeBlocks")(d,t,n),d=i.subParser("blockGamut")(d,t,n)):(d=(d=i.subParser("lists")(d,t,n)).replace(/\n$/,""),d=(d=i.subParser("hashHTMLBlocks")(d,t,n)).replace(/\n\n+/g,"\n\n"),d=a?i.subParser("paragraphs")(d,t,n):i.subParser("spanGamut")(d,t,n)),"<li"+p+">"+(d=d.replace("\xa8A",""))+"</li>\n"})).replace(/\xa80/g,""),n.gListLevel--,r&&(e=e.replace(/\s+$/,"")),e}function o(e,t){if("ol"===t){var n=e.match(/^ *(\d+)\./);if(n&&"1"!==n[1])return' start="'+n[1]+'"'}return""}function a(e,n,i){var a=t.disableForced4SpacesIndentedSublists?/^ ?\d+\.[ \t]/gm:/^ {0,3}\d+\.[ \t]/gm,s=t.disableForced4SpacesIndentedSublists?/^ ?[*+-][ \t]/gm:/^ {0,3}[*+-][ \t]/gm,l="ul"===n?a:s,c="";if(-1!==e.search(l))!function t(u){var d=u.search(l),p=o(e,n);-1!==d?(c+="\n\n<"+n+p+">\n"+r(u.slice(0,d),!!i)+"</"+n+">\n",l="ul"===(n="ul"===n?"ol":"ul")?a:s,t(u.slice(d))):c+="\n\n<"+n+p+">\n"+r(u,!!i)+"</"+n+">\n"}(e);else{var u=o(e,n);c="\n\n<"+n+u+">\n"+r(e,!!i)+"</"+n+">\n"}return c}return e=n.converter._dispatch("lists.before",e,t,n),e+="\xa80",e=(e=n.gListLevel?e.replace(/^(( {0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(\xa80|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/gm,function(e,t,n){return a(t,n.search(/[*+-]/g)>-1?"ul":"ol",!0)}):e.replace(/(\n\n|^\n?)(( {0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(\xa80|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/gm,function(e,t,n,r){return a(n,r.search(/[*+-]/g)>-1?"ul":"ol",!1)})).replace(/\xa80/,""),n.converter._dispatch("lists.after",e,t,n)}),i.subParser("metadata",function(e,t,n){"use strict";if(!t.metadata)return e;function r(e){n.metadata.raw=e,(e=(e=e.replace(/&/g,"&amp;").replace(/"/g,"&quot;")).replace(/\n {4}/g," ")).replace(/^([\S ]+): +([\s\S]+?)$/gm,function(e,t,r){return n.metadata.parsed[t]=r,""})}return e=(e=(e=(e=n.converter._dispatch("metadata.before",e,t,n)).replace(/^\s*\xab\xab\xab+(\S*?)\n([\s\S]+?)\n\xbb\xbb\xbb+\n/,function(e,t,n){return r(n),"\xa8M"})).replace(/^\s*---+(\S*?)\n([\s\S]+?)\n---+\n/,function(e,t,o){return t&&(n.metadata.format=t),r(o),"\xa8M"})).replace(/\xa8M/g,""),n.converter._dispatch("metadata.after",e,t,n)}),i.subParser("outdent",function(e,t,n){"use strict";return e=(e=(e=n.converter._dispatch("outdent.before",e,t,n)).replace(/^(\t|[ ]{1,4})/gm,"\xa80")).replace(/\xa80/g,""),n.converter._dispatch("outdent.after",e,t,n)}),i.subParser("paragraphs",function(e,t,n){"use strict";for(var r=(e=(e=(e=n.converter._dispatch("paragraphs.before",e,t,n)).replace(/^\n+/g,"")).replace(/\n+$/g,"")).split(/\n{2,}/g),o=[],a=r.length,s=0;s<a;s++){var l=r[s];l.search(/\xa8(K|G)(\d+)\1/g)>=0?o.push(l):l.search(/\S/)>=0&&(l=(l=i.subParser("spanGamut")(l,t,n)).replace(/^([ \t]*)/g,"<p>"),l+="</p>",o.push(l))}for(a=o.length,s=0;s<a;s++){for(var c="",u=o[s],d=!1;/\xa8(K|G)(\d+)\1/.test(u);){var p=RegExp.$1,f=RegExp.$2;c=(c="K"===p?n.gHtmlBlocks[f]:d?i.subParser("encodeCode")(n.ghCodeBlocks[f].text,t,n):n.ghCodeBlocks[f].codeblock).replace(/\$/g,"$$$$"),u=u.replace(/(\n\n)?\xa8(K|G)\d+\2(\n\n)?/,c),/^<pre\b[^>]*>\s*<code\b[^>]*>/.test(u)&&(d=!0)}o[s]=u}return e=(e=(e=o.join("\n")).replace(/^\n+/g,"")).replace(/\n+$/g,""),n.converter._dispatch("paragraphs.after",e,t,n)}),i.subParser("runExtension",function(e,t,n,r){"use strict";if(e.filter)t=e.filter(t,r.converter,n);else if(e.regex){var o=e.regex;o instanceof RegExp||(o=new RegExp(o,"g")),t=t.replace(o,e.replace)}return t}),i.subParser("spanGamut",function(e,t,n){"use strict";return e=n.converter._dispatch("spanGamut.before",e,t,n),e=i.subParser("codeSpans")(e,t,n),e=i.subParser("escapeSpecialCharsWithinTagAttributes")(e,t,n),e=i.subParser("encodeBackslashEscapes")(e,t,n),e=i.subParser("images")(e,t,n),e=i.subParser("anchors")(e,t,n),e=i.subParser("autoLinks")(e,t,n),e=i.subParser("simplifiedAutoLinks")(e,t,n),e=i.subParser("emoji")(e,t,n),e=i.subParser("underline")(e,t,n),e=i.subParser("italicsAndBold")(e,t,n),e=i.subParser("strikethrough")(e,t,n),e=i.subParser("ellipsis")(e,t,n),e=i.subParser("hashHTMLSpans")(e,t,n),e=i.subParser("encodeAmpsAndAngles")(e,t,n),t.simpleLineBreaks?/\n\n\xa8K/.test(e)||(e=e.replace(/\n+/g,"<br />\n")):e=e.replace(/  +\n/g,"<br />\n"),n.converter._dispatch("spanGamut.after",e,t,n)}),i.subParser("strikethrough",function(e,t,n){"use strict";return t.strikethrough&&(e=(e=n.converter._dispatch("strikethrough.before",e,t,n)).replace(/(?:~){2}([\s\S]+?)(?:~){2}/g,function(e,r){return function(e){return t.simplifiedAutoLink&&(e=i.subParser("simplifiedAutoLinks")(e,t,n)),"<del>"+e+"</del>"}(r)}),e=n.converter._dispatch("strikethrough.after",e,t,n)),e}),i.subParser("stripLinkDefinitions",function(e,t,n){"use strict";var r=function(e,r,o,a,s,l,c){return r=r.toLowerCase(),o.match(/^data:.+?\/.+?;base64,/)?n.gUrls[r]=o.replace(/\s/g,""):n.gUrls[r]=i.subParser("encodeAmpsAndAngles")(o,t,n),l?l+c:(c&&(n.gTitles[r]=c.replace(/"|'/g,"&quot;")),t.parseImgDimensions&&a&&s&&(n.gDimensions[r]={width:a,height:s}),"")};return(e=(e=(e+="\xa80").replace(/^ {0,3}\[(.+)]:[ \t]*\n?[ \t]*<?(data:.+?\/.+?;base64,[A-Za-z0-9+/=\n]+?)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*\n?[ \t]*(?:(\n*)["|'(](.+?)["|')][ \t]*)?(?:\n\n|(?=\xa80)|(?=\n\[))/gm,r)).replace(/^ {0,3}\[(.+)]:[ \t]*\n?[ \t]*<?([^>\s]+)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*\n?[ \t]*(?:(\n*)["|'(](.+?)["|')][ \t]*)?(?:\n+|(?=\xa80))/gm,r)).replace(/\xa80/,"")}),i.subParser("tables",function(e,t,n){"use strict";if(!t.tables)return e;function r(e){return/^:[ \t]*--*$/.test(e)?' style="text-align:left;"':/^--*[ \t]*:[ \t]*$/.test(e)?' style="text-align:right;"':/^:[ \t]*--*[ \t]*:$/.test(e)?' style="text-align:center;"':""}function o(e,r){var o="";return e=e.trim(),(t.tablesHeaderId||t.tableHeaderId)&&(o=' id="'+e.replace(/ /g,"_").toLowerCase()+'"'),"<th"+o+r+">"+(e=i.subParser("spanGamut")(e,t,n))+"</th>\n"}function a(e,r){return"<td"+r+">"+i.subParser("spanGamut")(e,t,n)+"</td>\n"}function s(e){var s,l=e.split("\n");for(s=0;s<l.length;++s)/^ {0,3}\|/.test(l[s])&&(l[s]=l[s].replace(/^ {0,3}\|/,"")),/\|[ \t]*$/.test(l[s])&&(l[s]=l[s].replace(/\|[ \t]*$/,"")),l[s]=i.subParser("codeSpans")(l[s],t,n);var c=l[0].split("|").map(function(e){return e.trim()}),u=l[1].split("|").map(function(e){return e.trim()}),d=[],p=[],f=[],h=[];for(l.shift(),l.shift(),s=0;s<l.length;++s)""!==l[s].trim()&&d.push(l[s].split("|").map(function(e){return e.trim()}));if(c.length<u.length)return e;for(s=0;s<u.length;++s)f.push(r(u[s]));for(s=0;s<c.length;++s)i.helper.isUndefined(f[s])&&(f[s]=""),p.push(o(c[s],f[s]));for(s=0;s<d.length;++s){for(var m=[],g=0;g<p.length;++g)i.helper.isUndefined(d[s][g]),m.push(a(d[s][g],f[g]));h.push(m)}return function(e,t){for(var n="<table>\n<thead>\n<tr>\n",r=e.length,o=0;o<r;++o)n+=e[o];for(n+="</tr>\n</thead>\n<tbody>\n",o=0;o<t.length;++o){n+="<tr>\n";for(var i=0;i<r;++i)n+=t[o][i];n+="</tr>\n"}return n+"</tbody>\n</table>\n"}(p,h)}return e=(e=(e=(e=n.converter._dispatch("tables.before",e,t,n)).replace(/\\(\|)/g,i.helper.escapeCharactersCallback)).replace(/^ {0,3}\|?.+\|.+\n {0,3}\|?[ \t]*:?[ \t]*(?:[-=]){2,}[ \t]*:?[ \t]*\|[ \t]*:?[ \t]*(?:[-=]){2,}[\s\S]+?(?:\n\n|\xa80)/gm,s)).replace(/^ {0,3}\|.+\|[ \t]*\n {0,3}\|[ \t]*:?[ \t]*(?:[-=]){2,}[ \t]*:?[ \t]*\|[ \t]*\n( {0,3}\|.+\|[ \t]*\n)*(?:\n|\xa80)/gm,s),n.converter._dispatch("tables.after",e,t,n)}),i.subParser("underline",function(e,t,n){"use strict";return t.underline?(e=n.converter._dispatch("underline.before",e,t,n),e=(e=t.literalMidWordUnderscores?(e=e.replace(/\b___(\S[\s\S]*?)___\b/g,function(e,t){return"<u>"+t+"</u>"})).replace(/\b__(\S[\s\S]*?)__\b/g,function(e,t){return"<u>"+t+"</u>"}):(e=e.replace(/___(\S[\s\S]*?)___/g,function(e,t){return/\S$/.test(t)?"<u>"+t+"</u>":e})).replace(/__(\S[\s\S]*?)__/g,function(e,t){return/\S$/.test(t)?"<u>"+t+"</u>":e})).replace(/(_)/g,i.helper.escapeCharactersCallback),e=n.converter._dispatch("underline.after",e,t,n)):e}),i.subParser("unescapeSpecialChars",function(e,t,n){"use strict";return e=(e=n.converter._dispatch("unescapeSpecialChars.before",e,t,n)).replace(/\xa8E(\d+)E/g,function(e,t){var n=parseInt(t);return String.fromCharCode(n)}),n.converter._dispatch("unescapeSpecialChars.after",e,t,n)}),i.subParser("makeMarkdown.blockquote",function(e,t){"use strict";var n="";if(e.hasChildNodes())for(var r=e.childNodes,o=r.length,a=0;a<o;++a){var s=i.subParser("makeMarkdown.node")(r[a],t);""!==s&&(n+=s)}return"> "+(n=n.trim()).split("\n").join("\n> ")}),i.subParser("makeMarkdown.codeBlock",function(e,t){"use strict";var n=e.getAttribute("language"),r=e.getAttribute("precodenum");return"```"+n+"\n"+t.preList[r]+"\n```"}),i.subParser("makeMarkdown.codeSpan",function(e){"use strict";return"`"+e.innerHTML+"`"}),i.subParser("makeMarkdown.emphasis",function(e,t){"use strict";var n="";if(e.hasChildNodes()){n+="*";for(var r=e.childNodes,o=r.length,a=0;a<o;++a)n+=i.subParser("makeMarkdown.node")(r[a],t);n+="*"}return n}),i.subParser("makeMarkdown.header",function(e,t,n){"use strict";var r=new Array(n+1).join("#"),o="";if(e.hasChildNodes()){o=r+" ";for(var a=e.childNodes,s=a.length,l=0;l<s;++l)o+=i.subParser("makeMarkdown.node")(a[l],t)}return o}),i.subParser("makeMarkdown.hr",function(){"use strict";return"---"}),i.subParser("makeMarkdown.image",function(e){"use strict";var t="";return e.hasAttribute("src")&&(t+="!["+e.getAttribute("alt")+"](",t+="<"+e.getAttribute("src")+">",e.hasAttribute("width")&&e.hasAttribute("height")&&(t+=" ="+e.getAttribute("width")+"x"+e.getAttribute("height")),e.hasAttribute("title")&&(t+=' "'+e.getAttribute("title")+'"'),t+=")"),t}),i.subParser("makeMarkdown.links",function(e,t){"use strict";var n="";if(e.hasChildNodes()&&e.hasAttribute("href")){var r=e.childNodes,o=r.length;n="[";for(var a=0;a<o;++a)n+=i.subParser("makeMarkdown.node")(r[a],t);n+="](",n+="<"+e.getAttribute("href")+">",e.hasAttribute("title")&&(n+=' "'+e.getAttribute("title")+'"'),n+=")"}return n}),i.subParser("makeMarkdown.list",function(e,t,n){"use strict";var r="";if(!e.hasChildNodes())return"";for(var o=e.childNodes,a=o.length,s=e.getAttribute("start")||1,l=0;l<a;++l)void 0!==o[l].tagName&&"li"===o[l].tagName.toLowerCase()&&(r+=("ol"===n?s.toString()+". ":"- ")+i.subParser("makeMarkdown.listItem")(o[l],t),++s);return(r+="\n\x3c!-- --\x3e\n").trim()}),i.subParser("makeMarkdown.listItem",function(e,t){"use strict";for(var n="",r=e.childNodes,o=r.length,a=0;a<o;++a)n+=i.subParser("makeMarkdown.node")(r[a],t);return/\n$/.test(n)?n=n.split("\n").join("\n    ").replace(/^ {4}$/gm,"").replace(/\n\n+/g,"\n\n"):n+="\n",n}),i.subParser("makeMarkdown.node",function(e,t,n){"use strict";n=n||!1;var r="";if(3===e.nodeType)return i.subParser("makeMarkdown.txt")(e,t);if(8===e.nodeType)return"\x3c!--"+e.data+"--\x3e\n\n";if(1!==e.nodeType)return"";switch(e.tagName.toLowerCase()){case"h1":n||(r=i.subParser("makeMarkdown.header")(e,t,1)+"\n\n");break;case"h2":n||(r=i.subParser("makeMarkdown.header")(e,t,2)+"\n\n");break;case"h3":n||(r=i.subParser("makeMarkdown.header")(e,t,3)+"\n\n");break;case"h4":n||(r=i.subParser("makeMarkdown.header")(e,t,4)+"\n\n");break;case"h5":n||(r=i.subParser("makeMarkdown.header")(e,t,5)+"\n\n");break;case"h6":n||(r=i.subParser("makeMarkdown.header")(e,t,6)+"\n\n");break;case"p":n||(r=i.subParser("makeMarkdown.paragraph")(e,t)+"\n\n");break;case"blockquote":n||(r=i.subParser("makeMarkdown.blockquote")(e,t)+"\n\n");break;case"hr":n||(r=i.subParser("makeMarkdown.hr")(e,t)+"\n\n");break;case"ol":n||(r=i.subParser("makeMarkdown.list")(e,t,"ol")+"\n\n");break;case"ul":n||(r=i.subParser("makeMarkdown.list")(e,t,"ul")+"\n\n");break;case"precode":n||(r=i.subParser("makeMarkdown.codeBlock")(e,t)+"\n\n");break;case"pre":n||(r=i.subParser("makeMarkdown.pre")(e,t)+"\n\n");break;case"table":n||(r=i.subParser("makeMarkdown.table")(e,t)+"\n\n");break;case"code":r=i.subParser("makeMarkdown.codeSpan")(e,t);break;case"em":case"i":r=i.subParser("makeMarkdown.emphasis")(e,t);break;case"strong":case"b":r=i.subParser("makeMarkdown.strong")(e,t);break;case"del":r=i.subParser("makeMarkdown.strikethrough")(e,t);break;case"a":r=i.subParser("makeMarkdown.links")(e,t);break;case"img":r=i.subParser("makeMarkdown.image")(e,t);break;default:r=e.outerHTML+"\n\n"}return r}),i.subParser("makeMarkdown.paragraph",function(e,t){"use strict";var n="";if(e.hasChildNodes())for(var r=e.childNodes,o=r.length,a=0;a<o;++a)n+=i.subParser("makeMarkdown.node")(r[a],t);return n.trim()}),i.subParser("makeMarkdown.pre",function(e,t){"use strict";var n=e.getAttribute("prenum");return"<pre>"+t.preList[n]+"</pre>"}),i.subParser("makeMarkdown.strikethrough",function(e,t){"use strict";var n="";if(e.hasChildNodes()){n+="~~";for(var r=e.childNodes,o=r.length,a=0;a<o;++a)n+=i.subParser("makeMarkdown.node")(r[a],t);n+="~~"}return n}),i.subParser("makeMarkdown.strong",function(e,t){"use strict";var n="";if(e.hasChildNodes()){n+="**";for(var r=e.childNodes,o=r.length,a=0;a<o;++a)n+=i.subParser("makeMarkdown.node")(r[a],t);n+="**"}return n}),i.subParser("makeMarkdown.table",function(e,t){"use strict";var n,r,o="",a=[[],[]],s=e.querySelectorAll("thead>tr>th"),l=e.querySelectorAll("tbody>tr");for(n=0;n<s.length;++n){var c=i.subParser("makeMarkdown.tableCell")(s[n],t),u="---";if(s[n].hasAttribute("style"))switch(s[n].getAttribute("style").toLowerCase().replace(/\s/g,"")){case"text-align:left;":u=":---";break;case"text-align:right;":u="---:";break;case"text-align:center;":u=":---:"}a[0][n]=c.trim(),a[1][n]=u}for(n=0;n<l.length;++n){var d=a.push([])-1,p=l[n].getElementsByTagName("td");for(r=0;r<s.length;++r){var f=" ";void 0!==p[r]&&(f=i.subParser("makeMarkdown.tableCell")(p[r],t)),a[d].push(f)}}var h=3;for(n=0;n<a.length;++n)for(r=0;r<a[n].length;++r){var m=a[n][r].length;m>h&&(h=m)}for(n=0;n<a.length;++n){for(r=0;r<a[n].length;++r)1===n?":"===a[n][r].slice(-1)?a[n][r]=i.helper.padEnd(a[n][r].slice(-1),h-1,"-")+":":a[n][r]=i.helper.padEnd(a[n][r],h,"-"):a[n][r]=i.helper.padEnd(a[n][r],h);o+="| "+a[n].join(" | ")+" |\n"}return o.trim()}),i.subParser("makeMarkdown.tableCell",function(e,t){"use strict";var n="";if(!e.hasChildNodes())return"";for(var r=e.childNodes,o=r.length,a=0;a<o;++a)n+=i.subParser("makeMarkdown.node")(r[a],t,!0);return n.trim()}),i.subParser("makeMarkdown.txt",function(e){"use strict";var t=e.nodeValue;return t=(t=t.replace(/ +/g," ")).replace(/\xa8NBSP;/g," "),(t=(t=(t=(t=(t=(t=(t=(t=i.helper.unescapeHTMLEntities(t)).replace(/([*_~|`])/g,"\\$1")).replace(/^(\s*)>/g,"\\$1>")).replace(/^#/gm,"\\#")).replace(/^(\s*)([-=]{3,})(\s*)$/,"$1\\$2$3")).replace(/^( {0,3}\d+)\./gm,"$1\\.")).replace(/^( {0,3})([+-])/gm,"$1\\$2")).replace(/]([\s]*)\(/g,"\\]$1\\(")).replace(/^ {0,3}\[([\S \t]*?)]:/gm,"\\[$1]:")}),void 0===(r=function(){"use strict";return i}.call(t,n,t,e))||(e.exports=r)}).call(this)},function(e,t,n){var r,o,i;o=[n(9)],void 0===(i="function"==typeof(r=function(e){e.ui=e.ui||{},e.ui.version="1.12.1";var t=0,n=Array.prototype.slice;e.cleanData=function(t){return function(n){var r,o,i;for(i=0;null!=(o=n[i]);i++)try{(r=e._data(o,"events"))&&r.remove&&e(o).triggerHandler("remove")}catch(e){}t(n)}}(e.cleanData),e.widget=function(t,n,r){var o,i,a,s={},l=t.split(".")[0],c=l+"-"+(t=t.split(".")[1]);return r||(r=n,n=e.Widget),e.isArray(r)&&(r=e.extend.apply(null,[{}].concat(r))),e.expr[":"][c.toLowerCase()]=function(t){return!!e.data(t,c)},e[l]=e[l]||{},o=e[l][t],i=e[l][t]=function(e,t){if(!this._createWidget)return new i(e,t);arguments.length&&this._createWidget(e,t)},e.extend(i,o,{version:r.version,_proto:e.extend({},r),_childConstructors:[]}),(a=new n).options=e.widget.extend({},a.options),e.each(r,function(t,r){e.isFunction(r)?s[t]=function(){function e(){return n.prototype[t].apply(this,arguments)}function o(e){return n.prototype[t].apply(this,e)}return function(){var t,n=this._super,i=this._superApply;return this._super=e,this._superApply=o,t=r.apply(this,arguments),this._super=n,this._superApply=i,t}}():s[t]=r}),i.prototype=e.widget.extend(a,{widgetEventPrefix:o&&a.widgetEventPrefix||t},s,{constructor:i,namespace:l,widgetName:t,widgetFullName:c}),o?(e.each(o._childConstructors,function(t,n){var r=n.prototype;e.widget(r.namespace+"."+r.widgetName,i,n._proto)}),delete o._childConstructors):n._childConstructors.push(i),e.widget.bridge(t,i),i},e.widget.extend=function(t){for(var r,o,i=n.call(arguments,1),a=0,s=i.length;a<s;a++)for(r in i[a])o=i[a][r],i[a].hasOwnProperty(r)&&void 0!==o&&(e.isPlainObject(o)?t[r]=e.isPlainObject(t[r])?e.widget.extend({},t[r],o):e.widget.extend({},o):t[r]=o);return t},e.widget.bridge=function(t,r){var o=r.prototype.widgetFullName||t;e.fn[t]=function(i){var a="string"==typeof i,s=n.call(arguments,1),l=this;return a?this.length||"instance"!==i?this.each(function(){var n,r=e.data(this,o);return"instance"===i?(l=r,!1):r?e.isFunction(r[i])&&"_"!==i.charAt(0)?(n=r[i].apply(r,s))!==r&&void 0!==n?(l=n&&n.jquery?l.pushStack(n.get()):n,!1):void 0:e.error("no such method '"+i+"' for "+t+" widget instance"):e.error("cannot call methods on "+t+" prior to initialization; attempted to call method '"+i+"'")}):l=void 0:(s.length&&(i=e.widget.extend.apply(null,[i].concat(s))),this.each(function(){var t=e.data(this,o);t?(t.option(i||{}),t._init&&t._init()):e.data(this,o,new r(i,this))})),l}},e.Widget=function(){},e.Widget._childConstructors=[],e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{classes:{},disabled:!1,create:null},_createWidget:function(n,r){r=e(r||this.defaultElement||this)[0],this.element=e(r),this.uuid=t++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=e(),this.hoverable=e(),this.focusable=e(),this.classesElementLookup={},r!==this&&(e.data(r,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===r&&this.destroy()}}),this.document=e(r.style?r.ownerDocument:r.document||r),this.window=e(this.document[0].defaultView||this.document[0].parentWindow)),this.options=e.widget.extend({},this.options,this._getCreateOptions(),n),this._create(),this.options.disabled&&this._setOptionDisabled(this.options.disabled),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:function(){return{}},_getCreateEventData:e.noop,_create:e.noop,_init:e.noop,destroy:function(){var t=this;this._destroy(),e.each(this.classesElementLookup,function(e,n){t._removeClass(n,e)}),this.element.off(this.eventNamespace).removeData(this.widgetFullName),this.widget().off(this.eventNamespace).removeAttr("aria-disabled"),this.bindings.off(this.eventNamespace)},_destroy:e.noop,widget:function(){return this.element},option:function(t,n){var r,o,i,a=t;if(0===arguments.length)return e.widget.extend({},this.options);if("string"==typeof t)if(a={},t=(r=t.split(".")).shift(),r.length){for(o=a[t]=e.widget.extend({},this.options[t]),i=0;i<r.length-1;i++)o[r[i]]=o[r[i]]||{},o=o[r[i]];if(t=r.pop(),1===arguments.length)return void 0===o[t]?null:o[t];o[t]=n}else{if(1===arguments.length)return void 0===this.options[t]?null:this.options[t];a[t]=n}return this._setOptions(a),this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return"classes"===e&&this._setOptionClasses(t),this.options[e]=t,"disabled"===e&&this._setOptionDisabled(t),this},_setOptionClasses:function(t){var n,r,o;for(n in t)o=this.classesElementLookup[n],t[n]!==this.options.classes[n]&&o&&o.length&&(r=e(o.get()),this._removeClass(o,n),r.addClass(this._classes({element:r,keys:n,classes:t,add:!0})))},_setOptionDisabled:function(e){this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!!e),e&&(this._removeClass(this.hoverable,null,"ui-state-hover"),this._removeClass(this.focusable,null,"ui-state-focus"))},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_classes:function(t){var n=[],r=this;function o(o,i){var a,s;for(s=0;s<o.length;s++)a=r.classesElementLookup[o[s]]||e(),a=t.add?e(e.unique(a.get().concat(t.element.get()))):e(a.not(t.element).get()),r.classesElementLookup[o[s]]=a,n.push(o[s]),i&&t.classes[o[s]]&&n.push(t.classes[o[s]])}return t=e.extend({element:this.element,classes:this.options.classes||{}},t),this._on(t.element,{remove:"_untrackClassesElement"}),t.keys&&o(t.keys.match(/\S+/g)||[],!0),t.extra&&o(t.extra.match(/\S+/g)||[]),n.join(" ")},_untrackClassesElement:function(t){var n=this;e.each(n.classesElementLookup,function(r,o){-1!==e.inArray(t.target,o)&&(n.classesElementLookup[r]=e(o.not(t.target).get()))})},_removeClass:function(e,t,n){return this._toggleClass(e,t,n,!1)},_addClass:function(e,t,n){return this._toggleClass(e,t,n,!0)},_toggleClass:function(e,t,n,r){r="boolean"==typeof r?r:n;var o="string"==typeof e||null===e,i={extra:o?t:n,keys:o?e:t,element:o?this.element:e,add:r};return i.element.toggleClass(this._classes(i),r),this},_on:function(t,n,r){var o,i=this;"boolean"!=typeof t&&(r=n,n=t,t=!1),r?(n=o=e(n),this.bindings=this.bindings.add(n)):(r=n,n=this.element,o=this.widget()),e.each(r,function(r,a){function s(){if(t||!0!==i.options.disabled&&!e(this).hasClass("ui-state-disabled"))return("string"==typeof a?i[a]:a).apply(i,arguments)}"string"!=typeof a&&(s.guid=a.guid=a.guid||s.guid||e.guid++);var l=r.match(/^([\w:-]*)\s*(.*)$/),c=l[1]+i.eventNamespace,u=l[2];u?o.on(c,u,s):n.on(c,s)})},_off:function(t,n){n=(n||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,t.off(n).off(n),this.bindings=e(this.bindings.not(t).get()),this.focusable=e(this.focusable.not(t).get()),this.hoverable=e(this.hoverable.not(t).get())},_delay:function(e,t){var n=this;return setTimeout(function(){return("string"==typeof e?n[e]:e).apply(n,arguments)},t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){this._addClass(e(t.currentTarget),null,"ui-state-hover")},mouseleave:function(t){this._removeClass(e(t.currentTarget),null,"ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){this._addClass(e(t.currentTarget),null,"ui-state-focus")},focusout:function(t){this._removeClass(e(t.currentTarget),null,"ui-state-focus")}})},_trigger:function(t,n,r){var o,i,a=this.options[t];if(r=r||{},(n=e.Event(n)).type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),n.target=this.element[0],i=n.originalEvent)for(o in i)o in n||(n[o]=i[o]);return this.element.trigger(n,r),!(e.isFunction(a)&&!1===a.apply(this.element[0],[n].concat(r))||n.isDefaultPrevented())}},e.each({show:"fadeIn",hide:"fadeOut"},function(t,n){e.Widget.prototype["_"+t]=function(r,o,i){var a;"string"==typeof o&&(o={effect:o});var s=o?!0===o||"number"==typeof o?n:o.effect||n:t;"number"==typeof(o=o||{})&&(o={duration:o}),a=!e.isEmptyObject(o),o.complete=i,o.delay&&r.delay(o.delay),a&&e.effects&&e.effects.effect[s]?r[t](o):s!==t&&r[s]?r[s](o.duration,o.easing,i):r.queue(function(n){e(this)[t](),i&&i.call(r[0]),n()})}}),e.widget,function(){var t,n=Math.max,r=Math.abs,o=/left|center|right/,i=/top|center|bottom/,a=/[\+\-]\d+(\.[\d]+)?%?/,s=/^\w+/,l=/%$/,c=e.fn.position;function u(e,t,n){return[parseFloat(e[0])*(l.test(e[0])?t/100:1),parseFloat(e[1])*(l.test(e[1])?n/100:1)]}function d(t,n){return parseInt(e.css(t,n),10)||0}e.position={scrollbarWidth:function(){if(void 0!==t)return t;var n,r,o=e("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),i=o.children()[0];return e("body").append(o),n=i.offsetWidth,o.css("overflow","scroll"),n===(r=i.offsetWidth)&&(r=o[0].clientWidth),o.remove(),t=n-r},getScrollInfo:function(t){var n=t.isWindow||t.isDocument?"":t.element.css("overflow-x"),r=t.isWindow||t.isDocument?"":t.element.css("overflow-y"),o="scroll"===n||"auto"===n&&t.width<t.element[0].scrollWidth;return{width:"scroll"===r||"auto"===r&&t.height<t.element[0].scrollHeight?e.position.scrollbarWidth():0,height:o?e.position.scrollbarWidth():0}},getWithinInfo:function(t){var n=e(t||window),r=e.isWindow(n[0]),o=!!n[0]&&9===n[0].nodeType;return{element:n,isWindow:r,isDocument:o,offset:r||o?{left:0,top:0}:e(t).offset(),scrollLeft:n.scrollLeft(),scrollTop:n.scrollTop(),width:n.outerWidth(),height:n.outerHeight()}}},e.fn.position=function(t){if(!t||!t.of)return c.apply(this,arguments);t=e.extend({},t);var l,p,f,h,m,g,b=e(t.of),v=e.position.getWithinInfo(t.within),y=e.position.getScrollInfo(v),k=(t.collision||"flip").split(" "),_={};return g=function(t){var n=t[0];return 9===n.nodeType?{width:t.width(),height:t.height(),offset:{top:0,left:0}}:e.isWindow(n)?{width:t.width(),height:t.height(),offset:{top:t.scrollTop(),left:t.scrollLeft()}}:n.preventDefault?{width:0,height:0,offset:{top:n.pageY,left:n.pageX}}:{width:t.outerWidth(),height:t.outerHeight(),offset:t.offset()}}(b),b[0].preventDefault&&(t.at="left top"),p=g.width,f=g.height,h=g.offset,m=e.extend({},h),e.each(["my","at"],function(){var e,n,r=(t[this]||"").split(" ");1===r.length&&(r=o.test(r[0])?r.concat(["center"]):i.test(r[0])?["center"].concat(r):["center","center"]),r[0]=o.test(r[0])?r[0]:"center",r[1]=i.test(r[1])?r[1]:"center",e=a.exec(r[0]),n=a.exec(r[1]),_[this]=[e?e[0]:0,n?n[0]:0],t[this]=[s.exec(r[0])[0],s.exec(r[1])[0]]}),1===k.length&&(k[1]=k[0]),"right"===t.at[0]?m.left+=p:"center"===t.at[0]&&(m.left+=p/2),"bottom"===t.at[1]?m.top+=f:"center"===t.at[1]&&(m.top+=f/2),l=u(_.at,p,f),m.left+=l[0],m.top+=l[1],this.each(function(){var o,i,a=e(this),s=a.outerWidth(),c=a.outerHeight(),g=d(this,"marginLeft"),w=d(this,"marginTop"),C=s+g+d(this,"marginRight")+y.width,S=c+w+d(this,"marginBottom")+y.height,P=e.extend({},m),E=u(_.my,a.outerWidth(),a.outerHeight());"right"===t.my[0]?P.left-=s:"center"===t.my[0]&&(P.left-=s/2),"bottom"===t.my[1]?P.top-=c:"center"===t.my[1]&&(P.top-=c/2),P.left+=E[0],P.top+=E[1],o={marginLeft:g,marginTop:w},e.each(["left","top"],function(n,r){e.ui.position[k[n]]&&e.ui.position[k[n]][r](P,{targetWidth:p,targetHeight:f,elemWidth:s,elemHeight:c,collisionPosition:o,collisionWidth:C,collisionHeight:S,offset:[l[0]+E[0],l[1]+E[1]],my:t.my,at:t.at,within:v,elem:a})}),t.using&&(i=function(e){var o=h.left-P.left,i=o+p-s,l=h.top-P.top,u=l+f-c,d={target:{element:b,left:h.left,top:h.top,width:p,height:f},element:{element:a,left:P.left,top:P.top,width:s,height:c},horizontal:i<0?"left":o>0?"right":"center",vertical:u<0?"top":l>0?"bottom":"middle"};p<s&&r(o+i)<p&&(d.horizontal="center"),f<c&&r(l+u)<f&&(d.vertical="middle"),n(r(o),r(i))>n(r(l),r(u))?d.important="horizontal":d.important="vertical",t.using.call(this,e,d)}),a.offset(e.extend(P,{using:i}))})},e.ui.position={fit:{left:function(e,t){var r,o=t.within,i=o.isWindow?o.scrollLeft:o.offset.left,a=o.width,s=e.left-t.collisionPosition.marginLeft,l=i-s,c=s+t.collisionWidth-a-i;t.collisionWidth>a?l>0&&c<=0?(r=e.left+l+t.collisionWidth-a-i,e.left+=l-r):e.left=c>0&&l<=0?i:l>c?i+a-t.collisionWidth:i:l>0?e.left+=l:c>0?e.left-=c:e.left=n(e.left-s,e.left)},top:function(e,t){var r,o=t.within,i=o.isWindow?o.scrollTop:o.offset.top,a=t.within.height,s=e.top-t.collisionPosition.marginTop,l=i-s,c=s+t.collisionHeight-a-i;t.collisionHeight>a?l>0&&c<=0?(r=e.top+l+t.collisionHeight-a-i,e.top+=l-r):e.top=c>0&&l<=0?i:l>c?i+a-t.collisionHeight:i:l>0?e.top+=l:c>0?e.top-=c:e.top=n(e.top-s,e.top)}},flip:{left:function(e,t){var n,o,i=t.within,a=i.offset.left+i.scrollLeft,s=i.width,l=i.isWindow?i.scrollLeft:i.offset.left,c=e.left-t.collisionPosition.marginLeft,u=c-l,d=c+t.collisionWidth-s-l,p="left"===t.my[0]?-t.elemWidth:"right"===t.my[0]?t.elemWidth:0,f="left"===t.at[0]?t.targetWidth:"right"===t.at[0]?-t.targetWidth:0,h=-2*t.offset[0];u<0?((n=e.left+p+f+h+t.collisionWidth-s-a)<0||n<r(u))&&(e.left+=p+f+h):d>0&&((o=e.left-t.collisionPosition.marginLeft+p+f+h-l)>0||r(o)<d)&&(e.left+=p+f+h)},top:function(e,t){var n,o,i=t.within,a=i.offset.top+i.scrollTop,s=i.height,l=i.isWindow?i.scrollTop:i.offset.top,c=e.top-t.collisionPosition.marginTop,u=c-l,d=c+t.collisionHeight-s-l,p="top"===t.my[1]?-t.elemHeight:"bottom"===t.my[1]?t.elemHeight:0,f="top"===t.at[1]?t.targetHeight:"bottom"===t.at[1]?-t.targetHeight:0,h=-2*t.offset[1];u<0?((o=e.top+p+f+h+t.collisionHeight-s-a)<0||o<r(u))&&(e.top+=p+f+h):d>0&&((n=e.top-t.collisionPosition.marginTop+p+f+h-l)>0||r(n)<d)&&(e.top+=p+f+h)}},flipfit:{left:function(){e.ui.position.flip.left.apply(this,arguments),e.ui.position.fit.left.apply(this,arguments)},top:function(){e.ui.position.flip.top.apply(this,arguments),e.ui.position.fit.top.apply(this,arguments)}}}}(),e.ui.position,e.extend(e.expr[":"],{data:e.expr.createPseudo?e.expr.createPseudo(function(t){return function(n){return!!e.data(n,t)}}):function(t,n,r){return!!e.data(t,r[3])}}),e.fn.extend({disableSelection:function(){var e="onselectstart"in document.createElement("div")?"selectstart":"mousedown";return function(){return this.on(e+".ui-disableSelection",function(e){e.preventDefault()})}}(),enableSelection:function(){return this.off(".ui-disableSelection")}});var r="ui-effects-animated",o=e;e.effects={effect:{}},function(e,t){var n,r=/^([\-+])=\s*(\d+\.?\d*)/,o=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(e){return[e[1],e[2],e[3],e[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(e){return[2.55*e[1],2.55*e[2],2.55*e[3],e[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(e){return[e[1],e[2]/100,e[3]/100,e[4]]}}],i=e.Color=function(t,n,r,o){return new e.Color.fn.parse(t,n,r,o)},a={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},s={byte:{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},l=i.support={},c=e("<p>")[0],u=e.each;function d(e,t,n){var r=s[t.type]||{};return null==e?n||!t.def?null:t.def:(e=r.floor?~~e:parseFloat(e),isNaN(e)?t.def:r.mod?(e+r.mod)%r.mod:0>e?0:r.max<e?r.max:e)}function p(t){var r=i(),s=r._rgba=[];return t=t.toLowerCase(),u(o,function(e,n){var o,i=n.re.exec(t),l=i&&n.parse(i),c=n.space||"rgba";if(l)return o=r[c](l),r[a[c].cache]=o[a[c].cache],s=r._rgba=o._rgba,!1}),s.length?("0,0,0,0"===s.join()&&e.extend(s,n.transparent),r):n[t]}function f(e,t,n){return 6*(n=(n+1)%1)<1?e+(t-e)*n*6:2*n<1?t:3*n<2?e+(t-e)*(2/3-n)*6:e}c.style.cssText="background-color:rgba(1,1,1,.5)",l.rgba=c.style.backgroundColor.indexOf("rgba")>-1,u(a,function(e,t){t.cache="_"+e,t.props.alpha={idx:3,type:"percent",def:1}}),i.fn=e.extend(i.prototype,{parse:function(t,r,o,s){if(void 0===t)return this._rgba=[null,null,null,null],this;(t.jquery||t.nodeType)&&(t=e(t).css(r),r=void 0);var l=this,c=e.type(t),f=this._rgba=[];return void 0!==r&&(t=[t,r,o,s],c="array"),"string"===c?this.parse(p(t)||n._default):"array"===c?(u(a.rgba.props,function(e,n){f[n.idx]=d(t[n.idx],n)}),this):"object"===c?(u(a,t instanceof i?function(e,n){t[n.cache]&&(l[n.cache]=t[n.cache].slice())}:function(n,r){var o=r.cache;u(r.props,function(e,n){if(!l[o]&&r.to){if("alpha"===e||null==t[e])return;l[o]=r.to(l._rgba)}l[o][n.idx]=d(t[e],n,!0)}),l[o]&&e.inArray(null,l[o].slice(0,3))<0&&(l[o][3]=1,r.from&&(l._rgba=r.from(l[o])))}),this):void 0},is:function(e){var t=i(e),n=!0,r=this;return u(a,function(e,o){var i,a=t[o.cache];return a&&(i=r[o.cache]||o.to&&o.to(r._rgba)||[],u(o.props,function(e,t){if(null!=a[t.idx])return n=a[t.idx]===i[t.idx]})),n}),n},_space:function(){var e=[],t=this;return u(a,function(n,r){t[r.cache]&&e.push(n)}),e.pop()},transition:function(e,t){var n=i(e),r=n._space(),o=a[r],l=0===this.alpha()?i("transparent"):this,c=l[o.cache]||o.to(l._rgba),p=c.slice();return n=n[o.cache],u(o.props,function(e,r){var o=r.idx,i=c[o],a=n[o],l=s[r.type]||{};null!==a&&(null===i?p[o]=a:(l.mod&&(a-i>l.mod/2?i+=l.mod:i-a>l.mod/2&&(i-=l.mod)),p[o]=d((a-i)*t+i,r)))}),this[r](p)},blend:function(t){if(1===this._rgba[3])return this;var n=this._rgba.slice(),r=n.pop(),o=i(t)._rgba;return i(e.map(n,function(e,t){return(1-r)*o[t]+r*e}))},toRgbaString:function(){var t="rgba(",n=e.map(this._rgba,function(e,t){return null==e?t>2?1:0:e});return 1===n[3]&&(n.pop(),t="rgb("),t+n.join()+")"},toHslaString:function(){var t="hsla(",n=e.map(this.hsla(),function(e,t){return null==e&&(e=t>2?1:0),t&&t<3&&(e=Math.round(100*e)+"%"),e});return 1===n[3]&&(n.pop(),t="hsl("),t+n.join()+")"},toHexString:function(t){var n=this._rgba.slice(),r=n.pop();return t&&n.push(~~(255*r)),"#"+e.map(n,function(e){return 1===(e=(e||0).toString(16)).length?"0"+e:e}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),i.fn.parse.prototype=i.fn,a.hsla.to=function(e){if(null==e[0]||null==e[1]||null==e[2])return[null,null,null,e[3]];var t,n,r=e[0]/255,o=e[1]/255,i=e[2]/255,a=e[3],s=Math.max(r,o,i),l=Math.min(r,o,i),c=s-l,u=s+l,d=.5*u;return t=l===s?0:r===s?60*(o-i)/c+360:o===s?60*(i-r)/c+120:60*(r-o)/c+240,n=0===c?0:d<=.5?c/u:c/(2-u),[Math.round(t)%360,n,d,null==a?1:a]},a.hsla.from=function(e){if(null==e[0]||null==e[1]||null==e[2])return[null,null,null,e[3]];var t=e[0]/360,n=e[1],r=e[2],o=e[3],i=r<=.5?r*(1+n):r+n-r*n,a=2*r-i;return[Math.round(255*f(a,i,t+1/3)),Math.round(255*f(a,i,t)),Math.round(255*f(a,i,t-1/3)),o]},u(a,function(t,n){var o=n.props,a=n.cache,s=n.to,l=n.from;i.fn[t]=function(t){if(s&&!this[a]&&(this[a]=s(this._rgba)),void 0===t)return this[a].slice();var n,r=e.type(t),c="array"===r||"object"===r?t:arguments,p=this[a].slice();return u(o,function(e,t){var n=c["object"===r?e:t.idx];null==n&&(n=p[t.idx]),p[t.idx]=d(n,t)}),l?((n=i(l(p)))[a]=p,n):i(p)},u(o,function(n,o){i.fn[n]||(i.fn[n]=function(i){var a,s=e.type(i),l="alpha"===n?this._hsla?"hsla":"rgba":t,c=this[l](),u=c[o.idx];return"undefined"===s?u:("function"===s&&(i=i.call(this,u),s=e.type(i)),null==i&&o.empty?this:("string"===s&&(a=r.exec(i))&&(i=u+parseFloat(a[2])*("+"===a[1]?1:-1)),c[o.idx]=i,this[l](c)))})})}),i.hook=function(t){var n=t.split(" ");u(n,function(t,n){e.cssHooks[n]={set:function(t,r){var o,a,s="";if("transparent"!==r&&("string"!==e.type(r)||(o=p(r)))){if(r=i(o||r),!l.rgba&&1!==r._rgba[3]){for(a="backgroundColor"===n?t.parentNode:t;(""===s||"transparent"===s)&&a&&a.style;)try{s=e.css(a,"backgroundColor"),a=a.parentNode}catch(e){}r=r.blend(s&&"transparent"!==s?s:"_default")}r=r.toRgbaString()}try{t.style[n]=r}catch(e){}}},e.fx.step[n]=function(t){t.colorInit||(t.start=i(t.elem,n),t.end=i(t.end),t.colorInit=!0),e.cssHooks[n].set(t.elem,t.start.transition(t.end,t.pos))}})},i.hook("backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor"),e.cssHooks.borderColor={expand:function(e){var t={};return u(["Top","Right","Bottom","Left"],function(n,r){t["border"+r+"Color"]=e}),t}},n=e.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(o),function(){var t=["add","remove","toggle"],n={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};function r(t){var n,r,o=t.ownerDocument.defaultView?t.ownerDocument.defaultView.getComputedStyle(t,null):t.currentStyle,i={};if(o&&o.length&&o[0]&&o[o[0]])for(r=o.length;r--;)"string"==typeof o[n=o[r]]&&(i[e.camelCase(n)]=o[n]);else for(n in o)"string"==typeof o[n]&&(i[n]=o[n]);return i}e.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(t,n){e.fx.step[n]=function(e){("none"!==e.end&&!e.setAttr||1===e.pos&&!e.setAttr)&&(o.style(e.elem,n,e.end),e.setAttr=!0)}}),e.fn.addBack||(e.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}),e.effects.animateClass=function(o,i,a,s){var l=e.speed(i,a,s);return this.queue(function(){var i,a=e(this),s=a.attr("class")||"",c=l.children?a.find("*").addBack():a;c=c.map(function(){return{el:e(this),start:r(this)}}),(i=function(){e.each(t,function(e,t){o[t]&&a[t+"Class"](o[t])})})(),c=c.map(function(){return this.end=r(this.el[0]),this.diff=function(t,r){var o,i,a={};for(o in r)i=r[o],t[o]!==i&&(n[o]||!e.fx.step[o]&&isNaN(parseFloat(i))||(a[o]=i));return a}(this.start,this.end),this}),a.attr("class",s),c=c.map(function(){var t=this,n=e.Deferred(),r=e.extend({},l,{queue:!1,complete:function(){n.resolve(t)}});return this.el.animate(this.diff,r),n.promise()}),e.when.apply(e,c.get()).done(function(){i(),e.each(arguments,function(){var t=this.el;e.each(this.diff,function(e){t.css(e,"")})}),l.complete.call(a[0])})})},e.fn.extend({addClass:function(t){return function(n,r,o,i){return r?e.effects.animateClass.call(this,{add:n},r,o,i):t.apply(this,arguments)}}(e.fn.addClass),removeClass:function(t){return function(n,r,o,i){return arguments.length>1?e.effects.animateClass.call(this,{remove:n},r,o,i):t.apply(this,arguments)}}(e.fn.removeClass),toggleClass:function(t){return function(n,r,o,i,a){return"boolean"==typeof r||void 0===r?o?e.effects.animateClass.call(this,r?{add:n}:{remove:n},o,i,a):t.apply(this,arguments):e.effects.animateClass.call(this,{toggle:n},r,o,i)}}(e.fn.toggleClass),switchClass:function(t,n,r,o,i){return e.effects.animateClass.call(this,{add:n,remove:t},r,o,i)}})}(),function(){function t(t,n,r,o){return e.isPlainObject(t)&&(n=t,t=t.effect),t={effect:t},null==n&&(n={}),e.isFunction(n)&&(o=n,r=null,n={}),("number"==typeof n||e.fx.speeds[n])&&(o=r,r=n,n={}),e.isFunction(r)&&(o=r,r=null),n&&e.extend(t,n),r=r||n.duration,t.duration=e.fx.off?0:"number"==typeof r?r:r in e.fx.speeds?e.fx.speeds[r]:e.fx.speeds._default,t.complete=o||n.complete,t}function n(t){return!(t&&"number"!=typeof t&&!e.fx.speeds[t])||"string"==typeof t&&!e.effects.effect[t]||!!e.isFunction(t)||"object"==typeof t&&!t.effect}function o(e,t){var n=t.outerWidth(),r=t.outerHeight(),o=/^rect\((-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto)\)$/.exec(e)||["",0,n,r,0];return{top:parseFloat(o[1])||0,right:"auto"===o[2]?n:parseFloat(o[2]),bottom:"auto"===o[3]?r:parseFloat(o[3]),left:parseFloat(o[4])||0}}e.expr&&e.expr.filters&&e.expr.filters.animated&&(e.expr.filters.animated=function(t){return function(n){return!!e(n).data(r)||t(n)}}(e.expr.filters.animated)),!1!==e.uiBackCompat&&e.extend(e.effects,{save:function(e,t){for(var n=0,r=t.length;n<r;n++)null!==t[n]&&e.data("ui-effects-"+t[n],e[0].style[t[n]])},restore:function(e,t){for(var n,r=0,o=t.length;r<o;r++)null!==t[r]&&(n=e.data("ui-effects-"+t[r]),e.css(t[r],n))},setMode:function(e,t){return"toggle"===t&&(t=e.is(":hidden")?"show":"hide"),t},createWrapper:function(t){if(t.parent().is(".ui-effects-wrapper"))return t.parent();var n={width:t.outerWidth(!0),height:t.outerHeight(!0),float:t.css("float")},r=e("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),o={width:t.width(),height:t.height()},i=document.activeElement;try{i.id}catch(e){i=document.body}return t.wrap(r),(t[0]===i||e.contains(t[0],i))&&e(i).trigger("focus"),r=t.parent(),"static"===t.css("position")?(r.css({position:"relative"}),t.css({position:"relative"})):(e.extend(n,{position:t.css("position"),zIndex:t.css("z-index")}),e.each(["top","left","bottom","right"],function(e,r){n[r]=t.css(r),isNaN(parseInt(n[r],10))&&(n[r]="auto")}),t.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),t.css(o),r.css(n).show()},removeWrapper:function(t){var n=document.activeElement;return t.parent().is(".ui-effects-wrapper")&&(t.parent().replaceWith(t),(t[0]===n||e.contains(t[0],n))&&e(n).trigger("focus")),t}}),e.extend(e.effects,{version:"1.12.1",define:function(t,n,r){return r||(r=n,n="effect"),e.effects.effect[t]=r,e.effects.effect[t].mode=n,r},scaledDimensions:function(e,t,n){if(0===t)return{height:0,width:0,outerHeight:0,outerWidth:0};var r="horizontal"!==n?(t||100)/100:1,o="vertical"!==n?(t||100)/100:1;return{height:e.height()*o,width:e.width()*r,outerHeight:e.outerHeight()*o,outerWidth:e.outerWidth()*r}},clipToBox:function(e){return{width:e.clip.right-e.clip.left,height:e.clip.bottom-e.clip.top,left:e.clip.left,top:e.clip.top}},unshift:function(e,t,n){var r=e.queue();t>1&&r.splice.apply(r,[1,0].concat(r.splice(t,n))),e.dequeue()},saveStyle:function(e){e.data("ui-effects-style",e[0].style.cssText)},restoreStyle:function(e){e[0].style.cssText=e.data("ui-effects-style")||"",e.removeData("ui-effects-style")},mode:function(e,t){var n=e.is(":hidden");return"toggle"===t&&(t=n?"show":"hide"),(n?"hide"===t:"show"===t)&&(t="none"),t},getBaseline:function(e,t){var n,r;switch(e[0]){case"top":n=0;break;case"middle":n=.5;break;case"bottom":n=1;break;default:n=e[0]/t.height}switch(e[1]){case"left":r=0;break;case"center":r=.5;break;case"right":r=1;break;default:r=e[1]/t.width}return{x:r,y:n}},createPlaceholder:function(t){var n,r=t.css("position"),o=t.position();return t.css({marginTop:t.css("marginTop"),marginBottom:t.css("marginBottom"),marginLeft:t.css("marginLeft"),marginRight:t.css("marginRight")}).outerWidth(t.outerWidth()).outerHeight(t.outerHeight()),/^(static|relative)/.test(r)&&(r="absolute",n=e("<"+t[0].nodeName+">").insertAfter(t).css({display:/^(inline|ruby)/.test(t.css("display"))?"inline-block":"block",visibility:"hidden",marginTop:t.css("marginTop"),marginBottom:t.css("marginBottom"),marginLeft:t.css("marginLeft"),marginRight:t.css("marginRight"),float:t.css("float")}).outerWidth(t.outerWidth()).outerHeight(t.outerHeight()).addClass("ui-effects-placeholder"),t.data("ui-effects-placeholder",n)),t.css({position:r,left:o.left,top:o.top}),n},removePlaceholder:function(e){var t="ui-effects-placeholder",n=e.data(t);n&&(n.remove(),e.removeData(t))},cleanUp:function(t){e.effects.restoreStyle(t),e.effects.removePlaceholder(t)},setTransition:function(t,n,r,o){return o=o||{},e.each(n,function(e,n){var i=t.cssUnit(n);i[0]>0&&(o[n]=i[0]*r+i[1])}),o}}),e.fn.extend({effect:function(){var n=t.apply(this,arguments),o=e.effects.effect[n.effect],i=o.mode,a=n.queue,s=a||"fx",l=n.complete,c=n.mode,u=[],d=function(t){var n=e(this),o=e.effects.mode(n,c)||i;n.data(r,!0),u.push(o),i&&("show"===o||o===i&&"hide"===o)&&n.show(),i&&"none"===o||e.effects.saveStyle(n),e.isFunction(t)&&t()};if(e.fx.off||!o)return c?this[c](n.duration,l):this.each(function(){l&&l.call(this)});function p(t){var a=e(this);function s(){e.isFunction(l)&&l.call(a[0]),e.isFunction(t)&&t()}n.mode=u.shift(),!1===e.uiBackCompat||i?"none"===n.mode?(a[c](),s()):o.call(a[0],n,function(){a.removeData(r),e.effects.cleanUp(a),"hide"===n.mode&&a.hide(),s()}):(a.is(":hidden")?"hide"===c:"show"===c)?(a[c](),s()):o.call(a[0],n,s)}return!1===a?this.each(d).each(p):this.queue(s,d).queue(s,p)},show:function(e){return function(r){if(n(r))return e.apply(this,arguments);var o=t.apply(this,arguments);return o.mode="show",this.effect.call(this,o)}}(e.fn.show),hide:function(e){return function(r){if(n(r))return e.apply(this,arguments);var o=t.apply(this,arguments);return o.mode="hide",this.effect.call(this,o)}}(e.fn.hide),toggle:function(e){return function(r){if(n(r)||"boolean"==typeof r)return e.apply(this,arguments);var o=t.apply(this,arguments);return o.mode="toggle",this.effect.call(this,o)}}(e.fn.toggle),cssUnit:function(t){var n=this.css(t),r=[];return e.each(["em","px","%","pt"],function(e,t){n.indexOf(t)>0&&(r=[parseFloat(n),t])}),r},cssClip:function(e){return e?this.css("clip","rect("+e.top+"px "+e.right+"px "+e.bottom+"px "+e.left+"px)"):o(this.css("clip"),this)},transfer:function(t,n){var r=e(this),o=e(t.to),i="fixed"===o.css("position"),a=e("body"),s=i?a.scrollTop():0,l=i?a.scrollLeft():0,c=o.offset(),u={top:c.top-s,left:c.left-l,height:o.innerHeight(),width:o.innerWidth()},d=r.offset(),p=e("<div class='ui-effects-transfer'></div>").appendTo("body").addClass(t.className).css({top:d.top-s,left:d.left-l,height:r.innerHeight(),width:r.innerWidth(),position:i?"fixed":"absolute"}).animate(u,t.duration,t.easing,function(){p.remove(),e.isFunction(n)&&n()})}}),e.fx.step.clip=function(t){t.clipInit||(t.start=e(t.elem).cssClip(),"string"==typeof t.end&&(t.end=o(t.end,t.elem)),t.clipInit=!0),e(t.elem).cssClip({top:t.pos*(t.end.top-t.start.top)+t.start.top,right:t.pos*(t.end.right-t.start.right)+t.start.right,bottom:t.pos*(t.end.bottom-t.start.bottom)+t.start.bottom,left:t.pos*(t.end.left-t.start.left)+t.start.left})}}(),function(){var t={};e.each(["Quad","Cubic","Quart","Quint","Expo"],function(e,n){t[n]=function(t){return Math.pow(t,e+2)}}),e.extend(t,{Sine:function(e){return 1-Math.cos(e*Math.PI/2)},Circ:function(e){return 1-Math.sqrt(1-e*e)},Elastic:function(e){return 0===e||1===e?e:-Math.pow(2,8*(e-1))*Math.sin((80*(e-1)-7.5)*Math.PI/15)},Back:function(e){return e*e*(3*e-2)},Bounce:function(e){for(var t,n=4;e<((t=Math.pow(2,--n))-1)/11;);return 1/Math.pow(4,3-n)-7.5625*Math.pow((3*t-2)/22-e,2)}}),e.each(t,function(t,n){e.easing["easeIn"+t]=n,e.easing["easeOut"+t]=function(e){return 1-n(1-e)},e.easing["easeInOut"+t]=function(e){return e<.5?n(2*e)/2:1-n(-2*e+2)/2}})}(),e.effects,e.effects.define("blind","hide",function(t,n){var r={up:["bottom","top"],vertical:["bottom","top"],down:["top","bottom"],left:["right","left"],horizontal:["right","left"],right:["left","right"]},o=e(this),i=t.direction||"up",a=o.cssClip(),s={clip:e.extend({},a)},l=e.effects.createPlaceholder(o);s.clip[r[i][0]]=s.clip[r[i][1]],"show"===t.mode&&(o.cssClip(s.clip),l&&l.css(e.effects.clipToBox(s)),s.clip=a),l&&l.animate(e.effects.clipToBox(s),t.duration,t.easing),o.animate(s,{queue:!1,duration:t.duration,easing:t.easing,complete:n})}),e.effects.define("bounce",function(t,n){var r,o,i,a=e(this),s=t.mode,l="hide"===s,c="show"===s,u=t.direction||"up",d=t.distance,p=t.times||5,f=2*p+(c||l?1:0),h=t.duration/f,m=t.easing,g="up"===u||"down"===u?"top":"left",b="up"===u||"left"===u,v=0,y=a.queue().length;for(e.effects.createPlaceholder(a),i=a.css(g),d||(d=a["top"===g?"outerHeight":"outerWidth"]()/3),c&&((o={opacity:1})[g]=i,a.css("opacity",0).css(g,b?2*-d:2*d).animate(o,h,m)),l&&(d/=Math.pow(2,p-1)),(o={})[g]=i;v<p;v++)(r={})[g]=(b?"-=":"+=")+d,a.animate(r,h,m).animate(o,h,m),d=l?2*d:d/2;l&&((r={opacity:0})[g]=(b?"-=":"+=")+d,a.animate(r,h,m)),a.queue(n),e.effects.unshift(a,y,f+1)}),e.effects.define("clip","hide",function(t,n){var r,o={},i=e(this),a=t.direction||"vertical",s="both"===a,l=s||"horizontal"===a,c=s||"vertical"===a;r=i.cssClip(),o.clip={top:c?(r.bottom-r.top)/2:r.top,right:l?(r.right-r.left)/2:r.right,bottom:c?(r.bottom-r.top)/2:r.bottom,left:l?(r.right-r.left)/2:r.left},e.effects.createPlaceholder(i),"show"===t.mode&&(i.cssClip(o.clip),o.clip=r),i.animate(o,{queue:!1,duration:t.duration,easing:t.easing,complete:n})}),e.effects.define("drop","hide",function(t,n){var r,o=e(this),i="show"===t.mode,a=t.direction||"left",s="up"===a||"down"===a?"top":"left",l="up"===a||"left"===a?"-=":"+=",c="+="===l?"-=":"+=",u={opacity:0};e.effects.createPlaceholder(o),r=t.distance||o["top"===s?"outerHeight":"outerWidth"](!0)/2,u[s]=l+r,i&&(o.css(u),u[s]=c+r,u.opacity=1),o.animate(u,{queue:!1,duration:t.duration,easing:t.easing,complete:n})}),e.effects.define("explode","hide",function(t,n){var r,o,i,a,s,l,c=t.pieces?Math.round(Math.sqrt(t.pieces)):3,u=c,d=e(this),p="show"===t.mode,f=d.show().css("visibility","hidden").offset(),h=Math.ceil(d.outerWidth()/u),m=Math.ceil(d.outerHeight()/c),g=[];function b(){g.push(this),g.length===c*u&&(d.css({visibility:"visible"}),e(g).remove(),n())}for(r=0;r<c;r++)for(a=f.top+r*m,l=r-(c-1)/2,o=0;o<u;o++)i=f.left+o*h,s=o-(u-1)/2,d.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-o*h,top:-r*m}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:h,height:m,left:i+(p?s*h:0),top:a+(p?l*m:0),opacity:p?0:1}).animate({left:i+(p?0:s*h),top:a+(p?0:l*m),opacity:p?1:0},t.duration||500,t.easing,b)}),e.effects.define("fade","toggle",function(t,n){var r="show"===t.mode;e(this).css("opacity",r?0:1).animate({opacity:r?1:0},{queue:!1,duration:t.duration,easing:t.easing,complete:n})}),e.effects.define("fold","hide",function(t,n){var r=e(this),o=t.mode,i="show"===o,a="hide"===o,s=t.size||15,l=/([0-9]+)%/.exec(s),c=t.horizFirst?["right","bottom"]:["bottom","right"],u=t.duration/2,d=e.effects.createPlaceholder(r),p=r.cssClip(),f={clip:e.extend({},p)},h={clip:e.extend({},p)},m=[p[c[0]],p[c[1]]],g=r.queue().length;l&&(s=parseInt(l[1],10)/100*m[a?0:1]),f.clip[c[0]]=s,h.clip[c[0]]=s,h.clip[c[1]]=0,i&&(r.cssClip(h.clip),d&&d.css(e.effects.clipToBox(h)),h.clip=p),r.queue(function(n){d&&d.animate(e.effects.clipToBox(f),u,t.easing).animate(e.effects.clipToBox(h),u,t.easing),n()}).animate(f,u,t.easing).animate(h,u,t.easing).queue(n),e.effects.unshift(r,g,4)}),e.effects.define("highlight","show",function(t,n){var r=e(this),o={backgroundColor:r.css("backgroundColor")};"hide"===t.mode&&(o.opacity=0),e.effects.saveStyle(r),r.css({backgroundImage:"none",backgroundColor:t.color||"#ffff99"}).animate(o,{queue:!1,duration:t.duration,easing:t.easing,complete:n})}),e.effects.define("size",function(t,n){var r,o,i,a=e(this),s=["fontSize"],l=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],c=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],u=t.mode,d="effect"!==u,p=t.scale||"both",f=t.origin||["middle","center"],h=a.css("position"),m=a.position(),g=e.effects.scaledDimensions(a),b=t.from||g,v=t.to||e.effects.scaledDimensions(a,0);e.effects.createPlaceholder(a),"show"===u&&(i=b,b=v,v=i),o={from:{y:b.height/g.height,x:b.width/g.width},to:{y:v.height/g.height,x:v.width/g.width}},"box"!==p&&"both"!==p||(o.from.y!==o.to.y&&(b=e.effects.setTransition(a,l,o.from.y,b),v=e.effects.setTransition(a,l,o.to.y,v)),o.from.x!==o.to.x&&(b=e.effects.setTransition(a,c,o.from.x,b),v=e.effects.setTransition(a,c,o.to.x,v))),"content"!==p&&"both"!==p||o.from.y!==o.to.y&&(b=e.effects.setTransition(a,s,o.from.y,b),v=e.effects.setTransition(a,s,o.to.y,v)),f&&(r=e.effects.getBaseline(f,g),b.top=(g.outerHeight-b.outerHeight)*r.y+m.top,b.left=(g.outerWidth-b.outerWidth)*r.x+m.left,v.top=(g.outerHeight-v.outerHeight)*r.y+m.top,v.left=(g.outerWidth-v.outerWidth)*r.x+m.left),a.css(b),"content"!==p&&"both"!==p||(l=l.concat(["marginTop","marginBottom"]).concat(s),c=c.concat(["marginLeft","marginRight"]),a.find("*[width]").each(function(){var n=e(this),r=e.effects.scaledDimensions(n),i={height:r.height*o.from.y,width:r.width*o.from.x,outerHeight:r.outerHeight*o.from.y,outerWidth:r.outerWidth*o.from.x},a={height:r.height*o.to.y,width:r.width*o.to.x,outerHeight:r.height*o.to.y,outerWidth:r.width*o.to.x};o.from.y!==o.to.y&&(i=e.effects.setTransition(n,l,o.from.y,i),a=e.effects.setTransition(n,l,o.to.y,a)),o.from.x!==o.to.x&&(i=e.effects.setTransition(n,c,o.from.x,i),a=e.effects.setTransition(n,c,o.to.x,a)),d&&e.effects.saveStyle(n),n.css(i),n.animate(a,t.duration,t.easing,function(){d&&e.effects.restoreStyle(n)})})),a.animate(v,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){var t=a.offset();0===v.opacity&&a.css("opacity",b.opacity),d||(a.css("position","static"===h?"relative":h).offset(t),e.effects.saveStyle(a)),n()}})}),e.effects.define("scale",function(t,n){var r=e(this),o=t.mode,i=parseInt(t.percent,10)||(0===parseInt(t.percent,10)?0:"effect"!==o?0:100),a=e.extend(!0,{from:e.effects.scaledDimensions(r),to:e.effects.scaledDimensions(r,i,t.direction||"both"),origin:t.origin||["middle","center"]},t);t.fade&&(a.from.opacity=1,a.to.opacity=0),e.effects.effect.size.call(this,a,n)}),e.effects.define("puff","hide",function(t,n){var r=e.extend(!0,{},t,{fade:!0,percent:parseInt(t.percent,10)||150});e.effects.effect.scale.call(this,r,n)}),e.effects.define("pulsate","show",function(t,n){var r=e(this),o=t.mode,i="show"===o,a=i||"hide"===o,s=2*(t.times||5)+(a?1:0),l=t.duration/s,c=0,u=1,d=r.queue().length;for(!i&&r.is(":visible")||(r.css("opacity",0).show(),c=1);u<s;u++)r.animate({opacity:c},l,t.easing),c=1-c;r.animate({opacity:c},l,t.easing),r.queue(n),e.effects.unshift(r,d,s+1)}),e.effects.define("shake",function(t,n){var r=1,o=e(this),i=t.direction||"left",a=t.distance||20,s=t.times||3,l=2*s+1,c=Math.round(t.duration/l),u="up"===i||"down"===i?"top":"left",d="up"===i||"left"===i,p={},f={},h={},m=o.queue().length;for(e.effects.createPlaceholder(o),p[u]=(d?"-=":"+=")+a,f[u]=(d?"+=":"-=")+2*a,h[u]=(d?"-=":"+=")+2*a,o.animate(p,c,t.easing);r<s;r++)o.animate(f,c,t.easing).animate(h,c,t.easing);o.animate(f,c,t.easing).animate(p,c/2,t.easing).queue(n),e.effects.unshift(o,m,l+1)}),e.effects.define("slide","show",function(t,n){var r,o,i=e(this),a={up:["bottom","top"],down:["top","bottom"],left:["right","left"],right:["left","right"]},s=t.mode,l=t.direction||"left",c="up"===l||"down"===l?"top":"left",u="up"===l||"left"===l,d=t.distance||i["top"===c?"outerHeight":"outerWidth"](!0),p={};e.effects.createPlaceholder(i),r=i.cssClip(),o=i.position()[c],p[c]=(u?-1:1)*d+o,p.clip=i.cssClip(),p.clip[a[l][1]]=p.clip[a[l][0]],"show"===s&&(i.cssClip(p.clip),i.css(c,p[c]),p.clip=r,p[c]=o),i.animate(p,{queue:!1,duration:t.duration,easing:t.easing,complete:n})}),!1!==e.uiBackCompat&&e.effects.define("transfer",function(t,n){e(this).transfer(t,n)}),e.ui.focusable=function(t,n){var r,o,i,a,s,l=t.nodeName.toLowerCase();return"area"===l?(o=(r=t.parentNode).name,!(!t.href||!o||"map"!==r.nodeName.toLowerCase())&&(i=e("img[usemap='#"+o+"']")).length>0&&i.is(":visible")):(/^(input|select|textarea|button|object)$/.test(l)?(a=!t.disabled)&&(s=e(t).closest("fieldset")[0])&&(a=!s.disabled):a="a"===l&&t.href||n,a&&e(t).is(":visible")&&function(e){for(var t=e.css("visibility");"inherit"===t;)e=e.parent(),t=e.css("visibility");return"hidden"!==t}(e(t)))},e.extend(e.expr[":"],{focusable:function(t){return e.ui.focusable(t,null!=e.attr(t,"tabindex"))}}),e.ui.focusable,e.fn.form=function(){return"string"==typeof this[0].form?this.closest("form"):e(this[0].form)},e.ui.formResetMixin={_formResetHandler:function(){var t=e(this);setTimeout(function(){var n=t.data("ui-form-reset-instances");e.each(n,function(){this.refresh()})})},_bindFormResetHandler:function(){if(this.form=this.element.form(),this.form.length){var e=this.form.data("ui-form-reset-instances")||[];e.length||this.form.on("reset.ui-form-reset",this._formResetHandler),e.push(this),this.form.data("ui-form-reset-instances",e)}},_unbindFormResetHandler:function(){if(this.form.length){var t=this.form.data("ui-form-reset-instances");t.splice(e.inArray(this,t),1),t.length?this.form.data("ui-form-reset-instances",t):this.form.removeData("ui-form-reset-instances").off("reset.ui-form-reset")}}},"1.7"===e.fn.jquery.substring(0,3)&&(e.each(["Width","Height"],function(t,n){var r="Width"===n?["Left","Right"]:["Top","Bottom"],o=n.toLowerCase(),i={innerWidth:e.fn.innerWidth,innerHeight:e.fn.innerHeight,outerWidth:e.fn.outerWidth,outerHeight:e.fn.outerHeight};function a(t,n,o,i){return e.each(r,function(){n-=parseFloat(e.css(t,"padding"+this))||0,o&&(n-=parseFloat(e.css(t,"border"+this+"Width"))||0),i&&(n-=parseFloat(e.css(t,"margin"+this))||0)}),n}e.fn["inner"+n]=function(t){return void 0===t?i["inner"+n].call(this):this.each(function(){e(this).css(o,a(this,t)+"px")})},e.fn["outer"+n]=function(t,r){return"number"!=typeof t?i["outer"+n].call(this,t):this.each(function(){e(this).css(o,a(this,t,!0,r)+"px")})}}),e.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}),e.ui.keyCode={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38},e.ui.escapeSelector=function(){var e=/([!"#$%&'()*+,./:;<=>?@[\]^`{|}~])/g;return function(t){return t.replace(e,"\\$1")}}(),e.fn.labels=function(){var t,n,r,o,i;return this[0].labels&&this[0].labels.length?this.pushStack(this[0].labels):(o=this.eq(0).parents("label"),(r=this.attr("id"))&&(i=(t=this.eq(0).parents().last()).add(t.length?t.siblings():this.siblings()),n="label[for='"+e.ui.escapeSelector(r)+"']",o=o.add(i.find(n).addBack(n))),this.pushStack(o))},e.fn.scrollParent=function(t){var n=this.css("position"),r="absolute"===n,o=t?/(auto|scroll|hidden)/:/(auto|scroll)/,i=this.parents().filter(function(){var t=e(this);return(!r||"static"!==t.css("position"))&&o.test(t.css("overflow")+t.css("overflow-y")+t.css("overflow-x"))}).eq(0);return"fixed"!==n&&i.length?i:e(this[0].ownerDocument||document)},e.extend(e.expr[":"],{tabbable:function(t){var n=e.attr(t,"tabindex"),r=null!=n;return(!r||n>=0)&&e.ui.focusable(t,r)}}),e.fn.extend({uniqueId:function(){var e=0;return function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++e)})}}(),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&e(this).removeAttr("id")})}}),e.widget("ui.accordion",{version:"1.12.1",options:{active:0,animate:{},classes:{"ui-accordion-header":"ui-corner-top","ui-accordion-header-collapsed":"ui-corner-all","ui-accordion-content":"ui-corner-bottom"},collapsible:!1,event:"click",header:"> li > :first-child, > :not(li):even",heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},hideProps:{borderTopWidth:"hide",borderBottomWidth:"hide",paddingTop:"hide",paddingBottom:"hide",height:"hide"},showProps:{borderTopWidth:"show",borderBottomWidth:"show",paddingTop:"show",paddingBottom:"show",height:"show"},_create:function(){var t=this.options;this.prevShow=this.prevHide=e(),this._addClass("ui-accordion","ui-widget ui-helper-reset"),this.element.attr("role","tablist"),t.collapsible||!1!==t.active&&null!=t.active||(t.active=0),this._processPanels(),t.active<0&&(t.active+=this.headers.length),this._refresh()},_getCreateEventData:function(){return{header:this.active,panel:this.active.length?this.active.next():e()}},_createIcons:function(){var t,n,r=this.options.icons;r&&(t=e("<span>"),this._addClass(t,"ui-accordion-header-icon","ui-icon "+r.header),t.prependTo(this.headers),n=this.active.children(".ui-accordion-header-icon"),this._removeClass(n,r.header)._addClass(n,null,r.activeHeader)._addClass(this.headers,"ui-accordion-icons"))},_destroyIcons:function(){this._removeClass(this.headers,"ui-accordion-icons"),this.headers.children(".ui-accordion-header-icon").remove()},_destroy:function(){var e;this.element.removeAttr("role"),this.headers.removeAttr("role aria-expanded aria-selected aria-controls tabIndex").removeUniqueId(),this._destroyIcons(),e=this.headers.next().css("display","").removeAttr("role aria-hidden aria-labelledby").removeUniqueId(),"content"!==this.options.heightStyle&&e.css("height","")},_setOption:function(e,t){"active"!==e?("event"===e&&(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(t)),this._super(e,t),"collapsible"!==e||t||!1!==this.options.active||this._activate(0),"icons"===e&&(this._destroyIcons(),t&&this._createIcons())):this._activate(t)},_setOptionDisabled:function(e){this._super(e),this.element.attr("aria-disabled",e),this._toggleClass(null,"ui-state-disabled",!!e),this._toggleClass(this.headers.add(this.headers.next()),null,"ui-state-disabled",!!e)},_keydown:function(t){if(!t.altKey&&!t.ctrlKey){var n=e.ui.keyCode,r=this.headers.length,o=this.headers.index(t.target),i=!1;switch(t.keyCode){case n.RIGHT:case n.DOWN:i=this.headers[(o+1)%r];break;case n.LEFT:case n.UP:i=this.headers[(o-1+r)%r];break;case n.SPACE:case n.ENTER:this._eventHandler(t);break;case n.HOME:i=this.headers[0];break;case n.END:i=this.headers[r-1]}i&&(e(t.target).attr("tabIndex",-1),e(i).attr("tabIndex",0),e(i).trigger("focus"),t.preventDefault())}},_panelKeyDown:function(t){t.keyCode===e.ui.keyCode.UP&&t.ctrlKey&&e(t.currentTarget).prev().trigger("focus")},refresh:function(){var t=this.options;this._processPanels(),!1===t.active&&!0===t.collapsible||!this.headers.length?(t.active=!1,this.active=e()):!1===t.active?this._activate(0):this.active.length&&!e.contains(this.element[0],this.active[0])?this.headers.length===this.headers.find(".ui-state-disabled").length?(t.active=!1,this.active=e()):this._activate(Math.max(0,t.active-1)):t.active=this.headers.index(this.active),this._destroyIcons(),this._refresh()},_processPanels:function(){var e=this.headers,t=this.panels;this.headers=this.element.find(this.options.header),this._addClass(this.headers,"ui-accordion-header ui-accordion-header-collapsed","ui-state-default"),this.panels=this.headers.next().filter(":not(.ui-accordion-content-active)").hide(),this._addClass(this.panels,"ui-accordion-content","ui-helper-reset ui-widget-content"),t&&(this._off(e.not(this.headers)),this._off(t.not(this.panels)))},_refresh:function(){var t,n=this.options,r=n.heightStyle,o=this.element.parent();this.active=this._findActive(n.active),this._addClass(this.active,"ui-accordion-header-active","ui-state-active")._removeClass(this.active,"ui-accordion-header-collapsed"),this._addClass(this.active.next(),"ui-accordion-content-active"),this.active.next().show(),this.headers.attr("role","tab").each(function(){var t=e(this),n=t.uniqueId().attr("id"),r=t.next(),o=r.uniqueId().attr("id");t.attr("aria-controls",o),r.attr("aria-labelledby",n)}).next().attr("role","tabpanel"),this.headers.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}).next().attr({"aria-hidden":"true"}).hide(),this.active.length?this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}).next().attr({"aria-hidden":"false"}):this.headers.eq(0).attr("tabIndex",0),this._createIcons(),this._setupEvents(n.event),"fill"===r?(t=o.height(),this.element.siblings(":visible").each(function(){var n=e(this),r=n.css("position");"absolute"!==r&&"fixed"!==r&&(t-=n.outerHeight(!0))}),this.headers.each(function(){t-=e(this).outerHeight(!0)}),this.headers.next().each(function(){e(this).height(Math.max(0,t-e(this).innerHeight()+e(this).height()))}).css("overflow","auto")):"auto"===r&&(t=0,this.headers.next().each(function(){var n=e(this).is(":visible");n||e(this).show(),t=Math.max(t,e(this).css("height","").height()),n||e(this).hide()}).height(t))},_activate:function(t){var n=this._findActive(t)[0];n!==this.active[0]&&(n=n||this.active[0],this._eventHandler({target:n,currentTarget:n,preventDefault:e.noop}))},_findActive:function(t){return"number"==typeof t?this.headers.eq(t):e()},_setupEvents:function(t){var n={keydown:"_keydown"};t&&e.each(t.split(" "),function(e,t){n[t]="_eventHandler"}),this._off(this.headers.add(this.headers.next())),this._on(this.headers,n),this._on(this.headers.next(),{keydown:"_panelKeyDown"}),this._hoverable(this.headers),this._focusable(this.headers)},_eventHandler:function(t){var n,r,o=this.options,i=this.active,a=e(t.currentTarget),s=a[0]===i[0],l=s&&o.collapsible,c=l?e():a.next(),u={oldHeader:i,oldPanel:i.next(),newHeader:l?e():a,newPanel:c};t.preventDefault(),s&&!o.collapsible||!1===this._trigger("beforeActivate",t,u)||(o.active=!l&&this.headers.index(a),this.active=s?e():a,this._toggle(u),this._removeClass(i,"ui-accordion-header-active","ui-state-active"),o.icons&&(n=i.children(".ui-accordion-header-icon"),this._removeClass(n,null,o.icons.activeHeader)._addClass(n,null,o.icons.header)),s||(this._removeClass(a,"ui-accordion-header-collapsed")._addClass(a,"ui-accordion-header-active","ui-state-active"),o.icons&&(r=a.children(".ui-accordion-header-icon"),this._removeClass(r,null,o.icons.header)._addClass(r,null,o.icons.activeHeader)),this._addClass(a.next(),"ui-accordion-content-active")))},_toggle:function(t){var n=t.newPanel,r=this.prevShow.length?this.prevShow:t.oldPanel;this.prevShow.add(this.prevHide).stop(!0,!0),this.prevShow=n,this.prevHide=r,this.options.animate?this._animate(n,r,t):(r.hide(),n.show(),this._toggleComplete(t)),r.attr({"aria-hidden":"true"}),r.prev().attr({"aria-selected":"false","aria-expanded":"false"}),n.length&&r.length?r.prev().attr({tabIndex:-1,"aria-expanded":"false"}):n.length&&this.headers.filter(function(){return 0===parseInt(e(this).attr("tabIndex"),10)}).attr("tabIndex",-1),n.attr("aria-hidden","false").prev().attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_animate:function(e,t,n){var r,o,i,a=this,s=0,l=e.css("box-sizing"),c=e.length&&(!t.length||e.index()<t.index()),u=this.options.animate||{},d=c&&u.down||u,p=function(){a._toggleComplete(n)};return"number"==typeof d&&(i=d),"string"==typeof d&&(o=d),o=o||d.easing||u.easing,i=i||d.duration||u.duration,t.length?e.length?(r=e.show().outerHeight(),t.animate(this.hideProps,{duration:i,easing:o,step:function(e,t){t.now=Math.round(e)}}),void e.hide().animate(this.showProps,{duration:i,easing:o,complete:p,step:function(e,n){n.now=Math.round(e),"height"!==n.prop?"content-box"===l&&(s+=n.now):"content"!==a.options.heightStyle&&(n.now=Math.round(r-t.outerHeight()-s),s=0)}})):t.animate(this.hideProps,i,o,p):e.animate(this.showProps,i,o,p)},_toggleComplete:function(e){var t=e.oldPanel,n=t.prev();this._removeClass(t,"ui-accordion-content-active"),this._removeClass(n,"ui-accordion-header-active")._addClass(n,"ui-accordion-header-collapsed"),t.length&&(t.parent()[0].className=t.parent()[0].className),this._trigger("activate",null,e)}}),e.ui.safeActiveElement=function(e){var t;try{t=e.activeElement}catch(n){t=e.body}return t||(t=e.body),t.nodeName||(t=e.body),t},e.widget("ui.menu",{version:"1.12.1",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-caret-1-e"},items:"> *",menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.mouseHandled=!1,this.element.uniqueId().attr({role:this.options.role,tabIndex:0}),this._addClass("ui-menu","ui-widget ui-widget-content"),this._on({"mousedown .ui-menu-item":function(e){e.preventDefault()},"click .ui-menu-item":function(t){var n=e(t.target),r=e(e.ui.safeActiveElement(this.document[0]));!this.mouseHandled&&n.not(".ui-state-disabled").length&&(this.select(t),t.isPropagationStopped()||(this.mouseHandled=!0),n.has(".ui-menu").length?this.expand(t):!this.element.is(":focus")&&r.closest(".ui-menu").length&&(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(t){if(!this.previousFilter){var n=e(t.target).closest(".ui-menu-item"),r=e(t.currentTarget);n[0]===r[0]&&(this._removeClass(r.siblings().children(".ui-state-active"),null,"ui-state-active"),this.focus(t,r))}},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(e,t){var n=this.active||this.element.find(this.options.items).eq(0);t||this.focus(e,n)},blur:function(t){this._delay(function(){!e.contains(this.element[0],e.ui.safeActiveElement(this.document[0]))&&this.collapseAll(t)})},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(e){this._closeOnDocumentClick(e)&&this.collapseAll(e),this.mouseHandled=!1}})},_destroy:function(){var t=this.element.find(".ui-menu-item").removeAttr("role aria-disabled").children(".ui-menu-item-wrapper").removeUniqueId().removeAttr("tabIndex role aria-haspopup");this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeAttr("role aria-labelledby aria-expanded aria-hidden aria-disabled tabIndex").removeUniqueId().show(),t.children().each(function(){var t=e(this);t.data("ui-menu-submenu-caret")&&t.remove()})},_keydown:function(t){var n,r,o,i,a=!0;switch(t.keyCode){case e.ui.keyCode.PAGE_UP:this.previousPage(t);break;case e.ui.keyCode.PAGE_DOWN:this.nextPage(t);break;case e.ui.keyCode.HOME:this._move("first","first",t);break;case e.ui.keyCode.END:this._move("last","last",t);break;case e.ui.keyCode.UP:this.previous(t);break;case e.ui.keyCode.DOWN:this.next(t);break;case e.ui.keyCode.LEFT:this.collapse(t);break;case e.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(t);break;case e.ui.keyCode.ENTER:case e.ui.keyCode.SPACE:this._activate(t);break;case e.ui.keyCode.ESCAPE:this.collapse(t);break;default:a=!1,r=this.previousFilter||"",i=!1,o=t.keyCode>=96&&t.keyCode<=105?(t.keyCode-96).toString():String.fromCharCode(t.keyCode),clearTimeout(this.filterTimer),o===r?i=!0:o=r+o,n=this._filterMenuItems(o),(n=i&&-1!==n.index(this.active.next())?this.active.nextAll(".ui-menu-item"):n).length||(o=String.fromCharCode(t.keyCode),n=this._filterMenuItems(o)),n.length?(this.focus(t,n),this.previousFilter=o,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter}a&&t.preventDefault()},_activate:function(e){this.active&&!this.active.is(".ui-state-disabled")&&(this.active.children("[aria-haspopup='true']").length?this.expand(e):this.select(e))},refresh:function(){var t,n,r,o,i=this,a=this.options.icons.submenu,s=this.element.find(this.options.menus);this._toggleClass("ui-menu-icons",null,!!this.element.find(".ui-icon").length),n=s.filter(":not(.ui-menu)").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var t=e(this),n=t.prev(),r=e("<span>").data("ui-menu-submenu-caret",!0);i._addClass(r,"ui-menu-icon","ui-icon "+a),n.attr("aria-haspopup","true").prepend(r),t.attr("aria-labelledby",n.attr("id"))}),this._addClass(n,"ui-menu","ui-widget ui-widget-content ui-front"),(t=s.add(this.element).find(this.options.items)).not(".ui-menu-item").each(function(){var t=e(this);i._isDivider(t)&&i._addClass(t,"ui-menu-divider","ui-widget-content")}),o=(r=t.not(".ui-menu-item, .ui-menu-divider")).children().not(".ui-menu").uniqueId().attr({tabIndex:-1,role:this._itemRole()}),this._addClass(r,"ui-menu-item")._addClass(o,"ui-menu-item-wrapper"),t.filter(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!e.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(e,t){if("icons"===e){var n=this.element.find(".ui-menu-icon");this._removeClass(n,null,this.options.icons.submenu)._addClass(n,null,t.submenu)}this._super(e,t)},_setOptionDisabled:function(e){this._super(e),this.element.attr("aria-disabled",String(e)),this._toggleClass(null,"ui-state-disabled",!!e)},focus:function(e,t){var n,r,o;this.blur(e,e&&"focus"===e.type),this._scrollIntoView(t),this.active=t.first(),r=this.active.children(".ui-menu-item-wrapper"),this._addClass(r,null,"ui-state-active"),this.options.role&&this.element.attr("aria-activedescendant",r.attr("id")),o=this.active.parent().closest(".ui-menu-item").children(".ui-menu-item-wrapper"),this._addClass(o,null,"ui-state-active"),e&&"keydown"===e.type?this._close():this.timer=this._delay(function(){this._close()},this.delay),(n=t.children(".ui-menu")).length&&e&&/^mouse/.test(e.type)&&this._startOpening(n),this.activeMenu=t.parent(),this._trigger("focus",e,{item:t})},_scrollIntoView:function(t){var n,r,o,i,a,s;this._hasScroll()&&(n=parseFloat(e.css(this.activeMenu[0],"borderTopWidth"))||0,r=parseFloat(e.css(this.activeMenu[0],"paddingTop"))||0,o=t.offset().top-this.activeMenu.offset().top-n-r,i=this.activeMenu.scrollTop(),a=this.activeMenu.height(),s=t.outerHeight(),o<0?this.activeMenu.scrollTop(i+o):o+s>a&&this.activeMenu.scrollTop(i+o-a+s))},blur:function(e,t){t||clearTimeout(this.timer),this.active&&(this._removeClass(this.active.children(".ui-menu-item-wrapper"),null,"ui-state-active"),this._trigger("blur",e,{item:this.active}),this.active=null)},_startOpening:function(e){clearTimeout(this.timer),"true"===e.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close(),this._open(e)},this.delay))},_open:function(t){var n=e.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(t.parents(".ui-menu")).hide().attr("aria-hidden","true"),t.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(n)},collapseAll:function(t,n){clearTimeout(this.timer),this.timer=this._delay(function(){var r=n?this.element:e(t&&t.target).closest(this.element.find(".ui-menu"));r.length||(r=this.element),this._close(r),this.blur(t),this._removeClass(r.find(".ui-state-active"),null,"ui-state-active"),this.activeMenu=r},this.delay)},_close:function(e){e||(e=this.active?this.active.parent():this.element),e.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false")},_closeOnDocumentClick:function(t){return!e(t.target).closest(".ui-menu").length},_isDivider:function(e){return!/[^\-\u2014\u2013\s]/.test(e.text())},collapse:function(e){var t=this.active&&this.active.parent().closest(".ui-menu-item",this.element);t&&t.length&&(this._close(),this.focus(e,t))},expand:function(e){var t=this.active&&this.active.children(".ui-menu ").find(this.options.items).first();t&&t.length&&(this._open(t.parent()),this._delay(function(){this.focus(e,t)}))},next:function(e){this._move("next","first",e)},previous:function(e){this._move("prev","last",e)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(e,t,n){var r;this.active&&(r="first"===e||"last"===e?this.active["first"===e?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[e+"All"](".ui-menu-item").eq(0)),r&&r.length&&this.active||(r=this.activeMenu.find(this.options.items)[t]()),this.focus(n,r)},nextPage:function(t){var n,r,o;this.active?this.isLastItem()||(this._hasScroll()?(r=this.active.offset().top,o=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return(n=e(this)).offset().top-r-o<0}),this.focus(t,n)):this.focus(t,this.activeMenu.find(this.options.items)[this.active?"last":"first"]())):this.next(t)},previousPage:function(t){var n,r,o;this.active?this.isFirstItem()||(this._hasScroll()?(r=this.active.offset().top,o=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return(n=e(this)).offset().top-r+o>0}),this.focus(t,n)):this.focus(t,this.activeMenu.find(this.options.items).first())):this.next(t)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(t){this.active=this.active||e(t.target).closest(".ui-menu-item");var n={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(t,!0),this._trigger("select",t,n)},_filterMenuItems:function(t){var n=t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&"),r=new RegExp("^"+n,"i");return this.activeMenu.find(this.options.items).filter(".ui-menu-item").filter(function(){return r.test(e.trim(e(this).children(".ui-menu-item-wrapper").text()))})}}),e.widget("ui.autocomplete",{version:"1.12.1",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,_create:function(){var t,n,r,o=this.element[0].nodeName.toLowerCase(),i="textarea"===o,a="input"===o;this.isMultiLine=i||!a&&this._isContentEditable(this.element),this.valueMethod=this.element[i||a?"val":"text"],this.isNewMenu=!0,this._addClass("ui-autocomplete-input"),this.element.attr("autocomplete","off"),this._on(this.element,{keydown:function(o){if(this.element.prop("readOnly"))return t=!0,r=!0,void(n=!0);t=!1,r=!1,n=!1;var i=e.ui.keyCode;switch(o.keyCode){case i.PAGE_UP:t=!0,this._move("previousPage",o);break;case i.PAGE_DOWN:t=!0,this._move("nextPage",o);break;case i.UP:t=!0,this._keyEvent("previous",o);break;case i.DOWN:t=!0,this._keyEvent("next",o);break;case i.ENTER:this.menu.active&&(t=!0,o.preventDefault(),this.menu.select(o));break;case i.TAB:this.menu.active&&this.menu.select(o);break;case i.ESCAPE:this.menu.element.is(":visible")&&(this.isMultiLine||this._value(this.term),this.close(o),o.preventDefault());break;default:n=!0,this._searchTimeout(o)}},keypress:function(r){if(t)return t=!1,void(this.isMultiLine&&!this.menu.element.is(":visible")||r.preventDefault());if(!n){var o=e.ui.keyCode;switch(r.keyCode){case o.PAGE_UP:this._move("previousPage",r);break;case o.PAGE_DOWN:this._move("nextPage",r);break;case o.UP:this._keyEvent("previous",r);break;case o.DOWN:this._keyEvent("next",r)}}},input:function(e){if(r)return r=!1,void e.preventDefault();this._searchTimeout(e)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(e){this.cancelBlur?delete this.cancelBlur:(clearTimeout(this.searching),this.close(e),this._change(e))}}),this._initSource(),this.menu=e("<ul>").appendTo(this._appendTo()).menu({role:null}).hide().menu("instance"),this._addClass(this.menu.element,"ui-autocomplete","ui-front"),this._on(this.menu.element,{mousedown:function(t){t.preventDefault(),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,this.element[0]!==e.ui.safeActiveElement(this.document[0])&&this.element.trigger("focus")})},menufocus:function(t,n){var r,o;if(this.isNewMenu&&(this.isNewMenu=!1,t.originalEvent&&/^mouse/.test(t.originalEvent.type)))return this.menu.blur(),void this.document.one("mousemove",function(){e(t.target).trigger(t.originalEvent)});o=n.item.data("ui-autocomplete-item"),!1!==this._trigger("focus",t,{item:o})&&t.originalEvent&&/^key/.test(t.originalEvent.type)&&this._value(o.value),(r=n.item.attr("aria-label")||o.value)&&e.trim(r).length&&(this.liveRegion.children().hide(),e("<div>").text(r).appendTo(this.liveRegion))},menuselect:function(t,n){var r=n.item.data("ui-autocomplete-item"),o=this.previous;this.element[0]!==e.ui.safeActiveElement(this.document[0])&&(this.element.trigger("focus"),this.previous=o,this._delay(function(){this.previous=o,this.selectedItem=r})),!1!==this._trigger("select",t,{item:r})&&this._value(r.value),this.term=this._value(),this.close(t),this.selectedItem=r}}),this.liveRegion=e("<div>",{role:"status","aria-live":"assertive","aria-relevant":"additions"}).appendTo(this.document[0].body),this._addClass(this.liveRegion,null,"ui-helper-hidden-accessible"),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(e,t){this._super(e,t),"source"===e&&this._initSource(),"appendTo"===e&&this.menu.element.appendTo(this._appendTo()),"disabled"===e&&t&&this.xhr&&this.xhr.abort()},_isEventTargetInWidget:function(t){var n=this.menu.element[0];return t.target===this.element[0]||t.target===n||e.contains(n,t.target)},_closeOnClickOutside:function(e){this._isEventTargetInWidget(e)||this.close()},_appendTo:function(){var t=this.options.appendTo;return t&&(t=t.jquery||t.nodeType?e(t):this.document.find(t).eq(0)),t&&t[0]||(t=this.element.closest(".ui-front, dialog")),t.length||(t=this.document[0].body),t},_initSource:function(){var t,n,r=this;e.isArray(this.options.source)?(t=this.options.source,this.source=function(n,r){r(e.ui.autocomplete.filter(t,n.term))}):"string"==typeof this.options.source?(n=this.options.source,this.source=function(t,o){r.xhr&&r.xhr.abort(),r.xhr=e.ajax({url:n,data:t,dataType:"json",success:function(e){o(e)},error:function(){o([])}})}):this.source=this.options.source},_searchTimeout:function(e){clearTimeout(this.searching),this.searching=this._delay(function(){var t=this.term===this._value(),n=this.menu.element.is(":visible"),r=e.altKey||e.ctrlKey||e.metaKey||e.shiftKey;t&&(!t||n||r)||(this.selectedItem=null,this.search(null,e))},this.options.delay)},search:function(e,t){return e=null!=e?e:this._value(),this.term=this._value(),e.length<this.options.minLength?this.close(t):!1!==this._trigger("search",t)?this._search(e):void 0},_search:function(e){this.pending++,this._addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:e},this._response())},_response:function(){var t=++this.requestIndex;return e.proxy(function(e){t===this.requestIndex&&this.__response(e),this.pending--,this.pending||this._removeClass("ui-autocomplete-loading")},this)},__response:function(e){e&&(e=this._normalize(e)),this._trigger("response",null,{content:e}),!this.options.disabled&&e&&e.length&&!this.cancelSearch?(this._suggest(e),this._trigger("open")):this._close()},close:function(e){this.cancelSearch=!0,this._close(e)},_close:function(e){this._off(this.document,"mousedown"),this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",e))},_change:function(e){this.previous!==this._value()&&this._trigger("change",e,{item:this.selectedItem})},_normalize:function(t){return t.length&&t[0].label&&t[0].value?t:e.map(t,function(t){return"string"==typeof t?{label:t,value:t}:e.extend({},t,{label:t.label||t.value,value:t.value||t.label})})},_suggest:function(t){var n=this.menu.element.empty();this._renderMenu(n,t),this.isNewMenu=!0,this.menu.refresh(),n.show(),this._resizeMenu(),n.position(e.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next(),this._on(this.document,{mousedown:"_closeOnClickOutside"})},_resizeMenu:function(){var e=this.menu.element;e.outerWidth(Math.max(e.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(t,n){var r=this;e.each(n,function(e,n){r._renderItemData(t,n)})},_renderItemData:function(e,t){return this._renderItem(e,t).data("ui-autocomplete-item",t)},_renderItem:function(t,n){return e("<li>").append(e("<div>").text(n.label)).appendTo(t)},_move:function(e,t){if(this.menu.element.is(":visible"))return this.menu.isFirstItem()&&/^previous/.test(e)||this.menu.isLastItem()&&/^next/.test(e)?(this.isMultiLine||this._value(this.term),void this.menu.blur()):void this.menu[e](t);this.search(null,t)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(e,t){this.isMultiLine&&!this.menu.element.is(":visible")||(this._move(e,t),t.preventDefault())},_isContentEditable:function(e){if(!e.length)return!1;var t=e.prop("contentEditable");return"inherit"===t?this._isContentEditable(e.parent()):"true"===t}}),e.extend(e.ui.autocomplete,{escapeRegex:function(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(t,n){var r=new RegExp(e.ui.autocomplete.escapeRegex(n),"i");return e.grep(t,function(e){return r.test(e.label||e.value||e)})}}),e.widget("ui.autocomplete",e.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(e){return e+(e>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(t){var n;this._superApply(arguments),this.options.disabled||this.cancelSearch||(n=t&&t.length?this.options.messages.results(t.length):this.options.messages.noResults,this.liveRegion.children().hide(),e("<div>").text(n).appendTo(this.liveRegion))}}),e.ui.autocomplete;var i,a=/ui-corner-([a-z]){2,6}/g;function s(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},e.extend(this._defaults,this.regional[""]),this.regional.en=e.extend(!0,{},this.regional[""]),this.regional["en-US"]=e.extend(!0,{},this.regional.en),this.dpDiv=l(e("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function l(t){var n="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return t.on("mouseout",n,function(){e(this).removeClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&e(this).removeClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&e(this).removeClass("ui-datepicker-next-hover")}).on("mouseover",n,c)}function c(){e.datepicker._isDisabledDatepicker(i.inline?i.dpDiv.parent()[0]:i.input[0])||(e(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),e(this).addClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&e(this).addClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&e(this).addClass("ui-datepicker-next-hover"))}function u(t,n){for(var r in e.extend(t,n),n)null==n[r]&&(t[r]=n[r]);return t}e.widget("ui.controlgroup",{version:"1.12.1",defaultElement:"<div>",options:{direction:"horizontal",disabled:null,onlyVisible:!0,items:{button:"input[type=button], input[type=submit], input[type=reset], button, a",controlgroupLabel:".ui-controlgroup-label",checkboxradio:"input[type='checkbox'], input[type='radio']",selectmenu:"select",spinner:".ui-spinner-input"}},_create:function(){this._enhance()},_enhance:function(){this.element.attr("role","toolbar"),this.refresh()},_destroy:function(){this._callChildMethod("destroy"),this.childWidgets.removeData("ui-controlgroup-data"),this.element.removeAttr("role"),this.options.items.controlgroupLabel&&this.element.find(this.options.items.controlgroupLabel).find(".ui-controlgroup-label-contents").contents().unwrap()},_initWidgets:function(){var t=this,n=[];e.each(this.options.items,function(r,o){var i,a={};if(o)return"controlgroupLabel"===r?((i=t.element.find(o)).each(function(){var t=e(this);t.children(".ui-controlgroup-label-contents").length||t.contents().wrapAll("<span class='ui-controlgroup-label-contents'></span>")}),t._addClass(i,null,"ui-widget ui-widget-content ui-state-default"),void(n=n.concat(i.get()))):void(e.fn[r]&&(a=t["_"+r+"Options"]?t["_"+r+"Options"]("middle"):{classes:{}},t.element.find(o).each(function(){var o=e(this),i=o[r]("instance"),s=e.widget.extend({},a);if("button"!==r||!o.parent(".ui-spinner").length){i||(i=o[r]()[r]("instance")),i&&(s.classes=t._resolveClassesValues(s.classes,i)),o[r](s);var l=o[r]("widget");e.data(l[0],"ui-controlgroup-data",i||o[r]("instance")),n.push(l[0])}})))}),this.childWidgets=e(e.unique(n)),this._addClass(this.childWidgets,"ui-controlgroup-item")},_callChildMethod:function(t){this.childWidgets.each(function(){var n=e(this).data("ui-controlgroup-data");n&&n[t]&&n[t]()})},_updateCornerClass:function(e,t){var n=this._buildSimpleOptions(t,"label").classes.label;this._removeClass(e,null,"ui-corner-top ui-corner-bottom ui-corner-left ui-corner-right ui-corner-all"),this._addClass(e,null,n)},_buildSimpleOptions:function(e,t){var n="vertical"===this.options.direction,r={classes:{}};return r.classes[t]={middle:"",first:"ui-corner-"+(n?"top":"left"),last:"ui-corner-"+(n?"bottom":"right"),only:"ui-corner-all"}[e],r},_spinnerOptions:function(e){var t=this._buildSimpleOptions(e,"ui-spinner");return t.classes["ui-spinner-up"]="",t.classes["ui-spinner-down"]="",t},_buttonOptions:function(e){return this._buildSimpleOptions(e,"ui-button")},_checkboxradioOptions:function(e){return this._buildSimpleOptions(e,"ui-checkboxradio-label")},_selectmenuOptions:function(e){var t="vertical"===this.options.direction;return{width:!!t&&"auto",classes:{middle:{"ui-selectmenu-button-open":"","ui-selectmenu-button-closed":""},first:{"ui-selectmenu-button-open":"ui-corner-"+(t?"top":"tl"),"ui-selectmenu-button-closed":"ui-corner-"+(t?"top":"left")},last:{"ui-selectmenu-button-open":t?"":"ui-corner-tr","ui-selectmenu-button-closed":"ui-corner-"+(t?"bottom":"right")},only:{"ui-selectmenu-button-open":"ui-corner-top","ui-selectmenu-button-closed":"ui-corner-all"}}[e]}},_resolveClassesValues:function(t,n){var r={};return e.each(t,function(o){var i=n.options.classes[o]||"";i=e.trim(i.replace(a,"")),r[o]=(i+" "+t[o]).replace(/\s+/g," ")}),r},_setOption:function(e,t){"direction"===e&&this._removeClass("ui-controlgroup-"+this.options.direction),this._super(e,t),"disabled"!==e?this.refresh():this._callChildMethod(t?"disable":"enable")},refresh:function(){var t,n=this;this._addClass("ui-controlgroup ui-controlgroup-"+this.options.direction),"horizontal"===this.options.direction&&this._addClass(null,"ui-helper-clearfix"),this._initWidgets(),t=this.childWidgets,this.options.onlyVisible&&(t=t.filter(":visible")),t.length&&(e.each(["first","last"],function(e,r){var o=t[r]().data("ui-controlgroup-data");if(o&&n["_"+o.widgetName+"Options"]){var i=n["_"+o.widgetName+"Options"](1===t.length?"only":r);i.classes=n._resolveClassesValues(i.classes,o),o.element[o.widgetName](i)}else n._updateCornerClass(t[r](),r)}),this._callChildMethod("refresh"))}}),e.widget("ui.checkboxradio",[e.ui.formResetMixin,{version:"1.12.1",options:{disabled:null,label:null,icon:!0,classes:{"ui-checkboxradio-label":"ui-corner-all","ui-checkboxradio-icon":"ui-corner-all"}},_getCreateOptions:function(){var t,n,r=this,o=this._super()||{};return this._readType(),n=this.element.labels(),this.label=e(n[n.length-1]),this.label.length||e.error("No label found for checkboxradio widget"),this.originalLabel="",this.label.contents().not(this.element[0]).each(function(){r.originalLabel+=3===this.nodeType?e(this).text():this.outerHTML}),this.originalLabel&&(o.label=this.originalLabel),null!=(t=this.element[0].disabled)&&(o.disabled=t),o},_create:function(){var e=this.element[0].checked;this._bindFormResetHandler(),null==this.options.disabled&&(this.options.disabled=this.element[0].disabled),this._setOption("disabled",this.options.disabled),this._addClass("ui-checkboxradio","ui-helper-hidden-accessible"),this._addClass(this.label,"ui-checkboxradio-label","ui-button ui-widget"),"radio"===this.type&&this._addClass(this.label,"ui-checkboxradio-radio-label"),this.options.label&&this.options.label!==this.originalLabel?this._updateLabel():this.originalLabel&&(this.options.label=this.originalLabel),this._enhance(),e&&(this._addClass(this.label,"ui-checkboxradio-checked","ui-state-active"),this.icon&&this._addClass(this.icon,null,"ui-state-hover")),this._on({change:"_toggleClasses",focus:function(){this._addClass(this.label,null,"ui-state-focus ui-visual-focus")},blur:function(){this._removeClass(this.label,null,"ui-state-focus ui-visual-focus")}})},_readType:function(){var t=this.element[0].nodeName.toLowerCase();this.type=this.element[0].type,"input"===t&&/radio|checkbox/.test(this.type)||e.error("Can't create checkboxradio on element.nodeName="+t+" and element.type="+this.type)},_enhance:function(){this._updateIcon(this.element[0].checked)},widget:function(){return this.label},_getRadioGroup:function(){var t=this.element[0].name,n="input[name='"+e.ui.escapeSelector(t)+"']";return t?(this.form.length?e(this.form[0].elements).filter(n):e(n).filter(function(){return 0===e(this).form().length})).not(this.element):e([])},_toggleClasses:function(){var t=this.element[0].checked;this._toggleClass(this.label,"ui-checkboxradio-checked","ui-state-active",t),this.options.icon&&"checkbox"===this.type&&this._toggleClass(this.icon,null,"ui-icon-check ui-state-checked",t)._toggleClass(this.icon,null,"ui-icon-blank",!t),"radio"===this.type&&this._getRadioGroup().each(function(){var t=e(this).checkboxradio("instance");t&&t._removeClass(t.label,"ui-checkboxradio-checked","ui-state-active")})},_destroy:function(){this._unbindFormResetHandler(),this.icon&&(this.icon.remove(),this.iconSpace.remove())},_setOption:function(e,t){if("label"!==e||t){if(this._super(e,t),"disabled"===e)return this._toggleClass(this.label,null,"ui-state-disabled",t),void(this.element[0].disabled=t);this.refresh()}},_updateIcon:function(t){var n="ui-icon ui-icon-background ";this.options.icon?(this.icon||(this.icon=e("<span>"),this.iconSpace=e("<span> </span>"),this._addClass(this.iconSpace,"ui-checkboxradio-icon-space")),"checkbox"===this.type?(n+=t?"ui-icon-check ui-state-checked":"ui-icon-blank",this._removeClass(this.icon,null,t?"ui-icon-blank":"ui-icon-check")):n+="ui-icon-blank",this._addClass(this.icon,"ui-checkboxradio-icon",n),t||this._removeClass(this.icon,null,"ui-icon-check ui-state-checked"),this.icon.prependTo(this.label).after(this.iconSpace)):void 0!==this.icon&&(this.icon.remove(),this.iconSpace.remove(),delete this.icon)},_updateLabel:function(){var e=this.label.contents().not(this.element[0]);this.icon&&(e=e.not(this.icon[0])),this.iconSpace&&(e=e.not(this.iconSpace[0])),e.remove(),this.label.append(this.options.label)},refresh:function(){var e=this.element[0].checked,t=this.element[0].disabled;this._updateIcon(e),this._toggleClass(this.label,"ui-checkboxradio-checked","ui-state-active",e),null!==this.options.label&&this._updateLabel(),t!==this.options.disabled&&this._setOptions({disabled:t})}}]),e.ui.checkboxradio,e.widget("ui.button",{version:"1.12.1",defaultElement:"<button>",options:{classes:{"ui-button":"ui-corner-all"},disabled:null,icon:null,iconPosition:"beginning",label:null,showLabel:!0},_getCreateOptions:function(){var e,t=this._super()||{};return this.isInput=this.element.is("input"),null!=(e=this.element[0].disabled)&&(t.disabled=e),this.originalLabel=this.isInput?this.element.val():this.element.html(),this.originalLabel&&(t.label=this.originalLabel),t},_create:function(){!this.option.showLabel&!this.options.icon&&(this.options.showLabel=!0),null==this.options.disabled&&(this.options.disabled=this.element[0].disabled||!1),this.hasTitle=!!this.element.attr("title"),this.options.label&&this.options.label!==this.originalLabel&&(this.isInput?this.element.val(this.options.label):this.element.html(this.options.label)),this._addClass("ui-button","ui-widget"),this._setOption("disabled",this.options.disabled),this._enhance(),this.element.is("a")&&this._on({keyup:function(t){t.keyCode===e.ui.keyCode.SPACE&&(t.preventDefault(),this.element[0].click?this.element[0].click():this.element.trigger("click"))}})},_enhance:function(){this.element.is("button")||this.element.attr("role","button"),this.options.icon&&(this._updateIcon("icon",this.options.icon),this._updateTooltip())},_updateTooltip:function(){this.title=this.element.attr("title"),this.options.showLabel||this.title||this.element.attr("title",this.options.label)},_updateIcon:function(t,n){var r="iconPosition"!==t,o=r?this.options.iconPosition:n,i="top"===o||"bottom"===o;this.icon?r&&this._removeClass(this.icon,null,this.options.icon):(this.icon=e("<span>"),this._addClass(this.icon,"ui-button-icon","ui-icon"),this.options.showLabel||this._addClass("ui-button-icon-only")),r&&this._addClass(this.icon,null,n),this._attachIcon(o),i?(this._addClass(this.icon,null,"ui-widget-icon-block"),this.iconSpace&&this.iconSpace.remove()):(this.iconSpace||(this.iconSpace=e("<span> </span>"),this._addClass(this.iconSpace,"ui-button-icon-space")),this._removeClass(this.icon,null,"ui-wiget-icon-block"),this._attachIconSpace(o))},_destroy:function(){this.element.removeAttr("role"),this.icon&&this.icon.remove(),this.iconSpace&&this.iconSpace.remove(),this.hasTitle||this.element.removeAttr("title")},_attachIconSpace:function(e){this.icon[/^(?:end|bottom)/.test(e)?"before":"after"](this.iconSpace)},_attachIcon:function(e){this.element[/^(?:end|bottom)/.test(e)?"append":"prepend"](this.icon)},_setOptions:function(e){var t=void 0===e.showLabel?this.options.showLabel:e.showLabel,n=void 0===e.icon?this.options.icon:e.icon;t||n||(e.showLabel=!0),this._super(e)},_setOption:function(e,t){"icon"===e&&(t?this._updateIcon(e,t):this.icon&&(this.icon.remove(),this.iconSpace&&this.iconSpace.remove())),"iconPosition"===e&&this._updateIcon(e,t),"showLabel"===e&&(this._toggleClass("ui-button-icon-only",null,!t),this._updateTooltip()),"label"===e&&(this.isInput?this.element.val(t):(this.element.html(t),this.icon&&(this._attachIcon(this.options.iconPosition),this._attachIconSpace(this.options.iconPosition)))),this._super(e,t),"disabled"===e&&(this._toggleClass(null,"ui-state-disabled",t),this.element[0].disabled=t,t&&this.element.blur())},refresh:function(){var e=this.element.is("input, button")?this.element[0].disabled:this.element.hasClass("ui-button-disabled");e!==this.options.disabled&&this._setOptions({disabled:e}),this._updateTooltip()}}),!1!==e.uiBackCompat&&(e.widget("ui.button",e.ui.button,{options:{text:!0,icons:{primary:null,secondary:null}},_create:function(){this.options.showLabel&&!this.options.text&&(this.options.showLabel=this.options.text),!this.options.showLabel&&this.options.text&&(this.options.text=this.options.showLabel),this.options.icon||!this.options.icons.primary&&!this.options.icons.secondary?this.options.icon&&(this.options.icons.primary=this.options.icon):this.options.icons.primary?this.options.icon=this.options.icons.primary:(this.options.icon=this.options.icons.secondary,this.options.iconPosition="end"),this._super()},_setOption:function(e,t){"text"!==e?("showLabel"===e&&(this.options.text=t),"icon"===e&&(this.options.icons.primary=t),"icons"===e&&(t.primary?(this._super("icon",t.primary),this._super("iconPosition","beginning")):t.secondary&&(this._super("icon",t.secondary),this._super("iconPosition","end"))),this._superApply(arguments)):this._super("showLabel",t)}}),e.fn.button=function(t){return function(){return!this.length||this.length&&"INPUT"!==this[0].tagName||this.length&&"INPUT"===this[0].tagName&&"checkbox"!==this.attr("type")&&"radio"!==this.attr("type")?t.apply(this,arguments):(e.ui.checkboxradio||e.error("Checkboxradio widget missing"),0===arguments.length?this.checkboxradio({icon:!1}):this.checkboxradio.apply(this,arguments))}}(e.fn.button),e.fn.buttonset=function(){return e.ui.controlgroup||e.error("Controlgroup widget missing"),"option"===arguments[0]&&"items"===arguments[1]&&arguments[2]?this.controlgroup.apply(this,[arguments[0],"items.button",arguments[2]]):"option"===arguments[0]&&"items"===arguments[1]?this.controlgroup.apply(this,[arguments[0],"items.button"]):("object"==typeof arguments[0]&&arguments[0].items&&(arguments[0].items={button:arguments[0].items}),this.controlgroup.apply(this,arguments))}),e.ui.button,e.extend(e.ui,{datepicker:{version:"1.12.1"}}),e.extend(s.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(e){return u(this._defaults,e||{}),this},_attachDatepicker:function(t,n){var r,o,i;o="div"===(r=t.nodeName.toLowerCase())||"span"===r,t.id||(this.uuid+=1,t.id="dp"+this.uuid),(i=this._newInst(e(t),o)).settings=e.extend({},n||{}),"input"===r?this._connectDatepicker(t,i):o&&this._inlineDatepicker(t,i)},_newInst:function(t,n){return{id:t[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1"),input:t,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:n,dpDiv:n?l(e("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):this.dpDiv}},_connectDatepicker:function(t,n){var r=e(t);n.append=e([]),n.trigger=e([]),r.hasClass(this.markerClassName)||(this._attachments(r,n),r.addClass(this.markerClassName).on("keydown",this._doKeyDown).on("keypress",this._doKeyPress).on("keyup",this._doKeyUp),this._autoSize(n),e.data(t,"datepicker",n),n.settings.disabled&&this._disableDatepicker(t))},_attachments:function(t,n){var r,o,i,a=this._get(n,"appendText"),s=this._get(n,"isRTL");n.append&&n.append.remove(),a&&(n.append=e("<span class='"+this._appendClass+"'>"+a+"</span>"),t[s?"before":"after"](n.append)),t.off("focus",this._showDatepicker),n.trigger&&n.trigger.remove(),"focus"!==(r=this._get(n,"showOn"))&&"both"!==r||t.on("focus",this._showDatepicker),"button"!==r&&"both"!==r||(o=this._get(n,"buttonText"),i=this._get(n,"buttonImage"),n.trigger=e(this._get(n,"buttonImageOnly")?e("<img/>").addClass(this._triggerClass).attr({src:i,alt:o,title:o}):e("<button type='button'></button>").addClass(this._triggerClass).html(i?e("<img/>").attr({src:i,alt:o,title:o}):o)),t[s?"before":"after"](n.trigger),n.trigger.on("click",function(){return e.datepicker._datepickerShowing&&e.datepicker._lastInput===t[0]?e.datepicker._hideDatepicker():e.datepicker._datepickerShowing&&e.datepicker._lastInput!==t[0]?(e.datepicker._hideDatepicker(),e.datepicker._showDatepicker(t[0])):e.datepicker._showDatepicker(t[0]),!1}))},_autoSize:function(e){if(this._get(e,"autoSize")&&!e.inline){var t,n,r,o,i=new Date(2009,11,20),a=this._get(e,"dateFormat");a.match(/[DM]/)&&(t=function(e){for(n=0,r=0,o=0;o<e.length;o++)e[o].length>n&&(n=e[o].length,r=o);return r},i.setMonth(t(this._get(e,a.match(/MM/)?"monthNames":"monthNamesShort"))),i.setDate(t(this._get(e,a.match(/DD/)?"dayNames":"dayNamesShort"))+20-i.getDay())),e.input.attr("size",this._formatDate(e,i).length)}},_inlineDatepicker:function(t,n){var r=e(t);r.hasClass(this.markerClassName)||(r.addClass(this.markerClassName).append(n.dpDiv),e.data(t,"datepicker",n),this._setDate(n,this._getDefaultDate(n),!0),this._updateDatepicker(n),this._updateAlternate(n),n.settings.disabled&&this._disableDatepicker(t),n.dpDiv.css("display","block"))},_dialogDatepicker:function(t,n,r,o,i){var a,s,l,c,d,p=this._dialogInst;return p||(this.uuid+=1,a="dp"+this.uuid,this._dialogInput=e("<input type='text' id='"+a+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.on("keydown",this._doKeyDown),e("body").append(this._dialogInput),(p=this._dialogInst=this._newInst(this._dialogInput,!1)).settings={},e.data(this._dialogInput[0],"datepicker",p)),u(p.settings,o||{}),n=n&&n.constructor===Date?this._formatDate(p,n):n,this._dialogInput.val(n),this._pos=i?i.length?i:[i.pageX,i.pageY]:null,this._pos||(s=document.documentElement.clientWidth,l=document.documentElement.clientHeight,c=document.documentElement.scrollLeft||document.body.scrollLeft,d=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[s/2-100+c,l/2-150+d]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),p.settings.onSelect=r,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),e.blockUI&&e.blockUI(this.dpDiv),e.data(this._dialogInput[0],"datepicker",p),this},_destroyDatepicker:function(t){var n,r=e(t),o=e.data(t,"datepicker");r.hasClass(this.markerClassName)&&(n=t.nodeName.toLowerCase(),e.removeData(t,"datepicker"),"input"===n?(o.append.remove(),o.trigger.remove(),r.removeClass(this.markerClassName).off("focus",this._showDatepicker).off("keydown",this._doKeyDown).off("keypress",this._doKeyPress).off("keyup",this._doKeyUp)):"div"!==n&&"span"!==n||r.removeClass(this.markerClassName).empty(),i===o&&(i=null))},_enableDatepicker:function(t){var n,r,o=e(t),i=e.data(t,"datepicker");o.hasClass(this.markerClassName)&&("input"===(n=t.nodeName.toLowerCase())?(t.disabled=!1,i.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})):"div"!==n&&"span"!==n||((r=o.children("."+this._inlineClass)).children().removeClass("ui-state-disabled"),r.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=e.map(this._disabledInputs,function(e){return e===t?null:e}))},_disableDatepicker:function(t){var n,r,o=e(t),i=e.data(t,"datepicker");o.hasClass(this.markerClassName)&&("input"===(n=t.nodeName.toLowerCase())?(t.disabled=!0,i.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})):"div"!==n&&"span"!==n||((r=o.children("."+this._inlineClass)).children().addClass("ui-state-disabled"),r.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=e.map(this._disabledInputs,function(e){return e===t?null:e}),this._disabledInputs[this._disabledInputs.length]=t)},_isDisabledDatepicker:function(e){if(!e)return!1;for(var t=0;t<this._disabledInputs.length;t++)if(this._disabledInputs[t]===e)return!0;return!1},_getInst:function(t){try{return e.data(t,"datepicker")}catch(e){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(t,n,r){var o,i,a,s,l=this._getInst(t);if(2===arguments.length&&"string"==typeof n)return"defaults"===n?e.extend({},e.datepicker._defaults):l?"all"===n?e.extend({},l.settings):this._get(l,n):null;o=n||{},"string"==typeof n&&((o={})[n]=r),l&&(this._curInst===l&&this._hideDatepicker(),i=this._getDateDatepicker(t,!0),a=this._getMinMaxDate(l,"min"),s=this._getMinMaxDate(l,"max"),u(l.settings,o),null!==a&&void 0!==o.dateFormat&&void 0===o.minDate&&(l.settings.minDate=this._formatDate(l,a)),null!==s&&void 0!==o.dateFormat&&void 0===o.maxDate&&(l.settings.maxDate=this._formatDate(l,s)),"disabled"in o&&(o.disabled?this._disableDatepicker(t):this._enableDatepicker(t)),this._attachments(e(t),l),this._autoSize(l),this._setDate(l,i),this._updateAlternate(l),this._updateDatepicker(l))},_changeDatepicker:function(e,t,n){this._optionDatepicker(e,t,n)},_refreshDatepicker:function(e){var t=this._getInst(e);t&&this._updateDatepicker(t)},_setDateDatepicker:function(e,t){var n=this._getInst(e);n&&(this._setDate(n,t),this._updateDatepicker(n),this._updateAlternate(n))},_getDateDatepicker:function(e,t){var n=this._getInst(e);return n&&!n.inline&&this._setDateFromField(n,t),n?this._getDate(n):null},_doKeyDown:function(t){var n,r,o,i=e.datepicker._getInst(t.target),a=!0,s=i.dpDiv.is(".ui-datepicker-rtl");if(i._keyEvent=!0,e.datepicker._datepickerShowing)switch(t.keyCode){case 9:e.datepicker._hideDatepicker(),a=!1;break;case 13:return(o=e("td."+e.datepicker._dayOverClass+":not(."+e.datepicker._currentClass+")",i.dpDiv))[0]&&e.datepicker._selectDay(t.target,i.selectedMonth,i.selectedYear,o[0]),(n=e.datepicker._get(i,"onSelect"))?(r=e.datepicker._formatDate(i),n.apply(i.input?i.input[0]:null,[r,i])):e.datepicker._hideDatepicker(),!1;case 27:e.datepicker._hideDatepicker();break;case 33:e.datepicker._adjustDate(t.target,t.ctrlKey?-e.datepicker._get(i,"stepBigMonths"):-e.datepicker._get(i,"stepMonths"),"M");break;case 34:e.datepicker._adjustDate(t.target,t.ctrlKey?+e.datepicker._get(i,"stepBigMonths"):+e.datepicker._get(i,"stepMonths"),"M");break;case 35:(t.ctrlKey||t.metaKey)&&e.datepicker._clearDate(t.target),a=t.ctrlKey||t.metaKey;break;case 36:(t.ctrlKey||t.metaKey)&&e.datepicker._gotoToday(t.target),a=t.ctrlKey||t.metaKey;break;case 37:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,s?1:-1,"D"),a=t.ctrlKey||t.metaKey,t.originalEvent.altKey&&e.datepicker._adjustDate(t.target,t.ctrlKey?-e.datepicker._get(i,"stepBigMonths"):-e.datepicker._get(i,"stepMonths"),"M");break;case 38:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,-7,"D"),a=t.ctrlKey||t.metaKey;break;case 39:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,s?-1:1,"D"),a=t.ctrlKey||t.metaKey,t.originalEvent.altKey&&e.datepicker._adjustDate(t.target,t.ctrlKey?+e.datepicker._get(i,"stepBigMonths"):+e.datepicker._get(i,"stepMonths"),"M");break;case 40:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,7,"D"),a=t.ctrlKey||t.metaKey;break;default:a=!1}else 36===t.keyCode&&t.ctrlKey?e.datepicker._showDatepicker(this):a=!1;a&&(t.preventDefault(),t.stopPropagation())},_doKeyPress:function(t){var n,r,o=e.datepicker._getInst(t.target);if(e.datepicker._get(o,"constrainInput"))return n=e.datepicker._possibleChars(e.datepicker._get(o,"dateFormat")),r=String.fromCharCode(null==t.charCode?t.keyCode:t.charCode),t.ctrlKey||t.metaKey||r<" "||!n||n.indexOf(r)>-1},_doKeyUp:function(t){var n=e.datepicker._getInst(t.target);if(n.input.val()!==n.lastVal)try{e.datepicker.parseDate(e.datepicker._get(n,"dateFormat"),n.input?n.input.val():null,e.datepicker._getFormatConfig(n))&&(e.datepicker._setDateFromField(n),e.datepicker._updateAlternate(n),e.datepicker._updateDatepicker(n))}catch(e){}return!0},_showDatepicker:function(t){var n,r,o,i,a,s,l;"input"!==(t=t.target||t).nodeName.toLowerCase()&&(t=e("input",t.parentNode)[0]),e.datepicker._isDisabledDatepicker(t)||e.datepicker._lastInput===t||(n=e.datepicker._getInst(t),e.datepicker._curInst&&e.datepicker._curInst!==n&&(e.datepicker._curInst.dpDiv.stop(!0,!0),n&&e.datepicker._datepickerShowing&&e.datepicker._hideDatepicker(e.datepicker._curInst.input[0])),!1!==(o=(r=e.datepicker._get(n,"beforeShow"))?r.apply(t,[t,n]):{})&&(u(n.settings,o),n.lastVal=null,e.datepicker._lastInput=t,e.datepicker._setDateFromField(n),e.datepicker._inDialog&&(t.value=""),e.datepicker._pos||(e.datepicker._pos=e.datepicker._findPos(t),e.datepicker._pos[1]+=t.offsetHeight),i=!1,e(t).parents().each(function(){return!(i|="fixed"===e(this).css("position"))}),a={left:e.datepicker._pos[0],top:e.datepicker._pos[1]},e.datepicker._pos=null,n.dpDiv.empty(),n.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),e.datepicker._updateDatepicker(n),a=e.datepicker._checkOffset(n,a,i),n.dpDiv.css({position:e.datepicker._inDialog&&e.blockUI?"static":i?"fixed":"absolute",display:"none",left:a.left+"px",top:a.top+"px"}),n.inline||(s=e.datepicker._get(n,"showAnim"),l=e.datepicker._get(n,"duration"),n.dpDiv.css("z-index",function(e){for(var t,n;e.length&&e[0]!==document;){if(("absolute"===(t=e.css("position"))||"relative"===t||"fixed"===t)&&(n=parseInt(e.css("zIndex"),10),!isNaN(n)&&0!==n))return n;e=e.parent()}return 0}(e(t))+1),e.datepicker._datepickerShowing=!0,e.effects&&e.effects.effect[s]?n.dpDiv.show(s,e.datepicker._get(n,"showOptions"),l):n.dpDiv[s||"show"](s?l:null),e.datepicker._shouldFocusInput(n)&&n.input.trigger("focus"),e.datepicker._curInst=n)))},_updateDatepicker:function(t){this.maxRows=4,i=t,t.dpDiv.empty().append(this._generateHTML(t)),this._attachHandlers(t);var n,r=this._getNumberOfMonths(t),o=r[1],a=t.dpDiv.find("."+this._dayOverClass+" a");a.length>0&&c.apply(a.get(0)),t.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),o>1&&t.dpDiv.addClass("ui-datepicker-multi-"+o).css("width",17*o+"em"),t.dpDiv[(1!==r[0]||1!==r[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),t.dpDiv[(this._get(t,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),t===e.datepicker._curInst&&e.datepicker._datepickerShowing&&e.datepicker._shouldFocusInput(t)&&t.input.trigger("focus"),t.yearshtml&&(n=t.yearshtml,setTimeout(function(){n===t.yearshtml&&t.yearshtml&&t.dpDiv.find("select.ui-datepicker-year:first").replaceWith(t.yearshtml),n=t.yearshtml=null},0))},_shouldFocusInput:function(e){return e.input&&e.input.is(":visible")&&!e.input.is(":disabled")&&!e.input.is(":focus")},_checkOffset:function(t,n,r){var o=t.dpDiv.outerWidth(),i=t.dpDiv.outerHeight(),a=t.input?t.input.outerWidth():0,s=t.input?t.input.outerHeight():0,l=document.documentElement.clientWidth+(r?0:e(document).scrollLeft()),c=document.documentElement.clientHeight+(r?0:e(document).scrollTop());return n.left-=this._get(t,"isRTL")?o-a:0,n.left-=r&&n.left===t.input.offset().left?e(document).scrollLeft():0,n.top-=r&&n.top===t.input.offset().top+s?e(document).scrollTop():0,n.left-=Math.min(n.left,n.left+o>l&&l>o?Math.abs(n.left+o-l):0),n.top-=Math.min(n.top,n.top+i>c&&c>i?Math.abs(i+s):0),n},_findPos:function(t){for(var n,r=this._getInst(t),o=this._get(r,"isRTL");t&&("hidden"===t.type||1!==t.nodeType||e.expr.filters.hidden(t));)t=t[o?"previousSibling":"nextSibling"];return[(n=e(t).offset()).left,n.top]},_hideDatepicker:function(t){var n,r,o,i,a=this._curInst;!a||t&&a!==e.data(t,"datepicker")||this._datepickerShowing&&(n=this._get(a,"showAnim"),r=this._get(a,"duration"),o=function(){e.datepicker._tidyDialog(a)},e.effects&&(e.effects.effect[n]||e.effects[n])?a.dpDiv.hide(n,e.datepicker._get(a,"showOptions"),r,o):a.dpDiv["slideDown"===n?"slideUp":"fadeIn"===n?"fadeOut":"hide"](n?r:null,o),n||o(),this._datepickerShowing=!1,(i=this._get(a,"onClose"))&&i.apply(a.input?a.input[0]:null,[a.input?a.input.val():"",a]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),e.blockUI&&(e.unblockUI(),e("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(e){e.dpDiv.removeClass(this._dialogClass).off(".ui-datepicker-calendar")},_checkExternalClick:function(t){if(e.datepicker._curInst){var n=e(t.target),r=e.datepicker._getInst(n[0]);(n[0].id===e.datepicker._mainDivId||0!==n.parents("#"+e.datepicker._mainDivId).length||n.hasClass(e.datepicker.markerClassName)||n.closest("."+e.datepicker._triggerClass).length||!e.datepicker._datepickerShowing||e.datepicker._inDialog&&e.blockUI)&&(!n.hasClass(e.datepicker.markerClassName)||e.datepicker._curInst===r)||e.datepicker._hideDatepicker()}},_adjustDate:function(t,n,r){var o=e(t),i=this._getInst(o[0]);this._isDisabledDatepicker(o[0])||(this._adjustInstDate(i,n+("M"===r?this._get(i,"showCurrentAtPos"):0),r),this._updateDatepicker(i))},_gotoToday:function(t){var n,r=e(t),o=this._getInst(r[0]);this._get(o,"gotoCurrent")&&o.currentDay?(o.selectedDay=o.currentDay,o.drawMonth=o.selectedMonth=o.currentMonth,o.drawYear=o.selectedYear=o.currentYear):(n=new Date,o.selectedDay=n.getDate(),o.drawMonth=o.selectedMonth=n.getMonth(),o.drawYear=o.selectedYear=n.getFullYear()),this._notifyChange(o),this._adjustDate(r)},_selectMonthYear:function(t,n,r){var o=e(t),i=this._getInst(o[0]);i["selected"+("M"===r?"Month":"Year")]=i["draw"+("M"===r?"Month":"Year")]=parseInt(n.options[n.selectedIndex].value,10),this._notifyChange(i),this._adjustDate(o)},_selectDay:function(t,n,r,o){var i,a=e(t);e(o).hasClass(this._unselectableClass)||this._isDisabledDatepicker(a[0])||((i=this._getInst(a[0])).selectedDay=i.currentDay=e("a",o).html(),i.selectedMonth=i.currentMonth=n,i.selectedYear=i.currentYear=r,this._selectDate(t,this._formatDate(i,i.currentDay,i.currentMonth,i.currentYear)))},_clearDate:function(t){var n=e(t);this._selectDate(n,"")},_selectDate:function(t,n){var r,o=e(t),i=this._getInst(o[0]);n=null!=n?n:this._formatDate(i),i.input&&i.input.val(n),this._updateAlternate(i),(r=this._get(i,"onSelect"))?r.apply(i.input?i.input[0]:null,[n,i]):i.input&&i.input.trigger("change"),i.inline?this._updateDatepicker(i):(this._hideDatepicker(),this._lastInput=i.input[0],"object"!=typeof i.input[0]&&i.input.trigger("focus"),this._lastInput=null)},_updateAlternate:function(t){var n,r,o,i=this._get(t,"altField");i&&(n=this._get(t,"altFormat")||this._get(t,"dateFormat"),r=this._getDate(t),o=this.formatDate(n,r,this._getFormatConfig(t)),e(i).val(o))},noWeekends:function(e){var t=e.getDay();return[t>0&&t<6,""]},iso8601Week:function(e){var t,n=new Date(e.getTime());return n.setDate(n.getDate()+4-(n.getDay()||7)),t=n.getTime(),n.setMonth(0),n.setDate(1),Math.floor(Math.round((t-n)/864e5)/7)+1},parseDate:function(t,n,r){if(null==t||null==n)throw"Invalid arguments";if(""===(n="object"==typeof n?n.toString():n+""))return null;var o,i,a,s,l=0,c=(r?r.shortYearCutoff:null)||this._defaults.shortYearCutoff,u="string"!=typeof c?c:(new Date).getFullYear()%100+parseInt(c,10),d=(r?r.dayNamesShort:null)||this._defaults.dayNamesShort,p=(r?r.dayNames:null)||this._defaults.dayNames,f=(r?r.monthNamesShort:null)||this._defaults.monthNamesShort,h=(r?r.monthNames:null)||this._defaults.monthNames,m=-1,g=-1,b=-1,v=-1,y=!1,k=function(e){var n=o+1<t.length&&t.charAt(o+1)===e;return n&&o++,n},_=function(e){var t=k(e),r="@"===e?14:"!"===e?20:"y"===e&&t?4:"o"===e?3:2,o=new RegExp("^\\d{"+("y"===e?r:1)+","+r+"}"),i=n.substring(l).match(o);if(!i)throw"Missing number at position "+l;return l+=i[0].length,parseInt(i[0],10)},w=function(t,r,o){var i=-1,a=e.map(k(t)?o:r,function(e,t){return[[t,e]]}).sort(function(e,t){return-(e[1].length-t[1].length)});if(e.each(a,function(e,t){var r=t[1];if(n.substr(l,r.length).toLowerCase()===r.toLowerCase())return i=t[0],l+=r.length,!1}),-1!==i)return i+1;throw"Unknown name at position "+l},C=function(){if(n.charAt(l)!==t.charAt(o))throw"Unexpected literal at position "+l;l++};for(o=0;o<t.length;o++)if(y)"'"!==t.charAt(o)||k("'")?C():y=!1;else switch(t.charAt(o)){case"d":b=_("d");break;case"D":w("D",d,p);break;case"o":v=_("o");break;case"m":g=_("m");break;case"M":g=w("M",f,h);break;case"y":m=_("y");break;case"@":m=(s=new Date(_("@"))).getFullYear(),g=s.getMonth()+1,b=s.getDate();break;case"!":m=(s=new Date((_("!")-this._ticksTo1970)/1e4)).getFullYear(),g=s.getMonth()+1,b=s.getDate();break;case"'":k("'")?C():y=!0;break;default:C()}if(l<n.length&&(a=n.substr(l),!/^\s+/.test(a)))throw"Extra/unparsed characters found in date: "+a;if(-1===m?m=(new Date).getFullYear():m<100&&(m+=(new Date).getFullYear()-(new Date).getFullYear()%100+(m<=u?0:-100)),v>-1)for(g=1,b=v;!(b<=(i=this._getDaysInMonth(m,g-1)));)g++,b-=i;if((s=this._daylightSavingAdjust(new Date(m,g-1,b))).getFullYear()!==m||s.getMonth()+1!==g||s.getDate()!==b)throw"Invalid date";return s},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925))*60*60*1e7,formatDate:function(e,t,n){if(!t)return"";var r,o=(n?n.dayNamesShort:null)||this._defaults.dayNamesShort,i=(n?n.dayNames:null)||this._defaults.dayNames,a=(n?n.monthNamesShort:null)||this._defaults.monthNamesShort,s=(n?n.monthNames:null)||this._defaults.monthNames,l=function(t){var n=r+1<e.length&&e.charAt(r+1)===t;return n&&r++,n},c=function(e,t,n){var r=""+t;if(l(e))for(;r.length<n;)r="0"+r;return r},u=function(e,t,n,r){return l(e)?r[t]:n[t]},d="",p=!1;if(t)for(r=0;r<e.length;r++)if(p)"'"!==e.charAt(r)||l("'")?d+=e.charAt(r):p=!1;else switch(e.charAt(r)){case"d":d+=c("d",t.getDate(),2);break;case"D":d+=u("D",t.getDay(),o,i);break;case"o":d+=c("o",Math.round((new Date(t.getFullYear(),t.getMonth(),t.getDate()).getTime()-new Date(t.getFullYear(),0,0).getTime())/864e5),3);break;case"m":d+=c("m",t.getMonth()+1,2);break;case"M":d+=u("M",t.getMonth(),a,s);break;case"y":d+=l("y")?t.getFullYear():(t.getFullYear()%100<10?"0":"")+t.getFullYear()%100;break;case"@":d+=t.getTime();break;case"!":d+=1e4*t.getTime()+this._ticksTo1970;break;case"'":l("'")?d+="'":p=!0;break;default:d+=e.charAt(r)}return d},_possibleChars:function(e){var t,n="",r=!1,o=function(n){var r=t+1<e.length&&e.charAt(t+1)===n;return r&&t++,r};for(t=0;t<e.length;t++)if(r)"'"!==e.charAt(t)||o("'")?n+=e.charAt(t):r=!1;else switch(e.charAt(t)){case"d":case"m":case"y":case"@":n+="0123456789";break;case"D":case"M":return null;case"'":o("'")?n+="'":r=!0;break;default:n+=e.charAt(t)}return n},_get:function(e,t){return void 0!==e.settings[t]?e.settings[t]:this._defaults[t]},_setDateFromField:function(e,t){if(e.input.val()!==e.lastVal){var n=this._get(e,"dateFormat"),r=e.lastVal=e.input?e.input.val():null,o=this._getDefaultDate(e),i=o,a=this._getFormatConfig(e);try{i=this.parseDate(n,r,a)||o}catch(e){r=t?"":r}e.selectedDay=i.getDate(),e.drawMonth=e.selectedMonth=i.getMonth(),e.drawYear=e.selectedYear=i.getFullYear(),e.currentDay=r?i.getDate():0,e.currentMonth=r?i.getMonth():0,e.currentYear=r?i.getFullYear():0,this._adjustInstDate(e)}},_getDefaultDate:function(e){return this._restrictMinMax(e,this._determineDate(e,this._get(e,"defaultDate"),new Date))},_determineDate:function(t,n,r){var o=null==n||""===n?r:"string"==typeof n?function(n){try{return e.datepicker.parseDate(e.datepicker._get(t,"dateFormat"),n,e.datepicker._getFormatConfig(t))}catch(e){}for(var r=(n.toLowerCase().match(/^c/)?e.datepicker._getDate(t):null)||new Date,o=r.getFullYear(),i=r.getMonth(),a=r.getDate(),s=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,l=s.exec(n);l;){switch(l[2]||"d"){case"d":case"D":a+=parseInt(l[1],10);break;case"w":case"W":a+=7*parseInt(l[1],10);break;case"m":case"M":i+=parseInt(l[1],10),a=Math.min(a,e.datepicker._getDaysInMonth(o,i));break;case"y":case"Y":o+=parseInt(l[1],10),a=Math.min(a,e.datepicker._getDaysInMonth(o,i))}l=s.exec(n)}return new Date(o,i,a)}(n):"number"==typeof n?isNaN(n)?r:function(e){var t=new Date;return t.setDate(t.getDate()+e),t}(n):new Date(n.getTime());return(o=o&&"Invalid Date"===o.toString()?r:o)&&(o.setHours(0),o.setMinutes(0),o.setSeconds(0),o.setMilliseconds(0)),this._daylightSavingAdjust(o)},_daylightSavingAdjust:function(e){return e?(e.setHours(e.getHours()>12?e.getHours()+2:0),e):null},_setDate:function(e,t,n){var r=!t,o=e.selectedMonth,i=e.selectedYear,a=this._restrictMinMax(e,this._determineDate(e,t,new Date));e.selectedDay=e.currentDay=a.getDate(),e.drawMonth=e.selectedMonth=e.currentMonth=a.getMonth(),e.drawYear=e.selectedYear=e.currentYear=a.getFullYear(),o===e.selectedMonth&&i===e.selectedYear||n||this._notifyChange(e),this._adjustInstDate(e),e.input&&e.input.val(r?"":this._formatDate(e))},_getDate:function(e){return!e.currentYear||e.input&&""===e.input.val()?null:this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay))},_attachHandlers:function(t){var n=this._get(t,"stepMonths"),r="#"+t.id.replace(/\\\\/g,"\\");t.dpDiv.find("[data-handler]").map(function(){var t={prev:function(){e.datepicker._adjustDate(r,-n,"M")},next:function(){e.datepicker._adjustDate(r,+n,"M")},hide:function(){e.datepicker._hideDatepicker()},today:function(){e.datepicker._gotoToday(r)},selectDay:function(){return e.datepicker._selectDay(r,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return e.datepicker._selectMonthYear(r,this,"M"),!1},selectYear:function(){return e.datepicker._selectMonthYear(r,this,"Y"),!1}};e(this).on(this.getAttribute("data-event"),t[this.getAttribute("data-handler")])})},_generateHTML:function(e){var t,n,r,o,i,a,s,l,c,u,d,p,f,h,m,g,b,v,y,k,_,w,C,S,P,E,x,O,T,M,A,j,I,N,R,D,L,B,F,U=new Date,q=this._daylightSavingAdjust(new Date(U.getFullYear(),U.getMonth(),U.getDate())),z=this._get(e,"isRTL"),H=this._get(e,"showButtonPanel"),V=this._get(e,"hideIfNoPrevNext"),W=this._get(e,"navigationAsDateFormat"),G=this._getNumberOfMonths(e),Y=this._get(e,"showCurrentAtPos"),K=this._get(e,"stepMonths"),$=1!==G[0]||1!==G[1],Q=this._daylightSavingAdjust(e.currentDay?new Date(e.currentYear,e.currentMonth,e.currentDay):new Date(9999,9,9)),J=this._getMinMaxDate(e,"min"),X=this._getMinMaxDate(e,"max"),Z=e.drawMonth-Y,ee=e.drawYear;if(Z<0&&(Z+=12,ee--),X)for(t=this._daylightSavingAdjust(new Date(X.getFullYear(),X.getMonth()-G[0]*G[1]+1,X.getDate())),t=J&&t<J?J:t;this._daylightSavingAdjust(new Date(ee,Z,1))>t;)--Z<0&&(Z=11,ee--);for(e.drawMonth=Z,e.drawYear=ee,n=this._get(e,"prevText"),n=W?this.formatDate(n,this._daylightSavingAdjust(new Date(ee,Z-K,1)),this._getFormatConfig(e)):n,r=this._canAdjustMonth(e,-1,ee,Z)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+n+"'><span class='ui-icon ui-icon-circle-triangle-"+(z?"e":"w")+"'>"+n+"</span></a>":V?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+n+"'><span class='ui-icon ui-icon-circle-triangle-"+(z?"e":"w")+"'>"+n+"</span></a>",o=this._get(e,"nextText"),o=W?this.formatDate(o,this._daylightSavingAdjust(new Date(ee,Z+K,1)),this._getFormatConfig(e)):o,i=this._canAdjustMonth(e,1,ee,Z)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+o+"'><span class='ui-icon ui-icon-circle-triangle-"+(z?"w":"e")+"'>"+o+"</span></a>":V?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+o+"'><span class='ui-icon ui-icon-circle-triangle-"+(z?"w":"e")+"'>"+o+"</span></a>",a=this._get(e,"currentText"),s=this._get(e,"gotoCurrent")&&e.currentDay?Q:q,a=W?this.formatDate(a,s,this._getFormatConfig(e)):a,l=e.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(e,"closeText")+"</button>",c=H?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(z?l:"")+(this._isInRange(e,s)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+a+"</button>":"")+(z?"":l)+"</div>":"",u=parseInt(this._get(e,"firstDay"),10),u=isNaN(u)?0:u,d=this._get(e,"showWeek"),p=this._get(e,"dayNames"),f=this._get(e,"dayNamesMin"),h=this._get(e,"monthNames"),m=this._get(e,"monthNamesShort"),g=this._get(e,"beforeShowDay"),b=this._get(e,"showOtherMonths"),v=this._get(e,"selectOtherMonths"),y=this._getDefaultDate(e),k="",w=0;w<G[0];w++){for(C="",this.maxRows=4,S=0;S<G[1];S++){if(P=this._daylightSavingAdjust(new Date(ee,Z,e.selectedDay)),E=" ui-corner-all",x="",$){if(x+="<div class='ui-datepicker-group",G[1]>1)switch(S){case 0:x+=" ui-datepicker-group-first",E=" ui-corner-"+(z?"right":"left");break;case G[1]-1:x+=" ui-datepicker-group-last",E=" ui-corner-"+(z?"left":"right");break;default:x+=" ui-datepicker-group-middle",E=""}x+="'>"}for(x+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+E+"'>"+(/all|left/.test(E)&&0===w?z?i:r:"")+(/all|right/.test(E)&&0===w?z?r:i:"")+this._generateMonthYearHeader(e,Z,ee,J,X,w>0||S>0,h,m)+"</div><table class='ui-datepicker-calendar'><thead><tr>",O=d?"<th class='ui-datepicker-week-col'>"+this._get(e,"weekHeader")+"</th>":"",_=0;_<7;_++)T=(_+u)%7,O+="<th scope='col'"+((_+u+6)%7>=5?" class='ui-datepicker-week-end'":"")+"><span title='"+p[T]+"'>"+f[T]+"</span></th>";for(x+=O+"</tr></thead><tbody>",M=this._getDaysInMonth(ee,Z),ee===e.selectedYear&&Z===e.selectedMonth&&(e.selectedDay=Math.min(e.selectedDay,M)),A=(this._getFirstDayOfMonth(ee,Z)-u+7)%7,j=Math.ceil((A+M)/7),I=$&&this.maxRows>j?this.maxRows:j,this.maxRows=I,N=this._daylightSavingAdjust(new Date(ee,Z,1-A)),R=0;R<I;R++){for(x+="<tr>",D=d?"<td class='ui-datepicker-week-col'>"+this._get(e,"calculateWeek")(N)+"</td>":"",_=0;_<7;_++)L=g?g.apply(e.input?e.input[0]:null,[N]):[!0,""],F=(B=N.getMonth()!==Z)&&!v||!L[0]||J&&N<J||X&&N>X,D+="<td class='"+((_+u+6)%7>=5?" ui-datepicker-week-end":"")+(B?" ui-datepicker-other-month":"")+(N.getTime()===P.getTime()&&Z===e.selectedMonth&&e._keyEvent||y.getTime()===N.getTime()&&y.getTime()===P.getTime()?" "+this._dayOverClass:"")+(F?" "+this._unselectableClass+" ui-state-disabled":"")+(B&&!b?"":" "+L[1]+(N.getTime()===Q.getTime()?" "+this._currentClass:"")+(N.getTime()===q.getTime()?" ui-datepicker-today":""))+"'"+(B&&!b||!L[2]?"":" title='"+L[2].replace(/'/g,"&#39;")+"'")+(F?"":" data-handler='selectDay' data-event='click' data-month='"+N.getMonth()+"' data-year='"+N.getFullYear()+"'")+">"+(B&&!b?"&#xa0;":F?"<span class='ui-state-default'>"+N.getDate()+"</span>":"<a class='ui-state-default"+(N.getTime()===q.getTime()?" ui-state-highlight":"")+(N.getTime()===Q.getTime()?" ui-state-active":"")+(B?" ui-priority-secondary":"")+"' href='#'>"+N.getDate()+"</a>")+"</td>",N.setDate(N.getDate()+1),N=this._daylightSavingAdjust(N);x+=D+"</tr>"}++Z>11&&(Z=0,ee++),C+=x+="</tbody></table>"+($?"</div>"+(G[0]>0&&S===G[1]-1?"<div class='ui-datepicker-row-break'></div>":""):"")}k+=C}return k+=c,e._keyEvent=!1,k},_generateMonthYearHeader:function(e,t,n,r,o,i,a,s){var l,c,u,d,p,f,h,m,g=this._get(e,"changeMonth"),b=this._get(e,"changeYear"),v=this._get(e,"showMonthAfterYear"),y="<div class='ui-datepicker-title'>",k="";if(i||!g)k+="<span class='ui-datepicker-month'>"+a[t]+"</span>";else{for(l=r&&r.getFullYear()===n,c=o&&o.getFullYear()===n,k+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>",u=0;u<12;u++)(!l||u>=r.getMonth())&&(!c||u<=o.getMonth())&&(k+="<option value='"+u+"'"+(u===t?" selected='selected'":"")+">"+s[u]+"</option>");k+="</select>"}if(v||(y+=k+(!i&&g&&b?"":"&#xa0;")),!e.yearshtml)if(e.yearshtml="",i||!b)y+="<span class='ui-datepicker-year'>"+n+"</span>";else{for(d=this._get(e,"yearRange").split(":"),p=(new Date).getFullYear(),h=(f=function(e){var t=e.match(/c[+\-].*/)?n+parseInt(e.substring(1),10):e.match(/[+\-].*/)?p+parseInt(e,10):parseInt(e,10);return isNaN(t)?p:t})(d[0]),m=Math.max(h,f(d[1]||"")),h=r?Math.max(h,r.getFullYear()):h,m=o?Math.min(m,o.getFullYear()):m,e.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";h<=m;h++)e.yearshtml+="<option value='"+h+"'"+(h===n?" selected='selected'":"")+">"+h+"</option>";e.yearshtml+="</select>",y+=e.yearshtml,e.yearshtml=null}return y+=this._get(e,"yearSuffix"),v&&(y+=(!i&&g&&b?"":"&#xa0;")+k),y+="</div>"},_adjustInstDate:function(e,t,n){var r=e.selectedYear+("Y"===n?t:0),o=e.selectedMonth+("M"===n?t:0),i=Math.min(e.selectedDay,this._getDaysInMonth(r,o))+("D"===n?t:0),a=this._restrictMinMax(e,this._daylightSavingAdjust(new Date(r,o,i)));e.selectedDay=a.getDate(),e.drawMonth=e.selectedMonth=a.getMonth(),e.drawYear=e.selectedYear=a.getFullYear(),"M"!==n&&"Y"!==n||this._notifyChange(e)},_restrictMinMax:function(e,t){var n=this._getMinMaxDate(e,"min"),r=this._getMinMaxDate(e,"max"),o=n&&t<n?n:t;return r&&o>r?r:o},_notifyChange:function(e){var t=this._get(e,"onChangeMonthYear");t&&t.apply(e.input?e.input[0]:null,[e.selectedYear,e.selectedMonth+1,e])},_getNumberOfMonths:function(e){var t=this._get(e,"numberOfMonths");return null==t?[1,1]:"number"==typeof t?[1,t]:t},_getMinMaxDate:function(e,t){return this._determineDate(e,this._get(e,t+"Date"),null)},_getDaysInMonth:function(e,t){return 32-this._daylightSavingAdjust(new Date(e,t,32)).getDate()},_getFirstDayOfMonth:function(e,t){return new Date(e,t,1).getDay()},_canAdjustMonth:function(e,t,n,r){var o=this._getNumberOfMonths(e),i=this._daylightSavingAdjust(new Date(n,r+(t<0?t:o[0]*o[1]),1));return t<0&&i.setDate(this._getDaysInMonth(i.getFullYear(),i.getMonth())),this._isInRange(e,i)},_isInRange:function(e,t){var n,r,o=this._getMinMaxDate(e,"min"),i=this._getMinMaxDate(e,"max"),a=null,s=null,l=this._get(e,"yearRange");return l&&(n=l.split(":"),r=(new Date).getFullYear(),a=parseInt(n[0],10),s=parseInt(n[1],10),n[0].match(/[+\-].*/)&&(a+=r),n[1].match(/[+\-].*/)&&(s+=r)),(!o||t.getTime()>=o.getTime())&&(!i||t.getTime()<=i.getTime())&&(!a||t.getFullYear()>=a)&&(!s||t.getFullYear()<=s)},_getFormatConfig:function(e){var t=this._get(e,"shortYearCutoff");return{shortYearCutoff:t="string"!=typeof t?t:(new Date).getFullYear()%100+parseInt(t,10),dayNamesShort:this._get(e,"dayNamesShort"),dayNames:this._get(e,"dayNames"),monthNamesShort:this._get(e,"monthNamesShort"),monthNames:this._get(e,"monthNames")}},_formatDate:function(e,t,n,r){t||(e.currentDay=e.selectedDay,e.currentMonth=e.selectedMonth,e.currentYear=e.selectedYear);var o=t?"object"==typeof t?t:this._daylightSavingAdjust(new Date(r,n,t)):this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay));return this.formatDate(this._get(e,"dateFormat"),o,this._getFormatConfig(e))}}),e.fn.datepicker=function(t){if(!this.length)return this;e.datepicker.initialized||(e(document).on("mousedown",e.datepicker._checkExternalClick),e.datepicker.initialized=!0),0===e("#"+e.datepicker._mainDivId).length&&e("body").append(e.datepicker.dpDiv);var n=Array.prototype.slice.call(arguments,1);return"string"!=typeof t||"isDisabled"!==t&&"getDate"!==t&&"widget"!==t?"option"===t&&2===arguments.length&&"string"==typeof arguments[1]?e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this[0]].concat(n)):this.each(function(){"string"==typeof t?e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this].concat(n)):e.datepicker._attachDatepicker(this,t)}):e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this[0]].concat(n))},e.datepicker=new s,e.datepicker.initialized=!1,e.datepicker.uuid=(new Date).getTime(),e.datepicker.version="1.12.1",e.datepicker,e.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase());var d=!1;e(document).on("mouseup",function(){d=!1}),e.widget("ui.mouse",{version:"1.12.1",options:{cancel:"input, textarea, button, select, option",distance:1,delay:0},_mouseInit:function(){var t=this;this.element.on("mousedown."+this.widgetName,function(e){return t._mouseDown(e)}).on("click."+this.widgetName,function(n){if(!0===e.data(n.target,t.widgetName+".preventClickEvent"))return e.removeData(n.target,t.widgetName+".preventClickEvent"),n.stopImmediatePropagation(),!1}),this.started=!1},_mouseDestroy:function(){this.element.off("."+this.widgetName),this._mouseMoveDelegate&&this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(t){if(!d){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(t),this._mouseDownEvent=t;var n=this,r=1===t.which,o=!("string"!=typeof this.options.cancel||!t.target.nodeName)&&e(t.target).closest(this.options.cancel).length;return!(r&&!o&&this._mouseCapture(t))||(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){n.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=!1!==this._mouseStart(t),!this._mouseStarted)?(t.preventDefault(),!0):(!0===e.data(t.target,this.widgetName+".preventClickEvent")&&e.removeData(t.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(e){return n._mouseMove(e)},this._mouseUpDelegate=function(e){return n._mouseUp(e)},this.document.on("mousemove."+this.widgetName,this._mouseMoveDelegate).on("mouseup."+this.widgetName,this._mouseUpDelegate),t.preventDefault(),d=!0,!0))}},_mouseMove:function(t){if(this._mouseMoved){if(e.ui.ie&&(!document.documentMode||document.documentMode<9)&&!t.button)return this._mouseUp(t);if(!t.which)if(t.originalEvent.altKey||t.originalEvent.ctrlKey||t.originalEvent.metaKey||t.originalEvent.shiftKey)this.ignoreMissingWhich=!0;else if(!this.ignoreMissingWhich)return this._mouseUp(t)}return(t.which||t.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(t),t.preventDefault()):(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,t),this._mouseStarted?this._mouseDrag(t):this._mouseUp(t)),!this._mouseStarted)},_mouseUp:function(t){this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,t.target===this._mouseDownEvent.target&&e.data(t.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(t)),this._mouseDelayTimer&&(clearTimeout(this._mouseDelayTimer),delete this._mouseDelayTimer),this.ignoreMissingWhich=!1,d=!1,t.preventDefault()},_mouseDistanceMet:function(e){return Math.max(Math.abs(this._mouseDownEvent.pageX-e.pageX),Math.abs(this._mouseDownEvent.pageY-e.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}}),e.ui.plugin={add:function(t,n,r){var o,i=e.ui[t].prototype;for(o in r)i.plugins[o]=i.plugins[o]||[],i.plugins[o].push([n,r[o]])},call:function(e,t,n,r){var o,i=e.plugins[t];if(i&&(r||e.element[0].parentNode&&11!==e.element[0].parentNode.nodeType))for(o=0;o<i.length;o++)e.options[i[o][0]]&&i[o][1].apply(e.element,n)}},e.ui.safeBlur=function(t){t&&"body"!==t.nodeName.toLowerCase()&&e(t).trigger("blur")},e.widget("ui.draggable",e.ui.mouse,{version:"1.12.1",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"===this.options.helper&&this._setPositionRelative(),this.options.addClasses&&this._addClass("ui-draggable"),this._setHandleClassName(),this._mouseInit()},_setOption:function(e,t){this._super(e,t),"handle"===e&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){(this.helper||this.element).is(".ui-draggable-dragging")?this.destroyOnClear=!0:(this._removeHandleClassName(),this._mouseDestroy())},_mouseCapture:function(t){var n=this.options;return!(this.helper||n.disabled||e(t.target).closest(".ui-resizable-handle").length>0)&&(this.handle=this._getHandle(t),!!this.handle&&(this._blurActiveElement(t),this._blockFrames(!0===n.iframeFix?"iframe":n.iframeFix),!0))},_blockFrames:function(t){this.iframeBlocks=this.document.find(t).map(function(){var t=e(this);return e("<div>").css("position","absolute").appendTo(t.parent()).outerWidth(t.outerWidth()).outerHeight(t.outerHeight()).offset(t.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_blurActiveElement:function(t){var n=e.ui.safeActiveElement(this.document[0]);e(t.target).closest(n).length||e.ui.safeBlur(n)},_mouseStart:function(t){var n=this.options;return this.helper=this._createHelper(t),this._addClass(this.helper,"ui-draggable-dragging"),this._cacheHelperProportions(),e.ui.ddmanager&&(e.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.hasFixedAncestor=this.helper.parents().filter(function(){return"fixed"===e(this).css("position")}).length>0,this.positionAbs=this.element.offset(),this._refreshOffsets(t),this.originalPosition=this.position=this._generatePosition(t,!1),this.originalPageX=t.pageX,this.originalPageY=t.pageY,n.cursorAt&&this._adjustOffsetFromHelper(n.cursorAt),this._setContainment(),!1===this._trigger("start",t)?(this._clear(),!1):(this._cacheHelperProportions(),e.ui.ddmanager&&!n.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this._mouseDrag(t,!0),e.ui.ddmanager&&e.ui.ddmanager.dragStart(this,t),!0)},_refreshOffsets:function(e){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:!1,parent:this._getParentOffset(),relative:this._getRelativeOffset()},this.offset.click={left:e.pageX-this.offset.left,top:e.pageY-this.offset.top}},_mouseDrag:function(t,n){if(this.hasFixedAncestor&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(t,!0),this.positionAbs=this._convertPositionTo("absolute"),!n){var r=this._uiHash();if(!1===this._trigger("drag",t,r))return this._mouseUp(new e.Event("mouseup",t)),!1;this.position=r.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),!1},_mouseStop:function(t){var n=this,r=!1;return e.ui.ddmanager&&!this.options.dropBehaviour&&(r=e.ui.ddmanager.drop(this,t)),this.dropped&&(r=this.dropped,this.dropped=!1),"invalid"===this.options.revert&&!r||"valid"===this.options.revert&&r||!0===this.options.revert||e.isFunction(this.options.revert)&&this.options.revert.call(this.element,r)?e(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){!1!==n._trigger("stop",t)&&n._clear()}):!1!==this._trigger("stop",t)&&this._clear(),!1},_mouseUp:function(t){return this._unblockFrames(),e.ui.ddmanager&&e.ui.ddmanager.dragStop(this,t),this.handleElement.is(t.target)&&this.element.trigger("focus"),e.ui.mouse.prototype._mouseUp.call(this,t)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp(new e.Event("mouseup",{target:this.element[0]})):this._clear(),this},_getHandle:function(t){return!this.options.handle||!!e(t.target).closest(this.element.find(this.options.handle)).length},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element,this._addClass(this.handleElement,"ui-draggable-handle")},_removeHandleClassName:function(){this._removeClass(this.handleElement,"ui-draggable-handle")},_createHelper:function(t){var n=this.options,r=e.isFunction(n.helper),o=r?e(n.helper.apply(this.element[0],[t])):"clone"===n.helper?this.element.clone().removeAttr("id"):this.element;return o.parents("body").length||o.appendTo("parent"===n.appendTo?this.element[0].parentNode:n.appendTo),r&&o[0]===this.element[0]&&this._setPositionRelative(),o[0]===this.element[0]||/(fixed|absolute)/.test(o.css("position"))||o.css("position","absolute"),o},_setPositionRelative:function(){/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative")},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),e.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_isRootNode:function(e){return/(html|body)/i.test(e.tagName)||e===this.document[0]},_getParentOffset:function(){var t=this.offsetParent.offset(),n=this.document[0];return"absolute"===this.cssPosition&&this.scrollParent[0]!==n&&e.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),this._isRootNode(this.offsetParent[0])&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var e=this.element.position(),t=this._isRootNode(this.scrollParent[0]);return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+(t?0:this.scrollParent.scrollTop()),left:e.left-(parseInt(this.helper.css("left"),10)||0)+(t?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,n,r,o=this.options,i=this.document[0];this.relativeContainer=null,o.containment?"window"!==o.containment?"document"!==o.containment?o.containment.constructor!==Array?("parent"===o.containment&&(o.containment=this.helper[0].parentNode),(r=(n=e(o.containment))[0])&&(t=/(scroll|auto)/.test(n.css("overflow")),this.containment=[(parseInt(n.css("borderLeftWidth"),10)||0)+(parseInt(n.css("paddingLeft"),10)||0),(parseInt(n.css("borderTopWidth"),10)||0)+(parseInt(n.css("paddingTop"),10)||0),(t?Math.max(r.scrollWidth,r.offsetWidth):r.offsetWidth)-(parseInt(n.css("borderRightWidth"),10)||0)-(parseInt(n.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(t?Math.max(r.scrollHeight,r.offsetHeight):r.offsetHeight)-(parseInt(n.css("borderBottomWidth"),10)||0)-(parseInt(n.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=n)):this.containment=o.containment:this.containment=[0,0,e(i).width()-this.helperProportions.width-this.margins.left,(e(i).height()||i.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]:this.containment=[e(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,e(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,e(window).scrollLeft()+e(window).width()-this.helperProportions.width-this.margins.left,e(window).scrollTop()+(e(window).height()||i.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]:this.containment=null},_convertPositionTo:function(e,t){t||(t=this.position);var n="absolute"===e?1:-1,r=this._isRootNode(this.scrollParent[0]);return{top:t.top+this.offset.relative.top*n+this.offset.parent.top*n-("fixed"===this.cssPosition?-this.offset.scroll.top:r?0:this.offset.scroll.top)*n,left:t.left+this.offset.relative.left*n+this.offset.parent.left*n-("fixed"===this.cssPosition?-this.offset.scroll.left:r?0:this.offset.scroll.left)*n}},_generatePosition:function(e,t){var n,r,o,i,a=this.options,s=this._isRootNode(this.scrollParent[0]),l=e.pageX,c=e.pageY;return s&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),t&&(this.containment&&(this.relativeContainer?(r=this.relativeContainer.offset(),n=[this.containment[0]+r.left,this.containment[1]+r.top,this.containment[2]+r.left,this.containment[3]+r.top]):n=this.containment,e.pageX-this.offset.click.left<n[0]&&(l=n[0]+this.offset.click.left),e.pageY-this.offset.click.top<n[1]&&(c=n[1]+this.offset.click.top),e.pageX-this.offset.click.left>n[2]&&(l=n[2]+this.offset.click.left),e.pageY-this.offset.click.top>n[3]&&(c=n[3]+this.offset.click.top)),a.grid&&(o=a.grid[1]?this.originalPageY+Math.round((c-this.originalPageY)/a.grid[1])*a.grid[1]:this.originalPageY,c=n?o-this.offset.click.top>=n[1]||o-this.offset.click.top>n[3]?o:o-this.offset.click.top>=n[1]?o-a.grid[1]:o+a.grid[1]:o,i=a.grid[0]?this.originalPageX+Math.round((l-this.originalPageX)/a.grid[0])*a.grid[0]:this.originalPageX,l=n?i-this.offset.click.left>=n[0]||i-this.offset.click.left>n[2]?i:i-this.offset.click.left>=n[0]?i-a.grid[0]:i+a.grid[0]:i),"y"===a.axis&&(l=this.originalPageX),"x"===a.axis&&(c=this.originalPageY)),{top:c-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.offset.scroll.top:s?0:this.offset.scroll.top),left:l-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.offset.scroll.left:s?0:this.offset.scroll.left)}},_clear:function(){this._removeClass(this.helper,"ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1,this.destroyOnClear&&this.destroy()},_trigger:function(t,n,r){return r=r||this._uiHash(),e.ui.plugin.call(this,t,[n,r,this],!0),/^(drag|start|stop)/.test(t)&&(this.positionAbs=this._convertPositionTo("absolute"),r.offset=this.positionAbs),e.Widget.prototype._trigger.call(this,t,n,r)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),e.ui.plugin.add("draggable","connectToSortable",{start:function(t,n,r){var o=e.extend({},n,{item:r.element});r.sortables=[],e(r.options.connectToSortable).each(function(){var n=e(this).sortable("instance");n&&!n.options.disabled&&(r.sortables.push(n),n.refreshPositions(),n._trigger("activate",t,o))})},stop:function(t,n,r){var o=e.extend({},n,{item:r.element});r.cancelHelperRemoval=!1,e.each(r.sortables,function(){this.isOver?(this.isOver=0,r.cancelHelperRemoval=!0,this.cancelHelperRemoval=!1,this._storedCSS={position:this.placeholder.css("position"),top:this.placeholder.css("top"),left:this.placeholder.css("left")},this._mouseStop(t),this.options.helper=this.options._helper):(this.cancelHelperRemoval=!0,this._trigger("deactivate",t,o))})},drag:function(t,n,r){e.each(r.sortables,function(){var o=!1,i=this;i.positionAbs=r.positionAbs,i.helperProportions=r.helperProportions,i.offset.click=r.offset.click,i._intersectsWith(i.containerCache)&&(o=!0,e.each(r.sortables,function(){return this.positionAbs=r.positionAbs,this.helperProportions=r.helperProportions,this.offset.click=r.offset.click,this!==i&&this._intersectsWith(this.containerCache)&&e.contains(i.element[0],this.element[0])&&(o=!1),o})),o?(i.isOver||(i.isOver=1,r._parent=n.helper.parent(),i.currentItem=n.helper.appendTo(i.element).data("ui-sortable-item",!0),i.options._helper=i.options.helper,i.options.helper=function(){return n.helper[0]},t.target=i.currentItem[0],i._mouseCapture(t,!0),i._mouseStart(t,!0,!0),i.offset.click.top=r.offset.click.top,i.offset.click.left=r.offset.click.left,i.offset.parent.left-=r.offset.parent.left-i.offset.parent.left,i.offset.parent.top-=r.offset.parent.top-i.offset.parent.top,r._trigger("toSortable",t),r.dropped=i.element,e.each(r.sortables,function(){this.refreshPositions()}),r.currentItem=r.element,i.fromOutside=r),i.currentItem&&(i._mouseDrag(t),n.position=i.position)):i.isOver&&(i.isOver=0,i.cancelHelperRemoval=!0,i.options._revert=i.options.revert,i.options.revert=!1,i._trigger("out",t,i._uiHash(i)),i._mouseStop(t,!0),i.options.revert=i.options._revert,i.options.helper=i.options._helper,i.placeholder&&i.placeholder.remove(),n.helper.appendTo(r._parent),r._refreshOffsets(t),n.position=r._generatePosition(t,!0),r._trigger("fromSortable",t),r.dropped=!1,e.each(r.sortables,function(){this.refreshPositions()}))})}}),e.ui.plugin.add("draggable","cursor",{start:function(t,n,r){var o=e("body"),i=r.options;o.css("cursor")&&(i._cursor=o.css("cursor")),o.css("cursor",i.cursor)},stop:function(t,n,r){var o=r.options;o._cursor&&e("body").css("cursor",o._cursor)}}),e.ui.plugin.add("draggable","opacity",{start:function(t,n,r){var o=e(n.helper),i=r.options;o.css("opacity")&&(i._opacity=o.css("opacity")),o.css("opacity",i.opacity)},stop:function(t,n,r){var o=r.options;o._opacity&&e(n.helper).css("opacity",o._opacity)}}),e.ui.plugin.add("draggable","scroll",{start:function(e,t,n){n.scrollParentNotHidden||(n.scrollParentNotHidden=n.helper.scrollParent(!1)),n.scrollParentNotHidden[0]!==n.document[0]&&"HTML"!==n.scrollParentNotHidden[0].tagName&&(n.overflowOffset=n.scrollParentNotHidden.offset())},drag:function(t,n,r){var o=r.options,i=!1,a=r.scrollParentNotHidden[0],s=r.document[0];a!==s&&"HTML"!==a.tagName?(o.axis&&"x"===o.axis||(r.overflowOffset.top+a.offsetHeight-t.pageY<o.scrollSensitivity?a.scrollTop=i=a.scrollTop+o.scrollSpeed:t.pageY-r.overflowOffset.top<o.scrollSensitivity&&(a.scrollTop=i=a.scrollTop-o.scrollSpeed)),o.axis&&"y"===o.axis||(r.overflowOffset.left+a.offsetWidth-t.pageX<o.scrollSensitivity?a.scrollLeft=i=a.scrollLeft+o.scrollSpeed:t.pageX-r.overflowOffset.left<o.scrollSensitivity&&(a.scrollLeft=i=a.scrollLeft-o.scrollSpeed))):(o.axis&&"x"===o.axis||(t.pageY-e(s).scrollTop()<o.scrollSensitivity?i=e(s).scrollTop(e(s).scrollTop()-o.scrollSpeed):e(window).height()-(t.pageY-e(s).scrollTop())<o.scrollSensitivity&&(i=e(s).scrollTop(e(s).scrollTop()+o.scrollSpeed))),o.axis&&"y"===o.axis||(t.pageX-e(s).scrollLeft()<o.scrollSensitivity?i=e(s).scrollLeft(e(s).scrollLeft()-o.scrollSpeed):e(window).width()-(t.pageX-e(s).scrollLeft())<o.scrollSensitivity&&(i=e(s).scrollLeft(e(s).scrollLeft()+o.scrollSpeed)))),!1!==i&&e.ui.ddmanager&&!o.dropBehaviour&&e.ui.ddmanager.prepareOffsets(r,t)}}),e.ui.plugin.add("draggable","snap",{start:function(t,n,r){var o=r.options;r.snapElements=[],e(o.snap.constructor!==String?o.snap.items||":data(ui-draggable)":o.snap).each(function(){var t=e(this),n=t.offset();this!==r.element[0]&&r.snapElements.push({item:this,width:t.outerWidth(),height:t.outerHeight(),top:n.top,left:n.left})})},drag:function(t,n,r){var o,i,a,s,l,c,u,d,p,f,h=r.options,m=h.snapTolerance,g=n.offset.left,b=g+r.helperProportions.width,v=n.offset.top,y=v+r.helperProportions.height;for(p=r.snapElements.length-1;p>=0;p--)c=(l=r.snapElements[p].left-r.margins.left)+r.snapElements[p].width,d=(u=r.snapElements[p].top-r.margins.top)+r.snapElements[p].height,b<l-m||g>c+m||y<u-m||v>d+m||!e.contains(r.snapElements[p].item.ownerDocument,r.snapElements[p].item)?(r.snapElements[p].snapping&&r.options.snap.release&&r.options.snap.release.call(r.element,t,e.extend(r._uiHash(),{snapItem:r.snapElements[p].item})),r.snapElements[p].snapping=!1):("inner"!==h.snapMode&&(o=Math.abs(u-y)<=m,i=Math.abs(d-v)<=m,a=Math.abs(l-b)<=m,s=Math.abs(c-g)<=m,o&&(n.position.top=r._convertPositionTo("relative",{top:u-r.helperProportions.height,left:0}).top),i&&(n.position.top=r._convertPositionTo("relative",{top:d,left:0}).top),a&&(n.position.left=r._convertPositionTo("relative",{top:0,left:l-r.helperProportions.width}).left),s&&(n.position.left=r._convertPositionTo("relative",{top:0,left:c}).left)),f=o||i||a||s,"outer"!==h.snapMode&&(o=Math.abs(u-v)<=m,i=Math.abs(d-y)<=m,a=Math.abs(l-g)<=m,s=Math.abs(c-b)<=m,o&&(n.position.top=r._convertPositionTo("relative",{top:u,left:0}).top),i&&(n.position.top=r._convertPositionTo("relative",{top:d-r.helperProportions.height,left:0}).top),a&&(n.position.left=r._convertPositionTo("relative",{top:0,left:l}).left),s&&(n.position.left=r._convertPositionTo("relative",{top:0,left:c-r.helperProportions.width}).left)),!r.snapElements[p].snapping&&(o||i||a||s||f)&&r.options.snap.snap&&r.options.snap.snap.call(r.element,t,e.extend(r._uiHash(),{snapItem:r.snapElements[p].item})),r.snapElements[p].snapping=o||i||a||s||f)}}),e.ui.plugin.add("draggable","stack",{start:function(t,n,r){var o,i=r.options,a=e.makeArray(e(i.stack)).sort(function(t,n){return(parseInt(e(t).css("zIndex"),10)||0)-(parseInt(e(n).css("zIndex"),10)||0)});a.length&&(o=parseInt(e(a[0]).css("zIndex"),10)||0,e(a).each(function(t){e(this).css("zIndex",o+t)}),this.css("zIndex",o+a.length))}}),e.ui.plugin.add("draggable","zIndex",{start:function(t,n,r){var o=e(n.helper),i=r.options;o.css("zIndex")&&(i._zIndex=o.css("zIndex")),o.css("zIndex",i.zIndex)},stop:function(t,n,r){var o=r.options;o._zIndex&&e(n.helper).css("zIndex",o._zIndex)}}),e.ui.draggable,e.widget("ui.resizable",e.ui.mouse,{version:"1.12.1",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,classes:{"ui-resizable-se":"ui-icon ui-icon-gripsmall-diagonal-se"},containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(e){return parseFloat(e)||0},_isNumber:function(e){return!isNaN(parseFloat(e))},_hasScroll:function(t,n){if("hidden"===e(t).css("overflow"))return!1;var r,o=n&&"left"===n?"scrollLeft":"scrollTop";return t[o]>0||(t[o]=1,r=t[o]>0,t[o]=0,r)},_create:function(){var t,n=this.options,r=this;this._addClass("ui-resizable"),e.extend(this,{_aspectRatio:!!n.aspectRatio,aspectRatio:n.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:n.helper||n.ghost||n.animate?n.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/^(canvas|textarea|input|select|button|img)$/i)&&(this.element.wrap(e("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.resizable("instance")),this.elementIsWrapper=!0,t={marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom"),marginLeft:this.originalElement.css("marginLeft")},this.element.css(t),this.originalElement.css("margin",0),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css(t),this._proportionallyResize()),this._setupHandles(),n.autoHide&&e(this.element).on("mouseenter",function(){n.disabled||(r._removeClass("ui-resizable-autohide"),r._handles.show())}).on("mouseleave",function(){n.disabled||r.resizing||(r._addClass("ui-resizable-autohide"),r._handles.hide())}),this._mouseInit()},_destroy:function(){this._mouseDestroy();var t,n=function(t){e(t).removeData("resizable").removeData("ui-resizable").off(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(n(this.element),t=this.element,this.originalElement.css({position:t.css("position"),width:t.outerWidth(),height:t.outerHeight(),top:t.css("top"),left:t.css("left")}).insertAfter(t),t.remove()),this.originalElement.css("resize",this.originalResizeStyle),n(this.originalElement),this},_setOption:function(e,t){switch(this._super(e,t),e){case"handles":this._removeHandles(),this._setupHandles()}},_setupHandles:function(){var t,n,r,o,i,a=this.options,s=this;if(this.handles=a.handles||(e(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this._handles=e(),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),r=this.handles.split(","),this.handles={},n=0;n<r.length;n++)o="ui-resizable-"+(t=e.trim(r[n])),i=e("<div>"),this._addClass(i,"ui-resizable-handle "+o),i.css({zIndex:a.zIndex}),this.handles[t]=".ui-resizable-"+t,this.element.append(i);this._renderAxis=function(t){var n,r,o,i;for(n in t=t||this.element,this.handles)this.handles[n].constructor===String?this.handles[n]=this.element.children(this.handles[n]).first().show():(this.handles[n].jquery||this.handles[n].nodeType)&&(this.handles[n]=e(this.handles[n]),this._on(this.handles[n],{mousedown:s._mouseDown})),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/^(textarea|input|select|button)$/i)&&(r=e(this.handles[n],this.element),i=/sw|ne|nw|se|n|s/.test(n)?r.outerHeight():r.outerWidth(),o=["padding",/ne|nw|n/.test(n)?"Top":/se|sw|s/.test(n)?"Bottom":/^e$/.test(n)?"Right":"Left"].join(""),t.css(o,i),this._proportionallyResize()),this._handles=this._handles.add(this.handles[n])},this._renderAxis(this.element),this._handles=this._handles.add(this.element.find(".ui-resizable-handle")),this._handles.disableSelection(),this._handles.on("mouseover",function(){s.resizing||(this.className&&(i=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),s.axis=i&&i[1]?i[1]:"se")}),a.autoHide&&(this._handles.hide(),this._addClass("ui-resizable-autohide"))},_removeHandles:function(){this._handles.remove()},_mouseCapture:function(t){var n,r,o=!1;for(n in this.handles)((r=e(this.handles[n])[0])===t.target||e.contains(r,t.target))&&(o=!0);return!this.options.disabled&&o},_mouseStart:function(t){var n,r,o,i=this.options,a=this.element;return this.resizing=!0,this._renderProxy(),n=this._num(this.helper.css("left")),r=this._num(this.helper.css("top")),i.containment&&(n+=e(i.containment).scrollLeft()||0,r+=e(i.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:n,top:r},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:a.width(),height:a.height()},this.originalSize=this._helper?{width:a.outerWidth(),height:a.outerHeight()}:{width:a.width(),height:a.height()},this.sizeDiff={width:a.outerWidth()-a.width(),height:a.outerHeight()-a.height()},this.originalPosition={left:n,top:r},this.originalMousePosition={left:t.pageX,top:t.pageY},this.aspectRatio="number"==typeof i.aspectRatio?i.aspectRatio:this.originalSize.width/this.originalSize.height||1,o=e(".ui-resizable-"+this.axis).css("cursor"),e("body").css("cursor","auto"===o?this.axis+"-resize":o),this._addClass("ui-resizable-resizing"),this._propagate("start",t),!0},_mouseDrag:function(t){var n,r,o=this.originalMousePosition,i=this.axis,a=t.pageX-o.left||0,s=t.pageY-o.top||0,l=this._change[i];return this._updatePrevProperties(),!!l&&(n=l.apply(this,[t,a,s]),this._updateVirtualBoundaries(t.shiftKey),(this._aspectRatio||t.shiftKey)&&(n=this._updateRatio(n,t)),n=this._respectSize(n,t),this._updateCache(n),this._propagate("resize",t),r=this._applyChanges(),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),e.isEmptyObject(r)||(this._updatePrevProperties(),this._trigger("resize",t,this.ui()),this._applyChanges()),!1)},_mouseStop:function(t){this.resizing=!1;var n,r,o,i,a,s,l,c=this.options;return this._helper&&(o=(r=(n=this._proportionallyResizeElements).length&&/textarea/i.test(n[0].nodeName))&&this._hasScroll(n[0],"left")?0:this.sizeDiff.height,i=r?0:this.sizeDiff.width,a={width:this.helper.width()-i,height:this.helper.height()-o},s=parseFloat(this.element.css("left"))+(this.position.left-this.originalPosition.left)||null,l=parseFloat(this.element.css("top"))+(this.position.top-this.originalPosition.top)||null,c.animate||this.element.css(e.extend(a,{top:l,left:s})),this.helper.height(this.size.height),this.helper.width(this.size.width),this._helper&&!c.animate&&this._proportionallyResize()),e("body").css("cursor","auto"),this._removeClass("ui-resizable-resizing"),this._propagate("stop",t),this._helper&&this.helper.remove(),!1},_updatePrevProperties:function(){this.prevPosition={top:this.position.top,left:this.position.left},this.prevSize={width:this.size.width,height:this.size.height}},_applyChanges:function(){var e={};return this.position.top!==this.prevPosition.top&&(e.top=this.position.top+"px"),this.position.left!==this.prevPosition.left&&(e.left=this.position.left+"px"),this.size.width!==this.prevSize.width&&(e.width=this.size.width+"px"),this.size.height!==this.prevSize.height&&(e.height=this.size.height+"px"),this.helper.css(e),e},_updateVirtualBoundaries:function(e){var t,n,r,o,i,a=this.options;i={minWidth:this._isNumber(a.minWidth)?a.minWidth:0,maxWidth:this._isNumber(a.maxWidth)?a.maxWidth:1/0,minHeight:this._isNumber(a.minHeight)?a.minHeight:0,maxHeight:this._isNumber(a.maxHeight)?a.maxHeight:1/0},(this._aspectRatio||e)&&(t=i.minHeight*this.aspectRatio,r=i.minWidth/this.aspectRatio,n=i.maxHeight*this.aspectRatio,o=i.maxWidth/this.aspectRatio,t>i.minWidth&&(i.minWidth=t),r>i.minHeight&&(i.minHeight=r),n<i.maxWidth&&(i.maxWidth=n),o<i.maxHeight&&(i.maxHeight=o)),this._vBoundaries=i},_updateCache:function(e){this.offset=this.helper.offset(),this._isNumber(e.left)&&(this.position.left=e.left),this._isNumber(e.top)&&(this.position.top=e.top),this._isNumber(e.height)&&(this.size.height=e.height),this._isNumber(e.width)&&(this.size.width=e.width)},_updateRatio:function(e){var t=this.position,n=this.size,r=this.axis;return this._isNumber(e.height)?e.width=e.height*this.aspectRatio:this._isNumber(e.width)&&(e.height=e.width/this.aspectRatio),"sw"===r&&(e.left=t.left+(n.width-e.width),e.top=null),"nw"===r&&(e.top=t.top+(n.height-e.height),e.left=t.left+(n.width-e.width)),e},_respectSize:function(e){var t=this._vBoundaries,n=this.axis,r=this._isNumber(e.width)&&t.maxWidth&&t.maxWidth<e.width,o=this._isNumber(e.height)&&t.maxHeight&&t.maxHeight<e.height,i=this._isNumber(e.width)&&t.minWidth&&t.minWidth>e.width,a=this._isNumber(e.height)&&t.minHeight&&t.minHeight>e.height,s=this.originalPosition.left+this.originalSize.width,l=this.originalPosition.top+this.originalSize.height,c=/sw|nw|w/.test(n),u=/nw|ne|n/.test(n);return i&&(e.width=t.minWidth),a&&(e.height=t.minHeight),r&&(e.width=t.maxWidth),o&&(e.height=t.maxHeight),i&&c&&(e.left=s-t.minWidth),r&&c&&(e.left=s-t.maxWidth),a&&u&&(e.top=l-t.minHeight),o&&u&&(e.top=l-t.maxHeight),e.width||e.height||e.left||!e.top?e.width||e.height||e.top||!e.left||(e.left=null):e.top=null,e},_getPaddingPlusBorderDimensions:function(e){for(var t=0,n=[],r=[e.css("borderTopWidth"),e.css("borderRightWidth"),e.css("borderBottomWidth"),e.css("borderLeftWidth")],o=[e.css("paddingTop"),e.css("paddingRight"),e.css("paddingBottom"),e.css("paddingLeft")];t<4;t++)n[t]=parseFloat(r[t])||0,n[t]+=parseFloat(o[t])||0;return{height:n[0]+n[2],width:n[1]+n[3]}},_proportionallyResize:function(){if(this._proportionallyResizeElements.length)for(var e,t=0,n=this.helper||this.element;t<this._proportionallyResizeElements.length;t++)e=this._proportionallyResizeElements[t],this.outerDimensions||(this.outerDimensions=this._getPaddingPlusBorderDimensions(e)),e.css({height:n.height()-this.outerDimensions.height||0,width:n.width()-this.outerDimensions.width||0})},_renderProxy:function(){var t=this.element,n=this.options;this.elementOffset=t.offset(),this._helper?(this.helper=this.helper||e("<div style='overflow:hidden;'></div>"),this._addClass(this.helper,this._helper),this.helper.css({width:this.element.outerWidth(),height:this.element.outerHeight(),position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++n.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(e,t){return{width:this.originalSize.width+t}},w:function(e,t){var n=this.originalSize;return{left:this.originalPosition.left+t,width:n.width-t}},n:function(e,t,n){var r=this.originalSize;return{top:this.originalPosition.top+n,height:r.height-n}},s:function(e,t,n){return{height:this.originalSize.height+n}},se:function(t,n,r){return e.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[t,n,r]))},sw:function(t,n,r){return e.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[t,n,r]))},ne:function(t,n,r){return e.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[t,n,r]))},nw:function(t,n,r){return e.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[t,n,r]))}},_propagate:function(t,n){e.ui.plugin.call(this,t,[n,this.ui()]),"resize"!==t&&this._trigger(t,n,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),e.ui.plugin.add("resizable","animate",{stop:function(t){var n=e(this).resizable("instance"),r=n.options,o=n._proportionallyResizeElements,i=o.length&&/textarea/i.test(o[0].nodeName),a=i&&n._hasScroll(o[0],"left")?0:n.sizeDiff.height,s=i?0:n.sizeDiff.width,l={width:n.size.width-s,height:n.size.height-a},c=parseFloat(n.element.css("left"))+(n.position.left-n.originalPosition.left)||null,u=parseFloat(n.element.css("top"))+(n.position.top-n.originalPosition.top)||null;n.element.animate(e.extend(l,u&&c?{top:u,left:c}:{}),{duration:r.animateDuration,easing:r.animateEasing,step:function(){var r={width:parseFloat(n.element.css("width")),height:parseFloat(n.element.css("height")),top:parseFloat(n.element.css("top")),left:parseFloat(n.element.css("left"))};o&&o.length&&e(o[0]).css({width:r.width,height:r.height}),n._updateCache(r),n._propagate("resize",t)}})}}),e.ui.plugin.add("resizable","containment",{start:function(){var t,n,r,o,i,a,s,l=e(this).resizable("instance"),c=l.options,u=l.element,d=c.containment,p=d instanceof e?d.get(0):/parent/.test(d)?u.parent().get(0):d;p&&(l.containerElement=e(p),/document/.test(d)||d===document?(l.containerOffset={left:0,top:0},l.containerPosition={left:0,top:0},l.parentData={element:e(document),left:0,top:0,width:e(document).width(),height:e(document).height()||document.body.parentNode.scrollHeight}):(t=e(p),n=[],e(["Top","Right","Left","Bottom"]).each(function(e,r){n[e]=l._num(t.css("padding"+r))}),l.containerOffset=t.offset(),l.containerPosition=t.position(),l.containerSize={height:t.innerHeight()-n[3],width:t.innerWidth()-n[1]},r=l.containerOffset,o=l.containerSize.height,i=l.containerSize.width,a=l._hasScroll(p,"left")?p.scrollWidth:i,s=l._hasScroll(p)?p.scrollHeight:o,l.parentData={element:p,left:r.left,top:r.top,width:a,height:s}))},resize:function(t){var n,r,o,i,a=e(this).resizable("instance"),s=a.options,l=a.containerOffset,c=a.position,u=a._aspectRatio||t.shiftKey,d={top:0,left:0},p=a.containerElement,f=!0;p[0]!==document&&/static/.test(p.css("position"))&&(d=l),c.left<(a._helper?l.left:0)&&(a.size.width=a.size.width+(a._helper?a.position.left-l.left:a.position.left-d.left),u&&(a.size.height=a.size.width/a.aspectRatio,f=!1),a.position.left=s.helper?l.left:0),c.top<(a._helper?l.top:0)&&(a.size.height=a.size.height+(a._helper?a.position.top-l.top:a.position.top),u&&(a.size.width=a.size.height*a.aspectRatio,f=!1),a.position.top=a._helper?l.top:0),o=a.containerElement.get(0)===a.element.parent().get(0),i=/relative|absolute/.test(a.containerElement.css("position")),o&&i?(a.offset.left=a.parentData.left+a.position.left,a.offset.top=a.parentData.top+a.position.top):(a.offset.left=a.element.offset().left,a.offset.top=a.element.offset().top),n=Math.abs(a.sizeDiff.width+(a._helper?a.offset.left-d.left:a.offset.left-l.left)),r=Math.abs(a.sizeDiff.height+(a._helper?a.offset.top-d.top:a.offset.top-l.top)),n+a.size.width>=a.parentData.width&&(a.size.width=a.parentData.width-n,u&&(a.size.height=a.size.width/a.aspectRatio,f=!1)),r+a.size.height>=a.parentData.height&&(a.size.height=a.parentData.height-r,u&&(a.size.width=a.size.height*a.aspectRatio,f=!1)),f||(a.position.left=a.prevPosition.left,a.position.top=a.prevPosition.top,a.size.width=a.prevSize.width,a.size.height=a.prevSize.height)},stop:function(){var t=e(this).resizable("instance"),n=t.options,r=t.containerOffset,o=t.containerPosition,i=t.containerElement,a=e(t.helper),s=a.offset(),l=a.outerWidth()-t.sizeDiff.width,c=a.outerHeight()-t.sizeDiff.height;t._helper&&!n.animate&&/relative/.test(i.css("position"))&&e(this).css({left:s.left-o.left-r.left,width:l,height:c}),t._helper&&!n.animate&&/static/.test(i.css("position"))&&e(this).css({left:s.left-o.left-r.left,width:l,height:c})}}),e.ui.plugin.add("resizable","alsoResize",{start:function(){var t=e(this).resizable("instance").options;e(t.alsoResize).each(function(){var t=e(this);t.data("ui-resizable-alsoresize",{width:parseFloat(t.width()),height:parseFloat(t.height()),left:parseFloat(t.css("left")),top:parseFloat(t.css("top"))})})},resize:function(t,n){var r=e(this).resizable("instance"),o=r.options,i=r.originalSize,a=r.originalPosition,s={height:r.size.height-i.height||0,width:r.size.width-i.width||0,top:r.position.top-a.top||0,left:r.position.left-a.left||0};e(o.alsoResize).each(function(){var t=e(this),r=e(this).data("ui-resizable-alsoresize"),o={},i=t.parents(n.originalElement[0]).length?["width","height"]:["width","height","top","left"];e.each(i,function(e,t){var n=(r[t]||0)+(s[t]||0);n&&n>=0&&(o[t]=n||null)}),t.css(o)})},stop:function(){e(this).removeData("ui-resizable-alsoresize")}}),e.ui.plugin.add("resizable","ghost",{start:function(){var t=e(this).resizable("instance"),n=t.size;t.ghost=t.originalElement.clone(),t.ghost.css({opacity:.25,display:"block",position:"relative",height:n.height,width:n.width,margin:0,left:0,top:0}),t._addClass(t.ghost,"ui-resizable-ghost"),!1!==e.uiBackCompat&&"string"==typeof t.options.ghost&&t.ghost.addClass(this.options.ghost),t.ghost.appendTo(t.helper)},resize:function(){var t=e(this).resizable("instance");t.ghost&&t.ghost.css({position:"relative",height:t.size.height,width:t.size.width})},stop:function(){var t=e(this).resizable("instance");t.ghost&&t.helper&&t.helper.get(0).removeChild(t.ghost.get(0))}}),e.ui.plugin.add("resizable","grid",{resize:function(){var t,n=e(this).resizable("instance"),r=n.options,o=n.size,i=n.originalSize,a=n.originalPosition,s=n.axis,l="number"==typeof r.grid?[r.grid,r.grid]:r.grid,c=l[0]||1,u=l[1]||1,d=Math.round((o.width-i.width)/c)*c,p=Math.round((o.height-i.height)/u)*u,f=i.width+d,h=i.height+p,m=r.maxWidth&&r.maxWidth<f,g=r.maxHeight&&r.maxHeight<h,b=r.minWidth&&r.minWidth>f,v=r.minHeight&&r.minHeight>h;r.grid=l,b&&(f+=c),v&&(h+=u),m&&(f-=c),g&&(h-=u),/^(se|s|e)$/.test(s)?(n.size.width=f,n.size.height=h):/^(ne)$/.test(s)?(n.size.width=f,n.size.height=h,n.position.top=a.top-p):/^(sw)$/.test(s)?(n.size.width=f,n.size.height=h,n.position.left=a.left-d):((h-u<=0||f-c<=0)&&(t=n._getPaddingPlusBorderDimensions(this)),h-u>0?(n.size.height=h,n.position.top=a.top-p):(h=u-t.height,n.size.height=h,n.position.top=a.top+i.height-h),f-c>0?(n.size.width=f,n.position.left=a.left-d):(f=c-t.width,n.size.width=f,n.position.left=a.left+i.width-f))}}),e.ui.resizable,e.widget("ui.dialog",{version:"1.12.1",options:{appendTo:"body",autoOpen:!0,buttons:[],classes:{"ui-dialog":"ui-corner-all","ui-dialog-titlebar":"ui-corner-all"},closeOnEscape:!0,closeText:"Close",draggable:!0,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(t){var n=e(this).css(t).offset().top;n<0&&e(this).css("top",t.top-n)}},resizable:!0,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},sizeRelatedOptions:{buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},resizableRelatedOptions:{maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height},this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)},this.originalTitle=this.element.attr("title"),null==this.options.title&&null!=this.originalTitle&&(this.options.title=this.originalTitle),this.options.disabled&&(this.options.disabled=!1),this._createWrapper(),this.element.show().removeAttr("title").appendTo(this.uiDialog),this._addClass("ui-dialog-content","ui-widget-content"),this._createTitlebar(),this._createButtonPane(),this.options.draggable&&e.fn.draggable&&this._makeDraggable(),this.options.resizable&&e.fn.resizable&&this._makeResizable(),this._isOpen=!1,this._trackFocus()},_init:function(){this.options.autoOpen&&this.open()},_appendTo:function(){var t=this.options.appendTo;return t&&(t.jquery||t.nodeType)?e(t):this.document.find(t||"body").eq(0)},_destroy:function(){var e,t=this.originalPosition;this._untrackInstance(),this._destroyOverlay(),this.element.removeUniqueId().css(this.originalCss).detach(),this.uiDialog.remove(),this.originalTitle&&this.element.attr("title",this.originalTitle),(e=t.parent.children().eq(t.index)).length&&e[0]!==this.element[0]?e.before(this.element):t.parent.append(this.element)},widget:function(){return this.uiDialog},disable:e.noop,enable:e.noop,close:function(t){var n=this;this._isOpen&&!1!==this._trigger("beforeClose",t)&&(this._isOpen=!1,this._focusedElement=null,this._destroyOverlay(),this._untrackInstance(),this.opener.filter(":focusable").trigger("focus").length||e.ui.safeBlur(e.ui.safeActiveElement(this.document[0])),this._hide(this.uiDialog,this.options.hide,function(){n._trigger("close",t)}))},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(t,n){var r=!1,o=this.uiDialog.siblings(".ui-front:visible").map(function(){return+e(this).css("z-index")}).get(),i=Math.max.apply(null,o);return i>=+this.uiDialog.css("z-index")&&(this.uiDialog.css("z-index",i+1),r=!0),r&&!n&&this._trigger("focus",t),r},open:function(){var t=this;this._isOpen?this._moveToTop()&&this._focusTabbable():(this._isOpen=!0,this.opener=e(e.ui.safeActiveElement(this.document[0])),this._size(),this._position(),this._createOverlay(),this._moveToTop(null,!0),this.overlay&&this.overlay.css("z-index",this.uiDialog.css("z-index")-1),this._show(this.uiDialog,this.options.show,function(){t._focusTabbable(),t._trigger("focus")}),this._makeFocusTarget(),this._trigger("open"))},_focusTabbable:function(){var e=this._focusedElement;e||(e=this.element.find("[autofocus]")),e.length||(e=this.element.find(":tabbable")),e.length||(e=this.uiDialogButtonPane.find(":tabbable")),e.length||(e=this.uiDialogTitlebarClose.filter(":tabbable")),e.length||(e=this.uiDialog),e.eq(0).trigger("focus")},_keepFocus:function(t){function n(){var t=e.ui.safeActiveElement(this.document[0]);this.uiDialog[0]===t||e.contains(this.uiDialog[0],t)||this._focusTabbable()}t.preventDefault(),n.call(this),this._delay(n)},_createWrapper:function(){this.uiDialog=e("<div>").hide().attr({tabIndex:-1,role:"dialog"}).appendTo(this._appendTo()),this._addClass(this.uiDialog,"ui-dialog","ui-widget ui-widget-content ui-front"),this._on(this.uiDialog,{keydown:function(t){if(this.options.closeOnEscape&&!t.isDefaultPrevented()&&t.keyCode&&t.keyCode===e.ui.keyCode.ESCAPE)return t.preventDefault(),void this.close(t);if(t.keyCode===e.ui.keyCode.TAB&&!t.isDefaultPrevented()){var n=this.uiDialog.find(":tabbable"),r=n.filter(":first"),o=n.filter(":last");t.target!==o[0]&&t.target!==this.uiDialog[0]||t.shiftKey?t.target!==r[0]&&t.target!==this.uiDialog[0]||!t.shiftKey||(this._delay(function(){o.trigger("focus")}),t.preventDefault()):(this._delay(function(){r.trigger("focus")}),t.preventDefault())}},mousedown:function(e){this._moveToTop(e)&&this._focusTabbable()}}),this.element.find("[aria-describedby]").length||this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})},_createTitlebar:function(){var t;this.uiDialogTitlebar=e("<div>"),this._addClass(this.uiDialogTitlebar,"ui-dialog-titlebar","ui-widget-header ui-helper-clearfix"),this._on(this.uiDialogTitlebar,{mousedown:function(t){e(t.target).closest(".ui-dialog-titlebar-close")||this.uiDialog.trigger("focus")}}),this.uiDialogTitlebarClose=e("<button type='button'></button>").button({label:e("<a>").text(this.options.closeText).html(),icon:"ui-icon-closethick",showLabel:!1}).appendTo(this.uiDialogTitlebar),this._addClass(this.uiDialogTitlebarClose,"ui-dialog-titlebar-close"),this._on(this.uiDialogTitlebarClose,{click:function(e){e.preventDefault(),this.close(e)}}),t=e("<span>").uniqueId().prependTo(this.uiDialogTitlebar),this._addClass(t,"ui-dialog-title"),this._title(t),this.uiDialogTitlebar.prependTo(this.uiDialog),this.uiDialog.attr({"aria-labelledby":t.attr("id")})},_title:function(e){this.options.title?e.text(this.options.title):e.html("&#160;")},_createButtonPane:function(){this.uiDialogButtonPane=e("<div>"),this._addClass(this.uiDialogButtonPane,"ui-dialog-buttonpane","ui-widget-content ui-helper-clearfix"),this.uiButtonSet=e("<div>").appendTo(this.uiDialogButtonPane),this._addClass(this.uiButtonSet,"ui-dialog-buttonset"),this._createButtons()},_createButtons:function(){var t=this,n=this.options.buttons;this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),e.isEmptyObject(n)||e.isArray(n)&&!n.length?this._removeClass(this.uiDialog,"ui-dialog-buttons"):(e.each(n,function(n,r){var o,i;r=e.isFunction(r)?{click:r,text:n}:r,r=e.extend({type:"button"},r),o=r.click,i={icon:r.icon,iconPosition:r.iconPosition,showLabel:r.showLabel,icons:r.icons,text:r.text},delete r.click,delete r.icon,delete r.iconPosition,delete r.showLabel,delete r.icons,"boolean"==typeof r.text&&delete r.text,e("<button></button>",r).button(i).appendTo(t.uiButtonSet).on("click",function(){o.apply(t.element[0],arguments)})}),this._addClass(this.uiDialog,"ui-dialog-buttons"),this.uiDialogButtonPane.appendTo(this.uiDialog))},_makeDraggable:function(){var t=this,n=this.options;function r(e){return{position:e.position,offset:e.offset}}this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(n,o){t._addClass(e(this),"ui-dialog-dragging"),t._blockFrames(),t._trigger("dragStart",n,r(o))},drag:function(e,n){t._trigger("drag",e,r(n))},stop:function(o,i){var a=i.offset.left-t.document.scrollLeft(),s=i.offset.top-t.document.scrollTop();n.position={my:"left top",at:"left"+(a>=0?"+":"")+a+" top"+(s>=0?"+":"")+s,of:t.window},t._removeClass(e(this),"ui-dialog-dragging"),t._unblockFrames(),t._trigger("dragStop",o,r(i))}})},_makeResizable:function(){var t=this,n=this.options,r=n.resizable,o=this.uiDialog.css("position"),i="string"==typeof r?r:"n,e,s,w,se,sw,ne,nw";function a(e){return{originalPosition:e.originalPosition,originalSize:e.originalSize,position:e.position,size:e.size}}this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:n.maxWidth,maxHeight:n.maxHeight,minWidth:n.minWidth,minHeight:this._minHeight(),handles:i,start:function(n,r){t._addClass(e(this),"ui-dialog-resizing"),t._blockFrames(),t._trigger("resizeStart",n,a(r))},resize:function(e,n){t._trigger("resize",e,a(n))},stop:function(r,o){var i=t.uiDialog.offset(),s=i.left-t.document.scrollLeft(),l=i.top-t.document.scrollTop();n.height=t.uiDialog.height(),n.width=t.uiDialog.width(),n.position={my:"left top",at:"left"+(s>=0?"+":"")+s+" top"+(l>=0?"+":"")+l,of:t.window},t._removeClass(e(this),"ui-dialog-resizing"),t._unblockFrames(),t._trigger("resizeStop",r,a(o))}}).css("position",o)},_trackFocus:function(){this._on(this.widget(),{focusin:function(t){this._makeFocusTarget(),this._focusedElement=e(t.target)}})},_makeFocusTarget:function(){this._untrackInstance(),this._trackingInstances().unshift(this)},_untrackInstance:function(){var t=this._trackingInstances(),n=e.inArray(this,t);-1!==n&&t.splice(n,1)},_trackingInstances:function(){var e=this.document.data("ui-dialog-instances");return e||(e=[],this.document.data("ui-dialog-instances",e)),e},_minHeight:function(){var e=this.options;return"auto"===e.height?e.minHeight:Math.min(e.minHeight,e.height)},_position:function(){var e=this.uiDialog.is(":visible");e||this.uiDialog.show(),this.uiDialog.position(this.options.position),e||this.uiDialog.hide()},_setOptions:function(t){var n=this,r=!1,o={};e.each(t,function(e,t){n._setOption(e,t),e in n.sizeRelatedOptions&&(r=!0),e in n.resizableRelatedOptions&&(o[e]=t)}),r&&(this._size(),this._position()),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option",o)},_setOption:function(t,n){var r,o,i=this.uiDialog;"disabled"!==t&&(this._super(t,n),"appendTo"===t&&this.uiDialog.appendTo(this._appendTo()),"buttons"===t&&this._createButtons(),"closeText"===t&&this.uiDialogTitlebarClose.button({label:e("<a>").text(""+this.options.closeText).html()}),"draggable"===t&&((r=i.is(":data(ui-draggable)"))&&!n&&i.draggable("destroy"),!r&&n&&this._makeDraggable()),"position"===t&&this._position(),"resizable"===t&&((o=i.is(":data(ui-resizable)"))&&!n&&i.resizable("destroy"),o&&"string"==typeof n&&i.resizable("option","handles",n),o||!1===n||this._makeResizable()),"title"===t&&this._title(this.uiDialogTitlebar.find(".ui-dialog-title")))},_size:function(){var e,t,n,r=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0}),r.minWidth>r.width&&(r.width=r.minWidth),e=this.uiDialog.css({height:"auto",width:r.width}).outerHeight(),t=Math.max(0,r.minHeight-e),n="number"==typeof r.maxHeight?Math.max(0,r.maxHeight-e):"none","auto"===r.height?this.element.css({minHeight:t,maxHeight:n,height:"auto"}):this.element.height(Math.max(0,r.height-e)),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map(function(){var t=e(this);return e("<div>").css({position:"absolute",width:t.outerWidth(),height:t.outerHeight()}).appendTo(t.parent()).offset(t.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_allowInteraction:function(t){return!!e(t.target).closest(".ui-dialog").length||!!e(t.target).closest(".ui-datepicker").length},_createOverlay:function(){if(this.options.modal){var t=!0;this._delay(function(){t=!1}),this.document.data("ui-dialog-overlays")||this._on(this.document,{focusin:function(e){t||this._allowInteraction(e)||(e.preventDefault(),this._trackingInstances()[0]._focusTabbable())}}),this.overlay=e("<div>").appendTo(this._appendTo()),this._addClass(this.overlay,null,"ui-widget-overlay ui-front"),this._on(this.overlay,{mousedown:"_keepFocus"}),this.document.data("ui-dialog-overlays",(this.document.data("ui-dialog-overlays")||0)+1)}},_destroyOverlay:function(){if(this.options.modal&&this.overlay){var e=this.document.data("ui-dialog-overlays")-1;e?this.document.data("ui-dialog-overlays",e):(this._off(this.document,"focusin"),this.document.removeData("ui-dialog-overlays")),this.overlay.remove(),this.overlay=null}}}),!1!==e.uiBackCompat&&e.widget("ui.dialog",e.ui.dialog,{options:{dialogClass:""},_createWrapper:function(){this._super(),this.uiDialog.addClass(this.options.dialogClass)},_setOption:function(e,t){"dialogClass"===e&&this.uiDialog.removeClass(this.options.dialogClass).addClass(t),this._superApply(arguments)}}),e.ui.dialog,e.widget("ui.droppable",{version:"1.12.1",widgetEventPrefix:"drop",options:{accept:"*",addClasses:!0,greedy:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var t,n=this.options,r=n.accept;this.isover=!1,this.isout=!0,this.accept=e.isFunction(r)?r:function(e){return e.is(r)},this.proportions=function(){if(!arguments.length)return t||(t={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight});t=arguments[0]},this._addToManager(n.scope),n.addClasses&&this._addClass("ui-droppable")},_addToManager:function(t){e.ui.ddmanager.droppables[t]=e.ui.ddmanager.droppables[t]||[],e.ui.ddmanager.droppables[t].push(this)},_splice:function(e){for(var t=0;t<e.length;t++)e[t]===this&&e.splice(t,1)},_destroy:function(){var t=e.ui.ddmanager.droppables[this.options.scope];this._splice(t)},_setOption:function(t,n){if("accept"===t)this.accept=e.isFunction(n)?n:function(e){return e.is(n)};else if("scope"===t){var r=e.ui.ddmanager.droppables[this.options.scope];this._splice(r),this._addToManager(n)}this._super(t,n)},_activate:function(t){var n=e.ui.ddmanager.current;this._addActiveClass(),n&&this._trigger("activate",t,this.ui(n))},_deactivate:function(t){var n=e.ui.ddmanager.current;this._removeActiveClass(),n&&this._trigger("deactivate",t,this.ui(n))},_over:function(t){var n=e.ui.ddmanager.current;n&&(n.currentItem||n.element)[0]!==this.element[0]&&this.accept.call(this.element[0],n.currentItem||n.element)&&(this._addHoverClass(),this._trigger("over",t,this.ui(n)))},_out:function(t){var n=e.ui.ddmanager.current;n&&(n.currentItem||n.element)[0]!==this.element[0]&&this.accept.call(this.element[0],n.currentItem||n.element)&&(this._removeHoverClass(),this._trigger("out",t,this.ui(n)))},_drop:function(t,n){var r=n||e.ui.ddmanager.current,o=!1;return!(!r||(r.currentItem||r.element)[0]===this.element[0])&&(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var n=e(this).droppable("instance");if(n.options.greedy&&!n.options.disabled&&n.options.scope===r.options.scope&&n.accept.call(n.element[0],r.currentItem||r.element)&&p(r,e.extend(n,{offset:n.element.offset()}),n.options.tolerance,t))return o=!0,!1}),!o&&!!this.accept.call(this.element[0],r.currentItem||r.element)&&(this._removeActiveClass(),this._removeHoverClass(),this._trigger("drop",t,this.ui(r)),this.element))},ui:function(e){return{draggable:e.currentItem||e.element,helper:e.helper,position:e.position,offset:e.positionAbs}},_addHoverClass:function(){this._addClass("ui-droppable-hover")},_removeHoverClass:function(){this._removeClass("ui-droppable-hover")},_addActiveClass:function(){this._addClass("ui-droppable-active")},_removeActiveClass:function(){this._removeClass("ui-droppable-active")}});var p=e.ui.intersect=function(){function e(e,t,n){return e>=t&&e<t+n}return function(t,n,r,o){if(!n.offset)return!1;var i=(t.positionAbs||t.position.absolute).left+t.margins.left,a=(t.positionAbs||t.position.absolute).top+t.margins.top,s=i+t.helperProportions.width,l=a+t.helperProportions.height,c=n.offset.left,u=n.offset.top,d=c+n.proportions().width,p=u+n.proportions().height;switch(r){case"fit":return c<=i&&s<=d&&u<=a&&l<=p;case"intersect":return c<i+t.helperProportions.width/2&&s-t.helperProportions.width/2<d&&u<a+t.helperProportions.height/2&&l-t.helperProportions.height/2<p;case"pointer":return e(o.pageY,u,n.proportions().height)&&e(o.pageX,c,n.proportions().width);case"touch":return(a>=u&&a<=p||l>=u&&l<=p||a<u&&l>p)&&(i>=c&&i<=d||s>=c&&s<=d||i<c&&s>d);default:return!1}}}();function f(e){return function(){var t=this.element.val();e.apply(this,arguments),this._refresh(),t!==this.element.val()&&this._trigger("change")}}e.ui.ddmanager={current:null,droppables:{default:[]},prepareOffsets:function(t,n){var r,o,i=e.ui.ddmanager.droppables[t.options.scope]||[],a=n?n.type:null,s=(t.currentItem||t.element).find(":data(ui-droppable)").addBack();e:for(r=0;r<i.length;r++)if(!(i[r].options.disabled||t&&!i[r].accept.call(i[r].element[0],t.currentItem||t.element))){for(o=0;o<s.length;o++)if(s[o]===i[r].element[0]){i[r].proportions().height=0;continue e}i[r].visible="none"!==i[r].element.css("display"),i[r].visible&&("mousedown"===a&&i[r]._activate.call(i[r],n),i[r].offset=i[r].element.offset(),i[r].proportions({width:i[r].element[0].offsetWidth,height:i[r].element[0].offsetHeight}))}},drop:function(t,n){var r=!1;return e.each((e.ui.ddmanager.droppables[t.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&p(t,this,this.options.tolerance,n)&&(r=this._drop.call(this,n)||r),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],t.currentItem||t.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,n)))}),r},dragStart:function(t,n){t.element.parentsUntil("body").on("scroll.droppable",function(){t.options.refreshPositions||e.ui.ddmanager.prepareOffsets(t,n)})},drag:function(t,n){t.options.refreshPositions&&e.ui.ddmanager.prepareOffsets(t,n),e.each(e.ui.ddmanager.droppables[t.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var r,o,i,a=p(t,this,this.options.tolerance,n),s=!a&&this.isover?"isout":a&&!this.isover?"isover":null;s&&(this.options.greedy&&(o=this.options.scope,(i=this.element.parents(":data(ui-droppable)").filter(function(){return e(this).droppable("instance").options.scope===o})).length&&((r=e(i[0]).droppable("instance")).greedyChild="isover"===s)),r&&"isover"===s&&(r.isover=!1,r.isout=!0,r._out.call(r,n)),this[s]=!0,this["isout"===s?"isover":"isout"]=!1,this["isover"===s?"_over":"_out"].call(this,n),r&&"isout"===s&&(r.isout=!1,r.isover=!0,r._over.call(r,n)))}})},dragStop:function(t,n){t.element.parentsUntil("body").off("scroll.droppable"),t.options.refreshPositions||e.ui.ddmanager.prepareOffsets(t,n)}},!1!==e.uiBackCompat&&e.widget("ui.droppable",e.ui.droppable,{options:{hoverClass:!1,activeClass:!1},_addActiveClass:function(){this._super(),this.options.activeClass&&this.element.addClass(this.options.activeClass)},_removeActiveClass:function(){this._super(),this.options.activeClass&&this.element.removeClass(this.options.activeClass)},_addHoverClass:function(){this._super(),this.options.hoverClass&&this.element.addClass(this.options.hoverClass)},_removeHoverClass:function(){this._super(),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass)}}),e.ui.droppable,e.widget("ui.progressbar",{version:"1.12.1",options:{classes:{"ui-progressbar":"ui-corner-all","ui-progressbar-value":"ui-corner-left","ui-progressbar-complete":"ui-corner-right"},max:100,value:0,change:null,complete:null},min:0,_create:function(){this.oldValue=this.options.value=this._constrainedValue(),this.element.attr({role:"progressbar","aria-valuemin":this.min}),this._addClass("ui-progressbar","ui-widget ui-widget-content"),this.valueDiv=e("<div>").appendTo(this.element),this._addClass(this.valueDiv,"ui-progressbar-value","ui-widget-header"),this._refreshValue()},_destroy:function(){this.element.removeAttr("role aria-valuemin aria-valuemax aria-valuenow"),this.valueDiv.remove()},value:function(e){if(void 0===e)return this.options.value;this.options.value=this._constrainedValue(e),this._refreshValue()},_constrainedValue:function(e){return void 0===e&&(e=this.options.value),this.indeterminate=!1===e,"number"!=typeof e&&(e=0),!this.indeterminate&&Math.min(this.options.max,Math.max(this.min,e))},_setOptions:function(e){var t=e.value;delete e.value,this._super(e),this.options.value=this._constrainedValue(t),this._refreshValue()},_setOption:function(e,t){"max"===e&&(t=Math.max(this.min,t)),this._super(e,t)},_setOptionDisabled:function(e){this._super(e),this.element.attr("aria-disabled",e),this._toggleClass(null,"ui-state-disabled",!!e)},_percentage:function(){return this.indeterminate?100:100*(this.options.value-this.min)/(this.options.max-this.min)},_refreshValue:function(){var t=this.options.value,n=this._percentage();this.valueDiv.toggle(this.indeterminate||t>this.min).width(n.toFixed(0)+"%"),this._toggleClass(this.valueDiv,"ui-progressbar-complete",null,t===this.options.max)._toggleClass("ui-progressbar-indeterminate",null,this.indeterminate),this.indeterminate?(this.element.removeAttr("aria-valuenow"),this.overlayDiv||(this.overlayDiv=e("<div>").appendTo(this.valueDiv),this._addClass(this.overlayDiv,"ui-progressbar-overlay"))):(this.element.attr({"aria-valuemax":this.options.max,"aria-valuenow":t}),this.overlayDiv&&(this.overlayDiv.remove(),this.overlayDiv=null)),this.oldValue!==t&&(this.oldValue=t,this._trigger("change")),t===this.options.max&&this._trigger("complete")}}),e.widget("ui.selectable",e.ui.mouse,{version:"1.12.1",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var t=this;this._addClass("ui-selectable"),this.dragged=!1,this.refresh=function(){t.elementPos=e(t.element[0]).offset(),t.selectees=e(t.options.filter,t.element[0]),t._addClass(t.selectees,"ui-selectee"),t.selectees.each(function(){var n=e(this),r=n.offset(),o={left:r.left-t.elementPos.left,top:r.top-t.elementPos.top};e.data(this,"selectable-item",{element:this,$element:n,left:o.left,top:o.top,right:o.left+n.outerWidth(),bottom:o.top+n.outerHeight(),startselected:!1,selected:n.hasClass("ui-selected"),selecting:n.hasClass("ui-selecting"),unselecting:n.hasClass("ui-unselecting")})})},this.refresh(),this._mouseInit(),this.helper=e("<div>"),this._addClass(this.helper,"ui-selectable-helper")},_destroy:function(){this.selectees.removeData("selectable-item"),this._mouseDestroy()},_mouseStart:function(t){var n=this,r=this.options;this.opos=[t.pageX,t.pageY],this.elementPos=e(this.element[0]).offset(),this.options.disabled||(this.selectees=e(r.filter,this.element[0]),this._trigger("start",t),e(r.appendTo).append(this.helper),this.helper.css({left:t.pageX,top:t.pageY,width:0,height:0}),r.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var r=e.data(this,"selectable-item");r.startselected=!0,t.metaKey||t.ctrlKey||(n._removeClass(r.$element,"ui-selected"),r.selected=!1,n._addClass(r.$element,"ui-unselecting"),r.unselecting=!0,n._trigger("unselecting",t,{unselecting:r.element}))}),e(t.target).parents().addBack().each(function(){var r,o=e.data(this,"selectable-item");if(o)return r=!t.metaKey&&!t.ctrlKey||!o.$element.hasClass("ui-selected"),n._removeClass(o.$element,r?"ui-unselecting":"ui-selected")._addClass(o.$element,r?"ui-selecting":"ui-unselecting"),o.unselecting=!r,o.selecting=r,o.selected=r,r?n._trigger("selecting",t,{selecting:o.element}):n._trigger("unselecting",t,{unselecting:o.element}),!1}))},_mouseDrag:function(t){if(this.dragged=!0,!this.options.disabled){var n,r=this,o=this.options,i=this.opos[0],a=this.opos[1],s=t.pageX,l=t.pageY;return i>s&&(n=s,s=i,i=n),a>l&&(n=l,l=a,a=n),this.helper.css({left:i,top:a,width:s-i,height:l-a}),this.selectees.each(function(){var n=e.data(this,"selectable-item"),c=!1,u={};n&&n.element!==r.element[0]&&(u.left=n.left+r.elementPos.left,u.right=n.right+r.elementPos.left,u.top=n.top+r.elementPos.top,u.bottom=n.bottom+r.elementPos.top,"touch"===o.tolerance?c=!(u.left>s||u.right<i||u.top>l||u.bottom<a):"fit"===o.tolerance&&(c=u.left>i&&u.right<s&&u.top>a&&u.bottom<l),c?(n.selected&&(r._removeClass(n.$element,"ui-selected"),n.selected=!1),n.unselecting&&(r._removeClass(n.$element,"ui-unselecting"),n.unselecting=!1),n.selecting||(r._addClass(n.$element,"ui-selecting"),n.selecting=!0,r._trigger("selecting",t,{selecting:n.element}))):(n.selecting&&((t.metaKey||t.ctrlKey)&&n.startselected?(r._removeClass(n.$element,"ui-selecting"),n.selecting=!1,r._addClass(n.$element,"ui-selected"),n.selected=!0):(r._removeClass(n.$element,"ui-selecting"),n.selecting=!1,n.startselected&&(r._addClass(n.$element,"ui-unselecting"),n.unselecting=!0),r._trigger("unselecting",t,{unselecting:n.element}))),n.selected&&(t.metaKey||t.ctrlKey||n.startselected||(r._removeClass(n.$element,"ui-selected"),n.selected=!1,r._addClass(n.$element,"ui-unselecting"),n.unselecting=!0,r._trigger("unselecting",t,{unselecting:n.element})))))}),!1}},_mouseStop:function(t){var n=this;return this.dragged=!1,e(".ui-unselecting",this.element[0]).each(function(){var r=e.data(this,"selectable-item");n._removeClass(r.$element,"ui-unselecting"),r.unselecting=!1,r.startselected=!1,n._trigger("unselected",t,{unselected:r.element})}),e(".ui-selecting",this.element[0]).each(function(){var r=e.data(this,"selectable-item");n._removeClass(r.$element,"ui-selecting")._addClass(r.$element,"ui-selected"),r.selecting=!1,r.selected=!0,r.startselected=!0,n._trigger("selected",t,{selected:r.element})}),this._trigger("stop",t),this.helper.remove(),!1}}),e.widget("ui.selectmenu",[e.ui.formResetMixin,{version:"1.12.1",defaultElement:"<select>",options:{appendTo:null,classes:{"ui-selectmenu-button-open":"ui-corner-top","ui-selectmenu-button-closed":"ui-corner-all"},disabled:null,icons:{button:"ui-icon-triangle-1-s"},position:{my:"left top",at:"left bottom",collision:"none"},width:!1,change:null,close:null,focus:null,open:null,select:null},_create:function(){var t=this.element.uniqueId().attr("id");this.ids={element:t,button:t+"-button",menu:t+"-menu"},this._drawButton(),this._drawMenu(),this._bindFormResetHandler(),this._rendered=!1,this.menuItems=e()},_drawButton:function(){var t,n=this,r=this._parseOption(this.element.find("option:selected"),this.element[0].selectedIndex);this.labels=this.element.labels().attr("for",this.ids.button),this._on(this.labels,{click:function(e){this.button.focus(),e.preventDefault()}}),this.element.hide(),this.button=e("<span>",{tabindex:this.options.disabled?-1:0,id:this.ids.button,role:"combobox","aria-expanded":"false","aria-autocomplete":"list","aria-owns":this.ids.menu,"aria-haspopup":"true",title:this.element.attr("title")}).insertAfter(this.element),this._addClass(this.button,"ui-selectmenu-button ui-selectmenu-button-closed","ui-button ui-widget"),t=e("<span>").appendTo(this.button),this._addClass(t,"ui-selectmenu-icon","ui-icon "+this.options.icons.button),this.buttonItem=this._renderButtonItem(r).appendTo(this.button),!1!==this.options.width&&this._resizeButton(),this._on(this.button,this._buttonEvents),this.button.one("focusin",function(){n._rendered||n._refreshMenu()})},_drawMenu:function(){var t=this;this.menu=e("<ul>",{"aria-hidden":"true","aria-labelledby":this.ids.button,id:this.ids.menu}),this.menuWrap=e("<div>").append(this.menu),this._addClass(this.menuWrap,"ui-selectmenu-menu","ui-front"),this.menuWrap.appendTo(this._appendTo()),this.menuInstance=this.menu.menu({classes:{"ui-menu":"ui-corner-bottom"},role:"listbox",select:function(e,n){e.preventDefault(),t._setSelection(),t._select(n.item.data("ui-selectmenu-item"),e)},focus:function(e,n){var r=n.item.data("ui-selectmenu-item");null!=t.focusIndex&&r.index!==t.focusIndex&&(t._trigger("focus",e,{item:r}),t.isOpen||t._select(r,e)),t.focusIndex=r.index,t.button.attr("aria-activedescendant",t.menuItems.eq(r.index).attr("id"))}}).menu("instance"),this.menuInstance._off(this.menu,"mouseleave"),this.menuInstance._closeOnDocumentClick=function(){return!1},this.menuInstance._isDivider=function(){return!1}},refresh:function(){this._refreshMenu(),this.buttonItem.replaceWith(this.buttonItem=this._renderButtonItem(this._getSelectedItem().data("ui-selectmenu-item")||{})),null===this.options.width&&this._resizeButton()},_refreshMenu:function(){var e,t=this.element.find("option");this.menu.empty(),this._parseOptions(t),this._renderMenu(this.menu,this.items),this.menuInstance.refresh(),this.menuItems=this.menu.find("li").not(".ui-selectmenu-optgroup").find(".ui-menu-item-wrapper"),this._rendered=!0,t.length&&(e=this._getSelectedItem(),this.menuInstance.focus(null,e),this._setAria(e.data("ui-selectmenu-item")),this._setOption("disabled",this.element.prop("disabled")))},open:function(e){this.options.disabled||(this._rendered?(this._removeClass(this.menu.find(".ui-state-active"),null,"ui-state-active"),this.menuInstance.focus(null,this._getSelectedItem())):this._refreshMenu(),this.menuItems.length&&(this.isOpen=!0,this._toggleAttr(),this._resizeMenu(),this._position(),this._on(this.document,this._documentClick),this._trigger("open",e)))},_position:function(){this.menuWrap.position(e.extend({of:this.button},this.options.position))},close:function(e){this.isOpen&&(this.isOpen=!1,this._toggleAttr(),this.range=null,this._off(this.document),this._trigger("close",e))},widget:function(){return this.button},menuWidget:function(){return this.menu},_renderButtonItem:function(t){var n=e("<span>");return this._setText(n,t.label),this._addClass(n,"ui-selectmenu-text"),n},_renderMenu:function(t,n){var r=this,o="";e.each(n,function(n,i){var a;i.optgroup!==o&&(a=e("<li>",{text:i.optgroup}),r._addClass(a,"ui-selectmenu-optgroup","ui-menu-divider"+(i.element.parent("optgroup").prop("disabled")?" ui-state-disabled":"")),a.appendTo(t),o=i.optgroup),r._renderItemData(t,i)})},_renderItemData:function(e,t){return this._renderItem(e,t).data("ui-selectmenu-item",t)},_renderItem:function(t,n){var r=e("<li>"),o=e("<div>",{title:n.element.attr("title")});return n.disabled&&this._addClass(r,null,"ui-state-disabled"),this._setText(o,n.label),r.append(o).appendTo(t)},_setText:function(e,t){t?e.text(t):e.html("&#160;")},_move:function(e,t){var n,r,o=".ui-menu-item";this.isOpen?n=this.menuItems.eq(this.focusIndex).parent("li"):(n=this.menuItems.eq(this.element[0].selectedIndex).parent("li"),o+=":not(.ui-state-disabled)"),(r="first"===e||"last"===e?n["first"===e?"prevAll":"nextAll"](o).eq(-1):n[e+"All"](o).eq(0)).length&&this.menuInstance.focus(t,r)},_getSelectedItem:function(){return this.menuItems.eq(this.element[0].selectedIndex).parent("li")},_toggle:function(e){this[this.isOpen?"close":"open"](e)},_setSelection:function(){var e;this.range&&(window.getSelection?((e=window.getSelection()).removeAllRanges(),e.addRange(this.range)):this.range.select(),this.button.focus())},_documentClick:{mousedown:function(t){this.isOpen&&(e(t.target).closest(".ui-selectmenu-menu, #"+e.ui.escapeSelector(this.ids.button)).length||this.close(t))}},_buttonEvents:{mousedown:function(){var e;window.getSelection?(e=window.getSelection()).rangeCount&&(this.range=e.getRangeAt(0)):this.range=document.selection.createRange()},click:function(e){this._setSelection(),this._toggle(e)},keydown:function(t){var n=!0;switch(t.keyCode){case e.ui.keyCode.TAB:case e.ui.keyCode.ESCAPE:this.close(t),n=!1;break;case e.ui.keyCode.ENTER:this.isOpen&&this._selectFocusedItem(t);break;case e.ui.keyCode.UP:t.altKey?this._toggle(t):this._move("prev",t);break;case e.ui.keyCode.DOWN:t.altKey?this._toggle(t):this._move("next",t);break;case e.ui.keyCode.SPACE:this.isOpen?this._selectFocusedItem(t):this._toggle(t);break;case e.ui.keyCode.LEFT:this._move("prev",t);break;case e.ui.keyCode.RIGHT:this._move("next",t);break;case e.ui.keyCode.HOME:case e.ui.keyCode.PAGE_UP:this._move("first",t);break;case e.ui.keyCode.END:case e.ui.keyCode.PAGE_DOWN:this._move("last",t);break;default:this.menu.trigger(t),n=!1}n&&t.preventDefault()}},_selectFocusedItem:function(e){var t=this.menuItems.eq(this.focusIndex).parent("li");t.hasClass("ui-state-disabled")||this._select(t.data("ui-selectmenu-item"),e)},_select:function(e,t){var n=this.element[0].selectedIndex;this.element[0].selectedIndex=e.index,this.buttonItem.replaceWith(this.buttonItem=this._renderButtonItem(e)),this._setAria(e),this._trigger("select",t,{item:e}),e.index!==n&&this._trigger("change",t,{item:e}),this.close(t)},_setAria:function(e){var t=this.menuItems.eq(e.index).attr("id");this.button.attr({"aria-labelledby":t,"aria-activedescendant":t}),this.menu.attr("aria-activedescendant",t)},_setOption:function(e,t){if("icons"===e){var n=this.button.find("span.ui-icon");this._removeClass(n,null,this.options.icons.button)._addClass(n,null,t.button)}this._super(e,t),"appendTo"===e&&this.menuWrap.appendTo(this._appendTo()),"width"===e&&this._resizeButton()},_setOptionDisabled:function(e){this._super(e),this.menuInstance.option("disabled",e),this.button.attr("aria-disabled",e),this._toggleClass(this.button,null,"ui-state-disabled",e),this.element.prop("disabled",e),e?(this.button.attr("tabindex",-1),this.close()):this.button.attr("tabindex",0)},_appendTo:function(){var t=this.options.appendTo;return t&&(t=t.jquery||t.nodeType?e(t):this.document.find(t).eq(0)),t&&t[0]||(t=this.element.closest(".ui-front, dialog")),t.length||(t=this.document[0].body),t},_toggleAttr:function(){this.button.attr("aria-expanded",this.isOpen),this._removeClass(this.button,"ui-selectmenu-button-"+(this.isOpen?"closed":"open"))._addClass(this.button,"ui-selectmenu-button-"+(this.isOpen?"open":"closed"))._toggleClass(this.menuWrap,"ui-selectmenu-open",null,this.isOpen),this.menu.attr("aria-hidden",!this.isOpen)},_resizeButton:function(){var e=this.options.width;!1!==e?(null===e&&(e=this.element.show().outerWidth(),this.element.hide()),this.button.outerWidth(e)):this.button.css("width","")},_resizeMenu:function(){this.menu.outerWidth(Math.max(this.button.outerWidth(),this.menu.width("").outerWidth()+1))},_getCreateOptions:function(){var e=this._super();return e.disabled=this.element.prop("disabled"),e},_parseOptions:function(t){var n=this,r=[];t.each(function(t,o){r.push(n._parseOption(e(o),t))}),this.items=r},_parseOption:function(e,t){var n=e.parent("optgroup");return{element:e,index:t,value:e.val(),label:e.text(),optgroup:n.attr("label")||"",disabled:n.prop("disabled")||e.prop("disabled")}},_destroy:function(){this._unbindFormResetHandler(),this.menuWrap.remove(),this.button.remove(),this.element.show(),this.element.removeUniqueId(),this.labels.attr("for",this.ids.element)}}]),e.widget("ui.slider",e.ui.mouse,{version:"1.12.1",widgetEventPrefix:"slide",options:{animate:!1,classes:{"ui-slider":"ui-corner-all","ui-slider-handle":"ui-corner-all","ui-slider-range":"ui-corner-all ui-widget-header"},distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},numPages:5,_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this._calculateNewMax(),this._addClass("ui-slider ui-slider-"+this.orientation,"ui-widget ui-widget-content"),this._refresh(),this._animateOff=!1},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var t,n,r=this.options,o=this.element.find(".ui-slider-handle"),i=[];for(n=r.values&&r.values.length||1,o.length>n&&(o.slice(n).remove(),o=o.slice(0,n)),t=o.length;t<n;t++)i.push("<span tabindex='0'></span>");this.handles=o.add(e(i.join("")).appendTo(this.element)),this._addClass(this.handles,"ui-slider-handle","ui-state-default"),this.handle=this.handles.eq(0),this.handles.each(function(t){e(this).data("ui-slider-handle-index",t).attr("tabIndex",0)})},_createRange:function(){var t=this.options;t.range?(!0===t.range&&(t.values?t.values.length&&2!==t.values.length?t.values=[t.values[0],t.values[0]]:e.isArray(t.values)&&(t.values=t.values.slice(0)):t.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?(this._removeClass(this.range,"ui-slider-range-min ui-slider-range-max"),this.range.css({left:"",bottom:""})):(this.range=e("<div>").appendTo(this.element),this._addClass(this.range,"ui-slider-range")),"min"!==t.range&&"max"!==t.range||this._addClass(this.range,"ui-slider-range-"+t.range)):(this.range&&this.range.remove(),this.range=null)},_setupEvents:function(){this._off(this.handles),this._on(this.handles,this._handleEvents),this._hoverable(this.handles),this._focusable(this.handles)},_destroy:function(){this.handles.remove(),this.range&&this.range.remove(),this._mouseDestroy()},_mouseCapture:function(t){var n,r,o,i,a,s,l,c=this,u=this.options;return!u.disabled&&(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),n={x:t.pageX,y:t.pageY},r=this._normValueFromMouse(n),o=this._valueMax()-this._valueMin()+1,this.handles.each(function(t){var n=Math.abs(r-c.values(t));(o>n||o===n&&(t===c._lastChangedValue||c.values(t)===u.min))&&(o=n,i=e(this),a=t)}),!1!==this._start(t,a)&&(this._mouseSliding=!0,this._handleIndex=a,this._addClass(i,null,"ui-state-active"),i.trigger("focus"),s=i.offset(),l=!e(t.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=l?{left:0,top:0}:{left:t.pageX-s.left-i.width()/2,top:t.pageY-s.top-i.height()/2-(parseInt(i.css("borderTopWidth"),10)||0)-(parseInt(i.css("borderBottomWidth"),10)||0)+(parseInt(i.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(t,a,r),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(e){var t={x:e.pageX,y:e.pageY},n=this._normValueFromMouse(t);return this._slide(e,this._handleIndex,n),!1},_mouseStop:function(e){return this._removeClass(this.handles,null,"ui-state-active"),this._mouseSliding=!1,this._stop(e,this._handleIndex),this._change(e,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(e){var t,n,r,o,i;return"horizontal"===this.orientation?(t=this.elementSize.width,n=e.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(t=this.elementSize.height,n=e.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),(r=n/t)>1&&(r=1),r<0&&(r=0),"vertical"===this.orientation&&(r=1-r),o=this._valueMax()-this._valueMin(),i=this._valueMin()+r*o,this._trimAlignValue(i)},_uiHash:function(e,t,n){var r={handle:this.handles[e],handleIndex:e,value:void 0!==t?t:this.value()};return this._hasMultipleValues()&&(r.value=void 0!==t?t:this.values(e),r.values=n||this.values()),r},_hasMultipleValues:function(){return this.options.values&&this.options.values.length},_start:function(e,t){return this._trigger("start",e,this._uiHash(t))},_slide:function(e,t,n){var r,o=this.value(),i=this.values();this._hasMultipleValues()&&(r=this.values(t?0:1),o=this.values(t),2===this.options.values.length&&!0===this.options.range&&(n=0===t?Math.min(r,n):Math.max(r,n)),i[t]=n),n!==o&&!1!==this._trigger("slide",e,this._uiHash(t,n,i))&&(this._hasMultipleValues()?this.values(t,n):this.value(n))},_stop:function(e,t){this._trigger("stop",e,this._uiHash(t))},_change:function(e,t){this._keySliding||this._mouseSliding||(this._lastChangedValue=t,this._trigger("change",e,this._uiHash(t)))},value:function(e){return arguments.length?(this.options.value=this._trimAlignValue(e),this._refreshValue(),void this._change(null,0)):this._value()},values:function(t,n){var r,o,i;if(arguments.length>1)return this.options.values[t]=this._trimAlignValue(n),this._refreshValue(),void this._change(null,t);if(!arguments.length)return this._values();if(!e.isArray(arguments[0]))return this._hasMultipleValues()?this._values(t):this.value();for(r=this.options.values,o=arguments[0],i=0;i<r.length;i+=1)r[i]=this._trimAlignValue(o[i]),this._change(null,i);this._refreshValue()},_setOption:function(t,n){var r,o=0;switch("range"===t&&!0===this.options.range&&("min"===n?(this.options.value=this._values(0),this.options.values=null):"max"===n&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),e.isArray(this.options.values)&&(o=this.options.values.length),this._super(t,n),t){case"orientation":this._detectOrientation(),this._removeClass("ui-slider-horizontal ui-slider-vertical")._addClass("ui-slider-"+this.orientation),this._refreshValue(),this.options.range&&this._refreshRange(n),this.handles.css("horizontal"===n?"bottom":"left","");break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),r=o-1;r>=0;r--)this._change(null,r);this._animateOff=!1;break;case"step":case"min":case"max":this._animateOff=!0,this._calculateNewMax(),this._refreshValue(),this._animateOff=!1;break;case"range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_setOptionDisabled:function(e){this._super(e),this._toggleClass(null,"ui-state-disabled",!!e)},_value:function(){var e=this.options.value;return e=this._trimAlignValue(e)},_values:function(e){var t,n,r;if(arguments.length)return t=this.options.values[e],t=this._trimAlignValue(t);if(this._hasMultipleValues()){for(n=this.options.values.slice(),r=0;r<n.length;r+=1)n[r]=this._trimAlignValue(n[r]);return n}return[]},_trimAlignValue:function(e){if(e<=this._valueMin())return this._valueMin();if(e>=this._valueMax())return this._valueMax();var t=this.options.step>0?this.options.step:1,n=(e-this._valueMin())%t,r=e-n;return 2*Math.abs(n)>=t&&(r+=n>0?t:-t),parseFloat(r.toFixed(5))},_calculateNewMax:function(){var e=this.options.max,t=this._valueMin(),n=this.options.step;(e=Math.round((e-t)/n)*n+t)>this.options.max&&(e-=n),this.max=parseFloat(e.toFixed(this._precision()))},_precision:function(){var e=this._precisionOf(this.options.step);return null!==this.options.min&&(e=Math.max(e,this._precisionOf(this.options.min))),e},_precisionOf:function(e){var t=e.toString(),n=t.indexOf(".");return-1===n?0:t.length-n-1},_valueMin:function(){return this.options.min},_valueMax:function(){return this.max},_refreshRange:function(e){"vertical"===e&&this.range.css({width:"",left:""}),"horizontal"===e&&this.range.css({height:"",bottom:""})},_refreshValue:function(){var t,n,r,o,i,a=this.options.range,s=this.options,l=this,c=!this._animateOff&&s.animate,u={};this._hasMultipleValues()?this.handles.each(function(r){n=(l.values(r)-l._valueMin())/(l._valueMax()-l._valueMin())*100,u["horizontal"===l.orientation?"left":"bottom"]=n+"%",e(this).stop(1,1)[c?"animate":"css"](u,s.animate),!0===l.options.range&&("horizontal"===l.orientation?(0===r&&l.range.stop(1,1)[c?"animate":"css"]({left:n+"%"},s.animate),1===r&&l.range[c?"animate":"css"]({width:n-t+"%"},{queue:!1,duration:s.animate})):(0===r&&l.range.stop(1,1)[c?"animate":"css"]({bottom:n+"%"},s.animate),1===r&&l.range[c?"animate":"css"]({height:n-t+"%"},{queue:!1,duration:s.animate}))),t=n}):(r=this.value(),o=this._valueMin(),i=this._valueMax(),n=i!==o?(r-o)/(i-o)*100:0,u["horizontal"===this.orientation?"left":"bottom"]=n+"%",this.handle.stop(1,1)[c?"animate":"css"](u,s.animate),"min"===a&&"horizontal"===this.orientation&&this.range.stop(1,1)[c?"animate":"css"]({width:n+"%"},s.animate),"max"===a&&"horizontal"===this.orientation&&this.range.stop(1,1)[c?"animate":"css"]({width:100-n+"%"},s.animate),"min"===a&&"vertical"===this.orientation&&this.range.stop(1,1)[c?"animate":"css"]({height:n+"%"},s.animate),"max"===a&&"vertical"===this.orientation&&this.range.stop(1,1)[c?"animate":"css"]({height:100-n+"%"},s.animate))},_handleEvents:{keydown:function(t){var n,r,o,i=e(t.target).data("ui-slider-handle-index");switch(t.keyCode){case e.ui.keyCode.HOME:case e.ui.keyCode.END:case e.ui.keyCode.PAGE_UP:case e.ui.keyCode.PAGE_DOWN:case e.ui.keyCode.UP:case e.ui.keyCode.RIGHT:case e.ui.keyCode.DOWN:case e.ui.keyCode.LEFT:if(t.preventDefault(),!this._keySliding&&(this._keySliding=!0,this._addClass(e(t.target),null,"ui-state-active"),!1===this._start(t,i)))return}switch(o=this.options.step,n=r=this._hasMultipleValues()?this.values(i):this.value(),t.keyCode){case e.ui.keyCode.HOME:r=this._valueMin();break;case e.ui.keyCode.END:r=this._valueMax();break;case e.ui.keyCode.PAGE_UP:r=this._trimAlignValue(n+(this._valueMax()-this._valueMin())/this.numPages);break;case e.ui.keyCode.PAGE_DOWN:r=this._trimAlignValue(n-(this._valueMax()-this._valueMin())/this.numPages);break;case e.ui.keyCode.UP:case e.ui.keyCode.RIGHT:if(n===this._valueMax())return;r=this._trimAlignValue(n+o);break;case e.ui.keyCode.DOWN:case e.ui.keyCode.LEFT:if(n===this._valueMin())return;r=this._trimAlignValue(n-o)}this._slide(t,i,r)},keyup:function(t){var n=e(t.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(t,n),this._change(t,n),this._removeClass(e(t.target),null,"ui-state-active"))}}}),e.widget("ui.sortable",e.ui.mouse,{version:"1.12.1",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(e,t,n){return e>=t&&e<t+n},_isFloating:function(e){return/left|right/.test(e.css("float"))||/inline|table-cell/.test(e.css("display"))},_create:function(){this.containerCache={},this._addClass("ui-sortable"),this.refresh(),this.offset=this.element.offset(),this._mouseInit(),this._setHandleClassName(),this.ready=!0},_setOption:function(e,t){this._super(e,t),"handle"===e&&this._setHandleClassName()},_setHandleClassName:function(){var t=this;this._removeClass(this.element.find(".ui-sortable-handle"),"ui-sortable-handle"),e.each(this.items,function(){t._addClass(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item,"ui-sortable-handle")})},_destroy:function(){this._mouseDestroy();for(var e=this.items.length-1;e>=0;e--)this.items[e].item.removeData(this.widgetName+"-item");return this},_mouseCapture:function(t,n){var r=null,o=!1,i=this;return!this.reverting&&!this.options.disabled&&"static"!==this.options.type&&(this._refreshItems(t),e(t.target).parents().each(function(){if(e.data(this,i.widgetName+"-item")===i)return r=e(this),!1}),e.data(t.target,i.widgetName+"-item")===i&&(r=e(t.target)),!!r&&!(this.options.handle&&!n&&(e(this.options.handle,r).find("*").addBack().each(function(){this===t.target&&(o=!0)}),!o))&&(this.currentItem=r,this._removeCurrentsFromItems(),!0))},_mouseStart:function(t,n,r){var o,i,a=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(t),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},e.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(t),this.originalPageX=t.pageX,this.originalPageY=t.pageY,a.cursorAt&&this._adjustOffsetFromHelper(a.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),a.containment&&this._setContainment(),a.cursor&&"auto"!==a.cursor&&(i=this.document.find("body"),this.storedCursor=i.css("cursor"),i.css("cursor",a.cursor),this.storedStylesheet=e("<style>*{ cursor: "+a.cursor+" !important; }</style>").appendTo(i)),a.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",a.opacity)),a.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",a.zIndex)),this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",t,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!r)for(o=this.containers.length-1;o>=0;o--)this.containers[o]._trigger("activate",t,this._uiHash(this));return e.ui.ddmanager&&(e.ui.ddmanager.current=this),e.ui.ddmanager&&!a.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this.dragging=!0,this._addClass(this.helper,"ui-sortable-helper"),this._mouseDrag(t),!0},_mouseDrag:function(t){var n,r,o,i,a=this.options,s=!1;for(this.position=this._generatePosition(t),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-t.pageY<a.scrollSensitivity?this.scrollParent[0].scrollTop=s=this.scrollParent[0].scrollTop+a.scrollSpeed:t.pageY-this.overflowOffset.top<a.scrollSensitivity&&(this.scrollParent[0].scrollTop=s=this.scrollParent[0].scrollTop-a.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-t.pageX<a.scrollSensitivity?this.scrollParent[0].scrollLeft=s=this.scrollParent[0].scrollLeft+a.scrollSpeed:t.pageX-this.overflowOffset.left<a.scrollSensitivity&&(this.scrollParent[0].scrollLeft=s=this.scrollParent[0].scrollLeft-a.scrollSpeed)):(t.pageY-this.document.scrollTop()<a.scrollSensitivity?s=this.document.scrollTop(this.document.scrollTop()-a.scrollSpeed):this.window.height()-(t.pageY-this.document.scrollTop())<a.scrollSensitivity&&(s=this.document.scrollTop(this.document.scrollTop()+a.scrollSpeed)),t.pageX-this.document.scrollLeft()<a.scrollSensitivity?s=this.document.scrollLeft(this.document.scrollLeft()-a.scrollSpeed):this.window.width()-(t.pageX-this.document.scrollLeft())<a.scrollSensitivity&&(s=this.document.scrollLeft(this.document.scrollLeft()+a.scrollSpeed))),!1!==s&&e.ui.ddmanager&&!a.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),n=this.items.length-1;n>=0;n--)if(o=(r=this.items[n]).item[0],(i=this._intersectsWithPointer(r))&&r.instance===this.currentContainer&&!(o===this.currentItem[0]||this.placeholder[1===i?"next":"prev"]()[0]===o||e.contains(this.placeholder[0],o)||"semi-dynamic"===this.options.type&&e.contains(this.element[0],o))){if(this.direction=1===i?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(r))break;this._rearrange(t,r),this._trigger("change",t,this._uiHash());break}return this._contactContainers(t),e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),this._trigger("sort",t,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(t,n){if(t){if(e.ui.ddmanager&&!this.options.dropBehaviour&&e.ui.ddmanager.drop(this,t),this.options.revert){var r=this,o=this.placeholder.offset(),i=this.options.axis,a={};i&&"x"!==i||(a.left=o.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollLeft)),i&&"y"!==i||(a.top=o.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,e(this.helper).animate(a,parseInt(this.options.revert,10)||500,function(){r._clear(t)})}else this._clear(t,n);return!1}},cancel:function(){if(this.dragging){this._mouseUp(new e.Event("mouseup",{target:null})),"original"===this.options.helper?(this.currentItem.css(this._storedCSS),this._removeClass(this.currentItem,"ui-sortable-helper")):this.currentItem.show();for(var t=this.containers.length-1;t>=0;t--)this.containers[t]._trigger("deactivate",null,this._uiHash(this)),this.containers[t].containerCache.over&&(this.containers[t]._trigger("out",null,this._uiHash(this)),this.containers[t].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),e.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?e(this.domPosition.prev).after(this.currentItem):e(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(t){var n=this._getItemsAsjQuery(t&&t.connected),r=[];return t=t||{},e(n).each(function(){var n=(e(t.item||this).attr(t.attribute||"id")||"").match(t.expression||/(.+)[\-=_](.+)/);n&&r.push((t.key||n[1]+"[]")+"="+(t.key&&t.expression?n[1]:n[2]))}),!r.length&&t.key&&r.push(t.key+"="),r.join("&")},toArray:function(t){var n=this._getItemsAsjQuery(t&&t.connected),r=[];return t=t||{},n.each(function(){r.push(e(t.item||this).attr(t.attribute||"id")||"")}),r},_intersectsWith:function(e){var t=this.positionAbs.left,n=t+this.helperProportions.width,r=this.positionAbs.top,o=r+this.helperProportions.height,i=e.left,a=i+e.width,s=e.top,l=s+e.height,c=this.offset.click.top,u=this.offset.click.left,d="x"===this.options.axis||r+c>s&&r+c<l,p="y"===this.options.axis||t+u>i&&t+u<a,f=d&&p;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>e[this.floating?"width":"height"]?f:i<t+this.helperProportions.width/2&&n-this.helperProportions.width/2<a&&s<r+this.helperProportions.height/2&&o-this.helperProportions.height/2<l},_intersectsWithPointer:function(e){var t,n,r="x"===this.options.axis||this._isOverAxis(this.positionAbs.top+this.offset.click.top,e.top,e.height),o="y"===this.options.axis||this._isOverAxis(this.positionAbs.left+this.offset.click.left,e.left,e.width);return!(!r||!o)&&(t=this._getDragVerticalDirection(),n=this._getDragHorizontalDirection(),this.floating?"right"===n||"down"===t?2:1:t&&("down"===t?2:1))},_intersectsWithSides:function(e){var t=this._isOverAxis(this.positionAbs.top+this.offset.click.top,e.top+e.height/2,e.height),n=this._isOverAxis(this.positionAbs.left+this.offset.click.left,e.left+e.width/2,e.width),r=this._getDragVerticalDirection(),o=this._getDragHorizontalDirection();return this.floating&&o?"right"===o&&n||"left"===o&&!n:r&&("down"===r&&t||"up"===r&&!t)},_getDragVerticalDirection:function(){var e=this.positionAbs.top-this.lastPositionAbs.top;return 0!==e&&(e>0?"down":"up")},_getDragHorizontalDirection:function(){var e=this.positionAbs.left-this.lastPositionAbs.left;return 0!==e&&(e>0?"right":"left")},refresh:function(e){return this._refreshItems(e),this._setHandleClassName(),this.refreshPositions(),this},_connectWith:function(){var e=this.options;return e.connectWith.constructor===String?[e.connectWith]:e.connectWith},_getItemsAsjQuery:function(t){var n,r,o,i,a=[],s=[],l=this._connectWith();if(l&&t)for(n=l.length-1;n>=0;n--)for(r=(o=e(l[n],this.document[0])).length-1;r>=0;r--)(i=e.data(o[r],this.widgetFullName))&&i!==this&&!i.options.disabled&&s.push([e.isFunction(i.options.items)?i.options.items.call(i.element):e(i.options.items,i.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),i]);function c(){a.push(this)}for(s.push([e.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):e(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),n=s.length-1;n>=0;n--)s[n][0].each(c);return e(a)},_removeCurrentsFromItems:function(){var t=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=e.grep(this.items,function(e){for(var n=0;n<t.length;n++)if(t[n]===e.item[0])return!1;return!0})},_refreshItems:function(t){this.items=[],this.containers=[this];var n,r,o,i,a,s,l,c,u=this.items,d=[[e.isFunction(this.options.items)?this.options.items.call(this.element[0],t,{item:this.currentItem}):e(this.options.items,this.element),this]],p=this._connectWith();if(p&&this.ready)for(n=p.length-1;n>=0;n--)for(r=(o=e(p[n],this.document[0])).length-1;r>=0;r--)(i=e.data(o[r],this.widgetFullName))&&i!==this&&!i.options.disabled&&(d.push([e.isFunction(i.options.items)?i.options.items.call(i.element[0],t,{item:this.currentItem}):e(i.options.items,i.element),i]),this.containers.push(i));for(n=d.length-1;n>=0;n--)for(a=d[n][1],r=0,c=(s=d[n][0]).length;r<c;r++)(l=e(s[r])).data(this.widgetName+"-item",a),u.push({item:l,instance:a,width:0,height:0,left:0,top:0})},refreshPositions:function(t){var n,r,o,i;for(this.floating=!!this.items.length&&("x"===this.options.axis||this._isFloating(this.items[0].item)),this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset()),n=this.items.length-1;n>=0;n--)(r=this.items[n]).instance!==this.currentContainer&&this.currentContainer&&r.item[0]!==this.currentItem[0]||(o=this.options.toleranceElement?e(this.options.toleranceElement,r.item):r.item,t||(r.width=o.outerWidth(),r.height=o.outerHeight()),i=o.offset(),r.left=i.left,r.top=i.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(n=this.containers.length-1;n>=0;n--)i=this.containers[n].element.offset(),this.containers[n].containerCache.left=i.left,this.containers[n].containerCache.top=i.top,this.containers[n].containerCache.width=this.containers[n].element.outerWidth(),this.containers[n].containerCache.height=this.containers[n].element.outerHeight();return this},_createPlaceholder:function(t){var n,r=(t=t||this).options;r.placeholder&&r.placeholder.constructor!==String||(n=r.placeholder,r.placeholder={element:function(){var r=t.currentItem[0].nodeName.toLowerCase(),o=e("<"+r+">",t.document[0]);return t._addClass(o,"ui-sortable-placeholder",n||t.currentItem[0].className)._removeClass(o,"ui-sortable-helper"),"tbody"===r?t._createTrPlaceholder(t.currentItem.find("tr").eq(0),e("<tr>",t.document[0]).appendTo(o)):"tr"===r?t._createTrPlaceholder(t.currentItem,o):"img"===r&&o.attr("src",t.currentItem.attr("src")),n||o.css("visibility","hidden"),o},update:function(e,o){n&&!r.forcePlaceholderSize||(o.height()||o.height(t.currentItem.innerHeight()-parseInt(t.currentItem.css("paddingTop")||0,10)-parseInt(t.currentItem.css("paddingBottom")||0,10)),o.width()||o.width(t.currentItem.innerWidth()-parseInt(t.currentItem.css("paddingLeft")||0,10)-parseInt(t.currentItem.css("paddingRight")||0,10)))}}),t.placeholder=e(r.placeholder.element.call(t.element,t.currentItem)),t.currentItem.after(t.placeholder),r.placeholder.update(t,t.placeholder)},_createTrPlaceholder:function(t,n){var r=this;t.children().each(function(){e("<td>&#160;</td>",r.document[0]).attr("colspan",e(this).attr("colspan")||1).appendTo(n)})},_contactContainers:function(t){var n,r,o,i,a,s,l,c,u,d,p=null,f=null;for(n=this.containers.length-1;n>=0;n--)if(!e.contains(this.currentItem[0],this.containers[n].element[0]))if(this._intersectsWith(this.containers[n].containerCache)){if(p&&e.contains(this.containers[n].element[0],p.element[0]))continue;p=this.containers[n],f=n}else this.containers[n].containerCache.over&&(this.containers[n]._trigger("out",t,this._uiHash(this)),this.containers[n].containerCache.over=0);if(p)if(1===this.containers.length)this.containers[f].containerCache.over||(this.containers[f]._trigger("over",t,this._uiHash(this)),this.containers[f].containerCache.over=1);else{for(o=1e4,i=null,a=(u=p.floating||this._isFloating(this.currentItem))?"left":"top",s=u?"width":"height",d=u?"pageX":"pageY",r=this.items.length-1;r>=0;r--)e.contains(this.containers[f].element[0],this.items[r].item[0])&&this.items[r].item[0]!==this.currentItem[0]&&(l=this.items[r].item.offset()[a],c=!1,t[d]-l>this.items[r][s]/2&&(c=!0),Math.abs(t[d]-l)<o&&(o=Math.abs(t[d]-l),i=this.items[r],this.direction=c?"up":"down"));if(!i&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[f])return void(this.currentContainer.containerCache.over||(this.containers[f]._trigger("over",t,this._uiHash()),this.currentContainer.containerCache.over=1));i?this._rearrange(t,i,null,!0):this._rearrange(t,null,this.containers[f].element,!0),this._trigger("change",t,this._uiHash()),this.containers[f]._trigger("change",t,this._uiHash(this)),this.currentContainer=this.containers[f],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[f]._trigger("over",t,this._uiHash(this)),this.containers[f].containerCache.over=1}},_createHelper:function(t){var n=this.options,r=e.isFunction(n.helper)?e(n.helper.apply(this.element[0],[t,this.currentItem])):"clone"===n.helper?this.currentItem.clone():this.currentItem;return r.parents("body").length||e("parent"!==n.appendTo?n.appendTo:this.currentItem[0].parentNode)[0].appendChild(r[0]),r[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),r[0].style.width&&!n.forceHelperSize||r.width(this.currentItem.width()),r[0].style.height&&!n.forceHelperSize||r.height(this.currentItem.height()),r},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),e.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var t=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==this.document[0]&&e.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===this.document[0].body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&e.ui.ie)&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var e=this.currentItem.position();return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:e.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,n,r,o=this.options;"parent"===o.containment&&(o.containment=this.helper[0].parentNode),"document"!==o.containment&&"window"!==o.containment||(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,"document"===o.containment?this.document.width():this.window.width()-this.helperProportions.width-this.margins.left,("document"===o.containment?this.document.height()||document.body.parentNode.scrollHeight:this.window.height()||this.document[0].body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(o.containment)||(t=e(o.containment)[0],n=e(o.containment).offset(),r="hidden"!==e(t).css("overflow"),this.containment=[n.left+(parseInt(e(t).css("borderLeftWidth"),10)||0)+(parseInt(e(t).css("paddingLeft"),10)||0)-this.margins.left,n.top+(parseInt(e(t).css("borderTopWidth"),10)||0)+(parseInt(e(t).css("paddingTop"),10)||0)-this.margins.top,n.left+(r?Math.max(t.scrollWidth,t.offsetWidth):t.offsetWidth)-(parseInt(e(t).css("borderLeftWidth"),10)||0)-(parseInt(e(t).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,n.top+(r?Math.max(t.scrollHeight,t.offsetHeight):t.offsetHeight)-(parseInt(e(t).css("borderTopWidth"),10)||0)-(parseInt(e(t).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(t,n){n||(n=this.position);var r="absolute"===t?1:-1,o="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,i=/(html|body)/i.test(o[0].tagName);return{top:n.top+this.offset.relative.top*r+this.offset.parent.top*r-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():i?0:o.scrollTop())*r,left:n.left+this.offset.relative.left*r+this.offset.parent.left*r-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():i?0:o.scrollLeft())*r}},_generatePosition:function(t){var n,r,o=this.options,i=t.pageX,a=t.pageY,s="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,l=/(html|body)/i.test(s[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(t.pageX-this.offset.click.left<this.containment[0]&&(i=this.containment[0]+this.offset.click.left),t.pageY-this.offset.click.top<this.containment[1]&&(a=this.containment[1]+this.offset.click.top),t.pageX-this.offset.click.left>this.containment[2]&&(i=this.containment[2]+this.offset.click.left),t.pageY-this.offset.click.top>this.containment[3]&&(a=this.containment[3]+this.offset.click.top)),o.grid&&(n=this.originalPageY+Math.round((a-this.originalPageY)/o.grid[1])*o.grid[1],a=this.containment?n-this.offset.click.top>=this.containment[1]&&n-this.offset.click.top<=this.containment[3]?n:n-this.offset.click.top>=this.containment[1]?n-o.grid[1]:n+o.grid[1]:n,r=this.originalPageX+Math.round((i-this.originalPageX)/o.grid[0])*o.grid[0],i=this.containment?r-this.offset.click.left>=this.containment[0]&&r-this.offset.click.left<=this.containment[2]?r:r-this.offset.click.left>=this.containment[0]?r-o.grid[0]:r+o.grid[0]:r)),{top:a-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():l?0:s.scrollTop()),left:i-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():l?0:s.scrollLeft())}},_rearrange:function(e,t,n,r){n?n[0].appendChild(this.placeholder[0]):t.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?t.item[0]:t.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var o=this.counter;this._delay(function(){o===this.counter&&this.refreshPositions(!r)})},_clear:function(e,t){this.reverting=!1;var n,r=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(n in this._storedCSS)"auto"!==this._storedCSS[n]&&"static"!==this._storedCSS[n]||(this._storedCSS[n]="");this.currentItem.css(this._storedCSS),this._removeClass(this.currentItem,"ui-sortable-helper")}else this.currentItem.show();function o(e,t,n){return function(r){n._trigger(e,r,t._uiHash(t))}}for(this.fromOutside&&!t&&r.push(function(e){this._trigger("receive",e,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||t||r.push(function(e){this._trigger("update",e,this._uiHash())}),this!==this.currentContainer&&(t||(r.push(function(e){this._trigger("remove",e,this._uiHash())}),r.push(function(e){return function(t){e._trigger("receive",t,this._uiHash(this))}}.call(this,this.currentContainer)),r.push(function(e){return function(t){e._trigger("update",t,this._uiHash(this))}}.call(this,this.currentContainer)))),n=this.containers.length-1;n>=0;n--)t||r.push(o("deactivate",this,this.containers[n])),this.containers[n].containerCache.over&&(r.push(o("out",this,this.containers[n])),this.containers[n].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,t||this._trigger("beforeStop",e,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.cancelHelperRemoval||(this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null),!t){for(n=0;n<r.length;n++)r[n].call(this,e);this._trigger("stop",e,this._uiHash())}return this.fromOutside=!1,!this.cancelHelperRemoval},_trigger:function(){!1===e.Widget.prototype._trigger.apply(this,arguments)&&this.cancel()},_uiHash:function(t){var n=t||this;return{helper:n.helper,placeholder:n.placeholder||e([]),position:n.position,originalPosition:n.originalPosition,offset:n.positionAbs,item:n.currentItem,sender:t?t.element:null}}}),e.widget("ui.spinner",{version:"1.12.1",defaultElement:"<input>",widgetEventPrefix:"spin",options:{classes:{"ui-spinner":"ui-corner-all","ui-spinner-down":"ui-corner-br","ui-spinner-up":"ui-corner-tr"},culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:!0,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max),this._setOption("min",this.options.min),this._setOption("step",this.options.step),""!==this.value()&&this._value(this.element.val(),!0),this._draw(),this._on(this._events),this._refresh(),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var t=this._super(),n=this.element;return e.each(["min","max","step"],function(e,r){var o=n.attr(r);null!=o&&o.length&&(t[r]=o)}),t},_events:{keydown:function(e){this._start(e)&&this._keydown(e)&&e.preventDefault()},keyup:"_stop",focus:function(){this.previous=this.element.val()},blur:function(e){this.cancelBlur?delete this.cancelBlur:(this._stop(),this._refresh(),this.previous!==this.element.val()&&this._trigger("change",e))},mousewheel:function(e,t){if(t){if(!this.spinning&&!this._start(e))return!1;this._spin((t>0?1:-1)*this.options.step,e),clearTimeout(this.mousewheelTimer),this.mousewheelTimer=this._delay(function(){this.spinning&&this._stop(e)},100),e.preventDefault()}},"mousedown .ui-spinner-button":function(t){var n;function r(){this.element[0]===e.ui.safeActiveElement(this.document[0])||(this.element.trigger("focus"),this.previous=n,this._delay(function(){this.previous=n}))}n=this.element[0]===e.ui.safeActiveElement(this.document[0])?this.previous:this.element.val(),t.preventDefault(),r.call(this),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,r.call(this)}),!1!==this._start(t)&&this._repeat(null,e(t.currentTarget).hasClass("ui-spinner-up")?1:-1,t)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(t){if(e(t.currentTarget).hasClass("ui-state-active"))return!1!==this._start(t)&&void this._repeat(null,e(t.currentTarget).hasClass("ui-spinner-up")?1:-1,t)},"mouseleave .ui-spinner-button":"_stop"},_enhance:function(){this.uiSpinner=this.element.attr("autocomplete","off").wrap("<span>").parent().append("<a></a><a></a>")},_draw:function(){this._enhance(),this._addClass(this.uiSpinner,"ui-spinner","ui-widget ui-widget-content"),this._addClass("ui-spinner-input"),this.element.attr("role","spinbutton"),this.buttons=this.uiSpinner.children("a").attr("tabIndex",-1).attr("aria-hidden",!0).button({classes:{"ui-button":""}}),this._removeClass(this.buttons,"ui-corner-all"),this._addClass(this.buttons.first(),"ui-spinner-button ui-spinner-up"),this._addClass(this.buttons.last(),"ui-spinner-button ui-spinner-down"),this.buttons.first().button({icon:this.options.icons.up,showLabel:!1}),this.buttons.last().button({icon:this.options.icons.down,showLabel:!1}),this.buttons.height()>Math.ceil(.5*this.uiSpinner.height())&&this.uiSpinner.height()>0&&this.uiSpinner.height(this.uiSpinner.height())},_keydown:function(t){var n=this.options,r=e.ui.keyCode;switch(t.keyCode){case r.UP:return this._repeat(null,1,t),!0;case r.DOWN:return this._repeat(null,-1,t),!0;case r.PAGE_UP:return this._repeat(null,n.page,t),!0;case r.PAGE_DOWN:return this._repeat(null,-n.page,t),!0}return!1},_start:function(e){return!(!this.spinning&&!1===this._trigger("start",e))&&(this.counter||(this.counter=1),this.spinning=!0,!0)},_repeat:function(e,t,n){e=e||500,clearTimeout(this.timer),this.timer=this._delay(function(){this._repeat(40,t,n)},e),this._spin(t*this.options.step,n)},_spin:function(e,t){var n=this.value()||0;this.counter||(this.counter=1),n=this._adjustValue(n+e*this._increment(this.counter)),this.spinning&&!1===this._trigger("spin",t,{value:n})||(this._value(n),this.counter++)},_increment:function(t){var n=this.options.incremental;return n?e.isFunction(n)?n(t):Math.floor(t*t*t/5e4-t*t/500+17*t/200+1):1},_precision:function(){var e=this._precisionOf(this.options.step);return null!==this.options.min&&(e=Math.max(e,this._precisionOf(this.options.min))),e},_precisionOf:function(e){var t=e.toString(),n=t.indexOf(".");return-1===n?0:t.length-n-1},_adjustValue:function(e){var t,n,r=this.options;return n=e-(t=null!==r.min?r.min:0),e=t+(n=Math.round(n/r.step)*r.step),e=parseFloat(e.toFixed(this._precision())),null!==r.max&&e>r.max?r.max:null!==r.min&&e<r.min?r.min:e},_stop:function(e){this.spinning&&(clearTimeout(this.timer),clearTimeout(this.mousewheelTimer),this.counter=0,this.spinning=!1,this._trigger("stop",e))},_setOption:function(e,t){var n,r,o;if("culture"===e||"numberFormat"===e)return n=this._parse(this.element.val()),this.options[e]=t,void this.element.val(this._format(n));"max"!==e&&"min"!==e&&"step"!==e||"string"==typeof t&&(t=this._parse(t)),"icons"===e&&(r=this.buttons.first().find(".ui-icon"),this._removeClass(r,null,this.options.icons.up),this._addClass(r,null,t.up),o=this.buttons.last().find(".ui-icon"),this._removeClass(o,null,this.options.icons.down),this._addClass(o,null,t.down)),this._super(e,t)},_setOptionDisabled:function(e){this._super(e),this._toggleClass(this.uiSpinner,null,"ui-state-disabled",!!e),this.element.prop("disabled",!!e),this.buttons.button(e?"disable":"enable")},_setOptions:f(function(e){this._super(e)}),_parse:function(e){return"string"==typeof e&&""!==e&&(e=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(e,10,this.options.culture):+e),""===e||isNaN(e)?null:e},_format:function(e){return""===e?"":window.Globalize&&this.options.numberFormat?Globalize.format(e,this.options.numberFormat,this.options.culture):e},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},isValid:function(){var e=this.value();return null!==e&&e===this._adjustValue(e)},_value:function(e,t){var n;""!==e&&null!==(n=this._parse(e))&&(t||(n=this._adjustValue(n)),e=this._format(n)),this.element.val(e),this._refresh()},_destroy:function(){this.element.prop("disabled",!1).removeAttr("autocomplete role aria-valuemin aria-valuemax aria-valuenow"),this.uiSpinner.replaceWith(this.element)},stepUp:f(function(e){this._stepUp(e)}),_stepUp:function(e){this._start()&&(this._spin((e||1)*this.options.step),this._stop())},stepDown:f(function(e){this._stepDown(e)}),_stepDown:function(e){this._start()&&(this._spin((e||1)*-this.options.step),this._stop())},pageUp:f(function(e){this._stepUp((e||1)*this.options.page)}),pageDown:f(function(e){this._stepDown((e||1)*this.options.page)}),value:function(e){if(!arguments.length)return this._parse(this.element.val());f(this._value).call(this,e)},widget:function(){return this.uiSpinner}}),!1!==e.uiBackCompat&&e.widget("ui.spinner",e.ui.spinner,{_enhance:function(){this.uiSpinner=this.element.attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml())},_uiSpinnerHtml:function(){return"<span>"},_buttonHtml:function(){return"<a></a><a></a>"}}),e.ui.spinner,e.widget("ui.tabs",{version:"1.12.1",delay:300,options:{active:null,classes:{"ui-tabs":"ui-corner-all","ui-tabs-nav":"ui-corner-all","ui-tabs-panel":"ui-corner-bottom","ui-tabs-tab":"ui-corner-top"},collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_isLocal:function(){var e=/#.*$/;return function(t){var n,r;n=t.href.replace(e,""),r=location.href.replace(e,"");try{n=decodeURIComponent(n)}catch(e){}try{r=decodeURIComponent(r)}catch(e){}return t.hash.length>1&&n===r}}(),_create:function(){var t=this,n=this.options;this.running=!1,this._addClass("ui-tabs","ui-widget ui-widget-content"),this._toggleClass("ui-tabs-collapsible",null,n.collapsible),this._processTabs(),n.active=this._initialActive(),e.isArray(n.disabled)&&(n.disabled=e.unique(n.disabled.concat(e.map(this.tabs.filter(".ui-state-disabled"),function(e){return t.tabs.index(e)}))).sort()),!1!==this.options.active&&this.anchors.length?this.active=this._findActive(n.active):this.active=e(),this._refresh(),this.active.length&&this.load(n.active)},_initialActive:function(){var t=this.options.active,n=this.options.collapsible,r=location.hash.substring(1);return null===t&&(r&&this.tabs.each(function(n,o){if(e(o).attr("aria-controls")===r)return t=n,!1}),null===t&&(t=this.tabs.index(this.tabs.filter(".ui-tabs-active"))),null!==t&&-1!==t||(t=!!this.tabs.length&&0)),!1!==t&&-1===(t=this.tabs.index(this.tabs.eq(t)))&&(t=!n&&0),!n&&!1===t&&this.anchors.length&&(t=0),t},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):e()}},_tabKeydown:function(t){var n=e(e.ui.safeActiveElement(this.document[0])).closest("li"),r=this.tabs.index(n),o=!0;if(!this._handlePageNav(t)){switch(t.keyCode){case e.ui.keyCode.RIGHT:case e.ui.keyCode.DOWN:r++;break;case e.ui.keyCode.UP:case e.ui.keyCode.LEFT:o=!1,r--;break;case e.ui.keyCode.END:r=this.anchors.length-1;break;case e.ui.keyCode.HOME:r=0;break;case e.ui.keyCode.SPACE:return t.preventDefault(),clearTimeout(this.activating),void this._activate(r);case e.ui.keyCode.ENTER:return t.preventDefault(),clearTimeout(this.activating),void this._activate(r!==this.options.active&&r);default:return}t.preventDefault(),clearTimeout(this.activating),r=this._focusNextTab(r,o),t.ctrlKey||t.metaKey||(n.attr("aria-selected","false"),this.tabs.eq(r).attr("aria-selected","true"),this.activating=this._delay(function(){this.option("active",r)},this.delay))}},_panelKeydown:function(t){this._handlePageNav(t)||t.ctrlKey&&t.keyCode===e.ui.keyCode.UP&&(t.preventDefault(),this.active.trigger("focus"))},_handlePageNav:function(t){return t.altKey&&t.keyCode===e.ui.keyCode.PAGE_UP?(this._activate(this._focusNextTab(this.options.active-1,!1)),!0):t.altKey&&t.keyCode===e.ui.keyCode.PAGE_DOWN?(this._activate(this._focusNextTab(this.options.active+1,!0)),!0):void 0},_findNextTab:function(t,n){for(var r=this.tabs.length-1;-1!==e.inArray((t>r&&(t=0),t<0&&(t=r),t),this.options.disabled);)t=n?t+1:t-1;return t},_focusNextTab:function(e,t){return e=this._findNextTab(e,t),this.tabs.eq(e).trigger("focus"),e},_setOption:function(e,t){"active"!==e?(this._super(e,t),"collapsible"===e&&(this._toggleClass("ui-tabs-collapsible",null,t),t||!1!==this.options.active||this._activate(0)),"event"===e&&this._setupEvents(t),"heightStyle"===e&&this._setupHeightStyle(t)):this._activate(t)},_sanitizeSelector:function(e){return e?e.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var t=this.options,n=this.tablist.children(":has(a[href])");t.disabled=e.map(n.filter(".ui-state-disabled"),function(e){return n.index(e)}),this._processTabs(),!1!==t.active&&this.anchors.length?this.active.length&&!e.contains(this.tablist[0],this.active[0])?this.tabs.length===t.disabled.length?(t.active=!1,this.active=e()):this._activate(this._findNextTab(Math.max(0,t.active-1),!1)):t.active=this.tabs.index(this.active):(t.active=!1,this.active=e()),this._refresh()},_refresh:function(){this._setOptionDisabled(this.options.disabled),this._setupEvents(this.options.event),this._setupHeightStyle(this.options.heightStyle),this.tabs.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}),this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-hidden":"true"}),this.active.length?(this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}),this._addClass(this.active,"ui-tabs-active","ui-state-active"),this._getPanelForTab(this.active).show().attr({"aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var t=this,n=this.tabs,r=this.anchors,o=this.panels;this.tablist=this._getList().attr("role","tablist"),this._addClass(this.tablist,"ui-tabs-nav","ui-helper-reset ui-helper-clearfix ui-widget-header"),this.tablist.on("mousedown"+this.eventNamespace,"> li",function(t){e(this).is(".ui-state-disabled")&&t.preventDefault()}).on("focus"+this.eventNamespace,".ui-tabs-anchor",function(){e(this).closest("li").is(".ui-state-disabled")&&this.blur()}),this.tabs=this.tablist.find("> li:has(a[href])").attr({role:"tab",tabIndex:-1}),this._addClass(this.tabs,"ui-tabs-tab","ui-state-default"),this.anchors=this.tabs.map(function(){return e("a",this)[0]}).attr({role:"presentation",tabIndex:-1}),this._addClass(this.anchors,"ui-tabs-anchor"),this.panels=e(),this.anchors.each(function(n,r){var o,i,a,s=e(r).uniqueId().attr("id"),l=e(r).closest("li"),c=l.attr("aria-controls");t._isLocal(r)?(a=(o=r.hash).substring(1),i=t.element.find(t._sanitizeSelector(o))):(o="#"+(a=l.attr("aria-controls")||e({}).uniqueId()[0].id),(i=t.element.find(o)).length||(i=t._createPanel(a)).insertAfter(t.panels[n-1]||t.tablist),i.attr("aria-live","polite")),i.length&&(t.panels=t.panels.add(i)),c&&l.data("ui-tabs-aria-controls",c),l.attr({"aria-controls":a,"aria-labelledby":s}),i.attr("aria-labelledby",s)}),this.panels.attr("role","tabpanel"),this._addClass(this.panels,"ui-tabs-panel","ui-widget-content"),n&&(this._off(n.not(this.tabs)),this._off(r.not(this.anchors)),this._off(o.not(this.panels)))},_getList:function(){return this.tablist||this.element.find("ol, ul").eq(0)},_createPanel:function(t){return e("<div>").attr("id",t).data("ui-tabs-destroy",!0)},_setOptionDisabled:function(t){var n,r,o;for(e.isArray(t)&&(t.length?t.length===this.anchors.length&&(t=!0):t=!1),o=0;r=this.tabs[o];o++)n=e(r),!0===t||-1!==e.inArray(o,t)?(n.attr("aria-disabled","true"),this._addClass(n,null,"ui-state-disabled")):(n.removeAttr("aria-disabled"),this._removeClass(n,null,"ui-state-disabled"));this.options.disabled=t,this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!0===t)},_setupEvents:function(t){var n={};t&&e.each(t.split(" "),function(e,t){n[t]="_eventHandler"}),this._off(this.anchors.add(this.tabs).add(this.panels)),this._on(!0,this.anchors,{click:function(e){e.preventDefault()}}),this._on(this.anchors,n),this._on(this.tabs,{keydown:"_tabKeydown"}),this._on(this.panels,{keydown:"_panelKeydown"}),this._focusable(this.tabs),this._hoverable(this.tabs)},_setupHeightStyle:function(t){var n,r=this.element.parent();"fill"===t?(n=r.height(),n-=this.element.outerHeight()-this.element.height(),this.element.siblings(":visible").each(function(){var t=e(this),r=t.css("position");"absolute"!==r&&"fixed"!==r&&(n-=t.outerHeight(!0))}),this.element.children().not(this.panels).each(function(){n-=e(this).outerHeight(!0)}),this.panels.each(function(){e(this).height(Math.max(0,n-e(this).innerHeight()+e(this).height()))}).css("overflow","auto")):"auto"===t&&(n=0,this.panels.each(function(){n=Math.max(n,e(this).height("").height())}).height(n))},_eventHandler:function(t){var n=this.options,r=this.active,o=e(t.currentTarget).closest("li"),i=o[0]===r[0],a=i&&n.collapsible,s=a?e():this._getPanelForTab(o),l=r.length?this._getPanelForTab(r):e(),c={oldTab:r,oldPanel:l,newTab:a?e():o,newPanel:s};t.preventDefault(),o.hasClass("ui-state-disabled")||o.hasClass("ui-tabs-loading")||this.running||i&&!n.collapsible||!1===this._trigger("beforeActivate",t,c)||(n.active=!a&&this.tabs.index(o),this.active=i?e():o,this.xhr&&this.xhr.abort(),l.length||s.length||e.error("jQuery UI Tabs: Mismatching fragment identifier."),s.length&&this.load(this.tabs.index(o),t),this._toggle(t,c))},_toggle:function(t,n){var r=this,o=n.newPanel,i=n.oldPanel;function a(){r.running=!1,r._trigger("activate",t,n)}function s(){r._addClass(n.newTab.closest("li"),"ui-tabs-active","ui-state-active"),o.length&&r.options.show?r._show(o,r.options.show,a):(o.show(),a())}this.running=!0,i.length&&this.options.hide?this._hide(i,this.options.hide,function(){r._removeClass(n.oldTab.closest("li"),"ui-tabs-active","ui-state-active"),s()}):(this._removeClass(n.oldTab.closest("li"),"ui-tabs-active","ui-state-active"),i.hide(),s()),i.attr("aria-hidden","true"),n.oldTab.attr({"aria-selected":"false","aria-expanded":"false"}),o.length&&i.length?n.oldTab.attr("tabIndex",-1):o.length&&this.tabs.filter(function(){return 0===e(this).attr("tabIndex")}).attr("tabIndex",-1),o.attr("aria-hidden","false"),n.newTab.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_activate:function(t){var n,r=this._findActive(t);r[0]!==this.active[0]&&(r.length||(r=this.active),n=r.find(".ui-tabs-anchor")[0],this._eventHandler({target:n,currentTarget:n,preventDefault:e.noop}))},_findActive:function(t){return!1===t?e():this.tabs.eq(t)},_getIndex:function(t){return"string"==typeof t&&(t=this.anchors.index(this.anchors.filter("[href$='"+e.ui.escapeSelector(t)+"']"))),t},_destroy:function(){this.xhr&&this.xhr.abort(),this.tablist.removeAttr("role").off(this.eventNamespace),this.anchors.removeAttr("role tabIndex").removeUniqueId(),this.tabs.add(this.panels).each(function(){e.data(this,"ui-tabs-destroy")?e(this).remove():e(this).removeAttr("role tabIndex aria-live aria-busy aria-selected aria-labelledby aria-hidden aria-expanded")}),this.tabs.each(function(){var t=e(this),n=t.data("ui-tabs-aria-controls");n?t.attr("aria-controls",n).removeData("ui-tabs-aria-controls"):t.removeAttr("aria-controls")}),this.panels.show(),"content"!==this.options.heightStyle&&this.panels.css("height","")},enable:function(t){var n=this.options.disabled;!1!==n&&(void 0===t?n=!1:(t=this._getIndex(t),n=e.isArray(n)?e.map(n,function(e){return e!==t?e:null}):e.map(this.tabs,function(e,n){return n!==t?n:null})),this._setOptionDisabled(n))},disable:function(t){var n=this.options.disabled;if(!0!==n){if(void 0===t)n=!0;else{if(t=this._getIndex(t),-1!==e.inArray(t,n))return;n=e.isArray(n)?e.merge([t],n).sort():[t]}this._setOptionDisabled(n)}},load:function(t,n){t=this._getIndex(t);var r=this,o=this.tabs.eq(t),i=o.find(".ui-tabs-anchor"),a=this._getPanelForTab(o),s={tab:o,panel:a},l=function(e,t){"abort"===t&&r.panels.stop(!1,!0),r._removeClass(o,"ui-tabs-loading"),a.removeAttr("aria-busy"),e===r.xhr&&delete r.xhr};this._isLocal(i[0])||(this.xhr=e.ajax(this._ajaxSettings(i,n,s)),this.xhr&&"canceled"!==this.xhr.statusText&&(this._addClass(o,"ui-tabs-loading"),a.attr("aria-busy","true"),this.xhr.done(function(e,t,o){setTimeout(function(){a.html(e),r._trigger("load",n,s),l(o,t)},1)}).fail(function(e,t){setTimeout(function(){l(e,t)},1)})))},_ajaxSettings:function(t,n,r){var o=this;return{url:t.attr("href").replace(/#.*$/,""),beforeSend:function(t,i){return o._trigger("beforeLoad",n,e.extend({jqXHR:t,ajaxSettings:i},r))}}},_getPanelForTab:function(t){var n=e(t).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+n))}}),!1!==e.uiBackCompat&&e.widget("ui.tabs",e.ui.tabs,{_processTabs:function(){this._superApply(arguments),this._addClass(this.tabs,"ui-tab")}}),e.ui.tabs,e.widget("ui.tooltip",{version:"1.12.1",options:{classes:{"ui-tooltip":"ui-corner-all ui-widget-shadow"},content:function(){var t=e(this).attr("title")||"";return e("<a>").text(t).html()},hide:!0,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:!0,track:!1,close:null,open:null},_addDescribedBy:function(t,n){var r=(t.attr("aria-describedby")||"").split(/\s+/);r.push(n),t.data("ui-tooltip-id",n).attr("aria-describedby",e.trim(r.join(" ")))},_removeDescribedBy:function(t){var n=t.data("ui-tooltip-id"),r=(t.attr("aria-describedby")||"").split(/\s+/),o=e.inArray(n,r);-1!==o&&r.splice(o,1),t.removeData("ui-tooltip-id"),(r=e.trim(r.join(" ")))?t.attr("aria-describedby",r):t.removeAttr("aria-describedby")},_create:function(){this._on({mouseover:"open",focusin:"open"}),this.tooltips={},this.parents={},this.liveRegion=e("<div>").attr({role:"log","aria-live":"assertive","aria-relevant":"additions"}).appendTo(this.document[0].body),this._addClass(this.liveRegion,null,"ui-helper-hidden-accessible"),this.disabledTitles=e([])},_setOption:function(t,n){var r=this;this._super(t,n),"content"===t&&e.each(this.tooltips,function(e,t){r._updateContent(t.element)})},_setOptionDisabled:function(e){this[e?"_disable":"_enable"]()},_disable:function(){var t=this;e.each(this.tooltips,function(n,r){var o=e.Event("blur");o.target=o.currentTarget=r.element[0],t.close(o,!0)}),this.disabledTitles=this.disabledTitles.add(this.element.find(this.options.items).addBack().filter(function(){var t=e(this);if(t.is("[title]"))return t.data("ui-tooltip-title",t.attr("title")).removeAttr("title")}))},_enable:function(){this.disabledTitles.each(function(){var t=e(this);t.data("ui-tooltip-title")&&t.attr("title",t.data("ui-tooltip-title"))}),this.disabledTitles=e([])},open:function(t){var n=this,r=e(t?t.target:this.element).closest(this.options.items);r.length&&!r.data("ui-tooltip-id")&&(r.attr("title")&&r.data("ui-tooltip-title",r.attr("title")),r.data("ui-tooltip-open",!0),t&&"mouseover"===t.type&&r.parents().each(function(){var t,r=e(this);r.data("ui-tooltip-open")&&((t=e.Event("blur")).target=t.currentTarget=this,n.close(t,!0)),r.attr("title")&&(r.uniqueId(),n.parents[this.id]={element:this,title:r.attr("title")},r.attr("title",""))}),this._registerCloseHandlers(t,r),this._updateContent(r,t))},_updateContent:function(e,t){var n,r=this.options.content,o=this,i=t?t.type:null;if("string"==typeof r||r.nodeType||r.jquery)return this._open(t,e,r);(n=r.call(e[0],function(n){o._delay(function(){e.data("ui-tooltip-open")&&(t&&(t.type=i),this._open(t,e,n))})}))&&this._open(t,e,n)},_open:function(t,n,r){var o,i,a,s,l=e.extend({},this.options.position);function c(e){l.of=e,i.is(":hidden")||i.position(l)}r&&((o=this._find(n))?o.tooltip.find(".ui-tooltip-content").html(r):(n.is("[title]")&&(t&&"mouseover"===t.type?n.attr("title",""):n.removeAttr("title")),o=this._tooltip(n),i=o.tooltip,this._addDescribedBy(n,i.attr("id")),i.find(".ui-tooltip-content").html(r),this.liveRegion.children().hide(),(s=e("<div>").html(i.find(".ui-tooltip-content").html())).removeAttr("name").find("[name]").removeAttr("name"),s.removeAttr("id").find("[id]").removeAttr("id"),s.appendTo(this.liveRegion),this.options.track&&t&&/^mouse/.test(t.type)?(this._on(this.document,{mousemove:c}),c(t)):i.position(e.extend({of:n},this.options.position)),i.hide(),this._show(i,this.options.show),this.options.track&&this.options.show&&this.options.show.delay&&(a=this.delayedShow=setInterval(function(){i.is(":visible")&&(c(l.of),clearInterval(a))},e.fx.interval)),this._trigger("open",t,{tooltip:i})))},_registerCloseHandlers:function(t,n){var r={keyup:function(t){if(t.keyCode===e.ui.keyCode.ESCAPE){var r=e.Event(t);r.currentTarget=n[0],this.close(r,!0)}}};n[0]!==this.element[0]&&(r.remove=function(){this._removeTooltip(this._find(n).tooltip)}),t&&"mouseover"!==t.type||(r.mouseleave="close"),t&&"focusin"!==t.type||(r.focusout="close"),this._on(!0,n,r)},close:function(t){var n,r=this,o=e(t?t.currentTarget:this.element),i=this._find(o);i?(n=i.tooltip,i.closing||(clearInterval(this.delayedShow),o.data("ui-tooltip-title")&&!o.attr("title")&&o.attr("title",o.data("ui-tooltip-title")),this._removeDescribedBy(o),i.hiding=!0,n.stop(!0),this._hide(n,this.options.hide,function(){r._removeTooltip(e(this))}),o.removeData("ui-tooltip-open"),this._off(o,"mouseleave focusout keyup"),o[0]!==this.element[0]&&this._off(o,"remove"),this._off(this.document,"mousemove"),t&&"mouseleave"===t.type&&e.each(this.parents,function(t,n){e(n.element).attr("title",n.title),delete r.parents[t]}),i.closing=!0,this._trigger("close",t,{tooltip:n}),i.hiding||(i.closing=!1))):o.removeData("ui-tooltip-open")},_tooltip:function(t){var n=e("<div>").attr("role","tooltip"),r=e("<div>").appendTo(n),o=n.uniqueId().attr("id");return this._addClass(r,"ui-tooltip-content"),this._addClass(n,"ui-tooltip","ui-widget ui-widget-content"),n.appendTo(this._appendTo(t)),this.tooltips[o]={element:t,tooltip:n}},_find:function(e){var t=e.data("ui-tooltip-id");return t?this.tooltips[t]:null},_removeTooltip:function(e){e.remove(),delete this.tooltips[e.attr("id")]},_appendTo:function(e){var t=e.closest(".ui-front, dialog");return t.length||(t=this.document[0].body),t},_destroy:function(){var t=this;e.each(this.tooltips,function(n,r){var o=e.Event("blur"),i=r.element;o.target=o.currentTarget=i[0],t.close(o,!0),e("#"+n).remove(),i.data("ui-tooltip-title")&&(i.attr("title")||i.attr("title",i.data("ui-tooltip-title")),i.removeData("ui-tooltip-title"))}),this.liveRegion.remove()}}),!1!==e.uiBackCompat&&e.widget("ui.tooltip",e.ui.tooltip,{options:{tooltipClass:null},_tooltip:function(){var e=this._superApply(arguments);return this.options.tooltipClass&&e.tooltip.addClass(this.options.tooltipClass),e}}),e.ui.tooltip})?r.apply(t,o):r)||(e.exports=i)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),BSC.eventRegistry=BSC.eventRegistry||{}}return r(e,null,[{key:"subscribe",value:function(e,t){this.register(e),BSC.eventRegistry[e]=BSC.eventRegistry[e]||[],BSC.eventRegistry[e].push(t)}},{key:"publish",value:function(e,t){this.register(e),BSC.eventRegistry[e]&&BSC.eventRegistry[e].forEach(function(e){e(t)})}},{key:"register",value:function(e){BSC.eventRegistry=BSC.eventRegistry||{},BSC.eventRegistry[e]=BSC.eventRegistry[e]||[]}},{key:"getEventsList",value:function(){return Object.keys(BSC.eventRegistry)}}]),e}();t.default=o,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return r(e,null,[{key:"getPage",value:function(e,t,n,r){e(t,n,r)}},{key:"getRemainingPages",value:function(e,t,n,r,o,i){var a=this;if(n>Math.ceil(r/t)&&i)return i(),!0;e(t,n,function(n,s){o(n,s),a.getRemainingPages(e,t,n+1,r,o,i)})}},{key:"getAllPages",value:function(e,t,n,r,o){this.getRemainingPages(e,t,1,n,r,o)}},{key:"getRemainingPagesBurst",value:function(e,t,n,r,o,i){for(var a=Math.ceil(r/t),s=[],l=n;l<=a;l++)s.push(new Promise(function(r,o){e(t,n)}));Promise.all(s).then(function(e){e.forEach(function(e,t){o(e)}),i()})}},{key:"getAllPagesBurst",value:function(e,t,n,r,o){this.getRemainingPagesAsync(e,t,1,n,r,o)}}]),e}();t.default=o,e.exports=t.default},function(e,t,n){"use strict";(function(r){var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){return e&&e.__esModule?e:{default:e}}(n(20)),s=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":o(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":o(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),i(t,[{key:"show",value:function(e){var t=this.buildUrl("/api/profile",e.params);return r.ajax({type:"GET",url:t}).done(function(t,n){t.avatarUrl=t.avatarURL,e.done(t)}).fail(function(t,n){e.fail(n)})}}]),t}();t.default=s,e.exports=t.default}).call(t,n(9))},function(e,t,n){e.exports=n.p+"images/study/needle-1-572bf28462eeda095926bb50014f2852.svg"},function(e,t,n){e.exports=n.p+"images/study/needle-white-b3e72c24e8db2237b7c4850b948b1205.svg"},function(e,t,n){e.exports=n.p+"images/study/rounds-chevron-0-29e0f726e95c63ecbe112d339c3e11fc.svg"},function(e,t,n){e.exports=n.p+"images/study/rounds-chevron-1-05ce279be8c17d23133bf33ce79f6ed4.svg"},function(e,t,n){e.exports=n.p+"images/study/rounds-chevron-2-9e6536a82f919f63e582deff243e9618.svg"},function(e,t,n){e.exports=n.p+"images/study/rounds-chevron-3-765bb90fd6beeb60519bebd0f01a0b3e.svg"},function(e,t,n){e.exports=n.p+"images/study/rounds-chevron-4-6254d599fcead280b8fb35767180d226.svg"},function(e,t,n){e.exports=n.p+"images/study/rounds-chevron-5-fcad19d68513cae7fb4568108c16ba60.svg"},function(e,t,n){e.exports=n.p+"images/study/rounds-chevron-0-active-29b8e3fdc6f10ad742a7d888bf5a3c00.svg"},function(e,t,n){e.exports=n.p+"images/study/rounds-chevron-1-active-c2c0f819a9f318b4ada8a8783c8f0cc4.svg"},function(e,t,n){e.exports=n.p+"images/study/rounds-chevron-2-active-bc082c5da0b4f27c468ddcb34c55cb55.svg"},function(e,t,n){e.exports=n.p+"images/study/rounds-chevron-3-active-cf62d788ea074305847bbd413de9bf96.svg"},function(e,t,n){e.exports=n.p+"images/study/rounds-chevron-4-active-f7c57a02519ee55a72aaa2fc020d0192.svg"},function(e,t,n){e.exports=n.p+"images/study/rounds-chevron-5-active-e27f0e590dec9dab329afd88fa69f6b7.svg"},function(e,t,n){"use strict";(function(r){var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0},s=d(n(58)),l=d(n(263)),c=d(n(20)),u=d(n(15));function d(e){return e&&e.__esModule?e:{default:e}}var p=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":o(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.memberName="StudySession",a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"generateNomenclature",n).call(n),n.resourceRoute="/api/study/cbr",n.schema={id:{key:"id",type:"text",label:"Id",tag:"id"}},n.nameKey="studySession",n.cbrManager,n.isFtse=e.isFtse,n.Pack=new u.default,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":o(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,c.default),i(t,[{key:"create",value:function(e){var t=this,n=this.buildUrl(this.resourceRoute,e.params);return r.ajax({method:"GET",url:n,dataType:"json",data:{classes:e.classes},cache:!1}).done(function(n,r){n=(0,s.default)({mixType:e.mixType,isFtse:t.isFtse},n),t.cbrManager=new l.default(n),e.done(n)}).fail(e.fail)}},{key:"start",value:function(e){var t=this.getNextStepIds();this.advance(null,t,e.done,e.fail)}},{key:"rateAndAdvance",value:function(e){var t=this.getCurrentStepIds(e.cardId);t.level=e.level,this.cbrManager.cardStudied(e.cardId,e.level);var n=this.getNextStepIds();this.advance(t,n,e.done,e.fail)}},{key:"advance",value:function(e,t,n,o){var i=this,a={dl_pack_id:t.packId,dl_deck_id:t.deckId,dl_card_id:t.cardId};e&&(a.upd_pack_id=e.packId,a.upd_deck_id=e.deckId,a.upd_card_id=e.cardId,a.upd_level=e.level),r.ajax({url:"/api/study/cbr",dataType:"json",data:a,method:"POST",cache:!1}).done(function(e){e.card.cardId=e.card.cardID,e.card.deckId=e.card.deckID,e.card.packId=t.packId;var r=i.cbrManager.getDeck(e.card.deckID);e.card.contentType=r.contentType||"text",n(e)}).fail(function(e){o?o(e):console.log("Something went wrong in StudyMixModel.advance. jqXHR:",e)})}},{key:"getCurrentStepIds",value:function(e){var t=this.cbrManager.getCard(e).deckID;return{packId:this.cbrManager.getDeck(t).packID,deckId:t,cardId:e}}},{key:"getNextStepIds",value:function(){var e=this.cbrManager.nextCardID(),t=this.cbrManager.getCard(e).deckID;return{cardId:e,deckId:t,packId:this.cbrManager.decks[t].packID}}},{key:"getStepData",value:function(e){var t=this.cbrManager.getCard(e),n=this.cbrManager.getDeck(t.deckID),r=this.cbrManager.getPack(n.packID);return t.deckId=t.deckID,n.cardIds=n.cardIDs,n.packId=n.packID,{card:t,deck:n,pack:r}}},{key:"getMastery",value:function(){return this.cbrManager.mastery()}},{key:"getRatingLevelCounts",value:function(){return this.cbrManager.confidenceLevelData()}},{key:"getTotalCardsStudied",value:function(){return this.cbrManager.getTotalCardsStudied()}},{key:"getMixMetadata",value:function(e){var t=this.cbrManager.getPacks(),n=this.cbrManager.getDecks(),r=this.cbrManager.getCards(),o=Object.keys(t)[0];this.Pack.show({id:o,done:function(i){var a={};a.dashboardPath=i.dashboardPath||"/",a.firstMixPackId=o,a.isMixRestricted=i.isRestricted||!1,a.isUserMixAdmin=i.isUserBscAdmin||!1,a.isUserPro=i.isUserPro||!1,a.libraryPath=i.showPath||"/",a.mixDecks=n,a.mixDescription=i.desc||null,a.mixFullname=i.fullName||null,a.mixIconUrl=i.iconUrl||null,a.mixName=i.name||null,a.userId=i.userId||null,a.mixCardCount=Object.keys(r).length,a.mixDeckCount=Object.keys(n).length,a.mixPackCount=Object.keys(t).length,e&&e(a)},fail:function(e){console.log("something went wrong in Pack.show. message:",e)}})}}]),t}();t.default=p,e.exports=t.default}).call(t,n(9))},function(e,t,n){var r=n(0),o=n(112),i=n(649),a=n(651),s=n(311),l=n(657),c={CLASS_NAME_ATTR:"data-react-class",PROPS_ATTR:"data-react-props",RENDER_ATTR:"data-hydrate",CACHE_ID_ATTR:"data-react-cache-id",TURBOLINKS_PERMANENT_ATTR:"data-turbolinks-permanent",jQuery:"undefined"!=typeof window&&void 0!==window.jQuery&&window.jQuery,components:{},findDOMNodes:function(e){var t,n,r=c.CLASS_NAME_ATTR;switch(typeof e){case"undefined":t="["+r+"]",n=document;break;case"object":t="["+r+"]",n=e;break;case"string":t=e+"["+r+"], "+e+" ["+r+"]",n=document}return c.jQuery?c.jQuery(t,n):n.querySelectorAll(t)},getConstructor:s,useContext:function(e){this.getConstructor=l(e)},serverRender:function(e,t,n){var o=this.getConstructor(t),a=r.createElement(o,n);return i[e](a)},mountComponents:function(e){for(var t=c,n=t.findDOMNodes(e),i=0;i<n.length;++i){var a=n[i],s=a.getAttribute(t.CLASS_NAME_ATTR),l=t.getConstructor(s),u=a.getAttribute(t.PROPS_ATTR),d=u&&JSON.parse(u),p=a.getAttribute(t.RENDER_ATTR),f=a.getAttribute(t.CACHE_ID_ATTR),h=a.hasAttribute(t.TURBOLINKS_PERMANENT_ATTR);if(!l){var m="Cannot find component: '"+s+"'";throw console&&console.log&&console.log("%c[react-rails] %c"+m+" for element","font-weight: bold","",a),new Error(m+". Make sure your component is available to render.")}{let e=this.components[f];void 0===e&&(e=r.createElement(l,d),h&&(this.components[f]=e)),e=p&&"function"==typeof o.hydrate?o.hydrate(e,a):o.render(e,a)}}},unmountComponents:function(e){for(var t=c.findDOMNodes(e),n=0;n<t.length;++n){var r=t[n];o.unmountComponentAtNode(r)}},detectEvents:function(){a(this)},handleMount:function(e){var t=void 0;e&&e.target&&(t=e.target),c.mountComponents(t)},handleUnmount:function(e){var t=void 0;e&&e.target&&(t=e.target),c.unmountComponents(t)}};"undefined"!=typeof window&&c.detectEvents(),self.ReactRailsUJS=c,e.exports=c},function(e,t,n){"use strict";e.exports=n(650)},function(e,t,n){"use strict";var r=n(58),o=n(0);function i(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a="function"==typeof Symbol&&Symbol.for,s=a?Symbol.for("react.portal"):60106,l=a?Symbol.for("react.fragment"):60107,c=a?Symbol.for("react.strict_mode"):60108,u=a?Symbol.for("react.profiler"):60114,d=a?Symbol.for("react.provider"):60109,p=a?Symbol.for("react.context"):60110,f=a?Symbol.for("react.concurrent_mode"):60111,h=a?Symbol.for("react.forward_ref"):60112,m=a?Symbol.for("react.suspense"):60113,g=a?Symbol.for("react.suspense_list"):60120,b=a?Symbol.for("react.memo"):60115,v=a?Symbol.for("react.lazy"):60116,y=a?Symbol.for("react.fundamental"):60117,k=a?Symbol.for("react.scope"):60119,_=o.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function w(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case l:return"Fragment";case s:return"Portal";case u:return"Profiler";case c:return"StrictMode";case m:return"Suspense";case g:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case p:return"Context.Consumer";case d:return"Context.Provider";case h:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case b:return w(e.type);case v:if(e=1===e._status?e._result:null)return w(e)}return null}_.hasOwnProperty("ReactCurrentDispatcher")||(_.ReactCurrentDispatcher={current:null}),_.hasOwnProperty("ReactCurrentBatchConfig")||(_.ReactCurrentBatchConfig={suspense:null});var C={};function S(e,t){for(var n=0|e._threadCount;n<=t;n++)e[n]=e._currentValue2,e._threadCount=n+1}for(var P=new Uint16Array(16),E=0;15>E;E++)P[E]=E+1;P[15]=0;var x=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,O=Object.prototype.hasOwnProperty,T={},M={};function A(e){return!!O.call(M,e)||!O.call(T,e)&&(x.test(e)?M[e]=!0:(T[e]=!0,!1))}function j(e,t,n,r,o,i){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i}var I={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){I[e]=new j(e,0,!1,e,null,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];I[t]=new j(t,1,!1,e[1],null,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){I[e]=new j(e,2,!1,e.toLowerCase(),null,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){I[e]=new j(e,2,!1,e,null,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){I[e]=new j(e,3,!1,e.toLowerCase(),null,!1)}),["checked","multiple","muted","selected"].forEach(function(e){I[e]=new j(e,3,!0,e,null,!1)}),["capture","download"].forEach(function(e){I[e]=new j(e,4,!1,e,null,!1)}),["cols","rows","size","span"].forEach(function(e){I[e]=new j(e,6,!1,e,null,!1)}),["rowSpan","start"].forEach(function(e){I[e]=new j(e,5,!1,e.toLowerCase(),null,!1)});var N=/[\-:]([a-z])/g;function R(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(N,R);I[t]=new j(t,1,!1,e,null,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(N,R);I[t]=new j(t,1,!1,e,"http://www.w3.org/1999/xlink",!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(N,R);I[t]=new j(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1)}),["tabIndex","crossOrigin"].forEach(function(e){I[e]=new j(e,1,!1,e.toLowerCase(),null,!1)}),I.xlinkHref=new j("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0),["src","href","action","formAction"].forEach(function(e){I[e]=new j(e,1,!1,e.toLowerCase(),null,!0)});var D=/["'&<>]/;function L(e){if("boolean"==typeof e||"number"==typeof e)return""+e;e=""+e;var t=D.exec(e);if(t){var n,r="",o=0;for(n=t.index;n<e.length;n++){switch(e.charCodeAt(n)){case 34:t="&quot;";break;case 38:t="&amp;";break;case 39:t="&#x27;";break;case 60:t="&lt;";break;case 62:t="&gt;";break;default:continue}o!==n&&(r+=e.substring(o,n)),o=n+1,r+=t}e=o!==n?r+e.substring(o,n):r}return e}function B(e,t){var n,r=I.hasOwnProperty(e)?I[e]:null;return(n="style"!==e)&&(n=null!==r?0===r.type:2<e.length&&("o"===e[0]||"O"===e[0])&&("n"===e[1]||"N"===e[1])),n||function(e,t,n,r){if(null===t||void 0===t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e;default:return!1}}(e,t,n))return!0;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(e,t,r)?"":null!==r?(e=r.attributeName,3===(n=r.type)||4===n&&!0===t?e+'=""':(r.sanitizeURL&&(t=""+t),e+'="'+L(t)+'"')):A(e)?e+'="'+L(t)+'"':""}var F="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},U=null,q=null,z=null,H=!1,V=!1,W=null,G=0;function Y(){if(null===U)throw Error(i(321));return U}function K(){if(0<G)throw Error(i(312));return{memoizedState:null,queue:null,next:null}}function $(){return null===z?null===q?(H=!1,q=z=K()):(H=!0,z=q):null===z.next?(H=!1,z=z.next=K()):(H=!0,z=z.next),z}function Q(e,t,n,r){for(;V;)V=!1,G+=1,z=null,n=e(t,r);return q=U=null,G=0,z=W=null,n}function J(e,t){return"function"==typeof t?t(e):t}function X(e,t,n){if(U=Y(),z=$(),H){var r=z.queue;if(t=r.dispatch,null!==W&&void 0!==(n=W.get(r))){W.delete(r),r=z.memoizedState;do{r=e(r,n.action),n=n.next}while(null!==n);return z.memoizedState=r,[r,t]}return[z.memoizedState,t]}return e=e===J?"function"==typeof t?t():t:void 0!==n?n(t):t,z.memoizedState=e,e=(e=z.queue={last:null,dispatch:null}).dispatch=function(e,t,n){if(!(25>G))throw Error(i(301));if(e===U)if(V=!0,e={action:n,next:null},null===W&&(W=new Map),void 0===(n=W.get(t)))W.set(t,e);else{for(t=n;null!==t.next;)t=t.next;t.next=e}}.bind(null,U,e),[z.memoizedState,e]}function Z(){}var ee=0,te={readContext:function(e){var t=ee;return S(e,t),e[t]},useContext:function(e){Y();var t=ee;return S(e,t),e[t]},useMemo:function(e,t){if(U=Y(),z=$(),t=void 0===t?null:t,null!==z){var n=z.memoizedState;if(null!==n&&null!==t){e:{var r=n[1];if(null===r)r=!1;else{for(var o=0;o<r.length&&o<t.length;o++)if(!F(t[o],r[o])){r=!1;break e}r=!0}}if(r)return n[0]}}return e=e(),z.memoizedState=[e,t],e},useReducer:X,useRef:function(e){U=Y();var t=(z=$()).memoizedState;return null===t?(e={current:e},z.memoizedState=e):t},useState:function(e){return X(J,e)},useLayoutEffect:function(){},useCallback:function(e){return e},useImperativeHandle:Z,useEffect:Z,useDebugValue:Z,useResponder:function(e,t){return{props:t,responder:e}},useDeferredValue:function(e){return Y(),e},useTransition:function(){return Y(),[function(e){e()},!1]}},ne={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function re(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}var oe={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},ie=r({menuitem:!0},oe),ae={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},se=["Webkit","ms","Moz","O"];Object.keys(ae).forEach(function(e){se.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ae[t]=ae[e]})});var le=/([A-Z])/g,ce=/^ms-/,ue=o.Children.toArray,de=_.ReactCurrentDispatcher,pe={listing:!0,pre:!0,textarea:!0},fe=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,he={},me={},ge=Object.prototype.hasOwnProperty,be={children:null,dangerouslySetInnerHTML:null,suppressContentEditableWarning:null,suppressHydrationWarning:null};function ve(e,t){if(void 0===e)throw Error(i(152,w(t)||"Component"))}function ye(e,t,n){function a(o,a){var s=a.prototype&&a.prototype.isReactComponent,l=function(e,t,n,r){if(r&&"object"==typeof(r=e.contextType)&&null!==r)return S(r,n),r[n];if(e=e.contextTypes){for(var o in n={},e)n[o]=t[o];t=n}else t=C;return t}(a,t,n,s),c=[],u=!1,d={isMounted:function(){return!1},enqueueForceUpdate:function(){if(null===c)return null},enqueueReplaceState:function(e,t){u=!0,c=[t]},enqueueSetState:function(e,t){if(null===c)return null;c.push(t)}};if(s){if(s=new a(o.props,l,d),"function"==typeof a.getDerivedStateFromProps){var p=a.getDerivedStateFromProps.call(null,o.props,s.state);null!=p&&(s.state=r({},s.state,p))}}else if(U={},s=a(o.props,l,d),null==(s=Q(a,o.props,s,l))||null==s.render)return void ve(e=s,a);if(s.props=o.props,s.context=l,s.updater=d,void 0===(d=s.state)&&(s.state=d=null),"function"==typeof s.UNSAFE_componentWillMount||"function"==typeof s.componentWillMount)if("function"==typeof s.componentWillMount&&"function"!=typeof a.getDerivedStateFromProps&&s.componentWillMount(),"function"==typeof s.UNSAFE_componentWillMount&&"function"!=typeof a.getDerivedStateFromProps&&s.UNSAFE_componentWillMount(),c.length){d=c;var f=u;if(c=null,u=!1,f&&1===d.length)s.state=d[0];else{p=f?d[0]:s.state;var h=!0;for(f=f?1:0;f<d.length;f++){var m=d[f];null!=(m="function"==typeof m?m.call(s,p,o.props,l):m)&&(h?(h=!1,p=r({},p,m)):r(p,m))}s.state=p}}else c=null;if(ve(e=s.render(),a),"function"==typeof s.getChildContext&&"object"==typeof(o=a.childContextTypes)){var g=s.getChildContext();for(var b in g)if(!(b in o))throw Error(i(108,w(a)||"Unknown",b))}g&&(t=r({},t,g))}for(;o.isValidElement(e);){var s=e,l=s.type;if("function"!=typeof l)break;a(s,l)}return{child:e,context:t}}var ke=function(){function e(e,t){o.isValidElement(e)?e.type!==l?e=[e]:(e=e.props.children,e=o.isValidElement(e)?[e]:ue(e)):e=ue(e),e={type:null,domNamespace:ne.html,children:e,childIndex:0,context:C,footer:""};var n=P[0];if(0===n){var r=P,a=2*(n=r.length);if(!(65536>=a))throw Error(i(304));var s=new Uint16Array(a);for(s.set(r),(P=s)[0]=n+1,r=n;r<a-1;r++)P[r]=r+1;P[a-1]=0}else P[0]=P[n];this.threadID=n,this.stack=[e],this.exhausted=!1,this.currentSelectValue=null,this.previousWasTextNode=!1,this.makeStaticMarkup=t,this.suspenseDepth=0,this.contextIndex=-1,this.contextStack=[],this.contextValueStack=[]}var t=e.prototype;return t.destroy=function(){if(!this.exhausted){this.exhausted=!0,this.clearProviders();var e=this.threadID;P[e]=P[0],P[0]=e}},t.pushProvider=function(e){var t=++this.contextIndex,n=e.type._context,r=this.threadID;S(n,r);var o=n[r];this.contextStack[t]=n,this.contextValueStack[t]=o,n[r]=e.props.value},t.popProvider=function(){var e=this.contextIndex,t=this.contextStack[e],n=this.contextValueStack[e];this.contextStack[e]=null,this.contextValueStack[e]=null,this.contextIndex--,t[this.threadID]=n},t.clearProviders=function(){for(var e=this.contextIndex;0<=e;e--)this.contextStack[e][this.threadID]=this.contextValueStack[e]},t.read=function(e){if(this.exhausted)return null;var t=ee;ee=this.threadID;var n=de.current;de.current=te;try{for(var r=[""],o=!1;r[0].length<e;){if(0===this.stack.length){this.exhausted=!0;var a=this.threadID;P[a]=P[0],P[0]=a;break}var s=this.stack[this.stack.length-1];if(o||s.childIndex>=s.children.length){var l=s.footer;if(""!==l&&(this.previousWasTextNode=!1),this.stack.pop(),"select"===s.type)this.currentSelectValue=null;else if(null!=s.type&&null!=s.type.type&&s.type.type.$$typeof===d)this.popProvider(s.type);else if(s.type===m){this.suspenseDepth--;var c=r.pop();if(o){o=!1;var u=s.fallbackFrame;if(!u)throw Error(i(303));this.stack.push(u),r[this.suspenseDepth]+="\x3c!--$!--\x3e";continue}r[this.suspenseDepth]+=c}r[this.suspenseDepth]+=l}else{var p=s.children[s.childIndex++],f="";try{f+=this.render(p,s.context,s.domNamespace)}catch(e){if(null!=e&&"function"==typeof e.then)throw Error(i(294));throw e}r.length<=this.suspenseDepth&&r.push(""),r[this.suspenseDepth]+=f}}return r[0]}finally{de.current=n,ee=t}},t.render=function(e,t,n){if("string"==typeof e||"number"==typeof e)return""===(n=""+e)?"":this.makeStaticMarkup?L(n):this.previousWasTextNode?"\x3c!-- --\x3e"+L(n):(this.previousWasTextNode=!0,L(n));if(e=(t=ye(e,t,this.threadID)).child,t=t.context,null===e||!1===e)return"";if(!o.isValidElement(e)){if(null!=e&&null!=e.$$typeof){if((n=e.$$typeof)===s)throw Error(i(257));throw Error(i(258,n.toString()))}return e=ue(e),this.stack.push({type:null,domNamespace:n,children:e,childIndex:0,context:t,footer:""}),""}var a=e.type;if("string"==typeof a)return this.renderDOM(e,t,n);switch(a){case c:case f:case u:case g:case l:return e=ue(e.props.children),this.stack.push({type:null,domNamespace:n,children:e,childIndex:0,context:t,footer:""}),"";case m:throw Error(i(294))}if("object"==typeof a&&null!==a)switch(a.$$typeof){case h:U={};var _=a.render(e.props,e.ref);return _=Q(a.render,e.props,_,e.ref),_=ue(_),this.stack.push({type:null,domNamespace:n,children:_,childIndex:0,context:t,footer:""}),"";case b:return e=[o.createElement(a.type,r({ref:e.ref},e.props))],this.stack.push({type:null,domNamespace:n,children:e,childIndex:0,context:t,footer:""}),"";case d:return n={type:e,domNamespace:n,children:a=ue(e.props.children),childIndex:0,context:t,footer:""},this.pushProvider(e),this.stack.push(n),"";case p:a=e.type,_=e.props;var w=this.threadID;return S(a,w),a=ue(_.children(a[w])),this.stack.push({type:e,domNamespace:n,children:a,childIndex:0,context:t,footer:""}),"";case y:throw Error(i(338));case v:switch(function(e){if(-1===e._status){e._status=0;var t=e._ctor;t=t(),e._result=t,t.then(function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)},function(t){0===e._status&&(e._status=2,e._result=t)})}}(a=e.type),a._status){case 1:return e=[o.createElement(a._result,r({ref:e.ref},e.props))],this.stack.push({type:null,domNamespace:n,children:e,childIndex:0,context:t,footer:""}),"";case 2:throw a._result;default:throw Error(i(295))}case k:throw Error(i(343))}throw Error(i(130,null==a?a:typeof a,""))},t.renderDOM=function(e,t,n){var a=e.type.toLowerCase();if(n===ne.html&&re(a),!he.hasOwnProperty(a)){if(!fe.test(a))throw Error(i(65,a));he[a]=!0}var s=e.props;if("input"===a)s=r({type:void 0},s,{defaultChecked:void 0,defaultValue:void 0,value:null!=s.value?s.value:s.defaultValue,checked:null!=s.checked?s.checked:s.defaultChecked});else if("textarea"===a){var l=s.value;if(null==l){l=s.defaultValue;var c=s.children;if(null!=c){if(null!=l)throw Error(i(92));if(Array.isArray(c)){if(!(1>=c.length))throw Error(i(93));c=c[0]}l=""+c}null==l&&(l="")}s=r({},s,{value:void 0,children:""+l})}else if("select"===a)this.currentSelectValue=null!=s.value?s.value:s.defaultValue,s=r({},s,{value:void 0});else if("option"===a){c=this.currentSelectValue;var u=function(e){if(void 0===e||null===e)return e;var t="";return o.Children.forEach(e,function(e){null!=e&&(t+=e)}),t}(s.children);if(null!=c){var d=null!=s.value?s.value+"":u;if(l=!1,Array.isArray(c)){for(var p=0;p<c.length;p++)if(""+c[p]===d){l=!0;break}}else l=""+c===d;s=r({selected:void 0,children:void 0},s,{selected:l,children:u})}}if(l=s){if(ie[a]&&(null!=l.children||null!=l.dangerouslySetInnerHTML))throw Error(i(137,a,""));if(null!=l.dangerouslySetInnerHTML){if(null!=l.children)throw Error(i(60));if(!("object"==typeof l.dangerouslySetInnerHTML&&"__html"in l.dangerouslySetInnerHTML))throw Error(i(61))}if(null!=l.style&&"object"!=typeof l.style)throw Error(i(62,""))}for(k in l=s,c=this.makeStaticMarkup,u=1===this.stack.length,d="<"+e.type,l)if(ge.call(l,k)){var f=l[k];if(null!=f){if("style"===k){p=void 0;var h="",m="";for(p in f)if(f.hasOwnProperty(p)){var g=0===p.indexOf("--"),b=f[p];if(null!=b){if(g)var v=p;else if(v=p,me.hasOwnProperty(v))v=me[v];else{var y=v.replace(le,"-$1").toLowerCase().replace(ce,"-ms-");v=me[v]=y}h+=m+v+":",m=p,h+=g=null==b||"boolean"==typeof b||""===b?"":g||"number"!=typeof b||0===b||ae.hasOwnProperty(m)&&ae[m]?(""+b).trim():b+"px",m=";"}}f=h||null}p=null;e:if(g=a,b=l,-1===g.indexOf("-"))g="string"==typeof b.is;else switch(g){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":g=!1;break e;default:g=!0}g?be.hasOwnProperty(k)||(p=A(p=k)&&null!=f?p+'="'+L(f)+'"':""):p=B(k,f),p&&(d+=" "+p)}}c||u&&(d+=' data-reactroot=""');var k=d;l="",oe.hasOwnProperty(a)?k+="/>":(k+=">",l="</"+e.type+">");e:{if(null!=(c=s.dangerouslySetInnerHTML)){if(null!=c.__html){c=c.__html;break e}}else if("string"==typeof(c=s.children)||"number"==typeof c){c=L(c);break e}c=null}return null!=c?(s=[],pe[a]&&"\n"===c.charAt(0)&&(k+="\n"),k+=c):s=ue(s.children),e=e.type,n=null==n||"http://www.w3.org/1999/xhtml"===n?re(e):"http://www.w3.org/2000/svg"===n&&"foreignObject"===e?"http://www.w3.org/1999/xhtml":n,this.stack.push({domNamespace:n,type:a,children:s,childIndex:0,context:t,footer:l}),this.previousWasTextNode=!1,k},e}(),_e={renderToString:function(e){e=new ke(e,!1);try{return e.read(1/0)}finally{e.destroy()}},renderToStaticMarkup:function(e){e=new ke(e,!0);try{return e.read(1/0)}finally{e.destroy()}},renderToNodeStream:function(){throw Error(i(207))},renderToStaticNodeStream:function(){throw Error(i(208))},version:"16.12.0"},we={default:_e},Ce=we&&_e||we;e.exports=Ce.default||Ce},function(e,t,n){(function(t){var r=n(652),o=n(653),i=n(654),a=n(655),s=n(656);e.exports=function(e){e.handleEvent&&("undefined"!=typeof Turbolinks&&void 0!==Turbolinks.EVENTS&&s.teardown(e),i.teardown(e),a.teardown(e),o.teardown(e),r.teardown(e)),"addEventListener"in window?(e.handleEvent=function(e,t){document.addEventListener(e,t)},e.removeEvent=function(e,t){document.removeEventListener(e,t)}):(e.handleEvent=function(e,t){window.attachEvent(e,t)},e.removeEvent=function(e,t){window.detachEvent(e,t)}),"undefined"!=typeof Turbolinks&&Turbolinks.supported?void 0!==Turbolinks.EVENTS?s.setup(e):void 0!==Turbolinks.controller?i.setup(e):a.setup(e):void 0!==t&&"function"==typeof t.pjax?o.setup(e):r.setup(e)}}).call(t,n(9))},function(e,t){e.exports={setup:function(e){"addEventListener"in window?e.handleEvent("DOMContentLoaded",e.handleMount):e.handleEvent("onload",e.handleMount)},teardown:function(e){e.removeEvent("DOMContentLoaded",e.handleMount),e.removeEvent("onload",e.handleMount)}}},function(e,t){e.exports={setup:function(e){e.handleEvent("ready",e.handleMount),e.handleEvent("pjax:end",e.handleMount),e.handleEvent("pjax:beforeReplace",e.handleUnmount)},teardown:function(e){e.removeEvent("ready",e.handleMount),e.removeEvent("pjax:end",e.handleMount),e.removeEvent("pjax:beforeReplace",e.handleUnmount)}}},function(e,t){e.exports={setup:function(e){e.handleEvent("turbolinks:load",e.handleMount),e.handleEvent("turbolinks:before-render",e.handleMount)},teardown:function(e){e.removeEvent("turbolinks:load",e.handleMount),e.removeEvent("turbolinks:before-render",e.handleMount)}}},function(e,t){e.exports={setup:function(e){Turbolinks.pagesCached(0),e.handleEvent("page:change",e.handleMount),e.handleEvent("page:receive",e.handleUnmount)},teardown:function(e){e.removeEvent("page:change",e.handleMount),e.removeEvent("page:receive",e.handleUnmount)}}},function(e,t){e.exports={setup:function(e){e.handleEvent(Turbolinks.EVENTS.CHANGE,e.handleMount),e.handleEvent(Turbolinks.EVENTS.BEFORE_UNLOAD,e.handleUnmount)},teardown:function(e){e.removeEvent(Turbolinks.EVENTS.CHANGE,e.handleMount),e.removeEvent(Turbolinks.EVENTS.BEFORE_UNLOAD,e.handleUnmount)}}},function(e,t,n){var r=n(311),o=n(658);e.exports=function(e){var t=o(e);return function(e){var n;try{n=t(e)}catch(t){try{n=r(e)}catch(e){console.error(t),console.error(e)}}return n}}},function(e,t){e.exports=function(e){return function(t){var n=t.split("."),r=n.shift(),o=n,i=e("./"+r);return o.forEach(function(e){i=i[e]}),i.__esModule&&(i=i.default),i}}},function(e,t,n){"use strict";n.d(t,"a",function(){return a}),t.b=function(e){s().push(e)};var r=n(29),o=n(23),i=n(661),a=function(){function e(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._user={},this._tags={},this._extra={},this._context={}}return e.prototype.addScopeListener=function(e){this._scopeListeners.push(e)},e.prototype.addEventProcessor=function(e){return this._eventProcessors.push(e),this},e.prototype._notifyScopeListeners=function(){var e=this;this._notifyingListeners||(this._notifyingListeners=!0,setTimeout(function(){e._scopeListeners.forEach(function(t){t(e)}),e._notifyingListeners=!1}))},e.prototype._notifyEventProcessors=function(e,t,n,i){var a=this;return void 0===i&&(i=0),new o.c(function(s,l){var c=e[i];if(null===t||"function"!=typeof c)s(t);else{var u=c(r.a({},t),n);Object(o.r)(u)?u.then(function(t){return a._notifyEventProcessors(e,t,n,i+1).then(s)}).catch(l):a._notifyEventProcessors(e,u,n,i+1).then(s).catch(l)}})},e.prototype.setUser=function(e){return this._user=Object(o.u)(e),this._notifyScopeListeners(),this},e.prototype.setTags=function(e){return this._tags=r.a({},this._tags,Object(o.u)(e)),this._notifyScopeListeners(),this},e.prototype.setTag=function(e,t){var n;return this._tags=r.a({},this._tags,((n={})[e]=Object(o.u)(t),n)),this._notifyScopeListeners(),this},e.prototype.setExtras=function(e){return this._extra=r.a({},this._extra,Object(o.u)(e)),this._notifyScopeListeners(),this},e.prototype.setExtra=function(e,t){var n;return this._extra=r.a({},this._extra,((n={})[e]=Object(o.u)(t),n)),this._notifyScopeListeners(),this},e.prototype.setFingerprint=function(e){return this._fingerprint=Object(o.u)(e),this._notifyScopeListeners(),this},e.prototype.setLevel=function(e){return this._level=Object(o.u)(e),this._notifyScopeListeners(),this},e.prototype.setTransaction=function(e){return this._transaction=e,this._notifyScopeListeners(),this},e.prototype.setContext=function(e,t){return this._context[e]=t?Object(o.u)(t):void 0,this._notifyScopeListeners(),this},e.prototype.setSpan=function(e){return this._span=e,this._notifyScopeListeners(),this},e.prototype.startSpan=function(){var e=new i.a;return this.setSpan(e),e},e.prototype.getSpan=function(){return this._span},e.clone=function(t){var n=new e;return Object.assign(n,t,{_scopeListeners:[]}),t&&(n._breadcrumbs=r.f(t._breadcrumbs),n._tags=r.a({},t._tags),n._extra=r.a({},t._extra),n._context=r.a({},t._context),n._user=t._user,n._level=t._level,n._span=t._span,n._transaction=t._transaction,n._fingerprint=t._fingerprint,n._eventProcessors=r.f(t._eventProcessors)),n},e.prototype.clear=function(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._context={},this._level=void 0,this._transaction=void 0,this._fingerprint=void 0,this._span=void 0,this._notifyScopeListeners(),this},e.prototype.addBreadcrumb=function(e,t){var n=(new Date).getTime()/1e3,i=r.a({timestamp:n},e);return this._breadcrumbs=void 0!==t&&t>=0?r.f(this._breadcrumbs,[Object(o.u)(i)]).slice(-t):r.f(this._breadcrumbs,[Object(o.u)(i)]),this._notifyScopeListeners(),this},e.prototype.clearBreadcrumbs=function(){return this._breadcrumbs=[],this._notifyScopeListeners(),this},e.prototype._applyFingerprint=function(e){e.fingerprint=e.fingerprint?Array.isArray(e.fingerprint)?e.fingerprint:[e.fingerprint]:[],this._fingerprint&&(e.fingerprint=e.fingerprint.concat(this._fingerprint)),e.fingerprint&&!e.fingerprint.length&&delete e.fingerprint},e.prototype.applyToEvent=function(e,t){return this._extra&&Object.keys(this._extra).length&&(e.extra=r.a({},this._extra,e.extra)),this._tags&&Object.keys(this._tags).length&&(e.tags=r.a({},this._tags,e.tags)),this._user&&Object.keys(this._user).length&&(e.user=r.a({},this._user,e.user)),this._context&&Object.keys(this._context).length&&(e.contexts=r.a({},this._context,e.contexts)),this._level&&(e.level=this._level),this._transaction&&(e.transaction=this._transaction),this._span&&(e.contexts=e.contexts||{},e.contexts.trace=this._span),this._applyFingerprint(e),e.breadcrumbs=r.f(e.breadcrumbs||[],this._breadcrumbs),e.breadcrumbs=e.breadcrumbs.length>0?e.breadcrumbs:void 0,this._notifyEventProcessors(r.f(s(),this._eventProcessors),e,t)},e}();function s(){var e=Object(o.i)();return e.__SENTRY__=e.__SENTRY__||{},e.__SENTRY__.globalEventProcessors=e.__SENTRY__.globalEventProcessors||[],e.__SENTRY__.globalEventProcessors}},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r=function(){function e(){this._hasWeakSet="function"==typeof WeakSet,this._inner=this._hasWeakSet?new WeakSet:[]}return e.prototype.memoize=function(e){if(this._hasWeakSet)return!!this._inner.has(e)||(this._inner.add(e),!1);for(var t=0;t<this._inner.length;t++)if(this._inner[t]===e)return!0;return this._inner.push(e),!1},e.prototype.unmemoize=function(e){if(this._hasWeakSet)this._inner.delete(e);else for(var t=0;t<this._inner.length;t++)if(this._inner[t]===e){this._inner.splice(t,1);break}},e}()},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(23),o=/([0-9a-f]{2})-([0-9a-f]{32})-([0-9a-f]{16})-([0-9a-f]{2})/,i=function(){function e(e,t,n,o){void 0===e&&(e=Object(r.E)()),void 0===t&&(t=Object(r.E)().substring(16)),void 0===n&&(n=!1),this._traceId=e,this._spanId=t,this._recorded=n,this._parent=o}return e.fromTraceparent=function(t){var n=t.match(o);if(n){var r=new e(n[2],n[3],"01"===n[4]);return new e(n[2],void 0,void 0,r)}},e.prototype.toTraceparent=function(){return"00-"+this._traceId+"-"+this._spanId+"-"+(this._recorded?"01":"00")},e.prototype.toJSON=function(){return{parent:this._parent&&this._parent.toJSON()||void 0,span_id:this._spanId,trace_id:this._traceId}},e}()},,,,function(e,t,n){"use strict";!function(e){e&&e.__esModule}(n(666));var r=n(359);n(648).useContext(r)},function(e,t,n){"use strict";var r=s(n(667)),o=s(n(675)),i=s(n(676)),a=s(n(677));function s(e){return e&&e.__esModule?e:{default:e}}document.addEventListener("DOMContentLoaded",function(){r.default.init(),a.default.init(),o.default.init(),i.default.init()})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(668)),o=a(n(673)),i=(a(n(674)),a(n(1)));function a(e){return e&&e.__esModule?e:{default:e}}var s=n(9);window.jQuery=s,window.$=s,window.Util=i.default;var l={init:function(){window.BSC=window.BSC||{},BSC.userId=BSC.userId||null,BSC.gaDimensions=BSC.gaDimensions||[],BSC.gaPageUrl=BSC.gaPageUrl||null,new o.default({elements_selector:".lazy-load",load_delay:300});var e=i.default.getMeta("JSSentryEnv");"true"==i.default.getMeta("JSSentryOn")&&r.init({dsn:"https://5c360771b43f4cb9b6d3e940553f2307@sentry.io/1476831",environment:e}),window.NodeList&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=Array.prototype.forEach)}};t.default=l,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={};n.d(r,"FunctionToString",function(){return N}),n.d(r,"InboundFilters",function(){return D});var o={};n.d(o,"BaseTransport",function(){return Z}),n.d(o,"FetchTransport",function(){return te}),n.d(o,"XHRTransport",function(){return ne});var i={};n.d(i,"GlobalHandlers",function(){return he}),n.d(i,"TryCatch",function(){return me}),n.d(i,"Breadcrumbs",function(){return ye}),n.d(i,"LinkedErrors",function(){return Ce}),n.d(i,"UserAgent",function(){return Pe});var a,s,l,c=n(29);!function(e){e[e.None=0]="None",e[e.Error=1]="Error",e[e.Debug=2]="Debug",e[e.Verbose=3]="Verbose"}(a||(a={})),function(e){e.Fatal="fatal",e.Error="error",e.Warning="warning",e.Log="log",e.Info="info",e.Debug="debug",e.Critical="critical"}(s||(s={})),function(e){e.fromString=function(t){switch(t){case"debug":return e.Debug;case"info":return e.Info;case"warn":case"warning":return e.Warning;case"error":return e.Error;case"fatal":return e.Fatal;case"critical":return e.Critical;case"log":default:return e.Log}}}(s||(s={})),function(e){e.Unknown="unknown",e.Skipped="skipped",e.Success="success",e.RateLimit="rate_limit",e.Invalid="invalid",e.Failed="failed"}(l||(l={})),function(e){e.fromHttpCode=function(t){return t>=200&&t<300?e.Success:429===t?e.RateLimit:t>=400&&t<500?e.Invalid:t>=500?e.Failed:e.Unknown}}(l||(l={}));var u=n(659),d=n(671);function p(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=Object(d.b)();if(r&&r[e])return r[e].apply(r,c.f(t));throw new Error("No hub defined or "+e+" was not found on the hub, please open a bug report.")}function f(e){var t;try{throw new Error("Sentry syntheticException")}catch(e){t=e}return p("captureException",e,{originalException:e,syntheticException:t})}function h(e,t){var n;try{throw new Error(e)}catch(e){n=e}return p("captureMessage",e,t,{originalException:e,syntheticException:n})}function m(e){return p("captureEvent",e)}function g(e){p("configureScope",e)}function b(e){p("addBreadcrumb",e)}function v(e,t){p("setContext",e,t)}function y(e){p("setExtras",e)}function k(e){p("setTags",e)}function _(e,t){p("setExtra",e,t)}function w(e,t){p("setTag",e,t)}function C(e){p("setUser",e)}function S(e){p("withScope",e)}n(661);var P=n(23),E=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+))?@)([\w\.-]+)(?::(\d+))?\/(.+)/,x=function(){function e(e){"string"==typeof e?this._fromString(e):this._fromComponents(e),this._validate()}return e.prototype.toString=function(e){void 0===e&&(e=!1);var t=this,n=t.host,r=t.path,o=t.pass,i=t.port,a=t.projectId;return t.protocol+"://"+t.user+(e&&o?":"+o:"")+"@"+n+(i?":"+i:"")+"/"+(r?r+"/":r)+a},e.prototype._fromString=function(e){var t=E.exec(e);if(!t)throw new P.b("Invalid Dsn");var n=c.e(t.slice(1),6),r=n[0],o=n[1],i=n[2],a=void 0===i?"":i,s=n[3],l=n[4],u=void 0===l?"":l,d="",p=n[5],f=p.split("/");f.length>1&&(d=f.slice(0,-1).join("/"),p=f.pop()),Object.assign(this,{host:s,pass:a,path:d,projectId:p,port:u,protocol:r,user:o})},e.prototype._fromComponents=function(e){this.protocol=e.protocol,this.user=e.user,this.pass=e.pass||"",this.host=e.host,this.port=e.port||"",this.path=e.path||"",this.projectId=e.projectId},e.prototype._validate=function(){var e=this;if(["protocol","user","host","projectId"].forEach(function(t){if(!e[t])throw new P.b("Invalid Dsn")}),"http"!==this.protocol&&"https"!==this.protocol)throw new P.b("Invalid Dsn");if(this.port&&Number.isNaN(parseInt(this.port,10)))throw new P.b("Invalid Dsn")},e}(),O=function(){function e(e){this.dsn=e,this._dsnObject=new x(e)}return e.prototype.getDsn=function(){return this._dsnObject},e.prototype.getStoreEndpoint=function(){return""+this._getBaseUrl()+this.getStoreEndpointPath()},e.prototype.getStoreEndpointWithUrlEncodedAuth=function(){var e={sentry_key:this._dsnObject.user,sentry_version:"7"};return this.getStoreEndpoint()+"?"+Object(P.D)(e)},e.prototype._getBaseUrl=function(){var e=this._dsnObject,t=e.protocol?e.protocol+":":"",n=e.port?":"+e.port:"";return t+"//"+e.host+n},e.prototype.getStoreEndpointPath=function(){var e=this._dsnObject;return(e.path?"/"+e.path:"")+"/api/"+e.projectId+"/store/"},e.prototype.getRequestHeaders=function(e,t){var n=this._dsnObject,r=["Sentry sentry_version=7"];return r.push("sentry_timestamp="+(new Date).getTime()),r.push("sentry_client="+e+"/"+t),r.push("sentry_key="+n.user),n.pass&&r.push("sentry_secret="+n.pass),{"Content-Type":"application/json","X-Sentry-Auth":r.join(", ")}},e.prototype.getReportDialogEndpoint=function(e){void 0===e&&(e={});var t=this._dsnObject,n=this._getBaseUrl()+(t.path?"/"+t.path:"")+"/api/embed/error-page/",r=[];for(var o in r.push("dsn="+t.toString()),e)if("user"===o){if(!e.user)continue;e.user.name&&r.push("name="+encodeURIComponent(e.user.name)),e.user.email&&r.push("email="+encodeURIComponent(e.user.email))}else r.push(encodeURIComponent(o)+"="+encodeURIComponent(e[o]));return r.length?n+"?"+r.join("&"):n},e}(),T=[];var M,A=function(){function e(e,t){this._processing=!1,this._backend=new e(t),this._options=t,t.dsn&&(this._dsn=new x(t.dsn)),this._integrations=function(e){var t={};return function(e){var t=e.defaultIntegrations&&c.f(e.defaultIntegrations)||[],n=e.integrations,r=[];if(Array.isArray(n)){var o=n.map(function(e){return e.name}),i=[];t.forEach(function(e){-1===o.indexOf(e.name)&&-1===i.indexOf(e.name)&&(r.push(e),i.push(e.name))}),n.forEach(function(e){-1===i.indexOf(e.name)&&(r.push(e),i.push(e.name))})}else{if("function"!=typeof n)return c.f(t);r=n(t),r=Array.isArray(r)?r:[r]}return r}(e).forEach(function(e){t[e.name]=e,function(e){-1===T.indexOf(e.name)&&(e.setupOnce(u.b,d.b),T.push(e.name),P.t.log("Integration installed: "+e.name))}(e)}),t}(this._options)}return e.prototype.captureException=function(e,t,n){var r=this,o=t&&t.event_id;return this._processing=!0,this._getBackend().eventFromException(e,t).then(function(e){return r._processEvent(e,t,n)}).then(function(e){o=e&&e.event_id,r._processing=!1}).catch(function(e){P.t.error(e),r._processing=!1}),o},e.prototype.captureMessage=function(e,t,n,r){var o=this,i=n&&n.event_id;return this._processing=!0,(Object(P.p)(e)?this._getBackend().eventFromMessage(""+e,t,n):this._getBackend().eventFromException(e,n)).then(function(e){return o._processEvent(e,n,r)}).then(function(e){i=e&&e.event_id,o._processing=!1}).catch(function(e){P.t.error(e),o._processing=!1}),i},e.prototype.captureEvent=function(e,t,n){var r=this,o=t&&t.event_id;return this._processing=!0,this._processEvent(e,t,n).then(function(e){o=e&&e.event_id,r._processing=!1}).catch(function(e){P.t.error(e),r._processing=!1}),o},e.prototype.getDsn=function(){return this._dsn},e.prototype.getOptions=function(){return this._options},e.prototype.flush=function(e){var t=this;return this._isClientProcessing(e).then(function(n){return t._processingInterval&&clearInterval(t._processingInterval),t._getBackend().getTransport().close(e).then(function(e){return n&&e})})},e.prototype.close=function(e){var t=this;return this.flush(e).then(function(e){return t.getOptions().enabled=!1,e})},e.prototype.getIntegrations=function(){return this._integrations||{}},e.prototype.getIntegration=function(e){try{return this._integrations[e.id]||null}catch(t){return P.t.warn("Cannot retrieve integration "+e.id+" from the current Client"),null}},e.prototype._isClientProcessing=function(e){var t=this;return new Promise(function(n){var r=0;t._processingInterval&&clearInterval(t._processingInterval),t._processingInterval=setInterval(function(){t._processing?e&&(r+=1)>=e&&n(!1):n(!0)},1)})},e.prototype._getBackend=function(){return this._backend},e.prototype._isEnabled=function(){return!1!==this.getOptions().enabled&&void 0!==this._dsn},e.prototype._prepareEvent=function(e,t,n){var r=this.getOptions(),o=r.environment,i=r.release,a=r.dist,s=r.maxValueLength,l=void 0===s?250:s,u=c.a({},e);void 0===u.environment&&void 0!==o&&(u.environment=o),void 0===u.release&&void 0!==i&&(u.release=i),void 0===u.dist&&void 0!==a&&(u.dist=a),u.message&&(u.message=Object(P.C)(u.message,l));var d=u.exception&&u.exception.values&&u.exception.values[0];d&&d.value&&(d.value=Object(P.C)(d.value,l));var p=u.request;p&&p.url&&(p.url=Object(P.C)(p.url,l)),void 0===u.event_id&&(u.event_id=Object(P.E)()),this._addIntegrations(u.sdk);var f=P.c.resolve(u);return t&&(f=t.applyToEvent(u,n)),f},e.prototype._addIntegrations=function(e){var t=Object.keys(this._integrations);e&&t.length>0&&(e.integrations=t)},e.prototype._processEvent=function(e,t,n){var r=this,o=this.getOptions(),i=o.beforeSend,a=o.sampleRate;return this._isEnabled()?"number"==typeof a&&Math.random()>a?P.c.reject("This event has been sampled, will not send event."):new P.c(function(o,a){r._prepareEvent(e,n,t).then(function(e){if(null!==e){var n=e;try{if(t&&t.data&&!0===t.data.__sentry__||!i)return r._getBackend().sendEvent(n),void o(n);var s=i(e,t);if(void 0===s)P.t.error("`beforeSend` method has to return `null` or a valid event.");else if(Object(P.r)(s))r._handleAsyncBeforeSend(s,o,a);else{if(null===(n=s))return P.t.log("`beforeSend` returned `null`, will not send event."),void o(null);r._getBackend().sendEvent(n),o(n)}}catch(e){r.captureException(e,{data:{__sentry__:!0},originalException:e}),a("`beforeSend` throw an error, will not send event.")}}else a("An event processor returned null, will not send event.")})}):P.c.reject("SDK not enabled, will not send event.")},e.prototype._handleAsyncBeforeSend=function(e,t,n){var r=this;e.then(function(e){null!==e?(r._getBackend().sendEvent(e),t(e)):n("`beforeSend` returned `null`, will not send event.")}).catch(function(e){n("beforeSend rejected with "+e)})},e}(),j=function(){function e(){}return e.prototype.sendEvent=function(e){return Promise.resolve({reason:"NoopTransport: Event has been skipped because no Dsn is configured.",status:l.Skipped})},e.prototype.close=function(e){return Promise.resolve(!0)},e}(),I=function(){function e(e){this._options=e,this._options.dsn||P.t.warn("No DSN provided, backend will not do anything."),this._transport=this._setupTransport()}return e.prototype._setupTransport=function(){return new j},e.prototype.eventFromException=function(e,t){throw new P.b("Backend has to implement `eventFromException` method")},e.prototype.eventFromMessage=function(e,t,n){throw new P.b("Backend has to implement `eventFromMessage` method")},e.prototype.sendEvent=function(e){this._transport.sendEvent(e).catch(function(e){P.t.error("Error while sending event: "+e)})},e.prototype.getTransport=function(){return this._transport},e}(),N=function(){function e(){this.name=e.id}return e.prototype.setupOnce=function(){M=Function.prototype.toString,Function.prototype.toString=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this.__sentry__?this.__sentry_original__:this;return M.apply(n,e)}},e.id="FunctionToString",e}(),R=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/],D=function(){function e(t){void 0===t&&(t={}),this._options=t,this.name=e.id}return e.prototype.setupOnce=function(){Object(u.b)(function(t){var n=Object(d.b)();if(!n)return t;var r=n.getIntegration(e);if(r){var o=n.getClient(),i=o?o.getOptions():{},a=r._mergeOptions(i);if(r._shouldDropEvent(t,a))return null}return t})},e.prototype._shouldDropEvent=function(e,t){return this._isSentryError(e,t)?(P.t.warn("Event dropped due to being internal Sentry Error.\nEvent: "+Object(P.h)(e)),!0):this._isIgnoredError(e,t)?(P.t.warn("Event dropped due to being matched by `ignoreErrors` option.\nEvent: "+Object(P.h)(e)),!0):this._isBlacklistedUrl(e,t)?(P.t.warn("Event dropped due to being matched by `blacklistUrls` option.\nEvent: "+Object(P.h)(e)+".\nUrl: "+this._getEventFilterUrl(e)),!0):!this._isWhitelistedUrl(e,t)&&(P.t.warn("Event dropped due to not being matched by `whitelistUrls` option.\nEvent: "+Object(P.h)(e)+".\nUrl: "+this._getEventFilterUrl(e)),!0)},e.prototype._isSentryError=function(e,t){if(void 0===t&&(t={}),!t.ignoreInternal)return!1;try{return"SentryError"===e.exception.values[0].type}catch(e){return!1}},e.prototype._isIgnoredError=function(e,t){return void 0===t&&(t={}),!(!t.ignoreErrors||!t.ignoreErrors.length)&&this._getPossibleEventMessages(e).some(function(e){return t.ignoreErrors.some(function(t){return Object(P.n)(e,t)})})},e.prototype._isBlacklistedUrl=function(e,t){if(void 0===t&&(t={}),!t.blacklistUrls||!t.blacklistUrls.length)return!1;var n=this._getEventFilterUrl(e);return!!n&&t.blacklistUrls.some(function(e){return Object(P.n)(n,e)})},e.prototype._isWhitelistedUrl=function(e,t){if(void 0===t&&(t={}),!t.whitelistUrls||!t.whitelistUrls.length)return!0;var n=this._getEventFilterUrl(e);return!n||t.whitelistUrls.some(function(e){return Object(P.n)(n,e)})},e.prototype._mergeOptions=function(e){return void 0===e&&(e={}),{blacklistUrls:c.f(this._options.blacklistUrls||[],e.blacklistUrls||[]),ignoreErrors:c.f(this._options.ignoreErrors||[],e.ignoreErrors||[],R),ignoreInternal:void 0===this._options.ignoreInternal||this._options.ignoreInternal,whitelistUrls:c.f(this._options.whitelistUrls||[],e.whitelistUrls||[])}},e.prototype._getPossibleEventMessages=function(e){if(e.message)return[e.message];if(e.exception)try{var t=e.exception.values[0],n=t.type,r=t.value;return[""+r,n+": "+r]}catch(t){return P.t.error("Cannot extract message for event "+Object(P.h)(e)),[]}return[]},e.prototype._getEventFilterUrl=function(e){try{if(e.stacktrace){var t=e.stacktrace.frames;return t[t.length-1].filename}if(e.exception){var n=e.exception.values[0].stacktrace.frames;return n[n.length-1].filename}return null}catch(t){return P.t.error("Cannot extract url for event "+Object(P.h)(e)),null}},e.id="InboundFilters",e}(),L=Object(P.i)(),B={_report:!1,_collectWindowErrors:!1,_computeStackTrace:!1,_linesOfContext:!1},F="?",U=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/;function q(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function z(){return"undefined"==typeof document||null==document.location?"":document.location.href}B._report=function(){var e,t,n=[],r=null,o=null;function i(e,t,r){var o=null;if(!t||B._collectWindowErrors){for(var i in n)if(q(n,i))try{n[i](e,t,r)}catch(e){o=e}if(o)throw o}}function a(t,n,r,a,s){var u=null;if(s=Object(P.m)(s)?s.error:s,t=Object(P.m)(t)?t.message:t,o)B._computeStackTrace._augmentStackTraceWithInitialElement(o,n,r,t),l();else if(s&&Object(P.l)(s))(u=B._computeStackTrace(s)).mechanism="onerror",i(u,!0,s);else{var d,p={url:n,line:r,column:a},f=t;if("[object String]"==={}.toString.call(t)){var h=t.match(U);h&&(d=h[1],f=h[2])}p.func=F,p.context=null,i(u={name:d,message:f,mode:"onerror",mechanism:"onerror",stack:[c.a({},p,{url:p.url||z()})]},!0,null)}return!!e&&e.apply(this,arguments)}function s(e){var t=e&&(e.detail?e.detail.reason:e.reason)||e,n=B._computeStackTrace(t);n.mechanism="onunhandledrejection",n.message||(n.message=JSON.stringify(Object(P.u)(t))),i(n,!0,t)}function l(){var e=o,t=r;o=null,r=null,i(e,!1,t)}function u(e){if(o){if(r===e)return;l()}var t=B._computeStackTrace(e);throw o=t,r=e,setTimeout(function(){r===e&&l()},t.incomplete?2e3:0),e}return u._subscribe=function(e){n.push(e)},u._installGlobalHandler=function(){!0!==t&&(e=L.onerror,L.onerror=a,t=!0)},u._installGlobalUnhandledRejectionHandler=function(){L.onunhandledrejection=s},u}(),B._computeStackTrace=function(){function e(e){if(!e||!e.stack)return null;for(var t,n,r,o=/^\s*at (?:(.*?) ?\()?((?:file|https?|blob|chrome-extension|native|eval|webpack|<anonymous>|[a-z]:|\/).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,i=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:file|https?|blob|chrome|webpack|resource|moz-extension).*?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js))(?::(\d+))?(?::(\d+))?\s*$/i,a=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,s=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,l=/\((\S*)(?::(\d+))(?::(\d+))\)/,c=e.stack.split("\n"),u=[],d=/^(.*) is undefined$/.exec(e.message),p=0,f=c.length;p<f;++p){if(n=o.exec(c[p])){var h=n[2]&&0===n[2].indexOf("native");n[2]&&0===n[2].indexOf("eval")&&(t=l.exec(n[2]))&&(n[2]=t[1],n[3]=t[2],n[4]=t[3]),r={url:n[2],func:n[1]||F,args:h?[n[2]]:[],line:n[3]?+n[3]:null,column:n[4]?+n[4]:null}}else if(n=a.exec(c[p]))r={url:n[2],func:n[1]||F,args:[],line:+n[3],column:n[4]?+n[4]:null};else{if(!(n=i.exec(c[p])))continue;n[3]&&n[3].indexOf(" > eval")>-1&&(t=s.exec(n[3]))?(n[1]=n[1]||"eval",n[3]=t[1],n[4]=t[2],n[5]=""):0!==p||n[5]||void 0===e.columnNumber||(u[0].column=e.columnNumber+1),r={url:n[3],func:n[1]||F,args:n[2]?n[2].split(","):[],line:n[4]?+n[4]:null,column:n[5]?+n[5]:null}}!r.func&&r.line&&(r.func=F),r.context=null,u.push(r)}return u.length?(u[0]&&u[0].line&&!u[0].column&&d&&(u[0].column=null),{mode:"stack",name:e.name,message:e.message,stack:u}):null}function t(e,t,n,r){var o={url:t,line:n};if(o.url&&o.line){if(e.incomplete=!1,o.func||(o.func=F),o.context||(o.context=null),/ '([^']+)' /.exec(r)&&(o.column=null),e.stack.length>0&&e.stack[0].url===o.url){if(e.stack[0].line===o.line)return!1;if(!e.stack[0].line&&e.stack[0].func===o.func)return e.stack[0].line=o.line,e.stack[0].context=o.context,!1}return e.stack.unshift(o),e.partial=!0,!0}return e.incomplete=!0,!1}function n(e,r){for(var o,i,a=/function\s+([_$a-zA-Z\xA0-\uFFFF][_$a-zA-Z0-9\xA0-\uFFFF]*)?\s*\(/i,s=[],l={},c=!1,u=n.caller;u&&!c;u=u.caller)if(u!==G&&u!==B._report){if(i={url:null,func:F,args:[],line:null,column:null},u.name?i.func=u.name:(o=a.exec(u.toString()))&&(i.func=o[1]),void 0===i.func)try{i.func=o.input.substring(0,o.input.indexOf("{"))}catch(e){}l[""+u]?c=!0:l[""+u]=!0,s.push(i)}r&&s.splice(0,r);var d={mode:"callers",name:e.name,message:e.message,stack:s};return t(d,e.sourceURL||e.fileName,e.line||e.lineNumber,e.message||e.description),d}function r(t,r){var o=null;r=null==r?0:+r;try{if(o=function(e){var t=e.stacktrace;if(t){for(var n,r=/ line (\d+).*script (?:in )?(\S+)(?:: in function (\S+))?$/i,o=/ line (\d+), column (\d+)\s*(?:in (?:<anonymous function: ([^>]+)>|([^\)]+))\((.*)\))? in (.*):\s*$/i,i=t.split("\n"),a=[],s=0;s<i.length;s+=2){var l=null;(n=r.exec(i[s]))?l={url:n[2],line:+n[1],column:null,func:n[3],args:[]}:(n=o.exec(i[s]))&&(l={url:n[6],line:+n[1],column:+n[2],func:n[3]||n[4],args:n[5]?n[5].split(","):[]}),l&&(!l.func&&l.line&&(l.func=F),l.line&&(l.context=null),l.context||(l.context=[i[s+1]]),a.push(l))}return a.length?{mode:"stacktrace",name:e.name,message:e.message,stack:a}:null}}(t))return o}catch(e){}try{if(o=e(t))return o}catch(e){}try{if(o=function(e){var t=e.message.split("\n");if(t.length<4)return null;var n,r=/^\s*Line (\d+) of linked script ((?:file|https?|blob)\S+)(?:: in function (\S+))?\s*$/i,o=/^\s*Line (\d+) of inline#(\d+) script in ((?:file|https?|blob)\S+)(?:: in function (\S+))?\s*$/i,i=/^\s*Line (\d+) of function script\s*$/i,a=[],s=L&&L.document&&L.document.getElementsByTagName("script"),l=[];for(var c in s)q(s,c)&&!s[c].src&&l.push(s[c]);for(var u=2;u<t.length;u+=2){var d=null;(n=r.exec(t[u]))?d={url:n[2],func:n[3],args:[],line:+n[1],column:null}:(n=o.exec(t[u]))?d={url:n[3],func:n[4],args:[],line:+n[1],column:null}:(n=i.exec(t[u]))&&(d={url:z().replace(/#.*$/,""),func:"",args:[],line:n[1],column:null}),d&&(d.func||(d.func=F),d.context=[t[u+1]],a.push(d))}return a.length?{mode:"multiline",name:e.name,message:t[0],stack:a}:null}(t))return o}catch(e){}try{if(o=n(t,r+1))return o}catch(e){}return{original:t,name:t.name,message:t.message,mode:"failed"}}return r._augmentStackTraceWithInitialElement=t,r._computeStackTraceFromStackProp=e,r}(),B._collectWindowErrors=!0,B._linesOfContext=11;var H=B._report._subscribe,V=B._report._installGlobalHandler,W=B._report._installGlobalUnhandledRejectionHandler,G=B._computeStackTrace,Y=50;function K(e){var t=Q(e.stack),n={type:e.name,value:e.message};return t&&t.length&&(n.stacktrace={frames:t}),void 0===n.type&&""===n.value&&(n.value="Unrecoverable error caught"),n}function $(e){return{exception:{values:[K(e)]}}}function Q(e){if(!e||!e.length)return[];var t=e,n=t[0].func||"",r=t[t.length-1].func||"";return(n.includes("captureMessage")||n.includes("captureException"))&&(t=t.slice(1)),r.includes("sentryWrapped")&&(t=t.slice(0,-1)),t.map(function(e){return{colno:e.column,filename:e.url||t[0].url,function:e.func||"?",in_app:!0,lineno:e.line}}).slice(0,Y).reverse()}var J,X,Z=function(){function e(e){this.options=e,this._buffer=new P.a(30),this.url=new O(this.options.dsn).getStoreEndpointWithUrlEncodedAuth()}return e.prototype.sendEvent=function(e){throw new P.b("Transport Class has to implement `sendEvent` method")},e.prototype.close=function(e){return this._buffer.drain(e)},e}(),ee=Object(P.i)(),te=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return c.c(t,e),t.prototype.sendEvent=function(e){var t={body:JSON.stringify(e),method:"POST",referrerPolicy:Object(P.B)()?"origin":""};return this._buffer.add(ee.fetch(this.url,t).then(function(e){return{status:l.fromHttpCode(e.status)}}))},t}(Z),ne=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return c.c(t,e),t.prototype.sendEvent=function(e){var t=this;return this._buffer.add(new Promise(function(n,r){var o=new XMLHttpRequest;o.onreadystatechange=function(){4===o.readyState&&(200===o.status&&n({status:l.fromHttpCode(o.status)}),r(o))},o.open("POST",t.url),o.send(JSON.stringify(e))}))},t}(Z),re=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return c.c(t,e),t.prototype._setupTransport=function(){if(!this._options.dsn)return e.prototype._setupTransport.call(this);var t=this._options.transportOptions?this._options.transportOptions:{dsn:this._options.dsn};return this._options.transport?new this._options.transport(t):Object(P.y)()?new te(t):new ne(t)},t.prototype.eventFromException=function(e,t){var n,r=this;if(Object(P.m)(e)&&e.error)return e=e.error,n=$(G(e)),P.c.resolve(this._buildEvent(n,t));if(Object(P.j)(e)||Object(P.k)(e)){var o=e,i=o.name||(Object(P.j)(o)?"DOMError":"DOMException"),a=o.message?i+": "+o.message:i;return this.eventFromMessage(a,s.Error,t).then(function(e){return Object(P.d)(e,a),P.c.resolve(r._buildEvent(e,t))})}if(Object(P.l)(e))return n=$(G(e)),P.c.resolve(this._buildEvent(n,t));if(Object(P.o)(e)&&t&&t.syntheticException)return n=function(e,t){var n=Object.keys(e).sort(),r={extra:{__serialized__:Object(P.v)(e)},message:"Non-Error exception captured with keys: "+Object(P.s)(n)};if(t){var o=Q(G(t).stack);r.stacktrace={frames:o}}return r}(e,t.syntheticException),Object(P.d)(n,"Custom Object",void 0,{handled:!0,synthetic:!0,type:"generic"}),n.level=s.Error,P.c.resolve(this._buildEvent(n,t));var l=e;return this.eventFromMessage(l,void 0,t).then(function(e){return Object(P.d)(e,""+l,void 0,{handled:!0,synthetic:!0,type:"generic"}),e.level=s.Error,P.c.resolve(r._buildEvent(e,t))})},t.prototype._buildEvent=function(e,t){return c.a({},e,{event_id:t&&t.event_id})},t.prototype.eventFromMessage=function(e,t,n){void 0===t&&(t=s.Info);var r={event_id:n&&n.event_id,level:t,message:e};if(this._options.attachStacktrace&&n&&n.syntheticException){var o=Q(G(n.syntheticException).stack);r.stacktrace={frames:o}}return P.c.resolve(r)},t}(I),oe="sentry.javascript.browser",ie=function(e){function t(t){return void 0===t&&(t={}),e.call(this,re,t)||this}return c.c(t,e),t.prototype._prepareEvent=function(t,n,r){return t.platform=t.platform||"javascript",t.sdk=c.a({},t.sdk,{name:oe,packages:c.f(t.sdk&&t.sdk.packages||[],[{name:"npm:@sentry/browser",version:"5.4.0"}]),version:"5.4.0"}),e.prototype._prepareEvent.call(this,t,n,r)},t.prototype.showReportDialog=function(e){void 0===e&&(e={});var t=Object(P.i)().document;if(t)if(this._isEnabled()){var n=e.dsn||this.getDsn();if(e.eventId)if(n){var r=t.createElement("script");r.async=!0,r.src=new O(n).getReportDialogEndpoint(e),e.onLoad&&(r.onload=e.onLoad),(t.head||t.body).appendChild(r)}else P.t.error("Missing `Dsn` option in showReportDialog call");else P.t.error("Missing `eventId` option in showReportDialog call")}else P.t.error("Trying to call showReportDialog with Sentry Client is disabled")},t}(A),ae=1e3,se=0;function le(e,t,n){if(void 0===t&&(t={}),"function"!=typeof e)return e;try{if(e.__sentry__)return e;if(e.__sentry_wrapped__)return e.__sentry_wrapped__}catch(t){return e}var r=function(){n&&"function"==typeof n&&n.apply(this,arguments);var r=Array.prototype.slice.call(arguments);try{var o=r.map(function(e){return le(e,t)});return e.handleEvent?e.handleEvent.apply(this,o):e.apply(this,o)}catch(e){throw se+=1,setTimeout(function(){se-=1}),S(function(n){n.addEventProcessor(function(e){var n=c.a({},e);return t.mechanism&&Object(P.d)(n,void 0,void 0,t.mechanism),n.extra=c.a({},n.extra,{arguments:Object(P.u)(r,3)}),n}),f(e)}),e}};try{for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o])}catch(e){}e.prototype=e.prototype||{},r.prototype=e.prototype,Object.defineProperty(e,"__sentry_wrapped__",{enumerable:!1,value:r}),Object.defineProperties(r,{__sentry__:{enumerable:!1,value:!0},__sentry_original__:{enumerable:!1,value:e}});try{Object.defineProperty(r,"name",{get:function(){return e.name}})}catch(e){}return r}var ce=0;function ue(e,t){return void 0===t&&(t=!1),function(n){if(J=void 0,n&&X!==n){X=n;var r=function(){var t;try{t=n.target?pe(n.target):pe(n)}catch(e){t="<unknown>"}0!==t.length&&Object(d.b)().addBreadcrumb({category:"ui."+e,message:t},{event:n,name:e})};ce&&clearTimeout(ce),t?ce=setTimeout(r):r()}}}function de(){return function(e){var t;try{t=e.target}catch(e){return}var n=t&&t.tagName;n&&("INPUT"===n||"TEXTAREA"===n||t.isContentEditable)&&(J||ue("input")(e),clearTimeout(J),J=setTimeout(function(){J=void 0},ae))}}function pe(e){for(var t,n=e,r=[],o=0,i=0,a=" > ".length;n&&o++<5&&!("html"===(t=fe(n))||o>1&&i+r.length*a+t.length>=80);)r.push(t),i+=t.length,n=n.parentNode;return r.reverse().join(" > ")}function fe(e){var t,n,r,o,i,a=[];if(!e||!e.tagName)return"";if(a.push(e.tagName.toLowerCase()),e.id&&a.push("#"+e.id),(t=e.className)&&Object(P.q)(t))for(n=t.split(/\s+/),i=0;i<n.length;i++)a.push("."+n[i]);var s=["type","name","title","alt"];for(i=0;i<s.length;i++)r=s[i],(o=e.getAttribute(r))&&a.push("["+r+'="'+o+'"]');return a.join("")}var he=function(){function e(t){this.name=e.id,this._options=c.a({onerror:!0,onunhandledrejection:!0},t)}return e.prototype.setupOnce=function(){Error.stackTraceLimit=50,H(function(t,n,r){if(!(se>0)){var o=Object(d.b)().getIntegration(e);o&&Object(d.b)().captureEvent(o._eventFromGlobalHandler(t),{data:{stack:t},originalException:r})}}),this._options.onerror&&(P.t.log("Global Handler attached: onerror"),V()),this._options.onunhandledrejection&&(P.t.log("Global Handler attached: onunhandledrejection"),W())},e.prototype._eventFromGlobalHandler=function(e){if(!Object(P.q)(e.message)&&"onunhandledrejection"!==e.mechanism){var t=e.message;e.message=t.error&&Object(P.q)(t.error.message)?t.error.message:"No error message"}var n=$(e),r={mode:e.mode};e.message&&(r.message=e.message),e.name&&(r.name=e.name);var o=Object(d.b)().getClient(),i=o&&o.getOptions().maxValueLength||250,a=e.original?Object(P.C)(JSON.stringify(Object(P.u)(e.original)),i):"",s="onunhandledrejection"===e.mechanism?"UnhandledRejection":"Error";return Object(P.d)(n,a,s,{data:r,handled:!1,type:e.mechanism}),n},e.id="GlobalHandlers",e}(),me=function(){function e(){this._ignoreOnError=0,this.name=e.id}return e.prototype._wrapTimeFunction=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=t[0];return t[0]=le(r,{mechanism:{data:{function:ge(e)},handled:!0,type:"instrument"}}),e.apply(this,t)}},e.prototype._wrapRAF=function(e){return function(t){return e(le(t,{mechanism:{data:{function:"requestAnimationFrame",handler:ge(e)},handled:!0,type:"instrument"}}))}},e.prototype._wrapEventTarget=function(e){var t=Object(P.i)(),n=t[e]&&t[e].prototype;n&&n.hasOwnProperty&&n.hasOwnProperty("addEventListener")&&(Object(P.g)(n,"addEventListener",function(t){return function(n,r,o){try{r.handleEvent=le(r.handleEvent.bind(r),{mechanism:{data:{function:"handleEvent",handler:ge(r),target:e},handled:!0,type:"instrument"}})}catch(e){}return t.call(this,n,le(r,{mechanism:{data:{function:"addEventListener",handler:ge(r),target:e},handled:!0,type:"instrument"}}),o)}}),Object(P.g)(n,"removeEventListener",function(e){return function(t,n,r){var o=n;try{o=o&&(o.__sentry_wrapped__||o)}catch(e){}return e.call(this,t,o,r)}}))},e.prototype.setupOnce=function(){this._ignoreOnError=this._ignoreOnError;var e=Object(P.i)();Object(P.g)(e,"setTimeout",this._wrapTimeFunction.bind(this)),Object(P.g)(e,"setInterval",this._wrapTimeFunction.bind(this)),Object(P.g)(e,"requestAnimationFrame",this._wrapRAF.bind(this)),["EventTarget","Window","Node","ApplicationCache","AudioTrackList","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"].forEach(this._wrapEventTarget.bind(this))},e.id="TryCatch",e}();function ge(e){try{return e&&e.name||"<anonymous>"}catch(e){return"<anonymous>"}}var be,ve=Object(P.i)(),ye=function(){function e(t){this.name=e.id,this._options=c.a({console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0},t)}return e.prototype._instrumentConsole=function(){"console"in ve&&["debug","info","warn","error","log","assert"].forEach(function(t){t in ve.console&&Object(P.g)(ve.console,t,function(n){return function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];var i={category:"console",data:{extra:{arguments:Object(P.u)(r,3)},logger:"console"},level:s.fromString(t),message:Object(P.x)(r," ")};"assert"===t&&!1===r[0]&&(i.message="Assertion failed: "+(Object(P.x)(r.slice(1)," ")||"console.assert"),i.data.extra.arguments=Object(P.u)(r.slice(1),3)),e.addBreadcrumb(i,{input:r,level:t}),n&&Function.prototype.apply.call(n,ve.console,r)}})})},e.prototype._instrumentDOM=function(){"document"in ve&&(ve.document.addEventListener("click",ue("click"),!1),ve.document.addEventListener("keypress",de(),!1),["EventTarget","Node"].forEach(function(e){var t=ve[e]&&ve[e].prototype;t&&t.hasOwnProperty&&t.hasOwnProperty("addEventListener")&&(Object(P.g)(t,"addEventListener",function(e){return function(t,n,r){return n&&n.handleEvent?("click"===t&&Object(P.g)(n,"handleEvent",function(e){return function(t){return ue("click")(t),e.call(this,t)}}),"keypress"===t&&Object(P.g)(n,"handleEvent",de())):("click"===t&&ue("click",!0)(this),"keypress"===t&&de()(this)),e.call(this,t,n,r)}}),Object(P.g)(t,"removeEventListener",function(e){return function(t,n,r){var o=n;try{o=o&&(o.__sentry_wrapped__||o)}catch(e){}return e.call(this,t,o,r)}}))}))},e.prototype._instrumentFetch=function(){Object(P.A)()&&Object(P.g)(ve,"fetch",function(t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var o,i=n[0],a="GET";"string"==typeof i?o=i:"Request"in ve&&i instanceof Request?(o=i.url,i.method&&(a=i.method)):o=String(i),n[1]&&n[1].method&&(a=n[1].method);var l=Object(d.b)().getClient(),c=l&&l.getDsn();if(c){var u=new O(c).getStoreEndpoint();if(u&&o.includes(u))return"POST"===a&&n[1]&&n[1].body&&ke(n[1].body),t.apply(ve,n)}var p={method:a,url:o};return t.apply(ve,n).then(function(t){return p.status_code=t.status,e.addBreadcrumb({category:"fetch",data:p,type:"http"},{input:n,response:t}),t}).catch(function(t){throw e.addBreadcrumb({category:"fetch",data:p,level:s.Error,type:"http"},{error:t,input:n}),t})}})},e.prototype._instrumentHistory=function(){var t=this;if(Object(P.z)()){var n=function(t,n){var r=Object(P.w)(ve.location.href),o=Object(P.w)(n),i=Object(P.w)(t);i.path||(i=r),be=n,r.protocol===o.protocol&&r.host===o.host&&(n=o.relative),r.protocol===i.protocol&&r.host===i.host&&(t=i.relative),e.addBreadcrumb({category:"navigation",data:{from:t,to:n}})},r=ve.onpopstate;ve.onpopstate=function(){for(var e=[],o=0;o<arguments.length;o++)e[o]=arguments[o];var i=ve.location.href;if(n(be,i),r)return r.apply(t,e)},Object(P.g)(ve.history,"pushState",o),Object(P.g)(ve.history,"replaceState",o)}function o(e){return function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var o=t.length>2?t[2]:void 0;return o&&n(be,String(o)),e.apply(this,t)}}},e.prototype._instrumentXHR=function(){if("XMLHttpRequest"in ve){var t=XMLHttpRequest.prototype;Object(P.g)(t,"open",function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=t[1];this.__sentry_xhr__={method:t[0],url:t[1]};var o=Object(d.b)().getClient(),i=o&&o.getDsn();if(i){var a=new O(i).getStoreEndpoint();Object(P.q)(r)&&a&&r.includes(a)&&(this.__sentry_own_request__=!0)}return e.apply(this,t)}}),Object(P.g)(t,"send",function(t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var o=this;function i(){if(4===o.readyState){if(o.__sentry_own_request__)return;try{o.__sentry_xhr__&&(o.__sentry_xhr__.status_code=o.status)}catch(e){}e.addBreadcrumb({category:"xhr",data:o.__sentry_xhr__,type:"http"},{xhr:o})}}return o.__sentry_own_request__&&ke(n[0]),["onload","onerror","onprogress"].forEach(function(e){!function(e,t){e in t&&"function"==typeof t[e]&&Object(P.g)(t,e,function(t){return le(t,{mechanism:{data:{function:e,handler:t&&t.name||"<anonymous>"},handled:!0,type:"instrument"}})})}(e,o)}),"onreadystatechange"in o&&"function"==typeof o.onreadystatechange?Object(P.g)(o,"onreadystatechange",function(e){return le(e,{mechanism:{data:{function:"onreadystatechange",handler:e&&e.name||"<anonymous>"},handled:!0,type:"instrument"}},i)}):o.onreadystatechange=i,t.apply(this,n)}})}},e.addBreadcrumb=function(t,n){Object(d.b)().getIntegration(e)&&Object(d.b)().addBreadcrumb(t,n)},e.prototype.setupOnce=function(){this._options.console&&this._instrumentConsole(),this._options.dom&&this._instrumentDOM(),this._options.xhr&&this._instrumentXHR(),this._options.fetch&&this._instrumentFetch(),this._options.history&&this._instrumentHistory()},e.id="Breadcrumbs",e}();function ke(e){try{var t=JSON.parse(e);ye.addBreadcrumb({category:"sentry",event_id:t.event_id,level:t.level||s.fromString("error"),message:Object(P.h)(t)},{event:t})}catch(e){P.t.error("Error while adding sentry type breadcrumb")}}var _e="cause",we=5,Ce=function(){function e(t){void 0===t&&(t={}),this.name=e.id,this._key=t.key||_e,this._limit=t.limit||we}return e.prototype.setupOnce=function(){Object(u.b)(function(t,n){var r=Object(d.b)().getIntegration(e);return r?r._handler(t,n):t})},e.prototype._handler=function(e,t){if(!(e.exception&&e.exception.values&&t&&t.originalException instanceof Error))return e;var n=this._walkErrorTree(t.originalException,this._key);return e.exception.values=c.f(n,e.exception.values),e},e.prototype._walkErrorTree=function(e,t,n){if(void 0===n&&(n=[]),!(e[t]instanceof Error)||n.length+1>=this._limit)return n;var r=K(G(e[t]));return this._walkErrorTree(e[t],t,c.f([r],n))},e.id="LinkedErrors",e}(),Se=Object(P.i)(),Pe=function(){function e(){this.name=e.id}return e.prototype.setupOnce=function(){Object(u.b)(function(t){if(Object(d.b)().getIntegration(e)){if(!Se.navigator||!Se.location)return t;var n=t.request||{};return n.url=n.url||Se.location.href,n.headers=n.headers||{},n.headers["User-Agent"]=Se.navigator.userAgent,c.a({},t,{request:n})}return t})},e.id="UserAgent",e}(),Ee=[new r.InboundFilters,new r.FunctionToString,new me,new ye,new he,new Ce,new Pe];function xe(e){void 0===e&&(e={}),void 0===e.defaultIntegrations&&(e.defaultIntegrations=Ee),function(e,t){!0===t.debug&&P.t.enable(),Object(d.b)().bindClient(new e(t))}(ie,e)}function Oe(e){void 0===e&&(e={}),e.eventId||(e.eventId=Object(d.b)().lastEventId());var t=Object(d.b)().getClient();t&&t.showReportDialog(e)}function Te(){return Object(d.b)().lastEventId()}function Me(){}function Ae(e){e()}function je(e){var t=Object(d.b)().getClient();return t?t.flush(e):Promise.reject(!1)}function Ie(e){var t=Object(d.b)().getClient();return t?t.close(e):Promise.reject(!1)}function Ne(e){le(e)()}n.d(t,"Integrations",function(){return Le}),n.d(t,"Severity",function(){return s}),n.d(t,"Status",function(){return l}),n.d(t,"addGlobalEventProcessor",function(){return u.b}),n.d(t,"addBreadcrumb",function(){return b}),n.d(t,"captureException",function(){return f}),n.d(t,"captureEvent",function(){return m}),n.d(t,"captureMessage",function(){return h}),n.d(t,"configureScope",function(){return g}),n.d(t,"getHubFromCarrier",function(){return d.c}),n.d(t,"getCurrentHub",function(){return d.b}),n.d(t,"Hub",function(){return d.a}),n.d(t,"Scope",function(){return u.a}),n.d(t,"setContext",function(){return v}),n.d(t,"setExtra",function(){return _}),n.d(t,"setExtras",function(){return y}),n.d(t,"setTag",function(){return w}),n.d(t,"setTags",function(){return k}),n.d(t,"setUser",function(){return C}),n.d(t,"withScope",function(){return S}),n.d(t,"BrowserClient",function(){return ie}),n.d(t,"defaultIntegrations",function(){return Ee}),n.d(t,"forceLoad",function(){return Me}),n.d(t,"init",function(){return xe}),n.d(t,"lastEventId",function(){return Te}),n.d(t,"onLoad",function(){return Ae}),n.d(t,"showReportDialog",function(){return Oe}),n.d(t,"flush",function(){return je}),n.d(t,"close",function(){return Ie}),n.d(t,"wrap",function(){return Ne}),n.d(t,"SDK_NAME",function(){return oe}),n.d(t,"SDK_VERSION",function(){return"5.4.0"}),n.d(t,"Transports",function(){return o});var Re={},De=Object(P.i)();De.Sentry&&De.Sentry.Integrations&&(Re=De.Sentry.Integrations);var Le=c.a({},Re,r,i)},function(e,t){var n,r,o=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(e){n=i}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var l,c=[],u=!1,d=-1;function p(){u&&l&&(u=!1,l.length?c=l.concat(c):d=-1,c.length&&f())}function f(){if(!u){var e=s(p);u=!0;for(var t=c.length;t;){for(l=c,c=[];++d<t;)l&&l[d].run();d=-1,t=c.length}l=null,u=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function m(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new h(e,t)),1!==c.length||u||s(f)},h.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=m,o.addListener=m,o.once=m,o.off=m,o.removeListener=m,o.removeAllListeners=m,o.emit=m,o.prependListener=m,o.prependOnceListener=m,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(e,t,n){"use strict";(function(e){t.a=function(e,t,n){if(t in e){var r=e[t],o=n(r);if("function"==typeof o)try{o.prototype=o.prototype||{},Object.defineProperties(o,{__sentry__:{enumerable:!1,value:!0},__sentry_original__:{enumerable:!1,value:r},__sentry_wrapped__:{enumerable:!1,value:o}})}catch(e){}e[t]=o}},t.d=function(e){return Object.keys(e).map(function(t){return encodeURIComponent(t)+"="+encodeURIComponent(e[t])}).join("&")},t.c=function e(t,n,r){void 0===n&&(n=3),void 0===r&&(r=102400);var o=a(t,n);return function(e){return function(e){return~-encodeURI(e).split(/%..|./).length}(JSON.stringify(e))}(o)>r?e(t,n-1,r):o},t.b=a;var r=n(312),o=n(660);function i(t,n){return"domain"===n&&"object"==typeof t&&t._events?"[Domain]":"domainEmitter"===n?"[DomainEmitter]":void 0!==e&&t===e?"[Global]":"undefined"!=typeof window&&t===window?"[Window]":"undefined"!=typeof document&&t===document?"[Document]":"undefined"!=typeof Event&&t instanceof Event?Object.getPrototypeOf(t)?t.constructor.name:"Event":Object(r.i)(t)?"[SyntheticEvent]":Number.isNaN(t)?"[NaN]":void 0===t?"[undefined]":"function"==typeof t?"[Function: "+(t.name||"<unknown-function-name>")+"]":t}function a(e,t){try{return JSON.parse(JSON.stringify(e,function(e,n){return function e(t,n,a,s){if(void 0===a&&(a=1/0),void 0===s&&(s=new o.a),0===a)return function(e){var t=Object.prototype.toString.call(e);if("string"==typeof e)return e;if("[object Object]"===t)return"[Object]";if("[object Array]"===t)return"[Array]";var n=i(e);return Object(r.f)(n)?n:t}(n);if(null!==n&&void 0!==n&&"function"==typeof n.toJSON)return n.toJSON();var l=i(n,t);if(Object(r.f)(l))return l;var c=Object(r.c)(n)?function(e){var t={message:e.message,name:e.name,stack:e.stack};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}(n):n,u=Array.isArray(n)?[]:{};if(s.memoize(n))return"[Circular ~]";for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(u[d]=e(d,c[d],a-1,s));return s.unmemoize(n),u}(e,n,t)}))}catch(e){return"**non-serializable**"}}}).call(t,n(97))},function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return s}),t.b=function(){var t=l();u(t)&&!d(t).isOlderThan(a)||p(t,new s);try{var n=Object(o.f)(e,"domain").active;if(!n)return d(t);if(!u(n)||d(n).isOlderThan(a)){var r=d(t).getStackTop();p(n,new s(r.client,i.a.clone(r.scope)))}return d(n)}catch(e){return d(t)}},t.c=d;var r=n(29),o=n(23),i=n(659),a=3,s=function(){function e(e,t,n){void 0===t&&(t=new i.a),void 0===n&&(n=a),this._version=n,this._stack=[],this._stack.push({client:e,scope:t})}return e.prototype._invokeClient=function(e){for(var t,n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];var i=this.getStackTop();i&&i.client&&i.client[e]&&(t=i.client)[e].apply(t,r.f(n,[i.scope]))},e.prototype.isOlderThan=function(e){return this._version<e},e.prototype.bindClient=function(e){this.getStackTop().client=e},e.prototype.pushScope=function(){var e=this.getStack(),t=e.length>0?e[e.length-1].scope:void 0,n=i.a.clone(t);return this.getStack().push({client:this.getClient(),scope:n}),n},e.prototype.popScope=function(){return void 0!==this.getStack().pop()},e.prototype.withScope=function(e){var t=this.pushScope();try{e(t)}finally{this.popScope()}},e.prototype.getClient=function(){return this.getStackTop().client},e.prototype.getScope=function(){return this.getStackTop().scope},e.prototype.getStack=function(){return this._stack},e.prototype.getStackTop=function(){return this._stack[this._stack.length-1]},e.prototype.captureException=function(e,t){var n=this._lastEventId=Object(o.E)();return this._invokeClient("captureException",e,r.a({},t,{event_id:n})),n},e.prototype.captureMessage=function(e,t,n){var i=this._lastEventId=Object(o.E)();return this._invokeClient("captureMessage",e,t,r.a({},n,{event_id:i})),i},e.prototype.captureEvent=function(e,t){var n=this._lastEventId=Object(o.E)();return this._invokeClient("captureEvent",e,r.a({},t,{event_id:n})),n},e.prototype.lastEventId=function(){return this._lastEventId},e.prototype.addBreadcrumb=function(e,t){var n=this.getStackTop();if(n.scope&&n.client){var i=n.client.getOptions&&n.client.getOptions()||{},a=i.beforeBreadcrumb,s=void 0===a?null:a,l=i.maxBreadcrumbs,c=void 0===l?30:l;if(!(c<=0)){var u=(new Date).getTime()/1e3,d=r.a({timestamp:u},e),p=s?Object(o.e)(function(){return s(d,t)}):d;null!==p&&n.scope.addBreadcrumb(p,Math.min(c,100))}}},e.prototype.setUser=function(e){var t=this.getStackTop();t.scope&&t.scope.setUser(e)},e.prototype.setTags=function(e){var t=this.getStackTop();t.scope&&t.scope.setTags(e)},e.prototype.setExtras=function(e){var t=this.getStackTop();t.scope&&t.scope.setExtras(e)},e.prototype.setTag=function(e,t){var n=this.getStackTop();n.scope&&n.scope.setTag(e,t)},e.prototype.setExtra=function(e,t){var n=this.getStackTop();n.scope&&n.scope.setExtra(e,t)},e.prototype.setContext=function(e,t){var n=this.getStackTop();n.scope&&n.scope.setContext(e,t)},e.prototype.configureScope=function(e){var t=this.getStackTop();t.scope&&t.client&&e(t.scope)},e.prototype.run=function(e){var t=c(this);try{e(this)}finally{c(t)}},e.prototype.getIntegration=function(e){var t=this.getClient();if(!t)return null;try{return t.getIntegration(e)}catch(t){return o.t.warn("Cannot retrieve integration "+e.id+" from the current Hub"),null}},e.prototype.traceHeaders=function(){var e=this.getStackTop();if(e.scope&&e.client){var t=e.scope.getSpan();if(t)return{"sentry-trace":t.toTraceparent()}}return{}},e}();function l(){var e=Object(o.i)();return e.__SENTRY__=e.__SENTRY__||{hub:void 0},e}function c(e){var t=l(),n=d(t);return p(t,e),n}function u(e){return!!(e&&e.__SENTRY__&&e.__SENTRY__.hub)}function d(e){return e&&e.__SENTRY__&&e.__SENTRY__.hub?e.__SENTRY__.hub:(e.__SENTRY__=e.__SENTRY__||{},e.__SENTRY__.hub=new s,e.__SENTRY__.hub)}function p(e,t){return!!e&&(e.__SENTRY__=e.__SENTRY__||{},e.__SENTRY__.hub=t,!0)}}).call(t,n(672)(e))},function(e,t){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1}return t}},function(e,t,n){var r,o,i,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};i=function(){"use strict";var e=function(e,t){return e.getAttribute("data-"+t)},t=function(t){return"true"===e(t,"was-processed")},n=function(e){return e.getBoundingClientRect().top+window.pageYOffset-e.ownerDocument.documentElement.clientTop},r=function(e,t,r){return(t===window?window.innerHeight+window.pageYOffset:n(t)+t.offsetHeight)<=n(e)-r},o=function(e){return e.getBoundingClientRect().left+window.pageXOffset-e.ownerDocument.documentElement.clientLeft},i=function(e,t,n){var r=window.innerWidth;return(t===window?r+window.pageXOffset:o(t)+r)<=o(e)-n},s=function(e,t,r){return(t===window?window.pageYOffset:n(t))>=n(e)+r+e.offsetHeight},l=function(e,t,n){return(t===window?window.pageXOffset:o(t))>=o(e)+n+e.offsetWidth};function c(e,t,n){return!(r(e,t,n)||s(e,t,n)||i(e,t,n)||l(e,t,n))}var u=function(e,t){var n,r=new e(t);try{n=new CustomEvent("LazyLoad::Initialized",{detail:{instance:r}})}catch(e){(n=document.createEvent("CustomEvent")).initCustomEvent("LazyLoad::Initialized",!1,!1,{instance:r})}window.dispatchEvent(n)},d=function(e,t){return t?e.replace(/\.(jpe?g|png)/gi,".webp"):e},p="undefined"!=typeof window,f=p&&!("onscroll"in window)||/(gle|ing|ro)bot|crawl|spider/i.test(navigator.userAgent),h=p&&"classList"in document.createElement("p"),m=p&&function(){var e=document.createElement("canvas");return!(!e.getContext||!e.getContext("2d"))&&0===e.toDataURL("image/webp").indexOf("data:image/webp")}(),g=function(e,t){h?e.classList.add(t):e.className+=(e.className?" ":"")+t},b=function(t,n,r,o){for(var i,a=0;i=t.children[a];a+=1)if("SOURCE"===i.tagName){var s=e(i,r);v(i,n,s,o)}},v=function(e,t,n,r){n&&e.setAttribute(t,d(n,r))},y={IMG:function(t,n){var r=m&&n.to_webp,o=n.data_srcset,i=t.parentNode;i&&"PICTURE"===i.tagName&&b(i,"srcset",o,r);var a=e(t,n.data_sizes);v(t,"sizes",a);var s=e(t,o);v(t,"srcset",s,r);var l=e(t,n.data_src);v(t,"src",l,r)},IFRAME:function(t,n){var r=e(t,n.data_src);v(t,"src",r)},VIDEO:function(t,n){var r=n.data_src,o=e(t,r);b(t,"src",r),v(t,"src",o),t.load()}},k=function(t,n){var r=n._settings,o=t.tagName,i=y[o];if(i)return i(t,r),n._updateLoadingCount(1),void(n._elements=function(e,t){return e.filter(function(e){return e!==t})}(n._elements,t));!function(t,n){var r=m&&n.to_webp,o=e(t,n.data_src),i=e(t,n.data_bg);if(o){var a=d(o,r);t.style.backgroundImage='url("'+a+'")'}if(i){var s=d(i,r);t.style.backgroundImage=s}}(t,r)},_=function(e,t){e&&e(t)},w=function(e,t,n){e.addEventListener(t,n)},C=function(e,t,n){e.removeEventListener(t,n)},S=function(e,t,n){C(e,"load",t),C(e,"loadeddata",t),C(e,"error",n)},P=function(e,t,n){var r=n._settings,o=t?r.class_loaded:r.class_error,i=t?r.callback_load:r.callback_error,a=e.target;!function(e,t){h?e.classList.remove(t):e.className=e.className.replace(new RegExp("(^|\\s+)"+t+"(\\s+|$)")," ").replace(/^\s+/,"").replace(/\s+$/,"")}(a,r.class_loading),g(a,o),_(i,a),n._updateLoadingCount(-1)},E=["IMG","IFRAME","VIDEO"],x=function(e){this._settings=a({},{elements_selector:"img",container:window,threshold:300,throttle:150,data_src:"src",data_srcset:"srcset",data_sizes:"sizes",data_bg:"bg",class_loading:"loading",class_loaded:"loaded",class_error:"error",class_initial:"initial",skip_invisible:!0,callback_load:null,callback_error:null,callback_set:null,callback_enter:null,callback_finish:null,to_webp:!1},e),this._loadingCount=0,this._queryOriginNode=this._settings.container===window?document:this._settings.container,this._previousLoopTime=0,this._loopTimeout=null,this._boundHandleScroll=this.handleScroll.bind(this),this._isFirstLoop=!0,window.addEventListener("resize",this._boundHandleScroll),this.update()};return x.prototype={_loopThroughElements:function(e){var t=this._settings,n=this._elements,r=n?n.length:0,o=void 0,i=[],a=this._isFirstLoop;if(a&&(this._isFirstLoop=!1),0!==r){for(o=0;o<r;o++){var s=n[o];t.skip_invisible&&null===s.offsetParent||(e||c(s,t.container,t.threshold))&&(a&&g(s,t.class_initial),this.load(s),i.push(o))}!function(e,t){for(;t.length;)e.splice(t.pop(),1)}(n,i)}else this._stopScrollHandler()},_startScrollHandler:function(){this._isHandlingScroll||(this._isHandlingScroll=!0,this._settings.container.addEventListener("scroll",this._boundHandleScroll))},_stopScrollHandler:function(){this._isHandlingScroll&&(this._isHandlingScroll=!1,this._settings.container.removeEventListener("scroll",this._boundHandleScroll))},_updateLoadingCount:function(e){this._loadingCount+=e,0===this._elements.length&&0===this._loadingCount&&_(this._settings.callback_finish)},handleScroll:function(){var e=this._settings.throttle;if(0!==e){var t=Date.now(),n=e-(t-this._previousLoopTime);n<=0||n>e?(this._loopTimeout&&(clearTimeout(this._loopTimeout),this._loopTimeout=null),this._previousLoopTime=t,this._loopThroughElements()):this._loopTimeout||(this._loopTimeout=setTimeout(function(){this._previousLoopTime=Date.now(),this._loopTimeout=null,this._loopThroughElements()}.bind(this),n))}else this._loopThroughElements()},loadAll:function(){this._loopThroughElements(!0)},update:function(e){var n=this._settings,r=e||this._queryOriginNode.querySelectorAll(n.elements_selector);this._elements=Array.prototype.slice.call(r).filter(function(e){return!t(e)}),f?this.loadAll():(this._loopThroughElements(),this._startScrollHandler())},destroy:function(){window.removeEventListener("resize",this._boundHandleScroll),this._loopTimeout&&(clearTimeout(this._loopTimeout),this._loopTimeout=null),this._stopScrollHandler(),this._elements=null,this._queryOriginNode=null,this._settings=null},load:function(e,n){!function(e,n,r){var o=n._settings;!r&&t(e)||(_(o.callback_enter,e),E.indexOf(e.tagName)>-1&&(function(e,t){var n=function n(o){P(o,!0,t),S(e,n,r)},r=function r(o){P(o,!1,t),S(e,n,r)};!function(e,t,n){w(e,"load",t),w(e,"loadeddata",t),w(e,"error",n)}(e,n,r)}(e,n),g(e,o.class_loading)),k(e,n),function(e){(function(e,t,n){var r="data-was-processed";e.setAttribute(r,n)})(e,0,"true")}(e),_(o.callback_set,e))}(e,this,n)}},p&&function(e,t){if(t)if(t.length)for(var n,r=0;n=t[r];r+=1)u(e,n);else u(e,t)}(x,window.lazyLoadOptions),x},"object"===s(t)&&void 0!==e?e.exports=i():void 0===(o="function"==typeof(r=i)?r.call(t,n,t,e):r)||(e.exports=o)},function(e,t,n){"use strict";var r,o,i,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s="function"==typeof Symbol&&"symbol"===a(Symbol.iterator)?function(e){return void 0===e?"undefined":a(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":void 0===e?"undefined":a(e)};!function(a,s){o=[n(9)],void 0===(i="function"==typeof(r=s)?r.apply(t,o):r)||(e.exports=i)}(0,function(e){var t=navigator.userAgent,n=/Edge/i.test(t),r=function(r){this.origHtmlMargin=parseFloat(e("html").css("margin-top")),this.options=e.extend({},e.smartbanner.defaults,r);var o=navigator.standalone;if(this.options.force?this.type=this.options.force:null!==t.match(/Windows Phone/i)&&null!==t.match(/Edge|Touch/i)?this.type="windows":null!==t.match(/iPhone|iPod/i)||t.match(/iPad/)&&this.options.iOSUniversalApp?null!==t.match(/Safari/i)&&(null!==t.match(/CriOS/i)||null!=t.match(/FxiOS/i)||window.Number(t.substr(t.indexOf("OS ")+3,3).replace("_","."))<6)&&(this.type="ios"):t.match(/\bSilk\/(.*\bMobile Safari\b)?/)||t.match(/\bKF\w/)||t.match("Kindle Fire")?this.type="kindle":null!==t.match(/Android/i)&&(this.type="android"),this.type&&!o&&!this.getCookie("sb-closed")&&!this.getCookie("sb-installed")){this.scale="auto"==this.options.scale?e(window).width()/window.screen.width:this.options.scale,this.scale<1&&(this.scale=1);var i=e("android"==this.type?'meta[name="google-play-app"]':"ios"==this.type?'meta[name="apple-itunes-app"]':"kindle"==this.type?'meta[name="kindle-fire-app"]':'meta[name="msApplication-ID"]');if(i.length){if("windows"==this.type)n&&(this.appId=e('meta[name="msApplication-PackageEdgeName"]').attr("content")),this.appId||(this.appId=e('meta[name="msApplication-PackageFamilyName"]').attr("content"));else{var a=/app-id=([^\s,]+)/.exec(i.attr("content"));if(!a)return;this.appId=a[1]}this.title=this.options.title?this.options.title:i.data("title")||e("title").text().replace(/\s*[|\-\xb7].*$/,""),this.author=this.options.author?this.options.author:i.data("author")||(e('meta[name="author"]').length?e('meta[name="author"]').attr("content"):window.location.hostname),this.iconUrl=i.data("icon-url"),this.price=i.data("price"),"function"==typeof this.options.onInstall?this.options.onInstall=this.options.onInstall:this.options.onInstall=function(){},"function"==typeof this.options.onClose?this.options.onClose=this.options.onClose:this.options.onClose=function(){},this.create(),this.show(),this.listen()}}};r.prototype={constructor:r,create:function(){var t,r=this.price||this.options.price,o=this.options.url||function(){switch(this.type){case"android":return"market://details?id=";case"kindle":return"amzn://apps/android?asin=";case"windows":return n?"ms-windows-store://pdp/?productid=":"ms-windows-store:navigate?appid="}return"https://itunes.apple.com/"+this.options.appStoreLanguage+"/app/id"}.call(this)+this.appId,i=r?function(){var e=r+" - ";switch(this.type){case"android":return e+this.options.inGooglePlay;case"kindle":return e+this.options.inAmazonAppStore;case"windows":return e+this.options.inWindowsStore}return e+this.options.inAppStore}.call(this):"",a=null==this.options.iconGloss?"ios"==this.type:this.options.iconGloss;"android"==this.type&&this.options.GooglePlayParams&&(o+="&referrer="+this.options.GooglePlayParams);var s='<div id="smartbanner" class="'+this.type+'"><div class="sb-container"><a href="#" class="sb-close">&times;</a><span class="sb-icon"></span><div class="sb-info"><strong>'+this.title+"</strong><span>"+this.author+"</span><span>"+i+'</span></div><a href="'+o+'" class="sb-button"><span>'+this.options.button+"</span></a></div></div>";this.options.layer?e(this.options.appendToSelector).append(s):e(this.options.appendToSelector).prepend(s),this.options.icon?t=this.options.icon:this.iconUrl?t=this.iconUrl:e('link[rel="apple-touch-icon-precomposed"]').length>0?(t=e('link[rel="apple-touch-icon-precomposed"]').attr("href"),null==this.options.iconGloss&&(a=!1)):e('link[rel="apple-touch-icon"]').length>0?t=e('link[rel="apple-touch-icon"]').attr("href"):e('meta[name="msApplication-TileImage"]').length>0?t=e('meta[name="msApplication-TileImage"]').attr("content"):e('meta[name="msapplication-TileImage"]').length>0&&(t=e('meta[name="msapplication-TileImage"]').attr("content")),t?(e("#smartbanner .sb-icon").css("background-image","url("+t+")"),a&&e("#smartbanner .sb-icon").addClass("gloss")):e("#smartbanner").addClass("no-icon"),this.bannerHeight=e("#smartbanner").outerHeight()+2,this.scale>1&&(e("#smartbanner").css("top",parseFloat(e("#smartbanner").css("top"))*this.scale).css("height",parseFloat(e("#smartbanner").css("height"))*this.scale).hide(),e("#smartbanner .sb-container").css("-webkit-transform","scale("+this.scale+")").css("-msie-transform","scale("+this.scale+")").css("-moz-transform","scale("+this.scale+")").css("width",e(window).width()/this.scale)),e("#smartbanner").css("position",this.options.layer?"absolute":"static")},listen:function(){e("#smartbanner .sb-close").on("click",e.proxy(this.close,this)),e("#smartbanner .sb-button").on("click",e.proxy(this.install,this))},show:function(t){var n=e("#smartbanner");n.stop(),this.options.layer?(n.animate({top:0,display:"block"},this.options.speedIn).addClass("shown").show(),e(this.pushSelector).animate({paddingTop:this.origHtmlMargin+this.bannerHeight*this.scale},this.options.speedIn,"swing",t)):e.support.transition?(n.animate({top:0},this.options.speedIn).addClass("shown"),e(this.pushSelector).addClass("sb-animation").one(e.support.transition.end,function(){e("html").removeClass("sb-animation"),t&&t()}).emulateTransitionEnd(this.options.speedIn).css("margin-top",this.origHtmlMargin+this.bannerHeight*this.scale)):n.slideDown(this.options.speedIn).addClass("shown")},hide:function(t){var n=e("#smartbanner");n.stop(),this.options.layer?(n.animate({top:-1*this.bannerHeight*this.scale,display:"block"},this.options.speedIn).removeClass("shown"),e(this.pushSelector).animate({paddingTop:this.origHtmlMargin},this.options.speedIn,"swing",t)):e.support.transition?("android"!==this.type?n.css("top",-1*this.bannerHeight*this.scale).removeClass("shown"):n.css({display:"none"}).removeClass("shown"),e(this.pushSelector).addClass("sb-animation").one(e.support.transition.end,function(){e("html").removeClass("sb-animation"),t&&t()}).emulateTransitionEnd(this.options.speedOut).css("margin-top",this.origHtmlMargin)):n.slideUp(this.options.speedOut).removeClass("shown")},close:function(e){e.preventDefault(),this.hide(),this.setCookie("sb-closed","true",this.options.daysHidden),this.options.onClose(e)},install:function(e){this.options.hideOnInstall&&this.hide(),this.setCookie("sb-installed","true",this.options.daysReminder),this.options.onInstall(e)},setCookie:function(e,t,n){var r=new Date;r.setDate(r.getDate()+n),t=encodeURI(t)+(null==n?"":"; expires="+r.toUTCString()),document.cookie=e+"="+t+"; path=/;"},getCookie:function(e){var t,n,r,o=document.cookie.split(";");for(t=0;t<o.length;t++)if(n=o[t].substr(0,o[t].indexOf("=")),r=o[t].substr(o[t].indexOf("=")+1),(n=n.replace(/^\s+|\s+$/g,""))==e)return decodeURI(r);return null},switchType:function(){var t=this;this.hide(function(){t.type="android"==t.type?"ios":"android";var n=e("android"==t.type?'meta[name="google-play-app"]':'meta[name="apple-itunes-app"]').attr("content");t.appId=/app-id=([^\s,]+)/.exec(n)[1],e("#smartbanner").detach(),t.create(),t.show()})}},e.smartbanner=function(t){var n=e(window),o=n.data("smartbanner"),i="object"==(void 0===t?"undefined":s(t))&&t;o||n.data("smartbanner",o=new r(i)),"string"==typeof t&&o[t]()},e.smartbanner.defaults={title:null,author:null,price:"FREE",appStoreLanguage:"us",inAppStore:"On the App Store",inGooglePlay:"In Google Play",inAmazonAppStore:"In the Amazon Appstore",inWindowsStore:"In the Windows Store",GooglePlayParams:null,icon:null,iconGloss:null,button:"VIEW",url:null,scale:"auto",speedIn:300,speedOut:400,daysHidden:15,daysReminder:90,force:null,hideOnInstall:!0,layer:!1,iOSUniversalApp:!0,appendToSelector:"body",pushSelector:"html"},e.smartbanner.Constructor=r,void 0===e.support.transition&&(e.fn.emulateTransitionEnd=function(t){var n=!1,r=this;return e(this).one(e.support.transition.end,function(){n=!0}),setTimeout(function(){n||e(r).trigger(e.support.transition.end)},t),this},e(function(){e.support.transition=function(){var e=document.createElement("smartbanner"),t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var n in t)if(void 0!==e.style[n])return{end:t[n]};return!1}()}))})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=c(n(232)),i=c(n(0)),a=c(n(112)),s=c(n(313)),l=c(n(1));function c(e){return e&&e.__esModule?e:{default:e}}var u={panel2:{heading:"",headingPath:"",tags:[],parentTagId:null,isInitiallyCollapsed:!1,isOpen:!1,isLoading:!1,isFrozen:!1,hasSeoTags:!1,shouldAnimateAppearance:!1,onAppear:null,onClose:null,onCollapse:null},panel3:{heading:"",headingPath:"",tags:[],parentTagId:null,isInitiallyCollapsed:!1,isOpen:!1,isLoading:!1,isFrozen:!1,hasSeoTags:!1,shouldAnimateAppearance:!1,onAppear:null,onClose:null,onCollapse:null},state:{isFrozen:!1},init:function(){var e=this;this.Tag=new s.default;var t=document.querySelector(".genome-sidebar .genome-search-toggle");t&&t.addEventListener("click",function(t){e.handleSearchToggleClick(t)});var n=document.querySelectorAll(".genome-sidebar .non-react .genome-sidebar-panel .tags-list .tag");n&&n.length>0&&n.forEach(function(t,n){t.addEventListener("click",function(t){e.handleTagClick(t)})});var r=document.querySelectorAll(".genome-sidebar .panel-1.non-react .genome-sidebar-panel .tags-list .tag");r&&r.length>0&&r.forEach(function(t,n){l.default.onLinger(t,function(t){e.handlePanel1TagLinger(t)})});var o=document.querySelectorAll(".genome-sidebar .panel-2.non-react .genome-sidebar-panel .tags-list .tag");o&&o.length>0&&o.forEach(function(t,n){t.classList.contains("branch")&&l.default.onLinger(t,function(t){e.handlePanel2TagLinger(t)})});var i=document.querySelectorAll(".genome-sidebar .non-react .genome-sidebar-panel .tags-list .tag .tag-js-link");i&&i.length>0&&i.forEach(function(t,n){t.addEventListener("click",function(t){e.handleJsTagLinkClick(t)})});var a=document.querySelector(".genome-sidebar");a&&a.addEventListener("mouseleave",function(t){e.handleSidebarMouseleave(t)})},renderGenomeSidebarPanel2:function(e){this.panel2=r({},this.panel2,e);var t=document.querySelector(".genome-sidebar .genome-sidebar-panels .panel-2.react");a.default.render(i.default.createElement(o.default,{key:"panel2",panel:2,heading:this.panel2.heading,headingPath:this.panel2.headingPath,tags:this.panel2.tags,isInitiallyCollapsed:this.panel2.isInitiallyCollapsed,isOpen:this.panel2.isOpen,isLoading:this.panel2.isLoading,hasSeoTags:this.panel2.hasSeoTags,shouldAnimateAppearance:this.panel2.shouldAnimateAppearance,onAppear:this.panel2.onAppear,onClose:this.panel2.onClose,onCollapse:this.panel2.onCollapse}),t)},renderGenomeSidebarPanel3:function(e){this.panel3=r({},this.panel3,e);var t=document.querySelector(".genome-sidebar .genome-sidebar-panels .panel-3.react");a.default.render(i.default.createElement(o.default,{key:"panel3",panel:3,heading:this.panel3.heading,headingPath:this.panel3.headingPath,tags:this.panel3.tags,isInitiallyCollapsed:this.panel3.isInitiallyCollapsed,isOpen:this.panel3.isOpen,isLoading:this.panel3.isLoading,hasSeoTags:this.panel3.hasSeoTags,shouldAnimateAppearance:this.panel3.shouldAnimateAppearance,onAppear:this.panel3.onAppear,onClose:this.panel3.onClose,onCollapse:this.panel3.onCollapse}),t)},handleSearchToggleClick:function(e){document.querySelector("body").classList.add("show-search-bar")},handleTagClick:function(e){this.freezeSidebar(),document.querySelector(".genome-page .genome-page-content").classList.add("is-loading"),e.target.closest(".panel-container").getAttribute("data-level"),this.renderGenomeSidebarPanel2({isOpen:!1})},handleJsTagLinkClick:function(e,t){e.stopPropagation(),this.freezeSidebar(),location.href=e.target.getAttribute("data-path")},handlePanel1TagLinger:function(e){var t=this;if(this.state.isFrozen)return!1;var n=document.querySelector(".genome-sidebar .genome-sidebar-panels .panel-2.react .genome-sidebar-panel"),r=document.querySelector(".genome-sidebar .genome-sidebar-panels .panel-3.non-react .genome-sidebar-panel"),o=document.querySelector(".genome-sidebar .genome-sidebar-panels .panel-3.react .genome-sidebar-panel"),i=e.target.querySelector(".tag-link"),a=i.innerText,s=i.getAttribute("data-path"),l=(i.getAttribute("data-key"),i.getAttribute("data-id"));this.panel2.parentTagId=l,this.renderGenomeSidebarPanel2({heading:a,headingPath:s,tags:[],isOpen:!!n,isLoading:!0,shouldAnimateAppearance:!0,onAppear:function(){t.renderGenomeSidebarPanel2({isOpen:!0,isLoading:0==t.panel2.tags.length})},onClose:function(){t.renderGenomeSidebarPanel2({isOpen:!1})}}),r&&(r.classList.remove("is-open"),r.classList.add("is-closed")),o&&this.renderGenomeSidebarPanel3({isOpen:!1}),this.getTagChildren(l,function(e,n){return e!=t.panel2.parentTagId?null:t.state.isFrozen?null:void t.renderGenomeSidebarPanel2({heading:a,headingPath:s,tags:n,isOpen:!0,isLoading:!1})})},handlePanel2TagLinger:function(e){var t=this;if(this.state.isFrozen)return!1;var n=document.querySelector(".genome-sidebar .genome-sidebar-panels .panel-3.react .genome-sidebar-panel"),r=(document.querySelector(".genome-sidebar .genome-sidebar-panels .panel-3.non-react .genome-sidebar-panel"),e.target.querySelector(".tag-link")),o=r.innerText,i=r.getAttribute("data-path"),a=(r.getAttribute("data-key"),r.getAttribute("data-id"));this.panel3.parentTagId=a,this.renderGenomeSidebarPanel3({heading:o,headingPath:i,tags:[],isOpen:!!n,isLoading:!0,shouldAnimateAppearance:!0,onAppear:function(){t.renderGenomeSidebarPanel3({isOpen:!0,isLoading:0==t.panel3.tags.length})},onClose:function(){t.renderGenomeSidebarPanel3({isOpen:!1})}}),this.getTagChildren(a,function(e,n){if(e!=t.panel3.parentTagId)return null;t.renderGenomeSidebarPanel3({heading:o,headingPath:i,tags:n,isOpen:!0,isLoading:!1})})},handleSidebarMouseleave:function(e){if(this.state.isFrozen)return!1;var t=document.querySelector(".genome-sidebar .genome-sidebar-panels .panel-2.react .genome-sidebar-panel"),n=document.querySelector(".genome-sidebar .genome-sidebar-panels .panel-3.react .genome-sidebar-panel"),r=document.querySelector(".genome-sidebar .genome-sidebar-panels .panel-2.non-react .genome-sidebar-panel"),o=document.querySelector(".genome-sidebar .genome-sidebar-panels .panel-3.non-react .genome-sidebar-panel");t&&this.renderGenomeSidebarPanel2({isOpen:!1}),n&&this.renderGenomeSidebarPanel3({isOpen:!1}),r&&(r.classList.remove("is-closed"),r.classList.add("is-open")),o&&(o.classList.remove("is-closed"),o.classList.add("is-open"))},getTagChildren:function(e,t){this.Tag.children({tagId:e,done:function(n){t&&t(e,n)},fail:function(e){console.log("something went wrong in Tag.children. message:",e)}})},freezeSidebar:function(){this.state.isFrozen=!0,this.renderGenomeSidebarPanel2({isFrozen:!0}),this.renderGenomeSidebarPanel3({isFrozen:!0})}};t.default=u,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e&&e.__esModule}(n(1));var r={marketSearchConversionId:null,ugsSearchConversionId:null,init:function(){this.setConversionIds(),this.wireMarketSearchResultBars(),this.wireUgsSearchResultBars(),this.removeOriginParam()},setConversionIds:function(){var e=document.querySelector("meta[name='marketSearchConversionId']"),t=document.querySelector("meta[name='ugsSearchConversionId']");this.marketSearchConversionId=e?e.getAttribute("content"):null,this.ugsSearchConversionId=t?t.getAttribute("content"):null},wireMarketSearchResultBars:function(){var e=this,t=document.querySelectorAll(".market-search-results .subject-bar.certified .subject-bar-link");t.length>0&&t.forEach(function(t,n){t.addEventListener("click",function(t){return e.handleSearchResultBarClick(t,"market")})})},wireUgsSearchResultBars:function(){var e=this,t=document.querySelectorAll(".market-search-results .subject-bar.ugs .subject-bar-link");t.length>0&&t.forEach(function(t,n){t.addEventListener("click",function(t){return e.handleSearchResultBarClick(t,"ugs")})})},handleSearchResultBarClick:function(e,t){e.preventDefault(),e.stopPropagation();var n=e.target,r=n.getAttribute("href"),o=n.getAttribute("data-id"),i=void 0,a=r+"?origin=genome";window.open(a,"_blank"),"market"==t&&this.marketSearchConversionId?i=this.marketSearchConversionId:"ugs"==t&&this.ugsSearchConversionId&&(i=this.ugsSearchConversionId),i?this.reportSearchConversion(o,i).then(function(e){console.log("Search Conversion reported:",e)}).catch(function(e){console.log("Something went wrong with search conversion update. err:",e)}):console.log("No Search Conversion reported for this link:",r)},reportSearchConversion:function(e,t,n){return fetch("/api/search_results/"+t+"/result/"+e+"/convert")},removeOriginParam:function(){var e=window.location.href;-1!=e.indexOf("?origin=genome")&&(e=e.split("?")[0],window.history.replaceState({},document.title,e))}};t.default=r,e.exports=t.default},function(e,t,n){"use strict";(function(r){Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(1));function i(e){return e&&e.__esModule?e:{default:e}}i(n(0)),i(n(112));var a={init:function(){var e=this,t=document.querySelector(".genome-top-page .genome-search-toggle");t&&t.addEventListener("click",function(t){e.handleToggleClick(t)}),this.setupLegacyBehaviors()},handleToggleClick:function(e){document.querySelector("body").classList.add("show-search-bar")},setupLegacyBehaviors:function(){var e=r(".top-nav"),t=r(window);e.on("click",".user-options",function(t){t.preventDefault(),t.stopPropagation(),e.find(".user-options .dropdown-menu").show(),e.find(".user-options .dropdown-menu").on("click.user-options-dropdown",function(e){e.stopPropagation()}),e.find(".user-options .user-name").on("click.user-options-user-name",function(t){t.preventDefault(),t.stopPropagation(),e.find(".user-options .dropdown-menu").hide(),r("body").off("click.user-options"),e.find(".user-options .dropdown-menu").off("click.user-options-dropdown"),e.find(".user-options .user-name").off("click.user-options-user-name")}),r("body").on("click.user-options",function(t){t.preventDefault(),t.stopPropagation(),e.find(".user-options .dropdown-menu").hide(),r("body").off("click.user-options"),e.find(".user-options .dropdown-menu").off("click.user-options-dropdown"),e.find(".user-options .user-name").off("click.user-options-user-name")})}),e.on("click",".account-control.upgrade a",function(e){e.preventDefault(),e.stopPropagation(),location.href="/pricing?paywall=upgrade"});var n=document.querySelector(".site-section.flashcards");function i(){e.find(".site-section.flashcards").off("mouseleave.flashcards"),e.find(".site-section.flashcards .close-dropdown").off("click.close-dropdown"),e.find(".site-section.flashcards .nav-link").off("click.flashcards-link"),e.find(".site-section.flashcards .subject-js-link").off("click.subject-js-link"),e.off("mouseleave.navbar")}n&&o.default.onLinger(n,function(t){t.preventDefault(),t.stopPropagation(),e.find(".site-section.flashcards .genome-dropdown").addClass("is-showing"),e.on("mouseleave.flashcards",".site-section.flashcards",function(t){t.preventDefault(),t.stopPropagation(),e.find(".site-section.flashcards .genome-dropdown").removeClass("is-showing"),i()}),e.on("mouseleave.navbar",function(t){t.preventDefault(),t.stopPropagation(),e.find(".site-section.flashcards .genome-dropdown").removeClass("is-showing"),i()}),e.find(".site-section.flashcards .close-dropdown").on("click.close-dropdown",function(t){t.preventDefault(),t.stopPropagation(),e.find(".site-section.flashcards .genome-dropdown").removeClass("is-showing"),i()}),e.find(".site-section.flashcards .nav-link").on("click.flashcards-link",function(t){var n;t.preventDefault(),t.stopPropagation(),e.find(".site-section.flashcards .genome-dropdown").removeClass("is-showing"),i(),n=r(this).closest("a").attr("href"),location=n||"/subjects"}),e.find(".site-section.flashcards .subject-js-link").on("click.subject-js-link",function(e){var t;e.preventDefault(),e.stopPropagation(),t=r(this).attr("data-link"),location=t||"/subjects"})}),e.on("click",".hamburger-menu-toggle.toggle-on",function(t){t.preventDefault(),t.stopPropagation(),e.addClass("hamburger-open")}),e.on("click",".hamburger-menu-toggle.toggle-off",function(t){t.preventDefault(),t.stopPropagation(),e.removeClass("hamburger-open")}),e.on("click",".site-section.more-toggle",function(t){t.preventDefault(),t.stopPropagation(),e.addClass("hamburger-open")}),t.on("scroll",function(){t.scrollTop()>200?e.addClass("scrolled-down"):e.removeClass("scrolled-down")})}};t.default=a,e.exports=t.default}).call(t,n(9))}]);